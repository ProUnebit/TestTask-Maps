{"version":3,"sources":["C:\\Users\\Алексей\\AppData\\Roaming\\npm\\node_modules\\parcel-bundler\\node_modules\\process\\browser.js","node_modules\\2gis-maps\\dist\\js\\script.full.js","js\\main.js"],"names":["process","module","exports","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","Error","defaultClearTimeout","setTimeout","e","clearTimeout","runTimeout","fun","call","runClearTimeout","marker","queue","draining","currentQueue","queueIndex","cleanUpNextTick","length","concat","drainQueue","timeout","len","run","nextTick","args","Array","arguments","i","push","Item","array","prototype","apply","title","browser","env","argv","version","versions","noop","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","name","binding","cwd","chdir","dir","umask","f","define","amd","g","window","global","self","DG","r","n","t","o","c","require","u","a","code","p","_dereq_","css","createStyle","reduce","callback","opt_initialValue","TypeError","index","value","isValueSet","hasOwnProperty","forEach","thisArg","T","k","kValue","O","Object","toString","keys","hasDontEnumBug","propertyIsEnumerable","dontEnums","dontEnumsLength","obj","result","prop","some","map","res","filter","val","Function","bind","oThis","aArgs","slice","fToBind","fNOP","fBound","indexOf","searchElement","fromIndex","undefined","Math","abs","Infinity","Promise","requireModule","requirejs","registry","seen","deps","_eak_seen","mod","reified","l","resolve","child","charAt","parts","split","parentBase","part","pop","join","__dependency1__","__exports__","isArray","isFunction","all","promises","reject","results","remaining","promise","resolver","resolveAll","then","browserGlobal","BrowserMutationObserver","MutationObserver","WebKitMutationObserver","local","useNextTick","flush","useMutationObserver","iterations","observer","node","document","createTextNode","observe","characterData","data","useSetTimeout","tuple","arg","scheduleFlush","asap","config","instrument","configure","__dependency2__","RSVPPromise","polyfill","es6PromiseSupport","__dependency3__","__dependency4__","__dependency5__","__dependency6__","__dependency7__","objectOrFunction","now","race","staticResolve","staticReject","counter","async","_subscribers","invokeResolver","resolvePromise","rejectPromise","reason","invokeCallback","settled","detail","hasCallback","error","succeeded","failed","handleThenable","FULFILLED","REJECTED","PENDING","SEALED","subscribe","parent","onFulfillment","onRejection","subscribers","publish","_detail","constructor","_state","thenPromise","callbacks","invokePromiseCallback","resolved","fulfill","publishFulfillment","publishRejection","x","Date","getTime","oldDG","DgApi","DgApiCore","L","__dgApi__","Icon","Default","imagePath","Map","addInitHook","inited","s","m","q","createElement","getElementsByTagName","src","parentNode","insertBefore","googleAnalytics","ga","gaCode","storage","gaName","sampleRate","newImg","Image","protocol","analytics","screen","width","height","include","addHandler","HandlerClass","options","param","handler","_handlers","enable","Browser","touchEnabled","DomUtil","addClass","_container","handlers","chain","err","console","plugin","plugins","count","jsReg","RegExp","cssReg","checkLoading","appendJS","link","js","setAttribute","onload","onerror","onreadystatechange","readyState","appendChild","appendCSS","isJs","url","test","isCss","appendAsset","asset","Util","ajax","win","doc","rurl","twoHundo","ajaxLocParts","ajaxLocation","byTag","contentType","requestedWith","head","uniqid","callbackPrefix","lastValue","xmlHttpRequest","xDomainRequest","defaultHeaders","accept","xml","html","text","json","xhr","crossDomain","XMLHttpRequest","XDomainRequest","globalSetupOptions","dataFilter","location","href","exec","toLowerCase","handleReadyState","success","_aborted","request","status","setHeaders","http","headers","h","Accept","dataType","setRequestHeader","setCredentials","withCredentials","generalCallback","urlappend","handleJsonp","fn","reqId","cbkey","jsonpCallback","cbval","jsonpCallbackName","cbreg","match","script","loaded","isIE10","navigator","userAgent","replace","type","event","htmlFor","id","removeChild","onclick","abort","getRequest","method","toUpperCase","processData","Ajax","toQueryString","sendWait","open","onprogress","ontimeout","send","buildParams","prefix","traditional","add","v","rbracket","setType","isCrossDomain","doRequest","_erred","_responseArgs","complete","resp","filteredResponse","responseText","JSON","parse","eval","responseXML","parseError","errorCode","msg","requestPromise","resultPromise","setup","trad","enc","encodeURIComponent","key","testxhr","corsSupport","ie","host","search","Wkt","toGeoJSON","srid","shift","$","re","substring","crs","white","multicoords","depth","rings","stack","pointer","elem","parseFloat","coords","list","item","pt","point","coordinates","multipoint","multilinestring","linestring","polygon","multipolygon","geometrycollection","geometries","geometry","root","geoJsonLayer","opts","geoJson","_coordsToLatLngs","GeoJSON","coordsToLatLng","el","arr","coord","toLatLngs","toPoints","pointsToLatLngOnMap","wkt","parsePoints","points","containerPointToLatLng","ProjectDetector","Handler","extend","initialize","_map","_osmViewport","_project","_loadProjectList","addHooks","_projectWatch","removeHooks","getProject","getProjectsList","_projectList","isProjectHere","project","checkMethod","LatLng","LatLngBounds","latLng","latLngBounds","getSouthWest","wrap","getNorthEast","_testProjectIntersects","_testProjectContains","_loaded","_centerInProject","attributionControl","_update","_zoomInProject","_searchProject","country_code","_checkProjectData","check","bounds","domain","zoom_level","min","max","time_zone","offset","fallbackProjectsList","projectsList","bound","geoJSON","getBounds","defaultPos","default_pos","lat","lon","minZoom","maxZoom","timeOffset","traffic","flags","transport","public_transport","roads","road_network","filteredByZoom","foundProjects","mapBounds","mapCenter","getCenter","neareastProject","currentProject","distanceTo","newProject","fire","intersects","latlng","PolyUtil","inside","lng","getZoom","mergeOptions","projectDetector","Metric","Segments","getLength","getReverse","segments","getIndex","getSegRatio","sub","getSegLength","VertexTransform","Class","vertices","_vertices","_scale","_angle","_trans","_matrix","load","vertex","clone","save","setScale","scale","getScale","setAngle","angle","getAngle","setTranslation","trans","getTranslation","setMatrix","matrix","getMatrix","y","unScale","rotate","cos","sin","unRotate","translate","dx","dy","unTranslate","transform","b","d","statics","vt","Point","rx","ry","vec1","vec2","sqrt","getScaled","origin","sp","x1","y1","x2","y2","getAnglesSum","angle1","angle2","getAnglesDif","ArrowPathTransform","path","_lengths","_drawings","_setPath","subPath","drawings","arcs","lengths","ax","bx","cx","angles","getAngles","cot","tan","reverse","fullAngle","_arcs","ArcBezier","_setAngleAndDisplacement","vL","vR","displ","pathRatio","segIndex","segRatio","vertexIndexLeft","vertexIndexRight","drawingIndexLeft","drawingIndexRight","vertexLeft","vertexRight","arc","aed","getCurveBefore","getTbyL","absSin","temp","sign","splice","getTranslatedPath","latlngs","vector","ring","j","ArrowTipTransform","shape","_setShape","pl","subShape","ComplexPath","Path","fill","fillOpacity","interactive","setOptions","_empty","_pxEmpty","_pxBounds","getEvents","zoom","weight","visibility","isShown","setStyle","toFixed","_updatePath","_renderer","_updateComplexPath","Canvas","layer","closed","_x","_y","$x","$y","ctx","_ctx","_drawnLayers","_leaflet_id","beginPath","moveTo","lineTo","bezierCurveTo","quadraticCurveTo","closePath","_fillStroke","SVG","complexPointsToPath","str","svg","Bezier","dpoints","_getDerivatives","order","_lut","getPoint","mt","mt2","t2","derivative","w_i","WEIGHT","x_i","ABSCISSA","z","sum","z2","z3","mz","mz2","mz3","b$3","b$4","c$4","curve","getCurveAfter","getLUT","steps","_setLUT3","_setLUT2","lut","bezier","TimeBezier","controlPoint1","controlPoint2","START","END","getYbyX","mid","_setLutLengths","et","dt","pow","Animation","Evented","_animID","_startTime","_running","_animation","_durations","start","stop","_prepare","_animate","_run","animation","duration","requestAnimFrame","elapsed","progress","_step","_getFrameValues","_complete","cancelAnimFrame","frames","fr","to","from","LINEAR","EASE","EASE_IN","EASE_IN_OUT","EASE_OUT","Entrance","FeatureGroup","vectors","fillColor","strokeColor","enableAnimation","autoClose","LayerGroup","_bounds","_animations","bounce","BOUNCE_ANIMATION","PATH_ANIMATION","_initArrows","_isShown","onAdd","show","onRemove","hide","events","_removeEntrance","fitBounds","_layers","eachLayer","arrow","setVisibility","setFillColor","color","setStrokeColor","base","create","distance","addLayer","entrance","fitZoom","contains","_isAllowedZoom","_getFitZoom","setZoom","setView","animate","SHOW_FROM_ZOOM","Popup","remove","Arrow","_progress","_distance","_visibility","_position","_shape","SHAPE","_apt","_att","beforeAdd","preferCanvas","ielt9","projection","lineCap","lineJoin","zoomend","moveend","viewreset","_reset","_mapToAdd","lastPoint","prevPoint","latLngToLayerPoint","_setBounds","invoke","_resetBounds","pp","apt","att","Bounds","Label","Layer","className","zIndexOffset","textDirection","_typeOfString","_defaultZIndex","content","_animated","any3d","_content","_el","_initDOM","_visible","setContent","_onViewReset","_onZoomAnimation","falseFn","offsetWidth","getPanes","tooltipPane","style","zIndex","DomEvent","disableClickPropagation","stopPropagation","_latlng","setPosition","opt","_latLngToNewLayerPoint","center","setOffset","setZIndexOffset","isNaN","innerHTML","label","Marker","bindLabel","_label","static","unbindLabel","_onMarkerRemove","showLabel","_mouseOverLabel","_mouseOutLabel","_dragStartLabel","_dragEndLabel","_updateLabelZIndex","hideLabel","_updatePosition","getLabel","_originalUpdateZIndex","_updateZIndex","_zIndex","_icon","getLatLng","removeLayer","isMarkerDragging","isMouseOverMarker","_labelEvents","mouseover","mousemove","mouseout","configTheme","balloonOptions","offsetX","offsetY","originalInitialize","originalInitLayout","_initLayout","originalOnAdd","graf","baron","noConflict","BaronDomHelper","element","getAttribute","removeAttribute","getStyle","border","mapControlsWidth","_headerContent","_footerContent","_scroller","_scrollerBar","_barWrapper","_baron","_isBaronExist","_popupShowClass","_popupHideClass","_popupTipClass","_tipSVGPath","_isAutoPanPaddingUserDefined","source","_popupStructure","entranceshow","_closePopup","resize","_animateOpening","_animateClosing","TRANSITION","_removeTimeout","popup","_source","_isNode","_bodyContent","update","setHeaderContent","setFooterContent","getContent","getHeaderContent","getFooterContent","clear","_clearElement","clearHeader","clearFooter","findElement","_contentNode","querySelector","_innerContainer","removeClass","closePopup","nodeName","_onCloseButtonClick","_close","mobile","geoclicker","closeOnClick","closePopupOnClick","popupWasOpen","closeButton","_detachEl","_closeButton","_wrapper","tip","_tipContainer","svgClass","_updateScrollPosition","scrolled","_updateLayout","_scrollerWrapper","_onScroll","scrollTop","innerHeight","maxHeight","_getDelta","_isContentHeightEnough","_initBaronScroller","_initBaron","_adjustPan","_bindAdjustPanOnTransitionEnd","propertyName","TRANSITION_END","autoPan","containerHeight","offsetHeight","containerWidth","_containerWidth","layerPos","_containerLeft","_containerBottom","_zoomAnimated","_add","getPosition","autoPanPadding","maxWidth","containerPos","layerPointToContainerPoint","padding","paddingTL","autoPanPaddingTopLeft","paddingBR","autoPanPaddingBottomRight","size","getSize","panBy","popupHeight","body","contentNode","scrollerWrapper","scroller","barWrapper","_switchEvents","originalEvent","_onClick","target","srcElement","_moving","_onStart","_moved","first","touches","_startPoint","clientX","clientY","_toggleTouchEvents","_onEnd","_onMove","newPoint","subtract","context","bar","track","selector","func","mode","_initHeader","header","_initFooter","footer","_initBodyContainer","wrapper","_clearNode","_updatePopupStructure","delta","wrapperStyle","scrolledClass","margin","availableWidth","sprawling","minWidth","whiteSpace","_insertContent","hasChildNodes","firstChild","switcher","touch","_markerClass","_markerShowClass","_markerHideClass","_dgHideClass","openPopup","setLatLng","hasLayer","_popup","_shadow","Dictionary","ru","pluralRules","en","it","cs","es","ar","Locale","argument","lang","getLang","msgIsset","dictionaryMsg","exp","defaultLang","parseInt","template","setLang","currentLang","documentElement","getAttributeNS","RoundControl","Control","includes","Mixin","Events","position","iconClass","controlClass","_controlCLass","controlIconClass","_controlIconCLass","container","_disable","_link","_renderTranslation","_toggleControl","fireEvent","setState","state","roundControl","ie9","div","Boolean","safari51","safari","wasPreviouslyDisabled","localStorage","getItem","museum","opera12","Museum","wearesorry","_element","_text","children","getContainer","setItem","disable","markersData","iconSize","iconAnchor","bounceAtZoomLimits","controlAddTo","addTo","msPointer","msPointerEnabled","msMaxTouchPoints","PointerEvent","pointerEnabled","maxTouchPoints","documentTouch","DocumentTouch","icon","divIcon","utilSetOptions","clickable","nonBubblingEvents","_initContainer","_onMouseMove","_handleMouseOut","getContext","initMap","getBoundsZoom","setMaxZoom","_tileLayersNumber","_mapMaxZoomCache","wheelPxPerZoomLevel","metaLayers","reset","_lastMetalayer","entity","_restrictZoom","_zoom","_limitZoom","_limitCenter","maxBounds","_testAnimation","_stop","pan","animated","_tryAnimatedZoom","_tryAnimatedPan","_sizeTimer","_resetView","getTileLayersNumber","enabled","projectFrom","projectTo","_updateTileLayers","TileLayer","_isDg","_getNewBounds","screenSize","divideBy","sw","unproject","ne","mapOptions","isMapMaxZoom","dgTileLayer","baseLayer","detectRetina","retina","projectLeaveMaxZoom","maxNativeZoom","_updateZoomLevels","_fireDOMEvent","targets","keyCode","synth","_stopped","_findEventTargets","listens","preventDefault","isMarker","containerPoint","latLngToContainerPoint","mouseEventToContainerPoint","layerPoint","containerPointToLayerPoint","layerPointToLatLng","metalayer","_getCurrentMetaLayer","_fireMetalayerEvent","eventTarget","tagName","metaEntity","getHoveredObject","listener","mapEvents","dragging","tap","errorUrl","errorRuUrl","baseUrl","MobileTileLayer","BaseLayer","getTiles","_tiles","tileUrl","retinaTileServer","tileServer","arabicTileUrl","arabicRetinaTileServer","arabicTileServer","previewTileUrl","previewRetinaTileServer","previewTileServer","arabicPreviewTileUrl","arabicPreviewRetinaTileServer","arabicPreviewTileServer","subdomains","errorTileUrl","updateWhenIdle","previewUrl","currentTilesLang","updateTileUrl","setUrl","setPreviewUrl","langchange","projectchange","projectleave","tilesCheck","TilesCheck","_layer","_moveStartEventCounter","_moveEndEventCounter","_loadingEventCounter","_loadEventCounter","_mapEvents","_layerEvents","layeradd","layerremove","movestart","_stopWaiting","_isWaiting","_isMoveEnd","_checkWaiting","loading","_isLoad","_resetCounters","_checkTiles","tiles","zoomOut","onDragEnd","Drag","_onDragEnd","_rememberTimeAndPosition","time","_lastTime","pos","_lastPos","_draggable","_absPos","_newPos","_positions","_times","_onDrag","inertia","pointReduce","_defaultPointReduce","polys","insidePoly","_inRing","inHole","isInside","pi","pj","xi","yi","xj","yj","intersect","Draggable","_simulated","_enabled","clickTolerance","_startPos","_lastTarget","SVGElementInstance","correspondingUseElement","_round","_animRequest","_lastEvent","noInertia","direction","ease","easeLinearity","speedVector","multiplyBy","speed","limitedSpeed","inertiaMaxSpeed","limitedSpeedVector","decelerationDuration","round","_limitOffset","noMoveStart","_previewUrl","redraw","createTile","done","tile","_tileOnLoad","_tileOnError","crossOrigin","alt","getTileUrl","_initTile","tileSize","getTileSize","pointerEvents","onselectstart","onmousemove","android","android23","WebkitBackfaceVisibility","_updateLevels","_tileZoom","_levels","_removeTilesAtZoom","level","getPixelOrigin","_setZoomTransform","_level","pixelBounds","_getTiledPixelBounds","tileRange","_pxBoundsToTileRange","tileCenter","keepBuffer","noPruneRange","getBottomLeft","getTopRight","current","_setView","_isValidTile","_tileCoordsToKey","sort","_loading","_addTile","_needPreviewTile","_existTileFromLowerZoom","_existTilesFromHigherZoom","coords2","_floor","preview","tilePos","_getTilePos","wrapCoords","_wrapCoords","needPreview","_url","_tileReady","originalEl","replaceChild","active","_pruneTiles","_noTilesToLoad","_fadeAnimated","_getSubdomain","_getZoomForUrl","infinite","invertedY","_globalTileRange","tms","Zoom","zoomName","buttonTemplate","_zoomInButton","_createButton","_zoomIn","_zoomOutButton","_zoomOut","_updateDisabled","_originalCreateButton","linkActiveClass","iconActiveClass","zoom_in","zoom_out","dust","render","Attribution","_getLink","linkType","dictionary","copyright_logo","copyright_apilink","copyright_license","cz","cl","cy","ae","countryCode","_countryCode","_copyright","_first","getAttribution","addAttribution","osm","_osm","attribs","_attributions","prefixAndAttribs","copyright","_getAttributionHTML","_getData","control","attribution","license_agreement","work_on","work_on_with_osm","Location","drawCircle","follow","stopFollowingOnDrag","metric","onLocationError","onLocationOutsideMapBounds","locateOptions","geolocation","_event","_locateOptions","watch","maximumAge","_resetVariables","_handleLocate","_initLocate","_onLocationFound","_onLocationError","_active","_isOutsideMapBounds","_stopLocate","_locateOnNextLocationFound","locate","_startFollowing","_clearError","_visualizeLocation","accuracy","_following","_stopFollowing","radius","opacity","_circle","circle","setRadius","markerClass","_marker","stopLocate","clearLayers","_error","_errorText","locationControl","addControl","cant_find","you_are_here","button_title","Screenfull","_apiMap","api","_api","requestFullscreen","Element","ALLOW_KEYBOARD_INPUT","exit","exitFullscreen","isFullscreen","fullscreenElement","isAvailable","apiMap","screenfull","Fullscreen","_isFullscreen","_toggleFullscreen","_toggle","invalidateSize","isEnabled","fullscreenchange","_onFullScreenStateChange","fullscreen","fullscreenControl","title_max","title_min","Meta","zoomOffset","eventBubbling","_currentTileKey","_currentTileData","_lastEntity","_dispatchMouseEvents","_origin","getOrigin","_disableDispatchMouseEvents","_enableDispatchMouseEvents","isPoi","_onTileLoadStart","viewprereset","_invalidateAll","_onMoveEnd","setURL","mouseEventToLayerPoint","tileOriginPoint","tileCoord","unscaleBy","floor","mouseTileOffset","tileKey","getTileKey","_getHoveredObject","getTileData","tileData","_removeAllTiles","GridLayer","_resetGrid","_animatingZoom","click","_mouseDown","dblclick","mousedown","contextmenu","mouseEvent","meta","mouseEventToLatLng","isDragging","_pointReduceHelper","noPrune","noUpdate","tileZoom","tileZoomChanged","Origin","_requests","_tileStorage","clb","currentRequest","_requestData","setTileData","_performRequest","_prepareURL","poi","Poi","disableLabel","retinaPoiMetaServer","poiMetaServer","_metaLayer","poiLayerMinZoom","_processData","_currentTilesLang","_labelHelper","_layerEventsListeners","_updateUrl","getMetaLayer","arabicUrl","arabicRetinaPoiMetaServer","arabicPoiMetaServer","scaleBy","polygonLngLatToPoints","_polygonLngLatToPoints","hovers","hover","hint","links","linked","originPoint","contour","lngLat","_setCursor","cursor","Geoclicker","clickCount","pendingClick","_controller","Controller","_toggleEvents","_pause","_unpause","_checkOpenPopup","flag","_mapEventsListeners","_onMetaClick","getController","reinvokeHandler","popupclose","handlePopupClose","_singleClick","handleClick","clampHelper","lineClamp","measure","lineWidth","lineStart","lineCount","wordStart","line","lineText","wasNewLine","ce","ctn","ownerDocument","clientWidth","textContent","innerText","substr","Provider","CatalogApi","apiUrl","webApiServer","webApiVersion","_urlGeoSearch","_urlGeoGet","_urlDetails","_urlFirmsInHouse","_key","geoclickerCatalogApiKey","_geoFields","geoAdditionalFields","_firmInfoFields","firmInfoFields","getLocations","beforeRequest","types","getTypesByZoom","geoSearch","_filterResponse","firmsInHouse","houseId","parameters","params","building_id","page","getFirmInfo","firmId","fields","zoomlevel","geoGet","cancelLastRequest","_lastRequest","selectedTypes","format","_timeoutMs","response","allowedTypes","found","_isNotFound","items","subtype","_eventHandlers","controller","view","_view","handle","tmpl","addClickEvent","_runEventHandlers","_removeClickEvent","_addEventHandler","eventClass","_clearEventHandlers","_getDirectionsUrl","ppnotLink","_getDrilldown","object","admDivs","adm_div","admDiv","address","postcode","HandlerExample","ApiError","CityArea","_polylineStyleDefault","noClip","_polylineStyles","_stylesInited","_initStyles","_geometry","getPopup","_geometryZoomStyle","_getPolyStyleNum","selection","_updateGeometry","_clearPopup","_fillCityAreaObject","drilldown","purpose","mapZoom","newStyle","House","_firmsOnPage","_scrollThrottleInterval","_scrollHeightReserve","building","firmCard","_page","_houseObject","_firmList","_firmListObject","_firmCardObject","_isFirmlistOpen","_id","_totalPages","getCatalogApi","_initedPopupClose","_directionsUrl","_firmListLoader","initLoader","_fillHouseObject","_isRouteSearchAllowed","getMap","_firmCardSetup","renderTemplate","timezoneOffset","isMobile","showEntrance","gotoUrl","onFirmReady","_onFirmReady","onToggle","showBooklet","showPhotos","showRouteSearch","_fillFirmCardObject","FirmCard","_initPopupClose","_firmListSetup","backBtn","_showHousePopup","onFirmClick","_onFirmListClick","onShowLess","pasteLoader","_pasteLoader","firmlistItemTmpl","onListReady","_renderFirmList","_initShortFirmList","firms","_shortFirmList","List","renderList","_initFirmList","_showListPopup","_toggleEventHandlers","_fillFirmListObject","_clearAndRenderPopup","firmList","_header","btns","afterRender","firmContentObject","headerTitle","webkit","loaderWrapper","loader","_onPopupClose","throttle","_handlePopupScroll","clearList","_firmId","_initShowMore","popupObject","renderPopup","_appendFirmList","addFirms","scrollHeight","_handlePaging","_getAddressString","house","components","component","street","number","_fillBody","filials","branches","building_name","purpose_name","floors","ground_count","ceil","attractions","attraction","_fillHeader","_fillFooter","houseFilials","_getShowAllData","filialsCount","reference","Sight","_fillSightObject","buildingName","subtype_name","description","drillDown","_checkDescFieldHeight","showMoreText","_needShowMore","_showMoreText","_desc","desc","View","minHeight","isSmall","small","anim","_detectCssAnimation","showPopup","openOn","beforeRender","domPrefixes","elm","animationName","_options","_catalogApi","_renderHandlerResult","_lastHandleClickArguments","handleResponse","_runHandler","findHandler","handlersSequence","_initHandlerOnce","handlerResult","apiErrorTitle","apiErrorBody","we_have_not","noname","go_to","show_organization_in_building","show_more_about_sight","back_button","n_floors","firm","_setOptions","_firmContentObject","_schedule","Schedule","localLang","dict","_renderCardById","getSchedule","_firmData","_convertWebsite","_renderFirmCard","_renderError","_createFirmContainer","_getPaymentTypes","groupName","attribute_groups","group","attributes","attr","tag","_groupRubrics","primary","additional","rubrics","rubric","kind","contact_groups","contacts","contact","firmCardBody","schedule","forecast","paymentTypes","zoneOffset","apiLang","_buildFirmCardBody","_getConfigFirmCardBody","_fillHeaderLinks","_fillFooterButtons","_footerContainer","address_name","comment","address_comment","groups","payments","entrances","reviewData","reviews","booklet","external_content","is_reviewable","rating","review_count","DataHelper","getFlampUrl","photos","externalContent","photosLink","_events","ent","_onToggleSchedule","_onClose","showClass","display","option","_hasTouch","payMethods","_msgs","flampUrl","flampGoogleAnalytics","log","getProjectTime","utc","getTimezoneOffset","_firms","_eventHandlersInited","_firmCard","_createFirm","_processFirms","action","_isArray","removeFirms","newLang","_clearContainer","_removeFirm","_addFirm","firmData","domFirm","_createListItem","insertAdjacentHTML","_isEmptyObj","model","todayKey","today","weekKeys","weekKeysLocal","weekFullKeysLocal","weekKeysShort","weekKeysFull","localWorkingDays","firstdayOffset","minHoursToDisplayClosure","capitaliseFirstLetter","string","getHours","getMinutes","formatTime","hours","dayNum","getArrayLast","isEqual","obj1","obj2","range","step","idx","fillDefaults","sortBy","iterator","pluck","criteria","left","right","rv","getSortedTimePoints","day","deltaHours","deltaMinutes","working_hours","getTimeStamps","timestamps","out","timePoints","num","tsp","setDate","getDate","setHours","setMinutes","ts","timestamp","whenOpenInverse","dayInterval","timestampEnd","dateStart","oneDay","dateEnd","diff","setTodayString","periods","always","dayNow","nowIsOpen","lunch","will","willType","willWhen","when","getDay","willTill","strHours","strMinutes","till","alltime","alltimeStr","lunchStr","makeTable","column","hasLunch","dayKey","lunchMaxLength","col","table","makeSimpleString","dayList","lunchesTime","round_the_clock","holiday","groupWorkingDays","flow","numKey","lastDay","budni","everyday","holidayStr","makeAdvancedString","days","apiDifferentDays","apiScheduleDaysCount","apiDifferentDaysCount","differentWorkingHoursCount","week","evently","apiSortedDifferentDays","interval","nowText","maxHours","btnBack","btnFindWay","btnEntrance","linkReviews","linkPhoto","linkBooklet","tommorow","afterTommorow","afterWeek","nextSun","nextMon","nextTue","nextWed","nextThu","nextFri","nextSat","willOpen","willClose","isOpen","openTill","closeIn","openAt","openIn","nHours","nMins","Lunch","workingDays","weekdays","restDay","reviewsOnFlamp","writeReviewOnFlamp","payment","worksAroundTheClock","aroundTheClock","knowMore","toClose","monday","tuesday","wednesday","thursday","friday","saturday","sunday","mon","tue","wed","thu","fri","sat","sun","toLunch","lessThenHour","youCouldLate","workingTime","showAllOrgInRubric","todayIsRestDay","internet","noncash","goldcrown","dinersclub","mastercard","maestrocard","visa","cash","americanexpress","hour","less","_in","isClosingOnDinner","Traffic","period","_tileUrl","retinaTrafficTileServer","trafficTileServer","_metaUrl","retinaTrafficMetaServer","trafficMetaServer","_timeUrl","trafficTimestampServer","_updateInterval","trafficLayerUpdateInterval","_layersOptions","trafficLayerMinZoom","timestampString","_onTimer","_updateLayerProject","_onMapProjectChange","_updateLang","_updateTimer","setInterval","clearInterval","_getTimestampString","_prepareMetaURL","getSubdomain","random","projectCode","trafficData","hints","graph_id","speed_text","speed_unit_km_h","_trafficClass","_controlHideClass","_trafficLayer","_controlEvents","_updateControlVisibility","_showTraffic","_hideTraffic","_updateTrafficScore","_handleDom","score","_scoreRate","_getTrafficColor","projectHasTraffic","_getTrafficScore","trafficScoreServer","trafficControl","Ruler","editable","back","middle","front","mouse","_points","_layersContainer","featureGroup","_lineMouseEvents","setLatLngs","_updateDistance","getPane","createPane","getTotalDistance","_calcDistance","spliceLatLngs","oldLength","mutationStart","removed","LayeredMarker","_createPoint","iconStyles","large","_pointEvents","_addCloseHandler","_legs","_addLegs","setPointStyle","_pos","_removeLegs","collapse","_updateLegs","_normalizeRulerPoints","_lineMarkerHelper","_fireChangeEvent","addLatLng","_normalizeLatLng","getLatLngs","unshift","_morphingNow","setText","_getFormatedDistance","insertPos","_point","_hovered","_addRunningLabel","_nearestPoint","originalEv","relatedTarget","_removeRunningLabel","bringToFront","previousPoint","pane","lastElementChild","_insertPointInLine","createEvent","initMouseEvent","defaultView","dispatchEvent","createEventObject","button","bubbles","cancelable","polyline","linePoints","minDistance","closestSegmentIndex","LineUtil","pointToSegmentDistance","closestPoint","closestPointOnSegment","_unproject","_deletePoint","pointStyle","layers","circleMarker","layeredMarker","draggable","curr","newLng","changedPoints","currPoint","normalized","equals","previous","skipPrevious","drag","dragend","dragstart","_degToRad","deg","PI","_radToDeg","rad","CRS","EPSG3857","latLngToPoint","pointToLatLng","_calcAngle","point1","point2","dotProduct","mag1","mag2","acos","_calcMidPoint","latlng1","latlng2","lon1","lat1","lon2","lat2","A","B","atan2","_adaptiveSample","leftMiddle","rightMiddle","angle3","minAngle","_calcGreatCircle","latitude","pathStyles","greatCirclePoints","_clearRemovingPointLegs","nextPoint","newPoints","finishPoint","tail","calcTo","units","ruler","keyboard","riseOnHover","iconHTML","domClass","_viewport","_style","_iconCollapsed","expand","_iconNodes","spacer","_initIcon","_setPos","_afterInit","rulerRenderer","hoverRenderer","renderer","smoothFactor","vml","km","delimiter","_drawingHelper","_geoclickerNeedRestore","_startDrawing","_finishDrawing","_handleMapClick","rulerControl","register","body_0","chk","w","get","body_1","body_2","__dustBody","getPath","body_3","body_4","body_6","body_8","body_9","body_5","body_7","body_10","nx","body_12","body_11","body_13","body_14","body_22","body_15","body_16","body_17","body_18","body_19","body_21","body_20","body_23","body_24","body_25","body_26","body_27","body_28","body_29","body_30","body_33","body_34","body_31","body_32","styleElementsInsertedAtTop","insertStyleElement","styleElement","lastStyleElementInsertedAtTop","insertAt","nextSibling","createLink","rel","cssText","extraOptions","sheet","styleSheet","factory","helper","_deprecatedCache","_deprecated","isSelect","__select__","getSelectState","addSelectState","newContext","rebase","isPending","isResolved","isDeferredComplete","deferreds","of","resolveSelectDeferreds","isDeferredPending","jsonFilter","truthTest","chunk","bodies","helperName","block","skip","selectState","willResolve","coerce","String","helpers","input","output","stringify","write","operand","end","isFinite","NONE","ERROR","WARN","INFO","DEBUG","EMPTY_FUNC","whitespace","cjs","cache","_aliases","initLogging","loggingLevels","consoleLog","message","debugLevel","templateName","nameOrTemplate","Stub","setError","stream","Stream","getTemplate","loadFromCache","isTemplateFn","Context","onLoad","srcOrTemplate","compile","loadSource","isEmpty","isEmptyObject","isThenable","isStreamable","pipe","auto","filters","escapeHtml","escapeJs","encodeURI","uc","escapeJSON","jp","blocks","Stack","_isContext","makeBase","isContext","getWithResolvedData","cur","down","_get","ctxThis","isObject","getTemplateName","getBlock","Chunk","shiftBlocks","locals","newBlocks","flushable","next","destEnded","taps","go","branch","Tap","untap","await","section","$len","$idx","exists","notexists","partial","partialContext","capture","ret","thenable","errorBody","ended","thunk","stub","HCHARS","AMP","LT","GT","QUOT","SQUOT","BS","FS","CR","LS","PS","NL","LF","SQ","DQ","TB","html5","reSkip","saveClones","supportsHtml5Styles","expando","expanID","expandoData","supportsUnknownElements","childNodes","frag","createDocumentFragment","cloneNode","addStyleSheet","lastChild","getElements","elements","addElements","newElements","shivDocument","getExpandoData","createElem","canHaveChildren","tagUrn","elems","shivMethods","createFrag","shivCSS","hasCSS","expose","oldL","dest","F","proto","stamp","lastId","lock","wrapperFn","later","wrapNum","includeMax","formatNum","digits","trim","splitWords","getParamString","existingUrl","uppercase","templateRe","emptyImageUrl","getPrefixed","lastTime","timeoutDefer","timeToCall","requestFn","requestAnimationFrame","cancelFn","cancelAnimationFrame","immediate","props","NewClass","callInitHooks","parentProto","__super__","_initHooks","_initHooksCalled","init","_on","_off","typeListeners","newListener","_firingCount","propagate","_propagateEvent","_eventParents","addEventParent","removeEventParent","addEventListener","removeEventListener","clearAllEventListeners","addOneTimeEventListener","hasEventListeners","ua","phantomjs","chrome","gecko","opera","platform","orientation","MSPointerEvent","ie3d","webkit3d","WebKitCSSMatrix","gecko3d","L_NO_TOUCH","edge","L_DISABLE_3D","mobileWebkit","mobileWebkit3d","mobileOpera","mobileGecko","devicePixelRatio","deviceXDPI","logicalXDPI","_subtract","_divideBy","_multiplyBy","_ceil","min2","max2","xIntersects","yIntersects","overlaps","xOverlaps","yOverlaps","isValid","Transformation","_a","_b","_c","_d","_transform","untransform","getElementById","currentStyle","getComputedStyle","empty","toFront","toBack","hasClass","classList","getClass","classes","setClass","baseVal","setOpacity","_setOpacityIE","filterName","Enabled","Opacity","testProp","setTransform","TRANSFORM","_leaflet_pos","top","transition","disableTextSelection","enableTextSelection","userSelectProperty","_userSelect","disableImageDrag","enableImageDrag","preventOutline","tabIndex","restoreOutline","_outlineElement","_outlineStyle","outline","maxMargin","precision","other","Earth","wrapLatLng","toBounds","sizeInMeters","latAccuracy","lngAccuracy","southWest","northEast","_southWest","_northEast","sw2","ne2","pad","bufferRatio","heightBuffer","widthBuffer","getNorthWest","getNorth","getWest","getSouthEast","getSouth","getEast","latIntersects","lngIntersects","latOverlaps","lngOverlaps","toBBoxString","Projection","LonLat","SphericalMercator","R","MAX_LATITUDE","atan","projectedPoint","transformation","untransformedPoint","LN2","getProjectedBounds","wrapLng","wrapLat","Simple","EPSG900913","EPSG4326","fadeAnimation","markerZoomAnimation","transform3DLimit","zoomSnap","zoomDelta","trackResize","_onResize","_initEvents","setMaxBounds","_zoomBoundLayers","_sizeChanged","_addLayers","zoomIn","setZoomAround","getZoomScale","viewHalf","centerOffset","newCenter","_getBoundsCenterZoom","paddingTopLeft","paddingBottomRight","paddingOffset","swPoint","nePoint","fitWorld","panTo","_rawPanBy","_panInsideMaxBounds","setMinZoom","panInsideBounds","_enforcingBounds","oldSize","_lastCenter","newSize","oldCenter","debounceMoveend","_containerId","_mapPane","_clearControlPos","_clearHandlers","_panes","_checkIfLoaded","_getCenterLayerPoint","getPixelBounds","getMinZoom","_layersMinZoom","getMaxZoom","_layersMaxZoom","nw","se","boundsSize","snap","getScaleZoom","_size","clientHeight","topLeftPoint","_getTopLeftPoint","_pixelOrigin","getPixelWorldBounds","toZoom","fromZoom","_getMapPanePos","getMousePosition","_initPanes","_initControlPos","panes","_paneRenderers","markerPane","shadowPane","zoomChanged","_moveStart","_move","_moveEnd","_getNewPixelOrigin","pinch","_flyToFrame","_panAnim","_getZoomSpan","_targets","onOff","_handleDOMEvent","_resizeRequest","scrollLeft","isHover","_draggableMoved","_isExternalTarget","_skipped","moved","boxZoom","whenReady","pixelOrigin","topLeft","_getCenterOffset","centerPoint","viewBounds","_getBoundsOffset","newBounds","pxBounds","projectedMaxBounds","minOffset","maxOffset","_rebound","removeFrom","addInteractiveTarget","targetEl","removeInteractiveTarget","_layerAdd","removeAttribution","_addZoomLimit","_removeZoomLimit","oldZoomSpan","Mercator","R_MINOR","tmp","con","phi","dphi","EPSG3395","updateWhenZooming","updateInterval","noWrap","_setAutoZIndex","bringToBack","_updateOpacity","setZIndex","isLoading","move","zoomanim","_animateZoom","compare","edgeZIndex","nextFrame","willPrune","fade","_noPrune","_fadeFrame","retain","_retainParent","_retainChildren","_removeTile","animating","flyTo","_abortLoading","_setZoomTransforms","_tileSize","_wrapX","_wrapY","_animateToZoom","pixelCenter","halfSize","fragment","tileBounds","_tileCoordsToBounds","_keyToBounds","_keyToTileCoords","nwPoint","sePoint","newCoords","gridLayer","zoomReverse","_onTileRemove","noRedraw","zoomN","tilePoint","tileLayer","WMS","defaultWmsParams","service","styles","transparent","wmsParams","_crs","_wmsVersion","projectionKey","bbox","setParams","wms","ImageOverlay","_image","_initImage","styleOpts","setBounds","getElement","img","image","imageOverlay","createIcon","oldIcon","_createIcon","createShadow","_getIconUrl","_createImg","_setIconStyles","sizeOption","anchor","shadowAnchor","marginLeft","marginTop","iconUrl","iconRetinaUrl","shadowUrl","popupAnchor","tooltipAnchor","shadowSize","_detectIconPath","riseOffset","_removeIcon","_removeShadow","oldLatLng","setIcon","bindPopup","classToAdd","addIcon","_bringToFront","_resetZIndex","newShadow","addShadow","_initInteraction","MarkerDrag","DivIcon","bgPos","backgroundPosition","DivOverlay","_updateContent","_getAnchor","bottom","keepInView","preclick","disableScrollPropagation","_tip","_inProgress","marginBottom","_getPopupAnchor","_popupHandlersAdded","_openPopup","_movePopup","unbindPopup","togglePopup","isPopupOpen","setPopupContent","Tooltip","permanent","sticky","tooltip","closeTooltip","_setPosition","tooltipPoint","tooltipWidth","tooltipHeight","_getTooltipAnchor","openTooltip","bindTooltip","_tooltip","_initTooltipInteractions","unbindTooltip","_tooltipHandlersAdded","_moveTooltip","_openTooltip","toggleTooltip","isTooltipOpen","setTooltipContent","getTooltip","getLayerId","methodName","getLayer","getLayers","layerGroup","Renderer","_onZoom","_onAnimZoom","ev","_updateTransform","currentCenterPoint","_center","destCenterPoint","topLeftOffset","getRenderer","_getPaneRenderer","canvas","stroke","dashArray","dashOffset","fillRule","_initPath","_addPath","_removePath","_updateStyle","_bringToBack","_path","_clickTolerance","simplify","tolerance","sqTolerance","_reducePoints","_simplifyDP","p1","p2","_sqClosestPointOnSegment","ArrayConstructor","Uint8Array","markers","_simplifyDPStep","last","maxSqDist","sqDist","reducedPoints","prev","_sqDist","clipSegment","useLastCode","codeA","_lastCode","_getBitCode","codeB","codeOut","newCode","_getEdgeIntersection","dot","Polyline","_setLatLngs","_latlngs","closestLayerPoint","minPoint","closest","jLen","_parts","halfDist","segDist","dist","ratio","_rings","_defaultShape","_convertLatLngs","_flat","flat","_projectLatlngs","projectedBounds","_clipPoints","len2","segment","_simplifyPoints","_updatePoly","clipPolygon","clippedPoints","edges","lu","_code","Polygon","area","clipped","Rectangle","_boundsToLatLngs","rectangle","CircleMarker","_radius","getRadius","_updateBounds","r2","_radiusY","_updateCircle","Circle","legacyOptions","_mRadius","half","latR","lngR","zoomstart","_onZoomStart","_rootGroup","_svgSize","pointsToPath","createElementNS","createSVGRect","behavior","adj","coordsize","_stroke","_fill","stroked","filled","dashStyle","endcap","joinstyle","namespaces","_draw","_updateDashArray","_removed","_requestRedraw","_redrawBounds","Number","_dashArray","_redrawRequest","_redraw","_clear","rect","clip","restore","setLineDash","globalCompositeOperation","globalAlpha","fillStyle","_prevWeight","strokeStyle","_containsPoint","_fakeStop","_fireEvent","moving","_handleMouseHover","_hoveredLayer","geojson","addData","features","feature","geometryToLayer","asFeature","defaultOptions","resetStyle","onEachFeature","_setLayerStyle","pointToLayer","coordsToLatLngs","properties","levelsDeep","latLngToCoords","latLngsToCoords","getFeature","newGeometry","PointToGeoJSON","multi","holes","toMultiPoint","isGeometryCollection","jsons","eventsKey","originalHandler","addPointerListener","addDoubleTapListener","_filterClick","attachEvent","removePointerListener","removeDoubleTapListener","detachEvent","cancelBubble","returnValue","getBoundingClientRect","clientLeft","clientTop","_wheelPxFactor","getWheelDelta","wheelDeltaY","deltaY","deltaMode","deltaX","deltaZ","wheelDelta","_skipEvents","skipped","related","timeStamp","_lastClick","_simulatedClick","touchstart","pointerdown","MSPointerDown","MOVE","dragStartTarget","_dragStartTarget","_preventOutline","_onDown","_dragging","shiftKey","which","_onUp","inertiaDeceleration","worldCopyJump","maxBoundsViscosity","_onDragStart","_onPreDragLimit","_onPreDragWrap","_onZoomEnd","_offsetLimit","_viscosity","pxCenter","pxWorldCenter","_initialWorldOffset","_worldWidth","_viscousLimit","threshold","limit","worldWidth","halfWidth","newX1","newX2","newX","doubleClickZoom","DoubleClickZoom","_onDoubleClick","oldZoom","scrollWheelZoom","wheelDebounceTime","ScrollWheelZoom","_onWheelScroll","_delta","debounce","_lastMousePos","_timer","_performZoom","d2","d3","d4","PosAnimation","newPos","_duration","_easeOutPower","_offset","_animId","_runFrame","_easeOut","_onPanTransitionStep","_onPanTransitionEnd","zoomAnimation","zoomAnimationThreshold","zoomAnimated","_createAnimProxy","_proxy","_catchTransitionEnd","proxy","mapPane","_onZoomTransitionEnd","_nothingToAnimate","getElementsByClassName","startAnim","_animateToCenter","targetCenter","targetZoom","startZoom","w0","w1","u1","rho","rho2","s1","s2","t1","b1","sq","sinh","cosh","tanh","r0","easeOut","S","frame","flyToBounds","_touchstart","_touchend","doubleTap","delay","onTouchStart","_pointersCount","onTouchEnd","newTouch","pre","touchend","POINTER_DOWN","POINTER_MOVE","POINTER_UP","POINTER_CANCEL","TAG_WHITE_LIST","_pointers","_addPointerStart","_addPointerMove","_addPointerEnd","onDown","pointerType","MSPOINTER_TYPE_MOUSE","_handlePointer","_pointerDocListener","pointerUp","_globalPointerUp","_globalPointerDown","_globalPointerMove","pointerId","changedTouches","onMove","buttons","onUp","touchZoom","TouchZoom","_onTouchStart","_zooming","_centerPoint","_startLatLng","_pinchStartLatLng","_startDist","_startZoom","_onTouchMove","_onTouchEnd","moveFn","tapTolerance","_fireClick","_holdTimeout","_isTapValid","_simulateEvent","touchmove","simulatedEvent","screenX","screenY","BoxZoom","_pane","overlayPane","_onMouseDown","_resetState","mouseup","_onMouseUp","keydown","_onKeyDown","_box","_finish","boxZoomBounds","keyboardPanDelta","Keyboard","keyCodes","up","_setPanDelta","_setZoomDelta","focus","_onFocus","blur","_onBlur","_addHooks","_removeHooks","_focused","docEl","scrollTo","panDelta","_panKeys","codes","_zoomKeys","altKey","ctrlKey","metaKey","_oldLatLng","shadow","iconPos","removeControl","corner","_controlCorners","_refocusOnMap","corners","_controlContainer","createCorner","vSide","hSide","zoomInText","zoomInTitle","zoomOutText","zoomOutTitle","_disabled","zoomControl","setPrefix","Scale","imperial","_addScales","_mScale","_iScale","maxMeters","_updateScales","_updateMetric","_updateImperial","meters","_getRoundNum","_updateScale","maxFeet","maxMiles","miles","feet","pow10","Layers","collapsed","autoZIndex","hideSingleBase","baseLayers","overlays","_lastZIndex","_handlingClick","_addLayer","_checkDisabledLayers","_onLayerChange","addBaseLayer","addOverlay","_getLayer","_form","acceptableHeight","offsetTop","form","mouseenter","mouseleave","_layersLink","_onInputClick","_baseLayersList","_separator","_overlaysList","overlay","baseLayersPresent","overlaysPresent","baseLayersCount","_addItem","_createRadioElement","checked","radioHtml","radioFragment","defaultChecked","layerId","holder","inputs","addedLayers","removedLayers","disabled","_expand","_collapse","_defaultLocateOptions","_handleGeolocationError","onResponse","_handleGeolocationResponse","onError","_locationWatchId","watchPosition","getCurrentPosition","clearWatch","longitude","jQuery","crossPos","crossSize","client","crossClient","crossOffset","offsetPos","scroll","scrollSize","each","jQueryMode","roots","validate","localParams","dispose","_chain","manageEvents","eventManager","_pos0","manageAttr","attrName","eventName","barPos","scrollerPos0","resizePauseTimer","scrollPauseTimer","pause","scrollLastFire","resizeLastFire","getNode","sel","clipper","barOnCls","barTopLimit","setBarSize","barMinSize","posBar","relToPos","posToRel","dontPosSelect","rpos","free","barOn","upd","freeze","oldBarSize","newBarSize","names","userArg","fix","userParams","viewPortSize","outside","before","after","past","future","minView","topFixHeights","topRealHeights","headerTops","fixElement","bubbleWheel","initWebKitWheelEvent","wheelDeltaX","_params","limiter","fixState","hTop","fixFlag","change","updParams","controls","forward","backward","xBar","pull","onExpand","inProgress","_insistence","_zeroXCount","_interval","_onExpandCalled","_waiting","waiting","getContentSize","getScrollerSize","force","toggle","op4","scrollInProgress","property","onCollapse","controlPanelLoadingText","controlPanelSwitcherButton","controlPanelSelect","controlPanelLogo","mapBoxYandex","mapBox2gis","dataM24","displaySwitcher","ymaps","ready","myMap","fetch","showMapPointsYandex","showMapPoints2gis","catch","myGeoObjects","GeoObjectCollection","preset","strokeWidth","geodesic","district","Placemark","hintContent","balloonContent","geoObjects","myIcon","skin","removeAll","separatedTargetDistrict"],"mappings":"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","file":"main.ee847ad5.map","sourceRoot":"..","sourcesContent":["// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.DG = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(_dereq_,module,exports){\nvar css = \".leaflet-image-layer,.leaflet-layer,.leaflet-map-pane canvas,.leaflet-map-pane svg,.leaflet-marker-icon,.leaflet-marker-shadow,.leaflet-pane,.leaflet-tile,.leaflet-tile-container,.leaflet-zoom-box{position:absolute;left:0;top:0}.leaflet-container{overflow:hidden}.leaflet-marker-icon,.leaflet-marker-shadow,.leaflet-tile{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-drag:none}.leaflet-safari .leaflet-tile{image-rendering:-webkit-optimize-contrast}.leaflet-safari .leaflet-tile-container{width:1600px;height:1600px;-webkit-transform-origin:0 0}.leaflet-marker-icon,.leaflet-marker-shadow{display:block}.leaflet-container .leaflet-marker-pane img,.leaflet-container .leaflet-overlay-pane svg,.leaflet-container .leaflet-tile-pane img,.leaflet-container img.leaflet-image-layer{max-width:none!important}.leaflet-container.leaflet-touch-zoom{-ms-touch-action:pan-x pan-y;touch-action:pan-x pan-y}.leaflet-container.leaflet-touch-drag{-ms-touch-action:pinch-zoom}.leaflet-container.leaflet-touch-drag.leaflet-touch-drag{-ms-touch-action:none;touch-action:none}.leaflet-tile{-webkit-filter:inherit;filter:inherit;visibility:hidden}.leaflet-tile-loaded{visibility:inherit}.leaflet-zoom-box{width:0;height:0;-webkit-box-sizing:border-box;box-sizing:border-box;z-index:800}.leaflet-overlay-pane svg{-moz-user-select:none}.leaflet-pane{z-index:400}.leaflet-tile-pane{z-index:200}.leaflet-overlay-pane{z-index:400}.leaflet-shadow-pane{z-index:500}.leaflet-marker-pane{z-index:600}.leaflet-tooltip-pane{z-index:650}.leaflet-popup-pane{z-index:700}.leaflet-map-pane canvas{z-index:100}.leaflet-map-pane svg{z-index:200}.leaflet-vml-shape{width:1px;height:1px}.lvml{behavior:url(#default#VML);display:inline-block;position:absolute}.leaflet-control{position:relative;z-index:800;pointer-events:visiblePainted;pointer-events:auto}.leaflet-bottom,.leaflet-top{position:absolute;z-index:1000;pointer-events:none}.leaflet-top{top:0}.leaflet-right{right:0}.leaflet-bottom{bottom:0}.leaflet-left{left:0}.leaflet-control{float:left;clear:both}.leaflet-right .leaflet-control{float:right}.leaflet-top .leaflet-control{margin-top:10px}.leaflet-bottom .leaflet-control{margin-bottom:10px}.leaflet-left .leaflet-control{margin-left:10px}.leaflet-right .leaflet-control{margin-right:10px}.leaflet-fade-anim .leaflet-tile{will-change:opacity}.leaflet-fade-anim .leaflet-popup{opacity:0;-webkit-transition:opacity .2s linear;transition:opacity .2s linear}.leaflet-fade-anim .leaflet-map-pane .leaflet-popup{opacity:1}.leaflet-zoom-animated{-webkit-transform-origin:0 0;-ms-transform-origin:0 0;transform-origin:0 0}.leaflet-zoom-anim .leaflet-zoom-animated{will-change:transform;-webkit-transition:-webkit-transform .25s cubic-bezier(0,0,.25,1);transition:-webkit-transform .25s cubic-bezier(0,0,.25,1);transition:transform .25s cubic-bezier(0,0,.25,1);transition:transform .25s cubic-bezier(0,0,.25,1),-webkit-transform .25s cubic-bezier(0,0,.25,1)}.leaflet-pan-anim .leaflet-tile,.leaflet-zoom-anim .leaflet-tile{-webkit-transition:none;transition:none}.leaflet-zoom-anim .leaflet-zoom-hide{visibility:hidden}.leaflet-interactive{cursor:pointer}.leaflet-grab{cursor:-webkit-grab;cursor:-moz-grab}.leaflet-crosshair,.leaflet-crosshair .leaflet-interactive{cursor:crosshair}.leaflet-control,.leaflet-popup-pane{cursor:auto}.leaflet-dragging .leaflet-grab,.leaflet-dragging .leaflet-grab .leaflet-interactive,.leaflet-dragging .leaflet-marker-draggable{cursor:move;cursor:-webkit-grabbing;cursor:-moz-grabbing}.leaflet-image-layer,.leaflet-marker-icon,.leaflet-marker-shadow,.leaflet-pane>svg path,.leaflet-tile-container{pointer-events:none}.leaflet-image-layer.leaflet-interactive,.leaflet-marker-icon.leaflet-interactive,.leaflet-pane>svg path.leaflet-interactive{pointer-events:visiblePainted;pointer-events:auto}.leaflet-container{outline:0}.leaflet-container a{color:#0078A8}.leaflet-container a.leaflet-active{outline:orange solid 2px}.leaflet-zoom-box{border:2px dotted #38f;background:rgba(255,255,255,.5)}.leaflet-container{font:12px/1.5 \\\"Helvetica Neue\\\",Arial,Helvetica,sans-serif}.leaflet-bar{-webkit-box-shadow:0 1px 5px rgba(0,0,0,.65);box-shadow:0 1px 5px rgba(0,0,0,.65);border-radius:4px}.leaflet-bar a,.leaflet-bar a:hover{background-color:#fff;border-bottom:1px solid #ccc;width:26px;height:26px;line-height:26px;display:block;text-align:center;text-decoration:none;color:#000}.leaflet-bar a,.leaflet-control-layers-toggle{background-position:50% 50%;background-repeat:no-repeat;display:block}.leaflet-bar a:hover{background-color:#f4f4f4}.leaflet-bar a:first-child{border-top-left-radius:4px;border-top-right-radius:4px}.leaflet-bar a:last-child{border-bottom-left-radius:4px;border-bottom-right-radius:4px;border-bottom:none}.leaflet-bar a.leaflet-disabled{cursor:default;background-color:#f4f4f4;color:#bbb}.leaflet-touch .leaflet-bar a{width:30px;height:30px;line-height:30px}.leaflet-control-zoom-in,.leaflet-control-zoom-out{font:700 18px 'Lucida Console',Monaco,monospace;text-indent:1px}.leaflet-control-zoom-out{font-size:20px}.leaflet-touch .leaflet-control-zoom-in{font-size:22px}.leaflet-touch .leaflet-control-zoom-out{font-size:24px}.leaflet-control-layers{-webkit-box-shadow:0 1px 5px rgba(0,0,0,.4);box-shadow:0 1px 5px rgba(0,0,0,.4);background:#fff;border-radius:5px}.leaflet-control-layers-toggle{background-image:url(dist/css/images/layers.png);width:36px;height:36px}.leaflet-retina .leaflet-control-layers-toggle{background-image:url(dist/css/images/layers-2x.png);background-size:26px 26px}.leaflet-touch .leaflet-control-layers-toggle{width:44px;height:44px}.leaflet-control-layers .leaflet-control-layers-list,.leaflet-control-layers-expanded .leaflet-control-layers-toggle{display:none}.leaflet-control-layers-expanded .leaflet-control-layers-list{display:block;position:relative}.leaflet-control-layers-expanded{padding:6px 10px 6px 6px;color:#333;background:#fff}.leaflet-control-layers-scrollbar{overflow-y:scroll;padding-right:5px}.leaflet-control-layers-selector{margin-top:2px;position:relative;top:1px}.leaflet-control-layers label{display:block}.leaflet-control-layers-separator{height:0;border-top:1px solid #ddd;margin:5px -10px 5px -6px}.leaflet-default-icon-path{background-image:url(dist/css/images/marker-icon.png)}.leaflet-container .leaflet-control-attribution{background:#fff;background:rgba(255,255,255,.7);margin:0}.leaflet-control-attribution,.leaflet-control-scale-line{padding:0 5px;color:#333}.leaflet-control-attribution a{text-decoration:none}.leaflet-control-attribution a:hover{text-decoration:underline}.leaflet-container .leaflet-control-attribution,.leaflet-container .leaflet-control-scale{font-size:11px}.leaflet-left .leaflet-control-scale{margin-left:5px}.leaflet-bottom .leaflet-control-scale{margin-bottom:5px}.leaflet-control-scale-line{border:2px solid #777;border-top:none;line-height:1.1;padding:2px 5px 1px;font-size:11px;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;background:#fff;background:rgba(255,255,255,.5)}.leaflet-control-scale-line:not(:first-child){border-top:2px solid #777;border-bottom:none;margin-top:-2px}.leaflet-control-scale-line:not(:first-child):not(:last-child){border-bottom:2px solid #777}.leaflet-touch .leaflet-bar,.leaflet-touch .leaflet-control-attribution,.leaflet-touch .leaflet-control-layers{-webkit-box-shadow:none;box-shadow:none}.leaflet-touch .leaflet-bar,.leaflet-touch .leaflet-control-layers{border:2px solid rgba(0,0,0,.2);background-clip:padding-box}.leaflet-popup{position:absolute;text-align:center}.leaflet-popup-content-wrapper{text-align:left}.leaflet-popup-tip-container{width:40px;position:absolute;left:50%;margin-left:-20px;overflow:hidden;pointer-events:none}.leaflet-popup-tip{width:17px;height:17px;padding:1px;margin:-10px auto 0;-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg)}.leaflet-popup-content-wrapper,.leaflet-popup-tip{background:#fff;color:#333;-webkit-box-shadow:0 3px 14px rgba(0,0,0,.4);box-shadow:0 3px 14px rgba(0,0,0,.4)}.leaflet-container a.leaflet-popup-close-button{border:none;font:16px/14px Tahoma,Verdana,sans-serif;color:#c3c3c3;text-decoration:none;background:0 0}.leaflet-container a.leaflet-popup-close-button:hover{color:#999}.leaflet-oldie .leaflet-popup-content-wrapper{zoom:1}.leaflet-oldie .leaflet-popup-tip{width:24px;margin:0 auto;-ms-filter:\\\"progid:DXImageTransform.Microsoft.Matrix(M11=0.70710678, M12=0.70710678, M21=-0.70710678, M22=0.70710678)\\\";filter:progid:DXImageTransform.Microsoft.Matrix(M11=.70710678, M12=.70710678, M21=-.70710678, M22=.70710678)}.leaflet-oldie .leaflet-popup-tip-container{margin-top:-1px}.leaflet-oldie .leaflet-control-layers,.leaflet-oldie .leaflet-control-zoom,.leaflet-oldie .leaflet-popup-content-wrapper,.leaflet-oldie .leaflet-popup-tip{border:1px solid #999}.leaflet-div-icon{background:#fff;border:1px solid #666}.leaflet-tooltip{position:absolute;padding:6px;background-color:#fff;border:1px solid #fff;border-radius:3px;color:#222;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;-webkit-box-shadow:0 1px 3px rgba(0,0,0,.4);box-shadow:0 1px 3px rgba(0,0,0,.4)}.leaflet-tooltip.leaflet-clickable{cursor:pointer;pointer-events:auto}.leaflet-tooltip-bottom:before,.leaflet-tooltip-left:before,.leaflet-tooltip-right:before,.leaflet-tooltip-top:before{position:absolute;pointer-events:none;border:6px solid transparent;background:0 0;content:\\\"\\\"}.leaflet-tooltip-bottom{margin-top:6px}.leaflet-tooltip-top{margin-top:-6px}.leaflet-tooltip-bottom:before,.leaflet-tooltip-top:before{left:50%;margin-left:-6px}.leaflet-tooltip-top:before{bottom:0;margin-bottom:-12px;border-top-color:#fff}.leaflet-tooltip-bottom:before{top:0;margin-top:-12px;margin-left:-6px;border-bottom-color:#fff}.leaflet-tooltip-left{margin-left:-6px}.leaflet-tooltip-right{margin-left:6px}.leaflet-tooltip-left:before,.leaflet-tooltip-right:before{top:50%;margin-top:-6px}.leaflet-tooltip-left:before{right:0;margin-right:-12px;border-left-color:#fff}.leaflet-tooltip-right:before{left:0;margin-left:-12px;border-right-color:#fff}[class^=dg-],[class^=dg-]:after,[class^=dg-]:before{-webkit-box-sizing:content-box;box-sizing:content-box;margin:0;padding:0;vertical-align:baseline;font-weight:inherit;font-style:inherit;font-size:1em;font-family:inherit;line-height:1.2}[class^=dg-]>[class^=dg-]:last-child{margin-bottom:0}[class^=dg-] abbr,[class^=dg-] fieldset,[class^=dg-] img{border:0}[class^=dg-] blockquote,[class^=dg-] q{quotes:none}[class^=dg-] blockquote:after,[class^=dg-] blockquote:before,[class^=dg-] q:after,[class^=dg-] q:before{content:'';content:none}[class^=dg-] ol,[class^=dg-] ul{list-style:none}[class^=dg-] table{border-spacing:0;border-collapse:collapse}[class^=dg-] caption,[class^=dg-] th{text-align:left}[class^=dg-] td,[class^=dg-] th{vertical-align:middle}[class^=dg-] button::-moz-focus-inner,[class^=dg-] input::-moz-focus-inner{padding:0;border:0}.dg-label{position:absolute;top:0;left:0;max-width:none;max-height:none;width:300px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.dg-label__content{display:inline-block;overflow:hidden;padding:3px 7px;min-width:30px;max-width:300px;width:auto;border-width:1px;border-style:solid;border-radius:2px;vertical-align:top;font-size:12px}.leaflet-top .dg-label_name_location-error{top:5px}.leaflet-right .dg-label_name_location-error{right:40px;left:auto;text-align:right}.leaflet-bottom .dg-label_name_location-error{top:4px}.leaflet-left .dg-label_name_location-error{left:40px}.dg-label__content{border-color:#323232;border-color:rgba(50,50,50,.85);background:#323232;background:rgba(50,50,50,.85);color:#ffd26e}.leaflet-popup{margin-bottom:0}.leaflet-popup-tip-container{height:0}.leaflet-popup-content-wrapper{overflow:hidden;padding:0;min-width:60px;min-height:50px;border:0;border-radius:3px;background:0 0;-webkit-box-shadow:none;box-shadow:none;color:#e6e6e6;font-size:14px;-webkit-transition:opacity ease-out .2s,max-height ease-out .2s,height ease-out .2s;transition:opacity ease-out .2s,max-height ease-out .2s,height ease-out .2s;-webkit-transform-origin:50% 100%;-ms-transform-origin:50% 100%;transform-origin:50% 100%}.leaflet-popup-content-wrapper:before{float:right;width:30px;height:17px;content:''}.leaflet-popup-content{position:relative;margin:16px;width:auto;line-height:1.4}.leaflet-popup a{outline:0}.leaflet-popup-content p{margin:0}.leaflet-popup-scrolled{overflow:visible;border:0}.leaflet-popup-inner{position:relative;z-index:0}.leaflet-popup_show_true{-webkit-transition:opacity ease-in-out .2s,height ease-out .2s,-webkit-transform ease-in-out .2s;transition:opacity ease-in-out .2s,height ease-out .2s,-webkit-transform ease-in-out .2s;transition:transform ease-in-out .2s,opacity ease-in-out .2s,height ease-out .2s;transition:transform ease-in-out .2s,opacity ease-in-out .2s,height ease-out .2s,-webkit-transform ease-in-out .2s;-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1)}.leaflet-popup_show_false{opacity:0!important;-webkit-transition:all ease-in-out .1s;transition:all ease-in-out .1s;-webkit-transform:scale(0.2);-ms-transform:scale(0.2);transform:scale(0.2)}.leaflet-popup_preloader_true{width:384px;height:52px}.leaflet-map-pane .leaflet-popup-tip-container{position:absolute;top:auto;bottom:0;left:50%;margin-left:-29px;width:58px;height:47px;background-repeat:no-repeat;-webkit-transform:translateY(47px);-ms-transform:translateY(47px);transform:translateY(47px);pointer-events:none}.leaflet-popup-tip{display:none}.leaflet-popup-tip-container_svg{background-repeat:no-repeat;background-image:url(https://maps.api.2gis.ru/2.0/img/DGPopup__popupShadow.png);background-position:50% 95%;background-size:36px 12px}.leaflet-retina .leaflet-popup-tip-container_svg{background-image:url(https://maps.api.2gis.ru/2.0/img/DGPopup__popupShadow@2x.png)}.leaflet-container a.leaflet-popup-close-button{position:absolute;top:3px;right:3px;z-index:1;overflow:hidden;padding:0;width:30px;height:30px;text-align:center;font-weight:400;font-size:18px;line-height:30px;cursor:pointer}.no-touch .leaflet-container a.leaflet-popup-close-button:hover{border-radius:2px;-webkit-transition:all .2s;transition:all .2s}.leaflet-container a.leaflet-popup-close-button:active{color:#777}.leaflet-container a.leaflet-popup-close-button:after{position:absolute;z-index:2;content:''}.leaflet-popup-content-wrapper{background-color:rgba(50,50,50,.9)}.leaflet-popup-tip-container_image{background-repeat:no-repeat;background-image:url(\\\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2258%22%20height%3D%2247%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22M0%200c12.643%200%2028%207.115%2028%2044h2c0-36.885%2015.358-44%2028-44h-58z%22%20fill%3D%22rgba(50%2C50%2C50%2C.9)%22%3E%3C%2Fpath%3E%0A%3C%2Fsvg%3E%0A\\\")}.leaflet-map-pane .leaflet-popup-tip-container_svg{fill:rgba(50,50,50,.9)}.no-touch .leaflet-container a.leaflet-popup-close-button:hover{background-color:#222;-webkit-box-shadow:0 1px 3px rgba(0,0,0,.5);box-shadow:0 1px 3px rgba(0,0,0,.5)}.leaflet-container a.leaflet-popup-close-button:after{top:-3px;right:-5px;width:40px;height:40px}.dg-wrapper{position:relative;overflow:hidden}.dg-scroller{height:100%;overflow-y:scroll;border:0}.dg-scroller__bar{z-index:1;right:0;background:#999}.dg-scroller__bar_h{bottom:2px;height:8px}.dg-header__title{width:100%;margin:0;-webkit-box-sizing:border-box;box-sizing:border-box;background:#999}.dg-header__title_state_fixed{position:absolute;z-index:1}.dg-scroller_hidden_true{overflow:auto}.dg-scroller::-webkit-scrollbar{width:0}.dg-scroller__wrapper{position:relative;overflow:hidden}.dg-scroller__bar-wrapper{position:absolute;top:18px;right:3px;bottom:4px;width:7px;border-radius:5px}.dg-scroller_hidden_true .dg-scroller__bar-wrapper{visibility:hidden}.dg-popup__header+.dg-popup__container-wrapper .dg-scroller__bar-wrapper{top:4px}.dg-scroller__bar{position:absolute;min-height:20px;width:7px;border-radius:3px;pointer-events:auto}.scroller__bar-wrapper .scroller__bar{background-color:#665b4f}.scroller__bar-wrapper:hover .scroller__bar{background-color:#897a6b}.dg-popup__container{margin:0}.leaflet-popup-scrolled .dg-popup__container{padding:8px 14px 8px 0}.dg-popup__header{position:relative;padding-bottom:12px}.leaflet-popup-scrolled .dg-popup__header:after{position:relative;top:12px;display:block;width:100%;height:1px;content:''}.dg-popup__footer{position:relative;bottom:0;overflow:hidden}.leaflet-popup-scrolled .dg-popup__footer:before{display:block;width:100%;height:1px;content:''}.dg-popup_hidden_true{display:none}.leaflet-popup-scrolled .dg-popup__footer:before,.leaflet-popup-scrolled .dg-popup__header:after{border-bottom:1px solid #636363;background-color:#494949}.dg-control-round{position:relative;padding:5px;width:30px;height:30px;border-radius:50%;cursor:default}.dg-control-round__icon{position:relative;display:block;width:30px;height:30px;border-radius:50%;background-color:#f0f0f0;background-image:-webkit-gradient(linear,left top,left bottom,color-stop(0,#fff),to(#e0e0e0));background-image:-webkit-linear-gradient(top,#fff 0,#e0e0e0 100%);background-image:linear-gradient(to bottom,#fff 0,#e0e0e0 100%);color:#2b2a29;text-align:center;text-decoration:none;text-shadow:0 1px 0 #fff;font-size:22px;line-height:30px;cursor:pointer}.no-touch .dg-control-round__icon:hover{background-color:#f5f5f5;background-image:-webkit-gradient(linear,left top,left bottom,color-stop(0,#ebebeb),to(#fff));background-image:-webkit-linear-gradient(top,#ebebeb 0,#fff 100%);background-image:linear-gradient(to bottom,#ebebeb 0,#fff 100%)}.dg-control-round__icon:active,.dg-control-round__icon_state_active,.no-touch .dg-control-round__icon:active{background-color:#ebebeb;background-image:-webkit-gradient(linear,left top,left bottom,color-stop(0,#d6d6d6),to(#fff));background-image:-webkit-linear-gradient(top,#d6d6d6 0,#fff 100%);background-image:linear-gradient(to bottom,#d6d6d6 0,#fff 100%)}.leaflet-disabled .dg-control-round__icon,.leaflet-disabled .dg-control-round__icon:active,.no-touch .leaflet-disabled .dg-control-round__icon:hover{background-image:none;cursor:default}.leaflet-touch .dg-control-round__icon:before{position:absolute;top:-10px;right:-15px;bottom:-10px;left:-15px;content:''}.dg-control-round_is-hidden_true{display:none}.dg-control-round{background-color:#3d3d3d;-webkit-box-shadow:0 3px 5px 0 rgba(0,0,0,.3);box-shadow:0 3px 5px 0 rgba(0,0,0,.3)}.dg-control-round__icon{-webkit-box-shadow:0 2px 2px 0 rgba(0,0,0,.4);box-shadow:0 2px 2px 0 rgba(0,0,0,.4)}.no-touch .dg-control-round__icon:hover{-webkit-box-shadow:inset 0 1px #fff,0 0 0 1px rgba(0,0,0,.3),0 1px 0 1px rgba(0,0,0,.4);box-shadow:inset 0 1px #fff,0 0 0 1px rgba(0,0,0,.3),0 1px 0 1px rgba(0,0,0,.4)}.dg-control-round__icon:active,.dg-control-round__icon_state_active,.no-touch .dg-control-round__icon:active{-webkit-box-shadow:inset 0 1px 1px 1px rgba(0,0,0,.2),0 0 0 1px rgba(0,0,0,.3),0 -1px 1px 0 #000;box-shadow:inset 0 1px 1px 1px rgba(0,0,0,.2),0 0 0 1px rgba(0,0,0,.3),0 -1px 1px 0 #000}.leaflet-disabled .dg-control-round__icon,.leaflet-disabled .dg-control-round__icon:active,.no-touch .leaflet-disabled .dg-control-round__icon:hover{background-color:#b8b8b8;-webkit-box-shadow:none;box-shadow:none}.dg-museum{position:absolute;top:0;left:0;right:0;z-index:1500;padding:4px 5px 8px;background:#333;color:#fff;opacity:.97;text-align:center}.dg-museum-browser{position:relative;top:4px;display:inline-block;width:16px;height:16px;margin:0 4px;background:url(https://maps.api.2gis.ru/2.0/img/DGMuseum.jpg) left top no-repeat}.dg-museum__chrome{background-position:0 0}.dg-museum__chrome:hover{background-position:0 -16px}.dg-museum__firefox{background-position:-16px 0}.dg-museum__firefox:hover{background-position:-16px -16px}.dg-museum__safari{background-position:-32px 0}.dg-museum__safari:hover{background-position:-32px -16px}.dg-museum__opera{width:15px;background-position:-48px 0}.dg-museum__opera:hover{background-position:-48px -16px}.dg-museum__ie{width:17px;background-position:-63px 0}.dg-museum__ie:hover{background-position:-63px -16px}.dg-museum__close{display:inline-block;margin:0 4px;width:9px;height:9px;background:url(https://maps.api.2gis.ru/2.0/img/DGMuseum_close.gif) top left no-repeat;cursor:pointer}.dg-museum__close:hover{opacity:.6}.leaflet-container{z-index:0;background:#f7f3df;cursor:default}.leaflet-container:-webkit-full-screen{width:100%!important;height:100%!important}.leaflet-container:-moz-full-screen{width:100%!important;height:100%!important}.leaflet-container:-ms-fullscreen{width:100%!important;height:100%!important}.leaflet-container:fullscreen{width:100%!important;height:100%!important}.leaflet-dragging,.leaflet-dragging .leaflet-clickable,.leaflet-dragging .leaflet-container{cursor:move}.leaflet-control a,.leaflet-control a:focus{outline:0!important}.leaflet-container .leaflet-control-attribution{background-color:transparent;-webkit-box-shadow:none;box-shadow:none}.dg-customization__marker{background-repeat:no-repeat}.dg-customization__marker:before{position:absolute;top:0;left:0;width:100%;height:100%;background-image:inherit;background-size:contain;background-repeat:no-repeat;-webkit-transition:opacity ease-in-out .2s,-webkit-transform ease-in-out .2s;transition:opacity ease-in-out .2s,-webkit-transform ease-in-out .2s;transition:opacity ease-in-out .2s,transform ease-in-out .2s;transition:opacity ease-in-out .2s,transform ease-in-out .2s,-webkit-transform ease-in-out .2s;-webkit-transform:scale(1,1);-ms-transform:scale(1,1);transform:scale(1,1);-webkit-transform-origin:50% 100%;-ms-transform-origin:50% 100%;transform-origin:50% 100%}.dg-customization__marker_type_mushroom{background-repeat:no-repeat;background-image:url(https://maps.api.2gis.ru/2.0/img/DGCustomization__marker.png);background-size:22px 34px;width:22px;height:34px;-webkit-transform-origin:50% 100%;-ms-transform-origin:50% 100%;transform-origin:50% 100%;-webkit-animation:dg-customization__show-marker .2s;animation:dg-customization__show-marker .2s}.leaflet-retina .dg-customization__marker_type_mushroom{background-image:url(https://maps.api.2gis.ru/2.0/img/DGCustomization__marker@2x.png)}.dg-customization__marker_type_mushroom:focus{outline:0}.no-touch .dg-customization__marker_type_mushroom:hover{background-repeat:no-repeat;background-image:url(https://maps.api.2gis.ru/2.0/img/DGCustomization__markerHover.png);background-size:22px 34px}.leaflet-retina .no-touch .dg-customization__marker_type_mushroom:hover{background-image:url(https://maps.api.2gis.ru/2.0/img/DGCustomization__markerHover@2x.png)}.dg-customization__marker_type_mushroom:active,.no-touch .dg-customization__marker_type_mushroom:active{background-repeat:no-repeat;background-image:url(https://maps.api.2gis.ru/2.0/img/DGCustomization__markerActive.png);background-size:22px 34px}.leaflet-retina .dg-customization__marker_type_mushroom:active,.leaflet-retina .no-touch .dg-customization__marker_type_mushroom:active{background-image:url(https://maps.api.2gis.ru/2.0/img/DGCustomization__markerActive@2x.png)}@-webkit-keyframes dg-customization__show-marker{from{opacity:0}to{opacity:1}}@keyframes dg-customization__show-marker{from{opacity:0}to{opacity:1}}.dg-customization__marker_appear{background-position:999px}.dg-customization__marker_appear:before{content:''}.dg-customization__marker_disappear{background-position:999px;pointer-events:none}.dg-customization__marker_disappear:before{visibility:hidden;content:'';opacity:0;-webkit-transform:scale(1.2,1.8);-ms-transform:scale(1.2,1.8);transform:scale(1.2,1.8);-webkit-animation:dg-customization__marker-to-callout .2s;animation:dg-customization__marker-to-callout .2s}@-webkit-keyframes dg-customization__marker-to-callout{0%{visibility:visible;opacity:1;-webkit-transform:scale(1,1);transform:scale(1,1)}100%{visibility:visible;opacity:0;-webkit-transform:scale(1.2,1.8);transform:scale(1.2,1.8)}}@keyframes dg-customization__marker-to-callout{0%{visibility:visible;opacity:1;-webkit-transform:scale(1,1);transform:scale(1,1)}100%{visibility:visible;opacity:0;-webkit-transform:scale(1.2,1.8);transform:scale(1.2,1.8)}}.dg-dragging-false{touch-action:auto;-ms-touch-action:auto}.dg-zoom{width:40px;height:74px}.dg-zoom__in{position:absolute;top:0;left:0}.leaflet-touch .dg-zoom__in:before{position:absolute;top:-5px;right:-10px;bottom:0;left:-10px;content:''}.dg-zoom__in:after{position:absolute;right:0;bottom:-1px;left:0;z-index:-1;margin:auto;width:12px;height:2px;-webkit-box-shadow:0 0 3px 2px rgba(0,0,0,.3);box-shadow:0 0 3px 2px rgba(0,0,0,.3);content:''}.dg-zoom__button_type_in:after,.dg-zoom__button_type_in:before,.leaflet-touch .dg-zoom__button_type_in:before{position:absolute;top:0;right:0;bottom:0;left:0;margin:auto;width:14px;height:2px;background-color:#7a7a7a;-webkit-box-shadow:0 1px #fff;box-shadow:0 1px #fff;content:''}.dg-zoom__button_type_in:after{width:2px;height:14px}.no-touch .dg-zoom__button_type_in:hover:after,.no-touch .dg-zoom__button_type_in:hover:before{background-color:#616161}.dg-zoom__button_type_in:active:after,.dg-zoom__button_type_in:active:before,.no-touch .dg-zoom__button_type_in:active:after,.no-touch .dg-zoom__button_type_in:active:before{background-color:#575757}.leaflet-disabled .dg-zoom__button_type_in:active:after,.leaflet-disabled .dg-zoom__button_type_in:active:before,.leaflet-disabled .dg-zoom__button_type_in:after,.leaflet-disabled .dg-zoom__button_type_in:before,.no-touch .leaflet-disabled .dg-zoom__button_type_in:hover:after,.no-touch .leaflet-disabled .dg-zoom__button_type_in:hover:before{-webkit-box-shadow:none;box-shadow:none}.dg-zoom__out{position:absolute;top:40px;right:0;left:0;margin:auto;width:22px;height:22px}.dg-zoom__out:after{position:absolute;top:-1px;right:0;left:0;margin:auto;width:12px;height:2px;content:''}.dg-zoom__button_type_out{width:22px;height:22px}.leaflet-touch .dg-zoom__button_type_out:before{top:-5px;right:-19px;bottom:-19px;left:-19px}.dg-zoom__button_type_out:after{position:absolute;top:0;right:0;bottom:0;left:0;margin:auto;width:10px;height:2px;background:#7a7a7a;-webkit-box-shadow:0 1px #fff;box-shadow:0 1px #fff;content:''}.no-touch .dg-zoom__button_type_out:hover:after{background:#616161}.dg-zoom__button_type_out:active:after,.no-touch .dg-zoom__button_type_out:active:after{background:#575757}.leaflet-disabled .dg-zoom__button_type_out:active:after,.leaflet-disabled .dg-zoom__button_type_out:after,.no-touch .leaflet-disabled .dg-zoom__button_type_out:hover:after{-webkit-box-shadow:none;box-shadow:none}.dg-zoom__out{-webkit-box-shadow:0 2px 3px 0 rgba(0,0,0,.3);box-shadow:0 2px 3px 0 rgba(0,0,0,.3)}.dg-zoom__out:after{background-color:#3d3d3d}.leaflet-disabled .dg-zoom__button_type_in:active:after,.leaflet-disabled .dg-zoom__button_type_in:active:before,.leaflet-disabled .dg-zoom__button_type_in:after,.leaflet-disabled .dg-zoom__button_type_in:before,.leaflet-disabled .dg-zoom__button_type_out:active:after,.leaflet-disabled .dg-zoom__button_type_out:after,.no-touch .leaflet-disabled .dg-zoom__button_type_in:hover:after,.no-touch .leaflet-disabled .dg-zoom__button_type_in:hover:before,.no-touch .leaflet-disabled .dg-zoom__button_type_out:hover:after{background-color:#707070}.dg-attribution{background-color:transparent!important}.dg-attribution__copyright{margin:0 55px 5px 0;text-align:right;white-space:nowrap;font-size:9px;font-family:Helvetica,Arial,sans-serif}.dg-attribution__links{display:inline-block;margin:0;padding:0 5px 0 0}.dg-attribution__link-item{padding:0;list-style-type:none}.leaflet-container .dg-attribution__link{background:-webkit-gradient(linear,left top,right top,from(rgba(8,8,8,.3)),to(rgba(8,8,8,.3))) 0 95%/10px 1px repeat-x;background:-webkit-linear-gradient(left,rgba(8,8,8,.3),rgba(8,8,8,.3) 100%) 0 95%/10px 1px repeat-x;background:linear-gradient(to right,rgba(8,8,8,.3),rgba(8,8,8,.3) 100%) 0 95%/10px 1px repeat-x;color:#333;text-decoration:none;font-size:9px;font-family:Helvetica,Arial,sans-serif;cursor:pointer}.leaflet-container .dg-attribution__link:hover{background-image:-webkit-gradient(linear,left top,right top,from(#080808),to(#080808));background-image:-webkit-linear-gradient(left,#080808,#080808 100%);background-image:linear-gradient(to right,#080808,#080808 100%);color:#333;text-decoration:none}.dg-attribution__logo-url{background-repeat:no-repeat;background-image:url(\\\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20height%3D%2224%22%20width%3D%2255%22%3E%0A%20%3Cpath%20fill%3D%22%23a2c124%22%20d%3D%22m24.395%2012c0-1.4545-0.22177-2.6545-0.66532-4-0.14785%204.2545-4.879%207.8182-7.4664%2010h6.7641c0.70229-2%201.3676-3.9273%201.3676-6m-4.731-9.3455c-2.033-1.6-4.62-2.6545-7.466-2.6545-6.7276%200-12.198%205.4182-12.198%2012s5.4704%2012%2012.198%2012c3.1048%200%205.9509-1.4545%208.1317-3.3455h-8.797v-2.6545c5.3595-4.5455%208.797-7.3455%208.797-10%200-1.1273-0.81317-2.6545-2.6983-2.6545-1.4785%200-2.6983%201.3455-2.6983%204.6545h-3.4005c-0.73925-4.2182%201.8481-7.6727%206.2466-7.6727%200.66532%200%201.2567%200.21818%201.8851%200.32727%22%2F%3E%0A%20%3Cpath%20fill%3D%22%233c4347%22%20d%3D%22m36.593%209.3455h1.3676c0-2-0.66532-5.1273-4.7312-5.2727-4.732-0.2183-6.1%202.6181-6.1%205.9272v5.3455c0%204.4%203.4375%205.3455%206.0988%205.3455%201.5524%200%203.4005-0.87273%204.7312-2v-6.6909h-5.4335v2.6545h2.6983v2.6545c-1.3676%201.3455-5.4335%201.3455-5.4335-2.6545v-5.3091c0-4%205.9509-4.1455%205.6183%200h1.1828zm18.296%206.6545c0-5.8182-6.9859-4.0727-6.9859-7.6%200-1.2%200.81317-2%202.1808-2%201.4415%200%202.2547%201.0182%202.2547%202.9818h2.5874c0-2-0.66532-5.3455-4.7312-5.3455-2.7722%200-4.879%201.4182-4.879%204.3273%200%206.0727%207.1707%204.0727%207.0598%207.6727-0.07392%201.4545-1.1458%202.0727-2.3656%202.0727-1.4415%200-2.6983-0.72727-2.4395-3.3818h-2.6613c-0.25874%203.3455%201.4415%206%205.3595%206%202.699%200%204.732-2.145%204.732-5.345l-0.111%200.618zm-12.198%204h-2.6983v-16h2.6983v16z%22%2F%3E%0A%3C%2Fsvg%3E%0A\\\");width:55px;height:24px;background-size:55px 24px;position:absolute;margin:0 3px 0 0}.dg-location__pin{background-repeat:no-repeat;width:20px;height:20px;background-image:url(https://maps.api.2gis.ru/2.0/img/sprite.basic.png);background-position:-55px 0;background-size:87px 74px}.leaflet-retina .dg-location__pin{background-image:url(https://maps.api.2gis.ru/2.0/img/sprite@2x.basic.png);background-position:-55px 0;background-size:91px 71.5px}.dg-location__pin_state_following{background-repeat:no-repeat;width:20px;height:20px;background-image:url(https://maps.api.2gis.ru/2.0/img/sprite.basic.png);background-position:-22px -24px;background-size:87px 74px}.leaflet-retina .dg-location__pin_state_following{background-image:url(https://maps.api.2gis.ru/2.0/img/sprite@2x.basic.png);background-position:-21px -24px;background-size:91px 71.5px}.dg-control-round__icon_name_locate:after{position:absolute;top:0;right:0;bottom:0;left:0;margin:auto;content:''}.dg-control-round__icon_state_active.dg-control-round__icon_name_locate:active:after,.dg-control-round__icon_state_active.dg-control-round__icon_name_locate:after,.no-touch .dg-control-round__icon_state_active.dg-control-round__icon_name_locate:hover:after{background-repeat:no-repeat;background-image:url(\\\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2218%22%20height%3D%2218%22%3E%0A%20%20%20%20%3Cg%20fill%3D%22%2323a5d4%22%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M%2017%2C8%20H%2015.92%20C%2015.48%2C4.937%2013.064%2C2.52%2010%2C2.08%20V%201%20C%2010%2C0.448%209.553%2C0%209%2C0%208.447%2C0%208%2C0.448%208%2C1%20V%202.08%20C%204.936%2C2.52%202.52%2C4.937%202.08%2C8%20H%201%20C%200.447%2C8%200%2C8.448%200%2C9%200%2C9.553%200.447%2C10%201%2C10%20H%202.08%20C%202.52%2C13.063%204.936%2C15.48%208%2C15.92%20V%2017%20c%200%2C0.553%200.447%2C1%201%2C1%200.553%2C0%201%2C-0.447%201%2C-1%20V%2015.92%20C%2013.064%2C15.481%2015.48%2C13.064%2015.92%2C10%20H%2017%20C%2017.553%2C10%2018%2C9.553%2018%2C9%2018%2C8.448%2017.553%2C8%2017%2C8%20z%20M%209%2C14%20C%206.24%2C14%204%2C11.762%204%2C9%204%2C6.238%206.24%2C4%209%2C4%20c%202.761%2C0%205%2C2.238%205%2C5%200%2C2.762%20-2.239%2C5%20-5%2C5%20z%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Ccircle%20cx%3D%229%22%20cy%3D%229%22%20r%3D%223%22%2F%3E%0A%20%20%20%20%3C%2Fg%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%2014%2C10.004%20C%2014%2C9.834%2013.991%2C9.667%2013.975%2C9.502%2013.723%2C12.027%2011.592%2C14%209%2C14%206.408%2C14%204.277%2C12.027%204.025%2C9.502%204.009%2C9.667%204%2C9.834%204%2C10.004%20c%200%2C2.762%202.24%2C5%205%2C5%202.761%2C0%205%2C-2.238%205%2C-5%20z%20M%2010%2C3.083%20c%203.064%2C0.439%205.48%2C2.856%205.92%2C5.921%20H%2017%20c%200.369%2C0%200.688%2C0.201%200.86%2C0.498%20C%2017.947%2C9.354%2018%2C9.184%2018%2C9%2018%2C8.448%2017.553%2C8%2017%2C8%20H%2015.92%20C%2015.48%2C4.937%2013.064%2C2.52%2010%2C2.08%20V%203.083%20z%20M%201%2C9.004%20H%202.08%20C%202.52%2C5.939%204.936%2C3.522%208%2C3.083%20V%202.08%20C%204.936%2C2.52%202.52%2C4.937%202.08%2C8%20H%201%20C%200.447%2C8%200%2C8.448%200%2C9%200%2C9.184%200.053%2C9.354%200.14%2C9.502%200.312%2C9.205%200.631%2C9.004%201%2C9.004%20z%20m%208%2C-8%20c%200.553%2C0%201%2C0.447%201%2C1%20V%201%20C%2010%2C0.448%209.553%2C0%209%2C0%208.447%2C0%208%2C0.448%208%2C1%20v%201.004%20c%200%2C-0.553%200.447%2C-1%201%2C-1%20z%22%20fill%3D%22%232685aa%22%2F%3E%0A%20%20%20%20%3Cpath%20d%3D%22m%209%2C7%20c%201.486%2C0%202.717%2C1.082%202.955%2C2.5%20C%2011.982%2C9.337%2012%2C9.171%2012%2C9%2012%2C7.344%2010.656%2C6%209%2C6%207.344%2C6%206%2C7.344%206%2C9%206%2C9.171%206.018%2C9.337%206.045%2C9.5%206.283%2C8.082%207.514%2C7%209%2C7%20z%22%20fill%3D%22%231c85ab%22%2F%3E%0A%3C%2Fsvg%3E%0A\\\")}@-webkit-keyframes DGLocation__locateIconRequestingAnim{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes DGLocation__locateIconRequestingAnim{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.dg-control-round__icon_name_locate:after{background-repeat:no-repeat;background-image:url(\\\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2218%22%20height%3D%2218%22%3E%0A%20%20%20%20%3Cg%20fill%3D%22%23616161%22%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M%2017%2C8%20H%2015.92%20C%2015.48%2C4.937%2013.064%2C2.52%2010%2C2.08%20V%201%20C%2010%2C0.448%209.553%2C0%209%2C0%208.447%2C0%208%2C0.448%208%2C1%20V%202.08%20C%204.936%2C2.52%202.52%2C4.937%202.08%2C8%20H%201%20C%200.447%2C8%200%2C8.448%200%2C9%200%2C9.553%200.447%2C10%201%2C10%20H%202.08%20C%202.52%2C13.063%204.936%2C15.48%208%2C15.92%20V%2017%20c%200%2C0.553%200.447%2C1%201%2C1%200.553%2C0%201%2C-0.447%201%2C-1%20V%2015.92%20C%2013.064%2C15.481%2015.48%2C13.064%2015.92%2C10%20H%2017%20C%2017.553%2C10%2018%2C9.553%2018%2C9%2018%2C8.448%2017.553%2C8%2017%2C8%20z%20M%209%2C14%20C%206.24%2C14%204%2C11.762%204%2C9%204%2C6.238%206.24%2C4%209%2C4%20c%202.761%2C0%205%2C2.238%205%2C5%200%2C2.762%20-2.239%2C5%20-5%2C5%20z%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Ccircle%20cx%3D%229%22%20cy%3D%229%22%20r%3D%223%22%2F%3E%0A%20%20%20%20%3C%2Fg%3E%0A%20%20%20%20%3Cg%20fill%3D%22%23444%22%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M%2014%2C10.004%20C%2014%2C9.834%2013.991%2C9.667%2013.975%2C9.502%2013.723%2C12.027%2011.592%2C14%209%2C14%206.408%2C14%204.277%2C12.027%204.025%2C9.502%204.009%2C9.667%204%2C9.834%204%2C10.004%20c%200%2C2.762%202.24%2C5%205%2C5%202.761%2C0%205%2C-2.238%205%2C-5%20z%20M%2010%2C3.083%20c%203.064%2C0.439%205.48%2C2.856%205.92%2C5.921%20H%2017%20c%200.369%2C0%200.688%2C0.201%200.86%2C0.498%20C%2017.947%2C9.354%2018%2C9.184%2018%2C9%2018%2C8.448%2017.553%2C8%2017%2C8%20H%2015.92%20C%2015.48%2C4.937%2013.064%2C2.52%2010%2C2.08%20V%203.083%20z%20M%201%2C9.004%20H%202.08%20C%202.52%2C5.939%204.936%2C3.522%208%2C3.083%20V%202.08%20C%204.936%2C2.52%202.52%2C4.937%202.08%2C8%20H%201%20C%200.447%2C8%200%2C8.448%200%2C9%200%2C9.184%200.053%2C9.354%200.14%2C9.502%200.312%2C9.205%200.631%2C9.004%201%2C9.004%20z%20m%208%2C-8%20c%200.553%2C0%201%2C0.447%201%2C1%20V%201%20C%2010%2C0.448%209.553%2C0%209%2C0%208.447%2C0%208%2C0.448%208%2C1%20v%201.004%20c%200%2C-0.553%200.447%2C-1%201%2C-1%20z%22%2F%3E%0A%20%20%20%20%3C%2Fg%3E%0A%20%20%20%20%3Cpath%20d%3D%22m%209%2C7%20c%201.486%2C0%202.717%2C1.082%202.955%2C2.5%20C%2011.982%2C9.337%2012%2C9.171%2012%2C9%2012%2C7.344%2010.656%2C6%209%2C6%207.344%2C6%206%2C7.344%206%2C9%206%2C9.171%206.018%2C9.337%206.045%2C9.5%206.283%2C8.082%207.514%2C7%209%2C7%20z%22%20fill%3D%22%23444%22%2F%3E%0A%3C%2Fsvg%3E%0A\\\");width:18px;height:18px;background-size:18px 18px}.dg-control-round__icon_name_locate:active:after,.no-touch .dg-control-round__icon_name_locate:hover:after{background-repeat:no-repeat;background-image:url(\\\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2218%22%20height%3D%2218%22%3E%0A%20%20%20%20%3Cg%20fill%3D%22%23424242%22%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M%2017%2C8%20H%2015.92%20C%2015.48%2C4.937%2013.064%2C2.52%2010%2C2.08%20V%201%20C%2010%2C0.448%209.553%2C0%209%2C0%208.447%2C0%208%2C0.448%208%2C1%20V%202.08%20C%204.936%2C2.52%202.52%2C4.937%202.08%2C8%20H%201%20C%200.447%2C8%200%2C8.448%200%2C9%200%2C9.553%200.447%2C10%201%2C10%20H%202.08%20C%202.52%2C13.063%204.936%2C15.48%208%2C15.92%20V%2017%20c%200%2C0.553%200.447%2C1%201%2C1%200.553%2C0%201%2C-0.447%201%2C-1%20V%2015.92%20C%2013.064%2C15.481%2015.48%2C13.064%2015.92%2C10%20H%2017%20C%2017.553%2C10%2018%2C9.553%2018%2C9%2018%2C8.448%2017.553%2C8%2017%2C8%20z%20M%209%2C14%20C%206.24%2C14%204%2C11.762%204%2C9%204%2C6.238%206.24%2C4%209%2C4%20c%202.761%2C0%205%2C2.238%205%2C5%200%2C2.762%20-2.239%2C5%20-5%2C5%20z%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Ccircle%20cx%3D%229%22%20cy%3D%229%22%20r%3D%223%22%2F%3E%0A%20%20%20%20%3C%2Fg%3E%0A%20%20%20%20%3Cg%20fill%3D%22%232e2e2e%22%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M%2014%2C10.004%20C%2014%2C9.834%2013.991%2C9.667%2013.975%2C9.502%2013.723%2C12.027%2011.592%2C14%209%2C14%206.408%2C14%204.277%2C12.027%204.025%2C9.502%204.009%2C9.667%204%2C9.834%204%2C10.004%20c%200%2C2.762%202.24%2C5%205%2C5%202.761%2C0%205%2C-2.238%205%2C-5%20z%20M%2010%2C3.083%20c%203.064%2C0.439%205.48%2C2.856%205.92%2C5.921%20H%2017%20c%200.369%2C0%200.688%2C0.201%200.86%2C0.498%20C%2017.947%2C9.354%2018%2C9.184%2018%2C9%2018%2C8.448%2017.553%2C8%2017%2C8%20H%2015.92%20C%2015.48%2C4.937%2013.064%2C2.52%2010%2C2.08%20V%203.083%20z%20M%201%2C9.004%20H%202.08%20C%202.52%2C5.939%204.936%2C3.522%208%2C3.083%20V%202.08%20C%204.936%2C2.52%202.52%2C4.937%202.08%2C8%20H%201%20C%200.447%2C8%200%2C8.448%200%2C9%200%2C9.184%200.053%2C9.354%200.14%2C9.502%200.312%2C9.205%200.631%2C9.004%201%2C9.004%20z%20m%208%2C-8%20c%200.553%2C0%201%2C0.447%201%2C1%20V%201%20C%2010%2C0.448%209.553%2C0%209%2C0%208.447%2C0%208%2C0.448%208%2C1%20v%201.004%20c%200%2C-0.553%200.447%2C-1%201%2C-1%20z%22%2F%3E%0A%20%20%20%20%3C%2Fg%3E%0A%20%20%20%20%3Cpath%20d%3D%22m%209%2C7%20c%201.486%2C0%202.717%2C1.082%202.955%2C2.5%20C%2011.982%2C9.337%2012%2C9.171%2012%2C9%2012%2C7.344%2010.656%2C6%209%2C6%207.344%2C6%206%2C7.344%206%2C9%206%2C9.171%206.018%2C9.337%206.045%2C9.5%206.283%2C8.082%207.514%2C7%209%2C7%20z%22%20fill%3D%22%232e2e2e%22%2F%3E%0A%3C%2Fsvg%3E%0A\\\")}.dg-control-round__icon_state_requesting.dg-control-round__icon_name_locate:active:after,.dg-control-round__icon_state_requesting.dg-control-round__icon_name_locate:after,.no-touch .dg-control-round__icon_state_requesting.dg-control-round__icon_name_locate:hover:after{background-repeat:no-repeat;width:24px;height:24px;background-image:url(https://maps.api.2gis.ru/2.0/img/sprite.dark.png);background-position:0 0;background-size:78px 65px;-webkit-animation:DGLocation__locateIconRequestingAnim 1s linear infinite;animation:DGLocation__locateIconRequestingAnim 1s linear infinite;image-rendering:optimizeQuality}.leaflet-retina .dg-control-round__icon_state_requesting.dg-control-round__icon_name_locate:active:after,.leaflet-retina .dg-control-round__icon_state_requesting.dg-control-round__icon_name_locate:after,.leaflet-retina .no-touch .dg-control-round__icon_state_requesting.dg-control-round__icon_name_locate:hover:after{background-image:url(https://maps.api.2gis.ru/2.0/img/sprite@2x.dark.png);background-position:0 0;background-size:78px 65px}.dg-control-round__icon_name_fullscreen:after{position:absolute;top:0;right:0;bottom:0;left:0;margin:auto;content:''}.dg-control-round__icon_state_active.dg-control-round__icon_name_fullscreen:active:after,.dg-control-round__icon_state_active.dg-control-round__icon_name_fullscreen:after,.no-touch .dg-control-round__icon_state_active.dg-control-round__icon_name_fullscreen:hover:after{background-repeat:no-repeat;background-image:url(\\\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%206%2C1%20H%201%20V%206%20H%203%20V%203%20h%203%20z%20m%204%2C14%20h%205%20v%20-5%20h%20-2%20v%203%20H%2010%20z%20M%2015%2C6%20V%201%20h%20-5%20v%202%20h%203%20V%206%20z%20M%201%2C10%20v%205%20H%206%20V%2013%20H%203%20v%20-3%20z%22%20fill%3D%22%230da4d4%22%2F%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%201%2C1%20H%206%20V%202%20H%201%20z%20m%209%2C0%20h%205%20v%201%20h%20-5%20z%20m%203%2C9%20h%202%20v%201%20h%20-2%20z%20m%20-3%2C3%20h%203%20v%201%20h%20-3%20z%20m%20-7%2C0%20h%203%20v%201%20H%203%20z%20M%201%2C10%20h%202%20v%201%20H%201%20z%22%20fill%3D%22%230a84ab%22%2F%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%201%2C6%20H%203%20V%207%20H%201%20z%20m%2012%2C0%20h%202%20V%207%20H%2013%20z%20M%201%2C15%20h%205%20v%201%20H%201%20z%20m%209%2C0%20h%205%20v%201%20h%20-5%20z%22%20fill%3D%22%23fff%22%2F%3E%0A%3C%2Fsvg%3E%0A\\\")}.dg-control-round__icon_name_fullscreen:after{background-repeat:no-repeat;background-image:url(\\\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%201%2C3%20H%206%20V%204%20H%201%20z%22%20fill%3D%22%23fff%22%2F%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%206%2C1%20H%201%20V%206%20H%203%20V%203%20h%203%20z%20m%204%2C14%20h%205%20v%20-5%20h%20-2%20v%203%20h%20-3%20z%22%20fill%3D%22%236c6c6c%22%2F%3E%0A%20%20%20%20%3Cpath%20d%3D%22m%2010%2C3%20h%205%20v%201%20h%20-5%20z%22%20fill%3D%22%23fff%22%2F%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%2015%2C6%20V%201%20h%20-5%20v%202%20h%203%20V%206%20z%20M%201%2C10%20v%205%20H%206%20V%2013%20H%203%20v%20-3%20z%22%20fill%3D%22%236c6c6c%22%2F%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%201%2C1%20H%206%20V%202%20H%201%20z%20m%209%2C0%20h%205%20v%201%20h%20-5%20z%20m%203%2C9%20h%202%20v%201%20h%20-2%20z%20m%20-3%2C3%20h%203%20v%201%20h%20-3%20z%20m%20-7%2C0%20h%203%20v%201%20H%203%20z%20M%201%2C10%20h%202%20v%201%20H%201%20z%22%20fill%3D%22%234b4b4b%22%2F%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%201%2C6%20H%203%20V%207%20H%201%20z%20m%2012%2C0%20h%202%20V%207%20H%2013%20z%20M%201%2C15%20h%205%20v%201%20H%201%20z%20m%209%2C0%20h%205%20v%201%20h%20-5%20z%22%20fill%3D%22%23fff%22%2F%3E%0A%3C%2Fsvg%3E%0A\\\");width:16px;height:16px;background-size:16px 16px}.dg-control-round__icon_name_fullscreen:active:after,.no-touch .dg-control-round__icon_name_fullscreen:hover:after{background-repeat:no-repeat;background-image:url(\\\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22m%2012%2C9%20h%204%20v%207%20h%20-4%20z%20m%20-3%2C3%20h%205%20v%204%20H%209%20z%22%20fill%3D%22%23fff%22%2F%3E%0A%20%20%20%20%3Cpath%20d%3D%22m%2010%2C15%20h%205%20v%20-5%20h%20-2%20v%203%20h%20-3%20z%22%20fill%3D%22%23282828%22%2F%3E%0A%20%20%20%20%3Cpath%20d%3D%22m%200%2C9%20h%204%20v%207%20H%200%20z%20m%202%2C3%20h%205%20v%204%20H%202%20z%22%20fill%3D%22%23fff%22%2F%3E%0A%20%20%20%20%3Cpath%20d%3D%22m%201%2C10%20v%205%20H%206%20V%2013%20H%203%20v%20-3%20z%22%20fill%3D%22%23282828%22%2F%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%200%2C0%20H%204%20V%207%20H%200%20z%20m%209%2C0%20h%205%20V%204%20H%209%20z%20m%203%2C0%20h%204%20v%207%20h%20-4%20z%22%20fill%3D%22%23fff%22%2F%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%2015%2C6%20V%201%20h%20-5%20v%202%20h%203%20v%203%20z%22%20fill%3D%22%23282828%22%2F%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%202%2C0%20H%207%20V%204%20H%202%20z%22%20fill%3D%22%23fff%22%2F%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%206%2C1%20H%201%20V%206%20H%203%20V%203%20h%203%20z%22%20fill%3D%22%23282828%22%2F%3E%0A%3C%2Fsvg%3E%0A\\\")}.dg-building-callout__body{position:relative}.dg-building-callout__list{margin-bottom:8px;padding-left:24px;color:#ffe6aa;list-style:none}.dg-building-callout__list-item{position:relative;margin-bottom:4px;font-size:12px}.dg-building-callout__list-item:before{position:absolute;top:5px;left:-21px;content:'';background-repeat:no-repeat;background-image:url(\\\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%226%22%20height%3D%226%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%203%2C-0.002%20C%204.654%2C-0.002%205.994%2C1.342%205.994%2C3%205.994%2C4.658%204.655%2C6.002%203%2C6.002%201.345%2C6.002%200.005%2C4.658%200.005%2C3%200.005%2C1.342%201.346%2C-0.002%203%2C-0.002%20z%22%20fill%3D%22%23aaa%22%20fill-rule%3D%22evenodd%22%2F%3E%0A%3C%2Fsvg%3E%0A\\\");width:6px;height:6px;background-size:6px 6px}.dg-map-geoclicker__address{margin-bottom:10px;font-size:16px}.dg-map-geoclicker__purpose+.dg-map-geoclicker__address{margin-top:-6px}.dg-map-geoclicker__address-header{position:relative;margin-bottom:4px;padding-left:24px}.dg-map-geoclicker__address-header:first-child:before{position:absolute;top:5px;left:1px;content:''}.dg-map-geoclicker__address-drilldown{position:relative;margin-bottom:4px;padding-left:24px;color:#aaa;font-size:12px}.dg-map-geoclicker__address-drilldown:first-child:before{position:absolute;top:2px;left:1px;content:''}.dg-map-geoclicker__purpose{position:relative;margin-bottom:10px;padding-left:24px;font-size:16px}.dg-map-geoclicker__address+.dg-map-geoclicker__purpose{margin-top:-6px}.dg-map-geoclicker__purpose:before{position:absolute;top:4px;left:2px;content:''}.dg-map-geoclicker__purpose_type_street:before{top:4px}.dg-map-geoclicker__sight-description{overflow:hidden;padding:.5em 0 0 24px;max-height:3.6em}a.dg-map-geoclicker__show-more-sights-link{position:relative;margin-left:24px;border-bottom:1px dotted;text-decoration:none}a.dg-map-geoclicker__show-more-sights-link:after{position:absolute;top:4px;margin-left:5px;width:6px;height:10px;content:'';font-weight:700}.dg-map-geoclicker__clamped-line{display:block;white-space:nowrap}.dg-map-geoclicker__clamped-line_last{overflow:hidden;width:100%;text-overflow:ellipsis}.dg-map-geoclicker__preloader-wrapper{display:table-cell;vertical-align:middle;text-align:center}.dg-map-geoclicker__drilldown{margin-bottom:10px}.dg-map-geoclicker__address-drilldown:first-child:before,.dg-map-geoclicker__address-header:first-child:before{background-repeat:no-repeat;background-image:url(\\\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%229%22%20height%3D%2211%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%204.958%2C11%20C%204.958%2C9.036%206.756%2C6.751%208.719%2C6.751%208.885%2C6.223%209%2C5.656%209%2C5.063%209%2C2.267%206.985%2C0%204.5%2C0%202.015%2C0%200%2C2.267%200%2C5.063%200%2C5.656%200.114%2C6.222%200.28%2C6.751%202.243%2C6.751%204.018%2C9.012%204.018%2C11%20h%200.94%20z%22%20fill%3D%22%23a0a0a0%22%2F%3E%0A%3C%2Fsvg%3E%0A\\\");width:9px;height:11px;background-size:9px 11px}.dg-map-geoclicker__purpose:before{background-repeat:no-repeat;background-image:url(\\\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%228%22%20height%3D%2212%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22m%203.582%2C8%20c%200.211%2C0%200.798%2C0.035%201%2C0%20v%204%20l%20-2%2C-1%20V%208%20c%200.372%2C0.066%200.861%2C0%201%2C0%20z%20M%200.44%2C5.384%20C%200.163%2C4.866%200%2C4.276%200%2C3.646%200%2C1.633%201.604%2C0.002%203.582%2C0.002%20c%201.978%2C0%203.582%2C1.631%203.582%2C3.644%200%2C0.647%20-0.169%2C1.254%20-0.461%2C1.781%20L%206.641%2C5.495%206.618%2C5.567%20C%205.954%2C6.549%204.844%2C7.192%203.584%2C7.192%202.25%2C7.192%201.084%2C6.467%200.44%2C5.384%20z%20M%202.613%2C1.276%20c%20-0.549%2C0%20-0.995%2C0.453%20-0.995%2C1.013%200%2C0.559%200.446%2C1.013%200.995%2C1.013%200.551%2C0%200.996%2C-0.454%200.996%2C-1.013%200%2C-0.56%20-0.445%2C-1.013%20-0.996%2C-1.013%20z%22%20fill%3D%22%23a0a0a0%22%2F%3E%0A%3C%2Fsvg%3E%0A\\\");width:8px;height:12px;background-size:8px 12px}.dg-map-geoclicker__purpose_type_street:before{background-repeat:no-repeat;background-image:url(\\\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2212%22%20height%3D%2212%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%208.8%2C0%20H%203.199%20L%200%2C12%20H%2012%20L%208.8%2C0%20z%20M%207%2C12%20H%205%20V%209%20h%202%20v%203%20z%20M%207%2C8%20H%205%20V%206%20H%207%20V%208%20z%20M%207%2C5%20H%205%20V%203%20H%207%20V%205%20z%20M%207%2C2%20H%205%20V%200%20h%202%20v%202%20z%22%20fill%3D%22%23a0a0a0%22%2F%3E%0A%3C%2Fsvg%3E%0A\\\");width:12px;height:12px;background-size:12px 12px}.dg-map-geoclicker__purpose_type_sight:before{background-repeat:no-repeat;background-image:url(\\\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%228%22%20height%3D%2212%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%207%2C0%20H%202.547%20C%200.547%2C0%200%2C0.828%200%2C2.5%200%2C3.734%200.5%2C5%202%2C5%203.359%2C5%204%2C3.844%204%2C3%204%2C2.281%202.859%2C2%202%2C2%202%2C2.766%202.234%2C3%203%2C3%203%2C3.69%202.48%2C4%202%2C4%201.234%2C4%201%2C3.329%201%2C2.5%201%2C1.693%201.375%2C1%202.5%2C1%204.391%2C1%205%2C1.656%205%2C3%205%2C4.6%204.338%2C5.119%203%2C6%20v%204%20H%202%20v%202%20H%208%20V%201%20L%207%2C0%20z%20M%204%2C10%20V%206%20l%201%2C1%20v%203%20H%204%20z%20m%202%2C0%20V%206%20l%201%2C1%20v%203%20H%206%20z%22%20fill%3D%22%23aaa%22%20fill-rule%3D%22evenodd%22%2F%3E%0A%3C%2Fsvg%3E%0A\\\");width:8px;height:12px;background-size:8px 12px}.dg-map-geoclicker__purpose_type_settlement:before{background-repeat:no-repeat;background-image:url(\\\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2212%22%20height%3D%2212%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%209%2C9%20C%208.235%2C9%207.762%2C9.522%207.259%2C10.022%207.795%2C10.38%208.051%2C11.05%207.879%2C12%20H%2012%20C%2012%2C10.46%2010.535%2C9%209%2C9%20z%20m%20-2.868%2C1.248%20c%20-0.965%2C0%20-1.747%2C0.784%20-1.747%2C1.751%20h%203.494%20c%200%2C-0.967%20-0.782%2C-1.751%20-1.747%2C-1.751%20z%20M%2010%2C1%20V%200%20H%207%20V%201%20H%205%20V%206%20L%206%2C7%20V%202%20H%207%20V%207%20L%208%2C8%20V%202%20h%201%20v%206%20h%201%20V%202%20h%201%20v%207%20l%201%2C0.607%20V%201%20H%2010%20z%20M%206.66%2C9.539%206.721%2C9.479%20C%206.903%2C9.297%207.104%2C9.14%207.314%2C9.004%20V%208.414%20L%206.131%2C7.187%203%2C8%20v%204%20H%203.62%20C%203.62%2C10.612%204.747%2C9.483%206.132%2C9.483%206.312%2C9.482%206.49%2C9.502%206.66%2C9.539%20z%20M%202%2C12%20z%20M%201%2C2%200%2C5%20v%207%20H%202%20V%205%20L%201%2C2%20z%20M%201.111%2C6.955%20C%200.804%2C6.955%200.556%2C6.706%200.556%2C6.4%20c%200%2C-0.307%200.248%2C-0.555%200.555%2C-0.555%200.307%2C0%200.554%2C0.248%200.554%2C0.555%200%2C0.306%20-0.247%2C0.555%20-0.554%2C0.555%20z%22%20fill%3D%22%23a0a0a0%22%2F%3E%0A%3C%2Fsvg%3E%0A\\\");width:12px;height:12px;background-size:12px 12px}a.dg-map-geoclicker__show-more-sights-link{color:#ffe6aa}.no-touch a.dg-map-geoclicker__show-more-sights-link:hover{color:#9cd}a.dg-map-geoclicker__show-more-sights-link:after{background-repeat:no-repeat;background-image:url(\\\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%226%22%20height%3D%2210%22%20viewBox%3D%220%200%206%2010%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%206%2C5%20V%205.4%20L%201.4%2C10%20H%200%20L%200%2C8.6%203.6%2C5%200%2C1.4%200%2C0%201.4%2C0%206%2C4.6%20V%205%20l%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%20z%22%20fill%3D%22%23aaa%22%20fill-rule%3D%22evenodd%22%2F%3E%0A%3C%2Fsvg%3E%0A\\\")}.dg-map-geoclicker__drilldown{color:#aaa}.dg-preloader{position:relative;margin:0 auto;width:200px;height:44px;vertical-align:middle}.dg-preloader_animation_false{background-repeat:no-repeat;background-image:url(https://maps.api.2gis.ru/2.0/img/DGPreloader__preloader.gif);background-size:100px 26px;background-attachment:scroll;background-position:50% 50%}.dg-preloader_animation_true:before{position:absolute;top:50%;left:50%;margin:-22px 0 0 -22px;width:44px;height:44px;outline:transparent solid 1px;content:'';-webkit-animation:dg-preloader__outer 5s linear infinite;animation:dg-preloader__outer 5s linear infinite;image-rendering:optimizeQuality}.dg-preloader_animation_true.dg-preloader_size_small:before{margin:-12px 0 0 -12px;width:24px;height:24px}.dg-preloader_animation_true.dg-preloader_scheme_regular:before{background-repeat:no-repeat;background-image:url(\\\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2244%22%20height%3D%2244%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%2035.68%2C10.32%20C%2038.368%2C13.465%2040%2C17.539%2040%2C22%2040%2C31.941%2031.941%2C40%2022%2C40%2012.059%2C40%204%2C31.941%204%2C22%204%2C17.539%205.632%2C13.465%208.32%2C10.32%20L%205.48%2C7.48%20C%202.07%2C11.354%200%2C16.434%200%2C22%200%2C34.15%209.85%2C44%2022%2C44%2034.15%2C44%2044%2C34.15%2044%2C22%2044%2C16.434%2041.93%2C11.354%2038.52%2C7.48%20l%20-2.84%2C2.84%20z%22%20fill%3D%22%230da5d5%22%2F%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%209.271%2C9.272%20C%2012.529%2C6.015%2017.029%2C4%2022%2C4%2026.971%2C4%2031.471%2C6.015%2034.729%2C9.272%20L%2037.557%2C6.444%20C%2033.575%2C2.462%2028.075%2C0%2022%2C0%2015.925%2C0%2010.425%2C2.462%206.443%2C6.444%20l%202.828%2C2.828%20z%22%20fill%3D%22%23a6cd2a%22%2F%3E%0A%3C%2Fsvg%3E%0A\\\");background-size:44px 44px}.dg-preloader_animation_true.dg-preloader_scheme_regular.dg-preloader_size_small:before{background-repeat:no-repeat;background-image:url(\\\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%2018.564%2C7.435%20C%2019.467%2C8.73%2020%2C10.302%2020%2C12%2020%2C16.418%2016.418%2C20%2012%2C20%207.582%2C20%204%2C16.418%204%2C12%204%2C10.302%204.533%2C8.73%205.436%2C7.435%20L%202.581%2C4.581%20C%200.969%2C6.623%200%2C9.195%200%2C12%200%2C18.627%205.373%2C24%2012%2C24%2018.627%2C24%2024%2C18.627%2024%2C12%2024%2C9.195%2023.031%2C6.623%2021.419%2C4.581%20l%20-2.855%2C2.854%20z%22%20fill%3D%22%230da5d5%22%2F%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%2012%2C0%20C%208.686%2C0%205.686%2C1.343%203.516%2C3.515%20L%206.343%2C6.343%20C%207.791%2C4.895%209.791%2C4%2012%2C4%20c%202.209%2C0%204.209%2C0.895%205.657%2C2.343%20L%2020.484%2C3.515%20C%2018.314%2C1.343%2015.314%2C0%2012%2C0%20z%22%20fill%3D%22%23a6cd2a%22%2F%3E%0A%3C%2Fsvg%3E%0A\\\");background-size:24px 24px}.dg-preloader_animation_true:after{position:absolute;top:50%;left:50%;margin:-16px 0 0 -16px;width:32px;height:32px;outline:transparent solid 1px;content:'';-webkit-animation:dg-preloader__inner 4s linear infinite;animation:dg-preloader__inner 4s linear infinite;image-rendering:optimizeQuality}.dg-preloader_animation_true.dg-preloader_size_small:after{margin:-6px 0 0 -6px;width:12px;height:12px}.dg-preloader_animation_true.dg-preloader_scheme_regular:after{background-repeat:no-repeat;background-image:url(\\\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2232%22%20height%3D%2232%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%206.581%2C23.419%20C%204.969%2C21.377%204%2C18.804%204%2C16%204%2C9.373%209.373%2C4%2016%2C4%20c%206.627%2C0%2012%2C5.373%2012%2C12%200%2C2.804%20-0.969%2C5.377%20-2.581%2C7.419%20l%202.847%2C2.847%20C%2030.594%2C23.487%2032%2C19.909%2032%2C16%2032%2C7.163%2024.837%2C0%2016%2C0%207.163%2C0%200%2C7.163%200%2C16%20c%200%2C3.909%201.406%2C7.487%203.734%2C10.266%20l%202.847%2C-2.847%20z%22%20fill%3D%22%23a6cd2a%22%2F%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%2027.314%2C27.314%2024.486%2C24.486%20C%2022.314%2C26.657%2019.314%2C28%2016%2C28%2012.686%2C28%209.686%2C26.657%207.516%2C24.485%20L%204.688%2C27.313%20C%207.582%2C30.209%2011.582%2C32%2016%2C32%20c%204.418%2C0%208.418%2C-1.791%2011.314%2C-4.686%20z%22%20fill%3D%22%230da5d5%22%2F%3E%0A%3C%2Fsvg%3E%0A\\\");background-size:32px 32px}.dg-preloader_animation_true.dg-preloader_scheme_regular.dg-preloader_size_small:after{background-repeat:no-repeat;background-image:url(\\\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2212%22%20height%3D%2212%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%203.141%2C6.86%20C%203.059%2C6.586%203%2C6.301%203%2C6%203%2C4.343%204.343%2C3%206%2C3%207.657%2C3%209%2C4.343%209%2C6%209%2C6.301%208.941%2C6.586%208.859%2C6.86%20l%202.26%2C2.259%20C%2011.674%2C8.209%2012%2C7.144%2012%2C6%2012%2C2.686%209.314%2C0%206%2C0%202.686%2C0%200%2C2.686%200%2C6%200%2C7.144%200.326%2C8.209%200.881%2C9.119%20L%203.141%2C6.86%20z%22%20fill%3D%22%23a6cd2a%22%2F%3E%0A%20%20%20%20%3Cpath%20d%3D%22m%206%2C12%20c%201.657%2C0%203.157%2C-0.672%204.243%2C-1.757%20L%208.122%2C8.122%20C%207.578%2C8.664%206.828%2C9%206%2C9%205.172%2C9%204.422%2C8.664%203.879%2C8.121%20L%201.758%2C10.242%20C%202.843%2C11.328%204.343%2C12%206%2C12%20z%22%20fill%3D%22%230da5d5%22%2F%3E%0A%3C%2Fsvg%3E%0A\\\");background-size:12px 12px}@-webkit-keyframes dg-preloader__outer{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes dg-preloader__outer{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes dg-preloader__inner{to{-webkit-transform:rotate(-360deg);transform:rotate(-360deg)}}@keyframes dg-preloader__inner{to{-webkit-transform:rotate(-360deg);transform:rotate(-360deg)}}.dg-popup__footer-buttons{display:table;margin-top:10px;width:100%}.dg-popup__footer-button-wrapper{display:table-cell}.dg-popup__footer-button{position:relative;display:inline-block;-webkit-box-sizing:border-box;box-sizing:border-box;margin-left:5%;width:95%;border-radius:2px;text-align:center;text-decoration:none;font:12px/24px Arial,sans-serif;cursor:pointer;-webkit-transition:all .1s;transition:all .1s}.dg-popup__footer-button-wrapper:first-child .dg-popup__footer-button{margin:0;width:100%}.no-touch .dg-popup__footer-button:hover{-webkit-transition:all .2s;transition:all .2s}.dg-popup__footer-icon-button:before{display:inline-block;margin:-2px 5px 0 0;width:12px;height:12px;background-size:contain;background-repeat:no-repeat;content:'';vertical-align:middle}.dg-popup__button_name_back:before,.dg-popup__button_name_firm-card-back:before,.dg-popup__button_name_firm-list-back:before{width:9px;height:6px}.dg-popup__show-less-house-link{position:relative;top:6px;margin:0 15px 10px;color:#0070c0;text-decoration:none;font-size:12px;line-height:24px}.dg-popup__header-links{margin:8px 18px 0 0}.dg-popup__header-title_for_firmcard{position:relative;overflow:hidden;max-height:3.4em}.dg-popup__header-teaser{display:-webkit-box;height:3.3em;-webkit-line-clamp:3;-webkit-box-orient:vertical}.dg-popup__header-title{display:block;white-space:normal;font:22px/24px 'Arial narrow',Arial,sans-serif}.dg-popup__header-link{display:inline-block;margin-left:2.6em;vertical-align:middle;white-space:nowrap}.dg-popup__header-link:first-child{margin-left:1.2em}.dg-popup__rating{display:inline-block;margin:0 .4em 3px 0;width:70px;height:14px;vertical-align:middle}.dg-popup__rating-stars{background-image:url(\\\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2214%22%20height%3D%2214%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%206.999%2C0%208.748%2C4.989%2013.997%2C4.991%209.83%2C8.708%2011.324%2C14.002%206.999%2C10.871%202.674%2C14.002%204.168%2C8.708%200%2C4.991%205.249%2C4.989%206.999%2C0%20z%22%20fill%3D%22%23ffc84b%22%2F%3E%0A%3C%2Fsvg%3E%0A\\\");float:left;height:100%}.dg-popup__link{position:relative;background-position:center bottom;background-size:10px 1px;background-repeat:repeat-x;text-decoration:none;-webkit-tap-highlight-color:transparent}.dg-popup__link_type_flamp_reviews{margin-left:.1em}.dg-popup__link_type_photos:before{position:absolute;top:2px;left:-18px;display:inherit;content:''}.dg-popup__link_type_booklet:before{background-repeat:no-repeat;background-image:url(\\\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2212%22%20height%3D%2210%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22m%200%2C8%203%2C2%20V%202%20L%200%2C0%20V%208%20z%20M%204%2C10%208%2C8%20V%200%20L%204%2C2%20v%208%20z%20M%209%2C0%20v%208%20l%203%2C2%20V%202%20L%209%2C0%20z%22%20fill%3D%22%237dc814%22%20fill-rule%3D%22evenodd%22%2F%3E%0A%3C%2Fsvg%3E%0A\\\");width:12px;height:10px;background-size:12px 10px;position:absolute;top:2px;left:-18px;display:inherit;content:''}a.dg-popup__link{background-image:-webkit-gradient(linear,left top,right top,from(rgba(255,230,170,.3)),to(rgba(255,230,170,.3)));background-image:-webkit-linear-gradient(left,rgba(255,230,170,.3),rgba(255,230,170,.3) 100%);background-image:linear-gradient(to right,rgba(255,230,170,.3),rgba(255,230,170,.3) 100%);color:#ffe6aa}.no-touch a.dg-popup__link:hover{background-image:-webkit-gradient(linear,left top,right top,from(rgba(153,204,221,.3)),to(rgba(153,204,221,.3)));background-image:-webkit-linear-gradient(left,rgba(153,204,221,.3),rgba(153,204,221,.3) 100%);background-image:linear-gradient(to right,rgba(153,204,221,.3),rgba(153,204,221,.3) 100%);color:#9cd}.dg-popup__header-title{color:#ffc84b}.dg-popup__footer-button-wrapper .dg-popup__footer-button,.dg-popup__footer-button-wrapper .dg-popup__footer-button:hover{color:#e6e6e6}.dg-popup__footer-button{background:rgba(0,0,0,.2);-webkit-box-shadow:0 1px rgba(0,0,0,.1);box-shadow:0 1px rgba(0,0,0,.1)}.no-touch .dg-popup__footer-button:hover{background:#222;-webkit-box-shadow:0 1px 3px rgba(0,0,0,.5);box-shadow:0 1px 3px rgba(0,0,0,.5)}.dg-popup__rating{background-image:url(\\\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2214%22%20height%3D%2214%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%207.002%2C0%208.751%2C4.989%2014%2C4.991%209.833%2C8.708%2011.327%2C14.002%207.002%2C10.871%202.677%2C14.002%204.171%2C8.708%200.003%2C4.991%205.252%2C4.989%207.002%2C0%20z%22%20fill%3D%22%23aaa%22%2F%3E%0A%3C%2Fsvg%3E%0A\\\")}.dg-popup__link_type_photos:before{background-repeat:no-repeat;background-image:url(\\\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2212%22%20height%3D%2210%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%2011%2C1%20H%2010%20L%209%2C0%20H%206%20L%205%2C1%20H%201%20L%200%2C2%20v%207%20l%201%2C1%20H%2011%20L%2012%2C9%20V%202%20L%2011%2C1%20z%20M%203%2C4%20H%202%20V%203%20h%201%20v%201%20z%20m%204.518%2C3.992%20c%20-1.381%2C0%20-2.5%2C-1.119%20-2.5%2C-2.5%200%2C-1.38%201.119%2C-2.5%202.5%2C-2.5%201.38%2C0%202.5%2C1.12%202.5%2C2.5%200%2C1.381%20-1.121%2C2.5%20-2.5%2C2.5%20z%22%20fill%3D%22%2379b0bc%22%20fill-rule%3D%22evenodd%22%2F%3E%0A%3C%2Fsvg%3E%0A\\\");width:12px;height:10px;background-size:12px 10px}.dg-popup__button_name_firm-card-back:before,.dg-popup__button_name_firm-list-back:before{background-repeat:no-repeat;background-image:url(\\\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%229%22%20height%3D%226%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%200%2C3%204%2C6%20V%204%20H%209%20V%202%20H%204%20V%200%20z%22%20fill%3D%22%239f9f9f%22%2F%3E%0A%3C%2Fsvg%3E%0A\\\")}.dg-popup__button_name_back:before{background-repeat:no-repeat;background-image:url(\\\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%229%22%20height%3D%226%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%200%2C3%204%2C6%20V%204%20H%209%20V%202%20H%204%20V%200%20z%22%20fill%3D%22%239f9f9f%22%2F%3E%0A%3C%2Fsvg%3E%0A\\\");width:9px;height:6px;background-size:9px 6px}.dg-popup__button_name_goto:before{background-repeat:no-repeat;background-image:url(\\\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2220%22%20height%3D%227%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%2016.5%2C0%20C%2014.738%2C0%2013.295%2C1.306%2013.051%2C3%20H%204.949%20C%204.718%2C1.858%203.71%2C1%202.5%2C1%201.119%2C1%200%2C2.119%200%2C3.5%200%2C4.881%201.119%2C6%202.5%2C6%203.71%2C6%204.718%2C5.142%204.949%2C4%20h%208.102%20C%2013.295%2C5.693%2014.739%2C7%2016.5%2C7%2018.433%2C7%2020%2C5.433%2020%2C3.5%2020%2C1.566%2018.433%2C0%2016.5%2C0%20z%22%20fill%3D%22%239f9f9f%22%2F%3E%0A%3C%2Fsvg%3E%0A\\\");width:20px;height:7px;background-size:20px 7px}.dg-popup__button_name_show-entrance:before{background-repeat:no-repeat;background-image:url(\\\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2212%22%20height%3D%2212%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%205%2C9%209%2C6%205%2C3%20V%205%20H%200%20V%207%20H%205%20V%209%20z%20M%209.6%2C0%20H%202.4%20C%201.074%2C0%200%2C1.074%200%2C2.4%20V%204%20H%202%20V%203.6%20C%202%2C2.716%202.716%2C2%203.6%2C2%20H%208.4%20C%209.283%2C2%2010%2C2.716%2010%2C3.6%20V%208.4%20C%2010%2C9.284%209.283%2C10%208.4%2C10%20H%203.6%20C%202.716%2C10%202%2C9.284%202%2C8.4%20V%208%20H%200%20V%209.6%20C%200%2C10.925%201.074%2C12%202.4%2C12%20H%209.6%20C%2010.926%2C12%2012%2C10.925%2012%2C9.6%20V%202.4%20C%2012%2C1.074%2010.926%2C0%209.6%2C0%20z%22%20fill%3D%22%23a0a0a0%22%20fill-rule%3D%22evenodd%22%2F%3E%0A%3C%2Fsvg%3E%0A\\\")}.dg-firm-card__icon{position:relative;padding-left:24px}.dg-firm-card__icon:before{position:absolute;top:0;left:0;margin:auto;background-position:0 50%;background-repeat:no-repeat;content:''}.dg-firm-card__link{overflow:hidden;margin-bottom:4px;text-overflow:ellipsis;white-space:nowrap;word-wrap:normal;line-height:16px}.dg-firm-card__link a{background-position:center bottom;background-size:10px 1px;background-repeat:repeat-x;text-decoration:none}.dg-firm-card__address{margin-bottom:10px;font-size:16px}.dg-firm-card__address:before{position:absolute;top:5px;left:1px;content:''}.dg-firm-card__comment{position:relative;margin-left:5px;font-size:12px}.dg-firm-card__phone{overflow:hidden;margin-bottom:4px;text-overflow:ellipsis;line-height:16px}.dg-firm-card__phone:before{top:3px;left:1px}.dg-firm-card__site:before{top:3px}.dg-firm-card__email:before{top:5px}.dg-firm-card__rubrics{overflow:hidden;margin-bottom:4px;font-size:12px;line-height:16px}.dg-firm-card__rubrics-list{margin:0;padding:0;list-style:none}.dg-firm-card__rubrics-list-item{display:inline;cursor:default}.dg-firm-card__rubrics-list-item:before{display:inline-block;margin:0 4px;content:'•'}.dg-firm-card__rubrics-list-item:first-child:before{margin:0;content:''}.dg-firm-card__aa{margin:0 0 4px;padding:0 0 0 24px;font-size:12px}.dg-firm-card__aa-list{display:inline;margin:0;padding:0;list-style:none;line-height:16px}.dg-firm-card__aa-list-item{display:inline;-webkit-box-sizing:border-box;box-sizing:border-box;max-width:100%;cursor:default}.dg-firm-card__aa-list-item:before{display:inline-block;margin:0 4px;content:'•'}.dg-firm-card__aa-list-item:first-child:before{margin:0;content:''}.dg-firm-card__aa-list-additional{display:inline;margin:0;padding:0;list-style:none;line-height:16px}.dg-firm-card__schedule{margin-bottom:10px}.dg-firm-card__link a{background-image:-webkit-gradient(linear,left top,right top,from(rgba(255,230,170,.3)),to(rgba(255,230,170,.3)));background-image:-webkit-linear-gradient(left,rgba(255,230,170,.3),rgba(255,230,170,.3) 100%);background-image:linear-gradient(to right,rgba(255,230,170,.3),rgba(255,230,170,.3) 100%);color:#ffe6aa}.no-touch .dg-firm-card__link a:hover{background-image:-webkit-gradient(linear,left top,right top,from(rgba(153,204,221,.3)),to(rgba(153,204,221,.3)));background-image:-webkit-linear-gradient(left,rgba(153,204,221,.3),rgba(153,204,221,.3) 100%);background-image:linear-gradient(to right,rgba(153,204,221,.3),rgba(153,204,221,.3) 100%);color:#9cd}.dg-firm-card__comment,.dg-firm-card__rubrics{color:#aaa}.dg-firm-card__rubrics-list-item:after{color:#6e6964}.dg-firm-card__aa-list-item:after{color:#e6e6e6}.dg-firm-card__address:before{background-repeat:no-repeat;background-image:url(\\\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%229%22%20height%3D%2211%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%204.958%2C11%20C%204.958%2C9.036%206.756%2C6.751%208.719%2C6.751%208.885%2C6.223%209%2C5.656%209%2C5.063%209%2C2.267%206.985%2C0%204.5%2C0%202.015%2C0%200%2C2.267%200%2C5.063%200%2C5.656%200.114%2C6.222%200.28%2C6.751%202.243%2C6.751%204.018%2C9.012%204.018%2C11%20h%200.94%20z%22%20fill%3D%22%23a0a0a0%22%2F%3E%0A%3C%2Fsvg%3E%0A\\\");width:9px;height:11px;background-size:9px 11px}.dg-firm-card__phone:before{background-repeat:no-repeat;background-image:url(\\\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2210%22%20height%3D%2210%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%209.181%2C9.05%20C%208.673%2C9.556%208.047%2C9.873%207.391%2C10%206.156%2C9.841%205.008%2C9.417%203.998%2C8.788%20L%201.293%2C6.092%20C%200.639%2C5.053%200.203%2C3.865%200.052%2C2.589%200.19%2C1.964%200.494%2C1.368%200.983%2C0.882%20L%201.803%2C0.065%203.987%2C2.241%20V%202.79%20L%203.441%2C3.332%20c%20-0.452%2C0.451%20-0.453%2C1.183%200%2C1.634%20L%205.082%2C6.6%20c%200.452%2C0.451%201.187%2C0.451%201.639%2C0%20L%207.244%2C6.079%20H%207.838%20L%2010%2C8.233%209.181%2C9.05%20z%22%20fill%3D%22%23a0a0a0%22%20fill-rule%3D%22evenodd%22%2F%3E%0A%3C%2Fsvg%3E%0A\\\");width:10px;height:10px;background-size:10px 10px}.dg-firm-card__site:before{background-repeat:no-repeat;background-image:url(\\\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2211%22%20height%3D%2211%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%205.5%2C11%20C%202.463%2C11%200%2C8.538%200%2C5.5%200%2C2.462%202.463%2C0%205.5%2C0%208.537%2C0%2011%2C2.462%2011%2C5.5%2011%2C8.538%208.537%2C11%205.5%2C11%20z%20m%200%2C-9%20C%203.566%2C2%202%2C3.567%202%2C5.5%202%2C7.433%203.566%2C9%205.5%2C9%205.655%2C9%205.804%2C8.974%205.954%2C8.954%20L%203%2C6%20V%205%20L%205.571%2C3.286%205.984%2C2.049%20C%205.824%2C2.026%205.666%2C2%205.5%2C2%20z%20M%208.949%2C5%20H%207.375%20C%207.021%2C5.505%206.545%2C6.082%206%2C6.497%20V%208.95%20C%207.693%2C8.705%209%2C7.262%209%2C5.5%209%2C5.329%208.974%2C5.165%208.949%2C5%20z%22%20fill%3D%22%23a0a0a0%22%20fill-rule%3D%22evenodd%22%2F%3E%0A%3C%2Fsvg%3E%0A\\\");width:11px;height:11px;background-size:11px 11px}.dg-firm-card__email:before{background-repeat:no-repeat;background-image:url(\\\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2211%22%20height%3D%227%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22m%2011%2C1.555%20v%203.89%20C%2011%2C6.303%2010.242%2C7%209.309%2C7%20H%201.692%20C%200.758%2C7%200%2C6.303%200%2C5.444%20V%201.554%20L%205.5%2C4.826%2011%2C1.555%20z%20M%200.191%2C0%20H%2010.808%20L%205.5%2C3.111%200.191%2C0%20z%22%20fill%3D%22%23aaa%22%20fill-rule%3D%22evenodd%22%2F%3E%0A%3C%2Fsvg%3E%0A\\\");width:11px;height:7px;background-size:11px 7px}.dg-schedule__today{position:relative;display:inline-block;margin-left:24px;max-width:84%;background-position:center bottom;background-size:2px 1px;background-repeat:repeat-x;font-size:14px;line-height:16px;cursor:pointer}.dg-schedule__today:before{position:absolute;top:3px;left:-24px;content:''}.dg-schedule__today:after{position:absolute;right:-15px;bottom:4px;content:''}.dg-schedule__today-inner{overflow:hidden;width:100%;text-overflow:ellipsis;white-space:nowrap}.dg-schedule_works-everyday_true .dg-schedule__today{background-image:none;cursor:default}.dg-schedule_works-everyday_true .dg-schedule__today:after{background-image:none}.dg-schedule_open_true .dg-schedule__today:before{background-repeat:no-repeat;background-image:url(\\\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2211%22%20height%3D%2211%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%205.5%2C11%20C%202.463%2C11%200%2C8.537%200%2C5.5%200%2C2.462%202.463%2C0%205.5%2C0%208.537%2C0%2011%2C2.462%2011%2C5.5%2011%2C8.537%208.537%2C11%205.5%2C11%20z%20M%206%2C5.293%20V%202%20H%205%20V%205.707%20L%207.646%2C8.353%208.353%2C7.646%206%2C5.293%20z%22%20fill%3D%22%2370bf00%22%20fill-rule%3D%22evenodd%22%2F%3E%0A%3C%2Fsvg%3E%0A\\\");width:11px;height:11px;background-size:11px 11px}.dg-schedule__now{margin:2px 7px 0 36px;font-size:12px}.dg-schedule__string{padding:3px 16px 3px 24px;text-align:left;font-size:14px}.dg-schedule__string-time{white-space:nowrap}.dg-schedule__table{display:none;text-align:center;font-size:0}.dg-schedule__table-cell-group{white-space:nowrap}.dg-schedule__tc{display:inline-block;padding:2px 0 15px;width:44px;vertical-align:top;white-space:normal;font-size:14px}.dg-schedule__tc_pre{width:19px}.dg-schedule__day-name{margin:0;color:#8c8782;text-transform:capitalize}.dg-schedule__td{margin:10px 0 0}.dg-schedule_state_expanded .dg-schedule__popup{display:block;visibility:visible;max-height:1000px;opacity:1}.dg-schedule__table-clock{margin:13px 0 0}.dg-schedule__table-lunch{margin:31px 0 0}.dg-schedule__today{background-image:-webkit-gradient(linear,left top,right top,from(rgba(230,230,230,.55)),color-stop(50%,rgba(230,230,230,.55)),color-stop(51%,rgba(0,0,0,0)),to(rgba(0,0,0,0)));background-image:-webkit-linear-gradient(left,rgba(230,230,230,.55),rgba(230,230,230,.55) 50%,rgba(0,0,0,0) 51%,rgba(0,0,0,0) 100%);background-image:linear-gradient(to right,rgba(230,230,230,.55),rgba(230,230,230,.55) 50%,rgba(0,0,0,0) 51%,rgba(0,0,0,0) 100%)}.dg-schedule__now{color:#aaa}.dg-schedule__td{color:#e6e6e6}.dg-schedule__tc_active_true{background:rgba(255,255,255,.1)}.dg-schedule__string-time{color:#e6e6e6}.dg-schedule__table-clock{background-repeat:no-repeat;background-image:url(\\\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2211%22%20height%3D%2211%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%205.5%2C11%20C%202.463%2C11%200%2C8.537%200%2C5.5%200%2C2.462%202.463%2C0%205.5%2C0%208.537%2C0%2011%2C2.462%2011%2C5.5%2011%2C8.537%208.537%2C11%205.5%2C11%20z%20M%206%2C5.293%20V%202%20H%205%20V%205.707%20L%207.646%2C8.353%208.353%2C7.646%206%2C5.293%20z%22%20fill%3D%22%23a0a0a0%22%20fill-rule%3D%22evenodd%22%2F%3E%0A%3C%2Fsvg%3E%0A\\\");width:11px;height:11px;background-size:11px 11px}.dg-schedule__table-lunch{background-repeat:no-repeat;background-image:url(\\\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2212%22%20height%3D%2211%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%204%2C7%20H%208%20C%208.58%2C7%209.461%2C6.084%209.826%2C4.977%20V%205%20C%2011.047%2C5%2012%2C3.453%2012%2C2.031%2012%2C1.453%2011.531%2C1%2011.016%2C1%20H%2010%20C%2010%2C0.188%209.781%2C0%209%2C0%20H%203%20C%202.297%2C0%202%2C0.188%202%2C1%20v%203%20c%200%2C1.49%201.137%2C3%202%2C3%20z%20m%206%2C-5%20h%200.5%20C%2010.875%2C2%2011%2C2.219%2011%2C2.5%2011%2C3.625%2010.562%2C4%2010%2C4%20V%202%20z%20M%200%2C9%20c%200%2C0.448%201.791%2C1%203%2C1%200%2C0.405%200.646%2C1%201%2C1%20h%204%20c%200.354%2C0%201%2C-0.595%201%2C-1%201.208%2C0%203%2C-0.552%203%2C-1%20V%208%20H%200%20v%201%20z%22%20fill%3D%22%23aaa5a0%22%2F%3E%0A%3C%2Fsvg%3E%0A\\\");width:12px;height:11px;background-size:12px 11px}.dg-schedule_open_false .dg-schedule__today:before{background-repeat:no-repeat;background-image:url(\\\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2211%22%20height%3D%2211%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%205.5%2C11%20C%202.463%2C11%200%2C8.537%200%2C5.5%200%2C2.462%202.463%2C0%205.5%2C0%208.537%2C0%2011%2C2.462%2011%2C5.5%2011%2C8.537%208.537%2C11%205.5%2C11%20z%20M%206%2C5.293%20V%202%20H%205%20V%205.707%20L%207.646%2C8.353%208.353%2C7.646%206%2C5.293%20z%22%20fill%3D%22%23a0a0a0%22%20fill-rule%3D%22evenodd%22%2F%3E%0A%3C%2Fsvg%3E%0A\\\");width:11px;height:11px;background-size:11px 11px}.dg-schedule__today:after{background-repeat:no-repeat;background-image:url(\\\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2210%22%20height%3D%226%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%205%2C6%20H%204.586%20L%200%2C1.414%20V%200%20H%201.414%20L%205%2C3.586%208.586%2C0%20H%2010%20V%201.414%20L%205.414%2C6%20H%205%20z%22%20fill%3D%22%23a5a09c%22%20fill-rule%3D%22evenodd%22%2F%3E%0A%3C%2Fsvg%3E%0A\\\");width:10px;height:6px;background-size:10px 6px}.dg-schedule__today_shown_true:after{background-repeat:no-repeat;background-image:url(\\\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2210%22%20height%3D%226%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%205%2C0%20H%205.414%20L%2010%2C4.586%20V%206%20H%208.586%20L%205%2C2.414%201.414%2C6%20H%200%20V%204.586%20L%204.586%2C0%20H%205%20z%22%20fill%3D%22%23a5a09c%22%20fill-rule%3D%22evenodd%22%2F%3E%0A%3C%2Fsvg%3E%0A\\\");width:10px;height:6px;background-size:10px 6px}.dg-link,.dg-link:hover{background-position:0 95%;background-size:10px 1px;background-repeat:repeat-x}.dg-link_type_local{background:-webkit-gradient(linear,left top,right top,from(#9cd),color-stop(50%,#9cd),color-stop(50%,transparent));background:-webkit-linear-gradient(left,#9cd,#9cd 50%,transparent 50%);background:linear-gradient(to right,#9cd,#9cd 50%,transparent 50%)}.no-touch .dg-link_type_local:hover{background:-webkit-gradient(linear,left top,right top,from(#9bc),color-stop(50%,#9bc),color-stop(50%,transparent));background:-webkit-linear-gradient(left,#9bc,#9bc 50%,transparent 50%);background:linear-gradient(to right,#9bc,#9bc 50%,transparent 50%)}.dg-link.dg-link_type_local,.dg-link.dg-link_type_local:hover{background-size:6px 1px}.dg-control-round__icon_name_traffic:after{background-repeat:no-repeat;background-image:url(\\\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2220%22%20height%3D%2214%22%20viewBox%3D%220%200%2020%2014%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%2018%2C5%20C%2018%2C4%2017%2C1%2015%2C1%20H%2012%2010%20C%208%2C1%207%2C4%207%2C5%20H%205%20v%202%20h%201%20v%204%20c%200%2C0.6%200%2C1%201%2C1%20v%202%20h%202%20v%20-2%20h%207%20v%202%20h%202%20v%20-2%20c%201%2C0%201%2C-0.4%201%2C-1%20V%207%20h%201%20V%205%20H%2018%20z%20M%2010%2C3%20h%202%203%20c%202%2C0%202%2C1%202%2C3%20H%208%20C%208%2C4%208%2C3%2010%2C3%20z%20M%209%2C10%20H%208%20C%207.4%2C10%207%2C9.6%207%2C9%207%2C8.4%207.4%2C8%208%2C8%20h%201%20c%200.6%2C0%201%2C0.4%201%2C1%200%2C0.6%20-0.4%2C1%20-1%2C1%20z%20m%208%2C0%20H%2016%20C%2015.4%2C10%2015%2C9.6%2015%2C9%2015%2C8.4%2015.4%2C8%2016%2C8%20h%201%20c%200.6%2C0%201%2C0.4%201%2C1%200%2C0.6%20-0.4%2C1%20-1%2C1%20z%20M%204%2C4%20H%206%20V%203%20H%204%20C%201%2C3%201%2C6%201%2C7%20H%200%20v%201%20h%201%20v%204%20H%203%20V%2011%20H%205%20V%207%20H%202%20C%202%2C6%202%2C4%204%2C4%20z%20M%203%2C9%204%2C10%20H%202%20V%209%20h%201%20z%22%20fill%3D%22%23616161%22%20fill-rule%3D%22evenodd%22%2F%3E%0A%20%20%20%20%3Cg%20fill%3D%22%23fff%22%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22m%2016%2C8%20h%201%20c%200.4%2C0%200.7%2C0.2%200.8%2C0.5%20C%2017.9%2C8.4%2018%2C8.2%2018%2C8%2018%2C7.4%2017.6%2C7%2017%2C7%20h%20-1%20c%20-0.6%2C0%20-1%2C0.4%20-1%2C1%200%2C0.2%200.1%2C0.4%200.2%2C0.5%20C%2015.3%2C8.2%2015.6%2C8%2016%2C8%20z%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M%208%2C8%20H%209%20C%209.4%2C8%209.7%2C8.2%209.8%2C8.5%209.9%2C8.4%2010%2C8.2%2010%2C8%2010%2C7.4%209.6%2C7%209%2C7%20H%208%20C%207.4%2C7%207%2C7.4%207%2C8%207%2C8.2%207.1%2C8.4%207.2%2C8.5%207.3%2C8.2%207.6%2C8%208%2C8%20z%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M%206%2C3%20H%204%20C%204%2C3%204%2C3%204%2C3%202%2C3%202%2C5%202%2C6%20H%202%20C%202.1%2C5%202.5%2C4%204%2C4%20H%205%206%20V%203%20z%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M0%207H1V8H0z%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M%2015%2C2%20H%2012%2010%20C%208%2C2%208%2C3%208%2C5%20H%208%20C%208%2C3.7%208.3%2C3%2010%2C3%20h%202%203%20c%201.7%2C0%201.9%2C0.7%202%2C2%20h%200%20C%2017%2C3%2017%2C2%2015%2C2%20z%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M3%209L4%209%203%208%202%208%202%209%202%209%202%209%203%209z%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M%207%2C11%20C%206%2C11%206%2C10.6%206%2C10%20v%201%20c%200%2C0.6%200%2C1%201%2C1%20v%20-1%20z%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22m%2018%2C11%20v%201%20c%201%2C0%201%2C-0.4%201%2C-1%20v%20-1%20c%200%2C0.6%200%2C1%20-1%2C1%20z%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M19%206H20V7H19z%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M3%2011L1%2011%201%2012%203%2012%203%2011%205%2011%205%207%205%207%205%2010%203%2010z%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M16%2013H18V14H16z%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M5%206H6V7H5z%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M9%2013L7%2013%207%2014%209%2014%209%2012%2016%2012%2016%2011%209%2011z%22%2F%3E%0A%20%20%20%20%3C%2Fg%3E%0A%20%20%20%20%3Cg%20fill%3D%22%23444%22%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M%202%2C6%20C%202%2C6.4%202%2C6.7%202%2C7%20H%205%20V%206%20H%202%20z%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M2%209L2%2010%204%2010%203%209z%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M%204%2C3%20H%206%20V%202%20H%204%20C%201%2C2%201%2C5%201%2C6%20H%200%20V%207%20H%201%20C%201%2C6%201%2C3%204%2C3%20z%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M%2018%2C4%20C%2018%2C3%2017%2C0%2015%2C0%20H%2012%2010%20C%208%2C0%207%2C3%207%2C4%20H%206%205%20V%205%20H%207%20C%207%2C4%208%2C1%2010%2C1%20h%202%203%20c%202%2C0%203%2C3%203%2C4%20h%202%20V%204%20h%20-2%20z%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M%208%2C10%20H%209%20C%209.6%2C10%2010%2C9.6%2010%2C9%2010%2C8.8%209.9%2C8.6%209.8%2C8.5%209.7%2C8.8%209.4%2C9%209%2C9%20H%208%20C%207.6%2C9%207.3%2C8.8%207.2%2C8.5%207.1%2C8.6%207%2C8.8%207%2C9%20c%200%2C0.6%200.4%2C1%201%2C1%20z%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M%2017%2C6%20C%2017%2C5.6%2017%2C5.3%2017%2C5%20H%208%20c%200%2C0.3%200%2C0.6%200%2C1%20h%209%20z%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M%2017.8%2C8.5%20C%2017.7%2C8.8%2017.4%2C9%2017%2C9%20H%2016%20C%2015.6%2C9%2015.3%2C8.8%2015.2%2C8.5%2015.1%2C8.6%2015%2C8.8%2015%2C9%20c%200%2C0.6%200.4%2C1%201%2C1%20h%201%20c%200.6%2C0%201%2C-0.4%201%2C-1%200%2C-0.2%20-0.1%2C-0.4%20-0.2%2C-0.5%20z%22%2F%3E%0A%20%20%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E%0A\\\");width:20px;height:14px;background-size:20px 14px;position:absolute;top:0;right:0;bottom:0;left:0;margin:auto;content:''}.dg-control-round__icon_name_traffic:active:after,.no-touch .dg-control-round__icon_name_traffic:hover:after{background-repeat:no-repeat;background-image:url(\\\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2220%22%20height%3D%2214%22%20viewBox%3D%220%200%2020%2014%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%2018%2C5%20C%2018%2C4%2017%2C1%2015%2C1%20H%2012%2010%20C%208%2C1%207%2C4%207%2C5%20H%205%20v%202%20h%201%20v%204%20c%200%2C0.6%200%2C1%201%2C1%20v%202%20h%202%20v%20-2%20h%207%20v%202%20h%202%20v%20-2%20c%201%2C0%201%2C-0.4%201%2C-1%20V%207%20h%201%20V%205%20H%2018%20z%20M%2010%2C3%20h%202%203%20c%202%2C0%202%2C1%202%2C3%20H%208%20C%208%2C4%208%2C3%2010%2C3%20z%20M%209%2C10%20H%208%20C%207.4%2C10%207%2C9.6%207%2C9%207%2C8.4%207.4%2C8%208%2C8%20h%201%20c%200.6%2C0%201%2C0.4%201%2C1%200%2C0.6%20-0.4%2C1%20-1%2C1%20z%20m%208%2C0%20H%2016%20C%2015.4%2C10%2015%2C9.6%2015%2C9%2015%2C8.4%2015.4%2C8%2016%2C8%20h%201%20c%200.6%2C0%201%2C0.4%201%2C1%200%2C0.6%20-0.4%2C1%20-1%2C1%20z%20M%204%2C4%20H%206%20V%203%20H%204%20C%201%2C3%201%2C6%201%2C7%20H%200%20v%201%20h%201%20v%204%20H%203%20V%2011%20H%205%20V%207%20H%202%20C%202%2C6%202%2C4%204%2C4%20z%20M%203%2C9%204%2C10%20H%202%20V%209%20h%201%20z%22%20fill%3D%22%23424242%22%20fill-rule%3D%22evenodd%22%2F%3E%0A%20%20%20%20%3Cg%20fill%3D%22%23fff%22%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22m%2016%2C8%20h%201%20c%200.4%2C0%200.7%2C0.2%200.8%2C0.5%20C%2017.9%2C8.4%2018%2C8.2%2018%2C8%2018%2C7.4%2017.6%2C7%2017%2C7%20h%20-1%20c%20-0.6%2C0%20-1%2C0.4%20-1%2C1%200%2C0.2%200.1%2C0.4%200.2%2C0.5%20C%2015.3%2C8.2%2015.6%2C8%2016%2C8%20z%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M%208%2C8%20H%209%20C%209.4%2C8%209.7%2C8.2%209.8%2C8.5%209.9%2C8.4%2010%2C8.2%2010%2C8%2010%2C7.4%209.6%2C7%209%2C7%20H%208%20C%207.4%2C7%207%2C7.4%207%2C8%207%2C8.2%207.1%2C8.4%207.2%2C8.5%207.3%2C8.2%207.6%2C8%208%2C8%20z%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M%206%2C3%20H%204%20C%204%2C3%204%2C3%204%2C3%202%2C3%202%2C5%202%2C6%20H%202%20C%202.1%2C5%202.5%2C4%204%2C4%20H%205%206%20V%203%20z%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M0%207H1V8H0z%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M%2015%2C2%20H%2012%2010%20C%208%2C2%208%2C3%208%2C5%20H%208%20C%208%2C3.7%208.3%2C3%2010%2C3%20h%202%203%20c%201.7%2C0%201.9%2C0.7%202%2C2%20h%200%20C%2017%2C3%2017%2C2%2015%2C2%20z%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M3%209L4%209%203%208%202%208%202%209%202%209%202%209%203%209z%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M%207%2C11%20C%206%2C11%206%2C10.6%206%2C10%20v%201%20c%200%2C0.6%200%2C1%201%2C1%20v%20-1%20z%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22m%2018%2C11%20v%201%20c%201%2C0%201%2C-0.4%201%2C-1%20v%20-1%20c%200%2C0.6%200%2C1%20-1%2C1%20z%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M19%206H20V7H19z%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M3%2011L1%2011%201%2012%203%2012%203%2011%205%2011%205%207%205%207%205%2010%203%2010z%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M16%2013H18V14H16z%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M5%206H6V7H5z%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M9%2013L7%2013%207%2014%209%2014%209%2012%2016%2012%2016%2011%209%2011z%22%2F%3E%0A%20%20%20%20%3C%2Fg%3E%0A%20%20%20%20%3Cg%20fill%3D%22%232e2e2e%22%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M%202%2C6%20C%202%2C6.4%202%2C6.7%202%2C7%20H%205%20V%206%20H%202%20z%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M2%209L2%2010%204%2010%203%209z%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M%204%2C3%20H%206%20V%202%20H%204%20C%201%2C2%201%2C5%201%2C6%20H%200%20V%207%20H%201%20C%201%2C6%201%2C3%204%2C3%20z%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M%2018%2C4%20C%2018%2C3%2017%2C0%2015%2C0%20H%2012%2010%20C%208%2C0%207%2C3%207%2C4%20H%206%205%20V%205%20H%207%20C%207%2C4%208%2C1%2010%2C1%20h%202%203%20c%202%2C0%203%2C3%203%2C4%20h%202%20V%204%20h%20-2%20z%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M%208%2C10%20H%209%20C%209.6%2C10%2010%2C9.6%2010%2C9%2010%2C8.8%209.9%2C8.6%209.8%2C8.5%209.7%2C8.8%209.4%2C9%209%2C9%20H%208%20C%207.6%2C9%207.3%2C8.8%207.2%2C8.5%207.1%2C8.6%207%2C8.8%207%2C9%20c%200%2C0.6%200.4%2C1%201%2C1%20z%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M%2017%2C6%20C%2017%2C5.6%2017%2C5.3%2017%2C5%20H%208%20c%200%2C0.3%200%2C0.6%200%2C1%20h%209%20z%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M%2017.8%2C8.5%20C%2017.7%2C8.8%2017.4%2C9%2017%2C9%20H%2016%20C%2015.6%2C9%2015.3%2C8.8%2015.2%2C8.5%2015.1%2C8.6%2015%2C8.8%2015%2C9%20c%200%2C0.6%200.4%2C1%201%2C1%20h%201%20c%200.6%2C0%201%2C-0.4%201%2C-1%200%2C-0.2%20-0.1%2C-0.4%20-0.2%2C-0.5%20z%22%2F%3E%0A%20%20%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E%0A\\\")}.dg-control-round__icon_state_active.dg-control-round__icon_name_traffic:active:after,.dg-control-round__icon_state_active.dg-control-round__icon_name_traffic:after,.no-touch .dg-control-round__icon_state_active.dg-control-round__icon_name_traffic:hover:after{background-image:none}a.dg-traffic-control{z-index:0;color:#f2f2f2;text-decoration:none;text-shadow:0 1px 2px rgba(0,0,0,.3);font:400 15px/32px 'Arial narrow',Arial,sans-serif}a.dg-traffic-control_color_green:after,a.dg-traffic-control_color_red:after,a.dg-traffic-control_color_yellow:after{position:absolute;top:0;right:0;bottom:0;left:0;z-index:-1;margin:auto;width:22px;height:22px;border-radius:50%;-webkit-box-shadow:inset 0 1px 0 0 rgba(0,0,0,.2),0 1px 0 0 #fff;box-shadow:inset 0 1px 0 0 rgba(0,0,0,.2),0 1px 0 0 #fff}.no-touch a.dg-traffic-control:hover{color:#f2f2f2}.no-touch a.dg-traffic-control_color_green:hover:after,.no-touch a.dg-traffic-control_color_red:hover:after,.no-touch a.dg-traffic-control_color_yellow:hover:after{width:22px;height:22px}a.dg-traffic-control_color_green:after{background:#3fc03b}.no-touch a.dg-traffic-control_color_green:hover:after,a.dg-traffic-control_color_green:active:after{background:-webkit-gradient(linear,left bottom,left top,from(#2aa731),to(#53e13a)) #3ec435;background:-webkit-linear-gradient(bottom,#2aa731,#53e13a) #3ec435;background:linear-gradient(to top,#2aa731,#53e13a) #3ec435}a.dg-traffic-control_color_yellow:after{background:#f3b223}.no-touch a.dg-traffic-control_color_yellow:hover:after,a.dg-traffic-control_color_yellow:active:after{background:-webkit-gradient(linear,left bottom,left top,from(#ef931b),to(#f7be26)) #f4a820;background:-webkit-linear-gradient(bottom,#ef931b,#f7be26) #f4a820;background:linear-gradient(to top,#ef931b,#f7be26) #f4a820}a.dg-traffic-control_color_red:after{background:#eb240c}.no-touch a.dg-traffic-control_color_red:hover:after,a.dg-traffic-control_color_red:active:after{background:-webkit-gradient(linear,left bottom,left top,from(#c01c0a),to(#f73416)) #db2811;background:-webkit-linear-gradient(bottom,#c01c0a,#f73416) #db2811;background:linear-gradient(to top,#c01c0a,#f73416) #db2811}.leaflet-rulerMarker-pane{z-index:600}.dg-ruler__label{position:absolute;top:0;left:0;z-index:200;-webkit-tap-highlight-color:transparent}.dg-ruler__label-spacer{display:block}.dg-ruler__label-container{display:none;padding:2px 4px;border:4px solid #fff;border-radius:13px;background:#0da5d5;background-clip:padding-box;color:#fff;white-space:nowrap;font-size:12px}.dg-ruler__point{display:inline-block;margin:2px 4px 0 0;width:10px;height:10px;border-radius:5px;background:#fff}.dg-ruler__label-remove-link{background-repeat:no-repeat;background-image:url(\\\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2212%22%20height%3D%2212%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%206%2C0%20C%202.687%2C0%200%2C2.687%200%2C6%200%2C9.313%202.687%2C12%206%2C12%209.313%2C12%2012%2C9.313%2012%2C6%2012%2C2.687%209.313%2C0%206%2C0%20z%20M%209.401%2C9.398%208.8%2C9.6%206%2C6.8%203.199%2C9.6%202.59%2C9.415%202.375%2C8.774%205.199%2C6%202.399%2C3.175%202.62%2C2.591%203.175%2C2.375%205.949%2C5.225%208.774%2C2.375%209.415%2C2.605%209.566%2C3.196%206.824%2C6%209.6%2C8.8%209.401%2C9.398%20z%22%20fill%3D%22%23fff%22%20fill-rule%3D%22evenodd%22%2F%3E%0A%3C%2Fsvg%3E%0A\\\");width:12px;height:12px;background-size:12px 12px;display:none;margin:1px 0 0 4px;vertical-align:top;-webkit-transition:all .2s ease;transition:all .2s ease}.no-touch .dg-ruler__label-remove-link:hover{-webkit-transform:rotate(90deg);-ms-transform:rotate(90deg);transform:rotate(90deg)}.dg-ruler__remove-link-overlay{position:absolute;top:-7px;right:-7px;bottom:-7px;width:40px}.no-touch .dg-ruler__remove-link-overlay{display:none}.dg-control-round__icon_name_ruler:after{background-repeat:no-repeat;background-image:url(\\\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%229%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22m%2012.999%2C0%20v%204.001%20h%20-1%20V%200%20h%20-2%20v%202%20h%20-1%20V%200%20h%20-2%20V%202%20H%206%20V%200%20H%203.998%20v%204.001%20h%20-1%20V%200%20h%20-3%20V%208%20H%2016%20V%200%20z%22%20fill%3D%22%23616161%22%2F%3E%0A%20%20%20%20%3Cpath%20d%3D%22m%202.999%2C4%20h%201%20v%201%20h%20-1%20z%20m%203%2C-2%20h%201%20v%201%20h%20-1%20z%20m%203%2C0%20h%201%20v%201%20h%20-1%20z%20m%203%2C2%20h%201%20v%201%20h%20-1%20z%22%20fill%3D%22%23444%22%2F%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%200%2C8%20H%2016%20V%209%20H%200%20z%22%20fill%3D%22%23fff%22%2F%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%200%2C0%20H%203%20V%201%20H%200%20z%20m%2013%2C0%20h%203%20v%201%20h%20-3%20z%20m%20-3%2C0%20h%202%20V%201%20H%2010%20z%20M%207%2C0%20H%209%20V%201%20H%207%20z%20M%204%2C0%20H%206%20V%201%20H%204%20z%22%20fill%3D%22%23444%22%2F%3E%0A%3C%2Fsvg%3E%0A\\\");width:16px;height:9px;background-size:16px 9px;position:absolute;top:0;right:0;bottom:0;left:0;margin:auto;content:''}.dg-control-round__icon_name_ruler:active:after,.no-touch .dg-control-round__icon_name_ruler:hover:after{background-repeat:no-repeat;background-image:url(\\\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%229%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22m%2012.999%2C0%20v%204.001%20h%20-1%20V%200%20h%20-2%20v%202%20h%20-1%20V%200%20h%20-2%20V%202%20H%206%20V%200%20H%203.998%20v%204.001%20h%20-1%20V%200%20h%20-3%20V%208%20H%2016%20V%200%20z%22%20fill%3D%22%23424242%22%2F%3E%0A%20%20%20%20%3Cpath%20d%3D%22m%202.999%2C4%20h%201%20v%201%20h%20-1%20z%20m%203%2C-2%20h%201%20v%201%20h%20-1%20z%20m%203%2C0%20h%201%20v%201%20h%20-1%20z%20m%203%2C2%20h%201%20v%201%20h%20-1%20z%22%20fill%3D%22%232e2e2e%22%2F%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%200%2C8%20H%2016%20V%209%20H%200%20z%22%20fill%3D%22%23fff%22%2F%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%200%2C0%20H%203%20V%201%20H%200%20z%20m%2013%2C0%20h%203%20v%201%20h%20-3%20z%20m%20-3%2C0%20h%202%20V%201%20H%2010%20z%20M%207%2C0%20H%209%20V%201%20H%207%20z%20M%204%2C0%20H%206%20V%201%20H%204%20z%22%20fill%3D%22%232e2e2e%22%2F%3E%0A%3C%2Fsvg%3E%0A\\\")}.dg-control-round__icon_state_active.dg-control-round__icon_name_ruler:active:after,.dg-control-round__icon_state_active.dg-control-round__icon_name_ruler:after,.no-touch .dg-control-round__icon_state_active.dg-control-round__icon_name_ruler:hover:after{background-repeat:no-repeat;background-image:url(\\\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%229%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22m%2012.999%2C0%20v%204.001%20h%20-1%20V%200%20h%20-2%20v%202%20h%20-1%20V%200%20h%20-2%20V%202%20H%206%20V%200%20H%203.999%20v%204.001%20h%20-1%20V%200%20h%20-3%20V%208%20H%2016%20V%200%20z%22%20fill%3D%22%2321a7d6%22%2F%3E%0A%20%20%20%20%3Cpath%20d%3D%22m%202.999%2C4%20h%201%20v%201%20h%20-1%20z%20m%203%2C-2%20h%201%20v%201%20h%20-1%20z%20m%203%2C0%20h%201%20v%201%20h%20-1%20z%20m%203%2C2%20h%201%20v%201%20h%20-1%20z%22%20fill%3D%22%23147596%22%2F%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%200%2C8%20H%2016%20V%209%20H%200%20z%22%20fill%3D%22%23fff%22%2F%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%200%2C0%20H%203%20V%201%20H%200%20z%20m%2013%2C0%20h%203%20v%201%20h%20-3%20z%20m%20-3%2C0%20h%202%20V%201%20H%2010%20z%20M%207%2C0%20H%209%20V%201%20H%207%20z%20M%204%2C0%20H%206%20V%201%20H%204%20z%22%20fill%3D%22%23147596%22%2F%3E%0A%3C%2Fsvg%3E%0A\\\")}\"; (_dereq_(\"browserify-css\").createStyle(css, { \"href\": \"dist/css/styles.full.dark.css\" }, { \"insertAt\": \"bottom\" })); module.exports = css;\n},{\"browserify-css\":3}],2:[function(_dereq_,module,exports){\n(function (process){\n/* reduce implemintation by Mozila https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce?redirectlocale=en-US&redirectslug=JavaScript%2FReference%2FGlobal_Objects%2FArray%2FReduce*/\nif ('function' !== typeof Array.prototype.reduce) {\n  Array.prototype.reduce = function(callback, opt_initialValue){\n    'use strict';\n    if (null === this || 'undefined' === typeof this) {\n      // At the moment all modern browsers, that support strict mode, have\n      // native implementation of Array.prototype.reduce. For instance, IE8\n      // does not support strict mode, so this check is actually useless.\n      throw new TypeError(\n          'Array.prototype.reduce called on null or undefined');\n    }\n    if ('function' !== typeof callback) {\n      throw new TypeError(callback + ' is not a function');\n    }\n    var index, value,\n        length = this.length >>> 0,\n        isValueSet = false;\n    if (1 < arguments.length) {\n      value = opt_initialValue;\n      isValueSet = true;\n    }\n    for (index = 0; length > index; ++index) {\n      if (this.hasOwnProperty(index)) {\n        if (isValueSet) {\n          value = callback(value, this[index], index, this);\n        }\n        else {\n          value = this[index];\n          isValueSet = true;\n        }\n      }\n    }\n    if (!isValueSet) {\n      throw new TypeError('Reduce of empty array with no initial value');\n    }\n    return value;\n  };\n}\n\n// From https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach\n// Production steps of ECMA-262, Edition 5, 15.4.4.18\n// Reference: http://es5.github.com/#x15.4.4.18\nif (!Array.prototype.forEach) {\n\n  Array.prototype.forEach = function forEach(callback, thisArg) {\n    'use strict';\n    var T, k;\n\n    if (this == null) {\n      throw new TypeError(\"this is null or not defined\");\n    }\n\n    var kValue,\n        // 1. Let O be the result of calling ToObject passing the |this| value as the argument.\n        O = Object(this),\n\n        // 2. Let lenValue be the result of calling the Get internal method of O with the argument \"length\".\n        // 3. Let len be ToUint32(lenValue).\n        len = O.length >>> 0; // Hack to convert O.length to a UInt32\n\n    // 4. If IsCallable(callback) is false, throw a TypeError exception.\n    // See: http://es5.github.com/#x9.11\n    if ({}.toString.call(callback) !== \"[object Function]\") {\n      throw new TypeError(callback + \" is not a function\");\n    }\n\n    // 5. If thisArg was supplied, let T be thisArg; else let T be undefined.\n    if (arguments.length >= 2) {\n      T = thisArg;\n    }\n\n    // 6. Let k be 0\n    k = 0;\n\n    // 7. Repeat, while k < len\n    while (k < len) {\n\n      // a. Let Pk be ToString(k).\n      //   This is implicit for LHS operands of the in operator\n      // b. Let kPresent be the result of calling the HasProperty internal method of O with argument Pk.\n      //   This step can be combined with c\n      // c. If kPresent is true, then\n      if (k in O) {\n\n        // i. Let kValue be the result of calling the Get internal method of O with argument Pk.\n        kValue = O[k];\n\n        // ii. Call the Call internal method of callback with T as the this value and\n        // argument list containing kValue, k, and O.\n        callback.call(T, kValue, k, O);\n      }\n      // d. Increase k by 1.\n      k++;\n    }\n    // 8. return undefined\n  };\n}\n\n// From https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/keys\nif (!Object.keys) {\n  Object.keys = (function () {\n    'use strict';\n    var hasOwnProperty = Object.prototype.hasOwnProperty,\n        hasDontEnumBug = !({toString: null}).propertyIsEnumerable('toString'),\n        dontEnums = [\n          'toString',\n          'toLocaleString',\n          'valueOf',\n          'hasOwnProperty',\n          'isPrototypeOf',\n          'propertyIsEnumerable',\n          'constructor'\n        ],\n        dontEnumsLength = dontEnums.length;\n\n    return function (obj) {\n      if (typeof obj !== 'object' && (typeof obj !== 'function' || obj === null)) {\n        throw new TypeError('Object.keys called on non-object');\n      }\n\n      var result = [], prop, i;\n\n      for (prop in obj) {\n        if (hasOwnProperty.call(obj, prop)) {\n          result.push(prop);\n        }\n      }\n\n      if (hasDontEnumBug) {\n        for (i = 0; i < dontEnumsLength; i++) {\n          if (hasOwnProperty.call(obj, dontEnums[i])) {\n            result.push(dontEnums[i]);\n          }\n        }\n      }\n      return result;\n    };\n  }());\n}\n\n// From https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/some\nif (!Array.prototype.some)\n{\n  Array.prototype.some = function(fun /*, thisArg */)\n  {\n    'use strict';\n\n    if (this === void 0 || this === null)\n      throw new TypeError();\n\n    var t = Object(this);\n    var len = t.length >>> 0;\n    if (typeof fun !== 'function')\n      throw new TypeError();\n\n    var thisArg = arguments.length >= 2 ? arguments[1] : void 0;\n    for (var i = 0; i < len; i++)\n    {\n      if (i in t && fun.call(thisArg, t[i], i, t))\n        return true;\n    }\n\n    return false;\n  };\n}\n\n// From https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map\nif (!Array.prototype.map)\n{\n  Array.prototype.map = function(fun /*, thisArg */)\n  {\n    \"use strict\";\n\n    if (this === void 0 || this === null)\n      throw new TypeError();\n\n    var t = Object(this);\n    var len = t.length >>> 0;\n    if (typeof fun !== \"function\")\n      throw new TypeError();\n\n    var res = new Array(len);\n    var thisArg = arguments.length >= 2 ? arguments[1] : void 0;\n    for (var i = 0; i < len; i++)\n    {\n      // NOTE: Absolute correctness would demand Object.defineProperty\n      //       be used.  But this method is fairly new, and failure is\n      //       possible only if Object.prototype or Array.prototype\n      //       has a property |i| (very unlikely), so use a less-correct\n      //       but more portable alternative.\n      if (i in t)\n        res[i] = fun.call(thisArg, t[i], i, t);\n    }\n\n    return res;\n  };\n}\n\n//From https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter\nif (!Array.prototype.filter)\n{\n  Array.prototype.filter = function(fun /*, thisArg */)\n  {\n    \"use strict\";\n\n    if (this === void 0 || this === null)\n      throw new TypeError();\n\n    var t = Object(this);\n    var len = t.length >>> 0;\n    if (typeof fun != \"function\")\n      throw new TypeError();\n\n    var res = [];\n    var thisArg = arguments.length >= 2 ? arguments[1] : void 0;\n    for (var i = 0; i < len; i++)\n    {\n      if (i in t)\n      {\n        var val = t[i];\n\n        // NOTE: Technically this should Object.defineProperty at\n        //       the next index, as push can be affected by\n        //       properties on Object.prototype and Array.prototype.\n        //       But that method's new, and collisions should be\n        //       rare, so use the more-compatible alternative.\n        if (fun.call(thisArg, val, i, t))\n          res.push(val);\n      }\n    }\n\n    return res;\n  };\n}\n\n//From https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/bind\nif (!Function.prototype.bind) {\n  Function.prototype.bind = function (oThis) {\n    if (typeof this !== \"function\") {\n      // closest thing possible to the ECMAScript 5 internal IsCallable function\n      throw new TypeError(\"Function.prototype.bind - what is trying to be bound is not callable\");\n    }\n\n    var aArgs = Array.prototype.slice.call(arguments, 1),\n        fToBind = this,\n        fNOP = function () {},\n        fBound = function () {\n          return fToBind.apply(this instanceof fNOP && oThis\n                                 ? this\n                                 : oThis,\n                               aArgs.concat(Array.prototype.slice.call(arguments)));\n        };\n\n    fNOP.prototype = this.prototype;\n    fBound.prototype = new fNOP();\n\n    return fBound;\n  };\n}\n\n//From https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/indexOf?redirectlocale=en-US&redirectslug=JavaScript%2FReference%2FGlobal_Objects%2FArray%2FindexOf\nif (!Array.prototype.indexOf) {\n  Array.prototype.indexOf = function (searchElement, fromIndex) {\n    if ( this === undefined || this === null ) {\n      throw new TypeError( '\"this\" is null or not defined' );\n    }\n\n    var length = this.length >>> 0; // Hack to convert object.length to a UInt32\n\n    fromIndex = +fromIndex || 0;\n\n    if (Math.abs(fromIndex) === Infinity) {\n      fromIndex = 0;\n    }\n\n    if (fromIndex < 0) {\n      fromIndex += length;\n      if (fromIndex < 0) {\n        fromIndex = 0;\n      }\n    }\n\n    for (;fromIndex < length; fromIndex++) {\n      if (this[fromIndex] === searchElement) {\n        return fromIndex;\n      }\n    }\n\n    return -1;\n  };\n}\n\nif (typeof Promise !== 'function') {\n  (function() {\n  var define, requireModule, _dereq_, requirejs;\n\n  (function() {\n    var registry = {}, seen = {};\n\n    define = function(name, deps, callback) {\n      registry[name] = { deps: deps, callback: callback };\n    };\n\n    requirejs = _dereq_ = requireModule = function(name) {\n    requirejs._eak_seen = registry;\n\n      if (seen[name]) { return seen[name]; }\n      seen[name] = {};\n\n      if (!registry[name]) {\n        throw new Error(\"Could not find module \" + name);\n      }\n\n      var mod = registry[name],\n          deps = mod.deps,\n          callback = mod.callback,\n          reified = [],\n          exports;\n\n      for (var i=0, l=deps.length; i<l; i++) {\n        if (deps[i] === 'exports') {\n          reified.push(exports = {});\n        } else {\n          reified.push(requireModule(resolve(deps[i])));\n        }\n      }\n\n      var value = callback.apply(this, reified);\n      return seen[name] = exports || value;\n\n      function resolve(child) {\n        if (child.charAt(0) !== '.') { return child; }\n        var parts = child.split(\"/\");\n        var parentBase = name.split(\"/\").slice(0, -1);\n\n        for (var i=0, l=parts.length; i<l; i++) {\n          var part = parts[i];\n\n          if (part === '..') { parentBase.pop(); }\n          else if (part === '.') { continue; }\n          else { parentBase.push(part); }\n        }\n\n        return parentBase.join(\"/\");\n      }\n    };\n  })();\n\n  define(\"promise/all\",\n    [\"./utils\",\"exports\"],\n    function(__dependency1__, __exports__) {\n      \"use strict\";\n      /* global toString */\n\n      var isArray = __dependency1__.isArray;\n      var isFunction = __dependency1__.isFunction;\n\n      /**\n        Returns a promise that is fulfilled when all the given promises have been\n        fulfilled, or rejected if any of them become rejected. The return promise\n        is fulfilled with an array that gives all the values in the order they were\n        passed in the `promises` array argument.\n\n        Example:\n\n        ```javascript\n        var promise1 = RSVP.resolve(1);\n        var promise2 = RSVP.resolve(2);\n        var promise3 = RSVP.resolve(3);\n        var promises = [ promise1, promise2, promise3 ];\n\n        RSVP.all(promises).then(function(array){\n          // The array here would be [ 1, 2, 3 ];\n        });\n        ```\n\n        If any of the `promises` given to `RSVP.all` are rejected, the first promise\n        that is rejected will be given as an argument to the returned promises's\n        rejection handler. For example:\n\n        Example:\n\n        ```javascript\n        var promise1 = RSVP.resolve(1);\n        var promise2 = RSVP.reject(new Error(\"2\"));\n        var promise3 = RSVP.reject(new Error(\"3\"));\n        var promises = [ promise1, promise2, promise3 ];\n\n        RSVP.all(promises).then(function(array){\n          // Code here never runs because there are rejected promises!\n        }, function(error) {\n          // error.message === \"2\"\n        });\n        ```\n\n        @method all\n        @for RSVP\n        @param {Array} promises\n        @param {String} label\n        @return {Promise} promise that is fulfilled when all `promises` have been\n        fulfilled, or rejected if any of them become rejected.\n      */\n      function all(promises) {\n        /*jshint validthis:true */\n        var Promise = this;\n\n        if (!isArray(promises)) {\n          throw new TypeError('You must pass an array to all.');\n        }\n\n        return new Promise(function(resolve, reject) {\n          var results = [], remaining = promises.length,\n          promise;\n\n          if (remaining === 0) {\n            resolve([]);\n          }\n\n          function resolver(index) {\n            return function(value) {\n              resolveAll(index, value);\n            };\n          }\n\n          function resolveAll(index, value) {\n            results[index] = value;\n            if (--remaining === 0) {\n              resolve(results);\n            }\n          }\n\n          for (var i = 0; i < promises.length; i++) {\n            promise = promises[i];\n\n            if (promise && isFunction(promise.then)) {\n              promise.then(resolver(i), reject);\n            } else {\n              resolveAll(i, promise);\n            }\n          }\n        });\n      }\n\n      __exports__.all = all;\n    });\n  define(\"promise/asap\",\n    [\"exports\"],\n    function(__exports__) {\n      \"use strict\";\n      var browserGlobal = (typeof window !== 'undefined') ? window : {};\n      var BrowserMutationObserver = browserGlobal.MutationObserver || browserGlobal.WebKitMutationObserver;\n      var local = window;\n\n      // node\n      function useNextTick() {\n        return function() {\n          process.nextTick(flush);\n        };\n      }\n\n      function useMutationObserver() {\n        var iterations = 0;\n        var observer = new BrowserMutationObserver(flush);\n        var node = document.createTextNode('');\n        observer.observe(node, { characterData: true });\n\n        return function() {\n          node.data = (iterations = ++iterations % 2);\n        };\n      }\n\n      function useSetTimeout() {\n        return function() {\n          local.setTimeout(flush, 1);\n        };\n      }\n\n      var queue = [];\n      function flush() {\n        for (var i = 0; i < queue.length; i++) {\n          var tuple = queue[i];\n          var callback = tuple[0], arg = tuple[1];\n          callback(arg);\n        }\n        queue = [];\n      }\n\n      var scheduleFlush;\n\n      // Decide what async method to use to triggering processing of queued callbacks:\n      if (typeof process !== 'undefined' && {}.toString.call(process) === '[object process]') {\n        scheduleFlush = useNextTick();\n      } else if (BrowserMutationObserver) {\n        scheduleFlush = useMutationObserver();\n      } else {\n        scheduleFlush = useSetTimeout();\n      }\n\n      function asap(callback, arg) {\n        var length = queue.push([callback, arg]);\n        if (length === 1) {\n          // If length is 1, that means that we need to schedule an async flush.\n          // If additional callbacks are queued before the queue is flushed, they\n          // will be processed by this flush that we are scheduling.\n          scheduleFlush();\n        }\n      }\n\n      __exports__.asap = asap;\n    });\n  define(\"promise/config\",\n    [\"exports\"],\n    function(__exports__) {\n      \"use strict\";\n      var config = {\n        instrument: false\n      };\n\n      function configure(name, value) {\n        if (arguments.length === 2) {\n          config[name] = value;\n        } else {\n          return config[name];\n        }\n      }\n\n      __exports__.config = config;\n      __exports__.configure = configure;\n    });\n  define(\"promise/polyfill\",\n    [\"./promise\",\"./utils\",\"exports\"],\n    function(__dependency1__, __dependency2__, __exports__) {\n      \"use strict\";\n      /*global self*/\n      var RSVPPromise = __dependency1__.Promise;\n      var isFunction = __dependency2__.isFunction;\n\n      function polyfill() {\n        var local;\n\n        if (typeof window !== 'undefined' && window.document) {\n          local = window;\n        } else {\n          local = self;\n        }\n\n        var es6PromiseSupport =\n          \"Promise\" in local &&\n          // Some of these methods are missing from\n          // Firefox/Chrome experimental implementations\n          \"resolve\" in local.Promise &&\n          \"reject\" in local.Promise &&\n          \"all\" in local.Promise &&\n          \"race\" in local.Promise &&\n          // Older version of the spec had a resolver object\n          // as the arg rather than a function\n          (function() {\n            var resolve;\n            new local.Promise(function(r) { resolve = r; });\n            return isFunction(resolve);\n          }());\n\n        if (!es6PromiseSupport) {\n          local.Promise = RSVPPromise;\n        }\n      }\n\n      __exports__.polyfill = polyfill;\n    });\n  define(\"promise/promise\",\n    [\"./config\",\"./utils\",\"./all\",\"./race\",\"./resolve\",\"./reject\",\"./asap\",\"exports\"],\n    function(__dependency1__, __dependency2__, __dependency3__, __dependency4__, __dependency5__, __dependency6__, __dependency7__, __exports__) {\n      \"use strict\";\n      var config = __dependency1__.config;\n      var configure = __dependency1__.configure;\n      var objectOrFunction = __dependency2__.objectOrFunction;\n      var isFunction = __dependency2__.isFunction;\n      var now = __dependency2__.now;\n      var all = __dependency3__.all;\n      var race = __dependency4__.race;\n      var staticResolve = __dependency5__.resolve;\n      var staticReject = __dependency6__.reject;\n      var asap = __dependency7__.asap;\n\n      var counter = 0;\n\n      config.async = asap; // default async is asap;\n\n      function Promise(resolver) {\n        if (!isFunction(resolver)) {\n          throw new TypeError('You must pass a resolver function as the first argument to the promise constructor');\n        }\n\n        if (!(this instanceof Promise)) {\n          throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\");\n        }\n\n        this._subscribers = [];\n\n        invokeResolver(resolver, this);\n      }\n\n      function invokeResolver(resolver, promise) {\n        function resolvePromise(value) {\n          resolve(promise, value);\n        }\n\n        function rejectPromise(reason) {\n          reject(promise, reason);\n        }\n\n        try {\n          resolver(resolvePromise, rejectPromise);\n        } catch(e) {\n          rejectPromise(e);\n        }\n      }\n\n      function invokeCallback(settled, promise, callback, detail) {\n        var hasCallback = isFunction(callback),\n            value, error, succeeded, failed;\n\n        if (hasCallback) {\n          try {\n            value = callback(detail);\n            succeeded = true;\n          } catch(e) {\n            failed = true;\n            error = e;\n          }\n        } else {\n          value = detail;\n          succeeded = true;\n        }\n\n        if (handleThenable(promise, value)) {\n          return;\n        } else if (hasCallback && succeeded) {\n          resolve(promise, value);\n        } else if (failed) {\n          reject(promise, error);\n        } else if (settled === FULFILLED) {\n          resolve(promise, value);\n        } else if (settled === REJECTED) {\n          reject(promise, value);\n        }\n      }\n\n      var PENDING   = void 0;\n      var SEALED    = 0;\n      var FULFILLED = 1;\n      var REJECTED  = 2;\n\n      function subscribe(parent, child, onFulfillment, onRejection) {\n        var subscribers = parent._subscribers;\n        var length = subscribers.length;\n\n        subscribers[length] = child;\n        subscribers[length + FULFILLED] = onFulfillment;\n        subscribers[length + REJECTED]  = onRejection;\n      }\n\n      function publish(promise, settled) {\n        var child, callback, subscribers = promise._subscribers, detail = promise._detail;\n\n        for (var i = 0; i < subscribers.length; i += 3) {\n          child = subscribers[i];\n          callback = subscribers[i + settled];\n\n          invokeCallback(settled, child, callback, detail);\n        }\n\n        promise._subscribers = null;\n      }\n\n      Promise.prototype = {\n        constructor: Promise,\n\n        _state: undefined,\n        _detail: undefined,\n        _subscribers: undefined,\n\n        then: function(onFulfillment, onRejection) {\n          var promise = this;\n\n          var thenPromise = new this.constructor(function() {});\n\n          if (this._state) {\n            var callbacks = arguments;\n            config.async(function invokePromiseCallback() {\n              invokeCallback(promise._state, thenPromise, callbacks[promise._state - 1], promise._detail);\n            });\n          } else {\n            subscribe(this, thenPromise, onFulfillment, onRejection);\n          }\n\n          return thenPromise;\n        },\n\n        'catch': function(onRejection) {\n          return this.then(null, onRejection);\n        }\n      };\n\n      Promise.all = all;\n      Promise.race = race;\n      Promise.resolve = staticResolve;\n      Promise.reject = staticReject;\n\n      function handleThenable(promise, value) {\n        var then = null,\n        resolved;\n\n        try {\n          if (promise === value) {\n            throw new TypeError(\"A promises callback cannot return that same promise.\");\n          }\n\n          if (objectOrFunction(value)) {\n            then = value.then;\n\n            if (isFunction(then)) {\n              then.call(value, function(val) {\n                if (resolved) { return true; }\n                resolved = true;\n\n                if (value !== val) {\n                  resolve(promise, val);\n                } else {\n                  fulfill(promise, val);\n                }\n              }, function(val) {\n                if (resolved) { return true; }\n                resolved = true;\n\n                reject(promise, val);\n              });\n\n              return true;\n            }\n          }\n        } catch (error) {\n          if (resolved) { return true; }\n          reject(promise, error);\n          return true;\n        }\n\n        return false;\n      }\n\n      function resolve(promise, value) {\n        if (promise === value) {\n          fulfill(promise, value);\n        } else if (!handleThenable(promise, value)) {\n          fulfill(promise, value);\n        }\n      }\n\n      function fulfill(promise, value) {\n        if (promise._state !== PENDING) { return; }\n        promise._state = SEALED;\n        promise._detail = value;\n\n        config.async(publishFulfillment, promise);\n      }\n\n      function reject(promise, reason) {\n        if (promise._state !== PENDING) { return; }\n        promise._state = SEALED;\n        promise._detail = reason;\n\n        config.async(publishRejection, promise);\n      }\n\n      function publishFulfillment(promise) {\n        publish(promise, promise._state = FULFILLED);\n      }\n\n      function publishRejection(promise) {\n        publish(promise, promise._state = REJECTED);\n      }\n\n      __exports__.Promise = Promise;\n    });\n  define(\"promise/race\",\n    [\"./utils\",\"exports\"],\n    function(__dependency1__, __exports__) {\n      \"use strict\";\n      /* global toString */\n      var isArray = __dependency1__.isArray;\n\n      /**\n        `RSVP.race` allows you to watch a series of promises and act as soon as the\n        first promise given to the `promises` argument fulfills or rejects.\n\n        Example:\n\n        ```javascript\n        var promise1 = new RSVP.Promise(function(resolve, reject){\n          setTimeout(function(){\n            resolve(\"promise 1\");\n          }, 200);\n        });\n\n        var promise2 = new RSVP.Promise(function(resolve, reject){\n          setTimeout(function(){\n            resolve(\"promise 2\");\n          }, 100);\n        });\n\n        RSVP.race([promise1, promise2]).then(function(result){\n          // result === \"promise 2\" because it was resolved before promise1\n          // was resolved.\n        });\n        ```\n\n        `RSVP.race` is deterministic in that only the state of the first completed\n        promise matters. For example, even if other promises given to the `promises`\n        array argument are resolved, but the first completed promise has become\n        rejected before the other promises became fulfilled, the returned promise\n        will become rejected:\n\n        ```javascript\n        var promise1 = new RSVP.Promise(function(resolve, reject){\n          setTimeout(function(){\n            resolve(\"promise 1\");\n          }, 200);\n        });\n\n        var promise2 = new RSVP.Promise(function(resolve, reject){\n          setTimeout(function(){\n            reject(new Error(\"promise 2\"));\n          }, 100);\n        });\n\n        RSVP.race([promise1, promise2]).then(function(result){\n          // Code here never runs because there are rejected promises!\n        }, function(reason){\n          // reason.message === \"promise2\" because promise 2 became rejected before\n          // promise 1 became fulfilled\n        });\n        ```\n\n        @method race\n        @for RSVP\n        @param {Array} promises array of promises to observe\n        @param {String} label optional string for describing the promise returned.\n        Useful for tooling.\n        @return {Promise} a promise that becomes fulfilled with the value the first\n        completed promises is resolved with if the first completed promise was\n        fulfilled, or rejected with the reason that the first completed promise\n        was rejected with.\n      */\n      function race(promises) {\n        /*jshint validthis:true */\n        var Promise = this;\n\n        if (!isArray(promises)) {\n          throw new TypeError('You must pass an array to race.');\n        }\n        return new Promise(function(resolve, reject) {\n          var results = [], promise;\n\n          for (var i = 0; i < promises.length; i++) {\n            promise = promises[i];\n\n            if (promise && typeof promise.then === 'function') {\n              promise.then(resolve, reject);\n            } else {\n              resolve(promise);\n            }\n          }\n        });\n      }\n\n      __exports__.race = race;\n    });\n  define(\"promise/reject\",\n    [\"exports\"],\n    function(__exports__) {\n      \"use strict\";\n      /**\n        `RSVP.reject` returns a promise that will become rejected with the passed\n        `reason`. `RSVP.reject` is essentially shorthand for the following:\n\n        ```javascript\n        var promise = new RSVP.Promise(function(resolve, reject){\n          reject(new Error('WHOOPS'));\n        });\n\n        promise.then(function(value){\n          // Code here doesn't run because the promise is rejected!\n        }, function(reason){\n          // reason.message === 'WHOOPS'\n        });\n        ```\n\n        Instead of writing the above, your code now simply becomes the following:\n\n        ```javascript\n        var promise = RSVP.reject(new Error('WHOOPS'));\n\n        promise.then(function(value){\n          // Code here doesn't run because the promise is rejected!\n        }, function(reason){\n          // reason.message === 'WHOOPS'\n        });\n        ```\n\n        @method reject\n        @for RSVP\n        @param {Any} reason value that the returned promise will be rejected with.\n        @param {String} label optional string for identifying the returned promise.\n        Useful for tooling.\n        @return {Promise} a promise that will become rejected with the given\n        `reason`.\n      */\n      function reject(reason) {\n        /*jshint validthis:true */\n        var Promise = this;\n\n        return new Promise(function (resolve, reject) {\n          reject(reason);\n        });\n      }\n\n      __exports__.reject = reject;\n    });\n  define(\"promise/resolve\",\n    [\"exports\"],\n    function(__exports__) {\n      \"use strict\";\n      function resolve(value) {\n        /*jshint validthis:true */\n        if (value && typeof value === 'object' && value.constructor === this) {\n          return value;\n        }\n\n        var Promise = this;\n\n        return new Promise(function(resolve) {\n          resolve(value);\n        });\n      }\n\n      __exports__.resolve = resolve;\n    });\n  define(\"promise/utils\",\n    [\"exports\"],\n    function(__exports__) {\n      \"use strict\";\n      function objectOrFunction(x) {\n        return isFunction(x) || (typeof x === \"object\" && x !== null);\n      }\n\n      function isFunction(x) {\n        return typeof x === \"function\";\n      }\n\n      function isArray(x) {\n        return Object.prototype.toString.call(x) === \"[object Array]\";\n      }\n\n      // Date.now is not available in browsers < IE9\n      // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/now#Compatibility\n      var now = Date.now || function() { return new Date().getTime(); };\n\n\n      __exports__.objectOrFunction = objectOrFunction;\n      __exports__.isFunction = isFunction;\n      __exports__.isArray = isArray;\n      __exports__.now = now;\n    });\n  requireModule('promise/polyfill').polyfill();\n  }());\n}\n\n_dereq_('leaflet');\n_dereq_('html5shiv');\n\n// DG inheritance\nvar oldDG = window.DG;\nvar DG = new (\n    (function() {\n        var DgApi = function() {},\n            DgApiCore = function() {};\n\n        DgApiCore.prototype = L;\n        DgApi.prototype = new DgApiCore();\n\n        return DgApi;\n    })()\n)();\n\nfor (var prop in oldDG) {\n    if (oldDG.hasOwnProperty(prop) && typeof DG[prop] === 'undefined') {\n        DG[prop] = oldDG[prop];\n    }\n}\n\nwindow.__dgApi__ = window.__dgApi__ || {};\nDG.version = window.__dgApi__.version;\nDG.Icon.Default.imagePath  = '../img/vendors/leaflet';\n\nDG.Map.addInitHook((function() {\n    var inited = false;\n\n    // Analytics inited once\n    return function() {\n        if (!inited) {\n            /*eslint-disable */\n            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){\n            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\n            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\n            })(window,document,'script',DG.config.googleAnalytics,'ga');\n            /*eslint-enable */\n\n            inited = true;\n        }\n\n        /*eslint-disable */\n        ga('create', DG.config.gaCode, {\n            storage: 'none', // don't store and use cookies thanks GDPR\n            name: DG.config.gaName,\n            sampleRate: 50\n        });\n        ga(DG.config.gaName + '.set', 'anonymizeIp', true);\n        ga(DG.config.gaName + '.send', 'pageview');\n        /*eslint-enable */\n\n        var newImg = new Image();\n        newImg.src = DG.config.protocol + DG.config.analytics + '?' +\n            'sr=' + window.screen.width + 'x' + window.screen.height + '&' +\n            'v=' + DG.version;\n    };\n})());\n\n// Improve IHandler\nDG.Map.include({\n    addHandler: function(name, HandlerClass) {\n        if (!HandlerClass) { return this; }\n\n        var options = this.options[name],\n            param = (options === Object(options)) ? options : null,\n            handler = this[name] = new HandlerClass(this, param);\n\n        this._handlers.push(handler);\n\n        if (options) {\n            handler.enable();\n        }\n\n        return this;\n    }\n});\n\n// Apply class to map container for detect when we dont need hover effects\nDG.Map.addInitHook(function() {\n    if (!DG.Browser.touchEnabled) {\n        DG.DomUtil.addClass(this._container, 'no-touch');\n    }\n});\n\nwindow.DG = DG;\nmodule.exports = DG;\n\nvar handlers = window.__dgApi__.callbacks || [],\n    chain = Promise.resolve();\n\nhandlers.forEach(function(handlers) {\n    chain = chain.then(handlers[0], handlers[1]);\n});\n\nDG.then = function(resolve, reject) {\n    return chain.then(resolve, reject);\n};\n\n// IE8 throw error if `chain.catch`\n/* eslint-disable dot-notation, no-console */\nchain['catch'](function(err) {\n    console.error(err);\n});\n/* eslint-enable dot-notation, no-console */\n\nDG.plugin = function(plugins) {\n    var count,\n        jsReg = new RegExp(/.js$/i),\n        cssReg = new RegExp(/.css$/i);\n\n    return new Promise(function(resolve) {\n        function checkLoading() {\n            count--;\n\n            if (count === 0) {\n                resolve();\n            }\n        }\n\n        function appendJS(link) {\n            var js = document.createElement('script');\n            js.setAttribute('type', 'text/javascript');\n            js.setAttribute('src', link);\n            js.onload = function() {\n                checkLoading();\n            };\n            js.onerror = function() {\n                checkLoading();\n            };\n            // load/error for IE\n            js.onreadystatechange = function() {\n                if (js.readyState === 'complete' || js.readyState === 'loaded') {\n                    checkLoading();\n                }\n            };\n\n            document.getElementsByTagName('head')[0].appendChild(js);\n        }\n\n        function appendCSS(link) {\n            var css = document.createElement('link');\n            css.setAttribute('rel', 'stylesheet');\n            css.setAttribute('type', 'text/css');\n            css.setAttribute('href', link);\n            document.getElementsByTagName('head')[0].appendChild(css);\n\n            checkLoading();\n        }\n\n        function isJs(url) {\n            return jsReg.test(url);\n        }\n\n        function isCss(url) {\n            return cssReg.test(url);\n        }\n\n        function appendAsset(asset) {\n            if (isJs(asset)) {\n                appendJS(asset);\n            } else if (isCss(asset)) {\n                appendCSS(asset);\n            } else {\n                count--;\n            }\n        }\n\n        if (DG.Util.isArray(plugins)) {\n            count = plugins.length;\n            plugins.forEach(function(plugin) {\n                appendAsset(plugin);\n            });\n        }\n\n        if (typeof plugins === 'string') {\n            count = 1;\n            appendAsset(plugins);\n        }\n    });\n};\n\nDG.ajax = (function() {\n\n    var win = window,\n        doc = document,\n\n        rurl = /^([\\w.+-]+:)?(?:\\/\\/([^\\/?#:]*)(?::(\\d+)|)|)/,\n        twoHundo = /^20\\d$/,\n\n        // Document location\n        ajaxLocParts,\n        ajaxLocation,\n\n        byTag = 'getElementsByTagName',\n        readyState = 'readyState',\n        contentType = 'Content-Type',\n        requestedWith = 'X-Requested-With',\n        head = doc[byTag]('head')[0],\n        uniqid = 0,\n        callbackPrefix = 'l_dg_ajax_callback_' + (+new Date()),\n        lastValue, // data stored by the most recent JSONP callback\n        xmlHttpRequest = 'XMLHttpRequest',\n        xDomainRequest = 'XDomainRequest', // IE 8 and 9 only\n        noop = function() {},\n        defaultHeaders = {\n            contentType: 'application/x-www-form-urlencoded',\n            requestedWith: xmlHttpRequest,\n            accept: {\n                '*':  'text/javascript, text/html, application/xml, text/xml, */*',\n                xml:  'application/xml, text/xml',\n                html: 'text/html',\n                text: 'text/plain',\n                json: 'application/json, text/javascript',\n                js:   'application/javascript, text/javascript'\n            }\n        },\n        /*global XDomainRequest:false */\n        xhr = function(o) {\n            // is it x-domain\n            if (o.crossDomain === true) {\n                var xhr = win[xmlHttpRequest] ? new XMLHttpRequest() : null;\n                if (xhr && 'withCredentials' in xhr) {\n                    return xhr;\n                } else if (win[xDomainRequest]) {\n                    return new XDomainRequest();\n                } else {\n                    throw new Error('Browser does not support cross-origin requests');\n                }\n            } else {\n                return new XMLHttpRequest();\n            }\n        },\n\n        globalSetupOptions = {\n            dataFilter: function(data) {\n                return data;\n            }\n        };\n\n    // IE may throw an exception when accessing\n    // a field from window.location if document.domain has been set\n    try {\n        ajaxLocation = location.href;\n    } catch (e) {\n        // Use the href attribute of an A element\n        // since IE will modify it given document.location\n        ajaxLocation = document.createElement('a');\n        ajaxLocation.href = '';\n        ajaxLocation = ajaxLocation.href;\n    }\n\n    // Segment location into parts\n    ajaxLocParts = rurl.exec(ajaxLocation.toLowerCase()) || [];\n\n    function handleReadyState(r, success, error) {\n        return function() {\n            // use _aborted to mitigate against IE err c00c023f\n            // (can't read props on aborted request objects)\n            if (r._aborted) {\n                return error(r.request);\n            }\n            if (r.request && r.request[readyState] === 4) {\n                r.request.onreadystatechange = noop;\n                if (twoHundo.test(r.request.status)) {\n                    success(r.request);\n                } else {\n                    error(r.request);\n                }\n            }\n        };\n    }\n\n    function setHeaders(http, o) {\n        var headers = o.headers || {},\n            h;\n\n        headers.Accept = headers.Accept || defaultHeaders.accept[o.dataType] || defaultHeaders.accept['*'];\n\n        // breaks cross-origin requests with legacy browsers\n        if (!o.crossDomain && !headers[requestedWith]) {\n            headers[requestedWith] = defaultHeaders.requestedWith;\n        }\n        if (!headers[contentType]) {\n            headers[contentType] = o.contentType || defaultHeaders.contentType;\n        }\n        for (h in headers) {\n            if (headers.hasOwnProperty(h) && 'setRequestHeader' in http) {\n                http.setRequestHeader(h, headers[h]);\n            }\n        }\n    }\n\n    function setCredentials(http, o) {\n        if (typeof o.withCredentials !== 'undefined' && typeof http.withCredentials !== 'undefined') {\n            http.withCredentials = !!o.withCredentials;\n        }\n    }\n\n    function generalCallback(data) {\n        lastValue = data;\n    }\n\n    function urlappend(url, s) {\n        return url + (/\\?/.test(url) ? '&' : '?') + s;\n    }\n\n    function handleJsonp(o, fn, err, url) {\n        var reqId = uniqid++,\n            cbkey = o.jsonpCallback || 'callback', // the 'callback' key\n            cbval = o.jsonpCallbackName || callbackPrefix,\n            cbreg = new RegExp('((^|\\\\?|&)' + cbkey + ')=([^&]+)'),\n            match = url.match(cbreg),\n            script = doc.createElement('script'),\n            loaded = 0,\n            isIE10 = navigator.userAgent.indexOf('MSIE 10.0') !== -1;\n\n        if (match) {\n            if (match[3] === '?') {\n                url = url.replace(cbreg, '$1=' + cbval); // wildcard callback func name\n            } else {\n                cbval = match[3]; // provided callback func name\n            }\n        } else {\n            url = urlappend(url, cbkey + '=' + cbval); // no callback details, add 'em\n        }\n\n        win[cbval] = generalCallback;\n\n        script.type = 'text/javascript';\n        script.src = url;\n        script.async = true;\n        if (typeof script.onreadystatechange !== 'undefined' && !isIE10) {\n            // need this for IE due to out-of-order onreadystatechange(), binding script\n            // execution to an event listener gives us control over when the script\n            // is executed. See http://jaubourg.net/2010/07/loading-script-as-onclick-handler-of.html\n            //\n            // if this hack is used in IE10 jsonp callback are never called\n            script.event = 'onclick';\n            script.htmlFor = script.id = '_request_' + reqId;\n        }\n\n        script.onerror = function() {\n            script.onerror = script.onload = script.onreadystatechange = null;\n            err({}, 'Request unknown error', {});\n            lastValue = undefined;\n            head.removeChild(script);\n            loaded = 1;\n        };\n        script.onload = script.onreadystatechange = function() {\n            if ((script[readyState] && script[readyState] !== 'complete' && script[readyState] !== 'loaded') || loaded) {\n                return false;\n            }\n            script.onerror = script.onload = script.onreadystatechange = null;\n            if (script.onclick) {\n                script.onclick();\n            }\n            // Call the user callback with the last value stored and clean up values and scripts.\n            fn(lastValue);\n            lastValue = undefined;\n            head.removeChild(script);\n            loaded = 1;\n        };\n\n        // Add the script to the DOM head\n        head.appendChild(script);\n\n        // Enable JSONP timeout\n        return {\n            abort: function() {\n                script.onerror = script.onload = script.onreadystatechange = null;\n                err({}, 'Request is aborted: timeout', {});\n                lastValue = undefined;\n                head.removeChild(script);\n                loaded = 1;\n            }\n        };\n    }\n\n    function getRequest(fn, err) {\n        var o = this.options,\n            method = (o.type || 'GET').toUpperCase(),\n            url = typeof o === 'string' ? o : o.url,\n            // convert non-string objects to query-string form unless o.processData is false\n            data = (o.processData !== false && o.data && typeof o.data !== 'string') ? Ajax.toQueryString(o.data) : (o.data || null),\n            http,\n            sendWait = false;\n\n        // if we're working on a GET request and we have data then we should append\n        // query string to end of URL and not post data\n        if ((o.type === 'jsonp' || method === 'GET') && data) {\n            url = urlappend(url, data);\n            data = null;\n        }\n\n        if (o.type === 'jsonp') {\n            return handleJsonp(o, fn, err, url);\n        }\n\n        http = xhr(o);\n        http.open(method, url, o.async !== false);\n\n        setHeaders(http, o);\n        setCredentials(http, o);\n\n        if (win[xDomainRequest] && http instanceof win[xDomainRequest]) {\n            http.onload = fn;\n            http.onprogress = function() {};\n            http.ontimeout = function() {};\n            http.onerror = err;\n            sendWait = true;\n        } else {\n            http.onreadystatechange = handleReadyState(this, fn, err);\n        }\n        if (sendWait) {\n            setTimeout(function() {\n                http.send(data);\n            }, 200);\n        } else {\n            http.send(data);\n        }\n        return http;\n    }\n\n    function buildParams(prefix, obj, traditional, add) {\n        var name, i, v,\n            rbracket = /\\[\\]$/;\n\n        if (DG.Util.isArray(obj)) {\n        // Serialize array item.\n            for (i = 0; obj && i < obj.length; i++) {\n                v = obj[i];\n                if (traditional || rbracket.test(prefix)) {\n                    // Treat each array item as a scalar.\n                    add(prefix, v);\n                } else {\n                    buildParams(prefix + '[' + (typeof v === 'object' ? i : '') + ']', v, traditional, add);\n                }\n            }\n        } else if (obj && obj.toString() === '[object Object]') {\n            // Serialize object item.\n            for (name in obj) {\n                if (obj.hasOwnProperty(name)) {\n                    buildParams(prefix + '[' + name + ']', obj[name], traditional, add);\n                }\n            }\n        } else {\n            // Serialize scalar item.\n            add(prefix, obj);\n        }\n    }\n\n    function setType(url) {\n        var m = url.match(/\\.(json|jsonp|html|xml)(\\?|$)/);\n        return m ? m[1] : 'js';\n    }\n\n    function isCrossDomain(url) {\n        var parts = rurl.exec(url.toLowerCase());\n        return !!(parts &&\n                (parts[1] !== ajaxLocParts[1] || parts[2] !== ajaxLocParts[2] ||\n                    (parts[3] || (parts[1] === 'http:' ? '80' : '443')) !==\n                        (ajaxLocParts[3] || (ajaxLocParts[1] === 'http:' ? '80' : '443')))\n            );\n    }\n\n    function doRequest(o) {\n\n        if (!('crossDomain' in o)) {\n            o.crossDomain = isCrossDomain(o.url);\n        }\n\n        var self = {};\n        self.promise = new Promise(function(resolve, reject) {\n            self.abort = function() {\n                self._aborted = true;\n                reject('aborted');\n            };\n\n            self.url = o.url;\n            self.timeout = null;\n            self.options = o;\n\n            self._aborted = false;\n            self._erred = false;\n            self._responseArgs = {};\n\n            var type = o.type === 'jsonp' ? o.type : (o.dataType || setType(self.url));\n\n            if (o.timeout) {\n                self.timeout = setTimeout(function() {\n                    self.abort();\n                }, o.timeout);\n            }\n\n            function complete(resp) {\n                if (o.timeout) {\n                    clearTimeout(self.timeout);\n                }\n                self.timeout = null;\n                if (self._erred) {\n                    reject(resp);\n                } else {\n                    resolve(resp);\n                }\n            }\n\n            function success(resp) {\n                resp = (type !== 'jsonp') ? self.request : resp;\n                // use global data filter on response text\n                var filteredResponse = globalSetupOptions.dataFilter(resp.responseText, type),\n                    r = filteredResponse;\n\n                try {\n                    resp.responseText = r;\n                } catch (e) {\n                    // can't assign this in IE<=8, just ignore\n                }\n                /* eslint-disable no-eval */\n                if (r) {\n                    switch (type) {\n                        case 'json':\n                            try {\n                                resp = win.JSON.parse(r);\n                            } catch (err) {\n                                return error(resp, 'Could not parse JSON in response', err);\n                            }\n                            break;\n                        case 'js':\n                            resp = eval('(' + r + ')');\n                            break;\n                        case 'html':\n                            resp = r;\n                            break;\n                        case 'xml':\n                            resp = resp.responseXML && resp.responseXML.parseError && resp.responseXML.parseError.errorCode && resp.responseXML.parseError.reason ? null : resp.responseXML;\n                            break;\n                    }\n                }\n                /* eslint-enable no-eval */\n                self._responseArgs.resp = resp;\n                complete(resp);\n            }\n\n            function error(resp, msg, t) {\n                resp = self.request;\n                self._responseArgs.resp = resp;\n                self._responseArgs.msg = msg;\n                self._responseArgs.t = t;\n                self._erred = true;\n                complete(resp);\n            }\n\n            self.request = getRequest.call(self, success, error);\n        });\n\n        return self;\n    }\n\n    function Ajax(url, options) {\n\n        if (Object.prototype.toString.call(url) === '[object Object]') {\n            options = url;\n            url = undefined;\n        }\n        options = options || {};\n        options.url = url || options.url;\n\n        var requestPromise = doRequest(options),\n            resultPromise = requestPromise.promise;\n\n        if (options.success || options.error || options.complete) {\n            resultPromise.then(options.success, options.error);\n        }\n\n        resultPromise.abort = requestPromise.abort;\n\n        return resultPromise;\n    }\n\n    Ajax.setup = function(options) {\n        options = options || {};\n        for (var k in options) {\n            if (options.hasOwnProperty(k)) {\n                globalSetupOptions[k] = options[k];\n            }\n        }\n    };\n\n    Ajax.toQueryString = function(o, trad) {\n        var prefix, i,\n            traditional = trad || false,\n            s = [],\n            enc = encodeURIComponent,\n            add = function(key, value) {\n                // If value is a function, invoke it and return its value\n                if (typeof value == 'function') {\n                    value = value();\n                } else {\n                    value = value || '';\n                }\n\n                s[s.length] = enc(key) + '=' + enc(value);\n            };\n\n        // If an array was passed in, assume that it is an array of form elements.\n        if (DG.Util.isArray(o)) {\n            for (i = 0; o && i < o.length; i++) {\n                add(o[i].name, o[i].value);\n            }\n        } else {\n            // If traditional, encode the \"old\" way (the way 1.3.2 or older\n            // did it), otherwise encode params recursively.\n            for (prefix in o) {\n                if (o.hasOwnProperty(prefix)) {\n                    buildParams(prefix, o[prefix], traditional, add);\n                }\n            }\n        }\n\n        // spaces should be + according to spec\n        return s.join('&').replace(/%20/g, '+');\n    };\n\n    var testxhr = win[xmlHttpRequest] ? new XMLHttpRequest() : null;\n\n    Ajax.corsSupport = !(!(testxhr && 'withCredentials' in testxhr) && !win[xDomainRequest]) &&\n        // cors not available in IE and with cyrillic domain\n        !(DG.Browser.ie && document.location.host.toLowerCase().search(/[а-я]/) != -1);\n\n    return Ajax;\n})();\n\nDG.Wkt = {};\n\nDG.Wkt.toGeoJSON = function (data) {\n    if (DG.Util.isArray(data)) {\n        data = data[0];\n    }\n    var parts = data.split(';');\n    data = parts.pop();\n\n    var i = 0,\n        srid = (parts.shift() || '').split('=').pop();\n\n    function $(re) {\n        var match = data.substring(i).match(re);\n        if (!match) {\n            return null;\n        }\n        else {\n            i += match[0].length;\n            return match[0];\n        }\n    }\n\n    function crs(obj) {\n        if (obj && srid.match(/\\d+/)) {\n            obj.crs = {\n                type: 'name',\n                'properties': {\n                    name: 'urn:ogc:def:crs:EPSG::' + srid\n                }\n            };\n        }\n\n        return obj;\n    }\n\n    function white() { $(/^\\s*/); }\n\n    function multicoords() {\n        white();\n        var depth = 0, rings = [], stack = [rings],\n            pointer = rings, elem;\n        while (elem =\n            $(/^(\\()/) ||\n            $(/^(\\))/) ||\n            $(/^(\\,)/) ||\n            $(/^[-+]?([0-9]*\\.[0-9]+|[0-9]+)/)) {\n            if (elem === '(') {\n                stack.push(pointer);\n                pointer = [];\n                stack[stack.length - 1].push(pointer);\n                depth++;\n            } else if (elem === ')') {\n                pointer = stack.pop();\n                depth--;\n                if (depth === 0) {\n                    break;\n                }\n            } else if (elem === ',') {\n                pointer = [];\n                stack[stack.length - 1].push(pointer);\n            } else {\n                pointer.push(parseFloat(elem));\n            }\n            white();\n        }\n        stack.length = 0;\n        if (depth !== 0) {\n            return null;\n        }\n        return rings;\n    }\n\n    function coords() {\n        var list = [], item, pt;\n        while (pt =\n            $(/^[-+]?([0-9]*\\.[0-9]+|[0-9]+)/) ||\n            $(/^(\\,)/)) {\n            if (pt === ',') {\n                list.push(item);\n                item = [];\n            } else {\n                if (!item) {\n                    item = [];\n                }\n                item.push(parseFloat(pt));\n            }\n            white();\n        }\n        if (item) {\n            list.push(item);\n        }\n        return list.length ? list : null;\n    }\n\n    function point() {\n        if (!$(/^(point)/i)) { return null; }\n        white();\n        if (!$(/^(\\()/)) { return null; }\n        var c = coords();\n        white();\n        if (!$(/^(\\))/)) { return null; }\n        return {\n            type: 'Point',\n            coordinates: c[0]\n        };\n    }\n\n    function multipoint() {\n        if (!$(/^(multipoint)/i)) { return null; }\n        white();\n        var c = multicoords();\n        white();\n        return {\n            type: 'MultiPoint',\n            coordinates: c\n        };\n    }\n\n    function multilinestring() {\n        if (!$(/^(multilinestring)/i)) { return null; }\n        white();\n        var c = multicoords();\n        white();\n        return {\n            type: 'MultiLineString',\n            coordinates: c\n        };\n    }\n\n    function linestring() {\n        if (!$(/^(linestring)/i)) { return null; }\n        white();\n        if (!$(/^(\\()/)) { return null; }\n        var c = coords();\n        if (!$(/^(\\))/)) { return null; }\n        return {\n            type: 'LineString',\n            coordinates: c\n        };\n    }\n\n    function polygon() {\n        if (!$(/^(polygon)/i)) { return null; }\n        white();\n        return {\n            type: 'Polygon',\n            coordinates: multicoords()\n        };\n    }\n\n    function multipolygon() {\n        if (!$(/^(multipolygon)/i)) { return null; }\n        white();\n        return {\n            type: 'MultiPolygon',\n            coordinates: multicoords()\n        };\n    }\n\n    function geometrycollection() {\n        var geometries = [], geometry;\n\n        if (!$(/^(geometrycollection)/i)) { return null; }\n        white();\n\n        if (!$(/^(\\()/)) { return null; }\n        while (geometry = root()) {\n            geometries.push(geometry);\n            white();\n            $(/^(\\,)/);\n            white();\n        }\n        if (!$(/^(\\))/)) { return null; }\n\n        return {\n            type: 'GeometryCollection',\n            geometries: geometries\n        };\n    }\n\n    function root() {\n        return point() ||\n            linestring() ||\n            polygon() ||\n            multipoint() ||\n            multilinestring() ||\n            multipolygon() ||\n            geometrycollection();\n    }\n\n    return crs(root());\n};\n\nDG.Wkt.geoJsonLayer = function (data, opts) {\n    return DG.geoJson(DG.Wkt.toGeoJSON(data), opts);\n};\n\nDG.Wkt._coordsToLatLngs = function (coords) {\n    if (DG.Util.isArray(coords) && !DG.Util.isArray(coords[0])) {\n        return [DG.GeoJSON.coordsToLatLng(coords)];\n    }\n\n    return coords.map(function (el) {\n            return DG.Wkt._coordsToLatLngs(el);\n        })\n        .reduce(function (arr, coord) {\n            return arr.concat(coord);\n        });\n};\n\nDG.Wkt.toLatLngs = function (data) {\n    if (!DG.Util.isArray(data)) {\n        data = [data];\n    }\n\n    return data.map(function (el) {\n        var coords = DG.Wkt.toGeoJSON(el).coordinates;\n\n        return DG.Wkt._coordsToLatLngs(coords);\n    }).reduce(function (arr, coord) {\n        return arr.concat(coord);\n    });\n};\n\nDG.Wkt.toPoints = function (data) {\n    return DG.Wkt.toGeoJSON(data).coordinates;\n};\n\nDG.Wkt.pointsToLatLngOnMap = function (wkt, map) {\n    return (function parsePoints(points) {\n        return (Array.isArray(points) && Array.isArray(points[0])) ?\n            points.map(parsePoints) :\n            map.containerPointToLatLng(points);\n    })(DG.Wkt.toPoints(wkt));\n};\n\nDG.ProjectDetector = DG.Handler.extend({\n    initialize: function(map) { // (Object)\n        this._map = map;\n        this._osmViewport = false;\n        this._project = undefined;\n        this._loadProjectList();\n    },\n\n    addHooks: function() {\n        this._projectWatch();\n        this._map.on('move', this._projectWatch, this);\n    },\n\n    removeHooks: function() {\n        this._map.off('move', this._projectWatch, this);\n    },\n\n    getProject: function() {\n        if (!this._project) { return false; }\n\n        return DG.Util.extend({}, this._project);\n    },\n\n    getProjectsList: function() {\n        return this._projectList.slice(0);\n    },\n\n    isProjectHere: function(coords, project, checkMethod) {\n        if (!coords) { return null; }\n\n        if (!(coords instanceof DG.LatLng) && !(coords instanceof DG.LatLngBounds)) {\n            coords = DG.latLng(coords);\n        }\n\n        coords = (coords instanceof DG.LatLngBounds) ?\n            DG.latLngBounds(coords.getSouthWest().wrap(), coords.getNorthEast().wrap()) : coords.wrap();\n\n        checkMethod = checkMethod || ((coords instanceof DG.LatLngBounds) ?  'intersects' : 'contains');\n\n        var method = checkMethod == 'intersects' ? this._testProjectIntersects : this._testProjectContains;\n        method = method.bind(this, coords);\n\n        if (project) {\n            return method(project);\n        } else {\n            return this._projectList.filter(method)[0];\n        }\n    },\n\n    _projectWatch: function() {\n        if (!this._map._loaded) {\n            return;\n        }\n\n        if (this._osmViewport === (this._project && this._centerInProject(this._project, 'contains'))) {\n            this._osmViewport = !this._osmViewport;\n            this._map.attributionControl._update(null, this._osmViewport);\n        }\n\n        if (this._project && this._zoomInProject(this._project) && this._centerInProject(this._project)) {\n            return;\n        }\n\n        this._searchProject();\n\n        if (this._project) {\n            if (this._osmViewport === (this._project && this._centerInProject(this._project, 'contains'))) {\n                this._osmViewport = !this._osmViewport;\n            }\n            this._map.attributionControl._update(null, this._osmViewport, this._project.country_code);\n        }\n    },\n\n    _checkProjectData: function(project) {\n        function check(value) {\n            return value !== undefined && value !== null;\n        }\n\n        return project &&\n                project.bounds &&\n                check(project.code) &&\n                check(project.domain) &&\n                check(project.country_code) &&\n                project.zoom_level &&\n                    check(project.zoom_level.min) &&\n                    check(project.zoom_level.max) &&\n                project.time_zone &&\n                    check(project.time_zone.offset);\n    },\n\n    _loadProjectList: function() {\n        DG.fallbackProjectsList = DG.fallbackProjectsList || [];\n\n        if (!DG.projectsList) {\n            DG.projectsList = DG.fallbackProjectsList;\n        }\n        delete DG.fallbackProjectsList;\n\n        this._projectList = DG.projectsList\n            .filter(this._checkProjectData)\n            .map(function(project) {\n                var bound = DG.Wkt.toGeoJSON(project.bounds);\n                var latLngBounds = DG.geoJSON(bound).getBounds();\n                var defaultPos = project.default_pos ? DG.latLng(project.default_pos.lat, project.default_pos.lon) : null;\n\n\n                /* eslint-disable camelcase */\n                return {\n                    id: project.id,\n                    code: project.code,\n                    minZoom: project.zoom_level.min,\n                    maxZoom: project.zoom_level.max,\n                    timeOffset: project.time_zone.offset,\n                    bound: bound,\n                    latLngBounds: latLngBounds,\n                    traffic: !!project.flags.traffic,\n                    transport: !!project.flags.public_transport,\n                    roads: !!project.flags.road_network,\n                    country_code: project.country_code,\n                    domain: project.domain,\n                    defaultPos: defaultPos\n                };\n                /* eslint-enable camelcase */\n            });\n    },\n\n    _searchProject: function() {\n        // Вначале отсеиваем регионы по зуму\n        var filteredByZoom = this._projectList.filter(this._zoomInProject, this);\n\n        // Находим проект в границы которого попадает центр карты\n        var foundProjects = filteredByZoom.filter(this._centerInProject, this);\n\n        // Если такой проект не найден, то ищем проекты баунд боксы которых пересекаются с экраном\n        if (foundProjects.length === 0) {\n            var mapBounds = this._map.getBounds();\n            foundProjects = filteredByZoom.filter(DG.bind(this._testProjectIntersects, this, mapBounds));\n\n            if (foundProjects.length > 1) {\n                var mapCenter = this._map.getCenter();\n                var neareastProject = foundProjects[0];\n                for (var i = 1; i < foundProjects.length; i++) {\n                    var currentProject = foundProjects[i];\n                    if (currentProject.defaultPos &&\n                        mapCenter.distanceTo(neareastProject.defaultPos) >\n                        mapCenter.distanceTo(currentProject.defaultPos)\n                    ) {\n                        neareastProject = currentProject;\n                    }\n                }\n                foundProjects = [neareastProject];\n            }\n        }\n\n        var newProject = foundProjects[0] || null;\n\n        if (this._project === newProject) {\n            return;\n        }\n\n        var self = this;\n\n        if (this._project !== null) {\n            this._project = null;\n            setTimeout(function() {\n                self._map.fire('projectleave');\n            }, 1);\n        }\n\n        if (newProject) {\n            this._project = newProject;\n            setTimeout(function() {\n                self._map.fire('projectchange', {getProject: self.getProject.bind(self)});\n            }, 1);\n        }\n    },\n\n    _testProjectIntersects: function(bounds, project) {\n        return project.latLngBounds.intersects(bounds);\n    },\n\n    _testProjectContains: function(latlng, project) {\n        return DG.PolyUtil.inside([latlng.lng, latlng.lat], project.bound);\n    },\n\n    _centerInProject: function(project, checkMethod) {\n        return this.isProjectHere(this._map.getCenter(), project, checkMethod);\n    },\n\n    _zoomInProject: function(project) {\n        return (this._map.getZoom() >= project.minZoom);\n    }\n});\n\nDG.Map.mergeOptions({\n    projectDetector: true\n});\n\nDG.Map.addInitHook('addHandler', 'projectDetector', DG.ProjectDetector);\n\n/*\n * Utility functions\n */\n\nDG.Metric = function() {};\n\n/*\n * DG.Metric.Segments class can calculate total pushed segments length and used to shortcut\n * 'get Something by provided Length' calculations (segment's Index, segment's Length, etc...)\n */\nDG.Metric.Segments = function() {\n    this.length = 0;\n};\n\nDG.Metric.Segments.prototype = {\n    push: function(len) {\n        this[this.length] = this.length > 0 ? this[this.length - 1] + len : len;\n        this.length += 1;\n\n        return this;\n    },\n\n    getLength: function() {\n        return this[this.length - 1];\n    },\n\n    getReverse: function() {\n        var segments = new DG.Metric.Segments();\n        var i = this.length - 1;\n\n        if (i < 0) { return segments; }\n\n        while (i--) {\n            segments.push(this[i + 1] - this[i]);\n        }\n\n        return segments.push(this[0]);\n    },\n\n    getIndex: function(len) {\n        var i = this.length - 1;\n\n        if (i < 0) { return i; }\n\n        while (i--) {\n            if (this[i] <= len) { break; }\n        }\n\n        return i + 1;\n    },\n\n    getSegRatio: function(len) {\n        var i = this.getIndex(len);\n        var sub = i > 0 ? this[i - 1] : 0;\n\n        return (len - sub) / (this[i] - sub);\n    },\n\n    getSegLength: function(len) {\n        var i = this.getIndex(len);\n        var sub = i > 0 ? this[i - 1] : 0;\n\n        return len - sub;\n    }\n};\n\n/*\n * DG.VertexTransform is a classic 2D matrix transformation class\n *\n * Prototype methods can scale/rotate/translate vertices\n *\n * Static methods do the same but return simple array instances with attached\n * .clone() method which can reconstruct full DG.VertexTransform object\n */\n\nDG.VertexTransform = DG.Class.extend({\n    initialize: function(vertices) {\n        this._vertices = vertices;\n\n        this._scale = null;\n        this._angle = null;\n        this._trans = null;\n        this._matrix = null;\n\n        this.load();\n    },\n\n    load: function() {\n        this.vertices = this._vertices.map(function(vertex) { return vertex.clone(); });\n        this.vertices.clone = DG.VertexTransform.clone;\n\n        return this;\n    },\n\n    save: function() {\n        this._vertices = this.vertices.map(function(vertex) { return vertex.clone(); });\n\n        return this;\n    },\n\n    setScale: function(scale) {\n        this._scale = scale;\n        return this;\n    },\n\n    getScale: function() {\n        return this._scale;\n    },\n\n    setAngle: function(angle) {\n        this._angle = angle;\n        return this;\n    },\n\n    getAngle: function() {\n        return this._angle;\n    },\n\n    setTranslation: function(trans) {\n        this._trans = trans;\n        return this;\n    },\n\n    getTranslation: function() {\n        return this._trans;\n    },\n\n    setMatrix: function(matrix) {\n        this._matrix = matrix;\n        return this;\n    },\n\n    getMatrix: function() {\n        return this._matrix;\n    },\n\n    scale: function(scale) {\n        var v = this.vertices;\n        var i = v.length;\n\n        scale = scale || this._scale || 1;\n        while (i--) {\n            v[i].x *= scale;\n            v[i].y *= scale;\n        }\n\n        return this;\n    },\n\n    unScale: function(scale) {\n        scale = scale || this._scale || 1;      //  Also safeguard against zero scale\n        return this.scale(1 / scale);\n    },\n\n    rotate: function(angle) {\n        var cos = angle ? angle.cos : (this._angle ? this._angle.cos : 1);\n        var sin = angle ? angle.sin : (this._angle ? this._angle.sin : 0);\n        var v = this.vertices;\n        var i = v.length;\n        var x, y;\n\n        while (i--) {\n            x = v[i].x;\n            y = v[i].y;\n            v[i].x = x * cos - y * sin;\n            v[i].y = x * sin + y * cos;\n        }\n\n        return this;\n    },\n\n    unRotate: function(angle) {\n        var cos = angle ? angle.cos : (this._angle ? this._angle.cos : 1);\n        var sin = angle ? angle.sin : (this._angle ? this._angle.sin : 0);\n\n        return this.rotate({cos: cos, sin: -sin});\n    },\n\n    translate: function(trans) {\n        var dx = trans ? trans.x : (this._trans ? this._trans.x : 0);\n        var dy = trans ? trans.y : (this._trans ? this._trans.y : 0);\n        var v = this.vertices;\n        var i = v.length;\n\n        while (i--) {\n            v[i].x += dx;\n            v[i].y += dy;\n        }\n\n        return this;\n    },\n\n    unTranslate: function(trans) {\n        var dx = trans ? trans.x : (this._trans ? this._trans.x : 0);\n        var dy = trans ? trans.y : (this._trans ? this._trans.y : 0);\n\n        return this.translate({x: -dx, y: -dy});\n    },\n\n    transform: function(matrix) {\n        var a, b, c, d, dx, dy;\n        var v = this.vertices;\n        var i = v.length;\n        var x, y;\n\n        if (matrix) {\n            a = matrix[0]; b = matrix[1]; dx = matrix[2];\n            c = matrix[3]; d = matrix[4]; dy = matrix[5];\n        } else if (this._matrix) {\n            a = this._matrix[0]; b = this._matrix[1]; dx = this._matrix[2];\n            c = this._matrix[3]; d = this._matrix[4]; dy = this._matrix[5];\n        } else {\n            a = 1; b = 0; dx = 0;\n            c = 0; d = 1; dy = 0;\n        }\n\n        while (i--) {\n            x = v[i].x;\n            y = v[i].y;\n            v[i].x = x * a + y * b + dx;\n            v[i].y = x * c + y * d + dy;\n        }\n\n        return this;\n    },\n\n    statics: {\n        scale: function(vt, scale) {\n            var v = vt.vertices;\n            var result = [];\n            var x, y;\n\n            scale = scale || 1;\n            for (var i = 0; i < v.length; i++) {\n                x = v[i].x * scale;\n                y = v[i].y * scale;\n                result.push(new DG.Point(x, y));\n            }\n            result.clone = DG.VertexTransform.clone;\n\n            return result;\n        },\n\n        unScale: function(vt, scale) {\n            scale = scale || 1;         //  Also safeguard against zero scale\n            return DG.VertexTransform.scale(vt, 1 / scale);\n        },\n\n        rotate: function(vt, angle) {\n            var cos = angle ? angle.cos : 1;\n            var sin = angle ? angle.sin : 0;\n            var v = vt.vertices;\n            var x, y, rx, ry;\n            var result = [];\n\n            for (var i = 0; i < v.length; i++) {\n                rx = v[i].x;\n                ry = v[i].y;\n                x = rx * cos - ry * sin;\n                y = rx * sin + ry * cos;\n                result.push(new DG.Point(x, y));\n            }\n            result.clone = DG.VertexTransform.clone;\n\n            return result;\n        },\n\n        unRotate: function(vt, angle) {\n            var cos = angle ? angle.cos : 1;\n            var sin = angle ? angle.sin : 0;\n\n            return DG.VertexTransform.rotate(vt, {cos: cos, sin: -sin});\n        },\n\n        translate: function(vt, trans) {\n            var dx = trans ? trans.x : 0;\n            var dy = trans ? trans.y : 0;\n            var v = vt.vertices;\n            var result = [];\n            var x, y;\n\n            for (var i = 0; i < v.length; i++) {\n                x = v[i].x + dx;\n                y = v[i].y + dy;\n                result.push(new DG.Point(x, y));\n            }\n            result.clone = DG.VertexTransform.clone;\n\n            return result;\n        },\n\n        unTranslate: function(vt, trans) {\n            var dx = trans ? trans.x : 0;\n            var dy = trans ? trans.y : 0;\n\n            return DG.VertexTransform.translate(vt, {x: -dx, y: -dy});\n        },\n\n        clone: function() {\n            //  'this' is an array\n            return new DG.VertexTransform(this).save();\n        },\n\n        getLength: function(vec1, vec2) {\n            var dx, dy;\n\n            if (typeof vec1 === 'number') {\n                //  'vec1' and 'vec2' are absolute coordinates of vector\n                return Math.sqrt(vec1 * vec1 + vec2 * vec2);\n            } else {\n                //  'vec1' and 'vec2' are vector objects\n                dx = vec2.x - vec1.x;\n                dy = vec2.y - vec1.y;\n                return Math.sqrt(dx * dx + dy * dy);\n            }\n        },\n\n        getScaled: function(vec1, vec2, scale) {\n            var dx, dy;\n\n            if (typeof vec1 === 'number') {\n                //  'vec1' and 'vec2' are absolute coordinates of vector\n                return new DG.Point(vec1 * scale, vec2 * scale);\n            } else {\n                //  'vec1' and 'vec2' are vector objects\n                dx = (vec2.x - vec1.x) * scale;\n                dy = (vec2.y - vec1.y) * scale;\n                return new DG.Point(vec1.x + dx, vec1.y + dy);\n            }\n        },\n\n        getAngle: function(vec1, vec2, origin) {\n            var l, sp, x1, y1, x2, y2;\n\n            if (typeof vec1 === 'number') {\n                //  'vec1' and 'vec2' are absolute coordinates of vector\n                l = Math.sqrt(vec1 * vec1 + vec2 * vec2);\n                if (l > 0) {\n                    return {cos: vec1 / l, sin: vec2 / l};\n                } else {\n                    return {cos: 1, sin: 0};\n                }\n            } else {\n                //  'vec1' and 'vec2' are vector objects\n                x1 = vec1.x; y1 = vec1.y;\n                x2 = vec2.x; y2 = vec2.y;\n                if (origin) {\n                    x1 -= origin.x; y1 -= origin.y;\n                    x2 -= origin.x; y2 -= origin.y;\n                }\n                sp = Math.sqrt(x1 * x1 + y1 * y1) * Math.sqrt(x2 * x2 + y2 * y2);\n                return {\n                    cos: (x1 * x2 + y1 * y2) / sp,\n                    sin: (x1 * y2 - x2 * y1) / sp\n                };\n            }\n        },\n\n        getAnglesSum: function(angle1, angle2) {\n            return {\n                cos: angle1.cos * angle2.cos - angle1.sin * angle2.sin,\n                sin: angle1.sin * angle2.cos + angle1.cos * angle2.sin\n            };\n        },\n\n        getAnglesDif: function(angle1, angle2) {\n            return {\n                cos: angle1.cos * angle2.cos + angle1.sin * angle2.sin,\n                sin: angle1.sin * angle2.cos - angle1.cos * angle2.sin\n            };\n        }\n    }\n});\n\n/*\n * DG.ArrowPathTransform class is a core of arrow's body calculations\n *\n * General ideas are:\n *      We construct arrow body with stroke points making arcs on outer path turns\n *      Processing is done segment by segment around {0, 0} virtual point\n *          and resulting 'path' finally rotated to it's original map's angle (.fullAngle)\n *      Subset of this vertices lately used in .subPath() calculations which can be used\n *          in animations for ex.\n *\n *  Final translation (see DG.Entrance.Arrow) moves arrow objects to their original positions\n */\n\nDG.ArrowPathTransform = DG.VertexTransform.extend({\n    initialize: function(path) {\n        //  'path.offset' is initial points offset (-x / +x) to compensate arrow tip length\n\n        //  Skip super initialization as we need only subset of DG.VertexTransform power\n        this._lengths = new DG.Metric.Segments();\n        this._vertices = [[], []];\n        this._drawings = [[], []];\n        //  this._arcs = [];    //  initialized in _setPath()\n\n        this._setPath(path);\n        this.subPath(1);\n    },\n\n    load: function() {\n        return this.subPath(1);\n    },\n\n    save: function() {\n        return this;    //  NoOp\n    },\n\n    //  Method constructs new path points with some displacement from original 'path'\n    //  Outer corners will be smoothed by arcs (cubic Bézier curves)\n    _setPath: function(path) {\n        var transform = DG.ArrowPathTransform.transform;\n        var vertices = this._vertices;\n        var drawings = this._drawings;\n        var Point = DG.Point;\n        var width = path.width;\n        var arcs = [[], [], []];\n        var lengths = [];\n\n        var i, x,\n            ax, bx, cx,\n            angles, angle;\n\n        vertices.push(path.vertices);   //  expect .pop() in final transform\n        vertices[0].push(new DG.Point(path.offset, +width));\n        vertices[1].push(new DG.Point(path.offset, -width));\n        angles = DG.ArrowPathTransform.getAngles(path);\n\n        cx = -path.offset;\n        for (i = 0; i < angles.length; i++) {\n            x = path.vertices[i + 1].x;\n            ax = width * angles[i].cot;\n\n            //  http://pomax.github.io/bezierinfo/#circles_cubic\n            //  actual equation is (4/3 * tan(α/4) * radius)\n            bx = angles[i].tan * width * 8 / 3;\n\n            //  Next code can be combined by -/+ inversion but for simplicity it is left as is\n            if (ax > 0) {\n                vertices[0].push(new Point(x + ax,      +width));\n                drawings[0].push('L');\n\n                arcs[2].push(1);\n                arcs[1].push(vertices[1].length);\n                vertices[1].push(new Point(x + ax,      -width));\n                vertices[1].push(new Point(x + ax - bx, -width));\n\n                transform(vertices, angles[i], {x: x, y: 0});\n\n                vertices[1].push(new Point(0 - ax + bx, -width));\n                vertices[1].push(new Point(0 - ax,      -width));\n                drawings[1].push('L', 'C');\n\n                lengths.push(Math.abs(x + ax) - cx); cx = +ax;\n            } else {\n                vertices[1].push(new Point(x - ax,      -width));\n                drawings[1].push('L');\n\n                arcs[2].push(0);\n                arcs[0].push(vertices[0].length);\n                vertices[0].push(new Point(x - ax,      +width));\n                vertices[0].push(new Point(x - ax + bx, +width));\n\n                transform(vertices, angles[i], {x: x, y: 0});\n\n                vertices[0].push(new Point(0 + ax - bx, +width));\n                vertices[0].push(new Point(0 + ax,      +width));\n                drawings[0].push('L', 'C');\n\n                lengths.push(Math.abs(x - ax) - cx); cx = -ax;\n            }\n        }\n\n        //  Final segments and tail arc\n        ax = path.vertices[i + 1].x;\n        bx = width * 4 / 3; // tan(PI/4) = 1\n\n        vertices[0].push(new Point(ax, +width));\n        vertices[1].push(new Point(ax, -width));\n\n        vertices[0].push(new Point(ax - bx, +width));\n        vertices[1].push(new Point(ax - bx, -width));\n\n        drawings[0].push('L');\n        drawings[1].push('L');\n\n        lengths.push(Math.abs(ax) - cx);\n\n        //  Reverse right path\n        vertices[1].reverse();\n        drawings[1].reverse();\n\n        //  Move vertices into original position (before last translation)\n        angle = DG.VertexTransform.getAnglesSum(angles.fullAngle, path.getAngle());\n        transform(vertices, angle, vertices.pop()[0]);  //  path.vertices[0]\n\n        //  We need to reconstruct arc's indexes but too many variables already touched, reuse some of them\n        ax = vertices[0].length;\n        bx = vertices[1].length;\n        this._arcs = arcs[2].map(function(i) {\n            cx = arcs[i].shift();\n            if (i > 0) {\n                return new DG.ArcBezier(vertices[1].slice(bx - cx - 4, bx - cx));\n            } else {\n                return new DG.ArcBezier(vertices[0].slice(cx, cx + 4).reverse());\n            }\n        }).reverse();\n\n        this._lengths.push(lengths.pop());\n        lengths.reverse().forEach(function(l, i) {\n            this._lengths.push(this._arcs[i].getLength()).push(l);\n        }, this);\n\n        //  Shortcut border cases (0%-length sub-path and full-path)\n        this[0] = {\n            vertices: [vertices[0][ax - 2], vertices[0][ax - 1], vertices[1][0], vertices[1][1]],\n            drawings: ['M', 'C']\n        };\n        this[1] = {\n            vertices: vertices[0].concat(vertices[1]),\n            drawings: ['M'].concat(drawings[0], 'C', drawings[1])\n        };\n    },\n\n    _setAngleAndDisplacement: function(vL, vR) { // Used in DG.ArrowTipTransform.subShape()\n        this.angle = DG.VertexTransform.getAngle({x: vL.x - vR.x, y: vL.y - vR.y}, {x: 0, y: 1});\n        this.displ = vR.clone();\n    },\n\n    subPath: function(pathRatio) {\n        pathRatio = pathRatio > 1 ? 1 : pathRatio;\n\n        //  Shortcut border cases (0%-length sub-path and full-path)\n        if (pathRatio === 0 || pathRatio === 1) {\n            this.vertices = this[pathRatio].vertices.map(function(vertex) { return vertex.clone(); });\n            this.drawings = this[pathRatio].drawings;\n            this._setAngleAndDisplacement(this.vertices[0], this.vertices[this.vertices.length - 1]);\n            return this;\n        }\n\n        var getScaled = DG.VertexTransform.getScaled;\n        var vertices = this._vertices;\n        var drawings = this._drawings;\n        var lengths = this._lengths;\n        var len = lengths.getLength() * pathRatio;\n        var segIndex = lengths.getIndex(len);\n        var segRatio = lengths.getSegRatio(len);\n        var vertexIndexLeft = vertices[0].length - 2;\n        var vertexIndexRight = 1;\n        var drawingIndexLeft = drawings[0].length - 1;\n        var drawingIndexRight = 0;\n        var vertexLeft, vertexRight;\n        var arc = 0, aed = 0;\n\n        while (aed++ < segIndex) {\n            if (aed % 2 == 1) {\n                vertexIndexLeft--;\n                drawingIndexLeft--;\n                vertexIndexRight++;\n                drawingIndexRight++;\n            } else {\n                if (drawings[0][drawingIndexLeft] === 'C') {\n                    vertexIndexLeft -= 3;\n                    drawingIndexLeft -= 1;\n                } else {\n                    vertexIndexRight += 3;\n                    drawingIndexRight += 1;\n                }\n                arc++;\n            }\n        }\n\n        if (segIndex % 2 == 1) {\n            //  One path ends with an arc\n            arc = this._arcs[arc];\n            if (drawings[0][drawingIndexLeft] === 'C') {\n                arc = arc.getCurveBefore(arc.getTbyL(lengths.getSegLength(len)));\n                vertexLeft = arc.points[3];\n                vertexRight = vertices[1][vertexIndexRight];\n                this.vertices = arc.points.slice(1).reverse()\n                    .concat(vertices[0].slice(vertexIndexLeft), vertices[1].slice(0, vertexIndexRight + 1))\n                    .map(function(vertex) { return vertex.clone(); });\n                this.drawings = ['M'].concat(drawings[0].slice(drawingIndexLeft), 'C', drawings[1].slice(0, drawingIndexRight));\n            } else {\n                arc = arc.getCurveBefore(arc.getTbyL(lengths.getSegLength(len)));\n                vertexLeft = vertices[0][vertexIndexLeft];\n                vertexRight = arc.points[3];\n                this.vertices = vertices[0].slice(vertexIndexLeft)\n                    .concat(vertices[1].slice(0, vertexIndexRight + 1), arc.points.slice(1))\n                    .map(function(vertex) { return vertex.clone(); });\n                this.drawings = ['M'].concat(drawings[0].slice(drawingIndexLeft + 1), 'C', drawings[1].slice(0, drawingIndexRight + 1));\n            }\n        } else {\n            //  Both paths end with lines\n            vertexLeft = getScaled(vertices[0][vertexIndexLeft], vertices[0][vertexIndexLeft - 1], segRatio);\n            vertexRight = getScaled(vertices[1][vertexIndexRight], vertices[1][vertexIndexRight + 1], segRatio);\n            this.vertices = [vertexLeft]\n                .concat(vertices[0].slice(vertexIndexLeft), vertices[1].slice(0, vertexIndexRight + 1), vertexRight)\n                .map(function(vertex) { return vertex.clone(); });\n            this.drawings = ['M'].concat(drawings[0].slice(drawingIndexLeft), 'C', drawings[1].slice(0, drawingIndexRight + 1));\n        }\n\n        this._setAngleAndDisplacement(vertexLeft, vertexRight);\n        return this;\n    },\n\n    statics: {\n        getAngles: function(path) {\n            var getAngle = DG.VertexTransform.getAngle;\n            var fullAngle = {cos: 1, sin: 0};\n            var vertices = path.vertices;\n            var angles = [];\n\n            var absSin, angle,\n                cos, sin, cot, temp, sign;\n\n            for (var i = 1, len = vertices.length - 1; i < len; i++) {\n                angle = getAngle(vertices[i - 1], vertices[i + 1], vertices[i]);\n\n                absSin = Math.abs(angle.sin);\n                if (absSin < 0.000001) {\n                    //  Exclude 180° angle from vertices array\n                    vertices.splice(vertices.length - i - 1, 1);\n                    len--;\n                    i--;\n                } else {\n                    //  This is half ∢α cotangent, sign describes angle direction and used to shortcut stroke calculations\n                    //  '-1' - right angle is inner angle, '1' - left angle is inner angle (if seen from [0, 0] to [-1, 0])\n                    angle.cot = (1 + angle.cos) / angle.sin;\n\n                    //  We need to rotate next segment to [-1, 0] axis, so we need complementary angle actually\n                    angle.cos = -angle.cos;\n\n                    //  Complimentary angle also used to calculate it's quaternary ∢β tangent\n                    //  ∢β tangent used in approximation of outer arc segment by Bézier curve\n                    cot = (1 + angle.cos) / angle.sin;\n                    sign = cot < 0 ? -1 : 1;\n                    temp = sign * Math.sqrt(4 * cot * cot + 4);\n                    angle.tan = -0.5 * (cot + cot - temp);\n\n                    angles.push(angle);\n\n                    cos = fullAngle.cos * angle.cos - fullAngle.sin * angle.sin;\n                    sin = fullAngle.sin * angle.cos + fullAngle.cos * angle.sin;\n\n                    fullAngle = {cos: cos, sin: sin};\n                }\n            }\n\n            //  Used in final stroke points translation\n            angles.fullAngle =  {cos: fullAngle.cos, sin: -fullAngle.sin};\n            return angles;\n        },\n\n        //  TODO - if length of 'latlngs' array is less than 2 or it is undefined next function produces exception\n        //  check this condition in outer routines?!\n        getTranslatedPath: function(map, latlngs) {\n            var path = new DG.VertexTransform([]);\n            var i = latlngs.length - 1;\n            var v = map.project(latlngs[i]);\n            var dx = v.x, dy = v.y;\n\n            path.vertices.push(new DG.Point(0, 0));\n            while (i--) {\n                v = map.project(latlngs[i]);\n                path.vertices.push(new DG.Point(v.x - dx, v.y - dy));\n            }\n            return path\n                .setAngle(DG.VertexTransform.getAngle(-path.vertices[1].x, -path.vertices[1].y))\n                .unRotate();\n        },\n\n        transform: function(rings, angle, vector) {\n            var i = rings.length;\n            var cos = angle.cos;\n            var sin = angle.sin;\n            var dx = vector.x;\n            var dy = vector.y;\n            var ring, x, y, j;\n\n            while (i--) {\n                ring = rings[i];\n                j = ring.length;\n                while (j--) {\n                    x = ring[j].x - dx;\n                    y = ring[j].y - dy;\n                    ring[j].x = x * cos - y * sin;\n                    ring[j].y = x * sin + y * cos;\n                }\n            }\n        }\n    }\n});\n\n/*\n * DG.ArrowTipTransform class is a core of arrow's tip calculations\n *\n * .subShape() routine 'bound' arrow's tip to the ending points of .subPath()\n * calculated separately in DG.ArrowPathTransform\n *\n *  Final translation (see DG.Entrance.Arrow) moves arrow objects to their original positions\n */\n\nDG.ArrowTipTransform = DG.VertexTransform.extend({\n    initialize: function(path, shape) {\n        this.drawings = shape.drawings; //  static mapping\n        this._vertices = shape.vertices;\n\n        this._setShape(path, shape);\n    },\n\n    _setShape: function(path, shape) {\n        var sp = shape.vertices[0];\n        var width = Math.abs(sp.y);\n        var pl = path.vertices[1].x;    //  negative value\n        var length = sp.x;              //  negative value\n        var offset = pl - length + width + width;\n\n        path.width = width;\n        path.offset = length + (offset > 0 ? offset : 0);\n        if (path.vertices.length < 3 && length > -10) {\n            path.offset += 2.5;\n        }\n\n        this._vertices = this.load().unTranslate(sp).vertices;\n    },\n\n    subShape: function(transform) {\n        this.load().unRotate(transform.angle).translate(transform.displ);\n        return this;\n    }\n});\n\n/*\n * DG.ComplexPath is a simple vector layer class with empty .getEvents() object(!)\n * It's drawing logic is maintained in DG.Entrance.Arrow class\n *\n * _pxBounds is a pixel bounds of this drawings and they are used in L.Canvas\n */\n\nDG.ComplexPath = DG.Path.extend({\n    options: {\n        fill: true,\n        fillOpacity: 1,\n        interactive: false\n    },\n\n    initialize: function(options) {\n        DG.setOptions(this, options);\n\n        this._empty = [];\n\n        this._pxEmpty = DG.bounds(\n            DG.point(0, 0), DG.point(0, 0)\n        );\n        this._pxBounds = this._pxEmpty;\n\n        this._vertices = [this._empty];\n        this._drawings = [this._empty];\n    },\n\n    getEvents: function() {\n        return {};\n    },\n\n    _project: function() {\n        var opts = this.options,\n            zoom, weight;\n\n        if (this._map) {\n            zoom = this._map.getZoom();\n        } else {\n            return;\n        }\n\n        if (opts.visibility.isShown && opts.transform[zoom]) {\n            //  Next numbers was empirically selected in order to provide visual compliance\n            //  to the original arrow's implementation\n            weight = 2.2 - ((19 - zoom) * 0.2);\n            if (opts.weight !== weight) {\n                this.setStyle({weight: +weight.toFixed(2)});\n            }\n\n            this._vertices[0] = opts.transform[zoom].vertices;\n            this._drawings[0] = opts.transform[zoom].drawings;\n\n            this._pxBounds = opts.transform[zoom]._pxBounds;\n        } else {\n            this._vertices[0] = this._empty;\n            this._drawings[0] = this._empty;\n\n            this._pxBounds = this._pxEmpty;\n        }\n    },\n\n    _update: function() {\n        if (this._map) {\n            this._updatePath();\n        }\n    },\n\n    _updatePath: function() {  //  used in Canvas renderer\n        this._renderer._updateComplexPath(this);\n    }\n});\n\n/*\n * Actual painting methods that can draw complex objects with curves\n *\n * Point coordinates must be provided in layer._vertices object\n * And types of line must be provided in layer._drawings object\n */\n\nDG.extend(L.Canvas.prototype, {\n    _updateComplexPath: function(layer, closed) {\n        var i, j, k, d, x, y, _x, _y, $x, $y, points;\n        var drawings = layer._drawings;\n        var vertices = layer._vertices;\n        var ctx = this._ctx;\n\n        this._drawnLayers[layer._leaflet_id] = layer;\n\n        //  TODO: Do we need to do a 'beginPath()' and possible 'closePath()' per ring?!\n        ctx.beginPath();\n\n        for (i = 0; i < vertices.length; i++) {\n            points = vertices[i];\n            x = y = 0;\n            j = k = 0;\n            while (j < points.length) {\n                d = drawings[i][k++];\n                switch (d) {\n                    case 'M':\n                        x = points[j].x;\n                        y = points[j].y;\n                        j += 1;\n                        ctx.moveTo(x, y);\n                        break;\n\n                    case 'm':\n                        x += points[j].x;\n                        y += points[j].y;\n                        j += 1;\n                        ctx.moveTo(x, y);\n                        break;\n\n                    case 'L':\n                        x = points[j].x;\n                        y = points[j].y;\n                        j += 1;\n                        ctx.lineTo(x, y);\n                        break;\n\n                    case 'l':\n                        x += points[j].x;\n                        y += points[j].y;\n                        j += 1;\n                        ctx.lineTo(x, y);\n                        break;\n\n                    case 'C':\n                        _x = points[j].x;\n                        _y = points[j].y;\n                        j += 1;\n                        $x = points[j].x;\n                        $y = points[j].y;\n                        j += 1;\n                        x = points[j].x;\n                        y = points[j].y;\n                        j += 1;\n                        ctx.bezierCurveTo(_x, _y, $x, $y, x, y);\n                        break;\n\n                    case 'c':\n                        _x = x + points[j].x;\n                        _y = y + points[j].y;\n                        j += 1;\n                        $x = x + points[j].x;\n                        $y = y + points[j].y;\n                        j += 1;\n                        x = x + points[j].x;\n                        y = y + points[j].y;\n                        j += 1;\n                        ctx.bezierCurveTo(_x, _y, $x, $y, x, y);\n                        break;\n\n                    case 'Q':\n                        _x = points[j].x;\n                        _y = points[j].y;\n                        j += 1;\n                        x = points[j].x;\n                        y = points[j].y;\n                        j += 1;\n                        ctx.quadraticCurveTo(_x, _y, x, y);\n                        break;\n\n                    case 'q':\n                        _x = x + points[j].x;\n                        _y = y + points[j].y;\n                        j += 1;\n                        x = x + points[j].x;\n                        y = y + points[j].y;\n                        j += 1;\n                        ctx.quadraticCurveTo(_x, _y, x, y);\n                        break;\n                }\n            }\n            if (closed) {\n                ctx.closePath();\n            }\n        }\n\n        this._fillStroke(ctx, layer);\n    }\n});\n\n\nDG.extend(L.SVG.prototype, {\n    _updateComplexPath: function(layer, closed) {\n        this._setPath(layer, L.SVG.complexPointsToPath(layer._vertices, layer._drawings, closed));\n    }\n});\n\n\nDG.extend(L.SVG, {\n    complexPointsToPath: function(vertices, drawings, closed) {\n        var str = '';\n        var svg = DG.Browser.svg;\n        var i, j, k, n, d, points;\n\n        for (i = 0; i < vertices.length; i++) {\n            points = vertices[i];\n\n            //  Speedup hot path by removing if/ternary condition checks but duplicating loops\n            if (svg) {\n                j = k = 0;\n                while (j < points.length) {\n                    d = drawings[i][k++];\n                    switch (d) {\n                        case 'C':\n                        case 'c':   n = 3; break;\n                        case 'Q':\n                        case 'q':   n = 2; break;\n\n                        default:    n = 1;  //  'M', 'm', 'L', 'l', ...\n                    }\n                    str += d;\n                    while (n--) {\n                        str += points[j].x.toFixed(4) + ',' + points[j].y.toFixed(4) + ' ';\n                        j += 1;\n                    }\n                }\n            } else {\n                //  vml in IE8 can support only integer values in 'path', sorry about loss of precision\n                j = k = 0;\n                while (j < points.length) {\n                    d = drawings[i][k++];\n                    switch (d) {\n                        case 'M':   d = 'm'; n = 1; break;\n                        case 'm':   d = 't'; n = 1; break;\n                        case 'L':   d = 'l'; n = 1; break;\n                        case 'l':   d = 'r'; n = 1; break;\n                        case 'C':   d = 'c'; n = 3; break;\n                        case 'c':   d = 'v'; n = 3; break;\n                        case 'Q':\n                            //  VML spec has 'qb' command in 'v' attribute string but no 'relativeTo' compliment\n                            //  So we'll emulate Cubic Bézier curve by applying Quadratic variant in both cases\n                            //  TODO: Both control points will use the same value but this is not true solution\n                            str += 'C' +\n                                points[j].x.toFixed(0) + ',' + points[j].y.toFixed(0) + ' ' +\n                                points[j].x.toFixed(0) + ',' + points[j].y.toFixed(0) + ' ' +\n                                points[j + 1].x.toFixed(0) + ',' + points[j + 1].y.toFixed(0) + ' ';\n                            j += 2;\n                            d = '';\n                            n = 0;\n                            break;\n                        case 'q':\n                            str += 'c' +\n                                points[j].x.toFixed(0) + ',' + points[j].y.toFixed(0) + ' ' +\n                                points[j].x.toFixed(0) + ',' + points[j].y.toFixed(0) + ' ' +\n                                points[j + 1].x.toFixed(0) + ',' + points[j + 1].y.toFixed(0) + ' ';\n                            j += 2;\n                            d = '';\n                            n = 0;\n                            break;\n\n                        default:    n = 1;\n                    }\n                    str += d;\n                    while (n--) {\n                        str += points[j].x.toFixed(0) + ',' + points[j].y.toFixed(0) + ' ';\n                        j += 1;\n                    }\n                }\n            }\n\n            str += closed ? (svg ? 'z' : 'x') : '';\n        }\n\n        // SVG complains about empty path strings\n        return str || 'm0,0';\n    }\n});\n\n/*\n * DGBezierCurves is a collection of three classes:\n * Original DG.Bezier class provides basic math for Cubic and Quadratic Bézier curves\n * DG.TimeBezier used in animation effects it can return 'Distance' (Y) by Time (X) value\n * DG.ArcBezier can return 't' value by curve's segment length\n * Actual calculations can be very hard (in math terms) so we use LUT's to optimize them\n *\n * Original ideas come from this source:   https://pomax.github.io/bezierinfo/\n */\n\nDG.Bezier = DG.Class.extend({\n    /**\n     * Initialize curve object by provided control points\n     * @param {Array<DG.Point>} coords Curve's control points in DG.Point format (up to four control points supported)\n     * @param {boolean} [clone] Clone original points or not (Default)\n     */\n    initialize: function(coords, clone) {\n        if (clone) {\n            this.points = coords.map(function(coord) { return coord.clone(); });\n        } else {\n            this.points = coords;\n        }\n        this.dpoints = this._getDerivatives();\n        this.order = this.points.length - 1;\n        this._lut = [];\n    },\n\n    getPoint: function(t) {\n        var p = this.points;\n        var mt, mt2, t2;\n        var a, b, c, d;\n\n        if (t === 0) { return p[0]; }\n        if (t === 1) { return p[this.order]; }\n\n        mt = 1 - t;\n        mt2 = mt * mt;\n        t2 = t * t;\n\n        if (this.order > 2) {\n            a = mt2 * mt;\n            b = mt2 * t * 3;\n            c = mt * t2 * 3;\n            d = t * t2;\n        } else {\n            p = [p[0], p[1], p[2], {x: 0, y: 0}];\n            a = mt2;\n            b = mt * t * 2;\n            c = t2;\n            d = 0;\n        }\n\n        return new DG.Point(\n            a * p[0].x + b * p[1].x + c * p[2].x + d * p[3].x,\n            a * p[0].y + b * p[1].y + c * p[2].y + d * p[3].y\n        );\n    },\n\n    derivative: function(t) {\n        var p = this.dpoints[0];\n        var mt = 1 - t;\n        var a, b, c;\n\n        if (this.order > 2) {\n            a = mt * mt;\n            b = mt * t * 2;\n            c = t * t;\n        } else {\n            p = [p[0], p[1], {x: 0, y: 0}];\n            a = mt; b = t; c = 0;\n        }\n\n        return new DG.Point(\n            a * p[0].x + b * p[1].x + c * p[2].x,\n            a * p[0].y + b * p[1].y + c * p[2].y\n        );\n    },\n\n    getLength: function() {\n        /* eslint-disable camelcase */\n        var w_i = DG.Bezier.WEIGHT;\n        var x_i = DG.Bezier.ABSCISSA;\n        var z = 0.5;\n        var sum = 0;\n        var d, l, t;\n\n        for (var i = 0; i < x_i.length; i++) {\n            t = z * x_i[i] + z;\n            d = this.derivative(t);\n            l = d.x * d.x + d.y * d.y;\n            sum += w_i[i] * Math.sqrt(l);\n        }\n        /* eslint-enable camelcase */\n\n        return z * sum;\n    },\n\n    getCurveBefore: function(z) {\n        var p = this.points;\n        var z2, z3, mz, mz2, mz3;\n        var b$3, b$4, c$4;\n        var curve;\n\n        if (z === 1) { return this.clone(); }\n\n        curve = [];\n        z2 = z * z;\n        mz = z - 1;\n        mz2 = mz * mz;\n\n        curve[0] = new DG.Point(\n            p[0].x,\n            p[0].y\n        );\n\n        curve[1] = new DG.Point(\n            z * p[1].x - mz * p[0].x,\n            z * p[1].y - mz * p[0].y\n        );\n\n        b$3 = z * mz * 2;\n        curve[2] = new DG.Point(\n            z2 * p[2].x - b$3 * p[1].x + mz2 * p[0].x,\n            z2 * p[2].y - b$3 * p[1].y + mz2 * p[0].y\n        );\n\n        if (this.order > 2) {\n            z3 = z2 * z;\n            mz3 = mz2 * mz;\n            b$4 = z2 * mz * 3;\n            c$4 = z * mz2 * 3;\n            curve[3] = new DG.Point(\n                z3 * p[3].x - b$4 * p[2].x + c$4 * p[1].x - mz3 * p[0].x,\n                z3 * p[3].y - b$4 * p[2].y + c$4 * p[1].y - mz3 * p[0].y\n            );\n        }\n\n        return new DG.Bezier(curve);\n    },\n\n    getCurveAfter: function(z) {\n        var p = this.points;\n        var n = this.order;\n        var z2, z3, mz, mz2, mz3;\n        var b$3, b$4, c$4;\n        var curve;\n\n        if (z === 1) { return this.clone(); }\n\n        curve = [];\n        z2 = z * z;\n        mz = z - 1;\n        mz2 = mz * mz;\n\n        curve[n] = new DG.Point(\n            p[n].x,\n            p[n].y\n        );\n\n        curve[--n] = new DG.Point(\n            z * p[n + 1].x - mz * p[n].x,\n            z * p[n + 1].y - mz * p[n].y\n        );\n\n        b$3 = z * mz * 2;\n        curve[--n] = new DG.Point(\n            z2 * p[n + 2].x - b$3 * p[n + 1].x + mz2 * p[n].x,\n            z2 * p[n + 2].y - b$3 * p[n + 1].y + mz2 * p[n].y\n        );\n\n        if (this.order > 2) {\n            z3 = z2 * z;\n            mz3 = mz2 * mz;\n            b$4 = z2 * mz * 3;\n            c$4 = z * mz2 * 3;\n            curve[--n] = new DG.Point(\n                z3 * p[n + 3].x - b$4 * p[n + 2].x + c$4 * p[n + 1].x - mz3 * p[n].x,\n                z3 * p[n + 3].y - b$4 * p[n + 2].y + c$4 * p[n + 1].y - mz3 * p[n].y\n            );\n        }\n\n        return new DG.Bezier(curve);\n    },\n\n    _getDerivatives: function() {\n        var p = this.points;\n        var d, c, j, list;\n        var result = [];\n\n        for (d = p.length, c = d - 1; d > 1; d--, c--) {\n            list = [];\n            for (j = 0; j < c; j++) {\n                list.push(new DG.Point(\n                    c * (p[j + 1].x - p[j].x),\n                    c * (p[j + 1].y - p[j].y)\n                ));\n            }\n            result.push(list);\n            p = list;\n        }\n\n        return result;\n    },\n\n    getLUT: function(steps) {\n        steps = steps || 125;\n\n        if (this._lut.length !== steps + 1) {\n            if (this.order > 2) {\n                this._setLUT3(steps);\n            } else {\n                this._setLUT2(steps);\n            }\n        }\n\n        return this._lut;\n    },\n\n    _setLUT2: function(steps) {\n        var lut = this._lut = [];\n        var p = this.points;\n        var t, mt;\n        var a, b, c;\n\n        lut.push({x: p[0].x, y: p[0].y, l: 0});\n        for (var s = 1; s < steps; s++) {\n            t = s / steps;\n            mt = 1 - t;\n            a = mt * mt;\n            b = mt * t * 2;\n            c = t * t;\n            lut.push({\n                x: a * p[0].x + b * p[1].x + c * p[2].x,\n                y: a * p[0].y + b * p[1].y + c * p[2].y\n            });\n        }\n        lut.push({x: p[2].x, y: p[2].y, l: 0});\n    },\n\n    _setLUT3: function(steps) {\n        var lut = this._lut = [];\n        var p = this.points;\n        var t, t2, mt, mt2;\n        var a, b, c, d;\n\n        lut.push({x: p[0].x, y: p[0].y, l: 0});\n        for (var s = 1; s < steps; s++) {\n            t = s / steps;\n            mt = 1 - t;\n            mt2 = mt * mt;\n            t2 = t * t;\n            a = mt2 * mt;\n            b = mt2 * t * 3;\n            c = mt * t2 * 3;\n            d = t * t2;\n            lut.push({\n                x: a * p[0].x + b * p[1].x + c * p[2].x + d * p[3].x,\n                y: a * p[0].y + b * p[1].y + c * p[2].y + d * p[3].y\n            });\n        }\n        lut.push({x: p[3].x, y: p[3].y, l: 0});\n    },\n\n    clone: function() {\n        return new DG.Bezier(this.points, true);\n    }\n});\n\nDG.bezier = function(coords) {\n    if (typeof coords === 'number' || coords instanceof DG.Point) {\n        coords = Array.prototype.slice.call(arguments);\n    }\n\n    if (typeof coords[0] === 'number') {\n        if (coords.length < 7) {\n            coords = [\n                new DG.Point(coords[0], coords[1]),\n                new DG.Point(coords[2], coords[3]),\n                new DG.Point(coords[4], coords[5])\n            ];\n        } else {\n            coords = [\n                new DG.Point(coords[0], coords[1]),\n                new DG.Point(coords[2], coords[3]),\n                new DG.Point(coords[4], coords[5]),\n                new DG.Point(coords[6], coords[7])\n            ];\n        }\n        return new DG.Bezier(coords);\n    } else {\n        return new DG.Bezier(coords, true);\n    }\n};\n\n/* eslint-disable indent */\nDG.Bezier.WEIGHT = [\n    0.3626837833783620,\n    0.3626837833783620,\n    0.3137066458778873,\n    0.3137066458778873,\n    0.2223810344533745,\n    0.2223810344533745,\n    0.1012285362903763,\n    0.1012285362903763\n];\nDG.Bezier.ABSCISSA = [\n   -0.1834346424956498,\n    0.1834346424956498,\n   -0.5255324099163290,\n    0.5255324099163290,\n   -0.7966664774136267,\n    0.7966664774136267,\n   -0.9602898564975363,\n    0.9602898564975363\n];\n/* eslint-enable indent */\n\n\n//  This curve is monotonically ordered by 'X' coordinate and has P[0] = {0, 0} and P[3] = {1, 1}\n//  We can utilize this facts to shortcut calculations\nDG.TimeBezier = DG.Bezier.extend({\n    initialize: function(controlPoint1, controlPoint2, clone) {\n        DG.Bezier.prototype.initialize.call(\n            this,\n            [DG.TimeBezier.START, controlPoint1, controlPoint2, DG.TimeBezier.END],\n            clone\n        );\n    },\n\n    getYbyX: function(x) {\n        var lut = this.getLUT();\n        var max = lut.length - 1;\n        var min = 0;\n        var mid;\n\n        if (x <= 0) { return 0; }\n        if (x >= 1) { return 1; }\n\n        //  'X' is monotonically increasing so we can do a simple binary search (LUT)\n        //  and then fine-tune the result by linear interpolation assuming 'Y' is not changed so radically\n        while (true) {\n            mid = min + (max - min >> 1);\n            if (x < lut[mid].x) {\n                max = mid;\n            } else {\n                min = mid;\n            }\n            if (max - min < 2) { break; }\n        }\n        x = (x - lut[min].x) / (lut[max].x - lut[min].x);\n\n        return (lut[min].y + (lut[max].y - lut[min].y) * x);\n    },\n\n    getLUT: function(steps) {\n        var p = this.points;\n        var t, t2, mt;\n        var b, c, d;\n        var lut;\n\n        steps = steps || 240;\n        if (this._lut.length === steps + 1) {\n            return this._lut;\n        } else {\n            this._lut = lut = [];\n        }\n\n        lut.push({x: 0, y: 0});\n        for (var s = 1; s < steps; s++) {\n            t = s / steps;\n            mt = 1 - t;\n            t2 = t * t;\n            //  We don't need 'a' coefficient because p[0] is {0, 0}\n            b = mt * mt * t * 3;\n            c = mt * t2 * 3;\n            d = t * t2;\n            lut.push({\n                x: b * p[1].x + c * p[2].x + d,\n                y: b * p[1].y + c * p[2].y + d\n            });\n        }\n        lut.push({x: 1, y: 1});\n\n        return lut;\n    },\n\n    clone: function() {\n        return new DG.TimeBezier(this.points, true);\n    }\n});\n\nDG.TimeBezier.START = DG.point(0, 0);\nDG.TimeBezier.END = DG.point(1, 1);\n\n\n//  This is cubic Bezier describing circular arc\nDG.ArcBezier = DG.Bezier.extend({\n    initialize: function(coords, clone) {\n        DG.Bezier.prototype.initialize.call(this, coords, clone);\n        this.getLUT();\n        this._setLutLengths();\n    },\n\n    getTbyL: function(l) {\n        var lut = this.getLUT();\n        var max = lut.length - 1;\n        var min = 0;\n        var mid;\n        var x, y;\n\n        if (l <= 0) { return 0; }\n        if (l >= lut[max].l) { return 1; }\n\n        //  'L' is monotonically increasing so we can do a binary search (LUT)\n        //  and then fine-tune the result by linear interpolation\n        while (true) {\n            mid = min + (max - min >> 1);\n            if (l < lut[mid].l) {\n                max = mid;\n            } else {\n                min = mid;\n            }\n            if (max - min < 2) { break; }\n        }\n        l = (l - lut[min].l) / (lut[max].l - lut[min].l);\n\n        x = (lut[min].x + (lut[max].x - lut[min].x) * l);\n        y = (lut[min].y + (lut[max].y - lut[min].y) * l);\n\n        //  BUT this is a part of story, we need a projection of this point to the actual curve and it's reverse 't' val\n        var p, dx, dy, t;\n        var et = max / lut.length;\n        var dt = min / lut.length;\n        var s = 1 / lut.length / 10;    //  TODO\n        var d = Math.pow(2, 53) - 1;\n\n        for (t = dt; dt < et; dt += s) {\n            p = this.getPoint(dt);\n            dx = p.x - x; dy = p.y - y;\n            l = Math.sqrt(dx * dx + dy * dy);\n            if (l < d) {\n                d = l;\n                t = dt;\n            }\n        }\n\n        return t;\n    },\n\n    _setLutLengths: function() {\n        var lut = this._lut;\n        var dx, dy;\n\n        lut[0].l = 0;\n        for (var i = 1; i < lut.length; i++) {\n            dx = lut[i].x - lut[i - 1].x;\n            dy = lut[i].y - lut[i - 1].y;\n            lut[i].l = lut[i - 1].l + Math.sqrt(dx * dx + dy * dy);\n        }\n    },\n\n    getLength: function() {\n        return this._lut[this._lut.length - 1].l;\n    },\n\n    clone: function() {\n        return new DG.ArcBezier(this.points, true);\n    }\n});\n\n/*\n * DG.Animation provides tick (step) logic returning progression values\n * calculated over provided or custom Bézier curves\n * Original input can be array object btw...\n */\n\nDG.Animation = DG.Evented.extend({\n    options: {\n        // animation: {    //  Or array of objects\n        //     function: DG.Animation.EASE,\n        //     duration: 2000,\n        //     frames: null\n        // }\n\n        //offset: 0\n        //repeat: 0\n    },\n\n    initialize: function(options) {\n        DG.setOptions(this, options);\n\n        this._animID = -1;\n        this._startTime = 0;\n        this._running = false;\n        this._animation = null;\n        this._durations = null;\n    },\n\n    start: function() {\n        this.stop();\n        this._prepare();\n\n        this._running = true;\n\n        this.fire('start');\n\n        //  Date.now(), but... IE9+\n        this._startTime = new Date().getTime();\n\n        this._animate();\n    },\n\n    stop: function() {\n        if (this._running) {\n            this._run(this._durations.getLength());\n        }\n    },\n\n    _prepare: function() {\n        this._animation = DG.Util.isArray(this.options.animation) ? this.options.animation : [this.options.animation];\n\n        this._durations = new DG.Metric.Segments();\n        this._animation.forEach(function(animation) {\n            this.push(animation.duration);\n        }, this._durations);\n    },\n\n    _animate: function() {\n        this._animID = DG.Util.requestAnimFrame(this._animate, this);\n        this._run();\n    },\n\n    _run: function(elapsed) {\n        var el, index, progress;\n        //  Possible skip zero delta time but who cares?!\n        elapsed = elapsed ? elapsed : new Date().getTime() - this._startTime;\n\n        if (elapsed < this._durations.getLength()) {\n            index = this._durations.getIndex(elapsed);\n            el = this._durations.getSegRatio(elapsed);\n            progress = this._animation[index]['function'].getYbyX(el);\n            this._step(this._getFrameValues(index, progress));\n        } else {\n            index = this._durations.length - 1;\n            this._step(this._getFrameValues(index, 1));\n            this._complete();\n        }\n    },\n\n    _step: function(obj) {\n        this.fire('step', obj);\n    },\n\n    _complete: function() {\n        DG.Util.cancelAnimFrame(this._animID);\n\n        this._durations = null;\n        this._animation = null;\n        this._running = false;\n        this.fire('end');\n    },\n\n    _getFrameValues: function(index, progress) {\n        var frames = this._animation[index].frames;\n        var obj = {progress: progress};\n        var fr, to;\n\n        if (frames) {\n            for (var key in frames) {\n                if (frames[key].progress) {\n                    obj[key] = frames[key].progress(progress);\n                } else {\n                    fr = frames[key].from;\n                    to = frames[key].to;\n                    obj[key] = fr + (to - fr) * progress;\n                }\n            }\n        }\n        return obj;\n    }\n});\n\nDG.animation = function(options) {\n    return new DG.Animation(options);\n};\n\nDG.Animation.LINEAR         = new DG.TimeBezier(DG.point(0.00, 0.0), DG.point(1.00, 1.0));\nDG.Animation.EASE           = new DG.TimeBezier(DG.point(0.25, 0.1), DG.point(0.25, 1.0));\nDG.Animation.EASE_IN        = new DG.TimeBezier(DG.point(0.42, 0.0), DG.point(1.00, 1.0));\nDG.Animation.EASE_IN_OUT    = new DG.TimeBezier(DG.point(0.42, 0.0), DG.point(0.58, 1.0));\nDG.Animation.EASE_OUT       = new DG.TimeBezier(DG.point(0.00, 0.0), DG.point(0.58, 1.0));\n\n/*\n * DG.Entrance is a main class that hosts actual arrow layers\n * It orchestrates animation and provides user space methods like .show() and .hide()\n */\n\nDG.Entrance = DG.FeatureGroup.extend({\n\n    options: {\n        vectors: [],\n\n        fillColor: '#0085a0',\n        strokeColor: '#fff',\n\n        enableAnimation: true,\n        interactive: false,\n\n        autoClose: true\n    },\n\n    initialize: function(options) {\n        DG.LayerGroup.prototype.initialize.call(this);\n\n        DG.setOptions(this, options);\n\n        this._bounds =\n            new DG.LatLngBounds();\n        this._animations = {\n            bounce: DG.animation(DG.Entrance.BOUNCE_ANIMATION),\n            path: DG.animation(DG.Entrance.PATH_ANIMATION)\n        };\n\n        this._initArrows();\n\n        this._isShown = false;\n    },\n\n    onAdd: function(map) {\n        DG.LayerGroup.prototype.onAdd.call(this, map);\n        this.show();\n    },\n\n    onRemove: function(map) {\n        this.hide();\n        DG.LayerGroup.prototype.onRemove.call(this, map);\n    },\n\n    getEvents: function() {\n        var events = {};\n\n        if (this.options.autoClose) {\n            events['layeradd'] = this._removeEntrance;  //  eslint-disable-line dot-notation\n        }\n        if (this.options.enableAnimation) {\n            events['zoomend'] = this._animate;          //  eslint-disable-line dot-notation\n        }\n\n        return events;\n    },\n\n    show: function(fitBounds) {\n        if (this._layers) {\n            if (fitBounds) {\n                this.fitBounds();\n            }\n            if (!this._isShown) {\n                this._isShown = true;\n                this.eachLayer(function(arrow) {\n                    arrow.setVisibility(true);\n                });\n                if (this.options.enableAnimation) {\n                    this._animate();\n                }\n                this._map.fire('entranceshow');\n            }\n        }\n\n        return this;\n    },\n\n    hide: function() {\n        if (this._layers && this._isShown) {\n            this._isShown = false;\n            this.eachLayer(function(arrow) {\n                arrow.setVisibility(false);\n            });\n            this._map.fire('entrancehide');\n        }\n\n        return this;\n    },\n\n    isShown: function() {\n        return this._isShown;\n    },\n\n    getBounds: function() {\n        return this._bounds;\n    },\n\n    setFillColor: function(color) {\n        this.eachLayer(function(arrow) {\n            arrow.setStyle({fillColor: color});\n        });\n    },\n\n    setStrokeColor: function(color) {\n        this.eachLayer(function(arrow) {\n            arrow.setStyle({color: color});\n        });\n    },\n\n    _initArrows: function() {\n        var base = {\n            color: this.options.strokeColor,\n            fillColor: this.options.fillColor,\n            interactive: this.options.interactive\n        };\n\n        this.options.vectors\n            .map(function(vector) {\n                return DG.Wkt.toLatLngs(vector);\n            })\n            .forEach(function(latlngs) {\n                var options = DG.Util.create(base),\n                    bounds = DG.latLngBounds(latlngs);\n\n                this._bounds.extend(bounds);\n\n                options.latlngs = latlngs;\n                options.bounds = bounds;\n                if (this.options.enableAnimation) {\n                    if (latlngs.length > 2) {\n                        options.animation = this._animations.path;\n                    } else {\n                        options.animation = this._animations.bounce;\n                        options.distance = true;\n                    }\n                }\n\n                this.addLayer(DG.entrance.arrow(options));\n            }, this);\n    },\n\n\n    _animate: function() {\n        if (this._isShown) {\n            this._animations.bounce.start();\n            this._animations.path.start();\n        }\n    },\n\n    //  Current logic of next four methods extracted from original arrow's implementation\n    fitBounds: function() {\n        var map = this._map, fitZoom,\n            bounds = this.getBounds();\n\n        if (!map.getBounds().contains(bounds) || !this._isAllowedZoom()) {\n            fitZoom = this._getFitZoom();\n            if (!map.projectDetector.getProject()) {\n                map.once('moveend', function() {\n                    map.setZoom(this._getFitZoom());\n                }, this);\n            }\n            map.setView(bounds.getCenter(), fitZoom, {animate: true});\n        }\n\n        return this;\n    },\n\n    _getFitZoom: function() {\n        return this._map.projectDetector.getProject().maxZoom || DG.Entrance.SHOW_FROM_ZOOM;\n    },\n\n    _isAllowedZoom: function() {\n        return this._map.getZoom() >= DG.Entrance.SHOW_FROM_ZOOM;\n    },\n\n    _removeEntrance: function(e) {\n        if (e.layer instanceof DG.Popup ||\n            (e.layer instanceof DG.Entrance && e.layer !== this)) {\n\n            this.remove();\n        }\n    }\n});\n\nDG.entrance = function(options) {\n    return new DG.Entrance(options);\n};\n\nDG.Entrance.SHOW_FROM_ZOOM = 16;\nDG.Entrance.PATH_ANIMATION = {\n    animation: {\n        'function': DG.Animation.EASE_IN_OUT,\n        'duration': 750\n    }\n};\nDG.Entrance.BOUNCE_ANIMATION = {\n    animation: [\n        {'function': DG.Animation.EASE_IN_OUT, 'duration': 250, 'frames': {'distance': {'from': 0, 'to': 0.6}}},\n        {'function': DG.Animation.EASE_IN, 'duration': 135, 'frames': {'distance': {'from': 0.6, 'to': 0}}},\n        {'function': DG.Animation.EASE_OUT, 'duration': 135, 'frames': {'distance': {'from': 0, 'to': 0.16}}},\n        {'function': DG.Animation.EASE_IN, 'duration': 90, 'frames': {'distance': {'from': 0.16, 'to': 0}}},\n        {'function': DG.Animation.EASE_OUT, 'duration': 90, 'frames': {'distance': {'from': 0, 'to': 0.06}}},\n        {'function': DG.Animation.EASE_IN, 'duration': 50, 'frames': {'distance': {'from': 0.06, 'to': 0}}}\n    ]\n};\n\n/*\n * DG.Entrance.Arrow class hosts two layers, one for arrow body (path) and one for arrow tip\n * It overrides projection events from hosted layers to minimize total overhead\n * Actual calculations produced in DG.ArrowPathTransform and DG.ArrowTipTransform classes\n */\n\nDG.Entrance.Arrow = DG.FeatureGroup.extend({\n    initialize: function(options) {\n        DG.LayerGroup.prototype.initialize.call(this);\n\n        DG.setOptions(this, options);\n\n        this._progress = 1;\n        this._distance = 0;\n        this._visibility = {\n            isShown: false\n        };\n        this._position =\n            options.latlngs[options.latlngs.length - 1];\n        this._shape =\n            this.options.shape ||\n            DG.Entrance.Arrow.SHAPE;\n\n        this._apt = {}; // DG.ArrowPathTransform objects by zoom levels\n        this._att = {}; // DG.ArrowTipTransform objects by zoom levels\n    },\n\n    beforeAdd: function(map) {\n        //  this._map is not initialized yet, so we can freely addLayer(s)\n        var opts = this.options;\n\n        //  TODO: Check Canvas processing order\n        //  Additional logic to DISABLE animation on Canvas for now!\n        if (opts.animation && !map.options.preferCanvas && !DG.Browser.ielt9) {\n            opts.animation.on('step', this._animation, this);\n        } else {\n            opts.animation = null;\n        }\n\n        this.projection();\n\n        this.addLayer(new DG.ComplexPath({\n            lineCap: 'butt',\n            color: opts.color,\n            fillColor: opts.fillColor,\n            interactive: opts.interactive,\n            visibility: this._visibility,\n            transform: this._apt\n        }));\n\n        this.addLayer(new DG.ComplexPath({\n            lineJoin: 'miter',\n            color: opts.color,\n            fillColor: opts.fillColor,\n            interactive: opts.interactive,\n            visibility: this._visibility,\n            transform: this._att\n        }));\n    },\n\n    getEvents: function() {\n        return {\n            zoomend: this._project,\n            moveend: this._update,\n            viewreset: this._reset\n        };\n    },\n\n    setVisibility: function(isShown) {\n        if (this._visibility.isShown !== isShown) {\n            this._visibility.isShown = isShown;\n            if (isShown) {\n                if (!this.options.animation) {\n                    this._reset();\n                }\n            } else {\n                this._reset();\n            }\n        }\n    },\n\n    getBounds: function() {\n        return this.options.bounds;\n    },\n\n    projection: function() {\n        var map = this._map || this._mapToAdd;\n        var zoom = map ? map.getZoom() : 0;\n        var vertices = this._shape.vertices[zoom];\n        var drawings = this._shape.drawings[zoom];\n        var latlngs = this.options.latlngs;\n        var shape, path, lastPoint, prevPoint;\n\n        if (zoom && vertices && drawings) {\n            if (!this._att[zoom]) {\n                path = DG.ArrowPathTransform.getTranslatedPath(map, latlngs);\n                shape = {vertices: vertices, drawings: drawings};\n                this._att[zoom] = new DG.ArrowTipTransform(path, shape);\n                this._apt[zoom] = new DG.ArrowPathTransform(path);\n            }\n\n            lastPoint = map.latLngToLayerPoint(this._position);\n            prevPoint = map.latLngToLayerPoint(latlngs[latlngs.length - 2]);\n            if (!this._apt[zoom]._pxBounds) {\n                //  One-time action per 'viewreset' event\n                //  Caching _pxBounds for using with Canvas renderer\n                this._setBounds(lastPoint, prevPoint, this._apt[zoom], this._att[zoom]);\n            }\n            if (this.options.distance) {\n                //  Arrow position recalculated for Bounce animation effect\n                lastPoint = DG.VertexTransform.getScaled(lastPoint, prevPoint, this._distance);\n            }\n\n            //  Main calculations\n            //  Get part of the arrow path and move (bound) arrow tip to it\n            this._apt[zoom].subPath(this._progress).translate(lastPoint);\n            this._att[zoom].subShape(this._apt[zoom]).translate(lastPoint);\n        }\n\n        return this;\n    },\n\n    _animation: function(e) {\n        if (e.distance != undefined) {\n            this._distance = e.distance;    //  bounce animation effect\n        } else {\n            this._progress = e.progress;    //  path animation effect\n        }\n        if (this._visibility.isShown) {\n            //  TODO: Additional logic for animation on Canvas\n            // this.projection().invoke('redraw');\n\n            this._project();\n            this._update();\n        }\n    },\n\n    _project: function() {\n        this.projection().invoke('_project');\n    },\n\n    _update: function() {\n        this.invoke('_update');\n    },\n\n    _reset: function() {\n        this._resetBounds();\n\n        this._project();\n        this._update();\n    },\n\n    _resetBounds: function() {\n        //  Canvas renderer specific\n        var z;\n\n        for (z in this._apt) {\n            this._apt[z]._pxBounds = null;\n        }\n\n        for (z in this._att) {\n            this._att[z]._pxBounds = null;\n        }\n    },\n\n    _setBounds: function(pl, pp, apt, att) {\n        var _apt = apt.subPath(1).translate(pl).vertices,\n            _att = att.subShape(apt).translate(pl).vertices;\n\n/*\n        //  TODO: Additional logic for animation on Canvas\n        if (this.options.distance) {\n            pl = DG.VertexTransform.getScaled(pl, pp, 1);\n            _apt = _apt.concat(apt.subPath(1).translate(pl).vertices);\n            _att = _att.concat(att.subShape(apt).translate(pl).vertices);\n        }\n*/\n        apt._pxBounds = new DG.Bounds(_apt);\n        att._pxBounds = new DG.Bounds(_att);\n    }\n});\n\nDG.entrance.arrow = function(options) {\n    return new DG.Entrance.Arrow(options);\n};\n\n/*\n * Predefined arrow tips\n */\n\n/* eslint-disable array-bracket-spacing */\nDG.Entrance.Arrow.SHAPE = {\n    vertices: {\n        16: [\n            [ -6.5000,  -1.8000],\n            [ -6.0522,  -1.8000],\n            [ -7.0975,  -5.2537],\n            [ -6.6619,  -6.2565], [ -6.5980,  -6.3550], [ -6.1757,  -6.1470],\n            [  0.8371,  -0.3552],\n            [  0.9275,  -0.1764], [  0.9275,   0.1764], [  0.8371,   0.3552],\n            [ -6.1757,   6.1470],\n            [ -6.5980,   6.3550], [ -6.6619,   6.2565], [ -7.0975,   5.2537],\n            [ -6.0522,   1.8000],\n            [ -6.5000,   1.8000]\n        ],\n        17: [\n            [ -9.0000,  -2.4000],\n            [ -7.8890,  -2.4000],\n            [ -9.9245,  -7.2548],\n            [ -9.3363,  -8.6404], [ -9.3448,  -8.6448], [ -8.8717,  -8.3508],\n            [  1.0285,  -0.3552],\n            [  1.1190,  -0.1764], [  1.1190,   0.1764], [  1.0285,   0.3552],\n            [ -8.8717,   8.3508],\n            [ -9.3448,   8.6448], [ -9.3363,   8.6404], [ -9.9245,   7.2548],\n            [ -7.8890,   2.4000],\n            [ -9.0000,   2.4000]\n        ],\n        18: [\n            [-11.5000,  -3.0000],\n            [-10.0795,  -3.0000],\n            [-12.4909,  -9.3173],\n            [-11.8402, -10.7654], [-11.5986, -10.7073], [-10.9380, -10.2258],\n            [  1.1497,  -0.3552],\n            [  1.2402,  -0.1764], [  1.2402,   0.1764], [  1.1497,   0.3552],\n            [-10.9380,  10.2258],\n            [-11.5986,  10.7073], [-11.8402,  10.7654], [-12.4909,   9.3173],\n            [-10.0795,   3.0000],\n            [-11.5000,   3.0000]\n        ],\n        19: [\n            [-13.0000,  -3.6000],\n            [-11.6600,  -3.6000],\n            [-14.1696, -10.8351],\n            [-13.5189, -12.2832], [-13.2773, -12.2251], [-12.6167, -11.7436],\n            [  1.3061,  -0.3552],\n            [  1.3966,  -0.1764], [  1.3966,   0.1764], [  1.3061,   0.3552],\n            [-12.6167,  11.7436],\n            [-13.2773,  12.2251], [-13.5189,  12.2832], [-14.1696,  10.8351],\n            [-11.6600,   3.6000],\n            [-13.0000,   3.6000]\n        ]\n    },\n    drawings: {\n        16: ['M', 'L', 'L', 'C', 'L', 'C', 'L', 'C', 'L', 'L'],\n        17: ['M', 'L', 'L', 'C', 'L', 'C', 'L', 'C', 'L', 'L'],\n        18: ['M', 'L', 'L', 'C', 'L', 'C', 'L', 'C', 'L', 'L'],\n        19: ['M', 'L', 'L', 'C', 'L', 'C', 'L', 'C', 'L', 'L']\n    }\n};\n/* eslint-enable array-bracket-spacing */\n\n\n(function(vertices) {\n    for (var i in vertices) {\n        vertices[i] = vertices[i].map(function(vertex) { return DG.point(vertex); });\n    }\n})(DG.Entrance.Arrow.SHAPE.vertices);\n\nDG.Label = DG.Layer.extend({\n\n    options: {\n        offset: new DG.Point(12, 15),\n        className: 'dg-label',\n        zIndexOffset: 0,\n        textDirection: 'auto' // 'auto' | 'ltr' | 'rtl\n    },\n\n    _typeOfString : Object.prototype.toString.call('s'),\n    _defaultZIndex: 100,\n\n    initialize: function(content, options) {\n        DG.Util.setOptions(this, options);\n\n        this._animated = DG.Browser.any3d;\n        this._content = content;\n    },\n\n    onAdd: function(map) {\n        this._map = map;\n\n        if (!this._el) {\n            this._initDOM();\n        }\n\n        this._visible = true;\n\n        this\n            .setContent(this._content)\n            ._onViewReset();\n\n        map\n            .on('viewreset', this._onViewReset, this)\n            .on('zoomanim', this._onZoomAnimation, this);\n    },\n\n    onRemove: function(map) {\n        map\n            .off('viewreset', this._onViewReset, this)\n            .off('zoomanim', this._onZoomAnimation, this);\n\n        this._visible = false;\n\n        this._el.removeChild(this._container);\n        DG.Util.falseFn(this._container.offsetWidth); // we need reflow here\n        this._container = null;\n\n        map.getPanes().tooltipPane.removeChild(this._el);\n        this._el = null;\n    },\n\n    _initDOM: function() {\n        this._el = DG.DomUtil.create(\n                        'div',\n                        this.options.className + ' leaflet-zoom-' + (this._animated ? 'animated' : 'hide'),\n                        this._map.getPanes().tooltipPane);\n        this._el.style.zIndex = this._defaultZIndex + this.options.zIndexOffset;\n\n        this._container = DG.DomUtil.create('div', this.options.className + '__content', this._el);\n        this._container.setAttribute('dir', this.options.textDirection);\n\n        DG.DomEvent\n            .disableClickPropagation(this._el)\n            .on(this._container, 'mousewheel', DG.DomEvent.stopPropagation)\n            .on(this._container, 'contextmenu', DG.DomEvent.stopPropagation);\n    },\n\n    _onViewReset: function() {\n        if (this._visible && this._latlng) {\n            DG.DomUtil.setPosition(this._el, this._map.latLngToLayerPoint(this._latlng).add(this.options.offset), DG.Browser.ie);\n        }\n    },\n\n    _onZoomAnimation: function(opt) {\n        if (this._latlng) {\n            DG.DomUtil.setPosition(this._el, this._map._latLngToNewLayerPoint(this._latlng, opt.zoom, opt.center).add(this.options.offset));\n        }\n    },\n\n    setOffset: function(point) {\n        if (point instanceof DG.Point) {\n            this.options.offset = point;\n            this._onViewReset();\n        }\n        return this;\n    },\n\n    setZIndexOffset: function(zIndex) {\n        if (!isNaN(+zIndex)) {\n            this.options.zIndexOffset = +zIndex;\n            if (this._visible) {\n                this._el.style.zIndex = this._defaultZIndex + this.options.zIndexOffset;\n            }\n        }\n        return this;\n    },\n\n    setContent: function(content) {\n        if (Object.prototype.toString.call(content) !== this._typeOfString) {\n            return this;\n        }\n        this._content = content;\n        if (this._visible) {\n            this._container.innerHTML = content;\n        }\n        return this;\n    },\n\n    setPosition: function(latlng) {\n        if (!(latlng instanceof DG.LatLng)) {\n            return this;\n        }\n\n        this._latlng = latlng;\n        this._onViewReset();\n        return this;\n    }\n});\n\nDG.label = function(content, options) {\n    return new DG.Label(content, options);\n};\n\nDG.Marker.include({\n\n    bindLabel: function(content, options) {\n        if (this._label) {\n            this._label.setContent(content);\n            if (options) {\n                if (this.options.offset !== options.offset) {\n                    this._label.setOffset(this.options.offset = options.offset);\n                }\n                if (this.options.static !== options.static) {\n                    this.unbindLabel().bindLabel(content, options);\n                }\n            }\n        } else {\n            options = DG.extend({\n                offset: new DG.Point(5, 5)\n            }, options);\n\n            this._label = DG.label(content, options);\n\n            this.once('remove', this._onMarkerRemove);\n\n            if (options.static) {\n                this.showLabel();\n            } else {\n                this\n                    .on('mouseover', this._mouseOverLabel)\n                    .on('mouseout', this._mouseOutLabel)\n                    .on('dragstart', this._dragStartLabel)\n                    .on('dragend', this._dragEndLabel);\n            }\n\n            if (typeof this._map !== 'undefined') {\n                this._updateLabelZIndex();\n            } else {\n                this.once('add', this._updateLabelZIndex);\n            }\n        }\n        return this;\n    },\n\n    unbindLabel: function() {\n        if (this._label) {\n            this\n                .hideLabel()\n                .off('remove', this.unbindLabel)\n                .off('mouseover', this._mouseOverLabel)\n                .off('mouseout', this._mouseOutLabel)\n                .off('dragstart', this._dragStartLabel)\n                .off('dragend', this._dragEndLabel)\n                .off('move', this._updatePosition)\n                .off('add', this._updateLabelZIndex);\n\n            this._label = null;\n        }\n        return this;\n    },\n\n    _onMarkerRemove: function() {\n        if (this._label) {\n            var content = this._label._content;\n            this.once('add', function() {\n                if (this._label) { return; } // new label added after removing marker\n                this.bindLabel(content);\n            });\n            this.unbindLabel();\n        }\n    },\n\n    getLabel: function() {\n        return this._label ? this._label : null;\n    },\n\n    _originalUpdateZIndex: DG.Marker.prototype._updateZIndex,\n    _updateZIndex: function(offset) {\n        if (!this._zIndex) {\n            this._zIndex = 0;\n        }\n        this._originalUpdateZIndex(offset);\n        this._updateLabelZIndex();\n        return this;\n    },\n\n    _updateLabelZIndex: function() {\n        if (this._label && this._icon) {\n            this._label.setZIndexOffset(this._icon.style.zIndex);\n        }\n        return this;\n    },\n\n    showLabel : function() {\n        if (this._label) {\n            this\n                .on('move', this._updatePosition)\n                ._map.addLayer(this._label.setPosition(this.getLatLng()));\n        }\n\n        return this;\n    },\n\n    hideLabel : function() {\n        if (this._label) {\n            this\n                .off('move', this._updatePosition)\n                ._map.removeLayer(this._label);\n        }\n        return this;\n    },\n\n    _updatePosition : function() {\n        this._label.setPosition(this.getLatLng());\n    },\n\n    _dragStartLabel: function() {\n        this._label.isMarkerDragging = true;\n\n        this.hideLabel();\n    },\n\n    _dragEndLabel: function() {\n        this._label.isMarkerDragging = false;\n\n        if (this._label.isMouseOverMarker) {\n            this.showLabel();\n        }\n    },\n\n    _mouseOverLabel: function() {\n        this._label.isMouseOverMarker = true;\n\n        if (!this._label.isMarkerDragging) {\n            this.showLabel();\n        }\n    },\n\n    _mouseOutLabel: function() {\n        this._label.isMouseOverMarker = false;\n\n        this.hideLabel();\n    }\n});\n\nDG.Marker.addInitHook(function() {\n    if (typeof this.options.label !== 'undefined') {\n        this.bindLabel(this.options.label);\n    }\n});\n\nDG.Path.include({\n    bindLabel: function(content, options) {\n\n        if (!this._label) {\n            this._label = DG.label(content, options);\n            this.on(this._labelEvents, this);\n        } else {\n            this._label.setContent(content);\n\n            if (this._label.options.offset !== options.offset) {\n                this._label.setOffset(options.offset);\n            }\n        }\n        return this;\n    },\n\n    unbindLabel: function() {\n        if (this._label) {\n            this.off(this._labelEvents, this);\n            this._map.removeLayer(this._label);\n            this._label = null;\n        }\n        return this;\n    },\n\n    getLabel: function() {\n        return this._label ? this._label : null;\n    },\n\n    _labelEvents : {\n        mouseover: function(event) {\n            this._map.addLayer(this._label.setPosition(event.latlng));\n            DG.DomEvent.stop(event);\n        },\n        mousemove: function(event) {\n            this._label.setPosition(event.latlng);\n            DG.DomEvent.stop(event);\n        },\n        mouseout: function(event) {\n            this._map.removeLayer(this._label);\n            DG.DomEvent.stop(event);\n        },\n        remove: function() {\n            this._map.removeLayer(this._label);\n        }\n    }\n});\n\nDG.Path.addInitHook(function() {\n    if (typeof this.options.label !== 'undefined') {\n        this.bindLabel(this.options.label);\n    }\n});\n\nDG.Entrance.include({\n    bindLabel: function(content, options) {\n\n        if (!this._label) {\n            this._label = DG.label(content, options);\n            this.on(this._labelEvents, this);\n        } else {\n            this._label.setContent(content);\n\n            if (this._label.options.offset !== options.offset) {\n                this._label.setOffset(options.offset);\n            }\n        }\n        return this;\n    },\n\n    unbindLabel: function() {\n        if (this._label) {\n            this.off(this._labelEvents, this);\n            this._map.removeLayer(this._label);\n            this._label = null;\n        }\n        return this;\n    },\n\n    getLabel: function() {\n        return this._label ? this._label : null;\n    },\n\n    _labelEvents : {\n        mouseover: function(event) {\n            this._map.addLayer(this._label.setPosition(event.latlng));\n            DG.DomEvent.stop(event);\n        },\n        mousemove: function(event) {\n            this._label.setPosition(event.latlng);\n            DG.DomEvent.stop(event);\n        },\n        mouseout: function() {\n            this._label.remove();\n        },\n        remove: function() {\n            this._label.remove();\n        }\n    }\n});\n\nDG.Entrance.addInitHook(function() {\n    if (typeof this.options.label !== 'undefined') {\n        this.bindLabel(this.options.label);\n    }\n});\n\nDG.configTheme = DG.configTheme || {};\n\nDG.configTheme.balloonOptions = {\n    offset: {\n        x: 1,\n        y: -43\n    }\n};\n\n_dereq_('../../../vendors/baron');\n\n// 2GIS-related popup content wrapper and offset\n(function() {\n    var offsetX = DG.configTheme.balloonOptions.offset.x,\n        offsetY = DG.configTheme.balloonOptions.offset.y,\n        originalInitialize = DG.Popup.prototype.initialize,\n        originalInitLayout = DG.Popup.prototype._initLayout,\n        originalOnAdd = DG.Popup.prototype.onAdd,\n        graf = baron.noConflict();\n\n    var BaronDomHelper = function(element) {\n        this[0] = element;\n        this.length = 1;\n    };\n    BaronDomHelper.prototype = {\n        setAttribute: function(name, value) {\n            this[0].setAttribute(name, value);\n            return this;\n        },\n        getAttribute: function(name) {\n            return this[0].getAttribute(name);\n        },\n        removeAttribute: function(name) {\n            this[0].removeAttribute(name);\n            return this;\n        },\n        css: function(style, value) {\n            if (value) {\n                this[0].style[style] = value;\n                return this;\n            } else {\n                return DG.DomUtil.getStyle(this[0], style);\n            }\n        }\n    };\n\n    DG.Popup.prototype.options.offset = DG.point(offsetX, offsetY);\n\n    DG.Popup.mergeOptions({\n        border: 16,\n        mapControlsWidth: 60,\n        textDirection: 'auto' // 'auto' | 'ltr' | 'rtl\n    });\n\n    DG.Popup.include({\n        _headerContent: null,\n        _footerContent: null,\n\n        //baron elements references\n        _scroller: null,\n        _scrollerBar: null,\n        _barWrapper: null,\n        _baron: null,\n        _isBaronExist: false,\n\n        _popupShowClass: 'leaflet-popup_show_true',\n        _popupHideClass: 'leaflet-popup_show_false',\n\n        _popupTipClass: 'leaflet-popup-tip-container',\n        _tipSVGPath: 'M0 0c12.643 0 28 7.115 28 44h2c0-36.885 15.358-44 28-44h-58z',\n\n        _isAutoPanPaddingUserDefined: false,\n\n        initialize: function(options, source) { // (Object, Object)\n            this._popupStructure = {};\n            this._isAutoPanPaddingUserDefined = options && options.hasOwnProperty('autoPanPadding');\n            originalInitialize.call(this, options, source);\n        },\n\n        onAdd: function(map) { // (Map)\n            map.on({\n                entranceshow: this._closePopup,\n                resize: this.resize\n            }, this);\n            originalOnAdd.call(this, map);\n            this._animateOpening();\n        },\n\n        onRemove: function(map) { // (Map)\n            this._animateClosing();\n            map.off({\n                entranceshow: this._closePopup,\n                resize: this.resize\n            }, this);\n\n            if (DG.DomUtil.TRANSITION) {\n                this._removeTimeout = setTimeout(L.bind(L.DomUtil.remove, L.DomUtil, this._container), 200);\n            } else {\n                L.DomUtil.remove(this._container);\n            }\n\n            map.fire('popupclose', {popup: this});\n\n            if (this._source) {\n                this._source.fire('popupclose', {popup: this}, true);\n            }\n        },\n\n        setContent: function(content) { // (DOMElement | Object | HTML) -> Popup\n            if (!this._isNode(content) && typeof content === 'object') {\n                Object.keys(content).forEach(function(item) {\n                    this['_' + item + 'Content'] = content[item];\n                }, this);\n            } else {\n                this._bodyContent = content;\n            }\n\n            this.update();\n\n            return this;\n        },\n\n        setHeaderContent: function(content) { // (HTML) -> Popup\n            this._headerContent = content;\n            this.update();\n\n            return this;\n        },\n\n        setFooterContent: function(content) { // (HTML) -> Popup\n            this._footerContent = content;\n            this.update();\n\n            return this;\n        },\n\n        getContent: function() { // () -> HTML\n            return this._bodyContent;\n        },\n\n        getHeaderContent: function() { // () -> HTML\n            return this._headerContent;\n        },\n\n        getFooterContent: function() { // () -> HTML\n            return this._footerContent;\n        },\n\n        clear: function() { // () -> Popup\n            Object.keys(this._popupStructure).forEach(this._clearElement, this);\n\n            // think about move this set to another public method\n            this._isBaronExist = false;\n            return this;\n        },\n\n        clearHeader: function() { // () -> Popup\n            return this._clearElement('header');\n        },\n\n        clearFooter: function() { // () -> Popup\n            return this._clearElement('footer');\n        },\n\n        findElement: function(element) { // (String) -> DOMElement\n            return this._contentNode.querySelector(element);\n        },\n\n        _animateOpening: function() {\n            DG.DomUtil.addClass(this._innerContainer, this._popupShowClass);\n            DG.DomUtil.removeClass(this._innerContainer, this._popupHideClass);\n        },\n\n        _animateClosing: function() {\n            DG.DomUtil.addClass(this._innerContainer, this._popupHideClass);\n            DG.DomUtil.removeClass(this._innerContainer, this._popupShowClass);\n        },\n\n        _closePopup: function() {\n            this._map.closePopup(this);\n        },\n\n        _isNode: function(o) { // (Object) -> Boolean\n            return (o.nodeName ? true : false);\n        },\n\n        _onCloseButtonClick: function(e) {\n            if (this._map) {\n                this._map.closePopup(this);\n            }\n            L.DomEvent.stop(e);\n        },\n\n        _close: function() {\n            if (this._map) {\n                if (DG.Browser.mobile && this._map.geoclicker &&\n                    (this.options.closeOnClick || this._map.options.closePopupOnClick)) {\n                    //  We need to signal geoclicker that popup was open before 'click' event\n                    //  But by time it will get it's event the popup will be already closed\n                    //  See 'DGGeoclicker' for '_mapEventsListeners' and '_singleClick' method\n                    this._map.geoclicker.popupWasOpen = true;\n                }\n\n                this._map.closePopup(this);\n            }\n        },\n\n        _initLayout: function() {\n            originalInitLayout.call(this);\n            this._innerContainer = DG.DomUtil.create('div', 'leaflet-popup-inner ' + this._popupHideClass, this._container);\n\n            // Prevents mouse events from leaking through close button\n            // See https://github.com/2gis/mapsapi/pull/153/\n            DG.DomEvent.disableClickPropagation(this._innerContainer);\n\n            if (this.options.closeButton) {\n                this._innerContainer.appendChild(this._detachEl(this._closeButton));\n            }\n\n            this._innerContainer.appendChild(this._detachEl(this._wrapper));\n\n            var tip = this._detachEl(this._tipContainer);\n\n            if (DG.Browser.svg) {\n                var path = DG.SVG.create('path');\n                var svgClass = this._popupTipClass + ' ' + this._popupTipClass + '_svg';\n\n                path.setAttribute('d', this._tipSVGPath);\n\n                tip = DG.SVG.create('svg');\n                tip.setAttribute('class', svgClass);\n\n                tip.appendChild(path);\n                DG.DomEvent.disableClickPropagation(path);\n            } else {\n                DG.DomUtil.addClass(tip, this._popupTipClass + '_image');\n                DG.DomEvent.disableClickPropagation(tip);\n            }\n\n            this._innerContainer.appendChild(tip);\n        },\n\n        _clearElement: function(elem) { // (DOMElement) -> Popup\n            this['_' + elem + 'Content'] = null;\n            this._detachEl(this._popupStructure[elem]);\n            delete this._popupStructure[elem];\n            return this;\n        },\n\n        _updateScrollPosition: function() {\n            if (this._baron) {\n                this._baron.update();\n            }\n        },\n\n        resize: function() {\n            var scrolled = this._updateLayout();\n            this._updatePosition();\n\n            if (!scrolled) {\n                if (this._isBaronExist) {\n                    this._scrollerWrapper.style.height = '';\n                    DG.DomUtil.removeClass(this._scroller, 'dg-scroller');\n\n                    DG.DomUtil.addClass(this._scroller, 'dg-scroller_hidden_true');\n                    DG.DomUtil.removeClass(this._scroller, 'dg-scroller');\n                    DG.DomEvent.off(this._scroller, 'scroll', this._onScroll);\n                }\n            } else if (this._isBaronExist) {\n                DG.DomUtil.removeClass(this._scroller, 'dg-scroller_hidden_true');\n                DG.DomUtil.addClass(this._scroller, 'dg-scroller');\n\n                var scrollTop = this._isBaronExist ? this._scroller.scrollTop : false;\n\n                if (scrollTop) {\n                    this._scroller.scrollTop = scrollTop;\n                }\n\n                var innerHeight = this.options.maxHeight - this.options.border * 2 - this._getDelta();\n                this._scrollerWrapper.style.height = innerHeight + 'px';\n\n                this._updateScrollPosition();\n            } else if (!this._isContentHeightEnough()) {\n                this._initBaronScroller();\n                this._initBaron();\n            }\n\n            this._adjustPan();\n            this._bindAdjustPanOnTransitionEnd();\n        },\n\n        _adjustPan: function(e) {\n            if (!this._map) { return; }\n\n            if (e) { // animated popup is opening (height from 0 to max)\n                if (e.propertyName === 'max-height') {\n                    // when it's finished we are here\n                    DG.DomEvent.off(this._wrapper, DG.DomUtil.TRANSITION_END, this._adjustPan);\n                } else {\n                    // here's intermediate steps - we don't need to process them\n                    return;\n                }\n            }\n\n            var options = this.options;\n\n            if (!options.autoPan) { return; }\n\n            var map = this._map,\n                containerHeight = this._container.offsetHeight,\n                containerWidth = this._containerWidth,\n                layerPos = new L.Point(this._containerLeft, -containerHeight - this._containerBottom);\n\n            if (this._zoomAnimated) {\n                layerPos._add(L.DomUtil.getPosition(this._container));\n            }\n\n            var autoPanPadding = [options.autoPanPadding[0], options.autoPanPadding[1]];\n\n            // if width of map is more then width of popup and controls\n            // set default autoPanPadding to width controls\n            if (\n                !this._isAutoPanPaddingUserDefined &&\n                    this._map._container.offsetWidth >= options.maxWidth + options.mapControlsWidth * 2\n            ) {\n                autoPanPadding[0] = options.mapControlsWidth;\n            }\n\n            var containerPos = map.layerPointToContainerPoint(layerPos),\n                padding = L.point(autoPanPadding),\n                paddingTL = L.point(options.autoPanPaddingTopLeft || padding),\n                paddingBR = L.point(options.autoPanPaddingBottomRight || padding),\n                size = map.getSize(),\n                dx = 0,\n                dy = 0;\n\n            if (size.x === 0 || size.y === 0) {\n                // map isn't visible\n                return;\n            }\n\n            if (containerPos.x + containerWidth + paddingBR.x > size.x) { // right\n                dx = containerPos.x + containerWidth - size.x + paddingBR.x;\n            }\n            if (containerPos.x - dx - paddingTL.x < 0) { // left\n                dx = containerPos.x - paddingTL.x;\n            }\n            if (containerPos.y + containerHeight + paddingBR.y > size.y) { // bottom\n                dy = containerPos.y + containerHeight - size.y + paddingBR.y;\n            }\n            if (containerPos.y - dy - paddingTL.y < 0) { // top\n                dy = containerPos.y - paddingTL.y;\n            }\n\n            if (dx || dy) {\n                map\n                    .fire('autopanstart')\n                    .panBy([dx, dy]);\n            }\n        },\n\n        _bindAdjustPanOnTransitionEnd: function() {\n            if (DG.DomUtil.TRANSITION) {\n                DG.DomEvent.on(this._wrapper, DG.DomUtil.TRANSITION_END, this._adjustPan, this);\n            } else {\n                this._adjustPan();\n            }\n        },\n\n        _isContentHeightEnough: function() { // () -> Boolean\n            var options = this.options;\n\n            if (!options.maxHeight) {\n                return true;\n            }\n\n            var popupHeight = this._popupStructure.body ?\n                this._popupStructure.body.offsetHeight + this._getDelta() :\n                this._contentNode.offsetHeight;\n\n            popupHeight += options.border * 2;\n\n            return popupHeight <= options.maxHeight;\n        },\n\n        _initBaronScroller: function() {\n            var contentNode = this._popupStructure.body.parentNode,\n                scrollerWrapper = this._scrollerWrapper = DG.DomUtil.create('div', 'dg-scroller__wrapper', contentNode),\n                scroller = this._scroller = DG.DomUtil.create('div', 'dg-scroller', scrollerWrapper),\n                barWrapper = this._barWrapper = DG.DomUtil.create('div', 'dg-scroller__bar-wrapper', scroller),\n                innerHeight = this.options.maxHeight - this.options.border * 2;\n\n            this._scrollerBar = DG.DomUtil.create('div', 'dg-scroller__bar', barWrapper);\n            scroller.appendChild(this._detachEl(this._popupStructure.body));\n\n            innerHeight -= this._getDelta();\n            scrollerWrapper.style.height = Math.max(18, innerHeight) + 'px';\n            scrollerWrapper.style.width = contentNode.offsetWidth + 5 + 'px'; //TODO\n\n            this._isBaronExist = true;\n\n            this._switchEvents();\n        },\n\n        _onScroll: function(e) {\n            this.fire('scroll', {originalEvent: e});\n        },\n\n        _onClick: function(e) {\n            e.target = e.target || e.srcElement;\n\n            if (!this._moving) {\n                this.fire('click', {originalEvent: e});\n            }\n        },\n\n        _onStart: function(e) {\n            this._moved = false;\n\n            if (this._moving) { return; }\n\n            var first = e.touches ? e.touches[0] : e;\n\n            this._startPoint = new DG.Point(first.clientX, first.clientY);\n\n            this._toggleTouchEvents();\n        },\n\n        _onEnd: function(e) {\n            this._toggleTouchEvents(true);\n\n            this._onClick(e);\n\n            this._moving = false;\n        },\n\n        _onMove: function(e) {\n\n            if (e.touches && e.touches.length > 1) {\n                this._moved = true;\n                return;\n            }\n\n            var first = (e.touches && e.touches.length === 1 ? e.touches[0] : e),\n                newPoint = DG.point(first.clientX, first.clientY),\n                offset = Math.abs(newPoint.subtract(this._startPoint).y);\n\n            if (!offset || offset < 10) { return; }\n\n            this._moving = this._moved = true;\n\n        },\n\n        _initBaron: function() {\n            var context = this._scrollerWrapper;\n            this._baron = graf({\n                scroller: '.dg-scroller',\n                bar: '.dg-scroller__bar',\n                track: '.dg-scroller__bar-wrapper',\n                $: function(selector) {\n                    var node = {}.toString.call(selector) === '[object String]' ?\n                        context.querySelector(selector) : selector;\n\n                    return new BaronDomHelper(node);\n                },\n                event: function(elem, event, func, mode) {\n                    event.split(' ').forEach(function(type) {\n                        DG.DomEvent[mode || 'on'](elem, type, func);\n                    });\n                }\n            });\n        },\n\n        _initHeader: function() {\n            this._popupStructure.header = DG.DomUtil.create('header', 'dg-popup__header', this._contentNode);\n            this._popupStructure.header.setAttribute('dir', this.options.textDirection);\n        },\n\n        _initFooter: function() {\n            this._popupStructure.footer = DG.DomUtil.create('footer', 'dg-popup__footer', this._contentNode);\n            this._popupStructure.footer.setAttribute('dir', this.options.textDirection);\n        },\n\n        _initBodyContainer: function() {\n            this._popupStructure.wrapper = DG.DomUtil.create('div', 'dg-popup__container-wrapper', this._contentNode);\n            this._popupStructure.body = DG.DomUtil.create('div', 'dg-popup__container', this._popupStructure.wrapper);\n            this._popupStructure.body.setAttribute('dir', this.options.textDirection);\n        },\n\n        update: function() {\n            if (!this._map) { return; }\n\n            if (!DG.Browser.ielt9) {\n                this._container.style.visibility = 'hidden';\n            }\n            this._switchEvents(true);\n\n            this._clearNode(this._contentNode);\n            this._isBaronExist = false;\n\n            // init popup content dom structure\n            if (this._headerContent) { this._initHeader(); }\n            if (this._bodyContent) { this._initBodyContainer(); }\n            if (this._footerContent) { this._initFooter(); }\n\n            this._updatePopupStructure();\n            this.resize();\n\n            DG.DomEvent.on(this._wrapper, 'click', DG.DomEvent.stopPropagation);\n            this._switchEvents();\n\n            if (DG.Browser.ielt9) {\n                var elem = this._popupStructure.footer;\n                if (elem) {\n                    elem.className += ' ie8';\n                }\n            }\n\n            if (!DG.Browser.ielt9) {\n                this._container.style.visibility = '';\n            }\n        },\n\n        _getDelta: function() { // () -> Number\n            var delta = 0,\n                popup = this._popupStructure;\n\n            if (popup.header) {\n                delta += popup.header.offsetHeight;\n            }\n            if (popup.footer) {\n                delta += popup.footer.offsetHeight;\n            }\n\n            return delta;\n        },\n\n        _updateLayout: function() {\n            var opts = this.options,\n                content = this._contentNode, // leaflet-popup-content\n                wrapper = this._wrapper, // leaflet-popup-content-wrapper\n                style = content.style,\n                wrapperStyle = wrapper.style,\n                width,\n                scrolledClass = 'leaflet-popup-scrolled',\n                result = false;\n\n            style.margin = opts.border + 'px';\n\n            DG.DomUtil.removeClass(content, scrolledClass);\n\n            if (this._isContentHeightEnough()) {\n                wrapperStyle.maxHeight = content.offsetHeight + opts.border * 2 + 'px';\n            } else {\n                wrapperStyle.maxHeight = opts.maxHeight + 'px';\n                DG.DomUtil.addClass(content, scrolledClass);\n                result = true;\n            }\n\n            var availableWidth = opts.autoPanPadding[0] * 2;\n\n            if (opts.sprawling) {\n                width = opts.maxWidth;\n\n                width = Math.min(width, this._map._container.offsetWidth - availableWidth);\n                width = Math.max(width, opts.minWidth);\n            } else {\n                wrapperStyle.width = '';\n\n                style.whiteSpace = 'nowrap';\n                width = wrapper.offsetWidth;\n                style.whiteSpace = '';\n\n                width = Math.min(width, this._map._container.offsetWidth - availableWidth);\n                width = Math.min(Math.max(width, opts.minWidth), opts.maxWidth);\n            }\n\n            wrapperStyle.width = width + 'px';\n\n            this._containerWidth = this._container.offsetWidth;\n\n            return result;\n        },\n\n        _updatePopupStructure: function() {\n            Object.keys(this._popupStructure).forEach(function(item) {\n                this._insertContent(this['_' + item + 'Content'], this._popupStructure[item]);\n            }, this);\n\n            this.fire('contentupdate');\n        },\n\n        _insertContent: function(content, node) { // (String | DOMElement, DOMElement)\n            if (!content || !node) { return; }\n\n            content = (typeof content === 'function') ? content(this._source || this) : content;\n\n            if (typeof content === 'string') {\n                node.innerHTML = content;\n            } else {\n                this._clearNode(node);\n                node.appendChild(content);\n            }\n        },\n\n        _clearNode: function(node) { // (DOMElement)\n            while (node.hasChildNodes()) {\n                node.removeChild(node.firstChild);\n            }\n        },\n\n        _detachEl: function(elem) { // (DOMElement) -> DOMElement\n            if (elem.parentNode) {\n                elem.parentNode.removeChild(elem);\n            }\n            return elem;\n        },\n\n        _switchEvents: function(on) { // (Boolean)\n            var switcher = on ? 'off' : 'on';\n\n            if (!DG.Browser.touch) {\n                DG.DomEvent[switcher](this._contentNode, 'click', this._onClick, this);\n            } else {\n                DG.DomEvent[switcher](this._contentNode, 'touchstart mousedown mousemove', this._onStart, this);\n            }\n\n            if (this._isBaronExist) {\n                DG.DomEvent[switcher](this._scroller, 'scroll', this._onScroll, this);\n            }\n        },\n\n        _toggleTouchEvents: function(on) {\n            var switcher = on ? 'off' : 'on';\n\n            DG.DomEvent[switcher](this._contentNode, 'touchmove', this._onMove, this);\n            DG.DomEvent[switcher](this._contentNode, 'touchend', this._onEnd, this);\n        }\n\n    });\n}());\n\n\nDG.Map.include({\n    _markerClass: 'dg-customization__marker_type_mushroom',\n    _markerShowClass: 'dg-customization__marker_appear',\n    _markerHideClass: 'dg-customization__marker_disappear',\n    _dgHideClass: 'dg-popup_hidden_true',\n    openPopup: function(popup, latlng, options) { // (Popup) or (String || HTMLElement, LatLng[, Object])\n        if (!(popup instanceof L.Popup)) {\n            var content = popup;\n\n            popup = new L.Popup(options).setContent(content);\n        }\n\n        if (latlng) {\n            popup.setLatLng(latlng);\n        }\n\n        if (this.hasLayer(popup)) {\n            return this;\n        }\n\n        if (this._popup && this._popup.options.autoClose) {\n            this.closePopup();\n        }\n\n        this._popup = popup;\n\n        if (popup._source && popup._source._icon) {\n            if (popup._source._icon.className.indexOf(this._markerClass) !== -1) {\n                DG.DomUtil.removeClass(popup._source._icon, this._markerShowClass);\n                DG.DomUtil.addClass(popup._source._icon, this._markerHideClass);\n            } else {\n                DG.DomUtil.addClass(popup._source._icon, this._dgHideClass);\n                if (popup._source._shadow) {\n                    DG.DomUtil.addClass(popup._source._shadow, this._dgHideClass);\n                }\n            }\n        }\n\n        return this.addLayer(popup);\n    },\n\n    closePopup: function(popup) {  // (Popup) -> Popup\n        if (!popup || popup === this._popup) {\n            popup = this._popup;\n            this._popup = null;\n        }\n        if (popup) {\n            if (popup._source && popup._source._icon) {\n                if (popup._source._icon.className.indexOf(this._markerClass) !== -1) {\n                    DG.DomUtil.removeClass(popup._source._icon, this._markerHideClass);\n                    DG.DomUtil.addClass(popup._source._icon, this._markerShowClass);\n                } else {\n                    DG.DomUtil.removeClass(popup._source._icon, this._dgHideClass);\n                    if (popup._source._shadow) {\n                        DG.DomUtil.removeClass(popup._source._shadow, this._dgHideClass);\n                    }\n                }\n            }\n            this.removeLayer(popup);\n        }\n\n        return this;\n    }\n});\n\nDG.Dictionary = {};\n\nDG.Dictionary.ru = {\n    pluralRules: function(n) { // (Number)\n        if (n % 10 === 1 && n % 100 !== 11) { // 1, 21\n            return 0;\n        }\n        if ((n % 10 >= 2 && n % 10 <= 4 && (n % 10) % 1 === 0) && (n % 100 < 12 || n % 100 > 14)) { // 2, 3\n            return 1;\n        }\n\n        if ((n % 10 === 0) || (n % 10 >= 5 && n % 10 <= 9 && (n % 10) % 1 === 0) || (n % 100 >= 11 && (n % 100) <= 14 && (n % 100) % 1 === 0)) { // 13, 17\n            return 2;\n        }\n    }\n};\n\nDG.Dictionary.en = {\n    pluralRules: function(n) { // (Number)\n        if (n === 1) { // 1\n            return 0;\n        } else {\n            return 1; //0, 2, 3, 4 ..\n        }\n    }\n};\n\nDG.Dictionary.it = {\n    pluralRules: function(n) { // (Number)\n        if (n === 1) { // 1\n            return 0;\n        } else {\n            return 1; //0, 2, 3, 4 ..\n        }\n    }\n};\n\nDG.Dictionary.cs = {\n    pluralRules: function(n) { // (Number)\n        return (n === 1) ? 0 : (n >= 2 && n <= 4) ? 1 : 2;\n    }\n};\n\nDG.Dictionary.es = {\n    pluralRules: function(n) { // (Number)\n        return (n >= 2) ? 1 : 0;\n    }\n};\n\n// Stub for Arabic language, we don't have cases with plural form usage\n// Actually Arabic has 6 plural forms\nDG.Dictionary.ar = {\n    pluralRules: function() {\n        return 0;\n    }\n};\n\nDG.Locale = {\n    t: function(msg, argument) { // (String, Number) -> String\n        var result,\n            lang = this._map.getLang(),\n            msgIsset = false,\n            dictionaryMsg,\n            exp;\n\n        if (typeof this.constructor.Dictionary[lang] === 'undefined') {\n            if (lang === 'ar') {\n                lang = 'en';\n            } else {\n                lang = DG.config.defaultLang;\n            }\n        }\n        dictionaryMsg = this.constructor.Dictionary[lang][msg];\n        msgIsset = typeof dictionaryMsg !== 'undefined';\n        if (!msgIsset) {\n            return msg;\n        }\n        result = msgIsset ? dictionaryMsg : msg;\n\n        if (argument !== undefined) {\n            argument = parseInt(argument, 10);\n            argument = isNaN(argument) ? 0 : argument;\n            exp = this.constructor.Dictionary[lang].pluralRules(argument);\n            result = dictionaryMsg[exp];\n        }\n\n        result = DG.Util.template(result, {n: argument});\n        return result;\n    }\n};\n\nDG.Map.include({\n    setLang: function(lang) { // (String)\n        if (lang && Object.prototype.toString.call(lang) === '[object String]') {\n            this.options.currentLang = lang;\n            this.fire('langchange', {'lang': lang});\n        }\n    },\n\n    getLang: function() { // () -> String\n        // If the language hasn't been set before, set it to page language or\n        // default language from config\n        if (!this.options.currentLang) {\n            var root = document.documentElement;\n            var lang = root.lang || (root.getAttributeNS && root.getAttributeNS('http://www.w3.org/XML/1998/namespace', 'lang')) || DG.config.defaultLang;\n\n            this.options.currentLang = lang;\n        }\n\n        return this.options.currentLang;\n    }\n});\n\nDG.RoundControl = DG.Control.extend({\n    includes: DG.Mixin.Events,\n\n    options: {\n        position: 'topright',\n        iconClass: 'default'\n    },\n\n    onAdd: function(map) {\n        var controlClass = this._controlCLass = 'dg-control-round',\n            controlIconClass = this._controlIconCLass = this._controlCLass + '__icon',\n            container = DG.DomUtil.create('div', '');\n\n        if (this._disable) {\n            return container;\n        }\n        DG.DomUtil.addClass(container, controlClass);\n\n        var link = this._link = DG.DomUtil.create(\n            'a',\n            controlIconClass + ' ' + controlIconClass + '_name_' + this.options.iconClass,\n            container\n        );\n\n        link.href = '#';\n\n        this._renderTranslation();\n\n        this._map = map;\n\n        DG.DomEvent\n            .on(container, 'click', this._toggleControl, this)\n            .on(container, 'dblclick', DG.DomEvent.stopPropagation)\n            .on(link, 'mousedown', DG.DomEvent.stopPropagation);\n\n        this.fireEvent('add');\n\n        return container;\n    },\n\n    onRemove: function() {\n        this.fireEvent('remove');\n        DG.DomEvent.off(this._link, 'click', this._toggleControl);\n    },\n\n    setState: function(state) {\n        if (!this._link || !this._container) {\n            return this;\n        }\n\n        if (this._state) {\n            DG.DomUtil.removeClass(this._container, this._controlCLass + '_state_' + this._state);\n            DG.DomUtil.removeClass(this._link, this._controlIconCLass + '_state_' + this._state);\n\n            this._state = null;\n        }\n\n        if (state) {\n            this._state = state;\n\n            DG.DomUtil.addClass(this._container, this._controlCLass + '_state_' + this._state);\n            DG.DomUtil.addClass(this._link, this._controlIconCLass + '_state_' + this._state);\n        }\n\n        return this;\n    },\n\n    _toggleControl: function(e) {\n        DG.DomEvent.stop(e);\n        this.fireEvent('click');\n    }\n});\n\nDG.RoundControl.include(DG.Locale);\n\nDG.roundControl = function(options) {\n    return new DG.RoundControl(options);\n};\n\nvar ie9 = (function() {\n    var div = document.createElement('div');\n    var all = div.getElementsByTagName('i');\n    div.innerHTML = '<!--[if IE 9]><i></i><![endif]-->';\n    return Boolean(all[0]);\n})();\n\nvar safari51 = DG.Browser.safari && navigator.userAgent.indexOf('Version/5.1') !== -1;\n\nvar wasPreviouslyDisabled = false;\n\n// Old Safari throws error when localStorage.getItem is called in private mode\ntry {\n    wasPreviouslyDisabled = localStorage.getItem('DGMuseum') === 'false';\n} catch (err) {\n    // do nothing\n}\n\nDG.Map.mergeOptions({\n    museum: !wasPreviouslyDisabled && (DG.Browser.ielt9 || ie9 || DG.Browser.opera12 || safari51)\n});\n\nDG.Map.Museum = DG.Handler.extend({\n    statics: {\n        Dictionary: {\n            ar: {\n                wearesorry: 'لا نضمن لك تشغيل ثابت للتطبيق على متصفحك. حاول التحديث:'\n            },\n            cs: {\n                wearesorry: 'Nezaručujeme stabilní fungování aplikace ve Vašem prohlížeči. Zkuste provést aktualizaci:'\n            },\n            en: {\n                wearesorry: 'We do not guarantee stable operation of the application in your browser. Try updating:'\n            },\n            es: {\n                wearesorry: 'No garantizamos un funcionamiento estable de la aplicación en su buscador. Intente actualizarlo:'\n            },\n            it: {\n                wearesorry: 'Non garantiamo il funzionamento stabile dell\\'applicazione nel tuo browser. Prova ad aggiornare:'\n            },\n            ru: {\n                wearesorry: 'Мы не гарантируем стабильную работу приложения в вашем браузере. Попробуйте обновиться:'\n            }\n        }\n    },\n\n    includes: [DG.Locale],\n\n    initialize: function(map) {\n        this._map = map;\n\n        this._element = document.createElement('div');\n        this._element.className = 'dg-museum';\n        this._element.innerHTML = '<span></span>' +\n            '<a class=\"dg-museum-browser dg-museum__chrome\" target=\"_blank\" href=\"https://www.google.com/chrome/\"></a>' +\n            '<a class=\"dg-museum-browser dg-museum__firefox\" target=\"_blank\" href=\"https://www.mozilla.org/firefox/new/\"></a>' +\n            '<a class=\"dg-museum-browser dg-museum__safari\" target=\"_blank\" href=\"https://support.apple.com/downloads/safari\"></a>' +\n            '<a class=\"dg-museum-browser dg-museum__opera\" target=\"_blank\" href=\"https://www.opera.com/\"></a>' +\n            '<a class=\"dg-museum-browser dg-museum__ie\" target=\"_blank\" href=\"https://windows.microsoft.com/internet-explorer/download-ie\"></a>';\n\n        this._text = this._element.children[0];\n\n        this._closeButton = document.createElement('span');\n        this._closeButton.className = 'dg-museum__close';\n        this._element.appendChild(this._closeButton);\n\n        this._renderTranslation();\n    },\n\n    addHooks: function() {\n        this._map.getContainer().appendChild(this._element);\n        this._map.on('langchange', this._renderTranslation, this);\n        DG.DomEvent.on(this._closeButton, 'click', this._onCloseButtonClick, this);\n    },\n\n    removeHooks: function() {\n        this._map.getContainer().removeChild(this._element);\n        this._map.off('langchange', this._renderTranslation, this);\n        DG.DomEvent.off(this._closeButton, 'click', this._onCloseButtonClick, this);\n    },\n\n    _onCloseButtonClick: function(e) {\n        DG.DomEvent.stop(e);\n\n        // Old Safari throws error when localStorage.getItem is called in private mode\n        try {\n            localStorage.setItem('DGMuseum', 'false');\n        } catch (err) {\n            // do nothing\n        }\n\n        this.disable();\n    },\n\n    _renderTranslation: function() {\n        var lang = this._map.getLang();\n        this._text.innerHTML = this.t('wearesorry');\n        this._element.setAttribute('dir', lang === 'ar' ? 'rtl': 'ltr');\n    }\n});\n\nDG.Map.addInitHook('addHandler', 'museum', DG.Map.Museum);\n\nDG.configTheme = DG.configTheme || {};\n\nDG.configTheme.markersData = {\n    iconSize: [22, 34],\n    className: 'dg-customization__marker dg-customization__marker_type_mushroom',\n    iconAnchor: [10, 32]\n};\n\n// Fix a lot of bugs with pinch-zooming\n// See https://github.com/2gis/mapsapi/issues/327\nDG.Map.mergeOptions({\n    bounceAtZoomLimits: false\n});\n\n//Inject observing localization change\nvar controlAddTo = DG.Control.prototype.addTo;\n\nDG.Control.include({\n    addTo: function(map) {\n        map.on('langchange', this._renderTranslation, this);\n\n        return controlAddTo.call(this, map);\n    },\n    _renderTranslation: function() {}\n});\n\n// Add some browser detection\nDG.Browser.safari51 = DG.Browser.safari && navigator.userAgent.indexOf('Version/5.1') !== -1;\n\n// DG.Browser.touch checks whether touch events supported or not; touchEnabled checks if it's a touch device\nvar msPointer = navigator.msPointerEnabled && navigator.msMaxTouchPoints && !window.PointerEvent;\nvar pointer = (window.PointerEvent && navigator.pointerEnabled && navigator.maxTouchPoints) || msPointer;\nvar documentTouch = window.DocumentTouch && document instanceof window.DocumentTouch;\nDG.Browser.touchEnabled = pointer || 'ontouchstart' in window || documentTouch;\n\n// Applies 2GIS divIcon to marker\nDG.Marker.prototype.options.icon = DG.divIcon(DG.configTheme.markersData);\n\n// support old option clickable\nvar utilSetOptions = DG.Util.setOptions;\n\nDG.setOptions = L.setOptions = DG.Util.setOptions = function(obj, options) {\n    if (options && typeof options.clickable !== 'undefined') {\n        options.interactive = options.clickable;\n    }\n\n    return utilSetOptions.call(this, obj, options);\n};\n\nDG.Layer.mergeOptions({\n    nonBubblingEvents: ['click', 'dblclick', 'mouseover', 'mouseout', 'contextmenu']\n});\n\nL.Canvas.include({\n    // overwrite the function without mousemove debounce as it breaks metalayers events\n    _initContainer: function() {\n        var container = this._container = document.createElement('canvas');\n\n        L.DomEvent\n            .on(container, 'mousemove', this._onMouseMove, this)\n            .on(container, 'click dblclick mousedown mouseup contextmenu', this._onClick, this)\n            .on(container, 'mouseout', this._handleMouseOut, this);\n\n        this._ctx = container.getContext('2d');\n    }\n});\n\nvar initMap = DG.Map.prototype.initialize,\n    panBy = DG.Map.prototype.panBy,\n    getBoundsZoom = DG.Map.prototype.getBoundsZoom,\n    setMaxZoom = DG.Map.prototype.setMaxZoom;\n\n// Restrict zoom level according to 2gis projects, in case if dgTileLayer is only one\nDG.Map.include({\n\n    // number of tileLayers without 2gis layers\n    _tileLayersNumber: 0,\n\n    _mapMaxZoomCache: null,\n\n    //TODO try refactor it after up on new leaflet (> 0.7)\n    initialize: function(id, options) { // (HTMLElement or String, Object)\n        // Override default wheelPxPerZoomLevel value to avoid zooming too fast\n        // on mouse wheel rotation\n        // See https://github.com/2gis/mapsapi/issues/343\n        options = DG.extend({wheelPxPerZoomLevel: 10000}, options);\n\n        this.metaLayers = [];\n\n        initMap.call(this, id, options);\n\n        //  Project must be checked after BaseLayer init which occurs in InitHook (see orig method definition)\n        if (this.options.center && this.options.zoom !== undefined) {\n            this.setView(DG.latLng(this.options.center), this.options.zoom, {reset: true});\n        }\n\n        this._lastMetalayer = {\n            layer: undefined,\n            entity: undefined\n        };\n    },\n\n    setView: function(center, zoom, options) {\n        this._restrictZoom(center, zoom);\n\n        zoom = zoom === undefined ? this._zoom : this._limitZoom(zoom);\n        center = this._limitCenter(DG.latLng(center), zoom, this.options.maxBounds);\n        options = options || {};\n\n        if (options.animate) {\n            options.animate = this._testAnimation(center);\n        }\n\n        this._stop();\n\n        if (this._loaded && !options.reset && options !== true) {\n\n            if (options.animate !== undefined) {\n                options.zoom = DG.extend({\n                    animate: options.animate,\n                    duration: options.duration\n                }, options.zoom);\n                options.pan = DG.extend({\n                    animate: options.animate,\n                    duration: options.duration\n                }, options.pan);\n            }\n\n            // try animating pan or zoom\n            var animated = (this._zoom !== zoom) ?\n            this._tryAnimatedZoom && this._tryAnimatedZoom(center, zoom, options.zoom) :\n                this._tryAnimatedPan(center, options.pan);\n\n            if (animated) {\n                // prevent resize handler call, the view will refresh after animation anyway\n                clearTimeout(this._sizeTimer);\n                return this;\n            }\n        }\n\n        // animation didn't start, just reset the map view\n        this._resetView(center, zoom);\n\n        return this;\n    },\n\n    panBy: function(offset, options) {\n        var map = panBy.call(this, offset, options);\n\n        var zoom = this._restrictZoom(this.getCenter());\n        if (this.getZoom() > zoom) {\n            this.setZoom(zoom);\n        }\n\n        return map;\n    },\n\n    getBoundsZoom: function(bounds, inside, padding) {\n        bounds = DG.latLngBounds(bounds);\n        this._restrictZoom(bounds);\n        return getBoundsZoom.call(this, bounds, inside, padding);\n    },\n\n    getTileLayersNumber: function() {\n        return this._tileLayersNumber;\n    },\n\n    setMaxZoom: function(zoom) {\n        this._mapMaxZoomCache = null;\n        return setMaxZoom.call(this, zoom);\n    },\n\n    _testAnimation: function(coords) {//if we jump to other project - disable animation\n        if (this.projectDetector.enabled()) {\n            var projectFrom = this.projectDetector.getProject(),\n                projectTo = this.projectDetector.isProjectHere(coords);\n\n            if (projectFrom && projectTo) {\n                return projectFrom.code === projectTo.code;\n            }\n        }\n\n        return true;\n    },\n\n    _updateTileLayers: function(e) {\n        if (!(e.layer instanceof DG.TileLayer) || e.layer._isDg) { return; }\n\n        if (e.type === 'layeradd') {\n            this._tileLayersNumber++;\n        } else {\n            this._tileLayersNumber--;\n        }\n    },\n\n    _getNewBounds: function(coords, zoom) {\n        if (coords instanceof DG.LatLngBounds) {\n            return coords;\n        }\n\n        var point = this.project(coords, zoom);\n        var screenSize = this.getSize().divideBy(2);\n\n        var sw = this.unproject(point.subtract(screenSize), zoom);\n        var ne = this.unproject(point.add(screenSize), zoom);\n\n        return DG.latLngBounds(sw, ne);\n    },\n\n    _restrictZoom: function(coords, zoom) {\n        if (this._layers &&\n            this.projectDetector.enabled() &&\n            (this._tileLayersNumber === 0)) {\n\n            var mapOptions = this.options,\n                isMapMaxZoom = !!mapOptions.maxZoom,\n                dgTileLayer = this.baseLayer,\n                bounds = this._getNewBounds(coords, zoom),\n                project = this.projectDetector.isProjectHere(bounds);\n\n            if (isMapMaxZoom) {\n                if (!this._mapMaxZoomCache) {\n                    if (this.baseLayer.options.detectRetina && DG.Browser.retina && mapOptions.maxZoom > 0) {\n                        mapOptions.maxZoom--;\n                    }\n\n                    this._mapMaxZoomCache = mapOptions.maxZoom;\n                }\n                mapOptions.maxZoom = (this._mapMaxZoomCache && project) ? this._mapMaxZoomCache :  DG.config.projectLeaveMaxZoom;\n                if (project) {\n                    this._mapMaxZoomCache = mapOptions.maxZoom;\n                }\n\n                return mapOptions.maxZoom;\n            } else {\n                if (project) {\n                    if (dgTileLayer.options.detectRetina && DG.Browser.retina && project.maxZoom > 0) {\n                        dgTileLayer.options.maxZoom = project.maxZoom - 1;\n                    } else {\n                        dgTileLayer.options.maxZoom = project.maxZoom;\n                    }\n                } else {\n                    dgTileLayer.options.maxZoom = DG.config.projectLeaveMaxZoom;\n                }\n\n                dgTileLayer.options.maxNativeZoom = dgTileLayer.options.maxZoom;\n                this._updateZoomLevels();\n\n                return dgTileLayer.options.maxZoom;\n            }\n        }\n    },\n\n    // Added meta layers events processing before map events\n    _fireDOMEvent: function(e, type, targets) {\n        if (e.keyCode === 13) {\n            // https://github.com/Leaflet/Leaflet/issues/5499\n            return;\n        }\n        if (e.type === 'click') {\n            // Fire a synthetic 'preclick' event which propagates up (mainly for closing popups).\n            // @event preclick: MouseEvent\n            // Fired before mouse click on the map (sometimes useful when you\n            // want something to happen on click before any existing click\n            // handlers start running).\n            var synth = L.Util.extend({}, e);\n            synth.type = 'preclick';\n            this._fireDOMEvent(synth, synth.type, targets);\n        }\n\n        if (e._stopped) { return; }\n\n        // Find the layer the event is propagating from and its parents.\n        targets = (targets || []).concat(this._findEventTargets(e, type));\n\n        if (!targets.length) { return; }\n\n        var target = targets[0];\n        if (type === 'contextmenu' && target.listens(type, true)) {\n            L.DomEvent.preventDefault(e);\n        }\n\n        var data = {\n            originalEvent: e\n        };\n\n        if (e.type !== 'keypress') {\n            var isMarker = target instanceof L.Marker;\n            data.containerPoint = isMarker ?\n                    this.latLngToContainerPoint(target.getLatLng()) : this.mouseEventToContainerPoint(e);\n            data.layerPoint = this.containerPointToLayerPoint(data.containerPoint);\n            data.latlng = isMarker ? target.getLatLng() : this.layerPointToLatLng(data.layerPoint);\n        }\n\n        for (var i = 0; i < targets.length; i++) {\n            // Check metalayers before dispatch the event to the map\n            if (targets[i] === this) {\n                var metalayer = this._getCurrentMetaLayer(data);\n\n                if (type === 'mousemove') {\n                    if (this._lastMetalayer.entity && metalayer.entity &&\n                        this._lastMetalayer.entity.id === metalayer.entity.id) {\n                        this._fireMetalayerEvent('mousemove', metalayer, data);\n                    } else {\n                        this._fireMetalayerEvent('mouseout', this._lastMetalayer, data);\n                        this._fireMetalayerEvent('mouseover', metalayer, data);\n                        this._fireMetalayerEvent('mousemove', metalayer, data);\n                        this._lastMetalayer = metalayer;\n                    }\n                } else {\n                    this._fireMetalayerEvent(type, metalayer, data);\n                }\n\n                // If the event wasn't stopped in metalayers, dispatch it to the map\n                if (!data.originalEvent._stopped) {\n                    targets[i].fire(type, data, true);\n                }\n            } else {\n                targets[i].fire(type, data, true);\n                if (this._lastMetalayer.entity && data.originalEvent._stopped) {\n                    // fixes L.circle([54.983136831455, 82.897440725094], 200).addTo(map);\n                    this._fireMetalayerEvent('mouseout', this._lastMetalayer, data);\n                    this._lastMetalayer = {\n                        layer: undefined,\n                        entity: undefined\n                    };\n                }\n            }\n\n            if (data.originalEvent._stopped ||\n                (targets[i].options.nonBubblingEvents && L.Util.indexOf(targets[i].options.nonBubblingEvents, type) !== -1)) { return; }\n        }\n    },\n\n    _getCurrentMetaLayer: function(data) {\n        // Not forget for IE8 with srcElement\n        var eventTarget = data.originalEvent.target || data.originalEvent.srcElement;\n\n        // Suppose that user can interact with the metalayer only if there are no layers between cursor and map\n        if (\n            // For all browsers which support pointer-events: none on tiles\n            eventTarget === this._container ||\n            // And for IE10 or less where targets are tiles\n            DG.Browser.ie && eventTarget.className === 'leaflet-tile leaflet-tile-loaded' ||\n            // The only exception is canvas, because a canvas layer occupies the whole screen\n            eventTarget.tagName === 'CANVAS'\n        ) {\n            for (var j = this.metaLayers.length - 1; j >= 0; j--) {\n                var metaEntity = this.metaLayers[j].getHoveredObject(data);\n                if (metaEntity) {\n                    return {\n                        layer: this.metaLayers[j],\n                        entity: metaEntity\n                    };\n                }\n            }\n        }\n        return {\n            layer: undefined,\n            entity: undefined\n        };\n    },\n\n    _fireMetalayerEvent: function(type, metalayer, data) {\n        if (!metalayer.entity) {\n            return;\n        }\n        var listener = metalayer.layer.mapEvents[type];\n        if (!listener) {\n            return;\n        }\n        data.entity = metalayer.entity;\n        listener.call(metalayer.layer, data);\n    }\n});\n\nDG.Map.addInitHook(function() {\n    this.on('layeradd layerremove', this._updateTileLayers);\n});\n\n// Set css property touch-action to auto if dragging is false.\n// Need for scrolling page in mobile using our map dom element.\n// todo: I made issue in leaflet https://github.com/Leaflet/Leaflet/issues/4415\nDG.Map.addInitHook(function() {\n    if (this.options.dragging == false && this.options.tap == false) {\n        DG.DomUtil.addClass(this._container, 'dg-dragging-false');\n    }\n});\n\nDG.Map.addInitHook(function() {\n    var errorUrl = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEAAQMAAABmvDolAAAAA1BMVEX28t5R0k5UAAAAH0lEQVR4Xu3AAQkAAADCMPunNsdhWxwAAAAAAAAAwAEhAAABg2UP5AAAAABJRU5ErkJggg==';\n    var errorRuUrl = DG.config.protocol + DG.config.baseUrl + '/img/nomap_ru.png';\n\n    var TileLayer = DG.Browser.mobile ? DG.MobileTileLayer : DG.TileLayer;\n\n    var BaseLayer = TileLayer.extend({\n        initialize: function(url, options) {\n            this._isDg = true;\n            TileLayer.prototype.initialize.call(this, url, options);\n        },\n\n        getTiles: function() {\n            return this._tiles;\n        }\n    });\n\n    var tileUrl = DG.config.protocol + (DG.Browser.retina ? DG.config.retinaTileServer : DG.config.tileServer);\n    var arabicTileUrl = DG.config.protocol +\n        (DG.Browser.retina ? DG.config.arabicRetinaTileServer : DG.config.arabicTileServer);\n\n    var previewTileUrl = DG.config.protocol +\n        (DG.Browser.retina ? DG.config.previewRetinaTileServer : DG.config.previewTileServer);\n    var arabicPreviewTileUrl = DG.config.protocol +\n        (DG.Browser.retina ? DG.config.arabicPreviewRetinaTileServer : DG.config.arabicPreviewTileServer);\n\n    this.baseLayer = new BaseLayer(tileUrl, {\n        subdomains: '0123',\n        errorTileUrl: this.getLang() === 'ru' ? errorRuUrl : errorUrl,\n        detectRetina: DG.config.detectRetina,\n        maxZoom: 19,\n        maxNativeZoom: 19,\n        zIndex: 0,\n        updateWhenIdle: false, // it's okay with preview tiles\n        previewUrl: previewTileUrl,\n    });\n\n    var currentTilesLang = ''; // 'ar' | ''\n\n    function updateTileUrl() {\n        var lang = this.getLang();\n        var project = this.projectDetector && this.projectDetector.getProject();\n\n        if (lang === 'ru' && !project) {\n            this.baseLayer.options.errorTileUrl = errorRuUrl;\n        } else {\n            this.baseLayer.options.errorTileUrl = errorUrl;\n        }\n\n        // Change 2GIS tiles for Arabic language in Dubai project\n        if (currentTilesLang === '' && lang === 'ar' && project && project.country_code === 'ae') {\n            currentTilesLang = 'ar';\n            this.baseLayer.setUrl(arabicTileUrl);\n            if (this.baseLayer.setPreviewUrl) {\n                this.baseLayer.setPreviewUrl(arabicPreviewTileUrl);\n            }\n\n        } else if (currentTilesLang === 'ar' && (lang !== 'ar' || (!project || project.country_code !== 'ae'))) {\n            currentTilesLang = '';\n            this.baseLayer.setUrl(tileUrl);\n            if (this.baseLayer.setPreviewUrl) {\n                this.baseLayer.setPreviewUrl(previewTileUrl);\n            }\n        }\n    }\n\n    updateTileUrl.call(this);\n\n    this.baseLayer.addTo(this);\n\n    this.on({\n        langchange: updateTileUrl,\n        projectchange: updateTileUrl,\n        projectleave: updateTileUrl\n    }, this);\n});\n\nDG.Map.mergeOptions({\n    tilesCheck: true\n});\n\nDG.Map.TilesCheck = DG.Handler.extend({\n    initialize: function(map) {\n        this._map = map;\n        this._layer = map.baseLayer;\n\n        this._moveStartEventCounter = 0;\n        this._moveEndEventCounter = 0;\n\n        this._loadingEventCounter = 0;\n        this._loadEventCounter = 0;\n    },\n\n    addHooks: function() {\n        this._map.on(this._mapEvents, this);\n        this._layer.on(this._layerEvents, this);\n    },\n\n    removeHooks: function() {\n        this._map.off(this._mapEvents, this);\n        this._layer.off(this._layerEvents, this);\n    },\n\n    _mapEvents: {\n        layeradd: function(e) {\n            if (e.layer == this._layer) {\n                this.enable();\n            }\n        },\n\n        layerremove: function(e) {\n            if (e.layer == this._layer) {\n                this.disable();\n            }\n        },\n\n        movestart: function() {\n            this._stopWaiting();\n\n            this._moveStartEventCounter++;\n            this._isWaiting = true;\n        },\n\n        moveend: function() {\n            this._moveEndEventCounter++;\n\n            if (!this._isWaiting && this._moveStartEventCounter !== this._moveEndEventCounter) { return; }\n\n            this._isMoveEnd = true;\n\n            this._checkWaiting();\n        }\n    },\n\n    _layerEvents: {\n        loading: function() {\n            this._loadingEventCounter++;\n        },\n\n        load: function() {\n            this._loadEventCounter++;\n\n            if (!this._isWaiting && this._loadingEventCounter !== this._loadEventCounter) { return; }\n\n            this._isLoad = true;\n\n            this._checkWaiting();\n        }\n    },\n\n    _stopWaiting: function() {\n        this._isWaiting = false;\n        this._isMoveEnd = false;\n        this._isLoad = false;\n    },\n\n    _checkWaiting: function() {\n        if (this._isWaiting && this._isLoad && this._isMoveEnd) {\n            this._stopWaiting();\n            this._resetCounters();\n            this._checkTiles();\n        }\n    },\n\n    _checkTiles: function() {\n        if (this._map.getTileLayersNumber() !== 0 || !this._map._loaded) { return; }\n\n        var zoom = this._map.getZoom();\n        var errorUrl = this._layer.options.errorTileUrl;\n        var tiles = this._layer.getTiles();\n\n        for (var i in tiles) {\n            if (tiles[i].coords.z === zoom && tiles[i].el.src !== errorUrl) {\n                return;\n            }\n        }\n\n        this._map.zoomOut();\n    },\n\n    _resetCounters: function() {\n        this._moveStartEventCounter = 0;\n        this._moveEndEventCounter = 0;\n\n        this._loadingEventCounter = 0;\n        this._loadEventCounter = 0;\n    }\n});\n\nDG.Map.addInitHook('addHandler', 'tilesCheck', DG.Map.TilesCheck);\n\n/**\n * This customization fixes unwanted inertia movement after sudden drag stops\n * See https://github.com/Leaflet/Leaflet/pull/4048.\n * If this PR ever gets merged, this file can be removed.\n */\nvar onDragEnd = DG.Map.Drag.prototype._onDragEnd;\n\nDG.Map.Drag.include({\n    _rememberTimeAndPosition: function() {\n        var time = this._lastTime = +new Date(),\n            pos = this._lastPos = this._draggable._absPos || this._draggable._newPos;\n\n        this._positions.push(pos);\n        this._times.push(time);\n\n        // Remove all data points older than 50 ms\n        while (time - this._times[0] > 50) {\n            this._positions.shift();\n            this._times.shift();\n        }\n    },\n\n    _onDrag: function(e) {\n        if (this._map.options.inertia) {\n            this._rememberTimeAndPosition();\n        }\n\n        this._map\n            .fire('move', e)\n            .fire('drag', e);\n    },\n\n    _onDragEnd: function() {\n        if (this._map.options.inertia && !DG.Browser.touch) {\n            this._rememberTimeAndPosition();\n        }\n\n        onDragEnd.call(this);\n    }\n});\n\n// from https://github.com/Turfjs/turf-inside/blob/master/index.js\nDG.PolyUtil.inside = function(point, polygon, pointReduce) {\n    pointReduce = pointReduce || DG.PolyUtil._defaultPointReduce;\n    var polys = polygon.coordinates;\n    var pt = pointReduce(point);\n\n    // normalize to multipolygon\n    if (polygon.type === 'Polygon') {\n        polys = [polys];\n    }\n\n    var insidePoly = false;\n    var i = 0;\n    while (i < polys.length && !insidePoly) {\n        // check if it is in the outer ring first\n        if (this._inRing(pt, polys[i][0], pointReduce)) {\n            var inHole = false;\n            var k = 1;\n            // check for the point in any of the holes\n            while (k < polys[i].length && !inHole) {\n                if (this._inRing(pt, polys[i][k], pointReduce)) {\n                    inHole = true;\n                }\n                k++;\n            }\n            if (!inHole)  {\n                insidePoly = true;\n            }\n        }\n        i++;\n    }\n    return insidePoly;\n};\n\n// pt is [x,y] and ring is [[x,y], [x,y],..]\nDG.PolyUtil._inRing = function(pt, ring, pointReduce) {\n    var isInside = false;\n    for (var i = 0, j = ring.length - 1; i < ring.length; j = i++) {\n        var pi = pointReduce(ring[i]);\n        var pj = pointReduce(ring[j]);\n        var xi = pi[0], yi = pi[1];\n        var xj = pj[0], yj = pj[1];\n        var intersect = ((yi > pt[1]) !== (yj > pt[1])) &&\n            (pt[0] < (xj - xi) * (pt[1] - yi) / (yj - yi) + xi);\n\n        if (intersect) {\n            isInside = !isInside;\n        }\n    }\n    return isInside;\n};\n\nDG.PolyUtil._defaultPointReduce = function(point) {\n    return point;\n};\n\n/**\n * В файле содежатся изменения для ускорения лифлета на мобильных девайсах\n */\n\nif (DG.Browser.mobile) {\n    (function() {\n        /**\n         * Хакаем addClass и removeClass, чтобы они не работали для определённых классов\n         * Сделано так, чтобы не менять кучу методов в кишках лифлета\n         *\n         * leaflet-dragging и leaflet-drag-target вызывает длинный recalculate style\n         */\n        var addClass = L.DomUtil.addClass;\n        L.DomUtil.addClass = function(el, name) {\n            if (name === 'leaflet-dragging' ||\n                name === 'leaflet-drag-target'\n            ) {\n                return;\n            }\n\n            addClass(el, name);\n        };\n\n        var removeClass = L.DomUtil.removeClass;\n        L.DomUtil.removeClass = function(el, name) {\n            if (name === 'leaflet-dragging' ||\n                name === 'leaflet-drag-target'\n            ) {\n                return;\n            }\n\n            removeClass(el, name);\n        }\n\n        L.Draggable.include({\n            /**\n             * Добавлено округление позиции this._startPos.add(offset)._round()\n             * И сравнение с предудыщей if (this._newPos && this._newPos.x == pos.x && this._newPos.y == pos.y) {\n             * Чтобы обновление dom происходило только при реальном изменении\n             * Убраны классы leaflet-dragging и leaflet-drag-target\n             */\n            _onMove: function(e) {\n                // Ignore simulated events, since we handle both touch and\n                // mouse explicitly; otherwise we risk getting duplicates of\n                // touch events, see #4315.\n                // Also ignore the event if disabled; this happens in IE11\n                // under some circumstances, see #3666.\n                if (e._simulated || !this._enabled) { return; }\n\n                if (e.touches && e.touches.length > 1) {\n                    this._moved = true;\n                    return;\n                }\n\n                var first = (e.touches && e.touches.length === 1 ? e.touches[0] : e),\n                    newPoint = new L.Point(first.clientX, first.clientY),\n                    offset = newPoint.subtract(this._startPoint);\n\n                if (!offset.x && !offset.y) { return; }\n                if (Math.abs(offset.x) + Math.abs(offset.y) < this.options.clickTolerance) { return; }\n\n                L.DomEvent.preventDefault(e);\n\n                if (!this._moved) {\n                    // @event dragstart: Event\n                    // Fired when a drag starts\n                    this.fire('dragstart');\n\n                    this._moved = true;\n                    this._startPos = L.DomUtil.getPosition(this._element).subtract(offset);\n\n                    this._lastTarget = e.target || e.srcElement;\n                    // IE and Edge do not give the <use> element, so fetch it\n                    // if necessary\n                    if ((window.SVGElementInstance) && (this._lastTarget instanceof SVGElementInstance)) {\n                        this._lastTarget = this._lastTarget.correspondingUseElement;\n                    }\n                }\n\n                var pos = this._startPos.add(offset)._round();\n                this._moving = true;\n\n                L.Util.cancelAnimFrame(this._animRequest);\n                this._lastEvent = e;\n\n                if (this._newPos && this._newPos.x == pos.x && this._newPos.y == pos.y) {\n                    return;\n                }\n\n                this._newPos = pos;\n                this._animRequest = L.Util.requestAnimFrame(this._updatePosition, this, true);\n            }\n        });\n\n        /**\n         * Длительность всех инерций при движении карты теперь 1 секунда\n         */\n        L.Map.Drag.include({\n            _onDragEnd: function(e) {\n                var map = this._map,\n                    options = map.options,\n\n                    noInertia = !options.inertia || this._times.length < 2;\n\n                map.fire('dragend', e);\n\n                if (noInertia) {\n                    map.fire('moveend');\n\n                } else {\n\n                    var direction = this._lastPos.subtract(this._positions[0]),\n                        duration = (this._lastTime - this._times[0]) / 1000,\n                        ease = options.easeLinearity,\n\n                        speedVector = direction.multiplyBy(ease / duration),\n                        speed = speedVector.distanceTo([0, 0]),\n\n                        limitedSpeed = Math.min(options.inertiaMaxSpeed, speed),\n                        limitedSpeedVector = speedVector.multiplyBy(limitedSpeed / speed),\n\n                        decelerationDuration = 1, // limitedSpeed / (options.inertiaDeceleration * ease),\n                        offset = limitedSpeedVector.multiplyBy(-decelerationDuration / 2).round();\n\n                    if (!offset.x && !offset.y) {\n                        map.fire('moveend');\n\n                    } else {\n                        offset = map._limitOffset(offset, map.options.maxBounds);\n\n                        L.Util.requestAnimFrame(function() {\n                            map.panBy(offset, {\n                                duration: decelerationDuration,\n                                easeLinearity: ease,\n                                noMoveStart: true,\n                                animate: true\n                            });\n                        });\n                    }\n                }\n            }\n        })\n    })();\n}\n\nL.MobileTileLayer = L.TileLayer.extend({\n    initialize: function(url, options) {\n        L.TileLayer.prototype.initialize.call(this, url, options);\n\n        this._previewUrl = options.previewUrl;\n    },\n\n    setPreviewUrl: function(url) {\n        this._previewUrl = url;\n        this.redraw();\n    },\n\n    /**\n     * Быстрое навешивание событий, вместо L.DomUtil.on используем простое присваивание\n     */\n    createTile: function(coords, done, url) {\n        var tile = document.createElement('img');\n        tile.onload = L.bind(this._tileOnLoad, this, done, tile);\n        tile.onerror = L.bind(this._tileOnError, this, done, tile);\n\n        if (this.options.crossOrigin) {\n            tile.crossOrigin = '';\n        }\n\n        /*\n         Alt tag is set to empty string to keep screen readers from reading URL and for compliance reasons\n         http://www.w3.org/TR/WCAG20-TECHS/H67\n        */\n        tile.alt = '';\n        tile.src = this.getTileUrl(coords, url);\n\n        return tile;\n    },\n\n    /**\n     * Убран класс leaflet-tile\n     * Добавлен хак для превью тайлов\n     */\n    _initTile: function(tile) {\n        tile.style.position = 'absolute';\n\n        var tileSize = this.getTileSize();\n        tile.style.width = tileSize.x + 'px';\n        tile.style.height = tileSize.y + 'px';\n\n        tile.style.visibility = 'hidden';\n        tile.style.pointerEvents = 'none';\n\n        tile.onselectstart = L.Util.falseFn;\n        tile.onmousemove = L.Util.falseFn;\n\n        // without this hack, tiles disappear after zoom on Chrome for Android\n        // https://github.com/Leaflet/Leaflet/issues/2078\n        if (L.Browser.android && !L.Browser.android23) {\n            tile.style.WebkitBackfaceVisibility = 'hidden';\n        }\n\n        return tile;\n    },\n\n    /**\n     * Убран класс leaflet-tile-container\n     */\n    _updateLevels: function() {\n\n        var zoom = this._tileZoom,\n            maxZoom = this.options.maxZoom;\n\n        if (zoom === undefined) { return undefined; }\n\n        for (var z in this._levels) {\n            if (this._levels[z].el.children.length || z === zoom) {\n                this._levels[z].el.style.zIndex = maxZoom - Math.abs(zoom - z);\n            } else {\n                L.DomUtil.remove(this._levels[z].el);\n                this._removeTilesAtZoom(z);\n                delete this._levels[z];\n            }\n        }\n\n        var level = this._levels[zoom],\n            map = this._map;\n\n        if (!level) {\n            level = this._levels[zoom] = {};\n\n            level.el = L.DomUtil.create('div', 'leaflet-zoom-animated', this._container);\n\n            level.el.style.zIndex = maxZoom;\n\n            level.origin = map.project(map.unproject(map.getPixelOrigin()), zoom).round();\n            level.zoom = zoom;\n\n            this._setZoomTransform(level, map.getCenter(), map.getZoom());\n\n            // force the browser to consider the newly added element for transition\n            L.Util.falseFn(level.el.offsetWidth);\n        }\n\n        this._level = level;\n\n        return level;\n    },\n\n    /**\n     * Убрано добавление тайлов через documentFragment\n     */\n    _update: function(center) {\n        var map = this._map;\n        if (!map) { return; }\n        var zoom = map.getZoom();\n\n        if (center === undefined) { center = map.getCenter(); }\n        if (this._tileZoom === undefined) { return; }\t// if out of minzoom/maxzoom\n\n        var pixelBounds = this._getTiledPixelBounds(center),\n            tileRange = this._pxBoundsToTileRange(pixelBounds),\n            tileCenter = tileRange.getCenter(),\n            queue = [],\n            margin = this.options.keepBuffer,\n            noPruneRange = new L.Bounds(tileRange.getBottomLeft().subtract([margin, -margin]),\n                                      tileRange.getTopRight().add([margin, -margin]));\n\n        for (var key in this._tiles) {\n            var c = this._tiles[key].coords;\n            if (c.z !== this._tileZoom || !noPruneRange.contains(L.point(c.x, c.y))) {\n                this._tiles[key].current = false;\n            }\n        }\n\n        // _update just loads more tiles. If the tile zoom level differs too much\n        // from the map's, let _setView reset levels and prune old tiles.\n        if (Math.abs(zoom - this._tileZoom) > 1) { this._setView(center, zoom); return; }\n\n        // create a queue of coordinates to load tiles from\n        for (var j = tileRange.min.y; j <= tileRange.max.y; j++) {\n            for (var i = tileRange.min.x; i <= tileRange.max.x; i++) {\n                var coords = new L.Point(i, j);\n                coords.z = this._tileZoom;\n\n                if (!this._isValidTile(coords)) { continue; }\n\n                var tile = this._tiles[this._tileCoordsToKey(coords)];\n                if (tile) {\n                    tile.current = true;\n                } else {\n                    queue.push(coords);\n                }\n            }\n        }\n\n        // sort tile queue to load tiles in order of their distance to center\n        queue.sort(function(a, b) {\n            return a.distanceTo(tileCenter) - b.distanceTo(tileCenter);\n        });\n\n        if (queue.length !== 0) {\n            // if it's the first batch of tiles to load\n            if (!this._loading) {\n                this._loading = true;\n                // @event loading: Event\n                // Fired when the grid layer starts loading tiles.\n                this.fire('loading');\n            }\n\n            for (i = 0; i < queue.length; i++) {\n                this._addTile(queue[i], this._level.el);\n            }\n        }\n    },\n\n    /**\n     * We don't load preview tile:\n     * - after zoom-in if a tile from a lower zoom is already shown\n     * - after zoom-out if four tiles from a higher zoom is already shown\n     */\n    _needPreviewTile: function(coords) {\n        if (this._tileZoom - this._map.getZoom() > 0) {\n            // zoom in\n            return !this._existTileFromLowerZoom(coords);\n        } else {\n            // zoom out\n            return !this._existTilesFromHigherZoom(coords);\n        }\n    },\n\n    _existTileFromLowerZoom: function(coords) {\n        var coords2 = L.point(coords.x / 2, coords.y / 2)._floor();\n\n        coords2.z = coords.z - 1;\n\n        var key = this._tileCoordsToKey(coords2);\n        var tile = this._tiles[key];\n        return tile && !tile.preview;\n    },\n\n    _existTilesFromHigherZoom: function(coords) {\n        var x = coords.x;\n        var y = coords.y;\n\n        for (var i = 2 * x; i < 2 * x + 2; i++) {\n            for (var j = 2 * y; j < 2 * y + 2; j++) {\n                var c = new L.Point(i, j);\n                c.z = coords.z + 1;\n                var key = this._tileCoordsToKey(c);\n                if (!this._tiles[key]) {\n                    return false;\n                }\n            }\n        }\n\n        return true;\n    },\n\n    /**\n     * Добавлена логика с превью тайлами\n     */\n    _addTile: function(coords, container) {\n        var tilePos = this._getTilePos(coords),\n            key = this._tileCoordsToKey(coords);\n\n        var wrapCoords = this._wrapCoords(coords);\n        var needPreview = this._needPreviewTile(wrapCoords);\n\n        var url = needPreview ? this._previewUrl : this._url;\n        var tile = this.createTile(wrapCoords, L.bind(this._tileReady, this, coords), url);\n\n        this._initTile(tile);\n\n        L.DomUtil.setPosition(tile, tilePos);\n\n        // save tile in cache\n        this._tiles[key] = {\n            el: tile,\n            preview: needPreview,\n            coords: coords,\n            current: true\n        };\n\n        container.appendChild(tile);\n        // @event tileloadstart: TileEvent\n        // Fired when a tile is requested and starts loading.\n        this.fire('tileloadstart', {\n            tile: tile,\n            coords: coords\n        });\n    },\n\n    /**\n     * Убран fadeAnimated и класс leaflet-tile-loaded\n     */\n    _tileReady: function(coords, err, tile) {\n        if (!this._map) { return; }\n\n        if (err) {\n            // @event tileerror: TileErrorEvent\n            // Fired when there is an error loading a tile.\n            this.fire('tileerror', {\n                error: err,\n                tile: tile,\n                coords: coords\n            });\n        }\n\n        var key = this._tileCoordsToKey(coords);\n\n        tile = this._tiles[key];\n        if (!tile) { return; }\n\n        // Если у тайла уже есть оригинальная (не пожатая) картинка,\n        // то заменим превью на нее\n        if (tile.originalEl && tile.el.parentNode) {\n            tile.el.parentNode.replaceChild(tile.originalEl, tile.el);\n            tile.el = tile.originalEl;\n\n            tile.originalEl = null;\n            tile.preview = false;\n\n        // Если у тайла есть только превью, то добавим его на карту\n        // И начнем грузить оригинальный\n        } else if (tile.preview) {\n            tile.originalEl = this.createTile(this._wrapCoords(coords), L.bind(this._tileReady, this, coords), this._url);\n            this._initTile(tile.originalEl);\n            L.DomUtil.setPosition(tile.originalEl, this._getTilePos(coords));\n        }\n\n        tile.loaded = +new Date();\n        tile.active = true;\n        this._pruneTiles();\n\n        if (!err) {\n            tile.el.style.visibility = '';\n\n            // @event tileload: TileEvent\n            // Fired when a tile loads.\n            this.fire('tileload', {\n                tile: tile.el,\n                preview: tile.preview,\n                coords: coords\n            });\n        }\n\n        if (this._noTilesToLoad()) {\n            this._loading = false;\n            // @event load: Event\n            // Fired when the grid layer loaded all visible tiles.\n            this.fire('load');\n\n            if (L.Browser.ielt9 || !this._map._fadeAnimated) {\n                L.Util.requestAnimFrame(this._pruneTiles, this);\n            } else {\n                // Wait a bit more than 0.2 secs (the duration of the tile fade-in)\n                // to trigger a pruning.\n                setTimeout(L.bind(this._pruneTiles, this), 250);\n            }\n        }\n    },\n\n    /**\n     * В отличие от оригинального метода, здесь url прокидывается параметром\n     */\n    getTileUrl: function(coords, url) {\n        var data = {\n            r: L.Browser.retina ? '@2x' : '',\n            s: this._getSubdomain(coords),\n            x: coords.x,\n            y: coords.y,\n            z: this._getZoomForUrl()\n        };\n        if (this._map && !this._map.options.crs.infinite) {\n            var invertedY = this._globalTileRange.max.y - coords.y;\n            if (this.options.tms) {\n                data['y'] = invertedY;\n            }\n            data['-y'] = invertedY;\n        }\n\n        return L.Util.template(url, L.extend(data, this.options));\n    },\n});\n\nDG.Control.Zoom.include(DG.Locale);\nDG.Control.Zoom.Dictionary = {};\n\nDG.Control.Zoom.include({\n    onAdd: function(map) {\n        var zoomName = 'dg-zoom',\n            buttonTemplate = '<div class=\"dg-control-round__icon ' + zoomName + '__control ' + zoomName + '__button ' + zoomName + '__button_type_{type}\"></div>',\n            container = DG.DomUtil.create('div', zoomName);\n\n        this._map = map;\n\n        this._zoomInButton = this._createButton(DG.Util.template(buttonTemplate, {type : 'in'}), this.t('zoom_in'), 'dg-control-round ' + zoomName + '__in', container, this._zoomIn, this);\n        this._zoomOutButton = this._createButton(DG.Util.template(buttonTemplate, {type : 'out'}), this.t('zoom_out'), 'dg-control-round ' + zoomName + '__out', container, this._zoomOut, this);\n\n        this._updateDisabled();\n        map.on('zoomend zoomlevelschange', this._updateDisabled, this);\n\n        return container;\n    },\n\n    _originalCreateButton: DG.Control.Zoom.prototype._createButton,\n\n    // set active state control on mobile devices\n    _createButton: function() {\n        var args = Array.prototype.slice.call(arguments);\n        var link = this._originalCreateButton.apply(this, args);\n\n        var icon = link.children[0];\n        var linkActiveClass = 'dg-control-round_state_active';\n        var iconActiveClass = 'dg-control-round__icon_state_active';\n\n        DG.DomEvent\n            .on(link, 'touchstart', function() {\n                DG.DomUtil.addClass(link, linkActiveClass);\n                DG.DomUtil.addClass(icon, iconActiveClass);\n            })\n            .on(link, 'touchend touchcancel', function() {\n                DG.DomUtil.removeClass(link, linkActiveClass);\n                DG.DomUtil.removeClass(icon, iconActiveClass);\n            });\n\n        return link;\n    },\n\n    _renderTranslation: function() {\n        if (!this._zoomInButton || !this._zoomOutButton) {\n            return;\n        }\n\n        this._zoomInButton.title = this.t('zoom_in');\n        this._zoomOutButton.title = this.t('zoom_out');\n    }\n});\n\nDG.Control.Zoom.Dictionary.ru = {\n    zoom_in : 'Приблизить',\n    zoom_out : 'Отдалить'\n};\n\nDG.Control.Zoom.Dictionary.it = {\n    zoom_in : 'Zoom avanti',\n    zoom_out : 'Zoom indietro'\n};\n\nDG.Control.Zoom.Dictionary.cs = {\n    zoom_in : 'Přiblížit',\n    zoom_out : 'Oddálit'\n};\n\nDG.Control.Zoom.Dictionary.en = {\n    zoom_in : 'Zoom in',\n    zoom_out : 'Zoom out'\n};\n\nDG.Control.Zoom.Dictionary.es = {\n    zoom_in : 'Acercar',\n    zoom_out : 'Alejar'\n};\n\nDG.Control.Zoom.Dictionary.ar = {\n    zoom_in : '',\n    zoom_out : ''\n};\n\nvar dust = _dereq_('dustjs-linkedin');\n_dereq_('dustjs-helpers');\n\nDG.dust = function(name, data) {\n    var result;\n\n    // The callback is called synchronously, so this works\n    dust.render(name, data, function(err, html) {\n        result = html;\n    });\n\n    return result;\n};\n\nDG.Control.Attribution.include(DG.Locale);\nDG.Control.Attribution.Dictionary = {};\nDG.Control.Attribution.include({\n    options: {\n        position: 'bottomright'\n    },\n\n    _getLink: function(linkType) {\n        /* eslint-disable camelcase */\n        var dictionary = {\n            ru: {\n                copyright_logo: 'http://info.2gis.ru/?utm_source=copyright&utm_medium=map&utm_campaign=partners',\n                copyright_apilink: 'http://api.2gis.ru/?utm_source=copyright&utm_medium=map&utm_campaign=partners',\n                copyright_license: 'http://law.2gis.ru/api-rules/'\n            },\n\n            it: {\n                copyright_logo: 'http://2gis.it/?utm_source=copyright&utm_medium=map&utm_campaign=partners',\n                copyright_apilink: 'http://2gis.it/?utm_source=copyright&utm_medium=map&utm_campaign=partners',\n                copyright_license: 'http://law.2gis.it/licensing-agreement/'\n            },\n\n            cz: {\n                copyright_logo: 'http://praha.2gis.cz/?utm_source=copyright&utm_medium=map&utm_campaign=partners',\n                copyright_apilink: 'http://praha.2gis.cz/?utm_source=copyright&utm_medium=map&utm_campaign=partners',\n                copyright_license: 'http://law.2gis.cz/api-rules/'\n            },\n\n            cl: {\n                copyright_logo: 'http://santiago.2gis.cl/?utm_source=copyright&utm_medium=map&utm_campaign=partners',\n                copyright_apilink: 'http://santiago.2gis.cl/?utm_source=copyright&utm_medium=map&utm_campaign=partners',\n                copyright_license: 'http://law.2gis.cl/api-rules/'\n            },\n\n            cy: {\n                copyright_logo: 'http://info.2gis.com.cy/lemesos?utm_source=copyright&utm_medium=map&utm_campaign=partners',\n                copyright_apilink: 'http://info.2gis.com.cy/lemesos?utm_source=copyright&utm_medium=map&utm_campaign=partners',\n                copyright_license: 'http://law.2gis.com.cy/api-rules/'\n            },\n\n            ae: {\n                copyright_logo: 'http://info.2gis.ae/dubai?utm_source=copyright&utm_medium=map&utm_campaign=partners',\n                copyright_apilink: 'http://info.2gis.ae/dubai?utm_source=copyright&utm_medium=map&utm_campaign=partners',\n                copyright_license: 'http://law.2gis.ae/api-rules/'\n            }\n        };\n        /* eslint-enable camelcase */\n\n        var countryCode = (this._countryCode in dictionary) ? this._countryCode : 'ru';\n\n        return dictionary[countryCode][linkType];\n    },\n\n    onAdd: function(map) {\n        if (!map._copyright) {\n            map._copyright = true;\n            this._first = true;\n        }\n\n        map.attributionControl = this;\n        this._container = DG.DomUtil.create('div', 'dg-attribution');\n        DG.DomEvent.disableClickPropagation(this._container);\n\n        for (var i in map._layers) {\n            if (map._layers[i].getAttribution) {\n                this.addAttribution(map._layers[i].getAttribution());\n            }\n        }\n\n        this._update();\n\n        return this._container;\n    },\n\n    _update: function(lang, osm, countryCode) {\n        if (!this._map) { return; }\n\n        if (typeof osm !== 'undefined') {\n            this._osm = osm;\n        }\n\n        if (typeof countryCode !== 'undefined') {\n            this._countryCode = countryCode;\n        }\n\n        var attribs = [];\n\n        for (var i in this._attributions) {\n            if (this._attributions[i]) {\n                attribs.push(i);\n            }\n        }\n\n        var prefixAndAttribs = [],\n            copyright = '';\n\n        if (this._first) {\n            copyright = this._getAttributionHTML(lang);\n        }\n\n        if (this.options.prefix) {\n            prefixAndAttribs.push(this.options.prefix);\n        }\n        if (attribs.length) {\n            prefixAndAttribs.push(attribs.join(', '));\n        }\n\n        this._container.innerHTML = copyright + prefixAndAttribs.join(' | ');\n    },\n    _getData: function(lang) {\n        lang = lang || this._map.getLang();\n\n        return {\n            'osm': this._osm,\n            'work_on': this.t('work_on'),\n            'work_on_with_osm': this.t('work_on_with_osm'),\n            'lang': lang,\n            'copyright_apilink': this._getLink('copyright_apilink'),\n            'copyright_license': this._getLink('copyright_license'),\n            'copyright_logo': this._getLink('copyright_logo'),\n            'license_agreement': this.t('license_agreement'),\n            'dir': lang !== 'ar' ? 'ltr' : 'rtl',\n        };\n    },\n    _getAttributionHTML: function(lang) {\n        return DG.dust('DGAttribution/copyright', this._getData(lang));\n    },\n    _renderTranslation: function(e) {\n        this._update(e.lang);\n    }\n});\n\nDG.Map.addInitHook(function() {\n    if (!this._copyright) {\n        DG.control.attribution().addTo(this);\n    }\n});\n\nDG.Control.Attribution.Dictionary.ru = {\n    license_agreement: 'Лицензионное соглашение',\n    work_on: 'Работает на API 2ГИС',\n    work_on_with_osm: 'API 2ГИС'\n};\n\nDG.Control.Attribution.Dictionary.it = {\n    license_agreement : 'Accordo di licenza',\n    work_on: '2GIS API',\n    work_on_with_osm: '2GIS API'\n};\n\nDG.Control.Attribution.Dictionary.cs = {\n    license_agreement: 'Licenční smlouva',\n    work_on: 'Pracuje na API 2GIS',\n    work_on_with_osm: 'API 2GIS'\n};\n\nDG.Control.Attribution.Dictionary.en = {\n    license_agreement: 'License agreement',\n    work_on: 'Uses 2GIS API',\n    work_on_with_osm: '2GIS API'\n};\n\nDG.Control.Attribution.Dictionary.es = {\n    license_agreement : 'Acuerdo de licencia',\n    work_on: '2GIS API',\n    work_on_with_osm: '2GIS API'\n};\n\nDG.Control.Attribution.Dictionary.ar = {\n    license_agreement: 'إتفاقية ترخيص',\n    work_on: 'يعمل بتطبيق 2GIS',\n    work_on_with_osm: 'API 2GIS'\n};\n\nDG.Control.Location = DG.RoundControl.extend({\n\n    statics: {\n        Dictionary: {}\n    },\n\n    options: {\n        iconClass: 'locate',\n        position: DG.Browser.mobile ? 'bottomright' : 'topleft',\n        drawCircle: true,\n        follow: true,  // follow with zoom and pan the user's location\n        stopFollowingOnDrag: false, // if follow is true, stop following when map is dragged\n        metric: true,\n        onLocationError: function(/*err*/) {\n            // this event is called in case of any location error\n            // that is not a time out error.\n            // console.log(err.message);\n        },\n        onLocationOutsideMapBounds: function(/*context*/) {\n            // this event is repeatedly called when the location changes\n            // console.log(context.t('outsideMapBoundsMsg'));\n        },\n        locateOptions: {}\n    },\n\n    initialize: function(options) {\n        DG.Util.setOptions(this, options);\n\n        if (!navigator.geolocation) {\n            this._disable = true;\n            return;\n        }\n\n        this._event = undefined;\n\n        this._locateOptions = {\n            watch: true,  // if you overwrite this, visualization cannot be updated\n            setView: true,\n            maximumAge: Infinity,\n            maxZoom: Infinity\n        };\n        DG.extend(this._locateOptions, this.options.locateOptions);\n\n        this._resetVariables();\n\n        this.on({\n            'click': this._handleLocate,\n            'add': this._initLocate\n        });\n    },\n\n    _initLocate: function() {\n        this._layer = new DG.LayerGroup();\n        this._layer.addTo(this._map);\n\n        // event hooks\n        this._map.on({\n            'locationfound': this._onLocationFound,\n            'locationerror': this._onLocationError\n        }, this);\n    },\n\n    _handleLocate: function() {\n        if (this._active && (!this._event ||\n            (this._map.getBounds().contains(this._event.latlng) ||\n            this._isOutsideMapBounds()))) {\n            this._stopLocate();\n        } else {\n            this._locateOnNextLocationFound = true;\n\n            if (!this._active) {\n                this._map.locate(this._locateOptions);\n            }\n\n            this._active = true;\n\n            if (this.options.follow) {\n                this._startFollowing();\n            }\n\n            this._clearError();\n\n            if (this._event) {\n                this._visualizeLocation();\n            } else {\n                this.setState('requesting');\n            }\n        }\n    },\n\n    _onLocationFound: function(e) {\n        // no need to do anything if the location has not changed\n        if (this._event &&\n            (this._event.latlng.lat === e.latlng.lat &&\n             this._event.latlng.lng === e.latlng.lng &&\n             this._event.accuracy === e.accuracy)) {\n            return;\n        }\n\n        if (!this._active) {\n            return;\n        }\n\n        this._event = e;\n\n        if (this.options.follow && this._following) {\n            this._locateOnNextLocationFound = true;\n        }\n\n        this._visualizeLocation();\n    },\n\n    _startFollowing: function() {\n        this._following = true;\n        if (this.options.stopFollowingOnDrag) {\n            this._map.on('dragstart', this._stopFollowing);\n        }\n    },\n\n    _stopFollowing: function() {\n        this._following = false;\n        if (this.options.stopFollowingOnDrag) {\n            this._map.off('dragstart', this._stopFollowing);\n        }\n        this._visualizeLocation();\n    },\n\n    _isOutsideMapBounds: function() {\n        if (this._event === undefined) {\n            return false;\n        }\n        return this._map.options.maxBounds &&\n            !this._map.options.maxBounds.contains(this._event.latlng);\n    },\n\n    _visualizeLocation: function() {\n        if (this._event.accuracy === undefined) {\n            this._event.accuracy = 0;\n        }\n\n        var radius = this._event.accuracy;\n\n        if (this._locateOnNextLocationFound) {\n            if (this._isOutsideMapBounds()) {\n                this.options.onLocationOutsideMapBounds(this);\n            } else if (this._locateOptions.setView) {\n                var zoom = this._map.projectDetector.getProject().maxZoom || DG.config.projectLeaveMaxZoom;\n                zoom = Math.min(this._locateOptions.maxZoom, zoom);\n                this._map.setView(this._event.latlng, zoom);\n            }\n            this._locateOnNextLocationFound = false;\n        }\n\n        // circle with the radius of the location's accuracy\n        var style = {\n            clickable: false,\n            color: '#FFF',\n            fillColor: '#FFF',\n            fillOpacity: 0.4,\n            weight: 0,\n            opacity: 0.3\n        };\n        if (this.options.drawCircle) {\n            if (!this._circle) {\n                this._circle = DG.circle(this._event.latlng, radius, style)\n                    .addTo(this._layer);\n            } else {\n                this._circle.setLatLng(this._event.latlng).setRadius(radius);\n            }\n        }\n\n        var markerClass = 'dg-location__pin';\n\n        markerClass += this._following ? (' ' + markerClass + 'state_following') : '';\n        // small inner marker\n        var m = {\n            icon: DG.divIcon({\n                className: markerClass,\n                iconSize: [20, 20]\n            })\n        };\n\n        if (!this._marker) {\n            this._marker = DG.marker(this._event.latlng, m)\n                .bindLabel(this.t('you_are_here'))\n                .addTo(this._layer);\n        } else {\n            this._marker.setLatLng(this._event.latlng);\n        }\n\n        DG.DomEvent.on(this._marker, 'click', function() {\n            this._map.fireEvent('dgLocateClick');\n        }, this);\n\n        if (!this._container) {\n            return;\n        }\n\n        this.setState('active');\n    },\n\n    _resetVariables: function() {\n        this._active = false;\n        this._following = false;\n    },\n\n\n    _stopLocate: function() {\n        this._map.stopLocate();\n        this._map.off('dragstart', this._stopFollowing);\n\n        this.setState();\n        this._resetVariables();\n\n        this._layer.clearLayers();\n        this._marker = undefined;\n        this._circle = undefined;\n        this._event = undefined;\n    },\n\n    _onLocationError: function(err) {\n        // ignore time out error if the location is watched\n        if (err.code === 3 && this._locateOptions.watch) {\n            return;\n        }\n\n        this._stopLocate();\n        this._error = DG.DomUtil.create('div', 'dg-label dg-label_name_location-error', this._container);\n        this._errorText = DG.DomUtil.create('div', 'dg-label__content', this._error);\n        this._errorText.innerHTML = this.t('cant_find');\n\n        var self = this;\n        setTimeout(function() {\n            self._clearError();\n        }, 3000);\n\n        //show location error\n        this.options.onLocationError(err);\n    },\n\n    _clearError: function() {\n        if (this._error) {\n            this._container.removeChild(this._error);\n            this._error = undefined;\n            this._errorText = undefined;\n        }\n    },\n\n    _renderTranslation: function() {\n        if (this._link) {\n            this._link.title = this.t('button_title');\n        }\n        if (this._marker) {\n            this._marker.bindLabel(this.t('you_are_here'));\n        }\n    }\n});\n\nDG.control.location = function(options) {\n    return new DG.Control.Location(options);\n};\n\nDG.Map.addInitHook(function() {\n    if (this.options.locationControl) {\n        this.locationControl = DG.control.location(this.options.locationControl);\n        this.addControl(this.locationControl);\n    }\n});\n\nDG.Control.Location.Dictionary.ru = {\n    cant_find : 'Мы не смогли Вас найти',\n    you_are_here : 'Вы здесь',\n    button_title : 'Найти Вас на карте'\n};\n\nDG.Control.Location.Dictionary.it = {\n    cant_find : 'Non siamo riusciti a localizzarti',\n    you_are_here : 'Voi siete qui',\n    button_title : 'Trova la tua posizione sulla mappa'\n};\n\nDG.Control.Location.Dictionary.cs = {\n    cant_find : 'Nepodařilo se nám určit Vaši polohu',\n    you_are_here : 'Jste tady',\n    button_title : 'Určit Vaši polohu na mapě'\n};\n\nDG.Control.Location.Dictionary.en = {\n    cant_find : 'We can\\'t find you',\n    you_are_here : 'You are here',\n    button_title : 'Show your location'\n};\n\nDG.Control.Location.Dictionary.es = {\n    cant_find : 'No pudimos encontrarte',\n    you_are_here : 'Tú estás aquí',\n    button_title : 'Encontrarte en el mapa'\n};\n\nDG.Control.Location.Dictionary.ar = {\n    cant_find : 'لم نستطع تحديد موقعك',\n    you_are_here : 'أنت هنا',\n    button_title : 'موقعي'\n};\n\n// Inspired by Sindre Sorhus screenfull\n/*global Element */\nDG.Screenfull = DG.Class.extend({\n    _apiMap: [\n        [\n            'requestFullscreen',\n            'exitFullscreen',\n            'fullscreenElement',\n            'fullscreenEnabled',\n            'fullscreenchange',\n            'fullscreenerror'\n        ],\n        [\n            'webkitRequestFullscreen',\n            'webkitExitFullscreen',\n            'webkitFullscreenElement',\n            'webkitFullscreenEnabled',\n            'webkitfullscreenchange',\n            'webkitfullscreenerror'\n\n        ],\n        [\n            'mozRequestFullScreen',\n            'mozCancelFullScreen',\n            'mozFullScreenElement',\n            'mozFullScreenEnabled',\n            'mozfullscreenchange',\n            'mozfullscreenerror'\n        ],\n        [\n            'msRequestFullscreen',\n            'msExitFullscreen',\n            'msFullscreenElement',\n            'msFullscreenEnabled',\n            'MSFullscreenChange',\n            'MSFullscreenError'\n        ]\n    ],\n\n    initialize: function() {\n        this.api = this._api();\n    },\n\n    request: function(elem) {\n        var request = this.api.requestFullscreen;\n\n        elem = elem || document.documentElement;\n        elem[request](Element.ALLOW_KEYBOARD_INPUT);\n    },\n\n    exit: function() {\n        document[this.api.exitFullscreen]();\n    },\n\n    isFullscreen: function() {\n        return !!document[this.api.fullscreenElement];\n    },\n\n    isAvailable: function() {\n        return Boolean(this.api);\n    },\n\n    _api: function() {\n        var api = {},\n            apiMap = this._apiMap;\n\n        apiMap.forEach(function(val) {\n            if (val && val[1] in document) {\n                val.forEach(function(method, i) {\n                    api[apiMap[0][i]] = method;\n                });\n            }\n        });\n\n        return api.requestFullscreen ? api : false;\n    }\n});\n\nDG.screenfull = new DG.Screenfull();\n\nDG.Control.Fullscreen = DG.RoundControl.extend({\n\n    statics: {\n        Dictionary: {}\n    },\n\n    options: {\n        position: 'topright',\n        iconClass: 'fullscreen'\n    },\n\n    initialize: function(options) {\n        DG.Util.setOptions(this, options);\n        this._isFullscreen = false;\n        this.on('click', this._toggleFullscreen);\n    },\n\n    _toggleFullscreen: function() {\n        if (!this._isFullscreen) {\n            this._toggle(true, 'request', 'on', 'requestfullscreen');\n        } else {\n            this._toggle(false, 'exit', 'on', 'cancelfullscreen');\n        }\n\n        this._renderTranslation();\n        this._map.invalidateSize();\n    },\n\n    _renderTranslation: function() {\n        this._link.title = this.t(this._isFullscreen ? 'title_min' : 'title_max');\n    },\n\n    _toggle: function(isEnabled, method, list, event) {\n        var container = this._map._container;\n\n        this._isFullscreen = isEnabled;\n        this.setState(isEnabled ? 'active' : '');\n\n        DG.screenfull[method](container);\n        DG.DomEvent[list](document, DG.screenfull.api.fullscreenchange, this._onFullScreenStateChange, this);\n        this._map.fire(event);\n    },\n\n    _onFullScreenStateChange: function() {\n        if (!DG.screenfull.isFullscreen()) {\n            this._toggle(false, 'exit', 'on', 'cancelfullscreen');\n        }\n    }\n});\n\nDG.control.fullscreen = function(options) {\n    return new DG.Control.Fullscreen(options);\n};\n\nDG.Map.mergeOptions({\n    fullscreenControl: true\n});\n\nDG.Map.addInitHook(function() {\n    if (this.options.fullscreenControl) {\n        this.fullscreenControl = DG.control.fullscreen(this.options.fullscreenControl);\n\n        if (DG.screenfull.isAvailable()) {\n            this.addControl(this.fullscreenControl);\n        }\n    }\n});\n\nDG.Control.Fullscreen.Dictionary.ru = {\n    title_max : 'Развернуть',\n    title_min : 'Восстановить'\n};\n\nDG.Control.Fullscreen.Dictionary.it = {\n    title_max : 'Espandi',\n    title_min : 'Ripristina'\n};\n\nDG.Control.Fullscreen.Dictionary.cs = {\n    title_max : 'Rozbalit',\n    title_min : 'Obnovit'\n};\n\nDG.Control.Fullscreen.Dictionary.en = {\n    title_max : 'Expand',\n    title_min : 'Restore'\n};\n\nDG.Control.Fullscreen.Dictionary.es = {\n    title_max : 'Maximizar',\n    title_min : 'Restaurar'\n};\n\nDG.Control.Fullscreen.Dictionary.ar = {\n    title_max : '',\n    title_min : ''\n};\n\nDG.Meta = {};\n\nDG.Meta.Layer = DG.Layer.extend({\n\n    options: {\n        tileSize: 256,\n\n        minZoom: 0,\n        maxZoom: 19,\n        zoomOffset: 0,\n        eventBubbling: 'transparent'\n        // maxNativeZoom: <Number>,\n        // detectRetina: <Number>,\n        // zoomReverse: <Number>\n        // attribution: <String>,\n        // zIndex: <Number>,\n        // bounds: <LatLngBounds>\n    },\n\n    initialize: function(source, options) { // (String, Object)\n        DG.TileLayer.prototype.initialize.call(this, null, options);\n        delete this._url;\n\n        this._currentTileKey = '';\n        this._currentTileData = [];\n        this._lastEntity = undefined;\n        this._dispatchMouseEvents = true;\n\n        this._origin = DG.Meta.origin(source, {\n            dataFilter: this.options.dataFilter\n        });\n    },\n\n    getOrigin: function() { // () -> Object\n        return this._origin;\n    },\n\n    onAdd: function(map) {\n        this._resetView();\n\n        map.metaLayers.push(this);\n\n        map.on('rulerstart', this._disableDispatchMouseEvents, this);\n        map.on('rulerend', this._enableDispatchMouseEvents, this);\n\n        var self = this;\n\n        if (DG.Browser.touchEnabled && this.options.isPoi) {\n            map.eachLayer(function(layer) {\n                if (layer instanceof L.TileLayer) {\n                    // On every tile will be load meta tile.\n                    layer.on('tileloadstart', self._onTileLoadStart, self);\n                    // Load metatiles for already loaded tiles.\n                    for (var tile in layer._tiles) {\n                        self._onTileLoadStart({\n                            coords: layer._tiles[tile].coords\n                        });\n                    }\n                }\n            });\n        }\n    },\n\n    onRemove: function(map) {\n        var self = this;\n\n        if (DG.Browser.touchEnabled && this.options.isPoi) {\n            map.eachLayer(function(layer) {\n                if (layer instanceof L.TileLayer) {\n                    // On every tile will be load meta tile.\n                    layer.off('tileloadstart', self._onTileLoadStart);\n                }\n            });\n        }\n\n        this._tileZoom = null;\n\n        var index = map.metaLayers.indexOf(this);\n        if (index !== -1) {\n            map.metaLayers.splice(index, 1);\n        }\n\n        map.off('rulerstart', this._disableDispatchMouseEvents, this);\n        map.off('rulerend', this._enableDispatchMouseEvents, this);\n    },\n\n    getEvents: function() {\n        return {\n            viewprereset: this._invalidateAll,\n            viewreset: this._resetView,\n            zoom: this._resetView,\n            moveend: this._onMoveEnd\n        };\n    },\n\n    setUrl: function(url) {\n        this._currentTileKey = '';\n        this._currentTileData = [];\n        this._lastEntity = undefined;\n        this._dispatchMouseEvents = true;\n        this._origin.setURL(url, true);\n    },\n\n    getHoveredObject: function(event) {\n        var tileSize = this.getTileSize(),\n            layerPoint = this._map.mouseEventToLayerPoint(event.originalEvent),\n            tileOriginPoint = this._map.getPixelOrigin().add(layerPoint),\n            tileCoord = tileOriginPoint.unscaleBy(tileSize).floor(),\n            mouseTileOffset = DG.point(tileOriginPoint.x % tileSize.x, tileOriginPoint.y % tileSize.y),\n            tileKey,\n            zoom = this._map.getZoom(),\n            self = this;\n\n        if (zoom > (this.options.maxZoom + this.options.zoomOffset) ||\n            zoom < (this.options.minZoom - this.options.zoomOffset) ||\n            !this._isValidTile(tileCoord)) {\n            return;\n        }\n\n        this._wrapCoords(tileCoord);\n\n        tileCoord.z = this._getZoomForUrl();\n        tileCoord.key = tileSize.x + 'x' + tileSize.y;\n        tileKey = this._origin.getTileKey(tileCoord);\n\n        if (tileKey === this._currentTileKey) {\n            self._lastEntity = self._getHoveredObject(mouseTileOffset);\n        } else {\n            this._origin.getTileData(tileCoord, function(tileData) {\n                self._currentTileKey = tileKey;\n                self._currentTileData = tileData;\n                self._lastEntity = self._getHoveredObject(mouseTileOffset);\n            });\n        }\n\n        return this._lastEntity;\n    },\n\n    _removeAllTiles: DG.GridLayer.prototype._removeAllTiles,\n    _getZoomForUrl: DG.TileLayer.prototype._getZoomForUrl,\n    getTileSize: DG.TileLayer.prototype.getTileSize,\n    _isValidTile: DG.GridLayer.prototype._isValidTile,\n    _wrapCoords: DG.GridLayer.prototype._wrapCoords,\n    _resetView: DG.GridLayer.prototype._resetView,\n    _resetGrid: DG.GridLayer.prototype._resetGrid,\n    _invalidateAll: DG.GridLayer.prototype._invalidateAll,\n    _pxBoundsToTileRange: DG.GridLayer.prototype._pxBoundsToTileRange,\n\n    // Fix for https://github.com/Leaflet/Leaflet/compare/0726f12bbf33fcb18fe8bb541d5e3212bb1f5ab2...c263f2d8b1bd962b60474376cc4816a688052513#diff-f1e6be67599c594731fff6191c710420L579\n    _onMoveEnd: function() {\n        if (!this._map || this._map._animatingZoom) { return; }\n\n        this._resetView();\n    },\n\n    _onTileLoadStart: function(e) {\n        var tileSize = this.getTileSize();\n        e.coords.key = tileSize.x + 'x' + tileSize.y;\n        this._origin.getTileData(e.coords);\n    },\n\n    _enableDispatchMouseEvents: function() {\n        this._dispatchMouseEvents = true;\n    },\n\n    _disableDispatchMouseEvents: function() {\n        this._dispatchMouseEvents = false;\n    },\n\n    mapEvents: {\n        mousemove: function(event) {\n            this._fireMetalayerEvent('mousemove', event);\n        },\n\n        mouseover: function(event) {\n            this._fireMetalayerEvent('mouseover', event);\n        },\n\n        mouseout: function(event) {\n            this._fireMetalayerEvent('mouseout', event);\n            this._currentTileKey = '';\n        },\n\n        click: function(event) {\n            var tileSize = this.getTileSize(),\n                layerPoint = this._map.mouseEventToLayerPoint(event.originalEvent),\n                tileOriginPoint = this._map.getPixelOrigin().add(layerPoint),\n                tileCoord = tileOriginPoint.unscaleBy(tileSize).floor(),\n                mouseTileOffset = DG.point(tileOriginPoint.x % tileSize.x, tileOriginPoint.y % tileSize.y),\n                tileKey = this._origin.getTileKey(tileCoord);\n            tileCoord.z = this._getZoomForUrl();\n            tileCoord.key = tileSize.x + 'x' + tileSize.y;\n            var self = this;\n            this._origin.getTileData(tileCoord, function(tileData) {\n                self._currentTileData = tileData;\n                self._currentTileKey = tileKey;\n                self._lastEntity = self._getHoveredObject(mouseTileOffset);\n                self._mouseDown = false;\n\n                event.entity = self._lastEntity;\n                self._fireMetalayerEvent('click', event);\n            });\n        },\n\n        dblclick: function(event) {\n            this._fireMetalayerEvent('dblclick', event);\n        },\n\n        mousedown: function(event) {\n            this._mouseDown = true;\n            this._fireMetalayerEvent('mousedown', event);\n        },\n\n        contextmenu: function(event) {\n            this._fireMetalayerEvent('contextmenu', event);\n        }\n    },\n\n    _fireMetalayerEvent: function(type, mouseEvent) {\n        if (!mouseEvent.entity || !this._dispatchMouseEvents) {\n            return;\n        }\n        this.fire(type, {\n            meta: mouseEvent.entity,\n            latlng: this._map.mouseEventToLatLng(mouseEvent.originalEvent)\n        });\n        var isDragging = type === 'mousedown' || (this._mouseDown && type === 'mousemove');\n        if (this.options.eventBubbling === 'layer' && !isDragging) {\n            DG.DomEvent.stop(mouseEvent);\n        }\n    },\n\n    _getHoveredObject: function(mouseTileOffset) {\n        if (!this._currentTileData) {\n            return;\n        }\n\n        for (var i = 0; i < this._currentTileData.length; i++) {\n            if (DG.PolyUtil.inside(mouseTileOffset, this._currentTileData[i].geometry, this._pointReduceHelper)) {\n                return this._currentTileData[i];\n            }\n        }\n    },\n\n    _pointReduceHelper: function(point) {\n        return [point.x, point.y];\n    },\n\n    _setView: function(center, zoom, noPrune, noUpdate) {\n        var tileZoom = Math.round(zoom),\n            tileZoomChanged = this._tileZoom !== tileZoom;\n\n        if (!noUpdate && tileZoomChanged) {\n            this._tileZoom = tileZoom;\n            this._resetGrid();\n        }\n    }\n});\n\nDG.Meta.layer = function(source, options) {\n    return new DG.Meta.Layer(source, options);\n};\n\nDG.Meta.Origin = DG.Class.extend({\n\n    options: {\n        subdomains: '0123',\n        dataFilter: null\n    },\n\n    _url: false,\n\n    initialize: function(url, options) { // (String, Object)\n        this._url = url;\n        this._requests = {};\n\n        this._tileStorage = {};\n\n        options = DG.setOptions(this, options);\n\n        if (typeof options.subdomains === 'string') {\n            options.subdomains = options.subdomains.split('');\n        }\n    },\n\n    getTileData: function(coord, clb) { // (Object) -> Object\n        var tileKey = this.getTileKey(coord),\n            self = this,\n            callback = typeof clb === 'function' ? clb : function() {};\n\n        if (typeof this._tileStorage[tileKey] === 'undefined' && typeof this._requests[tileKey] === 'undefined') {\n            this._tileStorage[tileKey] = false;\n            var currentRequest = this._requests[tileKey] = this._requestData(coord).then(function(data) {\n                if (self._requests[tileKey] !== currentRequest) {\n                    callback(false);\n                    return;\n                }\n                self.setTileData(tileKey, self.options.dataFilter ? self.options.dataFilter(data, coord) : data);\n                delete self._requests[tileKey];\n                callback(self._tileStorage[tileKey]);\n            });\n        } else {\n            callback(this._tileStorage[tileKey]);\n        }\n    },\n\n    setTileData: function(key, data) { // (Object/String, Object) -> Object\n        if (typeof key !== 'string') {\n            key = this.getTileKey(key);\n        }\n\n        data.forEach(function(entity) {\n            if (entity.geometry.constructor !== Object) {\n                entity.geometry = DG.Wkt.toGeoJSON(entity.geometry);\n            }\n            if (!this._tileStorage[key]) {\n                this._tileStorage[key] = [];\n            }\n            this._tileStorage[key].push(entity);\n        }, this);\n\n        return this;\n    },\n\n    flush: function() { // () -> Object\n        this._tileStorage = {};\n        Object.keys(this._requests).forEach(function(tileKey) {\n            if (this[tileKey].abort) {\n                this[tileKey].abort();\n            }\n        }, this._requests);\n        this._requests = {};\n\n        return this;\n    },\n\n    setURL: function(url, flush) { // (String, Boolean) -> Object\n        this._url = url;\n        if (flush) {\n            this.flush();\n        }\n\n        return this;\n    },\n\n    getTileKey: function(coord) { // (Object)-> String\n        return [coord.x, coord.y, coord.z, coord.key].join(':');\n    },\n\n    _requestData: function(key) { // (String)\n        if (this._url) {\n            return this._performRequest(key);\n        } else {\n            return Promise.resolve([]);\n        }\n    },\n\n    _performRequest: function(coords) { // (Object) -> Promise\n        return DG.ajax(this._prepareURL(coords), {\n            type: 'get',\n            dataType: 'json'\n        });\n    },\n\n    _prepareURL: function(coords) { // (Object) -> String\n        return DG.Util.template(this._url, {\n            x: coords.x,\n            y: coords.y,\n            z: coords.z,\n            s: this._getSubdomain(coords)\n        });\n    },\n\n    _getSubdomain: DG.TileLayer.prototype._getSubdomain\n\n});\n\nDG.Meta.origin = function(source, options) {\n    return new DG.Meta.Origin(source, options);\n};\n\nDG.Map.mergeOptions({\n    poi: true\n});\n\nDG.Poi = DG.Handler.extend({\n\n    options: {\n        disableLabel: false\n    },\n\n    initialize: function(map, options) { // (Object)\n        this._map = map;\n        DG.Util.setOptions(this, options);\n\n        var url = DG.config.protocol + (DG.Browser.retina ? DG.config.retinaPoiMetaServer : DG.config.poiMetaServer);\n\n        this._metaLayer = DG.Meta.layer(url, {\n            minZoom: DG.config.poiLayerMinZoom,\n            maxNativeZoom: 19,\n            detectRetina: DG.config.detectRetina,\n            eventBubbling: 'layer',\n            dataFilter: DG.bind(this._processData, this),\n            isPoi: true\n        });\n\n        this._currentTilesLang = ''; // 'ar' | ''\n    },\n\n    addHooks: function() {\n        this._map.addLayer(this._metaLayer);\n        if (!this.options.disableLabel) {\n            this._labelHelper = DG.label();\n        }\n        this._metaLayer.on(this._layerEventsListeners, this);\n        this._map.on('langchange', this._updateUrl, this);\n        this._map.on('projectchange', this._updateUrl, this);\n        this._map.on('projectleave', this._updateUrl, this);\n    },\n\n    removeHooks: function() {\n        this._map.removeLayer(this._metaLayer);\n        if (!this.options.disableLabel) {\n            this._map.removeLayer(this._labelHelper);\n            this._labelHelper = null;\n        }\n        this._metaLayer.off(this._layerEventsListeners, this);\n        this._map.off('langchange', this._updateUrl, this);\n        this._map.off('projectchange', this._updateUrl, this);\n        this._map.off('projectleave', this._updateUrl, this);\n    },\n\n    getMetaLayer: function() {\n        return this._metaLayer;\n    },\n\n    _updateUrl: function() {\n        var url = DG.config.protocol + (DG.Browser.retina ? DG.config.retinaPoiMetaServer : DG.config.poiMetaServer);\n        var arabicUrl = DG.config.protocol +\n            (DG.Browser.retina ? DG.config.arabicRetinaPoiMetaServer : DG.config.arabicPoiMetaServer);\n        var lang = this._map.getLang();\n        var project = this._map.projectDetector && this._map.projectDetector.getProject();\n\n        // Change POI for Arabic language in Dubai project\n        if (this._currentTilesLang === '' && lang === 'ar' && project && project.country_code === 'ae') {\n            this._currentTilesLang = 'ar';\n            this._metaLayer.setUrl(arabicUrl);\n\n        } else if (this._currentTilesLang === 'ar' && (lang !== 'ar' || (!project || project.country_code !== 'ae'))) {\n            this._currentTilesLang = '';\n            this._metaLayer.setUrl(url);\n        }\n    },\n\n    _processData: function(data, coord) {\n        var tileOriginPoint = coord.scaleBy(this._metaLayer.getTileSize());\n        var polygonLngLatToPoints = DG.bind(this._polygonLngLatToPoints, this, tileOriginPoint, coord.z);\n\n        if (data.responseText === '') {\n            return [];\n        }\n\n        return data.result.poi\n            .map(function(item) {\n                var hovers = item.hovers !== undefined\n                    ? item.hovers\n                    : [item.hover];\n\n                return {\n                    id: item.id,\n                    hint: item.links[0].name,\n                    linked: item.links[0],\n                    geometry: hovers.map(DG.Wkt.toGeoJSON),\n                };\n            })\n            .map(function(item) {\n                var coordinates = item.geometry.reduce(function(result, item) {\n                    if (item.type === 'Polygon') {\n                        result.push(polygonLngLatToPoints(item.coordinates));\n                    } else if (item.type === 'MultiPolygon') {\n                        result = result.concat(item.coordinates.map(polygonLngLatToPoints));\n                    }\n\n                    return result;\n                }, []);\n\n                item.geometry = {\n                    type: 'MultiPolygon',\n                    coordinates: coordinates,\n                };\n\n                return item;\n            });\n    },\n\n    _polygonLngLatToPoints: function(originPoint, zoom, polygon) {\n        var map = this._map;\n\n        return polygon.map(function(contour) {\n            return contour.map(function(lngLat) {\n                return map\n                    .project([lngLat[1], lngLat[0]], zoom).round()\n                    .subtract(originPoint);\n            });\n        });\n    },\n\n    _layerEventsListeners : {\n        mouseover: function(e) { // (Object)\n            this._setCursor('pointer');\n            if (e.meta.hint && e.meta.hint.length && !this.options.disableLabel) {\n                this._labelHelper\n                    .setPosition(e.latlng)\n                    .setContent(e.meta.hint)\n                    .setZIndexOffset(300);\n                this._map.addLayer(this._labelHelper);\n            }\n            this._map.fire('poihover', {\n                latlng: e.latlng,\n                meta: e.meta\n            });\n        },\n\n        mouseout: function(e) {\n            this._setCursor('');\n            if (!this.options.disableLabel) {\n                this._map.removeLayer(this._labelHelper);\n            }\n            this._map.fire('poileave', {\n                latlng: e.latlng,\n                meta: e.meta\n            });\n        },\n\n        mousemove: function(e) { // (Object)\n            if (!this.options.disableLabel) {\n                this._labelHelper.setPosition(e.latlng);\n            }\n        }\n    },\n\n    _setCursor: function(cursor) { // (String)\n        this._map.getContainer().style.cursor = cursor;\n    }\n\n});\n\nDG.Map.addInitHook('addHandler', 'poi', DG.Poi);\n\nDG.Map.mergeOptions({\n    geoclicker: false\n});\n\nDG.Geoclicker = DG.Handler.extend({\n    clickCount: 0,\n    pendingClick: 0,\n    timeout: 250, // should be equal to 'delay' value in DoubleTap event\n\n    initialize: function(map, options) { // (Object)\n        this._map = map;\n        this._controller = new DG.Geoclicker.Controller(map, options);\n    },\n\n    addHooks: function() {\n        this._toggleEvents(true);\n\n        this._map\n            .on('rulerstart', this._pause, this)\n            .on('rulerend', this._unpause, this);\n    },\n\n    removeHooks: function() {\n        this._toggleEvents();\n\n        this._map\n            .off('rulerstart', this._pause, this)\n            .off('rulerend', this._unpause, this);\n    },\n\n    _checkOpenPopup: function() {\n        if (DG.Browser.mobile && this._map._popup &&\n            (this._map._popup.options.closeOnClick ||\n            this._map.options.closePopupOnClick)) {\n            this.popupWasOpen = true;\n        }\n    },\n\n    _pause: function() {\n        this._toggleEvents();\n    },\n\n    _unpause: function() {\n        // Reenable event handling only in case geoclicker is enabled\n        if (this.enabled()) {\n            this._toggleEvents(true);\n        }\n    },\n\n    _toggleEvents: function(flag) {\n        this._map[flag ? 'on' : 'off'](this._mapEventsListeners, this);\n        if (this._map.poi) {\n            this._map.poi.getMetaLayer()[flag ? 'on' : 'off']('click', this._onMetaClick, this);\n        }\n    },\n\n    getController: function() {\n        return this._controller;\n    },\n\n    _onMetaClick: function(e) {\n        this.clickCount = 0;\n        clearTimeout(this.pendingClick);\n        this.popupWasOpen = false;\n\n        this._mapEventsListeners.click.call(this, e);\n    },\n\n    _mapEventsListeners: {\n        langchange: function() {\n            this._controller.reinvokeHandler();\n        },\n\n        popupclose: function(e) { // (Object)\n            this._controller.handlePopupClose(e.popup);\n        },\n\n        click: function(e) { // (Object)\n            if (this.clickCount === 0) {\n                this.clickCount = 1;\n                this._singleClick(e);\n            } else {\n                this.clickCount = 0;\n                clearTimeout(this.pendingClick);\n                this.popupWasOpen = false;\n            }\n        },\n\n        dblclick: function() {\n            if (DG.Browser.ielt9) {\n                this.clickCount = 0;\n                this.popupWasOpen = false;\n                clearTimeout(this.pendingClick);\n            }\n        }\n    },\n\n    _singleClick: function(e) { // (Object)\n        var self = this;\n\n        clearTimeout(this.pendingClick);\n\n        this.pendingClick = setTimeout(function() {\n            if (e.meta) {\n                self._checkOpenPopup();\n                self._map.closePopup();\n            }\n\n            //  DGPopup's '_close' method is the only place where .popupWasOpen is modified\n            //  It signals geoclicker that popup was open before user do a 'click' on map\n            //  Multistage behavior is needed as this processing occurs after popup was already closed\n            if (!self.popupWasOpen) {\n                var zoom = self._map.getZoom();\n                self._controller.handleClick(e.latlng, zoom, e.meta);\n            }\n\n            self.clickCount = 0;\n            self.popupWasOpen = false;\n        }, this.timeout);\n    }\n});\n\nDG.Map.addInitHook('addHandler', 'geoclicker', DG.Geoclicker);\n\nDG.Geoclicker.clampHelper = function(el, lineClamp) {\n    var measure, text, lineWidth,\n        lineStart, lineCount, wordStart,\n        line, lineText, wasNewLine,\n        ce = document.createElement.bind(document),\n        ctn = document.createTextNode.bind(document);\n\n    // measurement element is made a child of the clamped element to get it's style\n    measure = ce('span');\n\n    (function(s) {\n        s.position = 'absolute'; // prevent page reflow\n        s.whiteSpace = 'pre'; // cross-browser width results\n        s.visibility = 'hidden'; // prevent drawing\n        s.margin = '0 18px 8px 0';\n    })(measure.style);\n\n    // make sure the element belongs to the document\n    if (!el.ownerDocument || el.ownerDocument !== document) {\n        return;\n    }\n    // reset to safe starting values\n    lineStart = wordStart = 0;\n    lineCount = 1;\n    wasNewLine = false;\n    lineWidth = el.clientWidth;\n    // get all the text, remove any line changes\n    text = (el.textContent || el.innerText).replace(/\\n/g, ' ');\n    // remove all content\n    while (el.firstChild !== null) {\n        el.removeChild(el.firstChild);\n    }\n    // add measurement element within so it inherits styles\n    el.appendChild(measure);\n    // http://ejohn.org/blog/search-and-dont-replace/\n    text.replace(/ |-/g, function(m, pos) {\n        // ignore any further processing if we have total lines\n        if (lineCount === lineClamp) {\n            return;\n        }\n        // create a text node and place it in the measurement element\n        measure.appendChild(ctn(text.substr(lineStart, pos - lineStart)));\n        // have we exceeded allowed line width?\n        if (lineWidth < measure.clientWidth) {\n            if (wasNewLine) {\n                // we have a long word so it gets a line of it's own\n                lineText = text.substr(lineStart, pos + 1 - lineStart);\n                // next line start position\n                lineStart = pos + 1;\n            } else {\n                // grab the text until this word\n                lineText = text.substr(lineStart, wordStart - lineStart);\n                // next line start position\n                lineStart = wordStart;\n            }\n            // create a line element\n            line = ce('span');\n            // add text to the line element\n            line.appendChild(ctn(lineText));\n            // add the line element to the container\n            el.appendChild(line);\n            line.className = 'dg-map-geoclicker__clamped-line';\n            // yes, we created a new line\n            wasNewLine = true;\n            lineCount++;\n        } else {\n            // did not create a new line\n            wasNewLine = false;\n        }\n        // remember last word start position\n        wordStart = pos + 1;\n        // clear measurement element\n        measure.removeChild(measure.firstChild);\n    });\n    // remove the measurement element from the container\n    el.removeChild(measure);\n    // create the last line element\n    line = ce('span');\n    // give styles required for text-overflow to kick in\n    line.className = 'dg-map-geoclicker__clamped-line dg-map-geoclicker__clamped-line_last';\n    // add all remaining text to the line element\n    line.appendChild(ctn(text.substr(lineStart)));\n    // add the line element to the container\n    el.appendChild(line);\n};\n\nDG.Geoclicker.Provider = {};\n\nDG.Geoclicker.Provider.CatalogApi = DG.Class.extend({\n    initialize: function(map) { // (Object)\n        this._map = map;\n\n        var apiUrl = DG.config.protocol +\n            DG.config.webApiServer + '/' +\n            DG.config.webApiVersion + '/';\n\n        this._urlGeoSearch = apiUrl + 'geo/search';\n        this._urlGeoGet = apiUrl + 'geo/get';\n        this._urlDetails = apiUrl + 'catalog/branch/get';\n        this._urlFirmsInHouse = apiUrl + 'catalog/branch/list';\n\n        this._key = DG.config.geoclickerCatalogApiKey;\n        this._geoFields = DG.config.geoAdditionalFields;\n        this._firmInfoFields = DG.config.firmInfoFields;\n    },\n\n    getLocations: function(options) { // (Object)\n        // Callback will receive array of found results or void if errors occurred or nothing was found.\n        var zoom = options.zoom,\n            latlng = options.latlng,\n            beforeRequest = options.beforeRequest || function() {},\n            types = this.getTypesByZoom(zoom),\n            q = latlng.lng + ',' + latlng.lat;\n\n        if (!types) {\n            return Promise.reject('no type');\n        }\n\n        beforeRequest();\n\n        return this.geoSearch(q, types, zoom).then(DG.bind(function(result) {\n            return this._filterResponse(result, types);\n        }, this));\n    },\n\n    firmsInHouse: function(houseId, parameters) { // (String, Function, Number)\n        parameters = parameters || {};\n\n        /* eslint-disable camelcase */\n        var params = {\n            building_id: houseId,\n            page: parameters.page || 1\n        };\n        /* eslint-enable camelcase */\n\n        return this._performRequest(params, this._urlFirmsInHouse);\n    },\n\n    getFirmInfo: function(firmId) {\n        return this._performRequest({\n            type: 'filial',\n            id: firmId,\n            fields: this._firmInfoFields\n        }, this._urlDetails);\n    },\n\n    geoSearch: function(q, types, zoomlevel) { // (String, String, Number)\n        /* eslint-disable camelcase */\n        var params = {\n            point: q,\n            type: types,\n            zoom_level: zoomlevel,\n            fields: this._geoFields\n        };\n        /* eslint-enable camelcase */\n\n        return this._performRequest(params, this._urlGeoSearch);\n    },\n\n    geoGet: function(id) {\n        var params = {\n            id: id,\n            fields: this._geoFields\n        };\n\n        return this._performRequest(params, this._urlGeoGet);\n    },\n\n    cancelLastRequest: function() {\n        if (this._lastRequest) {\n            this._lastRequest.abort();\n        }\n    },\n\n    getTypesByZoom: function(zoom) { // (Number) -> String|Null\n        var types = {\n                'adm_div.settlement':   8,\n                'adm_div.city':         8,\n                'adm_div.division':     11,\n                'adm_div.district':     12,\n                'street':               14,\n                'building':             14,\n                'adm_div.place':        15,\n                'poi':                  15,\n                'attraction':           17\n            },\n            selectedTypes = [];\n\n        Object.keys(types).forEach(function(type) {\n            if (zoom >= types[type]) {\n                selectedTypes.push(type);\n            }\n        });\n\n        if (selectedTypes.length) {\n            return selectedTypes.join(',');\n        } else {\n            return null;\n        }\n    },\n\n    _performRequest: function(params, url) { // (Object, String, Function, Function)\n        var data = DG.extend({key: this._key}, params);\n        var type = 'get';\n\n        this.cancelLastRequest();\n\n        if (!DG.ajax.corsSupport) {\n            type = data.format = 'jsonp';\n        }\n\n        this._lastRequest = DG.ajax(url, {\n            type: type,\n            data: data,\n            timeout: this._timeoutMs\n        });\n\n        return this._lastRequest;\n    },\n\n    _filterResponse: function(response, allowedTypes) { // (Object, Array) -> Boolean|Object\n        var result = {}, i, item, found, data, type;\n\n        if (this._isNotFound(response)) {\n            return false;\n        }\n\n        data = response.result.items;\n\n        for (i = data.length - 1; i >= 0; i--) {\n            item = data[i];\n\n            type = item.type;\n            if (item.subtype) {\n                type += '.' + item.subtype;\n            }\n\n            if (allowedTypes && allowedTypes.indexOf(type) === -1) {\n                continue;\n            }\n\n            result[type] = item;\n            found = true;\n        }\n\n        if (found) {\n            return result;\n        } else {\n            return false;\n        }\n    },\n\n    _isNotFound: function(response) { // (Object) -> Boolean\n        return !response ||\n               !!response.meta && !!response.meta.error ||\n               !response.result ||\n               !response.result.items ||\n               !response.result.items.length;\n    }\n\n});\n\nDG.Geoclicker.Handler = {};\n\nDG.Geoclicker.Handler.Default = DG.Class.extend({\n\n    includes: DG.Locale,\n\n    statics: {\n        Dictionary: {}\n    },\n\n    _eventHandlers: {},\n\n    initialize: function(controller, view, map) { // (Object, Object, Object)\n        this._controller = controller;\n        this._view = view;\n        this._map = map;\n    },\n\n    handle: function() { // () -> Promise\n        return Promise.resolve({\n            tmpl: 'popupHeader',\n            data: {'title': this.t('we_have_not')}\n        });\n    },\n\n    addClickEvent: function() {\n        this._view._popup.on('click', this._runEventHandlers, this);\n        this._map.once('popupclose', this._removeClickEvent, this);\n    },\n\n    _removeClickEvent: function() {\n        this._view._popup.off('click', this._runEventHandlers, this);\n    },\n\n    _addEventHandler: function(el, handler) { // (String, Function)\n        this._eventHandlers[el] = handler;\n    },\n\n    _runEventHandlers: function(e) {\n        var target = e.originalEvent.target;\n\n        for (var eventClass in this._eventHandlers) {\n            if (this._eventHandlers.hasOwnProperty(eventClass) && target.className.indexOf(eventClass) > -1) {\n                DG.DomEvent.preventDefault(e.originalEvent);\n                this._eventHandlers[eventClass].call(this, target);\n                return;\n            }\n        }\n    },\n\n    _clearEventHandlers: function() {\n        this._eventHandlers = {};\n    },\n\n    _getDirectionsUrl: function(name) {\n        return DG.Util.template(DG.config.ppnotLink, {\n            'domain': this._map.projectDetector.getProject().domain,\n            'projectCode': this._map.projectDetector.getProject().code,\n            'center': this._map.getCenter().lng + ',' + this._map.getCenter().lat,\n            'zoom': this._map.getZoom(),\n            'name': encodeURIComponent(name),\n            'rsType': this._map.projectDetector.getProject().transport ? 'bus' : 'car',\n            'point': this._popup._latlng.lng + ',' + this._popup._latlng.lat\n        });\n    },\n\n    _getDrilldown: function(object) {\n        var admDivs = [],\n            result;\n\n        if (object.adm_div) {\n            admDivs = object.adm_div\n                .reduce(function(admDivs, admDiv) {\n                    if (admDiv.name) {\n                        admDivs.push(admDiv.name);\n                    }\n\n                    return admDivs;\n                }, [])\n                .reverse();\n        }\n\n        if (admDivs.length && object.address && object.address.postcode) {\n            admDivs.push(object.address.postcode);\n        }\n\n        result = admDivs.join(', ');\n\n        return result;\n    }\n\n});\n\n\nDG.Geoclicker.Handler.HandlerExample = DG.Geoclicker.Handler.Default.extend({\n\n    handle: function(results, type) { // (Object, String) -> Promise\n        return Promise.resolve({\n            tmpl: type + ':<br/>' + results[type].id\n        });\n    }\n});\n\nDG.Geoclicker.Handler.ApiError = DG.Geoclicker.Handler.Default.extend({\n    handle: function() { // () -> Promise\n        var header = this._view.render({\n            tmpl: 'popupHeader',\n            data: {\n                title: this.t('apiErrorTitle')\n            }\n        });\n\n        return Promise.resolve({\n            header: header,\n            tmpl: this.t('apiErrorBody')\n        });\n    }\n});\n\nDG.Geoclicker.Handler.CityArea = DG.Geoclicker.Handler.Default.extend({\n\n    _polylineStyleDefault : {\n        fillColor: '#ff9387',\n        color: '#ff9387',\n        noClip: true,\n        opacity: 1\n    },\n\n    _polylineStyles : {\n        11 : {\n            fillOpacity: 0.18,\n            weight: 1\n        },\n        12 : {\n            fillOpacity: 0.12,\n            weight: 1\n        },\n        13 : {\n            fillOpacity: 0.08,\n            weight: 2\n        },\n        18 : {\n            fillOpacity: 0,\n            weight: 3\n        }\n    },\n\n    handle: function(results, type) { // (Object, String) -> Promise\n        if (!results[type]) {\n            return false;\n        }\n\n        if (!this._stylesInited) {\n            this._initStyles();\n        }\n\n        // remove previous geometry see https://github.com/2gis/mapsapi/issues/213\n        if (this._geometry) {\n            this._map.removeLayer(this._geometry);\n        }\n\n        this._popup = this._view.getPopup();\n\n        this._geometryZoomStyle = this._getPolyStyleNum();\n        this._geometry = DG.Wkt.geoJsonLayer(results[type].geometry.selection, {\n            style: this._polylineStyles[this._geometryZoomStyle],\n            interactive: false\n        }).addTo(this._map);\n\n        this._map\n            .on('zoomend', this._updateGeometry, this)\n            .once('popupclose', this._clearPopup, this);\n\n        return Promise.resolve(this._fillCityAreaObject(results, type));\n    },\n\n    _fillCityAreaObject: function(results, type) {\n        var data = {\n            name: this.t('noname'),\n            drilldown: '',\n            purpose: this.t(type),\n            type: type.split('.').join('_')\n        };\n\n        data.drilldown = this._getDrilldown(results[type]);\n\n        if (results[type].name) {\n            data.name = results[type].name;\n        }\n\n        return {\n            tmpl: 'cityarea',\n            data: data,\n            header: this._view.render({\n                tmpl: 'popupHeader',\n                data: {'title': data.name}\n            })\n        };\n    },\n\n    _initStyles : function() {\n        this._stylesInited = true;\n\n        Object.keys(this._polylineStyles).forEach(function(zoom) {\n            DG.extend(this._polylineStyles[zoom], this._polylineStyleDefault);\n        }, this);\n    },\n\n    _getPolyStyleNum: function() {\n        var mapZoom = this._map.getZoom();\n\n        return Object.keys(this._polylineStyles).filter(function(zoom) {\n            return mapZoom <= zoom;\n        })[0] || false;\n    },\n\n    _updateGeometry: function() {\n        var newStyle = this._getPolyStyleNum();\n\n        if (newStyle && newStyle !== this._geometryZoomStyle) {\n            this._geometryZoomStyle = newStyle;\n            this._geometry.setStyle(this._polylineStyles[newStyle]);\n        }\n    },\n\n    _clearPopup: function() {\n        this._map\n                .removeLayer(this._geometry)\n                .off('zoomend', this._updateGeometry, this);\n    }\n\n});\n\n/*global FirmCard */\nDG.Geoclicker.Handler.House = DG.Geoclicker.Handler.Default.extend({\n\n    _firmsOnPage: 20,\n    _scrollThrottleInterval: 400,\n    _scrollHeightReserve: 60,\n\n    options: {\n        'showBooklet': true,\n        'showPhotos': true,\n        'showRouteSearch': true\n    },\n\n    handle: function(results) { // (Object) -> Promise\n        if (!results.building) {\n            return false;\n        }\n\n        // initialization setup\n        this.firmCard = null;\n        this._page = 1;\n        this._houseObject = null;\n        this._firmList = null;\n        this._firmListObject = null;\n        this._firmCardObject = null;\n        this._onScroll = false;\n        this._isFirmlistOpen = false;\n\n        this._id = results.building.id;\n        this._totalPages = 1;\n        this._api = this._controller.getCatalogApi();\n        this._popup = this._view.getPopup();\n        this._initedPopupClose = false;\n        this._directionsUrl = this._getDirectionsUrl(results.building.name);\n        this._firmListLoader = this._view.initLoader(true);\n\n        this._houseObject = this._fillHouseObject(results.building);\n\n        return Promise.resolve(this._houseObject);\n    },\n\n    _isRouteSearchAllowed: function() { //() -> Boolean\n        var project = this._controller.getMap().projectDetector.getProject();\n        return project.transport || project.roads;\n    },\n\n    _firmCardSetup: function() { //() -> Object\n        return {\n            render: this._view.renderTemplate,\n            lang: this._map.getLang(),\n            domain: this._controller.getMap().projectDetector.getProject().domain,\n            ajax: DG.bind(this._api.getFirmInfo, this._api),\n            timezoneOffset: this._controller.getMap().projectDetector.getProject().timeOffset,\n            map: this._map,\n            popup: this._popup,\n            isMobile: DG.Browser.mobile,\n            showEntrance: DG.Entrance,\n            gotoUrl: this._directionsUrl,\n            onFirmReady: DG.bind(this._onFirmReady, this),\n            onToggle: DG.bind(this._popup.resize, this._popup),\n            showBooklet: this.options.showBooklet,\n            showPhotos: this.options.showPhotos,\n            showRouteSearch: this.options.showRouteSearch && this._isRouteSearchAllowed(),\n            t: DG.bind(this.t, this)\n        };\n    },\n\n    // init single firm card in case of poi\n    _fillFirmCardObject: function(firmId) {\n        var options = this._firmCardSetup();\n\n        this.firmCard = new FirmCard(firmId, options);\n        this._initPopupClose();\n        return this.firmCard.getContainer();\n    },\n\n    _firmListSetup: function() {\n        var options = this._firmCardSetup();\n\n        DG.extend(options, {\n            backBtn: DG.bind(this._showHousePopup, this),\n            onFirmClick: DG.bind(this._onFirmListClick, this),\n            onShowLess: DG.bind(this._showHousePopup, this),\n            pasteLoader: DG.bind(this._pasteLoader, this)\n        });\n\n        return {\n            firmCard: options,\n            firmlistItemTmpl: 'firmlistItem',\n            onListReady: DG.bind(this._renderFirmList, this)\n        };\n    },\n\n    _initShortFirmList: function(firms) { //(Object) -> DOMElement\n        var options = this._firmListSetup();\n\n        this._shortFirmList = new FirmCard.List(firms, options);\n\n        return this._shortFirmList.renderList();\n    },\n\n    _initFirmList: function(res) { //(Object) -> Promise\n        if (!res) { return false; }\n\n        var results = res.result.items,\n            options = this._firmListSetup();\n\n        options.firmCard.backBtn = DG.bind(this._showListPopup, this);\n\n        this._shortFirmList._toggleEventHandlers(true);\n\n        this._firmList = new FirmCard.List(results, options);\n\n        this._firmListObject = this._fillFirmListObject(this._firmList.renderList());\n        this._clearAndRenderPopup(this._firmListObject);\n    },\n\n    _fillFirmListObject: function(firmList) { //(DOMElement) -> Object\n        var self = this;\n\n        return {\n            tmpl: firmList,\n            header: this._header,\n            footer: this._view.render({\n                tmpl: 'popupFooterBtns',\n                data: {\n                    btns: [\n                        {\n                            name: 'back',\n                            label: this.t('back_button'),\n                            icon: true\n                        }\n                    ]\n                }\n            }),\n            afterRender: function() {\n                self._initPopupClose();\n\n                if (self._totalPages > 1 && self._firmListLoader) {\n                    // \"this\" here is self._firmListObject\n                    this.tmpl.parentNode.appendChild(self._firmListLoader);\n                }\n            }\n        };\n    },\n\n    _onFirmReady: function(firmContentObject) {\n        var self = this;\n        firmContentObject.afterRender = function() {\n            var headerTitle = self._popup._popupStructure.header.firstChild;\n            if (!DG.Browser.ielt9) {\n                if (headerTitle.offsetHeight > 72) { //TODO: magic number\n                    DG.DomUtil.addClass(headerTitle, 'dg-popup__header-teaser');\n                    if (!DG.Browser.webkit) {\n                        DG.Geoclicker.clampHelper(headerTitle, 3);\n                    }\n                }\n            }\n        };\n        this._clearAndRenderPopup(firmContentObject);\n    },\n\n    _showHousePopup: function() {\n        this._popup.off('scroll', this._onScroll);\n        this._clearAndRenderPopup(this._houseObject);\n        this._shortFirmList._toggleEventHandlers();\n    },\n\n    _onFirmListClick: function() {\n        this._popup.off('scroll', this._onScroll);\n    },\n\n    _pasteLoader: function() {\n        var loaderWrapper  = DG.DomUtil.create('div', 'dg-map-geoclicker__preloader-wrapper'),\n            loader = this._view.initLoader();\n\n        loaderWrapper.insertBefore(loader, loaderWrapper.firstChild);\n        loaderWrapper.style.height = this._popup._contentNode.offsetHeight - 1 + 'px'; // MAGIC\n        loaderWrapper.style.width = this._popup._contentNode.offsetWidth + 'px';\n        this._clearAndRenderPopup({tmpl: loaderWrapper});\n    },\n\n    _initPopupClose: function() {\n        if (this._initedPopupClose) { return; }\n\n        this._controller.getMap().once('popupclose', DG.bind(this._onPopupClose, this));\n        this._initedPopupClose = true;\n    },\n\n    _showListPopup: function() {\n        var firmList = this._firmListObject;\n\n        this._pasteLoader();\n\n        if (!firmList) {\n            firmList = this._api.firmsInHouse(this._id).then(DG.bind(this._initFirmList, this));\n        } else {\n            this._clearAndRenderPopup(firmList);\n            this._firmList._toggleEventHandlers();\n        }\n\n        if (!this._onScroll) {\n            this._onScroll = DG.Util.throttle(this._handlePopupScroll, this._scrollThrottleInterval, this);\n        }\n\n        this._popup.on('scroll', this._onScroll);\n    },\n\n    _renderFirmList: function() {\n        if (!this._isFirmlistOpen) {\n            this._popup.resize();\n            this._isFirmlistOpen = true;\n        }\n    },\n\n    _onPopupClose: function() {\n        this._initedPopupClose = false;\n        if (this._firmList) {\n            this._firmList.clearList();\n            this._firmList = null;\n            this._popup.off('scroll', this._onScroll);\n        }\n        this._firmId = null;\n        if (this.firmCard) {\n            this.firmCard._toggleEventHandlers(true);\n            this.firmCard = null;\n        }\n        this._firmListLoader = null;\n        this._page = 1;\n        this._clearEventHandlers();\n    },\n\n    _initShowMore: function() {\n        var link = this._popup.findElement('.dg-popup__button_name_all');\n\n        if (link) {\n            this._addEventHandler('dg-popup__button_name_all', DG.bind(this._showListPopup, this));\n        }\n    },\n\n    _clearAndRenderPopup: function(popupObject) {\n        this._clearEventHandlers();\n        this._popup.clear('header', 'footer');\n        this._view.renderPopup(popupObject);\n    },\n\n    _appendFirmList: function(res) { // (Object)\n        this._firmList.addFirms(res.result.items);\n        this._popup._updateScrollPosition();\n    },\n\n    _handlePopupScroll: function(e) {\n        var scroller = e.originalEvent.target || e.target._scroller;\n\n        DG.DomEvent.stop(e);\n\n        if (this._totalPages <= 1) { return; }\n        if (scroller && scroller.scrollHeight <= scroller.scrollTop + scroller.offsetHeight + this._scrollHeightReserve) {\n            this._handlePaging();\n        }\n    },\n\n    _handlePaging: function() {\n        this._page++;\n\n        if (this._totalPages && this._page <= this._totalPages) {\n            this._api.firmsInHouse(this._id, {page: this._page}).then(DG.bind(this._appendFirmList, this));\n        }\n\n        if (this._page === this._totalPages) {\n            var loader = this._firmListLoader;\n\n            if (loader && loader.parentNode) {\n                loader.parentNode.removeChild(loader);\n            }\n\n            this._popup.off('scroll', this._onScroll);\n        }\n    }\n});\n\nDG.Geoclicker.Handler.House.include({\n    _getAddressString: function(house) {\n        if (!house.address || !house.address.components) {\n            return '';\n        }\n\n        return house.address.components\n            .filter(function(component) {\n                return component.type === 'street_number';\n            })\n            .map(function(component) {\n                return component.street + ', ' + component.number;\n            })\n            .join(' / ');\n    },\n\n    _fillBody: function(house) { // // (Object) -> (DOMElement)\n        var data = {},\n            wrapper = DG.DomUtil.create('div', 'dg-building-callout__body'),\n            filials = house.links && house.links.branches;\n\n        var drilldown = this._getDrilldown(house);\n\n        if (house.building_name) {\n            data.address = {\n                header: this._getAddressString(house),\n                drilldown: drilldown\n            };\n        } else if (drilldown) {\n            data.address = {\n                drilldown: drilldown\n            };\n        }\n\n        data.purpose = house.purpose_name +\n            (house.floors ? ', ' + this.t('n_floors', house.floors.ground_count) : '');\n\n        if (filials && filials.count > 0) {\n            this._totalPages = Math.ceil(house.links.branches.count / this._firmsOnPage);\n        }\n\n        if (house.links && house.links.attractions && house.links.attractions.length) {\n            data.attractions = house.links.attractions.reduce(function(attractions, attraction) {\n                if (attraction.name) {\n                    attractions.push(attraction.name);\n                }\n\n                return attractions;\n            }, []);\n        }\n\n        wrapper.innerHTML = this._view.render({\n            tmpl: 'house',\n            data: data\n        });\n\n        if (filials && filials.items) {\n            wrapper.appendChild(this._initShortFirmList(filials.items));\n        }\n\n        return wrapper;\n    },\n\n    _fillHeader: function(house) { // (Object) -> (HTMLString)\n        var header = {};\n\n        if (house.building_name) {\n            header.title = house.building_name;\n        } else if (house.address && house.address.components) {\n            header.title = this._getAddressString(house);\n        } else {\n            header.title = house.purpose_name;\n        }\n\n        this._header = this._view.render({\n            tmpl: 'popupHeader',\n            data: header\n        });\n\n        return this._header;\n    },\n\n    _fillFooter: function(house) { // (Object) -> (HTMLString)\n        var btns = [];\n        var houseFilials = house.links && house.links.branches;\n\n        // Decide if we need to display 'more organisations' button\n        if (\n            houseFilials &&\n            houseFilials.items &&\n            houseFilials.items.length &&\n            houseFilials.count > houseFilials.items.length\n        ) {\n            btns.push(this._getShowAllData(houseFilials.count));\n        }\n\n        if (this._isRouteSearchAllowed()) {\n            btns.push({\n                name: 'goto',\n                label: this.t('go_to'),\n                icon: true,\n                href: this._directionsUrl\n            });\n        }\n\n        return this._view.render({\n            tmpl: 'popupFooterBtns',\n            data: {'btns': btns}\n        });\n    },\n\n    _getShowAllData: function(filialsCount) {\n        return {\n            name: 'all',\n            label: this.t('show_organization_in_building', filialsCount)\n        };\n    },\n\n    _fillHouseObject: function(house) { // (Object) -> (Object)\n        var self = this;\n\n        return {\n            header: this._fillHeader(house),\n            tmpl: this._fillBody(house),\n            footer: this._fillFooter(house),\n            afterRender: function() {\n                self._initShowMore();\n                self._initPopupClose();\n            }\n        };\n    }\n});\n\nDG.Geoclicker.Handler.Poi = DG.Geoclicker.Handler.House.extend({\n\n    handle: function(results) { // (Object) -> Promise\n        if (!results.poi) {\n            return false;\n        }\n\n        // initialization setup\n        this.firmCard = null;\n        this._page = 1;\n        this._houseObject = null;\n        this._firmList = null;\n        this._firmListObject = null;\n        this._firmCardObject = null;\n        this._onScroll = false;\n        this._isFirmlistOpen = false;\n\n        this._id = results.poi.reference.id;\n        this._totalPages = 1;\n        this._api = this._controller.getCatalogApi();\n        this._popup = this._view.getPopup();\n        this._initedPopupClose = false;\n        this._directionsUrl = this._getDirectionsUrl(results.poi.reference.name);\n        this._firmListLoader = this._view.initLoader(true);\n\n        // If the POI refers to a building (e.g. galleries in Santiago),\n        // show a building callout\n        if (results.poi.reference.type === 'building') {\n            var self = this;\n\n            return self._api.geoGet(results.poi.reference.id)\n                .then(function(result) {\n                    self._houseObject = self._fillHouseObject(result.result.items[0]);\n                    return Promise.resolve(self._houseObject);\n                });\n        }\n\n        // Otherwise, show a firm callout\n        if (results.poi.reference.type === 'branch') {\n            this._fillFirmCardObject(results.poi.reference.id);\n            return true;\n        }\n\n        return false;\n    }\n\n});\n\nDG.Geoclicker.Handler.Sight = DG.Geoclicker.Handler.Default.extend({\n\n    handle: function(results) { // (Object, String) -> Promise\n        if (!results.attraction) {\n            return false;\n        }\n\n        this._popup = this._view.getPopup();\n        this._initedPopupClose = false;\n\n        return Promise.resolve(this._fillSightObject(results));\n    },\n\n    _fillSightObject: function(results) { // (Object) -> Object\n        var attraction = results.attraction,\n            data = {},\n            self = this,\n            footer = {\n                btns: [\n                    {\n                        name: 'goto',\n                        label: this.t('go_to'),\n                        icon: true\n                    }\n                ]\n            };\n\n        if (attraction.name) {\n            data.buildingName = attraction.name;\n            data.purpose = attraction.subtype_name;\n        } else {\n            data.buildingName = attraction.subtype_name;\n        }\n\n        data.description = attraction.description;\n\n        data.drillDown = this._getDrilldown(attraction);\n\n        if (this._checkDescFieldHeight(data.description)) {\n            data.showMoreText = this.t('show_more_about_sight');\n        }\n\n        footer.btns[0].href = this._getDirectionsUrl(data.buildingName);\n\n        return {\n            tmpl: 'sight',\n            data: data,\n            header: this._view.render({\n                tmpl: 'popupHeader',\n                data: {'title': data.buildingName}\n            }),\n            footer: this._view.render({\n                tmpl: 'popupFooterBtns',\n                data: footer\n            }),\n            afterRender: function() {\n                if (self._needShowMore) {\n                    self._initShowMore();\n                }\n                self._initPopupClose();\n            }\n        };\n    },\n\n    _initPopupClose: function() {\n        if (this._initedPopupClose) {\n            return;\n        }\n\n        this._controller.getMap().once('popupclose', DG.bind(this._clearPopup, this));\n        this._initedPopupClose = true;\n    },\n\n    _clearPopup: function() {\n        this._initedPopupClose = false;\n        this._clearEventHandlers();\n    },\n\n    _showMoreText: function() {\n        this._desc.style.maxHeight = '100%';\n        this._link.parentNode.removeChild(this._link);\n        this._popup.resize();\n    },\n\n    _initShowMore: function() {\n        this._link = this._popup.findElement('.dg-map-geoclicker__show-more-sights-link');\n        this._desc = this._popup.findElement('.dg-map-geoclicker__sight-description');\n\n        if (this._link && this._desc) {\n            this._addEventHandler('dg-map-geoclicker__show-more-sights-link', DG.bind(this._showMoreText, this));\n        }\n    },\n\n    _checkDescFieldHeight: function(desc) {\n        var el = DG.DomUtil.create('div', ''),\n            height;\n\n        el.style.visibility = 'hidden';\n        el.innerHTML = desc;\n\n        this._popup._contentNode.appendChild(el);\n        height = el.offsetHeight;\n        this._popup._contentNode.removeChild(el);\n        this._needShowMore = (height > 40);\n\n        return this._needShowMore;\n    }\n});\n\nDG.Geoclicker.View = DG.Class.extend({\n\n    initialize: function(map, options) { // (Object, Object)\n        this._map = map;\n        this._popup = DG.popup({\n            maxHeight: 300,\n            minHeight: 50,\n            maxWidth: 385,\n            minWidth: 310,\n            sprawling: true,\n            closeOnClick: true\n        });\n\n        if (options) {\n            DG.Util.setOptions(this, options);\n        }\n    },\n\n    initLoader: function(isSmall) {\n        var loader = document.createElement('div');\n        loader.innerHTML = DG.dust('DGGeoclicker/loader', {\n            small: isSmall,\n            anim: this._detectCssAnimation()\n        });\n\n        return loader.firstChild;\n    },\n\n    showPopup: function(latlng, content) { // (Object)\n        this._popup\n            .setContent(content)\n            .setLatLng(latlng)\n            .openOn(this._map);\n    },\n\n    render: function(options) { // (Object) -> String\n        var html,\n            data = {};\n\n        options = options || {};\n        options.tmpl = options.tmpl || '';\n\n        if (options.data) {\n            html = this.renderTemplate(options.tmpl, options.data);\n        } else {\n            html = options.tmpl;\n        }\n\n        if (options.beforeRender) {\n            options.beforeRender();\n        }\n\n        if (options.popup) {\n            if (options.header) {\n                data.header = options.header;\n            }\n            if (options.footer) {\n                data.footer = options.footer;\n            }\n            data.body = html;\n            this._popup.setContent(data);\n        }\n        if (options.afterRender) {\n            options.afterRender();\n        }\n\n        return html;\n    },\n\n    renderTemplate: function(name, data) {\n        return DG.dust('DGGeoclicker/' + name, data);\n    },\n\n    renderPopup: function(options) { // (Object) -> String\n        options.popup = true;\n        return this.render(options);\n    },\n\n    getPopup: function() { // () -> Object\n        return this._popup;\n    },\n\n    _detectCssAnimation: function() {\n        var animation = false,\n            domPrefixes = 'Webkit Moz O ms Khtml'.split(' '),\n            elm = document.createElement('div');\n\n        if (elm.style.animationName) { animation = true; }\n\n        if (animation === false) {\n            for (var i = 0; i < domPrefixes.length; i++) {\n                if (elm.style[domPrefixes[i] + 'AnimationName'] !== undefined) {\n                    animation = true;\n                    break;\n                }\n            }\n        }\n        return animation;\n    }\n});\n\nDG.Geoclicker.Controller = DG.Class.extend({\n\n    options: {\n        // if handler worked successfully, it should return rendering object that will be processed in View , otherwise it should return false\n        // default handler always should return rendering object\n        'handlersSequence': {\n            'poi': DG.Geoclicker.Handler.Poi,\n            'attraction': DG.Geoclicker.Handler.Sight,\n            'building': DG.Geoclicker.Handler.House,\n            'street': DG.Geoclicker.Handler.CityArea,\n            'adm_div.place': DG.Geoclicker.Handler.CityArea,\n            'adm_div.district': DG.Geoclicker.Handler.CityArea,\n            'adm_div.division': DG.Geoclicker.Handler.CityArea,\n            'adm_div.settlement': DG.Geoclicker.Handler.CityArea,\n            'adm_div.city': DG.Geoclicker.Handler.CityArea,\n\n            'default': DG.Geoclicker.Handler.Default,\n\n            'apiError': DG.Geoclicker.Handler.ApiError\n\n//            station_platform\n//            project\n//            station\n//            crossbroad\n//            metro\n        }\n    },\n\n    initialize: function(map, options) { // (Object, Object)\n        this._options = options;\n        this._handlers = {};\n        this._catalogApi = new DG.Geoclicker.Provider.CatalogApi(map);\n        this._map = map;\n        this._view = new DG.Geoclicker.View(map);\n\n        this._renderHandlerResult = DG.bind(this._renderHandlerResult, this);\n        this._lastHandleClickArguments = null;\n    },\n\n    handlePopupClose: function(popup) { // (Object)\n        if (popup === this._view.getPopup()) {\n            this._lastHandleClickArguments = null;\n            this._catalogApi.cancelLastRequest();\n        }\n    },\n\n    handleClick: function(latlng, zoom, meta) { // (Object, Number, Object)\n        var self = this,\n            args = Array.prototype.slice.call(arguments, 0);\n\n        function beforeRequest() {\n            var loader = self._view.initLoader();\n            self._view._popup.clear();\n            self._view.showPopup(latlng, loader);\n            self._lastHandleClickArguments = args;\n        }\n\n        if (meta && meta.linked && meta.linked.type != 'sight' && meta.linked.type != 'attraction') {\n            if (meta.linked.type != 'branch' && meta.linked.type != 'building') {\n                return;\n            }\n\n            beforeRequest();\n            self.handleResponse({\n                poi: {\n                    reference: meta.linked\n                }\n            });\n        } else {\n            this._catalogApi.getLocations({\n                latlng: latlng,\n                zoom: zoom,\n                beforeRequest: beforeRequest\n            }).then(function(result) {\n                self.handleResponse(result);\n            }, function(error) {\n                self.handleResponse(error);\n            });\n        }\n    },\n\n    handleResponse: function(result) { // (Object)\n        var type;\n\n        if (!result) {\n            this._runHandler('default');\n            return;\n        }\n\n        if (result === 'no type') {\n            return;\n        }\n\n        if (result === 'aborted') {\n            this._runHandler('apiError');\n            return;\n        }\n\n        type = this.findHandler(result);\n\n        while (type) {\n            if (this._runHandler(type, result)) {\n                return;\n            }\n            delete result[type];\n\n            type = this.findHandler(result);\n        }\n        this._runHandler('default');\n    },\n\n    findHandler: function(result) { // (Object) -> String|Null\n        for (var i in this.options.handlersSequence) {\n            if (result[i]) {\n                return i;\n            }\n        }\n\n        return null;\n    },\n\n    getCatalogApi: function() { // () -> Object\n        return this._catalogApi;\n    },\n\n    getMap: function() {\n        return this._map;\n    },\n\n    reinvokeHandler: function() {\n        if (this._lastHandleClickArguments) {\n            this.handleClick.apply(this, this._lastHandleClickArguments);\n        }\n    },\n\n    _runHandler: function(type, data) { // (String, Object) -> Boolean\n        data = data || {};\n        this._initHandlerOnce(type);\n        this._handlers[type].addClickEvent();\n\n        var handlerResult = this._handlers[type].handle(data, type);\n\n        return handlerResult && handlerResult.then ?\n            handlerResult.then(this._renderHandlerResult) :\n            handlerResult;\n    },\n\n    _renderHandlerResult: function(result) {\n        this._view.renderPopup(result);\n    },\n\n    _initHandlerOnce: function(type) { // (String)\n        if (!this._handlers[type]) {\n            this._handlers[type] = new this.options.handlersSequence[type](this, this._view, this._map, this._options);\n        }\n    }\n});\n\nDG.Geoclicker.Handler.Default.Dictionary.it = DG.extend({\n    apiErrorTitle: 'Oh oh, c\\'è&nbsp;un&nbsp;errore',\n    apiErrorBody: 'I nostri server si rifiutano di rispondere. Stiamo facendo del nostro meglio per convincerli a&nbsp;comportarsi bene. Ritorna tra qualche minuto.',\n    we_have_not : 'Non disponiamo ancora di informazioni su questo posto',\n    noname : 'Nome non indicato',\n    'adm_div.place' : 'Luogo',\n    'adm_div.division' : 'Zona',\n    'adm_div.settlement' : 'Comune',\n    street : 'Via',\n    'adm_div.district' : 'Municipalità',\n    'adm_div.city' : 'Сittà',\n    go_to : 'Come arrivare',\n    show_organization_in_building : ['{n} azienda in tutto', '{n} aziende in tutto'],\n    show_more_about_sight : 'Maggiori informazioni',\n    back_button: 'Indietro',\n    n_floors : ['{n} piano', '{n} piani']\n}, DG.Dictionary.it);\n\nDG.Geoclicker.Handler.Default.Dictionary.ru = DG.extend({\n    apiErrorTitle: 'Ошибочка вышла',\n    apiErrorBody: 'Наши серверы отказываются отвечать. Мы уже прикладываем все силы, чтобы вразумить их. Возвращайтесь к&nbsp;нам через&nbsp;несколько минут.',\n    we_have_not : 'Это место мы ещё не успели изучить',\n    noname: 'Без названия',\n    'adm_div.place': 'Место',\n    'adm_div.division': 'Округ',\n    'adm_div.settlement': 'Населенный пункт',\n    street: 'Улица',\n    'adm_div.district': 'Район',\n    'adm_div.city': 'Город',\n    go_to: 'Проехать сюда',\n    show_organization_in_building: ['Всего {n} организация', 'Всего {n} организации', 'Всего {n} организаций'],\n    show_more_about_sight: 'Подробнее',\n    back_button: 'Назад',\n    n_floors: ['{n} этаж', '{n} этажа', '{n} этажей']\n}, DG.Dictionary.ru);\n\nDG.Geoclicker.Handler.Default.Dictionary.en = DG.extend({\n    apiErrorTitle: 'Oops! Error detected.',\n    apiErrorBody: 'Our servers are not responding. We are doing our best to straighten them out. Please return to us in a few minutes.',\n    we_have_not: 'We haven\\'t collected info about this place yet',\n    noname : 'No name',\n    'adm_div.place' : 'Place',\n    'adm_div.division' : 'Area',\n    'adm_div.settlement' : 'Village',\n    street : 'Street',\n    'adm_div.district' : 'District',\n    'adm_div.city' : 'City',\n    go_to : 'Directions to here',\n    show_organization_in_building : ['{n} organization total', '{n} organizations total'],\n    back_button : 'Back',\n    show_more_about_sight : 'More information',\n    n_floors : ['{n} floor', '{n} floors']\n}, DG.Dictionary.en);\n\nDG.Geoclicker.Handler.Default.Dictionary.cs = DG.extend({\n    apiErrorTitle: 'Chybička se&nbsp;vloudila',\n    apiErrorBody: 'Naše servery odmítají reagovat. Již nyní vynakládáme veškeré úsilí, abychom je přivedli k rozumu. Zkuste akci opakovat za několik minut.',\n    we_have_not : 'O tomto místě zatím nemáme informace',\n    noname : 'Bez názvu',\n    'adm_div.place' : 'Místo',\n    'adm_div.division' : 'Správní obvod',\n    'adm_div.settlement' : 'Obec',\n    street : 'Ulice',\n    'adm_div.district' : 'Městská část',\n    'adm_div.city' : 'Město',\n    go_to : 'Cesta sem',\n    show_organization_in_building : ['Celkem {n} organizace', 'Celkem {n} organizace', 'Celkem {n} organizací'],\n    back_button : 'Zpět',\n    show_more_about_sight : 'Více',\n    n_floors : ['{n} patro', '{n} patra', '{n} pater']\n}, DG.Dictionary.cs);\n\nDG.Geoclicker.Handler.Default.Dictionary.es = DG.extend({\n    apiErrorTitle: 'Vaya, ha ocurrido un error',\n    apiErrorBody: 'Nuestros servidores se niegan a responder. Ya nos estamos esforzando por hacerlos entrar en razón. Vuelva con nosotros pasados unos minutos.',\n    we_have_not : 'Todavía no hemos recopilado la información sobre este lugar',\n    noname : 'Sin nombre',\n    'adm_div.place' : 'Lugar',\n    'adm_div.division' : 'Comuna',\n    'adm_div.settlement' : 'Población',\n    street : 'Calle',\n    'adm_div.district' : 'Comuna',\n    'adm_div.city' : 'Ciudad',\n    go_to : 'Ir para allá',\n    show_organization_in_building : ['Total {n} organización', 'Total {n} organizaciones', 'Total {n} organizaciones'],\n    show_more_about_sight : 'Read more',\n    back_button: 'Atrás',\n    n_floors : ['{n} piso', '{n} pisos']\n}, DG.Dictionary.es);\n\nvar FirmCard = function (firm, options) {\n    this._setOptions(options);\n    this._firmContentObject = {};\n    this._schedule = new FirmCard.Schedule({\n        localLang: this.options.lang,\n        dict: this.dict\n    });\n\n    this.render(firm);\n};\n\nFirmCard.prototype = {\n\n    render: function (firmId) {\n        if (!firmId) { return; }\n\n        if (firmId !== this._firmId) {\n            this._firmContentObject = {};\n            this._renderCardById(firmId);\n        } else {\n            this._toggleEventHandlers();\n        }\n\n        return this._firmContentObject;\n    },\n\n    getSchedule: function () {\n        return this._schedule;\n    },\n\n    getContainer: function () {\n        return this._container;\n    },\n\n    _renderCardById: function (firmId) {\n        var self = this;\n\n        this.options.ajax(firmId).then(function (res) {\n            if (!res) { return false; }\n            var data = res.result.items;\n            if (data !== 'undefined') {\n                self._firmData = data[0];\n\n                // Support for old WebAPI format.\n                // TODO: remove this call after WebAPI release\n                self._convertWebsite();\n\n                self._firmId = firmId;\n                self._renderFirmCard();\n                self._toggleEventHandlers();\n            }\n        }, function (error) {\n            self._renderError();\n        });\n    },\n\n    _createFirmContainer: function () {\n        var firm = document.createElement('div');\n        firm.setAttribute('id', 'dg-map-firm-full-' + this._firmId);\n        firm.setAttribute('class', 'dg-map-firm-full');\n\n        return firm;\n    },\n\n    _getPaymentTypes: function (data) {\n        var result = [],\n            groupName = 'general_payment_type';\n\n        if (!data.attribute_groups) {\n            return result;\n        }\n\n        data.attribute_groups.forEach(function (group) {\n            if (group.name) {\n                return;\n            }\n\n            group.attributes.forEach(function (attr) {\n                if (attr.tag.substring(0, groupName.length) === groupName) {\n                    result.push(attr.name);\n                }\n            });\n        });\n\n        return result;\n    },\n\n    _groupRubrics: function (data) {\n        var result = {\n            primary: [],\n            additional: []\n        };\n\n        if (!data.rubrics || !data.rubrics.length) {\n            return result;\n        }\n\n        data.rubrics.forEach(function (rubric) {\n            result[rubric.kind].push(rubric);\n        });\n\n        return result;\n    },\n\n    // Support for old WebAPI format.\n    // TODO: remove this function after WebAPI release\n    _convertWebsite: function () {\n        if (!this._firmData.contact_groups) {\n            return;\n        }\n\n        this._firmData.contact_groups.forEach(function (group) {\n            if (!group.contacts) {\n                return;\n            }\n\n            group.contacts.forEach(function (contact) {\n                if (contact.type != 'website') {\n                    return;\n                }\n\n                if (!contact.url) {\n                    contact.url = contact.value;\n                }\n            });\n        });\n    },\n\n    _renderFirmCard: function () {\n        var firmCardBody, schedule, forecast, links, btns, paymentTypes, rubrics,\n            data = this._firmData,\n            container = this._container = this._createFirmContainer();\n\n        schedule = this._schedule.transform(data.schedule, {\n            zoneOffset: this.options.timezoneOffset,\n            apiLang: this.options.lang,\n            localLang: this.options.lang\n        });\n\n        forecast = this._schedule.forecast(schedule);\n\n        paymentTypes = this._getPaymentTypes(data);\n        rubrics = this._groupRubrics(data);\n\n        firmCardBody = this._buildFirmCardBody(\n            this._getConfigFirmCardBody(data, schedule, forecast, paymentTypes, rubrics)\n        );\n\n        links = this._fillHeaderLinks();\n        btns = this._fillFooterButtons();\n\n        //fill object for view render\n        this._firmContentObject.header = this.options.render('firmCardHeader', {'firmName': data.name, 'links': links});\n        container.innerHTML = firmCardBody;\n        this._firmContentObject.tmpl = container;\n        if (btns.length) {\n            this._footerContainer = document.createElement('div');\n\n            this._footerContainer.innerHTML = this.options.render('popupFooterBtns', {'btns': btns});\n            this._firmContentObject.footer = this._footerContainer;\n        }\n\n        if (this.options.onFirmReady) {\n            this.options.onFirmReady(this._firmContentObject);\n        }\n    },\n\n    _renderError: function() {\n        this._firmContentObject.header = this.options.render('popupHeader', {\n            title: this.options.t('apiErrorTitle')\n        });\n\n        this._firmContentObject.tmpl = this.options.t('apiErrorBody');\n\n        if (this.options.onFirmReady) {\n            this.options.onFirmReady(this._firmContentObject);\n        }\n    },\n\n    _getConfigFirmCardBody: function (data, schedule, forecast, attributes, rubrics) {\n        return [\n            {\n                tmpl: 'firmCardAddr',\n                data: {\n                    address: data.address_name,\n                    comment: data.address_comment\n                }\n            },\n            {\n                tmpl: 'firmCardContacts',\n                data: {\n                    groups: data.contact_groups\n                }\n            },\n            {\n                tmpl: 'firmCardSchedule',\n                data: {\n                    schedule: schedule,\n                    forecast: forecast\n                }\n            },\n            {\n                tmpl: 'frimCardPayments',\n                data: {\n                    payments: attributes\n                }\n            },\n            {\n                tmpl: 'firmCardRubric',\n                data: {\n                    rubrics: rubrics\n                }\n            }\n        ];\n    },\n\n    _buildFirmCardBody: function (parts) {\n        var self = this;\n        return parts.reduce(function (body, item) {\n            var html = self.options.render(item.tmpl, item.data);\n            return body + html;\n        }, '');\n    },\n\n    _fillFooterButtons: function () {\n        var btns = [];\n\n        if (this.options.backBtn) {\n            btns.push({ name: 'firm-card-back',\n                        label: this.dict.t(this.options.lang, 'btnBack'),\n                        icon: true\n            });\n        }\n\n        if (this.options.showRouteSearch) {\n            btns.push({ name: 'goto',\n                        label: this.dict.t(this.options.lang, 'btnFindWay'),\n                        icon: true,\n                        href: this.options.gotoUrl\n            });\n        }\n\n        if (\n            this._firmData.links &&\n                this._firmData.links.entrances &&\n                this.options.showEntrance\n        ) {\n            btns.push({ name: 'show-entrance',\n                        label: this.dict.t(this.options.lang, 'btnEntrance'),\n                        icon: true\n            });\n        }\n\n        return btns;\n    },\n\n    _fillHeaderLinks: function () {\n        var links = [],\n            reviewData = this._firmData.reviews,\n            booklet,\n            link;\n\n        if (this._firmData.external_content) {\n            this._firmData.external_content.forEach(function (el) {\n                if (el && el.type == 'booklet') {\n                    booklet = el;\n                }\n            });\n        }\n\n        if (reviewData && reviewData.is_reviewable) {\n            links.push({\n                name: 'flamp_stars',\n                width: reviewData.rating * 20\n            });\n            links.push({\n                name: 'flamp_reviews',\n                label: this.dict.t(this.options.lang, 'linkReviews', reviewData.review_count ? reviewData.review_count : 0),\n                href: FirmCard.DataHelper.getFlampUrl(this._firmId)\n            });\n        }\n\n        // Retrieve photo data from external content block\n        var photos;\n        var externalContent = this._firmData.external_content;\n\n        for (var i = 0; i < externalContent.length; i++) {\n            if (\n                externalContent[i].type == 'photo_album' &&\n                externalContent[i].subtype == 'common'\n            ) {\n                photos = externalContent[i];\n                break;\n            }\n        }\n\n        if (!this.options.isMobile && photos && photos.count && this.options.showPhotos) {\n            link = L.Util.template(DG.config.photosLink, {\n                'id': this._firmId,\n                'domain': this.options.domain\n            });\n\n            links.push({name: 'photos',\n                href: link,\n                label: this.dict.t(this.options.lang, 'linkPhoto', photos.count)\n            });\n        }\n\n        if (!this.options.isMobile && booklet && booklet.url && this.options.showBooklet) {\n            links.push({\n                name: 'booklet',\n                href:  booklet.url,\n                label: this.dict.t(this.options.lang, 'linkBooklet')\n            });\n        }\n\n\n        return links;\n    },\n\n    _events: {\n        'dg-popup__button_name_firm-card-back': function() {\n            this.options.backBtn();\n            this._toggleEventHandlers(true);\n        },\n        'dg-popup__button_name_show-entrance': function() {\n            var ent = new this.options.showEntrance({'vectors': this._firmData.links.entrances[0].geometry.vectors});\n            ent.addTo(this.options.map);\n            ent.fitBounds();\n            this._toggleEventHandlers(true);\n        },\n        'dg-schedule__today': function() {\n            this._onToggleSchedule();\n        }\n    },\n\n    _toggleEventHandlers: function (flag) {\n        this.options.popup[flag ? 'off' : 'on']('click', this._onClick, this);\n        this.options.map[flag ? 'off' : 'on']('popupclose', this._onClose, this);\n    },\n\n    _onClick: function (e) {\n        var target = e.originalEvent.target;\n\n        for (var eventClass in this._events) {\n            if (this._events.hasOwnProperty(eventClass) && target.className.indexOf(eventClass) > -1) {\n                DG.DomEvent.preventDefault(e.originalEvent);\n                this._events[eventClass].call(this, target);\n                return;\n            }\n        }\n    },\n\n    _onClose: function (e) {\n        this._toggleEventHandlers(true);\n    },\n\n    _onToggleSchedule: function () {\n        var schedule = this._container.querySelector('.dg-schedule__table'),\n            forecast = this._container.querySelector('.dg-schedule__now'),\n            target = this._container.querySelector('.dg-schedule__today'),\n            showClass = ' dg-schedule__today_shown_true';\n\n        if (!schedule) { return; }\n\n        if (schedule.style.display === 'block') {\n            schedule.style.display = 'none';\n            forecast.style.display = 'block';\n            target.className = target.className.replace(showClass, '');\n        } else {\n            forecast.style.display = 'none';\n            schedule.style.display = 'block';\n            target.className += showClass;\n        }\n\n        if (this.options.onToggle) {\n            this.options.onToggle();\n        }\n    },\n\n    _setOptions: function (options) {\n        var option,\n            options = options || {};\n\n        this.options = options;\n        options.lang = options.lang || 'ru';\n\n        for (option in options) {\n            if (options.hasOwnProperty(option)) {\n                this.options[option] = options[option];\n            }\n        }\n    },\n\n    _hasTouch: function () {\n        return (('ontouchstart' in window) ||\n                (navigator.maxTouchPoints > 0) ||\n                (navigator.msMaxTouchPoints > 0));\n    }\n};\n\nFirmCard.DataHelper = {\n\tpayMethods : [\n\t\t'americanexpress',\n\t\t'cash',\n\t\t'dinersclub',\n\t\t'goldcrown',\n\t\t'internet',\n\t\t'mastercard',\n\t\t'noncash',\n\t\t'visa'\n\t],\n\n\t_msgs : {},\n\n\tgetFlampUrl : function (id) {\n\t    return DG.config.flampUrl.concat(id, '?', DG.config.flampGoogleAnalytics);\n\t},\n\n\tmsg : function (msg) {\n\t\tif (this._msgs.hasOwnProperty(msg)) {\n\t\t\treturn this._msgs[msg];\n\t\t}\n\t\tconsole && console.log(\"Cant't find translation for '\" + msg + \"'.\");\n\t\treturn msg.toString().replace('_', ' ');\n\t},\n\n\tgetProjectTime: function (timezoneOffset, time) {\n        var now, utc;\n\n        if (time) {\n            now = new Date(time);\n        } else {\n            now = new Date();\n        }\n\n        if (timezoneOffset) {\n            utc = now.getTime() + (now.getTimezoneOffset() * 60000);\n            return new Date(utc + (60000 * timezoneOffset));\n        } else {\n            return now;\n        }\n    }\n};\n\n/* global\n    FirmCard: false\n*/\n(function () {\n    FirmCard.List = function (firms, options) {\n        this._firms = {}; // {'firmID': firmDomObj}\n        this._setOptions(options);\n\n        this._container = options && options.container || document.createElement('ul');\n        this._container.setAttribute('class', 'dg-building-callout__list');\n\n        this._eventHandlersInited = false;\n        this._firmCard = this._createFirm();\n        this.renderList(firms);\n    };\n\n    FirmCard.List.prototype = {\n\n        renderList: function (firms) {\n            if (firms) {\n                this._toggleEventHandlers();\n                this.addFirms(firms);\n            }\n            if (this.options.onListReady) {\n                this.options.onListReady(this._container);\n            }\n\n            return this._container;\n        },\n\n        _processFirms: function (firms, action) {\n            if (!firms) { return; }\n            var method = '_' + action + 'Firm';\n            if (this._isArray(firms)) {\n                for (var i = 0, l = firms.length; i < l; i++) {\n                    this[method](firms[i]);\n                }\n            } else {\n                this[method](firms);\n            }\n\n        },\n\n        addFirms: function(firms) {\n            this._processFirms(firms, 'add');\n        },\n\n        removeFirms: function(firms) {\n            this._processFirms(firms, 'remove');\n        },\n\n        setLang: function (newLang) {\n            this.options.firmCard.lang = newLang;\n        },\n\n        getLang: function () {\n            return this.options.firmCard.lang;\n        },\n\n        getContainer: function () {\n            return this._container;\n        },\n\n        clearList : function () {\n            this._firms = {};\n            this._toggleEventHandlers(true);\n            this._clearContainer();\n        },\n\n        _removeFirm: function (id) {\n            if (!this._firms[id]) { return false; }\n            this._container.removeChild(this._firms[id]);\n            delete this._firms[id];\n        },\n\n        _addFirm: function (firmData) {\n            var tmpl = this.options.firmlistItemTmpl,\n                domFirm, firm, content;\n\n            firm = {\n                name: firmData.name,\n                id: firmData.id.split('_').slice(0, 1)\n            };\n\n            if (!(firm.id in this._firms)) {\n\n                domFirm = this._createListItem();\n\n                content = tmpl ? this.options.firmCard.render(tmpl, {'firm': firm}) : firm.name;\n\n                domFirm.insertAdjacentHTML('beforeend', content);\n\n                this._firms[firm.id] = domFirm;\n                this._container.appendChild(domFirm);\n            }\n        },\n\n        _createListItem: function () {\n            var item = document.createElement('li');\n            item.setAttribute('class', 'dg-building-callout__list-item');\n\n            return item;\n        },\n\n        _isArray: function (obj) {\n            return {}.toString.call(obj) === '[object Array]';\n        },\n\n        _createFirm: function (firmData) {\n            return new FirmCard(firmData, this.options.firmCard);\n        },\n\n        _isEmptyObj: function (obj) {\n            for (var prop in obj) {\n                if (obj.hasOwnProperty(prop)) {\n                    return false;\n                }\n            }\n\n            return true;\n        },\n\n        _events: {\n            'dg-popup__link': function(target) {\n                var s = this._firmCard.render(target.id);\n\n                this.options.firmCard[this._isEmptyObj(s) ? 'pasteLoader' : 'onFirmReady'](s);\n\n                this.options.firmCard.onFirmClick && this.options.firmCard.onFirmClick();\n\n                this._toggleEventHandlers(true);\n            },\n            'dg-building-callout__list-item': function(target) {\n                target = target.children[0];\n\n                this._events['dg-popup__link'].call(this, target);\n            },\n            'dg-popup__button_name_back': function() {\n                this.options.firmCard.onShowLess();\n\n                this._toggleEventHandlers(true);\n            }\n        },\n\n        _toggleEventHandlers : function (flag) {\n            this.options.firmCard.popup[flag ? 'off' : 'on']('click', this._onClick, this);\n        },\n\n        _onClick: function (e) {\n            var target = e.originalEvent.target;\n\n            for (var eventClass in this._events) {\n                if (this._events.hasOwnProperty(eventClass) && target.className.indexOf(eventClass) > -1) {\n                    DG.DomEvent.preventDefault(e.originalEvent);\n                    this._events[eventClass].call(this, target);\n                    return;\n                }\n            }\n        },\n\n        _clearContainer: function () {\n            var container = this._container;\n\n            while (container.hasChildNodes()) {\n                container.removeChild(container.firstChild);\n            }\n        },\n\n        _setOptions: function (options) {\n            options || (options = {});\n            this.options = options;\n            this.options.firmCard || (this.options.firmCard = {});\n\n            if (!options.firmCard.lang) {\n                this.options.firmCard.lang = 'ru';\n            }\n\n            for (var option in options) {\n                if (options.hasOwnProperty(option)) {\n                    this.options[option] = options[option];\n                }\n            }\n        }\n    };\n})();\n\n/*global\n    FirmCard:false\n*/\nFirmCard.Schedule = function (options) {\n    options = options || {};\n\n    this.localLang = options.localLang || 'ru';\n    this.dict = options.dict;\n    return this;\n};\n\nFirmCard.Schedule.prototype = {\n\n    setLang: function (lang) {\n        this.localLang = lang || 'ru';\n        return this;\n    },\n\n    transform: function (model, params) {\n        if (!model) {\n            return;\n        }\n        params = params || {};\n\n        function bind(fn, obj) { // (Function, Object) -> Function\n            var args = arguments.length > 2 ? Array.prototype.slice.call(arguments, 2) : null;\n            return function () {\n                return fn.apply(obj, args || arguments);\n            };\n        }\n\n        var todayKey, // Mon, Tue ...\n            today, // Объект модели - текущий день недели\n            from, // Самое раннее время открытия за день\n            to, // Самое позднее время закрытия за день\n            zoneOffset = params.zoneOffset || 0,\n            schedule = {}, // Объект-расписание, формируемый под шаблон\n            now = params.now || FirmCard.DataHelper.getProjectTime(zoneOffset).getTime(), // Current timestamp in milliseconds\n            weekKeys = [], // Ключи дней недели, определяют порядок дней и первый день недели. 0 - первый день недели в регионе (не обязательно Mon)\n            weekKeysLocal = [],\n            weekFullKeysLocal = [],\n            weekKeysShort =  [ 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun' ],\n            weekKeysFull = ['monday','tuesday','wednesday','thursday','friday','saturday','sunday'],\n            localLang = params.localLang || this.localLang,\n            localWorkingDays = params.localWorkingDays || [0, 1, 1, 1, 1, 1, 0],\n            firstdayOffset = params.firstdayOffset || 1,\n            minHoursToDisplayClosure = params.minHoursToDisplayClosure || 4,\n            t = bind(this.dict.t, this.dict);\n\n\n        function capitaliseFirstLetter(string) {\n            return string.charAt(0).toUpperCase() + string.slice(1);\n        }\n\n        function getHours(str) {\n            return str.substr(0, 2);\n        }\n\n        function getMinutes(str) {\n            return str.substr(3, 2);\n        }\n\n        // Конвертация временной точки формата апи в формат отображения (25:00 -> 01:00)\n        function formatTime(str) {\n            var hours = +getHours(str) % 24 + '';\n\n            if (hours.length === 1) {\n                hours = '0' + hours;\n            }\n\n            return hours + ':' + getMinutes(str);\n        }\n\n        // Конвертация int числа в номер дня недели (диапазон 0-6)\n        // отрицательные чила: -1 вернёт 6, -2 -> 5 и т.д\n        // положительные: 7 -> 0, 8 -> 1\n        function dayNum(n) {\n            return (n + 70) % 7;\n        }\n\n\n        /* jshint ignore:start */\n        // Возвращает последний элемент массива\n        // Взято из Underscore.js http://underscorejs.org/#last\n        function getArrayLast(arr, n) {\n            if ( arr == null ) return void 0;\n            if (   n == null ) return arr[ arr.length - 1 ];\n            return slice.call( arr, Math.max(arr.length - n , 0) );\n        }\n\n\n        // Выполняет глубокое сравнение объектов\n        // Взято из Underscore.js http://underscorejs.org/#isEqual\n        // Упрощено для тех трёх сравнений, которые выполняются в Shedule.js\n        function isEqual(obj1, obj2) {\n            if ( obj1 === obj2 ) return true;\n            if ( ! ( obj1 instanceof Object ) || ! ( obj2 instanceof Object ) ) return false;\n            if ( obj1.constructor !== obj2.constructor ) return false;\n            for ( var prop in obj1 ) {\n                if ( ! obj1.hasOwnProperty( prop ) ) continue;\n                if ( ! obj2.hasOwnProperty( prop ) ) return false;\n                if ( obj1[ prop ] === obj2[ prop ] ) continue;\n                if ( typeof( obj1[ prop ] ) !== \"object\" ) return false;\n                if ( ! isEqual( obj1[ prop ],  obj2[ prop ] ) ) return false;\n            }\n            for ( prop in obj2 ) {\n            if ( obj2.hasOwnProperty( prop ) && ! obj1.hasOwnProperty( prop ) ) return false;\n            }\n\n            return true;\n        }\n\n        // Generate an integer Array containing an arithmetic progression. A port of\n        // the native Python `range()` function. See\n        // [the Python documentation](http://docs.python.org/library/functions.html#range).\n        function range(start, stop, step) {\n        if (arguments.length <= 1) {\n            stop = start || 0;\n            start = 0;\n        }\n        step = arguments[2] || 1;\n\n        var length = Math.max(Math.ceil((stop - start) / step), 0);\n        var idx = 0;\n        var range = new Array(length);\n        while(idx < length) {\n            range[idx++] = start;\n            start += step;\n        }\n\n        return range;\n        }\n\n\n        //Заполняет свойства объекта значениями по умолчанию\n        //Взято из Underscore.js http://underscorejs.org/#defaults\n        function fillDefaults(obj) {\n         var args = Array.prototype.slice.call(arguments, 1);\n         args.forEach(function(source) {\n            if (source) {\n                for (var prop in source) {\n                    if (obj[prop] === void 0) obj[prop] = source[prop];\n                }\n            }\n        });\n        return obj;\n        }\n\n        //Сортирует значения согласно с итератором\n        //Взято с Underscore.js http://underscorejs.org/#sortBy\n        function sortBy(obj, iterator){\n            return pluck(obj.map( function(value, index, list) {\n                return {\n                        value: value,\n                        index: index,\n                        criteria: iterator.call(this, value, index, list)\n                        };\n                }).sort(function(left, right) {\n                        var a = left.criteria;\n                        var b = right.criteria;\n                        if (a !== b) {\n                        if (a > b || a === void 0) return 1;\n                        if (a < b || b === void 0) return -1;\n                        }\n                return left.index - right.index;\n                }), 'value');\n        }\n\n        /* jshint ignore:end */\n\n        function pluck(arr, key){\n            var i, rv = [];\n            for (i = 0; i < arr.length; ++i) {\n            rv[i] = arr[i][key];\n            }\n            return rv;\n        }\n\n\n        // Преобразовать расписание на день в упорядоченный массив временных отсечек (string)\n        // Сейчас полагается, что API уже выдаёт сортированный массив\n        function getSortedTimePoints(day) {\n            var points = [],\n                from, to,\n                deltaHours, deltaMinutes;\n\n            if (!day || !day.working_hours) {\n                return [];\n            }\n\n            for (var i = 0 ; i < day.working_hours.length ; i++) {\n                from = day.working_hours[i].from;\n                to = day.working_hours[i].to;\n\n                deltaHours = getHours(to) - getHours(from);\n                deltaMinutes = getMinutes(to) - getMinutes(from);\n                if (deltaHours < 0 || (deltaHours === 0 && deltaMinutes <= 0)) { // Если \"до\" меньше или равно \"от\" - значит указывает на завтра\n                    to = (+getHours(to) + 24) + ':' + getMinutes(to); // (01:00 -> 25:00)\n                }\n\n                points[i * 2] = {\n                    time: from,\n                    type: 'open'\n                };\n                points[i * 2 + 1] = {\n                    time: to,\n                    type: day.working_hours.length - 1 === i ? 'close' : 'lunch'\n                };\n            }\n\n            return points;\n        }\n\n        // Возвращает массив timestamp всех точек, всех дней недели, от сегодняшнего и в будущее\n        // Например, сегодня среда, отсечки будут взяты для дат со среды (сегодня) по следующий вторник включительно\n        function getTimeStamps(model) {\n            var timestamps = [],\n                out = [],\n                timePoints,\n                num = weekKeys.indexOf(todayKey); // Номер сегодняшнего дня недели (для данного региона)\n\n\n            // Цикл по дням недели начиная с сегодняшнего\n            var j; // Номер текущего дня в массиве weekKeys\n            for (var i = 0 ; i < 7 ; i++) {\n                j = dayNum(num + i);\n                timePoints = getSortedTimePoints(model[weekKeys[j]]);\n                // Цикл по точкам времени с конвертацией в timestamp\n                timePoints.forEach(\n                    /* jshint -W083 */\n                    function (point) {\n                    // now - обязательно! иначе будет браться текущий timestamp что чревато несовпадениями при медленном быстродействии\n                    // Вычислить таймстемп для данного дня недели, часа и минуты, в будущем, но ближайший к now\n                    var tsp = new Date(now);\n                    tsp.setDate(tsp.getDate()+i);\n                    tsp.setHours(getHours(point.time));\n                    tsp.setMinutes(getMinutes(point.time));\n                    var ts = tsp.getTime();\n\n\n\n                    timestamps.push({\n                        ts: ts,\n                        type: point.type\n                    });\n\n                    if (timestamps[timestamps.length - 1] && timestamps[timestamps.length - 2]) {\n                        // Парно удаляем совпадающие точки (они не имеют смысла - это сегодня 24:00 и завтра 00:00)\n                        if (timestamps[timestamps.length - 1].ts === timestamps[timestamps.length - 2].ts) {\n                            timestamps.pop();\n                            timestamps.pop();\n                        }\n                    }\n\n                    if (timestamps[timestamps.length - 1] && timestamps[timestamps.length - 2]) {\n                        // Парно переносим точки в будущее, если они обе в прошлом (первая точка ([0]) должна быть всегда открытием!)\n                        if (timestamps[timestamps.length - 1].ts <= now && timestamps[timestamps.length - 2].ts <= now) {\n                            timestamps[timestamps.length - 1].ts += (7 * 24 * 60 * 60 * 1000);\n                            timestamps[timestamps.length - 2].ts += (7 * 24 * 60 * 60 * 1000);\n                        }\n                    }\n                }\n                /* jshint +W083 */\n                );\n            }\n\n            // Сортируем на возрастание, ведь возможно были переносы в будущее\n            timestamps = sortBy(timestamps, function (timestamp) { return timestamp.ts; });\n\n            // Удаляем попарно совпадающие точки времени\n            i = 0;\n            while (i < timestamps.length) {\n                if (timestamps[i + 1] && timestamps[i].ts === timestamps[i + 1].ts) {\n                    i++;\n                } else {\n                    out.push(timestamps[i].ts);\n                }\n                i++;\n            }\n\n            // Проверка на ежедневно-круглосуточность\n            if (out.length === 2 && (out[1] - out[0]) === (7 * 24 * 60 * 60 * 1000)) {\n                return [];\n            }\n\n            return timestamps;\n        }\n\n        function whenOpenInverse(h, d, num) {\n            if (d === 1 && h > minHoursToDisplayClosure ) {\n                return t(localLang, 'tommorow');\n            } else if (d > 1) {\n                /* jshint -W015 */\n                switch (num) {\n                    case 0: return t(localLang, 'nextSun');\n                    case 1: return t(localLang, 'nextMon');\n                    case 2: return t(localLang, 'nextTue');\n                    case 3: return t(localLang, 'nextWed');\n                    case 4: return t(localLang, 'nextThu');\n                    case 5: return t(localLang, 'nextFri');\n                    case 6: return t(localLang, 'nextSat');\n                }\n                /* jshint +W015 */\n            }\n\n            return;\n        }\n\n\n        //Возвращает интервал в целых днях, с поправкой на смену дня в полночь, между\n        // @param timestampEnd и @param dateStart\n        function dayInterval(timestampEnd, dateStart) {\n\n            var oneDay = 1000 * 60 * 60 * 24,\n                dateEnd = new Date(timestampEnd.ts);\n\n            var diff;\n\n            diff = Math.round((dateEnd - dateStart) / oneDay);\n\n            if( timestampEnd.type==='open' && dateEnd.getHours() < 1 )\n                { diff ++; }\n\n            return diff;\n        }\n\n\n        // Поместить данные в объект для шаблона о сегодняшнем дне\n        function setTodayString(today) {\n\n            var timePoints,\n                periods = [],\n                timestamps;\n\n            schedule.now = {};\n\n            // Timestamps всех отсечек\n            timestamps = getTimeStamps(model);\n\n            if (!timestamps.length) {\n                schedule.always = true; // Работает ежедневно круглосуточно\n                schedule.now.open = true;\n            }\n\n\n            for (var i = 0 ; i < timestamps.length ; i++) {\n                // Попали между точками i-1 и i // Мы находимся заведомо в будущем относительно 1\n                if (now >= (timestamps[i - 1] && timestamps[i - 1].ts || 0) && now < timestamps[i].ts) {\n                    var h = Math.floor((timestamps[i].ts - now) / (1000 * 60 * 60)), // Количество часов до следующего timestamp\n                        m = Math.floor((timestamps[i].ts - now) / (1000 * 60) - h * 60), // Количество минут (без часов) до следующего timestamp\n                        dayNow = new Date(now),\n\n                        // открыто если следующая итерация не открытие\n                        nowIsOpen = timestamps[i].type !== 'open';\n\n                        //var d = dayOfYear(dayTs) - dayOfYear(dayNow);\n                        //var d = dayInterval(dayTs, dayNow, nowIsOpen);\n                        var d = dayInterval(timestamps[i], dayNow);\n\n\n\n                    // округляем минуты до кратных 5\n                    m = Math.floor(m / 10) * 10 ? Math.floor(m / 10) * 10 : 5;\n\n                    schedule.now.open = nowIsOpen;\n                    schedule.now.lunch = !!(timestamps[i - 1] && timestamps[i - 1].type === 'lunch' || getArrayLast(timestamps).type === 'lunch');\n\n                    schedule.will = {\n                        willType: timestamps[i].type,\n                        d: d,\n                        h: h,\n                        m: m\n                    };\n\n                    // Когда закроется или откроется\n                    var willWhen = new Date(timestamps[i].ts);\n                    schedule.will.when = whenOpenInverse(h, d, willWhen.getDay());\n\n\n                    var willTill = new Date(timestamps[i].ts),\n                        strHours = willTill.getHours(),\n                        strMinutes = willTill.getMinutes();\n\n                    if (strHours < 10) { strHours = '0' + strHours; }\n                    if (strMinutes < 10) { strMinutes = '0' + strMinutes; }\n\n                    schedule.will.till = strHours+':'+strMinutes;\n                }\n            }\n\n            if (!today) {\n                return; // На сегодня расписания нет - сейчас закрыто\n            }\n\n            timePoints = pluck(getSortedTimePoints(today), 'time');\n\n            // Цикл по периодам работы за день\n            for (i = 2 ; i < timePoints.length ; i = i + 2) {\n                periods.push({ from: timePoints[i - 1], to: timePoints[i] });\n            }\n\n            from = formatTime(timePoints[0]);\n            to = formatTime(timePoints[timePoints.length - 1]);\n\n            if (from === to) { // Круглосуточно\n                schedule.today = {\n                    alltime: true,\n                    alltimeStr: t(localLang, 'worksAroundTheClock'),\n                    from: '00:00',\n                    to: '24:00'\n                };\n            } else { // От from до to\n                schedule.today = {\n                    from: from,\n                    to: to\n                };\n            }\n\n            if (periods.length > 0) { // Перерывы на обед\n                schedule.lunch = periods;\n                schedule.lunchStr = t(localLang, 'lunch');\n            }\n        }\n\n        // Формирование объекта-таблицы-расписания для шаблона\n        function makeTable() {\n            var column = [],\n                hasLunch = false;\n\n            for (var j = 0 ; j < 7 ; j++) {\n                var dayKey = weekKeys[j],\n                    lunchMaxLength = 0;\n\n                column[j] = {};\n\n                if (model[dayKey]) {\n                    var day = model[dayKey],\n                        timePoints = pluck(getSortedTimePoints(day), 'time'),\n                        lunch = []; // Отрезки времени (отсортированные моменты) на обеды\n\n                    // Цикл по периодам работы за день\n                    for (var i = 2 ; i < timePoints.length ; i = i + 2) {\n                        hasLunch = true;\n                        lunch.push({ from: timePoints[i - 1], to: timePoints[i] });\n                    }\n                    lunchMaxLength = Math.max(timePoints.length / 2, lunchMaxLength);\n\n                    column[j] = {\n                        from: formatTime(timePoints[0]),\n                        to: formatTime(timePoints[timePoints.length - 1]),\n                        lunch: lunch\n                    };\n                }\n\n                if (dayKey === todayKey) { // Сегодняшний день надо подсветить\n                    column[j].active = true;\n                }\n\n                column[j].key = weekKeysLocal[j];\n            }\n\n            // Дополнение пустыми объектами массивов lunch\n            column.forEach( function (col) {\n                if (col.lunch) {\n                    fillDefaults(col.lunch, range(1, lunchMaxLength));\n                }\n            });\n\n            return {\n                table: column,\n                hasLunch: hasLunch\n            };\n        }\n\n        // Сгенерировать строку для всех дней model, совпадающих с day\n        function makeSimpleString(day, model) {\n            var points,\n                out = {\n                    dayList: [],\n                    lunch: []\n                },\n                lunchesTime = [];\n\n            if (day && day.working_hours && day.working_hours.length) {\n                points = pluck(getSortedTimePoints(day), 'time');\n                points.forEach( function (point, key) {\n                    if (key === 0) {\n                        out.from = formatTime(point);\n                    } else if (key === points.length - 1) {\n                        out.to = formatTime(point);\n                    } else {\n                        lunchesTime.push(formatTime(point));\n                    }\n                });\n                for (var i = 0; i < lunchesTime.length; i += 2) {\n                    out.lunch.push({\n                        from: lunchesTime[i],\n                        to: lunchesTime[i + 1],\n                        lunchStr: capitaliseFirstLetter(t(localLang, 'lunch'))\n                    });\n                }\n\n                if (out.from == '00:00' && out.to == '00:00') {\n                    out.to = '24:00';\n                }\n\n                if (day.round_the_clock) {\n                    out.alltime = true;\n                    out.alltimeStr = t(localLang, 'worksAroundTheClock');\n                }\n            } else { // Выходной\n                out.holiday = true;\n            }\n\n            // Формируем список дней на локальном языке\n            var groupWorkingDays = [0, 0, 0, 0, 0, 0, 0]; // Флаги работы фирмы в дни текущей группы\n            var flow = 0;\n\n            weekKeys.forEach( function (dayKey, numKey) { // 'Mon', 0\n                if (isEqual(model[dayKey], day) || (!model[dayKey] && day === null)) {\n                    out.dayList.push(weekFullKeysLocal[numKey]);\n                    groupWorkingDays[dayNum(numKey + firstdayOffset)] = 1;\n                    flow++;\n                } else {\n                    if (flow > 2) { // Более 2 дней подряд\n                        var lastDay = out.dayList.pop();\n\n                        for (var i = 1 ; i < flow - 1 ; i++) {\n                            out.dayList.pop();\n                        }\n\n                        out.dayList[out.dayList.length - 1] += ' — ' + lastDay;\n                    }\n\n                    flow = 0;\n                }\n            });\n\n            // Список дней в данной группе идентичен списку будних дней, значит можно заменить словом \"Будни\"\n            out.budni = isEqual(localWorkingDays, groupWorkingDays);\n            // Список рабочих дней - все дни недели, значит нужно выводить фразу \"Ежедневно\"\n            out.everyday = ( Math.min.apply(Math, groupWorkingDays) === 1 );\n\n            if ( out.holiday ) { out.holidayStr = t(localLang, 'restDay', out.dayList.length).slice(2); }\n\n            // Делаем из массива строку и поднимаем первый символ\n            out.dayList = out.dayList.join(', ');\n            out.dayList = out.dayList.charAt(0).toUpperCase() + out.dayList.slice(1);\n\n\n            return out;\n        }\n\n        // Возвращает массив simple строк на основе массива дней days\n        function makeAdvancedString(days, model) {\n            var out = [];\n\n            for (var i = days.length - 1 ; i >= 0 ; i--) {\n                out.push(makeSimpleString(days[i], model));\n            }\n\n            return out;\n        }\n\n        // Заполняем названия дней недели, 1 - понедельник. В заполненных массивах понедельник это 0\n\n        for (var i = 0 ; i < 7 ; i++) {\n            weekKeys[i] = weekKeysShort[i];\n            weekKeysLocal[i] = this.dict.t(localLang, weekKeysShort[i].toLowerCase());\n            weekFullKeysLocal[i] = this.dict.t(localLang, weekKeysFull[i]);\n        }\n\n        // Вычисляем сегодняшний день недели (ссылку на объект дня в модели)\n        todayKey = weekKeysShort[dayNum(new Date(now).getDay() - firstdayOffset)];\n        today = model[todayKey]; // Объект расписания - текущий день недели\n        setTodayString(today); // Сделать объект для шаблона - строка, которая описывает время работы сегодня\n\n        // Находим количество разных расписаний и сохраняем их в массив\n        var apiDifferentDays = [], // Массив различающихся дней из модели\n            apiScheduleDaysCount = 0, // Количество описанных дней в расписании модели\n            apiDifferentDaysCount = 0, // Количество разных дней в расписании модели\n            differentWorkingHoursCount = []; // Количество рабочих часов в разных днях\n\n        Object.keys(model).forEach( function(day) {\n            if (model[day] && model[day].working_hours) { // Проверяем что это день, а не комментарий или что-то ещё\n                apiScheduleDaysCount++;\n                if (!isEqual(model[day], getArrayLast(apiDifferentDays))) {\n                    apiDifferentDays.push(model[day]);\n                }\n            }\n        });\n\n        apiDifferentDaysCount = apiDifferentDays.length;\n        // Если не все дни описаны в модели, значит есть ещё один тип дней - выходной (отсутствущий в модели)\n        if (apiScheduleDaysCount < 7) {\n            apiDifferentDaysCount++;\n        }\n\n        // Если разных более 2, то упростить не получится - делаем таблицу\n        if (apiDifferentDaysCount > 2) {\n            schedule.week = makeTable(model);\n        } else { // Иначе, составляем комментарий из двух строк\n\n            // Случай, когда все одинаковые\n            if (apiDifferentDaysCount === 1) {\n                schedule.week = {\n                    evently: [makeSimpleString(model[weekKeys[0]], model)]\n                };\n            } else { // Остаётся случай, когда есть два типа дней\n                // Определяем день с наибольшим количеством рабочих часов из числа разных дней\n                for (i = 0 ; i < apiDifferentDaysCount ; i++) {\n                    differentWorkingHoursCount[i] = 0;\n\n                    if (apiDifferentDays[i]) {\n                        var points = pluck(getSortedTimePoints(apiDifferentDays[i]), 'time');\n\n                        for (var j = 0 ; j < points.length ; j = j + 2) {\n                            var hours = (getHours(points[j + 1]) + getMinutes(points[j + 1]) / 60) - (getHours(points[j]) + getMinutes(points[j]) / 60);\n                            differentWorkingHoursCount[i] += hours;\n                        }\n                    } else { // Выходной\n                        apiDifferentDays[i] = null;\n                    }\n                }\n\n                var apiSortedDifferentDays = sortBy(apiDifferentDays, function (day, key) {\n                    return differentWorkingHoursCount[key];\n                });\n\n                schedule.week = {\n                    evently: makeAdvancedString(apiSortedDifferentDays, model)\n                };\n            }\n        }\n\n        schedule.comment = model.comment;\n        if (schedule.week && schedule.week.evently && schedule.week.evently.length === 1) {\n            schedule.everyday = schedule.week.evently[0].everyday;\n        }\n        return schedule;\n    },\n\n    forecast: function (schedule, params) {\n        var interval = '',\n        open,\n        today = {},\n        nowText,\n        maxHours = params && params.maxHours || 1;\n\n        if (!schedule) {\n            return {};\n        }\n\n        if (schedule.always) { // Круглосуточно ежедневно - более ничего выводить не нужно\n            return {\n                today: {\n                    text: this.dict.t(this.localLang, 'aroundTheClock')\n                },\n                open: true\n            };\n        }\n\n        // Формируем строку - через сколько произойдёт следующая инверсия открытости\n        if (schedule.will && schedule.will.h < maxHours) {\n            if (schedule.will.h) {\n                interval += this.dict.t(this.localLang, 'nHours', schedule.will.h) + ' ';\n            }\n\n            if (schedule.will.m) {\n                interval += this.dict.t(this.localLang, 'nMins', schedule.will.m);\n            }\n        }\n\n        // Данные на сегодня\n        if (schedule.today) {\n            today.text = this.dict.t(this.localLang, 'today');\n            if (schedule.everyday) {\n                today.text = this.dict.t(this.localLang, 'everyday');\n            }\n            today.from = schedule.today.from;\n            today.to = schedule.today.to;\n            today.lunch = schedule.lunch;\n            if (today.lunch) {\n                today.lunchStr = this.dict.t(this.localLang, 'lunch');\n            }\n        } else {\n            today.text = this.dict.t(this.localLang, 'todayIsRestDay');\n        }\n\n        // Текущий статус и прогноз\n        if (schedule.always) { // Если круглосуточно, ничего кроме \"Круглосуточно\" выводить не нужно\n            today.text = this.dict.t(this.localLang, 'aroundTheClock');\n            open = true;\n        } else if (schedule.now) {\n            open = schedule.now.open;\n            if (open) { // открыто\n                if (schedule.will && schedule.will.willType === 'lunch') {\n                    // далее - закрытие на обед\n                    if (schedule.will && schedule.will.h < maxHours) {\n                        // менее maxHours до закрытия  на обед\n                        nowText = this.dict.t(this.localLang, '_in') + ' ' + this.dict.t(this.localLang, 'nMins', interval) + this.dict.t(this.localLang, 'isClosingOnDinner');\n                    } else {\n                        // больше maxHours до закрытия  на обед\n                        nowText = this.dict.t(this.localLang, 'isOpen');\n                    }\n\n                } else {\n                    // далее просто закрытие\n                    if (schedule.will.h < maxHours) {\n                        // менее maxHours до закрытия просто\n                        nowText = this.dict.t(this.localLang, 'closeIn') + this.dict.t(this.localLang, 'nMins', interval);\n                    } else {\n                        // больше maxHours до закрытия просто\n                        nowText = this.dict.t(this.localLang, 'isOpen');\n                    }\n                }\n            } else { // закрыто\n                if (schedule.will && schedule.will.when) {\n                    // откроется не сегодня\n                    nowText = this.dict.t(this.localLang, 'open') + schedule.will.when;\n                } else {\n                    // откроется сегодня\n                    if (schedule.now && schedule.now.lunch) {\n                        // сейчас обед\n                        if (schedule.will.h < maxHours) {\n                            // менее maxHours до открытия с обеда\n                            nowText = this.dict.t(this.localLang, 'Lunch') + this.dict.t(this.localLang, 'openIn') + this.dict.t(this.localLang, 'nMins', interval);\n                        } else {\n                            // больше maxHours до открытия с обеда\n                            nowText = this.dict.t(this.localLang, 'Lunch') + this.dict.t(this.localLang, 'openAt') + schedule.will.till;\n                        }\n                    } else {\n                        // просто закрыто\n                        if (schedule.will && schedule.will.h < maxHours) {\n                            // менее maxHours до открытия просто\n                            nowText = this.dict.t(this.localLang, 'openIn') + this.dict.t(this.localLang, 'nMins', interval);\n                        } else {\n                            // больше maxHours до открытия просто\n                            nowText = this.dict.t(this.localLang, 'openAt') + schedule.will.till;\n                        }\n                    }\n                }\n            }\n        }\n\n        return {\n            today: today,\n            now: nowText,\n            open: open,\n            week: schedule.week,\n            comment: schedule.comment,\n            everyday: schedule.everyday\n        };\n    }\n};\n\n/*global\n    FirmCard:false\n*/\n// FirmCard.dictionary = {};\n\nFirmCard.prototype.dict = {\n\n    t: function (lang, msg, argument) { // (String, Number) -> String\n        var result,\n            msgIsset = false,\n            dictionaryMsg,\n            exp;\n\n        if (typeof this[lang] === 'undefined') {\n            if (lang === 'ar') {\n                lang = 'en';\n            } else {\n                lang = 'ru';\n            }\n        }\n        dictionaryMsg = this[lang][msg];\n        msgIsset = typeof dictionaryMsg !== 'undefined';\n        if (!msgIsset) {\n            return msg;\n        }\n        result = msgIsset ? dictionaryMsg : msg;\n\n        if (argument !== undefined) {\n            argument = parseInt(argument, 10);\n            argument = isNaN(argument) ? 0 : argument;\n            exp = this[lang].pluralRules(argument);\n            result = argument + ' ' + dictionaryMsg[exp];\n        }\n        return result;\n    },\n\n    ru: {\n        pluralRules: function (n) { // (Number)\n            if (n % 10 === 1 && n % 100 !== 11) { // 1, 21\n                return 0;\n            }\n            if ((n % 10 >= 2 && n % 10 <= 4 && (n % 10) % 1 === 0) && (n % 100 < 12 || n % 100 > 14)) { // 2, 3\n                return 1;\n            }\n\n            if ((n % 10 === 0) || (n % 10 >= 5 && n % 10 <= 9 && (n % 10) % 1 === 0) || (n % 100 >= 11 && (n % 100) <= 14 && (n % 100) % 1 === 0)) { // 13, 17\n                return 2;\n            }\n        },\n\n        btnBack: 'Назад',\n        btnFindWay: 'Проехать сюда',\n        btnEntrance: 'Найти вход',\n        linkReviews: ['отзыв', 'отзыва', 'отзывов'],\n        linkPhoto: ['фото', 'фото', 'фото'],\n        linkBooklet: 'Буклет',\n        tommorow: 'завтра',\n        afterTommorow: 'послезавтра',\n        afterWeek: 'через неделю',\n        nextSun: 'в воскресенье',\n        nextMon: 'в понедельник',\n        nextTue: 'во вторник',\n        nextWed: 'в среду',\n        nextThu: 'в четверг',\n        nextFri: 'в пятницу',\n        nextSat: 'в субботу',\n        willOpen: 'откроется',\n        willClose: 'закроется',\n        isOpen: 'Открыто',\n        openTill: 'Открыто до ',\n        closeIn: 'Закроется через ',\n        openAt: 'Откроется в ',\n        openIn: 'Откроется через ',\n        open: 'Откроется ',\n        nHours: ['час', 'часа', 'часов'],\n        nMins: ['минуту', 'минуты', 'минут'],\n        lunch: 'обед',\n        Lunch: 'Обед. ',\n        workingDays: 'Рабочие дни',\n        weekdays: 'Будние дни',\n        restDay: ['выходной', 'выходные','выходные'],\n        reviewsOnFlamp: 'Отзывы на Флампе',\n        writeReviewOnFlamp: 'Написать отзыв на Флампе',\n        payment: 'оплата',\n        everyday: 'Ежедневно c',\n        worksAroundTheClock: 'Работает круглосуточно',\n        aroundTheClock: 'Круглосуточно',\n        knowMore: 'узнать больше',\n        toClose: 'до закрытия',\n        monday: 'понедельник',\n        tuesday: 'вторник',\n        wednesday: 'среда',\n        thursday: 'четверг',\n        friday: 'пятница',\n        saturday: 'суббота',\n        sunday: 'воскресенье',\n        mon: 'пон',\n        tue: 'втр',\n        wed: 'срд',\n        thu: 'чтв',\n        fri: 'птн',\n        sat: 'сбт',\n        sun: 'вск',\n        toLunch: 'до обеда',\n        today: 'Сегодня',\n        lessThenHour: 'менее часа',\n        youCouldLate: 'вы можете не успеть',\n        workingTime: 'рабочее время',\n        showAllOrgInRubric: 'Показать все организации рубрики',\n        todayIsRestDay: 'Сегодня выходной',\n        internet: 'Оплата через Интернет',\n        noncash: 'Безналичный расчет',\n        goldcrown: 'Золотая Корона',\n        dinersclub: 'Diners Club',\n        mastercard: 'Mastercard',\n        maestrocard: 'MaestroCard',\n        visa: 'Visa',\n        cash: 'Наличный расчет',\n        americanexpress: 'American Express',\n        hour : 'час',\n        less: 'менее',\n        _in : 'Через',\n        isClosingOnDinner : ' закрывается на обед'\n    },\n\n    it: {\n        pluralRules: function (n) { // (Number)\n            if (n === 1) { // 1\n                return 0;\n            } else {\n                return 1; //0, 2, 3, 4 ..\n            }\n        },\n\n        btnBack: 'Indietro',\n        btnFindWay: 'Come arrivare ',\n        btnEntrance: 'Trova l\\'ingresso',\n        linkReviews: ['recensione', 'recensioni'],\n        linkPhoto: ['fotografia', 'fotografie'],\n        linkBooklet: 'Sull\\'azienda',\n        tommorow: 'domani',\n        afterTommorow: 'dopodomani',\n        afterWeek: 'tra una settimana',\n        nextSun: 'la domenica',\n        nextMon: 'il lunedi',\n        nextTue: 'il martedì',\n        nextWed: 'il mercoledì',\n        nextThu: 'il giovedi',\n        nextFri: 'il venerdì',\n        nextSat: 'il sabato',\n        willOpen: 'apre',\n        willClose: 'ciuso',\n        isOpen: 'Aperto',\n        openTill: 'Aperto fino alle ',\n        closeIn: 'Chiude tra ',\n        openAt: 'Apre alle ',\n        openIn: 'Apre tra ',\n        open: 'Apre ',\n        nHours: ['ora', 'ore'],\n        nMins: ['minuto', 'minuti'],\n        lunch: 'pausa pranzo',\n        Lunch: 'Pausa pranzo. ',\n        workingDays: 'Giorni feriali',\n        weekdays: 'Giorni feriali',\n        restDay: ['chiusura','chiusura'],\n        reviewsOnFlamp: 'Recensioni su Flamp',\n        writeReviewOnFlamp: 'Scrivi una recensione su Flamp',\n        payment: 'pagamento',\n        everyday: 'Ogni giorno dalole',\n        worksAroundTheClock: 'Operativo 24 ore su 24',\n        aroundTheClock: '24 ore su 24',\n        knowMore: 'ulteriori informazioni',\n        toClose: 'fino alla chiusura',\n        monday: 'lunedi',\n        tuesday: 'martedì',\n        wednesday: 'mercoledì',\n        thursday: 'giovedi',\n        friday: 'venerdì',\n        saturday: 'sabato',\n        sunday: 'domenica',\n        mon: 'lun',\n        tue: 'mar',\n        wed: 'mer',\n        thu: 'gio',\n        fri: 'ven',\n        sat: 'sab',\n        sun: 'dom',\n        toLunch: 'fino alla pausa pranzo',\n        today: 'Oggi',\n        lessThenHour: 'meno di un\\'ora',\n        youCouldLate: 'affrettarsi, chiusura imminente',\n        workingTime: 'orario di lavoro',\n        showAllOrgInRubric: 'Visualizza tutte le aziende della categoria',\n        todayIsRestDay: 'oggi chiuso',\n        internet: 'Pagamento on-line',\n        noncash: 'Pagamento non in contanti',\n        goldcrown: 'Zolotaja Korona',\n        dinersclub: 'Diners Club',\n        mastercard: 'MasterCard',\n        maestrocard: 'MaestroCard',\n        visa: 'Visa',\n        cash: 'Pagamento in contanti',\n        americanexpress: 'American Express',\n        hour : 'un\\'ora',\n        less: 'meno di',\n        _in : 'Tra',\n        isClosingOnDinner : 'chiude per pausa pranzo'\n    },\n\n    en: {\n        pluralRules: function (n) { // (Number)\n            if (n === 1) { // 1\n                return 0;\n            } else {\n                return 1; //0, 2, 3, 4 ..\n            }\n        },\n\n        btnBack: 'Back',\n        btnFindWay: 'Get here',\n        btnEntrance: 'Find entrance',\n        linkReviews: ['review', 'reviews'],\n        linkPhoto: ['photo', 'photos'],\n        linkBooklet: 'About company',\n        tommorow: 'tomorrow',\n        afterTommorow: 'the day after tomorrow',\n        afterWeek: 'in a week',\n        nextSun: 'on Sunday',\n        nextMon: 'on Monday',\n        nextTue: 'on Tuesday',\n        nextWed: 'on Wednesday',\n        nextThu: 'on Thursday',\n        nextFri: 'on Friday',\n        nextSat: 'on Saturday',\n        willOpen: 'opens ',\n        willClose: 'closes',\n        isOpen: 'Open',\n        openTill: 'Open till ',\n        closeIn: 'Closes in ',\n        openAt: 'Opens at ',\n        openIn: 'Opens in ',\n        open: 'Opens ',\n        nHours: ['hour', 'hours'],\n        nMins: ['minute', 'minutes'],\n        lunch: 'lunch break',\n        Lunch: 'Lunch break. ',\n        workingDays: 'Working days',\n        weekdays: 'Weekdays',\n        restDay: ['day off','days off'],\n        reviewsOnFlamp: 'Reviews on Flamp',\n        writeReviewOnFlamp: 'Write a review on Flamp',\n        payment: 'payment',\n        everyday: 'Daily from',\n        worksAroundTheClock: 'Open 24 hours',\n        aroundTheClock: '24h',\n        knowMore: 'see also',\n        toClose: 'until closing',\n        monday: 'Monday',\n        tuesday: 'Tuesday',\n        wednesday: 'Wednesday',\n        thursday: 'Thursday',\n        friday: 'Friday',\n        saturday: 'Saturday',\n        sunday: 'Sunday',\n        mon: 'Mon',\n        tue: 'Tue',\n        wed: 'Wed',\n        thu: 'Thu',\n        fri: 'Fri',\n        sat: 'Sat',\n        sun: 'Sun',\n        toLunch: 'until lunch',\n        today: 'Today',\n        lessThenHour: 'less then one hour',\n        youCouldLate: 'you might be late',\n        workingTime: 'working hours',\n        showAllOrgInRubric: 'Show all organizations in the category',\n        todayIsRestDay: 'closed today',\n        internet: 'Online',\n        noncash: ' No-cash',\n        goldcrown: 'Golden Crown',\n        dinersclub: 'Diners Club',\n        mastercard: 'Mastercard',\n        maestrocard: 'MaestroCard',\n        visa: 'Visa',\n        cash: 'Cash',\n        americanexpress: 'American Express',\n        hour : 'hour',\n        less: 'less',\n        _in : 'In',\n        isClosingOnDinner : 'will be closing for lunch'\n    },\n\n    cs: {\n        pluralRules: function (n) { // (Number)\n            return (n === 1) ? 0 : (n >= 2 && n <= 4) ? 1 : 2;\n        },\n\n        btnBack: 'Zpět',\n        btnFindWay: 'Jet sem',\n        btnEntrance: 'Hledat vstup',\n        linkReviews: ['recenze', 'recenze', 'recenzí'],\n        linkPhoto: ['fotografie', 'fotografie', 'fotografií'],\n        linkBooklet: 'Leták',\n        tommorow: 'zítra',\n        afterTommorow: 'pozítří',\n        afterWeek: 'za týden',\n        nextSun: 'v neděli',\n        nextMon: 'v pondělí',\n        nextTue: 'v úterý',\n        nextWed: 've středu',\n        nextThu: 've čtvrtek',\n        nextFri: 'v pátek',\n        nextSat: 'v sobotu',\n        willOpen: 'otevře se',\n        willClose: 'zavře se',\n        isOpen: 'Otevřeno',\n        openTill: 'Otevřeno do ',\n        closeIn: 'Zavře se za ',\n        openAt: 'Otevře se v ',\n        openIn: 'Otevře se za ',\n        open: 'Otevře se ',\n        nHours: [ 'hodinu' , 'hodiny' , 'hodin' ],\n        nMins: [ 'minutu' , 'minuty' , 'minut' ],\n        lunch: 'polední přestávka',\n        Lunch: 'Polední přestávka. ',\n        workingDays: 'Všední dny',\n        weekdays: 'Všední dny',\n        restDay: ['zavřeno', 'zavřeno'],\n        reviewsOnFlamp: 'Recenze na Flampu',\n        writeReviewOnFlamp: 'Napsat recenzi na Flampu',\n        payment: 'platba',\n        everyday: 'Denně od ',\n        worksAroundTheClock: 'Pracuje nonstop',\n        aroundTheClock: 'Nonstop',\n        knowMore: 'dozvědět se více',\n        toClose: 'do uzavření',\n        monday: 'pondělí',\n        tuesday: 'úterý',\n        wednesday: 'středa',\n        thursday: 'čtvrtek',\n        friday: 'pátek',\n        saturday: 'sobota',\n        sunday: 'neděle',\n        mon: 'po',\n        tue: 'út',\n        wed: 'st',\n        thu: 'čt',\n        fri: 'pá',\n        sat: 'so',\n        sun: 'ne',\n        toLunch: 'do polední přestávky',\n        today: 'Dnes',\n        lessThenHour: 'méně než hodinu',\n        youCouldLate: 'nemusíte to stihnout',\n        workingTime: 'pracovní doba',\n        showAllOrgInRubric: 'Zobrazit všechny organizace v rubrice',\n        todayIsRestDay: 'Dnes je zavřeno',\n        internet: 'Platba prostřednictvím Internetu',\n        noncash: 'Bezhotovostní platba',\n        goldcrown: 'Zolotaja Korona',\n        dinersclub: 'Diners Club',\n        mastercard: 'Mastercard',\n        maestrocard: 'MaestroCard',\n        visa: 'Visa',\n        cash: 'Platba hotově',\n        americanexpress: 'American Express',\n        hour : 'hodinu',\n        less: 'méně',\n        _in : 'Za',\n        isClosingOnDinner : 'začíná polední přestávka'\n    },\n\n    es: {\n        pluralRules: function (n) { // (Number)\n          return (n === 1) ? 0 : (n >= 2 && n <= 4) ? 1 : 2;\n        },\n\n        btnBack: 'Atrás',\n        btnFindWay: 'Ir para allá',\n        btnEntrance: 'Buscar acceso',\n        linkReviews: ['comentario', 'comentarios', 'comentarios'],\n        linkPhoto: ['foto', 'fotos', 'fotos'],\n        linkBooklet: 'Folleto',\n        tommorow: 'mañana',\n        afterTommorow: 'pasado mañana',\n        afterWeek: 'en una semana más',\n        nextSun: 'el domingo',\n        nextMon: 'el lunes',\n        nextTue: 'el martes',\n        nextWed: 'el miércoles',\n        nextThu: 'el jueves',\n        nextFri: 'el viernes',\n        nextSat: 'el sábado',\n        willOpen: 'se abrirá',\n        willClose: 'se cerrará',\n        isOpen: 'Abierto',\n        openTill: 'Abierto hasta ',\n        closeIn: 'Se cerrará dentro de ',\n        openAt: 'Se abrirá el ',\n        openIn: 'Se abrirá dentro de ',\n        open: 'Se abrirá ',\n        nHours: ['hora', 'horas', 'horas'],\n        nMins: ['minuto', 'minutos', 'minutos'],\n        lunch: 'hora de colación',\n        Lunch: 'Hora de colación. ',\n        workingDays: 'Días laborables',\n        weekdays: 'Días laborables',\n        restDay: ['cerrado','cerrado'],\n        reviewsOnFlamp: 'Comentarios en Flamp',\n        writeReviewOnFlamp: 'Escribir un comentario en Flamp',\n        payment: 'pago',\n        everyday: 'Cada día desde',\n        worksAroundTheClock: 'Abierto las 24 horas',\n        aroundTheClock: '24 horas',\n        knowMore: 'para saber más',\n        toClose: 'hasta el cierre',\n        monday: 'lunes',\n        tuesday: 'martes',\n        wednesday: 'miércoles',\n        thursday: 'jueves',\n        friday: 'viernes',\n        saturday: 'sábado',\n        sunday: 'domingo',\n        mon: 'lun',\n        tue: 'mar',\n        wed: 'mié',\n        thu: 'jue',\n        fri: 'vie',\n        sat: 'sáb',\n        sun: 'dom',\n        toLunch: 'antes de la hora de colación',\n        today: 'Hoy',\n        lessThenHour: 'menos de una hora',\n        youCouldLate: 'puede ser que no alcanzas a llegar',\n        workingTime: 'horario de trabajo',\n        showAllOrgInRubric: 'Mostrar todas las empresas de la categoría',\n        todayIsRestDay: 'Hoy cerrado',\n        internet: 'Pago por Internet',\n        noncash: 'Pago sin efectivo',\n        goldcrown: 'Zolotaya Korona',\n        dinersclub: 'Diners Club',\n        mastercard: 'Mastercard',\n        maestrocard: 'MaestroCard',\n        visa: 'Visa',\n        cash: 'Pago en efectivo',\n        americanexpress: 'American Express',\n        hour : 'hora',\n        less: 'menos de',\n        _in : 'Dentro de',\n        isClosingOnDinner : 'se cierra por hora de colación'\n    }\n};\n\nDG.Traffic = DG.TileLayer.extend({\n    options: {\n        period: 0,\n        disableLabel: false\n    },\n\n    statics: {\n        Dictionary: {}\n    },\n\n    initialize: function(options) {\n        this._tileUrl = DG.config.protocol + (DG.Browser.retina ? DG.config.retinaTrafficTileServer : DG.config.trafficTileServer);\n        this._metaUrl = DG.config.protocol + (DG.Browser.retina ? DG.config.retinaTrafficMetaServer : DG.config.trafficMetaServer);\n        this._timeUrl = DG.config.protocol + DG.config.trafficTimestampServer;\n        this._updateInterval = DG.config.trafficLayerUpdateInterval;\n\n        this._layersOptions = {\n            errorTileUrl: 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7',\n            subdomains: '012345679',\n            maxNativeZoom: 18,\n            detectRetina: DG.config.detectRetina,\n            minZoom: DG.config.trafficLayerMinZoom\n        };\n\n        options = DG.setOptions(this, DG.extend(options || {}, this._layersOptions));\n        options.timestampString = options.period ? '' : ('?' +  (new Date()).getTime());\n        this._metaLayer = DG.Meta.layer(null, {\n            detectRetina: options.detectRetina,\n            maxNativeZoom: options.maxNativeZoom,\n            dataFilter: DG.bind(this._processData, this),\n            minZoom: options.minZoom\n        });\n        this._isDg = true;\n        this._onTimer = DG.bind(this._onTimer, this);\n        DG.TileLayer.prototype.initialize.call(this, this._tileUrl, options);\n    },\n\n    // #setTime(day [0-6], time[0-23]) ????\n\n    onAdd: function(map) {\n        this._updateLayerProject();\n\n        map\n            .addLayer(this._metaLayer)\n            .on('projectchange projectleave', this._onMapProjectChange, this);\n\n        if (!this.options.disableLabel) {\n            this._metaLayer.on(this._layerEventsListeners, this);\n            this._labelHelper = DG.label();\n            this._map.on('langchange', this._updateLang, this);\n        }\n\n        if (this._updateInterval) {\n            this._updateTimer = setInterval(this._onTimer, this._updateInterval);\n        }\n\n        DG.TileLayer.prototype.onAdd.call(this, map);\n    },\n\n    onRemove: function(map) {\n        clearInterval(this._updateTimer);\n\n        map\n            .removeLayer(this._metaLayer)\n            .off('projectchange projectleave', this._onMapProjectChange, this);\n\n        if (!this.options.disableLabel) {\n            this._metaLayer.off(this._layerEventsListeners, this);\n            this._map.removeLayer(this._labelHelper);\n            this._labelHelper = null;\n            this._map.off('langchange', this._updateLang, this);\n        }\n\n        DG.TileLayer.prototype.onRemove.call(this, map);\n    },\n\n    update: function() {\n        var self = this;\n        this._getTimestampString().then(\n            function(response) {\n                self.options.timestampString = '?' + response;\n            },\n            function() {\n                self.options.timestampString = '?' + (new Date()).getTime();\n            }).then(\n            function() {\n                self.fire('update', {timestamp: self.options.timestampString});\n                self._layerEventsListeners.mouseout.call(self);\n                self._metaLayer.getOrigin().setURL(self._prepareMetaURL(), self);\n                self.redraw();\n            }\n        );\n    },\n\n    getSubdomain: function() {\n        return this._layersOptions.subdomains[\n            Math.floor(Math.random() * this._layersOptions.subdomains.length)\n        ];\n    },\n\n    _updateLang: function() {\n        var lang = this._map.getLang();\n        if (lang === 'ar') {\n            this._labelHelper.options.textDirection = 'rtl';\n        } else {\n            this._labelHelper.options.textDirection = 'auto';\n        }\n    },\n\n    _getTimestampString: function() {\n        return DG.ajax(\n            DG.Util.template(\n                this._timeUrl,\n                DG.extend({\n                    s : this.getSubdomain(),\n                    projectCode: this._map.projectDetector.getProject().code\n                }, this.options || {})),\n            {type: 'get'}\n        );\n    },\n\n    _onTimer: function() {\n        if (this.options.period === 0) {\n            this.update();\n        }\n    },\n\n    _processData: function(trafficData, coord) {\n        var tileOriginPoint = coord.scaleBy(this.getTileSize());\n        var polygonLngLatToPoints = DG.bind(this._polygonLngLatToPoints, this, tileOriginPoint);\n        var hints = {};\n\n        if (!DG.Util.isArray(trafficData)) {    // TODO remove\n            return [];\n        }\n\n        trafficData[1].forEach(function(item) {\n            this[item.graph_id] = item.speed_text;\n        }, hints);\n\n        return trafficData[0]\n            .map(function(item) {\n                return {\n                    id: item.graph_id,\n                    speed: hints[item.graph_id],\n                    geometry: DG.Wkt.toGeoJSON(item.geometry[0].object[0])\n                };\n            })\n            .filter(function(item) {\n                return item.geometry.type == 'Polygon' ||\n                    item.geometry.type == 'MultiPolygon';\n            })\n            .map(function(item) {\n                var geoJson = item.geometry;\n\n                if (geoJson.type == 'Polygon') {\n                    geoJson.coordinates = polygonLngLatToPoints(geoJson.coordinates);\n                } else if (geoJson.type == 'MultiPolygon') {\n                    geoJson.coordinates = geoJson.coordinates.map(polygonLngLatToPoints);\n                }\n\n                return item;\n            });\n    },\n\n    _polygonLngLatToPoints: function(originPoint, polygon) {\n        var map = this._map;\n\n        return polygon.map(function(contour) {\n            return contour.map(function(lngLat) {\n                return map\n                    .project([lngLat[1], lngLat[0]]).round()\n                    .subtract(originPoint);\n            });\n        });\n    },\n\n    _prepareMetaURL: function() {\n        return DG.Util.template(this._metaUrl, DG.extend({\n            x: '{x}',\n            y: '{y}',\n            z: '{z}',\n            s: '{s}'\n        }, this.options));\n    },\n\n    _updateLayerProject: function() {\n        var project = this._map.projectDetector.getProject();\n        DG.setOptions(this, project && project.traffic ? {\n            projectCode: project.code,\n            bounds: project.latLngBounds,\n            minZoom: Math.max(project.minZoom, this._layersOptions.minZoom),\n            maxZoom: project.maxZoom\n        } : {\n            maxZoom: 0,\n            minZoom: 0\n        });\n        this._metaLayer.getOrigin().setURL(this._prepareMetaURL());\n    },\n\n    _onMapProjectChange: function() {\n        this._updateLayerProject();\n        this.redraw();\n    },\n\n    _layerEventsListeners: {\n        mouseover: function(e) { // (Object)\n            this._setCursor('pointer');\n            if (this._labelHelper && e.meta.speed) {\n                this._labelHelper\n                    .setPosition(e.latlng)\n                    .setContent(e.meta.speed + ' ' + this.t('speed_unit_km_h'))\n                    .addTo(this._map);\n            }\n        },\n        mouseout: function() {\n            this._setCursor('');\n            if (this._labelHelper) {\n                this._map.removeLayer(this._labelHelper);\n            }\n        },\n        mousemove: function(e) {\n            if (this._labelHelper) {\n                this._labelHelper.setPosition(e.latlng);\n            }\n        }\n    },\n\n    _setCursor: function(cursor) { // (String)\n        this._map.getContainer().style.cursor = cursor;\n    }\n\n});\n\nDG.Traffic.include(DG.Locale);\n\nDG.traffic = function(options) { // (Object)\n    return new DG.Traffic(options);\n};\n\nDG.Traffic.Dictionary.ru = {\n    speed_unit_km_h: 'км/ч'\n};\n\nDG.Traffic.Dictionary.it = {\n    speed_unit_km_h: 'km/h'\n};\n\nDG.Traffic.Dictionary.cs = {\n    speed_unit_km_h: 'km/h'\n};\n\nDG.Traffic.Dictionary.es = {\n    speed_unit_km_h: 'km/h'\n};\n\nDG.Traffic.Dictionary.en = {\n    speed_unit_km_h: 'km/h'\n};\n\nDG.Traffic.Dictionary.ar = {\n    speed_unit_km_h: 'كم/ساعة'\n};\n\nDG.Control.Traffic = DG.RoundControl.extend({\n    options: {\n        position: 'topright',\n        iconClass: 'traffic'\n    },\n\n    statics: {\n        Dictionary: {}\n    },\n\n    initialize: function(options) {\n        this._trafficClass = 'dg-traffic-control';\n        this._controlHideClass = 'dg-control-round_is-hidden_true';\n\n        DG.setOptions(this, options);\n        DG.extend(this, {\n            _active: false,\n            _trafficLayer: null\n        }).on(this._controlEvents, this);\n    },\n\n    _controlEvents: {\n        add: function() {\n            this._trafficLayer = DG.traffic();\n            this._map.on('zoomend projectchange projectleave', this._updateControlVisibility, this);\n        },\n        click: function() {\n            this._active = !this._active;\n\n            if (this._active) {\n                this.setState('active');\n                this._showTraffic();\n            } else {\n                this.setState('');\n                this._hideTraffic();\n            }\n        },\n        remove: function() {\n            this.off(this._controlEvents, this);\n            this._map.off('zoomend projectchange projectleave', this._updateControlVisibility, this);\n            if (this._active) {\n                this._map.removeLayer(this._trafficLayer);\n                this._active = false;\n            }\n            this._trafficLayer = null;\n        }\n    },\n\n    _showTraffic: function() { // ()\n        this._updateTrafficScore();\n        this._map.addLayer(this._trafficLayer);\n    },\n\n    _hideTraffic: function() { // ()\n        this._handleDom('remove');\n        this._map.removeLayer(this._trafficLayer);\n    },\n\n    _handleDom: function(method, score) {\n        var a = this._link;\n\n        a.innerHTML = score || '';\n        DG.DomUtil[method + 'Class'](a, this._trafficClass);\n        DG.DomUtil[method + 'Class'](a, this._trafficClass + '_color_' + this._scoreRate);\n    },\n\n    _getTrafficColor: function(score) { // (Number) -> String\n        var result = 'green';\n\n        if (score > 7) {\n            result = 'red';\n        } else if (score > 4) {\n            result = 'yellow';\n        }\n\n        return result;\n    },\n\n    _updateControlVisibility: function() {\n        var project = this._map.projectDetector.getProject(),\n            projectHasTraffic = project && project.traffic,\n            method = ((this._map.getZoom() < DG.config.trafficLayerMinZoom) ||\n            (!projectHasTraffic)) ? 'addClass' : 'removeClass';\n\n        DG.DomUtil[method](this._container, this._controlHideClass);\n        if (this._active && projectHasTraffic) {\n            this._updateTrafficScore();\n        }\n    },\n\n    _updateTrafficScore: function() {\n        var self = this;\n\n        this._getTrafficScore().then(function(score) {\n            score = parseInt(score, 10); // sometimes webapi returns something like '5,+'\n\n            self._scoreRate = self._getTrafficColor(score);\n            self._handleDom('add', score);\n        });\n    },\n\n    _getTrafficScore: function() { // () -> Promise\n        var url = DG.Util.template(\n            DG.config.protocol + DG.config.trafficScoreServer,\n            {\n                s: this._trafficLayer.getSubdomain(),\n                projectCode: this._map.projectDetector.getProject().code\n            }\n        );\n\n        return DG.ajax(url, {type: 'get'});\n    },\n\n    _renderTranslation: function() { // ()\n        this._link.title = this.t('button_title');\n    }\n});\n\nDG.control.traffic = function(options) {\n    return new DG.Control.Traffic(options);\n};\n\nDG.Map.mergeOptions({\n    trafficControl: false\n});\n\nDG.Map.addInitHook(function() {\n    if (this.options.trafficControl) {\n        this.trafficControl = DG.control.traffic(this.options.trafficControl);\n        this.addControl(this.trafficControl);\n    }\n});\n\nDG.Control.Traffic.Dictionary.ru = {\n    button_title: 'Пробки'\n};\n\nDG.Control.Traffic.Dictionary.it = {\n    button_title: 'Colonna'\n};\n\nDG.Control.Traffic.Dictionary.cs = {\n    button_title: 'Zácpy'\n};\n\nDG.Control.Traffic.Dictionary.es = {\n    button_title: 'Taco'\n};\n\nDG.Control.Traffic.Dictionary.en = {\n    button_title: 'Traffic'\n};\n\nDG.Control.Traffic.Dictionary.ar = {\n    button_title: 'حركة السير'\n};\n\nDG.Ruler = DG.Layer.extend({\n\n    options: {\n        editable: true\n    },\n\n    includes: [DG.Locale],\n\n    statics: {\n        Dictionary: {}\n    },\n\n    initialize: function(latlngs, options) { // (Array, Object)\n        DG.Util.setOptions(this, options);\n\n        this._layers = {\n            back : null,\n            middle : null,\n            front : null,\n            mouse : null\n        };\n        this._points = [];\n\n        this._layersContainer = DG.featureGroup();\n        Object.keys(this._layers).forEach(function(name) {\n            this._layersContainer.addLayer(this._layers[name] = DG.featureGroup());\n        }, this);\n\n        this._reset();\n\n        if (DG.Browser.mobile) {\n            delete this._lineMouseEvents.mouseover;\n            delete this._lineMouseEvents.mouseout;\n            delete this._lineMouseEvents.mousemove;\n        } else {\n            delete this._lineMouseEvents.click;\n        }\n\n        if (latlngs && latlngs.length) {\n            this.setLatLngs(latlngs);\n        }\n    },\n\n    onAdd: function(map) { // (Map)\n        this._map = map.on('langchange', this._updateDistance, this);\n\n        //  Pane for ruler Markers\n        if (!this._map.getPane('rulerMarkerPane')) {\n            this._map.createPane('rulerMarkerPane');\n        }\n\n        //  Main ruler pane (svg objects and runner)\n        if (!this._map.getPane('rulerPane')) {\n            this._map.createPane('rulerPane');\n        }\n\n        this._layersContainer.addTo(this._map);\n\n        if (this._points.length) {\n            this._layers.mouse.fire('layeradd');\n            this._updateDistance();\n        }\n\n        this._layers.mouse.on(this._lineMouseEvents, this);\n    },\n\n    onRemove: function(map) { // (Map)\n        map\n            .off('langchange', this._updateDistance, this)\n            .removeLayer(this._layersContainer);\n\n        this._layers.mouse.off(this._lineMouseEvents, this);\n        this._reset();\n    },\n\n    getTotalDistance: function() { // () -> Number\n        return this._calcDistance();\n    },\n\n    spliceLatLngs: function(index) { // (Number, Number, args ...) -> Array\n        var oldLength = this._points.length,\n            mutationStart = index >= 0 ? Math.min(index, oldLength) : oldLength - index,\n            removed = Array.prototype.splice.apply(this._points, arguments).map(function(point) {\n                this._layers.mouse.removeLayer(point);\n                return point.off().getLatLng();\n            }, this),\n            length = this._points.length;\n\n        if (length) {\n            for (var i = mutationStart; i < length; i++) {\n                if (!(this._points[i] instanceof DG.Ruler.LayeredMarker)) {\n                    this._points[i] = this._createPoint(this._points[i], this.options.iconStyles.large)\n                        .on(this._pointEvents, this)\n                        .once('add', this._addCloseHandler, this)\n                        .addTo(this._layers.mouse, this._layers);\n                }\n                if (i && !this._points[i - 1]._legs) {\n                    this._addLegs(this._points[i - 1]);\n                }\n                this._points[i].setPointStyle(this.options.iconStyles[i && i < length - 1 ? 'small' : 'large']);\n                this._points[i]._pos = i;\n            }\n            this._removeLegs(this._points[length - 1]);\n            if (oldLength > 0 && oldLength < length) {\n                this._points[oldLength - 1].collapse();\n            }\n            if (this._points[mutationStart]) {\n                this._updateLegs(this._points[mutationStart]);\n            }\n            if (mutationStart > 1) {\n                this._points[mutationStart - 1].setPointStyle(this.options.iconStyles.small);\n            }\n            this._updateDistance();\n            this._normalizeRulerPoints();\n        }\n        if (DG.Browser.touch && this._lineMarkerHelper) {\n            this._lineMarkerHelper.collapse();\n        }\n        this._fireChangeEvent();\n        return removed;\n    },\n\n    addLatLng: function(latlng) { // (LatLng) -> Ruler\n        var lastPoint = this._points[this._points.length - 1] || null;\n        latlng = DG.latLng(latlng);\n\n        if (lastPoint) {\n            latlng = this._normalizeLatLng(latlng, lastPoint.getLatLng());\n        }\n\n        this.spliceLatLngs(this._points.length, 0, latlng);\n        return this;\n    },\n\n    getLatLngs: function() { // () -> Array\n        return this._points.map(function(point) {\n            return point.getLatLng();\n        });\n    },\n\n    setLatLngs: function(latlngs) { // (Array) -> Ruler\n        var args = latlngs.slice();\n        args.unshift(0, this._points.length);\n        this.spliceLatLngs.apply(this, args);\n        return this;\n    },\n\n    _reset: function() { // ()\n        DG.extend(this, {\n            _lineMarkerHelper: null,\n            _morphingNow: false\n        });\n    },\n\n    _lineMouseEvents: {\n        click: function(event) {\n            var target = event.layer;\n            if (target instanceof DG.Marker && target._pos !== this._points.length - 1) {\n                if (this._lineMarkerHelper) {\n                    this._lineMarkerHelper.collapse();\n                }\n                target.setText(this._getFormatedDistance(target));\n                this._lineMarkerHelper = target;\n            } else if (target instanceof DG.Path && this.options.editable) {\n                var latlng = event.latlng,\n                    insertPos = target._point._pos + 1;\n                this.spliceLatLngs(insertPos, 0, latlng);\n            }\n        },\n        mouseover: function(event) { // (MouseEvent)\n            var target = event.layer;\n\n            target._hovered = true;\n            if (this._morphingNow) {\n                return;\n            }\n            if (target instanceof DG.Marker && target._pos !== this._points.length - 1) {\n                target.setText(this._getFormatedDistance(target));\n            } else if (target instanceof DG.Path && !this._lineMarkerHelper) {\n                var point = target._point;\n\n                this._lineMarkerHelper = this._addRunningLabel(\n                    this._nearestPoint(point._legs.middle, event.latlng),\n                    point\n                );\n            }\n        },\n        mouseout: function(event) { // (MouseEvent)\n            var target = event.layer,\n                originalEv = event.originalEvent;\n\n            target._hovered = false;\n            if (this._morphingNow || target._pos === this._points.length - 1) {\n                return;\n            }\n            if (target instanceof DG.Marker) {\n                // collapse only when we move out from label container (if browser support relatedTarget)\n                if (!originalEv.relatedTarget ||\n                    (originalEv.relatedTarget !== target.querySelector('container') &&\n                    originalEv.relatedTarget.parentNode !== target.querySelector('container'))) {\n                    target.collapse();\n                }\n            } else {\n                this._removeRunningLabel();\n            }\n        },\n        mousemove: function(event) { // (MouseEvent)\n            if (this._morphingNow || !this._lineMarkerHelper) {\n                return;\n            }\n\n            var point = event.layer._point,\n                latlng = this._nearestPoint(point._legs.middle, event.latlng);\n\n            this._lineMarkerHelper\n                    .setLatLng(latlng)\n                    .setText(this._getFormatedDistance(point, point.getLatLng().distanceTo(latlng)));\n        },\n        layeradd: function() { // ()\n            Object.keys(this._layers).forEach(function(name) {\n                this._layers[name].bringToFront();\n            }, this);\n        }\n    },\n\n    _fireChangeEvent: function() {\n        this.fire('changed', {latlngs : this.getLatLngs()});\n    },\n\n    _addRunningLabel: function(latlng, previousPoint) { // (LatLng, Ruler.LayeredMarker)\n        var point = this._createPoint(latlng).addTo(this._layers.mouse, this._layers);\n        var pane = this._map.getPane('rulerPane');\n        pane.insertBefore(point._icon, pane.lastElementChild);\n        return point.setText(this._getFormatedDistance(previousPoint, previousPoint.getLatLng().distanceTo(latlng)));\n    },\n\n    _removeRunningLabel: function() { // ()\n        if (this._lineMarkerHelper) {\n            this._layers.mouse.removeLayer(this._lineMarkerHelper);\n            this._lineMarkerHelper = null;\n        }\n    },\n\n    _insertPointInLine: function(event) { // (MouseEvent)\n        var latlng = this._lineMarkerHelper.getLatLng(),\n            insertPos = event.target._point._pos + 1,\n            point;\n\n        if (L.Browser.ie) {\n            var path = event.originalEvent.target || event.originalEvent.srcElement,\n                parent = path.parentNode;\n            parent.appendChild(path); // IE click event leaking problem solution: we reappend mousedown event target element\n        }\n\n        L.DomEvent.stopPropagation(event.originalEvent);\n\n        this.spliceLatLngs(insertPos, 0, latlng);\n        point = this._points[insertPos];\n        point.setText(this._getFormatedDistance(point));\n\n        setTimeout(function() {\n            if (document.createEvent) {\n                var e = document.createEvent('MouseEvents');\n                e.initMouseEvent('mouseup', false, false, document.defaultView, 1, 0, 0, 0, 0, false, false, false, false, 1, point._icon);\n                document.dispatchEvent(e);\n\n                e = document.createEvent('MouseEvents');\n                e.initMouseEvent('mousedown', false, false, document.defaultView, 1, 0, 0, 0, 0, false, false, false, false, 1, point._icon);\n                point._icon.dispatchEvent(e);\n            } else {\n                point._icon.fireEvent('onMouseUp', DG.extend(document.createEventObject(), {\n                    button: 1,\n                    bubbles: false,\n                    cancelable: false\n                }));\n                point._icon.fireEvent('onMouseDown', DG.extend(document.createEventObject(), {\n                    button: 1,\n                    bubbles: false,\n                    cancelable: false\n                }));\n            }\n        }, 0);\n\n        this._removeRunningLabel();\n\n        this._updateLegs(point);\n    },\n\n    // Find the point on given polyline which is closest to given latlng\n    _nearestPoint: function(polyline, latlng) { // (Polyline, LatLng) -> LatLng\n        var self = this;\n\n        // Convert everything to pixel coordinates\n        var point = this._project(latlng);\n        var linePoints = polyline.getLatLngs().map(function(latlng) {\n            return self._project(latlng);\n        });\n\n        // First look for closest polyline segment\n        var minDistance;\n        var closestSegmentIndex;\n        for (var i = 0; i < linePoints.length - 1; i++) {\n            var distance = DG.LineUtil.pointToSegmentDistance(\n                point,\n                linePoints[i],\n                linePoints[i + 1]\n            );\n\n            if (minDistance === undefined || distance < minDistance) {\n                minDistance = distance;\n                closestSegmentIndex = i;\n            }\n        }\n\n        // Then look for closest point on that segment\n        var closestPoint = DG.LineUtil.closestPointOnSegment(\n            point,\n            linePoints[closestSegmentIndex],\n            linePoints[closestSegmentIndex + 1]\n        );\n\n        // Convert back to LatLng\n        return this._unproject(closestPoint);\n    },\n\n    _addCloseHandler: function(event) { // (Event)\n        event.target\n                .on('click', this._deletePoint, this)\n                .querySelector('remove-link').style.display = 'inline-block';\n    },\n\n    _createPoint: function(latlng, style) { // (LatLng, Object) -> Ruler.LayeredMarker\n        var pointStyle = style ? style : this.options.iconStyles.large,\n            layers = {};\n        Object.keys(pointStyle).forEach(function(layer) {\n            layers[layer] = DG.circleMarker(latlng, pointStyle[layer]);\n        });\n\n        return DG.Ruler.layeredMarker(latlng, {\n            layers : layers,\n            draggable : this.options.editable,\n            textDirection: this._map.getLang() !== 'ar' ? 'auto' : 'rtl'\n        });\n    },\n\n    // Moves curr LatLng to correct world if necessary so that ruler section\n    // between curr and base can be plotted correctly. Returns a new LatLng\n    // object.\n    _normalizeLatLng: function(curr, base) { // (LatLng, LatLng) -> LatLng\n        var diff = (curr.lng < base.lng) ? 360 : -360;\n\n        var newLng = curr.lng;\n        while (Math.abs(newLng - base.lng) > 180) {\n            newLng += diff;\n        }\n\n        return DG.latLng(curr.lat, newLng);\n    },\n\n    // Rearranges ruler points between worlds based on point param so that all\n    // ruler sections can be plotted correctly.\n    _normalizeRulerPoints: function(point) { // (Ruler.LayeredMarker)\n        point = point || this._points[0];\n\n        var self = this;\n        var position = point._pos;\n        var changedPoints = [];\n        var i, currPoint, prevPoint, latlng, normalized;\n\n        // Check points to the right\n        for (i = position + 1; i < this._points.length; i++) {\n            currPoint = this._points[i];\n            prevPoint = this._points[i - 1];\n\n            latlng = currPoint.getLatLng();\n            normalized = this._normalizeLatLng(latlng, prevPoint.getLatLng());\n\n            if (!normalized.equals(latlng)) {\n                currPoint.setLatLng(normalized);\n                changedPoints.push(i);\n            }\n        }\n\n        // Check points to the left\n        for (i = position - 1; i >= 0; i--) {\n            currPoint = this._points[i];\n            prevPoint = this._points[i + 1];\n\n            latlng = currPoint.getLatLng();\n            normalized = this._normalizeLatLng(latlng, prevPoint.getLatLng());\n\n            if (!normalized.equals(latlng)) {\n                currPoint.setLatLng(normalized);\n                changedPoints.push(i);\n            }\n        }\n\n        // Update legs of all points that changed position\n        changedPoints.sort().reduce(function(previous, current) {\n            var skipPrevious = previous && previous === current - 1;\n\n            self._updateLegs(self._points[current], skipPrevious);\n\n            return current;\n        }, null);\n    },\n\n    _pointEvents: {\n        drag: function(event) { // (Event)\n            var point = event.target;\n\n            this._normalizeRulerPoints(point);\n\n            if (!DG.Browser.touch && point !== this._points[this._points.length - 1]) {\n                point.setText(this._getFormatedDistance(point));\n            }\n\n            this._updateLegs(point);\n            this._updateDistance();\n        },\n        dragend: function(event) { // (Event)\n            var point = event.target;\n            this._morphingNow = false;\n            if (!point._hovered && point !== this._points[this._points.length - 1]) {\n                point.collapse();\n            }\n            this._fireChangeEvent();\n        },\n        dragstart: function() { // ()\n            if (DG.Browser.touch && this._lineMarkerHelper) {\n                this._lineMarkerHelper.collapse();\n            }\n            this._morphingNow = true;\n        }\n    },\n\n    _deletePoint: function(event) { // (MouseEvent)\n        var originalEvent = event.originalEvent,\n            target = originalEvent.target  || originalEvent.srcElement;\n\n        if (target.className !== 'dg-ruler__label-remove-link' &&\n            target.className !== 'dg-ruler__remove-link-overlay') {\n            return;\n        }\n        DG.DomEvent.stop(event.originalEvent);\n        this.spliceLatLngs(event.target._pos, 1);\n    },\n\n    _degToRad: function(deg) {\n        return (Math.PI / 180) * deg;\n    },\n\n    _radToDeg: function(rad) {\n        return (180 / Math.PI) * rad;\n    },\n\n    // Map-independent project method\n    _project: function(latlng) {\n        if (this._map) {\n            return this._map.project(latlng);\n        }\n\n        return DG.CRS.EPSG3857.latLngToPoint(latlng, 1);\n    },\n\n    // Map-independent unproject method\n    _unproject: function(point) {\n        if (this._map) {\n            return this._map.unproject(point);\n        }\n\n        return DG.CRS.EPSG3857.pointToLatLng(point, 1);\n    },\n\n    // Calculates the size of angle point1-point-point2\n    _calcAngle: function(point, point1, point2) { // (LatLng, LatLng, LatLng) -> Number\n        point1 = this._normalizeLatLng(point1, point);\n        point2 = this._normalizeLatLng(point2, point);\n\n        point = this._project(point);\n        point1 = this._project(point1);\n        point2 = this._project(point2);\n\n        var x1 = point1.x - point.x;\n        var x2 = point2.x - point.x;\n        var y1 = point1.y - point.y;\n        var y2 = point2.y - point.y;\n\n        var dotProduct = x1 * x2 + y1 * y2;\n        var mag1 = Math.sqrt(x1 * x1 + y1 * y1);\n        var mag2 = Math.sqrt(x2 * x2 + y2 * y2);\n\n        return Math.acos(dotProduct / (mag1 * mag2));\n    },\n\n    // Calculates the midpoint on the great circle between two LatLngs\n    _calcMidPoint: function(latlng1, latlng2) { // (LatLng, LatLng) -> LatLng\n        var lon1 = this._degToRad(latlng1.lng);\n        var lat1 = this._degToRad(latlng1.lat);\n\n        var lon2 = this._degToRad(latlng2.lng);\n        var lat2 = this._degToRad(latlng2.lat);\n\n        // Based on formulae from\n        // http://williams.best.vwh.net/avform.htm#Intermediate\n        var d = Math.acos(Math.sin(lat1) * Math.sin(lat2) +\n            Math.cos(lat1) * Math.cos(lat2) * Math.cos(lon1 - lon2));\n\n        // Split the arc in half\n        var f = 0.5;\n\n        var A = Math.sin((1 - f) * d) / Math.sin(d);\n        var B = Math.sin(f * d) / Math.sin(d);\n\n        var x = A * Math.cos(lat1) * Math.cos(lon1) +\n            B * Math.cos(lat2) * Math.cos(lon2);\n\n        var y = A * Math.cos(lat1) * Math.sin(lon1) +\n            B * Math.cos(lat2) * Math.sin(lon2);\n\n        var z = A * Math.sin(lat1) + B * Math.sin(lat2);\n\n        var lat = Math.atan2(z, Math.sqrt(x * x + y * y));\n        var lon = Math.atan2(y, x);\n\n        return DG.latLng(this._radToDeg(lat), this._radToDeg(lon));\n    },\n\n    // Adaptive sampling algorithm based on\n    // http://ariel.chronotext.org/dd/defigueiredo93adaptive.pdf\n    _adaptiveSample: function(left, right, depth, middle) { // (LatLng, LatLng, Number[, LatLng]) -> LatLng[]\n        if (depth > 9) {\n            // Max recursion depth reached\n            return [];\n        }\n\n        middle = middle || this._calcMidPoint(left, right);\n\n        var leftMiddle = this._calcMidPoint(left, middle);\n        var rightMiddle = this._calcMidPoint(middle, right);\n\n        var angle1 = this._calcAngle(leftMiddle, middle, left);\n        var angle2 = this._calcAngle(middle, left, right);\n        var angle3 = this._calcAngle(rightMiddle, middle, right);\n\n        // left --- leftMiddle --- middle --- rightMiddle --- right\n        //            angle1       angle2       angle3\n\n        var minAngle = 3.1;\n        if (angle1 > minAngle && angle2 > minAngle && angle3 > minAngle) {\n            // This section is straight enough, no intermediate points needed.\n            return [];\n        } else {\n            // Angles are too small. Recursively sample halves of this section.\n            var result = [];\n            result = result.concat(this._adaptiveSample(left, middle, depth + 1, leftMiddle));\n            result.push(middle);\n            result = result.concat(this._adaptiveSample(middle, right, depth + 1, rightMiddle));\n\n            return result;\n        }\n    },\n\n    // Calculates the great circle arc between two LatLngs.\n    _calcGreatCircle: function(latlng1, latlng2) { // (LatLng, LatLng) -> LatLng[]\n        latlng2 = this._normalizeLatLng(latlng2, latlng1);\n\n        // Special case: points are close to each other (within 1 degree)\n        if (latlng1.equals(latlng2, 1)) {\n            return [latlng1, latlng2];\n        }\n\n        // Special case: the great circle crosses a pole\n        if (Math.abs(latlng2.lng - latlng1.lng) == 180) {\n            // North or south pole?\n            var latitude = (latlng1.lat + latlng2.lat > 0) ? 90 : -90;\n\n            return [\n                latlng1,\n                DG.latLng(latitude, latlng1.lng),\n                DG.latLng(latitude, latlng2.lng),\n                latlng2\n            ];\n        }\n\n        var result = [];\n\n        result.push(latlng1);\n        result = result.concat(this._adaptiveSample(latlng1, latlng2, 0));\n        result.push(latlng2);\n\n        // Make sure the arc doesn't jump between worlds\n        for (var i = 1; i < result.length; i++) {\n            result[i] = this._normalizeLatLng(result[i], result[i - 1]);\n        }\n\n        return result;\n    },\n\n    _addLegs: function(point) {\n        var pathStyles = this.options.pathStyles;\n\n        var greatCirclePoints = this._calcGreatCircle(\n            point.getLatLng(),\n            this._points[point._pos + 1].getLatLng()\n        );\n\n        point._legs = {};\n        Object.keys(pathStyles).forEach(function(layer) {\n            point._legs[layer] = DG.polyline(greatCirclePoints, pathStyles[layer]).addTo(this._layers[layer]);\n        }, this);\n\n        point._legs.mouse._point = point.once('remove', this._clearRemovingPointLegs, this);\n\n        if (this.options.editable && !DG.Browser.mobile) {\n            point._legs.mouse.on('mousedown', this._insertPointInLine, this);\n        }\n\n        if (this._map) {\n            this._layers.mouse.addLayer(point._legs.mouse);\n        }\n    },\n\n    _clearRemovingPointLegs: function(event) { // (Event)\n        this._removeLegs(event.target);\n    },\n\n    _removeLegs: function(point) { // (Ruler.LayeredMarker)\n        if (point._legs) {\n            Object.keys(point._legs).forEach(function(layer) {\n                this._layers[layer].removeLayer(point._legs[layer]);\n            }, this);\n            point._legs = null;\n        }\n    },\n\n    _updateLegs: function(point, skipPrevious) { // (Ruler.LayeredMarker, Boolean)\n        var latlng = point.getLatLng(),\n            previousPoint = this._points[point._pos - 1],\n            nextPoint = this._points[point._pos + 1],\n            self = this,\n            newPoints;\n\n        if (previousPoint && !skipPrevious) {\n            newPoints = self._calcGreatCircle(previousPoint.getLatLng(), latlng);\n\n            Object.keys(previousPoint._legs).forEach(function(layer) {\n                previousPoint._legs[layer].setLatLngs(newPoints);\n            });\n        }\n\n        if (nextPoint) {\n            newPoints = self._calcGreatCircle(latlng, nextPoint.getLatLng());\n\n            Object.keys(point._legs).forEach(function(layer) {\n                point._legs[layer].setLatLngs(newPoints);\n            });\n        }\n    },\n\n    _calcDistance: function(finishPoint, tail) { // (Ruler.LayeredMarker, Number) -> Number\n        var distance = tail ? tail : 0,\n            calcTo = finishPoint ? finishPoint._pos : this._points.length - 1;\n\n        for (var i = 0; i < calcTo; i++) {\n            distance += this._points[i].getLatLng().distanceTo(this._points[i + 1].getLatLng());\n        }\n\n        return distance;\n    },\n\n    _getFormatedDistance: function() { // () -> String\n        var distance = this._calcDistance.apply(this, arguments),\n            units = 'm';\n\n        if (distance > 1000) {\n            distance /= 1000;\n            units = 'km';\n            if (distance > 1000) {\n                distance = distance.toFixed();\n                distance = distance.slice(0, -3) + ' ' + distance.slice(-3);\n            } else {\n                distance = distance.toFixed(2).split('.').join(this.t('delimiter'));\n            }\n        } else {\n            distance = Math.round(distance);\n        }\n\n        return [distance || 0, ' ', this.t(units)].join('');\n    },\n\n    _updateDistance: function() { // ()\n        if (this._map && this._points.length) {\n            this._points[this._points.length - 1].setText(this._getFormatedDistance());\n        }\n    }\n});\n\nDG.ruler = function(latlngs, options) { // (Array, Object)\n    return new DG.Ruler(latlngs, options);\n};\n\nDG.Ruler.LayeredMarker = DG.Marker.extend({\n    options: {\n        draggable: false,\n        keyboard: false,\n        riseOnHover: true,\n        pane: 'rulerMarkerPane',\n        textDirection: 'auto', // 'auto' | 'ltr' | 'rtl'\n        iconHTML: [\n            '<img class=\"dg-ruler__label-spacer\" src=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\" width=\"26\" height=\"26\" />',\n            '<div class=\"dg-ruler__label-container\">',\n            '    <div class=\"dg-ruler__point\"></div>',\n            '    <span class=\"dg-ruler__label-distance\">0 км</span>',\n            '    <span class=\"dg-ruler__label-remove-link\"></span>',\n            '    <div class=\"dg-ruler__remove-link-overlay\"></div>',\n            '</div>'\n        ].join('\\n')\n    },\n\n    statics: {\n        domClass : 'dg-ruler__label'\n    },\n\n    addTo : function(map, layers) {\n        Object.keys(this._layers).forEach(function(name) {\n            layers[name].addLayer(this._layers[name]);\n        }, this);\n\n        this._viewport = layers;\n        return DG.Marker.prototype.addTo.call(this.on('move', this._onMove), map);\n    },\n\n    onRemove : function(map) {\n        Object.keys(this._layers).forEach(function(name) {\n            this._viewport[name].removeLayer(this._layers[name]);\n        }, this);\n        this.off('move', this._onMove);\n        this._viewport = null;\n        this._style = null;\n        return DG.Marker.prototype.onRemove.call(this, map);\n    },\n\n    setText : function(text) {\n        if (this._iconCollapsed) {\n            this.expand();\n        }\n        this._iconNodes.label.innerHTML = text;\n        this._iconNodes.label.setAttribute('dir', this.options.textDirection);\n        return this;\n    },\n\n    setPointStyle : function(style) {\n        if (this._style !== style) {\n            Object.keys(this._style = style).forEach(function(name) {\n                this._layers[name].setStyle(style[name]);\n            }, this);\n        }\n        return this;\n    },\n\n    expand : function() {\n        this._iconCollapsed = false;\n        this._iconNodes.container.style.display = 'block';\n        this._iconNodes.spacer.style.display = 'none';\n        return this;\n    },\n\n    collapse : function() {\n        this._iconCollapsed = true;\n        this._iconNodes.container.style.display = 'none';\n        this._iconNodes.spacer.style.display = 'block';\n        return this;\n    },\n\n    querySelector : function(selector) {\n        return this._icon.querySelector('.' + DG.Ruler.LayeredMarker.domClass + '-' + selector);\n    },\n\n    _onMove : function(event) {\n        var latlng = event.latlng;\n        Object.keys(this._layers).forEach(function(name) {\n            this._layers[name].setLatLng(latlng);\n        }, this);\n    },\n\n    _initIcon : function() {\n        DG.Marker.prototype._initIcon.call(this);\n        this._iconCollapsed = true;\n        this._icon.style.width = '';\n        this._iconNodes = {\n            label : this.querySelector('distance'),\n            spacer : this.querySelector('spacer'),\n            container : this.querySelector('container')\n        };\n    },\n\n    // don't change icon zIndex\n    _setPos: function(pos) {\n        L.DomUtil.setPosition(this._icon, pos);\n\n        if (this._shadow) {\n            L.DomUtil.setPosition(this._shadow, pos);\n        }\n    },\n\n    _afterInit : function() {\n        this._layers = this.options.layers || null;\n        this.options.icon = DG.divIcon({\n            className: DG.Ruler.LayeredMarker.domClass,\n            iconSize: [26, 26],\n            iconAnchor: [13, 13],\n            html: this.options.iconHTML\n        });\n    }\n\n});\n\nDG.Ruler.LayeredMarker.addInitHook('_afterInit');\n\nDG.Ruler.layeredMarker = function(latlng, options) {\n    return new DG.Ruler.LayeredMarker(latlng, options);\n};\n\nvar rulerRenderer = DG.svg({pane: 'rulerPane'});\nvar hoverRenderer = DG.svg({pane: 'rulerPane'});\n\nDG.Ruler.mergeOptions({\n    pathStyles: {\n        back: {\n            color: '#fff',\n            opacity: 1,\n            weight: 12,\n            pointerEvents: 'none',\n            noClip: true,\n            renderer: rulerRenderer,\n            smoothFactor: 0\n        },\n        middle: {\n            color: '#0da5d5',\n            opacity: 1,\n            weight: 4,\n            pointerEvents: 'none',\n            noClip: true,\n            renderer: rulerRenderer,\n            smoothFactor: 0\n        },\n        mouse: {\n            color: '#fff',\n            opacity: DG.Browser.vml ? 0.1 : 0,\n            weight: DG.Browser.touch ? 40 : 20,\n            pointerEvents: 'painted',\n            noClip: true,\n            renderer: hoverRenderer,\n            smoothFactor: 0\n        }\n    },\n    iconStyles: {\n        large: {\n            back: {\n                color: '#fff',\n                opacity: 1,\n                fillColor: '#fff',\n                fillOpacity: 1,\n                weight: 1,\n                radius: 13,\n                renderer: rulerRenderer\n            },\n            middle: {\n                color: '#0da5d5',\n                opacity: 1,\n                fillColor: '#0da5d5',\n                fillOpacity: 1,\n                weight: 1,\n                radius: 9,\n                renderer: rulerRenderer\n            },\n            front: {\n                color: '#fff',\n                opacity: 1,\n                fillColor: '#0da5d5',\n                fillOpacity: 1,\n                weight: 4,\n                radius: 5,\n                renderer: rulerRenderer\n            }\n        },\n        small: {\n            back: {\n                color: '#fff',\n                opacity: 1,\n                fillColor: '#fff',\n                fillOpacity: 1,\n                weight: 1,\n                radius: 9,\n                renderer: rulerRenderer\n            },\n            middle: {\n                color: '#0da5d5',\n                opacity: 1,\n                fillColor: '#0da5d5',\n                fillOpacity: 1,\n                weight: 1,\n                radius: 5,\n                renderer: rulerRenderer\n            },\n            front: {\n                color: '#fff',\n                opacity: 1,\n                fillColor: '#0da5d5',\n                fillOpacity: 1,\n                weight: 4,\n                radius: 2,\n                renderer: rulerRenderer\n            }\n        }\n    }\n});\n\nDG.Ruler.Dictionary.ru = {\n    km : 'км',\n    m : 'м',\n    delimiter : ','\n};\n\nDG.Ruler.Dictionary.it = {\n    km : 'km',\n    m : 'm',\n    delimiter : ','\n};\n\nDG.Ruler.Dictionary.cs = {\n    km: 'km',\n    m: 'm',\n    delimiter: ','\n};\n\nDG.Ruler.Dictionary.es = {\n    km : 'km',\n    m : 'm',\n    delimiter : ','\n};\n\nDG.Ruler.Dictionary.en = {\n    km : 'km',\n    m : 'm',\n    delimiter : '.'\n};\n\nDG.Ruler.Dictionary.ar = {\n    km : 'كم',\n    m : 'م',\n    delimiter : '.'\n};\n\nDG.Control.Ruler = DG.RoundControl.extend({\n\n    options: {\n        position: 'topright',\n        iconClass: 'ruler'\n    },\n\n    statics: {\n        Dictionary: {}\n    },\n\n    initialize: function(options) {\n        DG.setOptions(this, options);\n        DG.extend(this, {\n            _active: false,\n            _drawingHelper: null,\n            _geoclickerNeedRestore: false\n        }).on(this._controlEvents, this);\n    },\n\n    _controlEvents: {\n        add: function() {\n            this._drawingHelper = DG.ruler([]);\n        },\n        click: function() {\n            this._active = !this._active;\n\n            if (this._active) {\n                this.setState('active');\n                this._startDrawing();\n            } else {\n                this.setState('');\n                this._finishDrawing();\n            }\n        },\n        remove: function() {\n            this.off(this._controlEvents, this);\n            if (this._active) {\n                this._map.removeLayer(this._drawingHelper);\n                this._active = false;\n            }\n            this._drawingHelper = null;\n        }\n    },\n\n    _startDrawing: function() { // ()\n        this._map\n            .addLayer(this._drawingHelper)\n            .on('click', this._handleMapClick, this);\n\n        this._map.fire('rulerstart');\n    },\n\n    _finishDrawing: function() { // ()\n        this._map\n            .off('click', this._handleMapClick, this)\n            .removeLayer(this._drawingHelper);\n\n        this._drawingHelper.setLatLngs([]);\n\n        this._map.fire('rulerend');\n    },\n\n    _handleMapClick: function(event) { // (MouseEvents)\n        this._drawingHelper.addLatLng(event.latlng);\n    },\n\n    _renderTranslation: function() { // ()\n        this._link.title = this.t('button_title');\n    }\n});\n\nDG.control.ruler = function(options) {\n    return new DG.Control.Ruler(options);\n};\n\nDG.Map.mergeOptions({\n    rulerControl: false\n});\n\nDG.Map.addInitHook(function() {\n    if (this.options.rulerControl) {\n        this.rulerControl = DG.control.ruler(this.options.rulerControl);\n        this.addControl(this.rulerControl);\n    }\n});\n\nDG.Control.Ruler.Dictionary.ru = {\n    button_title: 'Линейка'\n};\n\nDG.Control.Ruler.Dictionary.it = {\n    button_title : 'Righello'\n};\n\nDG.Control.Ruler.Dictionary.cs = {\n    button_title: 'Pravítko'\n};\n\nDG.Control.Ruler.Dictionary.es = {\n    button_title : 'Regla'\n};\n\nDG.Control.Ruler.Dictionary.en = {\n    button_title : 'Ruler'\n};\n\nDG.Control.Ruler.Dictionary.ar = {\n    button_title: 'مسطرة'\n};\n\n(function(dust){dust.register(\"DGAttribution\\/copyright\",body_0);function body_0(chk,ctx){return chk.w(\"<div class=\\\"dg-attribution__copyright\\\"><ul class=\\\"dg-attribution__links\\\"><li class=\\\"dg-attribution__link-item\\\">\").x(ctx.get([\"osm\"], false),ctx,{\"else\":body_1,\"block\":body_2},{}).w(\"</li><li class=\\\"dg-attribution__link-item\\\"><a href=\\\"\").f(ctx.get([\"copyright_license\"], false),ctx,\"h\").w(\"\\\" target=\\\"_blank\\\" class=\\\"dg-attribution__link\\\">\").f(ctx.get([\"license_agreement\"], false),ctx,\"h\").w(\"</a></li></ul><a href=\\\"\").f(ctx.get([\"copyright_logo\"], false),ctx,\"h\").w(\"\\\" target=\\\"_blank\\\" class=\\\"dg-attribution__logo-url\\\"></a></div>\");}body_0.__dustBody=!0;function body_1(chk,ctx){return chk.w(\"<a href=\\\"\").f(ctx.get([\"copyright_apilink\"], false),ctx,\"h\").w(\"\\\" target=\\\"_blank\\\" class=\\\"dg-attribution__link\\\" dir=\\\"\").f(ctx.get([\"dir\"], false),ctx,\"h\").w(\"\\\">\").f(ctx.get([\"work_on\"], false),ctx,\"h\").w(\"</a>\");}body_1.__dustBody=!0;function body_2(chk,ctx){return chk.w(\"© <a href=\\\"http://www.openstreetmap.org/copyright\\\" target=\\\"_blank\\\" class=\\\"dg-attribution__link\\\">OpenStreetMap contributors</a>, <a href=\\\"\").f(ctx.get([\"copyright_apilink\"], false),ctx,\"h\").w(\"\\\" target=\\\"_blank\\\" class=\\\"dg-attribution__link\\\" dir=\\\"\").f(ctx.get([\"dir\"], false),ctx,\"h\").w(\"\\\">\").f(ctx.get([\"work_on_with_osm\"], false),ctx,\"h\").w(\"</a>\");}body_2.__dustBody=!0;return body_0}(dust));\n(function(dust){dust.register(\"DGGeoclicker\\/cityarea\",body_0);function body_0(chk,ctx){return chk.w(\"<div class=\\\"dg-map-geoclicker__purpose dg-map-geoclicker__purpose_type_\").f(ctx.get([\"type\"], false),ctx,\"h\").w(\"\\\">\").f(ctx.get([\"purpose\"], false),ctx,\"h\").w(\"</div>\").s(ctx.get([\"drilldown\"], false),ctx,{\"block\":body_1},{});}body_0.__dustBody=!0;function body_1(chk,ctx){return chk.w(\"<div class=\\\"dg-map-geoclicker__drilldown\\\">\").f(ctx.get([\"drilldown\"], false),ctx,\"h\").w(\"</div>\");}body_1.__dustBody=!0;return body_0}(dust));\n(function(dust){dust.register(\"DGGeoclicker\\/firmCardAddr\",body_0);function body_0(chk,ctx){return chk.w(\"<address class=\\\"dg-firm-card__address dg-firm-card__icon\\\">\").f(ctx.get([\"address\"], false),ctx,\"h\").s(ctx.get([\"comment\"], false),ctx,{\"block\":body_1},{}).w(\"</address>\");}body_0.__dustBody=!0;function body_1(chk,ctx){return chk.w(\"<span class=\\\"dg-firm-card__comment\\\">&mdash; \").f(ctx.getPath(true, []),ctx,\"h\").w(\"</span>\");}body_1.__dustBody=!0;return body_0}(dust));\n(function(dust){dust.register(\"DGGeoclicker\\/firmCardContacts\",body_0);function body_0(chk,ctx){return chk.s(ctx.get([\"groups\"], false),ctx,{\"block\":body_1},{});}body_0.__dustBody=!0;function body_1(chk,ctx){return chk.s(ctx.get([\"contacts\"], false),ctx,{\"block\":body_2},{});}body_1.__dustBody=!0;function body_2(chk,ctx){return chk.h(\"select\",ctx,{\"block\":body_3},{\"key\":ctx.get([\"type\"], false),\"type\":\"string\"},\"h\");}body_2.__dustBody=!0;function body_3(chk,ctx){return chk.h(\"eq\",ctx,{\"block\":body_4},{\"value\":\"phone\",\"type\":\"string\"},\"h\").h(\"eq\",ctx,{\"block\":body_6},{\"value\":\"fax\",\"type\":\"string\"},\"h\").h(\"eq\",ctx,{\"block\":body_8},{\"value\":\"website\",\"type\":\"string\"},\"h\").h(\"eq\",ctx,{\"block\":body_9},{\"value\":\"email\",\"type\":\"string\"},\"h\");}body_3.__dustBody=!0;function body_4(chk,ctx){return chk.w(\"<div class=\\\"dg-firm-card__phone dg-firm-card__icon\\\"><span class=\\\"dg-firm-card__phone-num\\\">\").f(ctx.get([\"text\"], false),ctx,\"h\").s(ctx.get([\"comment\"], false),ctx,{\"block\":body_5},{}).w(\"</span></div>\");}body_4.__dustBody=!0;function body_5(chk,ctx){return chk.w(\"<span class=\\\"dg-firm-card__comment\\\" title=\\\"\").f(ctx.getPath(true, []),ctx,\"h\").w(\"\\\">&mdash;&nbsp;&nbsp;\").f(ctx.getPath(true, []),ctx,\"h\").w(\"</span>\");}body_5.__dustBody=!0;function body_6(chk,ctx){return chk.w(\"<div class=\\\"dg-firm-card__phone dg-firm-card__icon\\\"><span class=\\\"dg-firm-card__phone-num\\\">\").f(ctx.get([\"text\"], false),ctx,\"h\").s(ctx.get([\"comment\"], false),ctx,{\"block\":body_7},{}).w(\"</span></div>\");}body_6.__dustBody=!0;function body_7(chk,ctx){return chk.w(\"<span class=\\\"dg-firm-card__comment\\\" title=\\\"\").f(ctx.getPath(true, []),ctx,\"h\").w(\"\\\">&mdash;&nbsp;&nbsp;\").f(ctx.getPath(true, []),ctx,\"h\").w(\"</span>\");}body_7.__dustBody=!0;function body_8(chk,ctx){return chk.w(\"<div class=\\\"dg-firm-card__link dg-firm-card__site dg-firm-card__icon\\\"><a href=\\\"\").f(ctx.get([\"url\"], false),ctx,\"h\").w(\"\\\" target=\\\"_blank\\\" class=\\\"dg-link_scheme_dark dg-firm-card__sitelink\\\">\").f(ctx.get([\"text\"], false),ctx,\"h\").w(\"</a></div>\");}body_8.__dustBody=!0;function body_9(chk,ctx){return chk.w(\"<div class=\\\"dg-firm-card__link dg-firm-card__email dg-firm-card__icon\\\"><a href=\\\"mailto:\").f(ctx.get([\"value\"], false),ctx,\"h\").w(\"\\\">\").f(ctx.get([\"value\"], false),ctx,\"h\").w(\"</a></div>\");}body_9.__dustBody=!0;return body_0}(dust));\n(function(dust){dust.register(\"DGGeoclicker\\/firmCardHeader\",body_0);function body_0(chk,ctx){return chk.w(\"<div class=\\\"dg-popup__header-title dg-popup__header-title_for_firmcard\\\" title=\\\"\").f(ctx.get([\"firmName\"], false),ctx,\"h\").w(\"\\\">\").f(ctx.get([\"firmName\"], false),ctx,\"h\").w(\"</div>\").x(ctx.get([\"links\"], false),ctx,{\"block\":body_1},{});}body_0.__dustBody=!0;function body_1(chk,ctx){return chk.w(\"<div class=\\\"dg-popup__header-links\\\">\").s(ctx.get([\"links\"], false),ctx,{\"block\":body_2},{}).w(\"</div>\");}body_1.__dustBody=!0;function body_2(chk,ctx){return chk.h(\"eq\",ctx,{\"else\":body_3,\"block\":body_6},{\"key\":body_7,\"value\":\"flamp_stars\",\"type\":\"string\"},\"h\");}body_2.__dustBody=!0;function body_3(chk,ctx){return chk.w(\"<a class=\\\"dg-popup__header-link dg-popup__link dg-popup__link_type_\").f(ctx.get([\"name\"], false),ctx,\"h\").w(\"\\\"\").x(ctx.get([\"href\"], false),ctx,{\"else\":body_4,\"block\":body_5},{}).w(\">\").f(ctx.get([\"label\"], false),ctx,\"h\").w(\"</a>\");}body_3.__dustBody=!0;function body_4(chk,ctx){return chk.w(\"href=\\\"javascript:void(0)\\\"\");}body_4.__dustBody=!0;function body_5(chk,ctx){return chk.w(\"href=\").f(ctx.get([\"href\"], false),ctx,\"h\").w(\" target=\\\"_blank\\\"\");}body_5.__dustBody=!0;function body_6(chk,ctx){return chk.w(\"<div class=\\\"dg-popup__rating\\\"><div class=\\\"dg-popup__rating-stars\\\" style=\\\"width: \").f(ctx.get([\"width\"], false),ctx,\"h\").w(\"%\\\"></div></div>\");}body_6.__dustBody=!0;function body_7(chk,ctx){return chk.f(ctx.get([\"name\"], false),ctx,\"h\");}body_7.__dustBody=!0;return body_0}(dust));\n(function(dust){dust.register(\"DGGeoclicker\\/firmCardRubric\",body_0);function body_0(chk,ctx){return chk.s(ctx.get([\"rubrics\"], false),ctx,{\"block\":body_1},{});}body_0.__dustBody=!0;function body_1(chk,ctx){return chk.w(\"<section class=\\\"dg-firm-card__rubrics\\\">\").x(ctx.get([\"primary\"], false),ctx,{\"block\":body_2},{}).x(ctx.get([\"additional\"], false),ctx,{\"block\":body_4},{}).w(\"</section>\");}body_1.__dustBody=!0;function body_2(chk,ctx){return chk.w(\"<ul class=\\\"dg-firm-card__rubrics-list dg-firm-card__rubrics-list_type_primary\\\">\").s(ctx.get([\"primary\"], false),ctx,{\"block\":body_3},{}).w(\"</ul>\");}body_2.__dustBody=!0;function body_3(chk,ctx){return chk.w(\"<li class=\\\"dg-firm-card__rubrics-list-item\\\">\").f(ctx.get([\"name\"], false),ctx,\"h\").w(\"</li>\");}body_3.__dustBody=!0;function body_4(chk,ctx){return chk.w(\"<ul class=\\\"dg-firm-card__rubrics-list dg-firm-card__rubrics-list_type_additional\\\">\").s(ctx.get([\"additional\"], false),ctx,{\"block\":body_5},{}).w(\"</ul>\");}body_4.__dustBody=!0;function body_5(chk,ctx){return chk.w(\"<li class=\\\"dg-firm-card__rubrics-list-item\\\">\").f(ctx.get([\"name\"], false),ctx,\"h\").w(\"</li>\");}body_5.__dustBody=!0;return body_0}(dust));\n(function(dust){dust.register(\"DGGeoclicker\\/firmCardSchedule\",body_0);function body_0(chk,ctx){return chk.w(\"<div class=\\\"dg-firm-card__schedule dg-schedule dg-schedule_open_\").x(ctx.getPath(false, [\"forecast\",\"open\"]),ctx,{\"else\":body_1,\"block\":body_2},{}).w(\" dg-schedule_works-everyday_\").x(ctx.getPath(false, [\"schedule\",\"everyday\"]),ctx,{\"else\":body_3,\"block\":body_4},{}).w(\"\\\">\").x(ctx.get([\"schedule\"], false),ctx,{\"block\":body_5},{}).w(\"</div>\");}body_0.__dustBody=!0;function body_1(chk,ctx){return chk.w(\"false\");}body_1.__dustBody=!0;function body_2(chk,ctx){return chk.w(\"true\");}body_2.__dustBody=!0;function body_3(chk,ctx){return chk.w(\"false\");}body_3.__dustBody=!0;function body_4(chk,ctx){return chk.w(\"true\");}body_4.__dustBody=!0;function body_5(chk,ctx){return chk.x(ctx.getPath(false, [\"forecast\",\"today\"]),ctx,{\"block\":body_6},{}).s(ctx.getPath(false, [\"forecast\",\"now\"]),ctx,{\"block\":body_10},{}).nx(ctx.getPath(false, [\"schedule\",\"everyday\"]),ctx,{\"block\":body_12},{});}body_5.__dustBody=!0;function body_6(chk,ctx){return chk.w(\"<div class=\\\"dg-schedule__today\\\"><div class=\\\"dg-schedule__today-inner\\\">\").f(ctx.getPath(false, [\"forecast\",\"today\",\"text\"]),ctx,\"h\").w(\"&nbsp;\").x(ctx.getPath(false, [\"forecast\",\"today\",\"from\"]),ctx,{\"block\":body_7},{}).x(ctx.getPath(false, [\"schedule\",\"lunch\"]),ctx,{\"block\":body_8},{}).w(\"</div></div>\");}body_6.__dustBody=!0;function body_7(chk,ctx){return chk.f(ctx.getPath(false, [\"forecast\",\"today\",\"from\"]),ctx,\"h\").w(\"&ndash;\").f(ctx.getPath(false, [\"forecast\",\"today\",\"to\"]),ctx,\"h\");}body_7.__dustBody=!0;function body_8(chk,ctx){return chk.w(\",&nbsp;\").f(ctx.getPath(false, [\"forecast\",\"today\",\"lunchStr\"]),ctx,\"h\").w(\"&nbsp;\").s(ctx.getPath(false, [\"schedule\",\"lunch\"]),ctx,{\"block\":body_9},{});}body_8.__dustBody=!0;function body_9(chk,ctx){return chk.f(ctx.get([\"from\"], false),ctx,\"h\").w(\"&ndash;\").f(ctx.get([\"to\"], false),ctx,\"h\");}body_9.__dustBody=!0;function body_10(chk,ctx){return chk.w(\"<div class=\\\"dg-schedule__now\\\"><span class=\\\"dg-schedule__now-text\\\">\").f(ctx.getPath(true, []),ctx,\"h\").s(ctx.getPath(false, [\"schedule\",\"comment\"]),ctx,{\"block\":body_11},{}).w(\"</span></div>\");}body_10.__dustBody=!0;function body_11(chk,ctx){return chk.w(\", \").f(ctx.getPath(true, []),ctx,\"h\");}body_11.__dustBody=!0;function body_12(chk,ctx){return chk.x(ctx.getPath(false, [\"schedule\",\"week\"]),ctx,{\"block\":body_13},{});}body_12.__dustBody=!0;function body_13(chk,ctx){return chk.x(ctx.getPath(false, [\"schedule\",\"week\",\"evently\"]),ctx,{\"block\":body_14},{}).x(ctx.getPath(false, [\"schedule\",\"week\",\"table\"]),ctx,{\"block\":body_22},{});}body_13.__dustBody=!0;function body_14(chk,ctx){return chk.w(\"<div class=\\\"dg-schedule__table\\\">\").s(ctx.getPath(false, [\"schedule\",\"week\",\"evently\"]),ctx,{\"block\":body_15},{}).w(\"</div>\");}body_14.__dustBody=!0;function body_15(chk,ctx){return chk.w(\"<div class=\\\"dg-schedule__string\\\">\").x(ctx.get([\"alltime\"], false),ctx,{\"block\":body_16},{}).x(ctx.get([\"everyday\"], false),ctx,{\"else\":body_17,\"block\":body_18},{}).x(ctx.get([\"holiday\"], false),ctx,{\"else\":body_19,\"block\":body_21},{}).w(\"</div>\");}body_15.__dustBody=!0;function body_16(chk,ctx){return chk.f(ctx.get([\"alltimeStr\"], false),ctx,\"h\");}body_16.__dustBody=!0;function body_17(chk,ctx){return chk.f(ctx.get([\"dayList\"], false),ctx,\"h\");}body_17.__dustBody=!0;function body_18(chk,ctx){return chk.f(ctx.getPath(false, [\"forecast\",\"today\",\"text\"]),ctx,\"h\");}body_18.__dustBody=!0;function body_19(chk,ctx){return chk.w(\"<span class=\\\"schedule__string-time\\\">&nbsp;\").f(ctx.get([\"from\"], false),ctx,\"h\").w(\"&ndash;\").f(ctx.get([\"to\"], false),ctx,\"h\").w(\"</span>\").s(ctx.get([\"lunch\"], false),ctx,{\"block\":body_20},{});}body_19.__dustBody=!0;function body_20(chk,ctx){return chk.w(\"<p>\").f(ctx.get([\"lunchStr\"], false),ctx,\"h\").w(\"&mdash;<span class=\\\"schedule__string-time\\\">\").f(ctx.get([\"from\"], false),ctx,\"h\").w(\"&ndash;\").f(ctx.get([\"to\"], false),ctx,\"h\").w(\"</span></p>\");}body_20.__dustBody=!0;function body_21(chk,ctx){return chk.w(\"&nbsp;&mdash;<span class=\\\"schedule__string-time\\\">&nbsp;\").f(ctx.get([\"holidayStr\"], false),ctx,\"h\").w(\"</span>\");}body_21.__dustBody=!0;function body_22(chk,ctx){return chk.w(\"<div><div class=\\\"dg-schedule__table\\\"><div class=\\\"dg-schedule__tc dg-schedule__tc_pre\\\"><div class=\\\"dg-schedule__day-name\\\">&nbsp;</div><div class=\\\"dg-schedule__table-clock dg-schedule__td\\\"></div>\").x(ctx.getPath(false, [\"schedule\",\"week\",\"hasLunch\"]),ctx,{\"block\":body_23},{}).w(\"</div>\").s(ctx.getPath(false, [\"schedule\",\"week\",\"table\"]),ctx,{\"block\":body_24},{}).w(\"</div>  </div>\");}body_22.__dustBody=!0;function body_23(chk,ctx){return chk.w(\"<div class=\\\"dg-schedule__table-lunch dg-schedule__td\\\"></div>\");}body_23.__dustBody=!0;function body_24(chk,ctx){return chk.h(\"if\",ctx,{\"block\":body_25},{\"cond\":body_26},\"h\").w(\"<div class=\\\"dg-schedule__tc\").x(ctx.get([\"active\"], false),ctx,{\"block\":body_27},{}).w(\"\\\"><div class=\\\"dg-schedule__day-name\\\">\").f(ctx.get([\"key\"], false),ctx,\"h\").w(\"</div><div class=\\\"dg-schedule__td\\\">\").x(ctx.get([\"from\"], false),ctx,{\"else\":body_28,\"block\":body_29},{}).w(\"</div>\").s(ctx.get([\"lunch\"], false),ctx,{\"block\":body_30},{}).w(\"</div> \").h(\"if\",ctx,{\"block\":body_33},{\"cond\":body_34},\"h\");}body_24.__dustBody=!0;function body_25(chk,ctx){return chk.w(\"<span class=\\\"dg-schedule__table-cell-group\\\">\");}body_25.__dustBody=!0;function body_26(chk,ctx){return chk.w(\"(\").f(ctx.get([\"$idx\"], false),ctx,\"h\").w(\" == \").f(ctx.get([\"$len\"], false),ctx,\"h\").w(\" - 2)\");}body_26.__dustBody=!0;function body_27(chk,ctx){return chk.w(\" dg-schedule__tc_active_true\");}body_27.__dustBody=!0;function body_28(chk,ctx){return chk.w(\"&ndash;\");}body_28.__dustBody=!0;function body_29(chk,ctx){return chk.f(ctx.get([\"from\"], false),ctx,\"h\").w(\" \").f(ctx.get([\"to\"], false),ctx,\"h\");}body_29.__dustBody=!0;function body_30(chk,ctx){return chk.w(\"<div class=\\\"dg-schedule__td\\\">\").x(ctx.get([\"from\"], false),ctx,{\"else\":body_31,\"block\":body_32},{}).w(\"</div>\");}body_30.__dustBody=!0;function body_31(chk,ctx){return chk.w(\"&ndash;\");}body_31.__dustBody=!0;function body_32(chk,ctx){return chk.f(ctx.get([\"from\"], false),ctx,\"h\").w(\" \").f(ctx.get([\"to\"], false),ctx,\"h\");}body_32.__dustBody=!0;function body_33(chk,ctx){return chk.w(\"</span>\");}body_33.__dustBody=!0;function body_34(chk,ctx){return chk.w(\"(\").f(ctx.get([\"$idx\"], false),ctx,\"h\").w(\" == \").f(ctx.get([\"$len\"], false),ctx,\"h\").w(\")\");}body_34.__dustBody=!0;return body_0}(dust));\n(function(dust){dust.register(\"DGGeoclicker\\/firmlistItem\",body_0);function body_0(chk,ctx){return chk.w(\"<a id=\\\"\").f(ctx.getPath(false, [\"firm\",\"id\"]),ctx,\"h\").w(\"\\\" class=\\\"dg-popup__link\\\" href=\\\"#\\\">\").f(ctx.getPath(false, [\"firm\",\"name\"]),ctx,\"h\").w(\"</a>\");}body_0.__dustBody=!0;return body_0}(dust));\n(function(dust){dust.register(\"DGGeoclicker\\/frimCardPayments\",body_0);function body_0(chk,ctx){return chk.x(ctx.get([\"payments\"], false),ctx,{\"block\":body_1},{});}body_0.__dustBody=!0;function body_1(chk,ctx){return chk.w(\"<section class=\\\"dg-firm-card__aa\\\"><ul class=\\\"dg-firm-card__aa-list\\\">\").s(ctx.get([\"payments\"], false),ctx,{\"block\":body_2},{}).w(\"</ul></section>\");}body_1.__dustBody=!0;function body_2(chk,ctx){return chk.w(\"<li class=\\\"dg-firm-card__aa-list-item\\\">\").f(ctx.getPath(true, []),ctx,\"h\").w(\"</li>\");}body_2.__dustBody=!0;return body_0}(dust));\n(function(dust){dust.register(\"DGGeoclicker\\/house\",body_0);function body_0(chk,ctx){return chk.s(ctx.get([\"address\"], false),ctx,{\"block\":body_1},{}).s(ctx.get([\"purpose\"], false),ctx,{\"block\":body_4},{}).s(ctx.get([\"attractions\"], false),ctx,{\"block\":body_5},{});}body_0.__dustBody=!0;function body_1(chk,ctx){return chk.w(\"<address class=\\\"dg-map-geoclicker__address\\\">\").s(ctx.getPath(false, [\"address\",\"header\"]),ctx,{\"block\":body_2},{}).s(ctx.getPath(false, [\"address\",\"drilldown\"]),ctx,{\"block\":body_3},{}).w(\"</address>\");}body_1.__dustBody=!0;function body_2(chk,ctx){return chk.w(\"<div class=\\\"dg-map-geoclicker__address-header\\\">\").f(ctx.getPath(true, []),ctx,\"h\").w(\"</div>\");}body_2.__dustBody=!0;function body_3(chk,ctx){return chk.w(\"<div class=\\\"dg-map-geoclicker__address-drilldown\\\">\").f(ctx.getPath(true, []),ctx,\"h\").w(\"</div>\");}body_3.__dustBody=!0;function body_4(chk,ctx){return chk.w(\"<div class=\\\"dg-map-geoclicker__purpose\\\">\").f(ctx.getPath(true, []),ctx,\"h\").w(\"</div>\");}body_4.__dustBody=!0;function body_5(chk,ctx){return chk.w(\"<div class=\\\"dg-map-geoclicker__purpose dg-map-geoclicker__purpose_type_sight\\\">\").f(ctx.getPath(true, []),ctx,\"h\").w(\"</div>\");}body_5.__dustBody=!0;return body_0}(dust));\n(function(dust){dust.register(\"DGGeoclicker\\/loader\",body_0);function body_0(chk,ctx){return chk.w(\"<div class=\\\"dg-preloader dg-preloader_scheme_regular dg-preloader_animation_\").x(ctx.get([\"anim\"], false),ctx,{\"else\":body_1,\"block\":body_2},{}).x(ctx.get([\"small\"], false),ctx,{\"block\":body_3},{}).w(\"\\\"></div>\");}body_0.__dustBody=!0;function body_1(chk,ctx){return chk.w(\"false\");}body_1.__dustBody=!0;function body_2(chk,ctx){return chk.w(\"true\");}body_2.__dustBody=!0;function body_3(chk,ctx){return chk.w(\" dg-preloader_size_small\");}body_3.__dustBody=!0;return body_0}(dust));\n(function(dust){dust.register(\"DGGeoclicker\\/popupFooter\",body_0);function body_0(chk,ctx){return chk.w(\"<div class=\\\"dg-popup__footer-title\\\"><a class=\\\"dg-popup__show-less-house-link\\\" href=\\\"javascript:void(0)\\\">\").f(ctx.get([\"hideFirmsText\"], false),ctx,\"h\").w(\"</a></div>\");}body_0.__dustBody=!0;return body_0}(dust));\n(function(dust){dust.register(\"DGGeoclicker\\/popupFooterBtns\",body_0);function body_0(chk,ctx){return chk.x(ctx.get([\"btns\"], false),ctx,{\"block\":body_1},{});}body_0.__dustBody=!0;function body_1(chk,ctx){return chk.w(\"<footer class=\\\"dg-popup__footer-buttons\\\">\").s(ctx.get([\"btns\"], false),ctx,{\"block\":body_2},{}).w(\"</footer>\");}body_1.__dustBody=!0;function body_2(chk,ctx){return chk.w(\"<div class=\\\"dg-popup__footer-button-wrapper\\\"><a class=\\\"dg-popup__button_name_\").f(ctx.get([\"name\"], false),ctx,\"h\").w(\" dg-popup__footer-button\").x(ctx.get([\"icon\"], false),ctx,{\"block\":body_3},{}).w(\"\\\"\").x(ctx.get([\"href\"], false),ctx,{\"else\":body_4,\"block\":body_5},{}).w(\">\").f(ctx.get([\"label\"], false),ctx,\"h\").w(\"</a></div>\");}body_2.__dustBody=!0;function body_3(chk,ctx){return chk.w(\" dg-popup__footer-icon-button\");}body_3.__dustBody=!0;function body_4(chk,ctx){return chk.w(\"href=\\\"javascript:void(0)\\\"\");}body_4.__dustBody=!0;function body_5(chk,ctx){return chk.w(\"href=\").f(ctx.get([\"href\"], false),ctx,\"h\").w(\" target=\\\"_blank\\\"\");}body_5.__dustBody=!0;return body_0}(dust));\n(function(dust){dust.register(\"DGGeoclicker\\/popupHeader\",body_0);function body_0(chk,ctx){return chk.s(ctx.get([\"title\"], false),ctx,{\"block\":body_1},{});}body_0.__dustBody=!0;function body_1(chk,ctx){return chk.w(\"<div class=\\\"dg-popup__header-title\\\">\").f(ctx.getPath(true, []),ctx,\"h\").w(\"</div>\");}body_1.__dustBody=!0;return body_0}(dust));\n(function(dust){dust.register(\"DGGeoclicker\\/sight\",body_0);function body_0(chk,ctx){return chk.s(ctx.get([\"purpose\"], false),ctx,{\"block\":body_1},{}).s(ctx.get([\"address\"], false),ctx,{\"block\":body_2},{}).s(ctx.get([\"description\"], false),ctx,{\"block\":body_5},{});}body_0.__dustBody=!0;function body_1(chk,ctx){return chk.w(\"<div class=\\\"dg-map-geoclicker__purpose dg-map-geoclicker__purpose_type_sight\\\">\").f(ctx.getPath(true, []),ctx,\"h\").w(\"</div>\");}body_1.__dustBody=!0;function body_2(chk,ctx){return chk.w(\"<address class=\\\"dg-map-geoclicker__address\\\">\").s(ctx.getPath(false, [\"address\",\"header\"]),ctx,{\"block\":body_3},{}).s(ctx.getPath(false, [\"address\",\"drilldown\"]),ctx,{\"block\":body_4},{}).w(\"</address>\");}body_2.__dustBody=!0;function body_3(chk,ctx){return chk.w(\"<div class=\\\"dg-map-geoclicker__address-header\\\">\").f(ctx.getPath(true, []),ctx,\"h\").w(\"</div>\");}body_3.__dustBody=!0;function body_4(chk,ctx){return chk.w(\"<div class=\\\"dg-map-geoclicker__address-drilldown\\\">\").f(ctx.getPath(true, []),ctx,\"h\").w(\"</div>\");}body_4.__dustBody=!0;function body_5(chk,ctx){return chk.w(\"<div class=\\\"dg-map-geoclicker__sight-description\\\">\").f(ctx.getPath(true, []),ctx,\"h\").w(\"</div>\").s(ctx.get([\"showMoreText\"], false),ctx,{\"block\":body_6},{});}body_5.__dustBody=!0;function body_6(chk,ctx){return chk.w(\"<a class=\\\"dg-map-geoclicker__show-more-sights-link\\\" href=\\\"javascript:void(0)\\\">\").f(ctx.getPath(true, []),ctx,\"h\").w(\"</a>\");}body_6.__dustBody=!0;return body_0}(dust));DG.fallbackProjectsList = JSON.parse('[{\"name\":\"Cyprus\",\"flags\":{\"metro\":false,\"has_net_booklet\":true,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":false,\"road_network\":true},\"domain\":\"com.cy\",\"bounds\":\"POLYGON((34.280779 35.226702,34.230518 35.176645,34.311619 35.053578,34.333255 34.94624,34.30553 34.86475,34.246532 34.802092,34.131869 34.756001,33.987598 34.764336,33.917176 34.742875,33.835702 34.739903,33.790212 34.684859,33.72822 34.642865,33.448103 34.538793,33.259541 34.501493,33.192432 34.413254,33.066976 34.363612,32.915196 34.369952,32.805837 34.40138,32.743846 34.438844,32.58024 34.461878,32.38906 34.52014,32.257081 34.592284,32.192743 34.651138,32.082486 34.819072,32.02449 35.022688,32.045537 35.17596,32.115025 35.264403,32.213492 35.309184,32.362822 35.30542,32.471669 35.368093,32.671189 35.399121,32.678969 35.453037,32.711632 35.513637,32.766439 35.562413,32.837579 35.594163,32.949971 35.603965,33.302016 35.553834,33.553453 35.562031,33.937128 35.666397,34.067997 35.744069,34.543625 35.906784,34.67294 35.905835,34.78423 35.852299,34.837429 35.785874,34.855318 35.707916,34.841183 35.642705,34.776411 35.536547,34.710709 35.47953,34.280779 35.226702))\",\"zoom_level\":{\"min\":8,\"max\":19},\"code\":\"cyprus\",\"country_code\":\"cy\",\"id\":\"173\",\"type\":\"region\",\"time_zone\":{\"name\":\"Asia/Nicosia\",\"offset\":180}},{\"name\":\"Dubai. Sharjah. Ajman\",\"flags\":{\"metro\":true,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":false,\"traffic\":true,\"road_network\":true},\"domain\":\"ae\",\"bounds\":\"POLYGON((55.665917 25.064124,55.672767 24.999998,55.711847 24.967028,55.71658 24.834622,55.739179 24.75341,55.58799 24.71345,55.56927 24.682478,55.520958 24.654226,55.331943 24.625137,55.212666 24.656029,55.188406 24.682019,55.106521 24.715319,55.028704 24.82491,54.886953 24.911904,54.715398 25.069339,54.820977 25.181934,54.904421 25.226069,54.947577 25.351786,55.067949 25.500619,55.17036 25.560219,55.279599 25.566579,55.37579 25.69898,55.54617 25.498799,55.708833 25.421307,55.642643 25.174119,55.665917 25.064124))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"dubai\",\"country_code\":\"ae\",\"id\":\"99\",\"type\":\"region\",\"time_zone\":{\"name\":\"Asia/Dubai\",\"offset\":240}},{\"name\":\"Praha\",\"flags\":{\"metro\":true,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":false,\"road_network\":true},\"domain\":\"cz\",\"bounds\":\"POLYGON((14.219495 49.934897,14.215528 50.17879,14.713797 50.181086,14.715245 49.937173,14.219495 49.934897))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"praha\",\"country_code\":\"cz\",\"id\":\"92\",\"type\":\"region\",\"time_zone\":{\"name\":\"Europe/Prague\",\"offset\":120}},{\"name\":\"Santiago\",\"flags\":{\"metro\":true,\"2gis_reviews\":false,\"public_transport\":true,\"flamp\":false,\"road_network\":true},\"domain\":\"cl\",\"bounds\":\"POLYGON((-70.483526 -33.665691,-70.857156 -33.660641,-70.849333 -33.293335,-70.477276 -33.298315,-70.483526 -33.665691))\",\"zoom_level\":{\"min\":8,\"max\":19},\"code\":\"santiago\",\"country_code\":\"cl\",\"id\":\"101\",\"type\":\"region\",\"time_zone\":{\"name\":\"America/Santiago\",\"offset\":-180}},{\"name\":\"Venezia e Padova\",\"flags\":{\"metro\":false,\"2gis_reviews\":false,\"public_transport\":true,\"flamp\":false,\"road_network\":false},\"domain\":\"it\",\"bounds\":\"POLYGON((11.381405 45.733677,12.61199 45.701369,12.572035 45.071337,11.355023 45.102946,11.381405 45.733677))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"padova\",\"country_code\":\"it\",\"id\":\"66\",\"type\":\"region\",\"time_zone\":{\"name\":\"Europe/Rome\",\"offset\":120}},{\"name\":\"Абакан\",\"flags\":{\"metro\":false,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((91.144335 53.893079,91.817626 53.901599,91.826689 53.577496,91.158554 53.569076,91.144335 53.893079))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"abakan\",\"country_code\":\"ru\",\"id\":\"69\",\"type\":\"region\",\"time_zone\":{\"name\":\"Asia/Krasnoyarsk\",\"offset\":420}},{\"name\":\"Актау\",\"flags\":{\"metro\":false,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":false,\"road_network\":true},\"domain\":\"kz\",\"bounds\":\"POLYGON((50.989242 43.559453,50.700278 43.960347,50.548767 44.143806,50.310331 44.173939,50.159119 44.240731,50.077464 44.316906,50.050169 44.386403,50.033572 44.549467,49.924839 44.758753,49.858647 44.834275,49.815392 44.920822,49.810497 44.995622,49.847194 45.094706,49.8831 45.134367,49.961917 45.172278,50.074094 45.193608,50.363547 45.194894,50.707747 45.080803,50.871631 45.115622,51.078633 45.264022,51.269189 45.462642,51.342392 45.507019,51.730008 45.592703,52.155669 45.534531,52.290372 45.552439,52.471922 45.607825,52.541508 45.719714,53.204813 45.361991,53.554441 45.304917,53.812126 45.218172,54.179526 45.035255,54.199893 44.961962,54.295384 44.966118,54.313581 44.90285,54.248564 44.85274,54.5737 44.715114,54.764596 44.731684,55.523533 44.506984,55.620943 44.528128,55.804195 44.46278,55.998725 44.436752,55.994149 42.60045,55.816587 42.184507,55.696231 42.072576,55.445782 41.959161,55.21846 41.916605,54.953666 41.907111,54.779408 42.052145,54.216368 42.37921,53.570558 42.288924,52.984788 42.121175,52.449984 41.761967,52.335076 41.719338,52.259144 41.724447,52.229019 42.117106,52.258633 42.212153,52.440644 42.469697,52.392847 42.601758,52.195397 42.6508,51.836542 42.695872,51.737094 42.757403,51.635567 42.893483,51.557783 42.967481,51.262286 43.003889,51.132642 43.05145,51.077578 43.123231,51.071017 43.160703,51.096811 43.450783,50.989242 43.559453))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"aktau\",\"country_code\":\"kz\",\"id\":\"196\",\"type\":\"region\",\"time_zone\":{\"name\":\"Asia/Aqtau\",\"offset\":300}},{\"name\":\"Актобе\",\"flags\":{\"metro\":false,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":false,\"road_network\":true},\"domain\":\"kz\",\"bounds\":\"POLYGON((57.072839 50.14836,57.028468 50.173757,57.039338 50.391376,57.066857 50.403663,57.413514 50.403416,57.463802 50.377448,57.440597 50.31981,57.436186 50.186005,57.39508 50.151762,57.244292 50.130843,57.072839 50.14836))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"aktobe\",\"country_code\":\"kz\",\"id\":\"167\",\"type\":\"region\",\"time_zone\":{\"name\":\"Asia/Aqtobe\",\"offset\":300}},{\"name\":\"Алматы\",\"flags\":{\"metro\":true,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":false,\"traffic\":true,\"road_network\":true},\"domain\":\"kz\",\"bounds\":\"POLYGON((76.72599 43.469093,77.1084 43.462692,77.096182 43.108051,76.715991 43.114387,76.72599 43.469093))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"almaty\",\"country_code\":\"kz\",\"id\":\"67\",\"type\":\"region\",\"time_zone\":{\"name\":\"Asia/Almaty\",\"offset\":360}},{\"name\":\"Альметьевск\",\"flags\":{\"metro\":false,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((52.223466 54.858607,52.225581 54.896841,52.201091 54.925634,52.271902 54.972811,52.353207 54.986941,52.466983 54.87767,52.482409 54.827772,52.452724 54.803623,52.391155 54.816144,52.308586 54.807339,52.231899 54.837975,52.223466 54.858607))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"almetevsk\",\"country_code\":\"ru\",\"id\":\"108\",\"type\":\"region\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180}},{\"name\":\"Армавир\",\"flags\":{\"metro\":false,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((41.306107 44.718112,41.249612 44.671822,41.186821 44.715704,41.1145 44.66542,41.070272 44.69744,41.054013 44.687595,41.018874 44.743803,40.974331 44.728943,40.940735 44.766746,40.900976 44.752949,40.873061 44.793149,40.838805 44.781364,40.800459 44.857603,40.902811 44.893435,40.864347 44.961848,40.900608 44.987223,40.842616 45.033578,40.878791 45.056262,40.854148 45.076757,40.900974 45.107242,40.866832 45.134524,40.858846 45.150726,40.880047 45.165058,40.858388 45.184086,40.938913 45.241526,41.005788 45.241262,41.00537 45.229101,41.039447 45.22527,41.35348 45.223054,41.353171 45.186895,41.365911 45.186898,41.352481 45.150892,41.31891 45.15106,41.316496 45.091465,41.267332 45.056419,41.322559 45.016188,41.286438 44.991202,41.367978 44.932597,41.287273 44.860127,41.342416 44.830816,41.317765 44.793729,41.347284 44.746855,41.306107 44.718112))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"armawir\",\"country_code\":\"ru\",\"id\":\"106\",\"type\":\"region\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180}},{\"name\":\"Архангельск\",\"flags\":{\"metro\":false,\"has_net_booklet\":true,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"pedestrian_routing\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((39.467082 64.829966,41.321175 64.812571,41.276671 64.284305,39.458118 64.301293,39.467082 64.829966))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"arkhangelsk\",\"country_code\":\"ru\",\"id\":\"49\",\"type\":\"region\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180}},{\"name\":\"Астана\",\"flags\":{\"metro\":false,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":false,\"traffic\":true,\"pedestrian_routing\":true,\"road_network\":true},\"domain\":\"kz\",\"bounds\":\"POLYGON((71.18796 51.371885,71.882791 51.35684,71.856572 50.934375,71.168047 50.949196,71.18796 51.371885))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"astana\",\"country_code\":\"kz\",\"id\":\"68\",\"type\":\"region\",\"time_zone\":{\"name\":\"Asia/Qyzylorda\",\"offset\":360}},{\"name\":\"Астрахань\",\"flags\":{\"metro\":false,\"has_net_booklet\":true,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"traffic\":true,\"pedestrian_routing\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((47.747405 46.794839,47.776244 46.800521,47.810135 46.761605,47.907265 46.740644,47.928378 46.720807,48.067759 46.731313,48.098791 46.712483,48.151499 46.714994,48.33634 46.663608,48.395222 46.544961,48.402786 46.492407,48.379384 46.340769,48.362235 46.327207,48.372658 46.316606,48.355751 46.22781,48.383153 46.195758,48.44409 46.171003,48.381341 46.137798,48.348806 46.057503,48.15419 46.054404,48.107321 46.033126,47.985383 46.019315,47.894663 46.029965,47.871002 46.061984,47.697541 46.053889,47.667071 46.097238,47.702048 46.117454,47.666533 46.152288,47.655593 46.258052,47.608108 46.303432,47.626158 46.340853,47.613269 46.362228,47.624706 46.701364,47.747405 46.794839))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"astrakhan\",\"country_code\":\"ru\",\"id\":\"8\",\"type\":\"region\",\"time_zone\":{\"name\":\"Europe/Astrakhan\",\"offset\":240}},{\"name\":\"Барнаул\",\"flags\":{\"metro\":false,\"has_net_booklet\":true,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"traffic\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((83.928748 53.507088,83.958924 53.474057,84.085515 53.473398,84.175059 53.491398,84.244766 53.479354,84.252861 53.450982,84.212018 53.445806,84.220531 53.397514,84.153577 53.393644,84.113666 53.342338,84.065249 53.322099,84.085325 53.299145,84.007656 53.124723,83.829412 53.119967,83.841391 53.105761,83.82457 53.091551,83.752618 53.110593,83.765491 53.119643,83.743587 53.128187,83.66524 53.124648,83.62449 53.145085,83.62725 53.129512,83.597794 53.129087,83.480861 53.171378,83.447607 53.152209,83.423017 53.173034,83.440163 53.184845,83.393189 53.243041,83.420765 53.275431,83.355743 53.326489,83.417758 53.339642,83.39828 53.373223,83.359899 53.358989,83.345893 53.372393,83.4203 53.408614,83.423045 53.420274,83.385145 53.425419,83.41033 53.445014,83.401345 53.460413,83.454096 53.455281,83.510199 53.504089,83.604538 53.478418,83.69242 53.482115,83.700773 53.473259,83.686064 53.462011,83.70283 53.453045,83.773714 53.458918,83.928748 53.507088))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"barnaul\",\"country_code\":\"ru\",\"id\":\"4\",\"type\":\"region\",\"time_zone\":{\"name\":\"Asia/Barnaul\",\"offset\":420}},{\"name\":\"Белгород\",\"flags\":{\"metro\":false,\"has_net_booklet\":true,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"traffic\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((36.408454 50.586924,36.364963 50.614887,36.375499 50.618519,36.351604 50.645128,36.360667 50.672724,36.502029 50.713398,36.5567 50.702049,36.558012 50.689755,36.58454 50.697503,36.598181 50.682437,36.660204 50.70429,36.707462 50.693417,36.804933 50.733931,36.765165 50.703819,36.779617 50.657712,36.76248 50.635657,36.790589 50.624682,36.778163 50.614472,36.798107 50.596844,36.791261 50.57059,36.74007 50.54822,36.695989 50.499614,36.607104 50.497135,36.610968 50.482069,36.464342 50.489211,36.407339 50.51763,36.460387 50.542201,36.458536 50.563008,36.408454 50.586924))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"belgorod\",\"country_code\":\"ru\",\"id\":\"46\",\"type\":\"region\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180}},{\"name\":\"Бийск\",\"flags\":{\"metro\":false,\"has_net_booklet\":true,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"pedestrian_routing\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((84.874519 52.630301,84.96163 52.640567,84.982697 52.620134,85.093095 52.688834,85.116926 52.689539,85.153911 52.634772,85.220059 52.615266,85.344146 52.674309,85.416886 52.616859,85.538556 52.454311,85.544664 52.424316,85.680389 52.416048,85.773647 52.385701,85.790168 52.29163,85.731543 52.277005,85.730345 52.210825,85.577013 52.212472,85.57808 52.180982,85.614329 52.140175,85.608661 52.111591,85.549344 52.104764,85.545184 52.090548,85.552467 52.04871,85.590302 52.027,85.584219 51.981935,85.544145 51.942899,85.558749 51.906102,85.415412 51.879329,85.364843 51.890686,85.252811 51.873429,85.052969 51.887588,84.909731 51.82692,84.777548 51.897267,84.763076 51.88263,84.715642 51.905948,84.678258 51.877171,84.59717 51.888289,84.558869 51.925041,84.512641 51.932725,84.500581 51.956761,84.464805 51.945612,84.450834 51.973785,84.463158 51.992048,84.504642 52.021509,84.532127 52.022362,84.553064 52.053188,84.504543 52.079354,84.473112 52.075977,84.449089 52.100058,84.573503 52.137237,84.503848 52.222385,84.483005 52.277609,84.588967 52.290758,84.612451 52.484775,84.573893 52.523347,84.680635 52.549619,84.669706 52.572998,84.874519 52.630301))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"biysk\",\"country_code\":\"ru\",\"id\":\"20\",\"type\":\"region\",\"time_zone\":{\"name\":\"Asia/Barnaul\",\"offset\":420}},{\"name\":\"Бишкек\",\"flags\":{\"metro\":false,\"has_net_booklet\":true,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":false,\"traffic\":true,\"pedestrian_routing\":true,\"road_network\":true},\"domain\":\"kg\",\"bounds\":\"POLYGON((75.33643 42.85545,75.570302 42.830459,75.716812 42.797344,75.761433 42.833491,75.786311 42.899161,75.823518 42.940253,75.937224 42.955718,75.949176 42.933001,76.028275 42.911042,76.194148 42.931117,76.200932 42.91645,76.302069 42.910942,76.303927 42.874442,76.343846 42.860756,76.47828 42.884302,76.522591 42.922249,76.575247 42.906103,76.603487 42.916155,76.708886 42.904153,76.749231 42.921514,76.755876 42.949774,76.822744 42.955093,76.835842 42.982848,76.917246 42.965857,76.9719 42.986711,77.004469 42.98309,77.035094 42.947192,77.062577 42.976592,77.154973 42.972254,77.156765 42.944425,77.179907 42.946993,77.234786 42.911813,77.302013 42.916541,77.350501 42.898513,77.47156 42.939266,77.485265 42.924637,77.552523 42.941107,77.581041 42.915514,77.670445 42.917955,77.696993 42.903906,77.780651 42.914754,77.82376 42.884439,77.874056 42.888611,77.911121 42.870732,77.934015 42.881626,77.968122 42.85082,78.002178 42.870654,78.054338 42.847632,78.091759 42.849356,78.116667 42.864588,78.171543 42.860289,78.197829 42.881989,78.348808 42.854848,78.370535 42.886981,78.430884 42.878797,78.464812 42.896432,78.566261 42.511021,78.677523 42.274735,77.64754 41.928742,77.283159 41.907998,77.092381 41.914309,76.583726 41.973638,76.17608 42.104976,76.021959 42.228659,75.992606 42.278642,75.996152 42.316469,75.982604 42.334876,75.995431 42.383247,75.984839 42.390884,75.908185 42.398192,75.884981 42.362349,75.80915 42.354529,75.77166 42.393324,75.679856 42.418716,75.635548 42.448328,75.568927 42.419523,75.530117 42.424251,75.515018 42.454551,75.486241 42.434229,75.407376 42.424195,75.376071 42.450156,75.280345 42.417396,75.197902 42.435125,75.153735 42.42587,75.108622 42.4444,75.079342 42.420226,75.045402 42.419472,75.007472 42.445055,74.969555 42.423173,74.916158 42.438041,74.791378 42.409699,74.416615 42.409699,74.414462 42.78905,74.39828 42.813256,74.413494 42.891453,74.4117 43.079799,74.633389 43.080409,74.749879 42.989881,74.853304 42.999852,75.223534 42.855173,75.33643 42.85545))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"bishkek\",\"country_code\":\"kg\",\"id\":\"112\",\"type\":\"region\",\"time_zone\":{\"name\":\"Asia/Bishkek\",\"offset\":360}},{\"name\":\"Благовещенск\",\"flags\":{\"metro\":false,\"has_net_booklet\":true,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((127.363676 50.403782,127.352443 50.441714,127.286463 50.467049,127.310836 50.523899,127.355179 50.544151,127.365704 50.578455,127.343002 50.610638,127.537138 50.604785,127.751082 50.627248,127.750568 50.598176,127.68732 50.544328,127.689631 50.500392,127.756813 50.434523,127.777421 50.337837,127.763905 50.248109,127.73903 50.224478,127.612184 50.208694,127.598956 50.238392,127.37093 50.289745,127.325315 50.33611,127.363676 50.403782))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"blagoveshensk\",\"country_code\":\"ru\",\"id\":\"52\",\"type\":\"region\",\"time_zone\":{\"name\":\"Asia/Yakutsk\",\"offset\":540}},{\"name\":\"Братск\",\"flags\":{\"metro\":false,\"has_net_booklet\":true,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((101.089619 56.502645,102.059766 56.482523,102.016041 55.92995,101.059727 55.949659,101.089619 56.502645))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"bratsk\",\"country_code\":\"ru\",\"id\":\"51\",\"type\":\"region\",\"time_zone\":{\"name\":\"Asia/Irkutsk\",\"offset\":480}},{\"name\":\"Брянск\",\"flags\":{\"metro\":false,\"has_net_booklet\":true,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((34.306993 53.164362,34.180919 53.124632,34.121062 53.140568,34.091692 53.164732,34.097431 53.204355,34.11895 53.226269,34.088316 53.250407,34.103132 53.263035,34.089647 53.278232,34.154639 53.367685,34.144788 53.411926,34.193721 53.450275,34.297092 53.452291,34.34449 53.486122,34.464258 53.473829,34.543914 53.407776,34.606363 53.270293,34.581757 53.171344,34.432761 53.148647,34.306993 53.164362))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"bryansk\",\"country_code\":\"ru\",\"id\":\"62\",\"type\":\"region\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180}},{\"name\":\"Великий Новгород\",\"flags\":{\"metro\":false,\"has_net_booklet\":true,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((31.211943 58.6702,31.254682 58.712294,31.34888 58.696046,31.373219 58.722165,31.419891 58.716772,31.4286 58.697627,31.518878 58.684671,31.518065 58.618393,31.642191 58.534742,31.323177 58.410328,31.255009 58.436947,31.261078 58.452358,31.18483 58.473859,31.121912 58.437613,31.055469 58.474338,31.121487 58.536682,31.143158 58.634691,31.182295 58.677821,31.211943 58.6702))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"v_novgorod\",\"country_code\":\"ru\",\"id\":\"77\",\"type\":\"region\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180}},{\"name\":\"Владивосток\",\"flags\":{\"metro\":false,\"has_net_booklet\":true,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"traffic\":true,\"pedestrian_routing\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((132.275102 43.150151,132.21611 43.028072,132.078173 42.898095,131.953248 42.837472,131.683704 42.786249,131.556063 42.836001,131.587829 43.001127,131.576277 43.03842,131.463549 43.143762,131.411051 43.399272,131.352056 43.462375,131.469144 43.517281,131.542647 43.523577,131.624304 43.564967,131.656048 43.582531,131.684033 43.635493,131.730653 43.665958,131.972032 43.633195,132.025225 43.594097,132.144108 43.572415,132.264317 43.527039,132.291052 43.534936,132.377914 43.481564,132.356268 43.458463,132.371029 43.453495,132.343238 43.430952,132.364157 43.419062,132.349499 43.396926,132.363818 43.367117,132.337976 43.336729,132.275102 43.150151))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"vladivostok\",\"country_code\":\"ru\",\"id\":\"25\",\"type\":\"region\",\"time_zone\":{\"name\":\"Asia/Vladivostok\",\"offset\":600}},{\"name\":\"Владимир\",\"flags\":{\"metro\":false,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((40.553697 56.016865,40.321166 56.021603,40.181044 56.034779,40.141737 56.053492,40.159347 56.071072,40.162239 56.12833,40.185872 56.155526,40.161254 56.184066,40.179205 56.210653,40.158592 56.250966,40.162371 56.288428,40.181312 56.297852,40.17218 56.344226,40.198005 56.43593,40.259638 56.467022,40.303939 56.466565,40.695168 56.461839,40.743413 56.430182,40.70655 56.397878,40.703366 56.336406,40.716351 56.326915,40.678552 56.280342,40.688775 56.179039,40.713729 56.10864,40.613067 56.009461,40.553697 56.016865))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"vladimir\",\"country_code\":\"ru\",\"id\":\"59\",\"type\":\"region\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180}},{\"name\":\"Волгоград\",\"flags\":{\"metro\":false,\"has_net_booklet\":true,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"traffic\":true,\"pedestrian_routing\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((44.516273 48.264479,44.516501 48.286667,44.428333 48.293447,44.399822 48.305594,44.396745 48.328586,44.344889 48.33147,44.196749 48.239567,43.979783 48.328917,43.961466 48.345426,43.97311 48.362576,43.965729 48.407124,44.027168 48.465634,43.980829 48.472365,43.967298 48.506967,43.93733 48.506507,43.938644 48.52096,43.905835 48.519426,43.914095 48.547647,43.87482 48.582051,43.861216 48.623052,43.92897 48.621593,43.903636 48.658218,43.948472 48.707149,43.93956 48.731587,43.866099 48.764575,43.887828 48.792165,43.973955 48.851479,44.016491 48.828807,44.031502 48.841955,44.019816 48.847323,44.074949 48.89183,44.051643 48.903585,44.085706 48.932574,44.204013 48.899536,44.28802 48.924258,44.328352 48.985704,44.515948 48.948977,44.539657 48.963183,44.615677 48.950562,44.62823 48.972865,44.657701 48.955667,44.859461 48.923239,45.067555 48.808391,45.084772 48.779438,45.070885 48.765136,45.013591 48.761033,45.018099 48.743039,44.962483 48.700986,44.972802 48.677196,45.01123 48.663225,44.992745 48.646118,44.996412 48.618735,45.061759 48.574899,45.028151 48.572541,44.973857 48.454641,45.010793 48.444727,45.025871 48.383055,45.025853 48.357655,44.991761 48.3592,44.983554 48.293086,44.660355 48.266084,44.621043 48.277476,44.626912 48.258531,44.615641 48.25488,44.516273 48.264479))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"volgograd\",\"country_code\":\"ru\",\"id\":\"33\",\"type\":\"region\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180}},{\"name\":\"Вологда\",\"flags\":{\"metro\":false,\"has_net_booklet\":true,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((38.515933 59.121961,38.470498 59.099405,38.287173 59.086542,38.242049 59.06971,38.256449 59.06776,38.249376 59.060387,38.13843 59.057545,37.884693 59.011516,37.711939 59.029731,37.664721 59.081546,37.70754 59.099668,37.682968 59.118858,37.65629 59.212859,37.773079 59.211941,37.763425 59.225848,37.792745 59.234262,37.780588 59.268631,37.808478 59.305886,37.842804 59.311179,37.858537 59.336171,37.92028 59.34456,38.00095 59.328976,38.056271 59.346564,38.264175 59.320357,38.288699 59.328943,38.294461 59.306707,38.345585 59.291117,38.364161 59.312854,38.431422 59.30282,38.469535 59.318513,38.579894 59.291833,38.619833 59.303979,38.639694 59.288489,38.772389 59.30097,38.797706 59.285033,39.147462 59.305821,39.286558 59.337414,39.341859 59.330348,39.369125 59.306394,39.389929 59.335065,39.446643 59.35701,39.517848 59.358059,39.564516 59.331783,39.64683 59.350232,39.706341 59.344757,39.73792 59.371294,39.844323 59.411915,39.889432 59.392979,39.954988 59.398814,40.02458 59.371897,40.030302 59.35394,40.084607 59.349239,40.106504 59.356582,40.089706 59.374115,40.130857 59.382287,40.216618 59.391638,40.27283 59.375595,40.250158 59.354497,40.26296 59.346693,40.242702 59.342184,40.252141 59.332838,40.225744 59.336649,40.246397 59.325743,40.228672 59.316877,40.247251 59.311451,40.224826 59.310067,40.240377 59.299427,40.21765 59.300999,40.218215 59.278978,40.240547 59.266124,40.181195 59.256487,40.251511 59.213126,40.243574 59.204086,40.265573 59.213458,40.31158 59.19275,40.29853 59.186994,40.31338 59.169114,40.302155 59.15758,40.320565 59.15105,40.307792 59.141563,40.278849 59.152818,40.274394 59.132783,40.314184 59.123407,40.280647 59.101449,40.226748 59.096124,40.224546 59.077343,40.197595 59.066177,40.21457 59.039474,40.020498 59.016182,39.97751 59.031356,39.986346 59.045589,39.954664 59.067231,39.591774 59.041542,39.263641 59.061524,39.210222 59.076502,39.203899 59.063475,39.174891 59.062283,39.178316 59.072796,39.159241 59.060182,38.800039 59.068355,38.515933 59.121961))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"vologda\",\"country_code\":\"ru\",\"id\":\"78\",\"type\":\"region\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180}},{\"name\":\"Воронеж\",\"flags\":{\"metro\":false,\"has_net_booklet\":true,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"traffic\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((39.636447 51.797968,39.607537 51.754585,39.622517 51.734659,39.606708 51.714575,39.610185 51.660125,39.58174 51.613567,39.610219 51.594727,39.587116 51.548658,39.595572 51.472616,39.432197 51.463614,39.367228 51.482856,39.282321 51.47193,39.239086 51.494705,39.043242 51.47568,39.036446 51.460721,38.985148 51.451112,38.95836 51.467983,38.975484 51.587634,38.951825 51.601623,38.981717 51.616267,39.01502 51.668308,39.004525 51.686329,38.963301 51.685541,38.949909 51.702812,38.961571 51.744377,38.993182 51.762764,38.986398 51.78014,39.03206 51.824939,38.998914 51.869945,39.080845 51.918867,39.110392 51.906079,39.171912 51.925341,39.17323 51.913889,39.208998 51.916168,39.213598 51.938079,39.277114 51.947584,39.360584 51.926612,39.352964 51.907998,39.5571 51.903533,39.654444 51.882491,39.686652 51.855648,39.66049 51.849479,39.636447 51.797968))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"voronezh\",\"country_code\":\"ru\",\"id\":\"31\",\"type\":\"region\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180}},{\"name\":\"Днепр\",\"flags\":{\"metro\":true,\"has_net_booklet\":true,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":false,\"traffic\":true,\"pedestrian_routing\":true,\"road_network\":true},\"domain\":\"ua\",\"bounds\":\"POLYGON((34.749305 48.687967,35.296754 48.67835,35.281569 48.341385,34.737733 48.35089,34.749305 48.687967))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"dnepropetrovsk\",\"country_code\":\"ua\",\"id\":\"105\",\"type\":\"region\",\"time_zone\":{\"name\":\"Europe/Kiev\",\"offset\":180}},{\"name\":\"Екатеринбург\",\"flags\":{\"metro\":true,\"has_net_booklet\":true,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"traffic\":true,\"pedestrian_routing\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((59.714357 57.010251,59.843218 57.01357,59.858607 57.032897,59.904726 57.03104,59.923061 57.050275,59.965298 57.054922,60.047762 57.045734,60.038449 57.016691,60.267319 56.995452,60.271682 57.013143,60.419812 57.069198,60.505544 57.043206,60.549708 57.055081,60.70108 57.03633,60.708262 57.058072,60.956449 57.021245,60.940021 56.971993,60.987937 56.928045,60.923753 56.789944,60.976652 56.751103,61.013608 56.744555,60.980369 56.72748,60.977227 56.693708,60.924551 56.702746,60.91685 56.678767,60.963803 56.613703,60.922024 56.602385,60.569054 56.588469,60.2624 56.607099,60.255886 56.591301,60.051382 56.601268,60.043108 56.579619,59.770501 56.602052,59.744221 56.627375,59.74666 56.694076,59.700893 56.827711,59.699866 56.855848,59.726605 56.870853,59.714357 57.010251))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"ekaterinburg\",\"country_code\":\"ru\",\"id\":\"9\",\"type\":\"region\",\"time_zone\":{\"name\":\"Asia/Yekaterinburg\",\"offset\":300}},{\"name\":\"Иваново\",\"flags\":{\"metro\":false,\"has_net_booklet\":true,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"traffic\":true,\"pedestrian_routing\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((41.197218 56.988588,41.188512 56.952433,41.209276 56.910049,41.142312 56.875722,40.950307 56.862373,40.826517 56.883451,40.832547 56.923862,40.787609 57.009888,40.794165 57.055793,40.834003 57.092259,41.203988 57.090369,41.223977 57.050149,41.197218 56.988588))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"ivanovo\",\"country_code\":\"ru\",\"id\":\"65\",\"type\":\"region\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180}},{\"name\":\"Ижевск\",\"flags\":{\"metro\":false,\"has_net_booklet\":true,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"traffic\":false,\"pedestrian_routing\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((52.95169 57.057889,53.495625 57.04823,53.477541 56.776345,53.49634 56.717556,53.473268 56.711399,53.470393 56.667543,52.93186 56.675205,52.939246 56.818944,52.922659 56.824009,52.943466 56.90041,52.95169 57.057889))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"izhevsk\",\"country_code\":\"ru\",\"id\":\"41\",\"type\":\"region\",\"time_zone\":{\"name\":\"Europe/Samara\",\"offset\":240}},{\"name\":\"Иркутск\",\"flags\":{\"metro\":false,\"has_net_booklet\":true,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"traffic\":true,\"pedestrian_routing\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((103.618853 52.641505,103.558668 52.756303,103.558686 52.82878,103.732417 52.82878,103.733328 52.754448,103.754112 52.726338,103.806039 52.685174,103.854878 52.68341,103.928989 52.644714,104.97019 52.64955,104.970807 51.718225,103.975229 51.71376,103.657739 51.697291,103.635022 51.734936,103.646101 51.753829,103.625789 52.419895,103.576145 52.430001,103.568526 52.448971,103.624012 52.476944,103.618853 52.641505))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"irkutsk\",\"country_code\":\"ru\",\"id\":\"11\",\"type\":\"region\",\"time_zone\":{\"name\":\"Asia/Irkutsk\",\"offset\":480}},{\"name\":\"Йошкар-Ола\",\"flags\":{\"metro\":false,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((47.588902 56.761482,48.153297 56.748478,48.147576 56.680101,48.161312 56.671347,48.145753 56.658248,48.133249 56.507529,47.572432 56.520416,47.588902 56.761482))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"yoshkarola\",\"country_code\":\"ru\",\"id\":\"70\",\"type\":\"region\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180}},{\"name\":\"Кавказские Минеральные Воды\",\"flags\":{\"metro\":false,\"has_net_booklet\":true,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((42.578142 44.002138,42.61262 44.127676,42.580833 44.178897,42.578513 44.269256,42.844476 44.304247,42.898396 44.287205,43.109725 44.285919,43.30466 44.306366,43.370345 44.261905,43.494471 44.253583,43.551152 44.211293,43.50578 44.139313,43.558606 44.083451,43.505289 44.031903,43.547468 43.948391,43.608438 43.924491,43.608506 43.901408,43.596063 43.901416,43.589321 43.846011,43.408126 43.84147,43.320009 43.801639,43.305784 43.816049,43.109967 43.767679,42.940469 43.810721,42.895215 43.799429,42.733643 43.817514,42.68112 43.807332,42.647469 43.825702,42.62712 43.86502,42.636618 43.879133,42.586434 43.920709,42.578142 44.002138))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"minvody\",\"country_code\":\"ru\",\"id\":\"89\",\"type\":\"region\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180}},{\"name\":\"Казань\",\"flags\":{\"metro\":true,\"has_net_booklet\":true,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"traffic\":true,\"pedestrian_routing\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((48.293219 55.785858,48.300915 55.83784,48.210824 55.87347,48.264539 55.975911,48.333619 55.987526,48.465319 55.962675,48.549971 55.968903,48.585898 55.99431,48.863615 56.001223,48.935786 56.022691,48.980327 55.999077,49.132549 56.014912,49.172108 55.997201,49.23801 55.998644,49.268193 56.018944,49.425019 55.99398,49.532486 56.012359,49.576513 55.960059,49.572622 55.90025,49.603065 55.871306,49.564515 55.850699,49.569746 55.828722,49.549902 55.803099,49.576929 55.762639,49.553998 55.746684,49.548006 55.711488,49.587559 55.691345,49.549204 55.677128,49.533053 55.652126,49.535477 55.587187,48.477911 55.569986,48.446543 55.546812,48.335021 55.542882,48.302773 55.562068,48.299046 55.576462,48.332055 55.606612,48.289505 55.669048,48.312089 55.675824,48.310374 55.700797,48.265838 55.766996,48.293219 55.785858))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"kazan\",\"country_code\":\"ru\",\"id\":\"21\",\"type\":\"region\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180}},{\"name\":\"Калининград\",\"flags\":{\"metro\":false,\"has_net_booklet\":true,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"traffic\":true,\"pedestrian_routing\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((19.833135 54.586099,19.539731 54.713885,19.592596 54.772306,19.580491 54.890235,19.602075 54.967186,19.681958 55.065929,19.760019 55.116599,19.921503 55.158093,20.201823 55.16015,20.401084 55.18063,20.653783 55.384,20.953702 55.280833,21.137338 55.253862,21.136177 54.889236,21.196062 54.84523,21.163697 54.806789,21.1801 54.783729,21.169734 54.745675,21.143762 54.746284,21.121719 54.718137,21.179906 54.65098,21.15228 54.629143,21.173176 54.569384,21.151091 54.554846,20.822897 54.548373,20.766945 54.528812,20.516593 54.505253,20.495685 54.489603,20.400609 54.518031,20.279696 54.524275,20.205102 54.496552,20.090973 54.539175,20.018733 54.522701,19.833135 54.586099))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"kaliningrad\",\"country_code\":\"ru\",\"id\":\"40\",\"type\":\"region\",\"time_zone\":{\"name\":\"Europe/Kaliningrad\",\"offset\":120}},{\"name\":\"Калуга\",\"flags\":{\"metro\":false,\"has_net_booklet\":true,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((35.894818 54.755461,36.233835 54.780396,36.305069 54.765277,36.455305 54.768523,36.469927 54.533953,36.484893 54.525984,36.470977 54.516984,36.482233 54.33388,36.210971 54.327911,36.181685 54.299591,36.116858 54.321124,35.927655 54.321024,35.919922 54.424265,35.908394 54.430411,35.909715 54.559813,35.894602 54.569411,35.905908 54.610036,35.901032 54.674135,35.886054 54.687341,35.899607 54.69282,35.894818 54.755461))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"kaluga\",\"country_code\":\"ru\",\"id\":\"61\",\"type\":\"region\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180}},{\"name\":\"Каменск-Уральский\",\"flags\":{\"metro\":false,\"has_net_booklet\":true,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"pedestrian_routing\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((61.715751 56.571122,62.254705 56.57552,62.260467 56.279794,61.725677 56.275445,61.721387 56.403924,61.694523 56.412715,61.719382 56.463611,61.715751 56.571122))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"k_uralskiy\",\"country_code\":\"ru\",\"id\":\"109\",\"type\":\"region\",\"time_zone\":{\"name\":\"Asia/Yekaterinburg\",\"offset\":300}},{\"name\":\"Караганда\",\"flags\":{\"metro\":false,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":false,\"traffic\":true,\"road_network\":true},\"domain\":\"kz\",\"bounds\":\"POLYGON((73.394974 50.132623,73.41063 49.658415,72.880917 49.64993,72.860052 50.123995,73.394974 50.132623))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"karaganda\",\"country_code\":\"kz\",\"id\":\"84\",\"type\":\"region\",\"time_zone\":{\"name\":\"Asia/Qyzylorda\",\"offset\":360}},{\"name\":\"Кемерово\",\"flags\":{\"metro\":false,\"has_net_booklet\":true,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"traffic\":true,\"pedestrian_routing\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((86.326511 55.27068,86.327501 55.212118,85.914901 55.209146,85.909911 55.391534,85.878124 55.455955,85.975237 55.53017,86.147776 55.546002,86.177738 55.53357,86.322012 55.534428,86.326511 55.27068))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"kemerovo\",\"country_code\":\"ru\",\"id\":\"5\",\"type\":\"region\",\"time_zone\":{\"name\":\"Asia/Krasnoyarsk\",\"offset\":420}},{\"name\":\"Киров\",\"flags\":{\"metro\":false,\"has_net_booklet\":true,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"pedestrian_routing\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((49.036766 58.786454,49.936128 58.797004,49.939573 58.684007,49.959251 58.673889,49.93995 58.668113,49.941856 58.608637,49.954576 58.598196,49.934361 58.587878,49.947791 58.410879,49.279365 58.403646,49.046044 58.381452,49.013389 58.401974,49.056584 58.431236,49.044913 58.641473,49.024698 58.656477,49.042463 58.685214,49.036766 58.786454))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"kirov\",\"country_code\":\"ru\",\"id\":\"58\",\"type\":\"region\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180}},{\"name\":\"Київ\",\"flags\":{\"metro\":true,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":false,\"traffic\":true,\"pedestrian_routing\":true,\"road_network\":true},\"domain\":\"ua\",\"bounds\":\"POLYGON((30.210468 50.619492,31.021354 50.636093,31.039177 50.206516,30.235576 50.190165,30.210468 50.619492))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"kiev\",\"country_code\":\"ua\",\"id\":\"107\",\"type\":\"region\",\"time_zone\":{\"name\":\"Europe/Kiev\",\"offset\":180}},{\"name\":\"Кокшетау\",\"flags\":{\"metro\":false,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":false,\"road_network\":true},\"domain\":\"kz\",\"bounds\":\"POLYGON((69.004116 53.276659,68.997167 53.318062,69.167949 53.327877,69.161429 53.39313,69.274826 53.383133,69.277034 53.397231,69.315124 53.404166,69.327714 53.370948,69.426323 53.365164,69.615022 53.377566,69.762747 53.305991,69.867178 53.20418,70.039459 53.155209,70.24582 53.165043,70.368026 53.153623,70.404051 53.116561,70.33428 53.02602,70.308269 52.919803,70.236916 52.874545,70.201804 52.871445,70.179755 52.895084,70.12915 52.907667,70.024734 53.010686,69.941737 53.033424,69.930216 53.061288,69.757815 53.113193,69.636768 53.209834,69.457975 53.23141,69.012491 53.225447,69.004116 53.276659))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"kokshetau\",\"country_code\":\"kz\",\"id\":\"201\",\"type\":\"region\",\"time_zone\":{\"name\":\"Asia/Qyzylorda\",\"offset\":360}},{\"name\":\"Комсомольск-на-Амуре\",\"flags\":{\"metro\":false,\"has_net_booklet\":true,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((136.753811 50.349972,136.732015 50.546639,136.73738 50.63626,136.77424 50.671445,136.80805 50.6719,136.854575 50.708454,137.019275 50.726093,137.047688 50.709087,137.256608 50.703973,137.300987 50.652509,137.309118 50.592302,137.281873 50.545506,137.254966 50.304488,137.178429 50.223625,137.11257 50.180152,137.020128 50.156,136.927338 50.192698,136.781474 50.184059,136.673594 50.228365,136.66226 50.244675,136.69045 50.321326,136.753811 50.349972))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"komsomolsk\",\"country_code\":\"ru\",\"id\":\"94\",\"type\":\"region\",\"time_zone\":{\"name\":\"Asia/Vladivostok\",\"offset\":600}},{\"name\":\"Кострома\",\"flags\":{\"metro\":false,\"has_net_booklet\":true,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((40.788473 57.681147,40.721084 57.692701,40.692564 57.764686,40.707715 57.874069,40.735404 57.932043,40.981818 57.9303,41.147257 57.918584,41.160962 57.905824,41.137488 57.675732,40.788473 57.681147))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"kostroma\",\"country_code\":\"ru\",\"id\":\"34\",\"type\":\"region\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180}},{\"name\":\"Краснодар\",\"flags\":{\"metro\":false,\"has_net_booklet\":true,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"traffic\":true,\"pedestrian_routing\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((38.648205 45.176459,38.711098 45.219943,38.64025 45.271538,38.739748 45.340829,38.781788 45.31473,38.809501 45.327281,38.918451 45.294308,39.028441 45.284592,39.133021 45.284649,39.126668 45.316536,39.18719 45.315047,39.203489 45.300914,39.195239 45.289067,39.229994 45.265847,39.342399 45.254044,39.341222 45.278697,39.375139 45.284872,39.375049 45.305136,39.42069 45.309048,39.420767 45.33267,39.438429 45.332534,39.438452 45.305691,39.476685 45.305822,39.515106 45.314946,39.514719 45.360149,39.590516 45.360254,39.58218 45.375156,39.61652 45.377122,39.616013 45.441469,39.782302 45.441817,39.884814 45.419673,39.884766 45.432944,39.974064 45.432962,39.972445 45.45423,40.033952 45.458633,40.053085 45.413529,40.05355 45.358697,40.066274 45.359836,40.061038 45.260974,40.084628 45.256029,40.120102 45.278532,40.121369 45.245675,40.087582 45.197403,40.125426 45.184296,40.091663 45.135792,40.103098 45.131839,40.090267 45.099343,40.075233 45.109694,40.067071 45.094767,40.040236 45.102505,39.968812 45.080594,39.932968 45.095803,39.893669 45.084306,39.900028 45.096349,39.8718 45.111831,39.811315 45.113393,39.801652 45.129778,39.779674 45.123251,39.763667 45.136796,39.748665 45.128406,39.679284 45.167582,39.512034 45.037447,39.471249 45.035691,39.477936 44.987874,39.494979 44.975921,39.519018 44.987239,39.504601 44.968403,39.575083 44.942018,39.598598 44.911517,39.642513 44.894467,39.636756 44.878842,39.652507 44.87109,39.56203 44.837481,39.559578 44.806959,39.528955 44.811802,39.525045 44.789938,39.552019 44.795464,39.577078 44.765319,39.607462 44.775225,39.601502 44.742373,39.538293 44.691646,39.527854 44.65156,39.471062 44.640018,39.44626 44.575409,39.400566 44.576687,39.399677 44.556433,39.348204 44.529861,39.434926 44.505319,39.429588 44.483089,39.393221 44.455096,39.318938 44.459505,39.270371 44.426891,39.139535 44.457873,39.087526 44.448877,39.023849 44.38142,39.016852 44.409412,38.988065 44.397481,38.919437 44.421173,38.978084 44.443491,38.917879 44.495954,38.835643 44.510765,38.82169 44.500486,38.801122 44.513945,38.648179 44.489009,38.621174 44.718423,38.637552 44.732517,38.654426 44.726165,38.661505 44.828782,38.628541 44.83052,38.632211 44.886243,38.571424 44.976362,38.57103 45.038671,38.558308 45.040626,38.558543 45.053779,38.583641 45.05373,38.593846 45.138214,38.648205 45.176459))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"krasnodar\",\"country_code\":\"ru\",\"id\":\"23\",\"type\":\"region\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180}},{\"name\":\"Красноярск\",\"flags\":{\"metro\":false,\"has_net_booklet\":true,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"traffic\":true,\"pedestrian_routing\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((92.113779 56.321481,92.546479 56.312921,92.686641 56.325006,92.698244 56.291704,92.880347 56.302262,92.918469 56.291319,92.944001 56.307758,92.963621 56.302029,92.967659 56.283178,92.996031 56.282857,93.02555 56.286858,93.024781 56.301334,93.089399 56.288399,93.351495 56.315506,93.353739 56.342098,93.385382 56.363574,93.483792 56.38784,93.525359 56.374674,93.77863 56.398338,93.778276 56.380571,93.821835 56.380351,93.812101 56.372773,93.825779 56.354057,93.727457 56.346694,93.733019 56.312658,93.651538 56.2072,93.676809 56.082704,93.676166 55.971304,93.645915 55.960206,93.693796 55.933158,93.663013 55.903518,93.698591 55.864907,93.668272 55.853942,93.681915 55.826012,93.654649 55.815941,93.650075 55.798052,93.344177 55.79616,93.321039 55.768104,93.279456 55.75733,92.945976 55.703893,92.906977 55.71333,92.906321 55.728977,92.823133 55.719781,92.795316 55.731038,92.781834 55.71597,92.76803 55.762376,92.720126 55.706235,92.706141 55.730738,92.545351 55.70355,92.477531 55.726778,92.405115 55.714618,92.34148 55.750768,92.272349 55.750681,92.271845 55.76861,92.227358 55.785552,92.226932 55.808601,92.118327 55.809971,92.105462 55.889204,91.850422 55.921905,91.746327 55.980599,91.291593 56.116023,91.146534 56.138309,90.665944 56.126281,90.207837 56.179432,90.201484 56.209533,90.182071 56.213938,90.210508 56.261959,90.143113 56.33793,90.479371 56.361035,90.582924 56.405539,90.676753 56.418299,90.8965 56.387376,91.040676 56.345942,91.102184 56.350933,91.305577 56.280725,91.373457 56.331809,91.535323 56.305279,91.781009 56.295613,92.113779 56.321481))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"krasnoyarsk\",\"country_code\":\"ru\",\"id\":\"7\",\"type\":\"region\",\"time_zone\":{\"name\":\"Asia/Krasnoyarsk\",\"offset\":420}},{\"name\":\"Курган\",\"flags\":{\"metro\":false,\"has_net_booklet\":true,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"traffic\":true,\"pedestrian_routing\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((65.113307 55.505372,65.3122 55.533618,65.467434 55.529287,65.583217 55.483367,65.594049 55.449838,65.66975 55.429862,65.617468 55.423847,65.574765 55.388161,65.627644 55.301062,65.58624 55.287247,65.576998 55.258639,65.546631 55.243932,65.340727 55.245305,65.185597 55.308037,65.132927 55.350148,65.151683 55.427834,65.119873 55.444896,65.131751 55.467184,65.113307 55.505372))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"kurgan\",\"country_code\":\"ru\",\"id\":\"10\",\"type\":\"region\",\"time_zone\":{\"name\":\"Asia/Yekaterinburg\",\"offset\":300}},{\"name\":\"Курск\",\"flags\":{\"metro\":false,\"has_net_booklet\":true,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"traffic\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((35.849262 51.606059,35.879043 51.638528,35.8626 51.657259,35.886388 51.672482,35.871927 51.686705,35.895263 51.728444,35.883312 51.751074,35.897331 51.765358,35.891286 51.788043,35.934091 51.831118,36.017808 51.855342,36.110698 51.829456,36.276347 51.856813,36.413323 51.838129,36.425002 51.820996,36.444293 51.714533,36.421006 51.691959,36.432607 51.674272,36.416084 51.660402,36.414402 51.596078,36.391361 51.577032,36.262953 51.554483,36.243018 51.569354,36.13865 51.563039,36.132669 51.548845,35.978087 51.54813,35.820868 51.567552,35.849262 51.606059))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"kursk\",\"country_code\":\"ru\",\"id\":\"73\",\"type\":\"region\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180}},{\"name\":\"Ленинск-Кузнецкий\",\"flags\":{\"metro\":false,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"traffic\":true,\"pedestrian_routing\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((85.750103 54.768861,86.495701 54.774252,86.502903 54.184679,85.767947 54.179404,85.766991 54.211526,85.745419 54.22624,85.764502 54.294869,85.761107 54.407891,85.705274 54.437493,85.759129 54.473382,85.750103 54.768861))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"lenkuz\",\"country_code\":\"ru\",\"id\":\"86\",\"type\":\"region\",\"time_zone\":{\"name\":\"Asia/Novokuznetsk\",\"offset\":420}},{\"name\":\"Липецк\",\"flags\":{\"metro\":false,\"has_net_booklet\":true,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"traffic\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((39.379824 52.626781,39.37616 52.689433,39.437992 52.71159,39.492999 52.757372,39.569775 52.721367,39.602138 52.740383,39.679225 52.720608,39.755873 52.732008,39.865104 52.702656,39.878631 52.711235,39.903903 52.688304,39.838586 52.667735,39.875348 52.630581,39.799054 52.595293,39.869859 52.538809,39.850993 52.479662,39.807101 52.503142,39.546783 52.477641,39.387742 52.513898,39.376843 52.520679,39.41612 52.57348,39.392041 52.58361,39.395286 52.600255,39.36358 52.602605,39.379824 52.626781))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"lipetsk\",\"country_code\":\"ru\",\"id\":\"56\",\"type\":\"region\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180}},{\"name\":\"Магнитогорск\",\"flags\":{\"metro\":false,\"has_net_booklet\":true,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((59.504226 53.910884,59.464288 53.229865,58.523119 53.245612,58.525287 53.306553,58.507627 53.308733,58.489263 53.338765,58.528757 53.403605,58.547823 53.927025,59.12927 53.927438,59.504226 53.910884))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"magnitogorsk\",\"country_code\":\"ru\",\"id\":\"26\",\"type\":\"region\",\"time_zone\":{\"name\":\"Asia/Yekaterinburg\",\"offset\":300}},{\"name\":\"Махачкала\",\"flags\":{\"metro\":false,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":false,\"traffic\":true,\"pedestrian_routing\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((47.187874 42.95798,47.182898 42.983038,47.209252 43.00368,47.224663 43.05064,47.218505 43.079063,47.201618 43.08445,47.206434 43.159023,47.25122 43.157566,47.369732 43.200312,47.446098 43.181238,47.667854 43.183177,47.892502 42.734118,47.681265 42.678887,47.553966 42.677473,47.533198 42.703034,47.457293 42.718739,47.227232 42.848998,47.200873 42.894054,47.216738 42.932082,47.187874 42.95798))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"makhachkala\",\"country_code\":\"ru\",\"id\":\"113\",\"type\":\"region\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180}},{\"name\":\"Миасс и Златоуст\",\"flags\":{\"metro\":false,\"has_net_booklet\":true,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"pedestrian_routing\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((59.545758 55.280232,60.258434 55.263275,60.228055 54.888197,59.89406 54.894059,59.771438 54.866503,59.729146 54.886954,59.734627 54.900317,59.522002 54.90492,59.545758 55.280232))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"miass\",\"country_code\":\"ru\",\"id\":\"87\",\"type\":\"region\",\"time_zone\":{\"name\":\"Asia/Yekaterinburg\",\"offset\":300}},{\"name\":\"Москва\",\"flags\":{\"metro\":true,\"has_net_booklet\":true,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"traffic\":true,\"pedestrian_routing\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((36.843932 55.391978,36.784794 55.397859,36.777835 55.41889,36.815383 55.465206,36.8162 55.507692,36.752402 55.555974,36.766606 55.578763,36.801687 55.582252,36.79972 55.645047,36.773692 55.685786,36.789344 55.74412,36.764182 55.789763,36.789031 55.849394,36.774963 55.851828,36.788479 55.861756,36.771319 55.932067,36.812267 55.953735,36.778755 55.980113,36.768954 56.033447,36.738275 56.063624,36.78088 56.105518,36.764686 56.14976,36.831297 56.180969,36.987334 56.224143,37.181348 56.186352,37.350372 56.224372,37.459617 56.200237,37.553765 56.22045,37.787512 56.230706,37.859514 56.218694,38.144384 56.237691,38.284403 56.225313,38.514408 56.244101,38.527957 56.227682,38.756502 56.230105,38.953443 56.213203,39.079952 56.240858,39.1025 56.228962,39.116844 56.127081,39.090756 56.066463,39.142483 56.020898,39.107487 55.925753,39.130746 55.864247,39.102731 55.80784,39.056191 55.775004,39.034139 55.688025,39.046769 55.638546,39.145126 55.566943,39.074506 55.526778,39.079897 55.500779,39.118629 55.481078,39.093981 55.464646,39.110068 55.373845,39.144718 55.352206,39.084704 55.23022,39.091986 55.184523,39.1251 55.151805,39.089913 55.078944,39.06333 55.066245,39.07943 55.055834,39.055515 55.022353,39.004875 55.036595,38.950345 55.004012,38.888025 55.039996,38.599576 55.020946,38.466983 55.054381,38.086314 55.012933,38.008821 55.024609,37.999858 55.042258,37.94916 55.057919,37.864935 55.020766,37.680995 55.006601,37.663283 55.022916,37.619529 55.025243,37.544039 54.989247,37.420827 54.981554,37.415807 54.962128,37.316566 54.96838,36.773438 55.138651,36.8076 55.152578,36.812302 55.214944,36.787527 55.246629,36.803125 55.284317,36.915699 55.347485,36.843932 55.391978))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"moscow\",\"country_code\":\"ru\",\"id\":\"32\",\"type\":\"region\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180}},{\"name\":\"Мурманск\",\"flags\":{\"metro\":false,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((33.225325 69.064731,33.265186 69.064731,33.265186 69.027421,33.286743 68.9972,33.294137 68.761176,33.566892 68.660816,33.5178 68.538753,33.75677 68.511817,33.741198 68.388309,33.751091 68.341711,33.838172 68.344937,33.99075 68.220577,34.016668 68.173774,34.087206 68.110861,33.990565 68.061996,33.952018 68.022917,33.970512 67.924501,34.17425 67.898561,34.297463 67.90726,34.355219 67.89508,34.354257 67.828489,34.385445 67.778911,34.468613 67.731858,34.597987 67.691075,34.643639 67.587172,34.63382 67.546138,34.431674 67.485337,33.571687 67.444568,32.632767 67.545538,32.211875 67.677328,31.949716 67.689008,31.734705 67.720632,31.760746 67.833984,31.738646 67.934812,31.783979 67.971397,31.892181 67.996356,32.073269 68.159487,32.23191 68.509206,32.289074 68.570651,32.174659 68.65378,32.067711 68.708298,32.347924 68.778872,32.634009 68.817618,32.679829 68.856852,32.703928 68.859229,32.701158 69.064619,33.225325 69.064731))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"murmansk\",\"country_code\":\"ru\",\"id\":\"96\",\"type\":\"region\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180}},{\"name\":\"Набережные Челны\",\"flags\":{\"metro\":false,\"has_net_booklet\":true,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"traffic\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((51.723646 55.554874,51.646247 55.574375,51.662207 55.58784,51.65101 55.6276,51.687547 55.640433,51.750524 55.710224,51.706732 55.771285,51.674603 55.784503,51.655854 55.845784,51.789333 55.84846,51.805722 55.856219,51.796582 55.868951,51.914799 55.885486,52.095047 55.849758,52.174898 55.881161,52.234244 55.881702,52.293636 55.853347,52.311799 55.877797,52.33168 55.878953,52.464703 55.858961,52.527841 55.866224,52.622474 55.830049,52.60666 55.798331,52.612551 55.769244,52.591918 55.760726,52.605917 55.756947,52.598503 55.722374,52.632144 55.713565,52.609146 55.696526,52.605417 55.632693,52.618832 55.614353,52.582857 55.607379,52.576773 55.590283,52.510541 55.555623,52.413221 55.54469,52.295177 55.563714,52.171722 55.543903,52.117172 55.555648,51.996244 55.529149,51.935327 55.546367,51.888186 55.540568,51.874118 55.567662,51.723646 55.554874))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"nabchelny\",\"country_code\":\"ru\",\"id\":\"29\",\"type\":\"region\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180}},{\"name\":\"Находка\",\"flags\":{\"metro\":false,\"has_net_booklet\":true,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"pedestrian_routing\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((132.750811 42.90212,133.241339 42.910709,133.248191 42.668281,132.759571 42.659764,132.750811 42.90212))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"nahodka\",\"country_code\":\"ru\",\"id\":\"82\",\"type\":\"region\",\"time_zone\":{\"name\":\"Asia/Vladivostok\",\"offset\":600}},{\"name\":\"Нижневартовск\",\"flags\":{\"metro\":false,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"traffic\":true,\"pedestrian_routing\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((75.931826 61.190935,77.028582 61.178947,77.007817 60.862874,76.79989 60.811169,76.675993 60.819973,76.608242 60.866834,76.574744 60.87297,76.405904 60.85454,75.922257 60.863009,75.931826 61.190935))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"nizhnevartovsk\",\"country_code\":\"ru\",\"id\":\"12\",\"type\":\"region\",\"time_zone\":{\"name\":\"Asia/Yekaterinburg\",\"offset\":300}},{\"name\":\"Нижний Новгород\",\"flags\":{\"metro\":true,\"has_net_booklet\":true,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"traffic\":true,\"pedestrian_routing\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((43.698905 55.546439,43.70569 55.558721,43.681576 55.561972,43.67454 55.578248,43.593297 55.572642,43.590418 55.602468,43.510025 55.663714,43.534796 55.689363,43.539725 55.72664,43.620532 55.727312,43.632723 55.745959,43.602127 55.74409,43.570877 55.762944,43.570502 55.781537,43.533283 55.778601,43.538975 55.806361,43.525344 55.798613,43.483009 55.820534,43.438804 55.801096,43.435333 55.823104,43.474067 55.84075,43.439979 55.895645,43.449855 55.962492,43.400646 55.983169,43.403214 56.02306,43.350545 56.011747,43.334068 56.019705,43.348812 56.028625,43.30845 56.023735,43.318973 56.03415,43.266285 56.085781,43.285191 56.135121,43.229605 56.165666,43.27404 56.176864,43.268324 56.224575,43.333095 56.277604,43.331742 56.291613,43.262507 56.288856,43.232795 56.46447,43.478804 56.50302,43.556139 56.484948,43.578748 56.436087,43.674309 56.463834,43.651633 56.489502,43.673258 56.501015,43.662704 56.510861,43.74359 56.504769,43.746049 56.537651,43.760063 56.544098,43.898733 56.56825,43.918577 56.550293,43.902015 56.531725,43.929245 56.519835,44.117989 56.489175,44.302017 56.487725,44.257758 56.303471,44.285621 56.293472,44.326035 56.18255,44.263031 56.143551,44.287549 56.109782,44.336492 56.112459,44.324849 56.089192,44.337515 56.078338,44.110198 56.038875,44.119245 56.01916,44.093979 56.002272,44.121 55.997692,44.107902 55.988437,44.123674 55.967723,44.097652 55.9638,44.08311 55.922851,44.103838 55.916349,44.054165 55.890125,44.040117 55.859208,44.110739 55.824992,44.040112 55.80138,44.064329 55.787559,44.066411 55.737674,44.026988 55.659793,44.039148 55.654767,44.011864 55.646937,44.028688 55.631216,44.001 55.611813,43.996515 55.586966,44.026632 55.537536,44.008255 55.530253,44.001105 55.495508,43.966379 55.476111,44.016565 55.438413,44.003405 55.36925,43.913842 55.332731,43.86906 55.287421,43.837718 55.292673,43.802249 55.331555,43.74567 55.33908,43.735367 55.36641,43.687526 55.356322,43.682425 55.372337,43.722341 55.438373,43.727634 55.49936,43.660456 55.500093,43.698905 55.546439))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"n_novgorod\",\"country_code\":\"ru\",\"id\":\"19\",\"type\":\"region\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180}},{\"name\":\"Нижний Тагил\",\"flags\":{\"metro\":false,\"has_net_booklet\":true,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"pedestrian_routing\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((60.386228 58.025926,60.543553 58.1012,60.591976 58.084258,60.59383 58.065848,60.629422 58.071692,60.626558 58.034145,60.588851 58.030923,60.56379 57.970664,60.525869 57.975302,60.478097 57.921059,60.322368 57.884501,60.2264 57.751651,59.763185 57.762607,59.779216 57.972882,59.753076 57.975012,59.802461 58.102842,60.216094 58.067059,60.238445 58.084283,60.309211 58.076303,60.302152 58.057252,60.33775 58.05346,60.329853 58.033965,60.386228 58.025926))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"ntagil\",\"country_code\":\"ru\",\"id\":\"45\",\"type\":\"region\",\"time_zone\":{\"name\":\"Asia/Yekaterinburg\",\"offset\":300}},{\"name\":\"Новокузнецк\",\"flags\":{\"metro\":false,\"has_net_booklet\":true,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"traffic\":true,\"pedestrian_routing\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((86.517836 53.497554,86.514138 53.82036,86.500994 53.827564,86.513934 53.838037,86.512736 53.941118,86.480362 53.944854,86.458678 53.991061,86.492783 54.018733,86.46447 54.054813,86.4792 54.065258,86.618448 54.103252,86.651443 54.130632,87.463657 54.121473,87.456823 53.497654,87.274477 53.498212,87.265593 53.487551,87.250459 53.498264,86.517836 53.497554))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"novokuznetsk\",\"country_code\":\"ru\",\"id\":\"6\",\"type\":\"region\",\"time_zone\":{\"name\":\"Asia/Novokuznetsk\",\"offset\":420}},{\"name\":\"Новороссийск\",\"flags\":{\"metro\":false,\"has_net_booklet\":true,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((38.611788 44.334654,38.50188 44.149785,38.424852 44.176741,38.29588 44.189945,38.06936 44.261427,37.909643 44.39079,37.826166 44.417904,37.75347 44.470943,37.508447 44.490233,37.333602 44.54604,37.216533 44.607242,37.148688 44.663571,37.114741 44.747825,37.062663 44.794421,37.035232 44.845064,36.84376 44.913379,36.952521 45.139209,36.955897 45.231096,37.270595 45.252601,37.323008 45.221241,37.370325 45.225698,37.418648 45.190935,37.469267 45.200845,37.483318 45.221778,37.632022 45.195207,37.665645 45.213873,37.777513 45.211867,37.850508 45.240846,37.862296 45.226127,37.969276 45.232012,38.140004 45.188567,38.395601 45.212132,38.450284 45.20257,38.499801 45.235955,38.581237 45.224853,38.648205 45.176459,38.593846 45.138214,38.583641 45.05373,38.558543 45.053779,38.558308 45.040626,38.57103 45.038671,38.571424 44.976362,38.632211 44.886243,38.628541 44.83052,38.661505 44.828782,38.654426 44.726165,38.637552 44.732517,38.621174 44.718423,38.648179 44.489009,38.670827 44.489693,38.665686 44.474828,38.688965 44.46535,38.630156 44.366958,38.608527 44.361301,38.611788 44.334654))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"novorossiysk\",\"country_code\":\"ru\",\"id\":\"74\",\"type\":\"region\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180}},{\"name\":\"Новосибирск\",\"flags\":{\"metro\":true,\"has_net_booklet\":true,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"traffic\":true,\"pedestrian_routing\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((85.088133 54.816411,85.002688 54.800048,85.013252 54.779662,84.964301 54.781279,84.910658 54.751737,84.89515 54.728577,84.980047 54.704903,85.004084 54.6799,84.986639 54.667145,85.011185 54.637544,84.917052 54.600394,84.854156 54.601173,84.861065 54.578554,84.810533 54.546933,84.777987 54.546627,84.763373 54.557022,84.771612 54.564639,84.674109 54.541517,84.464711 54.694354,84.351643 54.752476,84.331715 54.747296,84.256032 54.653791,84.142705 54.678399,84.175484 54.689316,84.093196 54.728848,84.095783 54.691032,84.060724 54.662546,84.074733 54.632952,84.066363 54.614937,84.035617 54.589884,83.922557 54.549433,83.937476 54.528926,83.905113 54.502403,83.824504 54.487596,83.838965 54.4588,83.822805 54.43073,83.796516 54.43001,83.814956 54.403784,83.765982 54.39795,83.763786 54.3856,83.823713 54.331402,83.831259 54.301255,83.962024 54.247008,83.968601 54.188796,83.995478 54.190074,83.998623 54.175215,83.931934 54.158279,83.877221 54.122944,83.836223 54.118712,83.830747 54.12978,83.722303 54.101173,83.553128 54.109112,83.531248 54.078262,83.474428 54.062407,83.48778 53.979297,83.439161 53.973706,83.448509 53.947246,83.349582 53.933688,83.292679 54.085893,83.274482 54.051634,83.220299 54.050249,83.196775 54.065401,83.165888 54.051188,83.049376 53.969325,83.025492 53.975652,83.021283 54.00262,82.994051 54.01605,82.76229 54.012318,82.693122 54.106213,82.693979 54.131095,82.645574 54.14543,82.634722 54.248572,82.664822 54.29484,82.68705 54.30104,82.661704 54.35505,82.61106 54.369053,82.547634 54.419858,82.470375 54.420101,82.370414 54.412567,82.371804 54.399905,82.127851 54.268898,82.118361 54.252095,82.134209 54.241847,82.083649 54.219871,82.059678 54.184372,82.068814 54.177768,82.027336 54.157662,82.00034 54.171321,81.941353 54.133285,81.823904 54.099327,81.805615 54.061834,81.756478 54.033153,81.751897 53.99627,81.661622 53.981295,81.587024 53.921394,81.542805 53.909614,81.568083 54.00842,81.613035 54.021479,81.493979 54.02924,81.482831 54.058427,81.442213 54.041825,81.342891 54.08114,81.248852 54.070884,81.216226 54.124181,81.211528 54.112355,81.137057 54.109871,81.087729 54.19626,80.98516 54.294763,80.95166 54.375446,81.015929 54.437403,81.069744 54.449125,81.206379 54.469828,81.232671 54.43442,81.349135 54.442051,81.553585 54.533401,81.510757 54.591568,81.533405 54.612019,81.619201 54.634727,81.648241 54.614816,81.697814 54.622579,81.666411 54.644833,81.719479 54.657871,81.535705 54.795751,81.525131 54.835634,81.576033 54.854323,81.569753 54.873304,81.486161 54.938744,81.457861 54.932468,81.40791 54.950068,81.360969 54.937569,81.361438 54.979388,81.414723 55.001194,81.428126 55.044341,81.472002 55.050177,81.474095 55.080272,81.397608 55.101903,81.459733 55.139028,81.446447 55.247257,81.477305 55.251991,81.330338 55.319242,81.467239 55.352554,81.500579 55.380705,82.154603 55.51402,82.046328 55.623863,81.735848 56.025943,81.553507 56.235201,81.873966 56.305406,82.3392 56.357462,82.499393 56.405493,82.56553 56.399756,82.69004 56.425818,82.774176 56.409006,82.818171 56.429882,82.796319 56.46359,82.80499 56.512522,82.862728 56.535243,82.946637 56.537902,83.02902 56.518057,83.095518 56.54937,83.285825 56.445179,83.254023 56.433978,83.273679 56.431915,83.247805 56.395426,83.143274 56.374558,83.170399 56.342775,83.163827 56.314939,83.114137 56.290972,83.131482 56.275494,83.064804 56.230587,83.108472 56.211577,83.156686 56.227959,83.211845 56.209412,83.213935 56.180724,83.169868 56.18774,83.154684 56.176784,83.183089 56.166603,83.178743 56.153147,83.12927 56.120556,83.182767 56.112253,83.22148 56.086762,83.274055 56.113913,83.301553 56.095779,83.233736 56.059526,83.245146 56.024221,83.230086 56.013203,83.340089 55.978252,83.313369 55.961143,83.403008 55.896203,83.37566 55.89601,83.392788 55.863976,83.385188 55.851263,83.318525 55.854541,83.211507 55.729573,83.314218 55.70373,83.31518 55.687675,83.338522 55.710005,83.445276 55.723903,83.444876 55.694989,83.417853 55.673155,83.428686 55.664132,83.501531 55.706658,83.585493 55.670769,83.599621 55.650771,83.590415 55.616456,83.631408 55.605505,83.597281 55.578084,83.643364 55.58456,83.74695 55.537542,83.793479 55.544837,83.835711 55.529631,83.909543 55.54795,83.926346 55.568309,83.972523 55.555768,83.939427 55.51155,83.964213 55.51613,84.042645 55.444071,84.000495 55.408305,84.150837 55.400365,84.139598 55.439327,84.161904 55.455684,84.213271 55.462875,84.284625 55.43016,84.330678 55.462837,84.456308 55.468194,84.51098 55.506032,84.541189 55.468097,84.595177 55.483997,84.660798 55.479568,84.725026 55.446609,84.620578 55.404334,84.652652 55.380482,84.754742 55.379815,84.818767 55.361752,84.858737 55.375536,84.916854 55.324764,84.915525 55.277327,84.85607 55.260773,84.815445 55.227775,84.917085 55.183553,84.927023 55.163725,84.903557 55.053879,84.837145 54.997021,84.887657 54.969707,84.887673 54.9523,84.971822 54.944968,85.038038 54.873817,85.07845 54.857497,85.046502 54.844635,85.088133 54.816411))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"novosibirsk\",\"country_code\":\"ru\",\"id\":\"1\",\"type\":\"region\",\"time_zone\":{\"name\":\"Asia/Novosibirsk\",\"offset\":420}},{\"name\":\"Новый Уренгой\",\"flags\":{\"metro\":false,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":false,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((76.550608 66.176745,77.02186 66.185037,77.085372 66.076551,77.246806 66.036483,77.502758 66.038639,77.717867 66.101555,77.822187 66.070509,78.095049 66.132742,78.197085 66.137732,78.314914 66.113537,78.336981 66.071776,78.412791 66.007583,78.499318 65.98269,78.481427 65.958847,78.460859 65.962934,78.305241 65.861272,78.20881 65.777623,78.042981 65.718308,78.024399 65.691381,77.930064 65.689318,77.877699 65.659784,77.64937 65.641188,77.201953 65.800799,76.921259 65.790684,76.713723 65.823542,76.647881 65.84942,76.600136 65.89055,76.461521 65.914944,76.373292 66.091023,76.387134 66.109593,76.550608 66.176745))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"n_urengoy\",\"country_code\":\"ru\",\"id\":\"139\",\"type\":\"region\",\"time_zone\":{\"name\":\"Asia/Yekaterinburg\",\"offset\":300}},{\"name\":\"Норильск\",\"flags\":{\"metro\":false,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"pedestrian_routing\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((88.529535 69.242435,86.000942 69.246318,85.986318 69.559455,88.551918 69.555507,88.529535 69.242435))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"norilsk\",\"country_code\":\"ru\",\"id\":\"76\",\"type\":\"region\",\"time_zone\":{\"name\":\"Asia/Krasnoyarsk\",\"offset\":420}},{\"name\":\"Ноябрьск\",\"flags\":{\"metro\":false,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((74.30478 63.879187,76.263372 63.875343,76.226155 63.018251,74.325265 63.021954,74.30478 63.879187))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"noyabrsk\",\"country_code\":\"ru\",\"id\":\"103\",\"type\":\"region\",\"time_zone\":{\"name\":\"Asia/Yekaterinburg\",\"offset\":300}},{\"name\":\"Одесса\",\"flags\":{\"metro\":false,\"has_net_booklet\":true,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":false,\"road_network\":true},\"domain\":\"ua\",\"bounds\":\"POLYGON((30.512168 46.64901,30.896079 46.656702,30.911286 46.261025,30.530141 46.253438,30.512168 46.64901))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"odessa\",\"country_code\":\"ua\",\"id\":\"14\",\"type\":\"region\",\"time_zone\":{\"name\":\"Europe/Kiev\",\"offset\":180}},{\"name\":\"Омск\",\"flags\":{\"metro\":false,\"has_net_booklet\":true,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"traffic\":true,\"pedestrian_routing\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((72.9275 54.78532,72.877229 54.78445,72.844079 55.404999,73.25143 55.411503,73.27756 55.430606,73.32946 55.412594,73.75247 55.41764,73.762279 55.10337,73.7772 55.094703,73.763533 55.06273,73.771665 54.796804,73.213126 54.789864,73.074267 54.775192,73.059208 54.787499,72.9275 54.78532))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"omsk\",\"country_code\":\"ru\",\"id\":\"2\",\"type\":\"region\",\"time_zone\":{\"name\":\"Asia/Omsk\",\"offset\":360}},{\"name\":\"Оренбург\",\"flags\":{\"metro\":false,\"has_net_booklet\":true,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"pedestrian_routing\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((55.397659 51.620872,55.28373 51.637597,54.906781 51.643137,54.906756 51.728877,54.849285 51.718242,54.83241 51.765792,54.875718 51.813504,54.842325 51.851931,55.069006 51.965505,55.133556 51.92549,55.190471 51.924788,55.250638 51.947908,55.269167 51.92153,55.379206 51.921589,55.380686 51.890251,55.463369 51.890643,55.462422 51.862277,55.506478 51.820429,55.515763 51.763054,55.602497 51.740792,55.578399 51.705268,55.603926 51.693925,55.584852 51.664817,55.537511 51.664477,55.499267 51.610351,55.397659 51.620872))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"orenburg\",\"country_code\":\"ru\",\"id\":\"48\",\"type\":\"region\",\"time_zone\":{\"name\":\"Asia/Yekaterinburg\",\"offset\":300}},{\"name\":\"Орёл\",\"flags\":{\"metro\":false,\"has_net_booklet\":true,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((35.853124 52.882663,35.840989 52.911897,35.84926 52.994905,35.878061 53.038401,35.860952 53.047981,35.874297 53.056616,35.860656 53.072489,35.871515 53.088745,35.93747 53.082329,35.965898 53.100819,36.064945 53.105009,36.199071 53.086792,36.249337 53.100916,36.329336 53.080138,36.284661 53.059816,36.295392 53.040838,36.284711 53.027058,36.313628 53.019657,36.31769 52.992176,36.346317 52.983267,36.305475 52.952624,36.32892 52.932396,36.28261 52.885783,36.235773 52.876645,36.203546 52.846229,36.106135 52.835902,36.014244 52.859097,35.902308 52.84126,35.864119 52.857087,35.853124 52.882663))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"orel\",\"country_code\":\"ru\",\"id\":\"71\",\"type\":\"region\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180}},{\"name\":\"Ош\",\"flags\":{\"metro\":false,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":false,\"pedestrian_routing\":true,\"road_network\":true},\"domain\":\"kg\",\"bounds\":\"POLYGON((72.880651 40.410746,72.824373 40.386391,72.716869 40.41987,72.700391 40.551882,72.71733 40.589844,72.760236 40.572754,72.74911 40.597372,72.762679 40.627708,72.791396 40.616625,72.843441 40.651018,72.875985 40.619755,72.893399 40.544166,72.880651 40.410746))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"osh\",\"country_code\":\"kg\",\"id\":\"171\",\"type\":\"region\",\"time_zone\":{\"name\":\"Asia/Bishkek\",\"offset\":360}},{\"name\":\"Павлодар\",\"flags\":{\"metro\":false,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":false,\"road_network\":true},\"domain\":\"kz\",\"bounds\":\"POLYGON((77.223834 52.214201,77.241662 52.014535,76.992875 51.991758,76.9173 51.989277,76.769674 52.020351,76.660819 52.166653,76.600238 52.180226,76.645111 52.229329,76.675924 52.439188,76.992228 52.479541,77.235345 52.446979,77.223834 52.214201))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"pavlodar\",\"country_code\":\"kz\",\"id\":\"111\",\"type\":\"region\",\"time_zone\":{\"name\":\"Asia/Qyzylorda\",\"offset\":360}},{\"name\":\"Пенза\",\"flags\":{\"metro\":false,\"has_net_booklet\":true,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"pedestrian_routing\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((45.104058 53.066054,44.963755 53.041572,44.794662 53.061626,44.776161 53.076518,44.770048 53.262088,44.810489 53.286551,44.832085 53.335556,44.977002 53.363303,45.02642 53.389323,45.054239 53.376283,45.061104 53.348888,45.35881 53.348717,45.357781 53.225766,45.391043 53.135605,45.340927 53.030362,45.300415 53.009999,45.155505 53.031889,45.104058 53.066054))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"penza\",\"country_code\":\"ru\",\"id\":\"42\",\"type\":\"region\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180}},{\"name\":\"Пермь\",\"flags\":{\"metro\":false,\"has_net_booklet\":true,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"traffic\":true,\"pedestrian_routing\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((56.921347 59.020265,56.905943 59.002546,56.972596 58.803898,56.885783 58.649364,56.849216 58.539439,56.843605 58.463639,56.899714 58.459027,56.898912 58.430923,56.921007 58.426045,56.899566 58.37942,56.872117 58.368386,56.873707 58.348237,56.909328 58.336781,56.895896 58.307611,56.912771 58.295503,56.896229 58.300431,56.853229 58.270343,56.857187 58.168006,56.825286 58.162266,56.786944 58.052761,56.831451 58.041996,56.816486 58.03891,56.829434 58.018053,56.816349 58.01115,56.824115 57.977059,56.770845 57.981386,56.71997 57.962514,56.749126 57.96009,56.734893 57.949979,56.746497 57.929909,56.815844 57.899191,56.81149 57.874553,56.759037 57.870989,56.822721 57.848471,56.831583 57.830761,56.649625 57.770252,56.606307 57.780272,56.445855 57.745008,56.436767 57.738924,56.461364 57.718418,56.438413 57.713822,56.463189 57.701114,56.454315 57.685357,56.468739 57.658593,56.254311 57.681783,56.249596 57.664133,55.976853 57.68302,55.955104 57.673509,55.983188 57.723328,55.97954 57.755518,55.900356 57.761933,55.908485 57.791562,55.814272 57.782843,55.748424 57.755537,55.716144 57.780353,55.687488 57.780003,55.709884 57.799233,55.702676 57.807087,55.591751 57.823949,55.554895 57.814259,55.589075 57.888804,55.503048 57.902516,55.648536 58.003859,55.619639 58.01355,55.520852 57.993174,55.520067 58.01337,55.504631 58.013045,55.569992 58.050236,55.575935 58.067054,55.554071 58.096959,55.572171 58.120218,55.562953 58.133018,55.648806 58.144972,55.637379 58.15999,55.686498 58.175148,55.681709 58.212463,55.742136 58.205958,55.740747 58.243583,55.788805 58.267762,55.846184 58.287641,55.955649 58.277983,55.980887 58.306921,55.961852 58.316612,55.963489 58.333627,56.007718 58.34083,56.002223 58.323261,56.028648 58.316982,56.068234 58.36527,56.124484 58.364976,56.162678 58.409374,56.148442 58.412692,56.15577 58.430813,56.122181 58.431366,56.071865 58.462076,56.103019 58.501165,56.069958 58.58524,56.260193 58.779141,56.302683 58.883024,56.253783 58.95531,56.239793 59.0072,56.199364 59.01991,56.177032 59.046108,56.221751 59.150502,56.215606 59.220063,56.252426 59.25211,56.472407 59.33059,56.460479 59.357147,56.484969 59.366504,56.39135 59.396913,56.321278 59.389305,56.323657 59.408076,56.413663 59.451677,56.525174 59.578228,56.574141 59.59962,56.643024 59.602979,56.662338 59.592683,56.65927 59.569141,56.72323 59.556509,56.798945 59.56039,56.824834 59.616743,56.87807 59.609381,56.914826 59.622718,56.988254 59.561737,57.076139 59.520211,57.178887 59.512805,57.301958 59.426418,57.268844 59.379168,57.2326 59.378983,57.199205 59.297491,57.164119 59.292824,57.178037 59.284982,57.167344 59.274844,57.192223 59.275825,57.166065 59.265167,57.187326 59.259679,57.171776 59.25297,57.179179 59.244273,57.140821 59.2268,57.16359 59.219585,57.07673 59.192596,57.076428 59.175407,57.128875 59.155157,57.054208 59.148638,57.039587 59.130936,57.057589 59.11709,57.018078 59.098206,56.97406 59.10476,56.921347 59.020265))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"perm\",\"country_code\":\"ru\",\"id\":\"16\",\"type\":\"region\",\"time_zone\":{\"name\":\"Asia/Yekaterinburg\",\"offset\":300}},{\"name\":\"Петрозаводск\",\"flags\":{\"metro\":false,\"has_net_booklet\":true,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"pedestrian_routing\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((34.102722 61.959477,34.70885 61.953295,34.694352 61.691472,34.093364 61.697587,34.102722 61.959477))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"petrozavodsk\",\"country_code\":\"ru\",\"id\":\"80\",\"type\":\"region\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180}},{\"name\":\"Петропавловск-Камчатский\",\"flags\":{\"metro\":false,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((158.93997 52.708399,158.207589 52.869935,158.098651 52.921805,158.103729 52.978899,158.122863 53.005263,158.070474 53.123971,158.038502 53.158854,158.036961 53.18785,158.110492 53.246335,158.115759 53.275807,158.172805 53.29123,158.185568 53.360891,158.767001 53.363873,158.934418 53.326234,159.031063 53.266487,159.282336 52.942785,159.099675 52.85838,158.93997 52.708399))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"p_kamchatskiy\",\"country_code\":\"ru\",\"id\":\"95\",\"type\":\"region\",\"time_zone\":{\"name\":\"Asia/Kamchatka\",\"offset\":720}},{\"name\":\"Псков\",\"flags\":{\"metro\":false,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((28.236627 57.893868,28.487391 57.87357,28.506529 57.852656,28.489222 57.82986,28.475856 57.739093,28.383826 57.720002,28.314786 57.730288,28.165414 57.714437,28.066706 57.753157,27.879575 57.697647,27.844135 57.700623,27.81286 57.73521,27.718068 57.752111,27.662905 57.797518,27.618062 57.782609,27.541574 57.823176,27.70805 57.848447,27.740926 57.827721,27.795637 57.841216,27.800355 57.854737,27.8879 57.839632,27.916041 57.860544,27.912105 57.876503,28.167686 57.912474,28.236627 57.893868))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"pskov\",\"country_code\":\"ru\",\"id\":\"90\",\"type\":\"region\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180}},{\"name\":\"Республика Алтай\",\"flags\":{\"metro\":false,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"pedestrian_routing\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((86.741415 52.1575,86.740159 52.171359,86.801044 52.158722,86.805639 52.187755,86.723874 52.197203,86.767102 52.243,86.783393 52.293024,86.693579 52.294799,86.68961 52.341377,86.667052 52.342734,86.642405 52.402575,86.62298 52.406021,86.62298 52.423775,86.679427 52.43683,86.676711 52.466176,86.649409 52.494794,86.661859 52.498895,86.627938 52.52683,86.722129 52.508723,86.763347 52.524257,86.794917 52.514808,86.775138 52.595801,86.821192 52.608641,86.809816 52.648098,86.844945 52.6264,86.932994 52.635155,86.936726 52.654524,86.989466 52.658492,87.012755 52.642514,87.068836 52.657448,87.099071 52.619226,87.134484 52.616339,87.11888 52.598563,87.197136 52.57321,87.218457 52.58875,87.297162 52.59237,87.33368 52.572745,87.37119 52.573691,87.371806 52.498746,87.428271 52.49947,87.494308 52.474214,87.539995 52.483464,87.583791 52.46215,87.611621 52.47148,87.623351 52.464791,87.610656 52.456439,87.617976 52.438341,87.653327 52.422416,87.700823 52.464322,87.732916 52.462713,87.755305 52.484868,87.845122 52.491026,87.864908 52.518856,87.892618 52.525854,87.891369 52.539479,88.021112 52.511055,88.123465 52.462634,88.143614 52.428852,88.231529 52.400058,88.281036 52.414455,88.310877 52.436896,88.317271 52.464244,88.445685 52.432956,88.442629 52.40601,88.406032 52.378341,88.463945 52.341503,88.403297 52.311662,88.391393 52.292277,88.402091 52.276754,88.380374 52.273215,88.396944 52.239674,88.363573 52.169065,88.374518 52.154623,88.360185 52.146284,88.378254 52.12461,88.286261 52.111732,88.248387 52.07755,88.25247 52.0458,88.178285 52.065758,88.151791 52.095988,88.126426 52.068234,88.061536 52.044389,88.057627 52.016808,88.087596 52.000021,87.97684 51.952266,88.001771 51.941712,88.001424 51.916173,87.945307 51.885704,87.934536 51.848568,87.898573 51.822291,87.882589 51.782897,87.932712 51.784547,87.991173 51.751386,88.084121 51.758335,88.110094 51.740266,88.106794 51.70856,88.076043 51.674834,88.019145 51.664388,88.00125 51.632399,88.003943 51.58927,87.959032 51.576348,87.950085 51.55133,87.900397 51.551548,87.934449 51.526312,87.945742 51.475191,88.052328 51.466461,88.141106 51.428543,88.125209 51.394057,88.143278 51.386152,88.133288 51.374165,88.156395 51.348495,88.187319 51.359006,88.315101 51.344413,88.325265 51.32452,88.401447 51.308059,88.424641 51.286255,88.590383 51.323347,88.631385 51.385349,88.700879 51.39093,88.693842 51.440444,88.680552 51.44444,88.692452 51.480816,88.658053 51.52805,88.750393 51.545358,88.763075 51.561429,88.79735 51.549455,88.814539 51.520634,88.846101 51.516319,88.863883 51.467884,88.919894 51.46392,89.004949 51.398852,89.006801 51.373922,88.985834 51.361067,88.997689 51.321504,88.960126 51.248341,88.9765 51.239932,88.960719 51.228301,88.963313 51.206481,89.031326 51.186793,89.049849 51.159806,89.036513 51.144358,89.048664 51.119576,89.022288 51.102517,89.054147 51.08231,89.054221 51.047136,89.100972 51.037486,89.123199 51.007425,89.192472 50.982957,89.241964 50.921557,89.268044 50.915982,89.267748 50.880456,89.346949 50.881253,89.348579 50.859675,89.398663 50.850525,89.375918 50.826409,89.390217 50.809925,89.453415 50.79257,89.477939 50.745449,89.528394 50.724075,89.582776 50.645801,89.639825 50.642893,89.631972 50.617147,89.649457 50.576936,89.729103 50.568638,89.85135 50.524889,89.842163 50.499885,89.865649 50.472046,89.8189 50.411201,89.735772 50.409274,89.707322 50.384121,89.664721 50.38501,89.655164 50.369729,89.613229 50.374267,89.58989 50.428129,89.50291 50.459801,89.510615 50.449948,89.4915 50.44528,89.48135 50.399919,89.501577 50.385732,89.496835 50.363912,89.381479 50.338889,89.379479 50.314921,89.406595 50.314032,89.390296 50.28636,89.343768 50.264245,89.333026 50.21668,89.308428 50.207937,89.403485 50.177932,89.440603 50.203696,89.520175 50.191731,89.532474 50.147871,89.511507 50.11931,89.58241 50.106974,89.592042 50.084192,89.533956 50.065855,89.524696 50.03935,89.543959 50.01503,89.592932 50.01553,89.598711 49.984524,89.62479 49.970855,89.608713 49.963743,89.614715 49.939182,89.591721 49.912627,89.63088 49.899345,89.611741 49.86352,89.651037 49.82644,89.624463 49.806369,89.673452 49.783475,89.711881 49.790098,89.7192 49.7283,89.6074 49.686,89.461564 49.666217,89.427352 49.619381,89.405269 49.621127,89.3846 49.6062,89.391 49.5953,89.36 49.5844,89.2506 49.6423,89.193637 49.634683,89.182398 49.622898,89.199073 49.604776,89.191469 49.58602,89.2327 49.5537,89.2009 49.5228,88.9845 49.4637,88.9326 49.5168,88.9295 49.5429,88.90009 49.558961,88.869615 49.546741,88.879675 49.513767,88.8571 49.4918,88.8801 49.4781,88.8534 49.4667,88.8628 49.4595,88.8429 49.4416,88.8022 49.4604,88.6836 49.4622,88.5992 49.5009,88.4949 49.4719,88.445 49.4726,88.4059 49.4946,88.368004 49.483846,88.3312 49.4935,88.297742 49.470898,88.221784 49.47966,88.165591 49.445452,88.184379 49.415928,88.118763 49.390801,88.124131 49.372926,88.160451 49.362761,88.170112 49.293567,88.106706 49.256569,88.054756 49.258389,88.056412 49.241085,88.017979 49.226295,87.988438 49.18302,87.805862 49.168484,87.695023 49.175738,87.670519 49.15207,87.492854 49.138516,87.503232 49.09253,87.427347 49.071318,87.28579 49.115872,87.303812 49.172181,87.291593 49.201769,87.309671 49.233885,87.198325 49.252499,87.02935 49.253989,87.006045 49.298864,86.970987 49.305851,86.926469 49.348878,86.924715 49.369818,86.9492 49.379942,86.936266 49.400195,86.947328 49.409624,86.833377 49.452247,86.82972 49.48174,86.855415 49.49914,86.814847 49.532322,86.827174 49.545425,86.739513 49.571169,86.665905 49.560272,86.618249 49.570377,86.597577 49.609524,86.615549 49.628524,86.659159 49.643789,86.665733 49.665502,86.699725 49.684973,86.72419 49.676651,86.778924 49.696016,86.752998 49.742395,86.782843 49.793792,86.735862 49.787154,86.688375 49.810899,86.590212 49.80559,86.6105 49.768929,86.582292 49.724142,86.509239 49.690951,86.488451 49.65791,86.428612 49.629352,86.420003 49.60759,86.2716 49.5827,86.267004 49.546539,86.202038 49.466113,86.17391 49.478979,86.166345 49.503304,86.112922 49.524383,86.037199 49.521846,86.024507 49.503727,85.968991 49.487116,85.929409 49.535866,85.944281 49.561326,85.883737 49.566907,85.826225 49.544254,85.809912 49.565881,85.75689 49.57715,85.677689 49.550396,85.589914 49.614381,85.553288 49.594414,85.490205 49.598129,85.38844 49.634803,85.321261 49.590847,85.257519 49.588524,85.264671 49.619788,85.210125 49.627086,85.215526 49.71853,85.203369 49.745268,85.148748 49.76791,85.144565 49.796419,85.101607 49.824213,85.100427 49.852116,85.059699 49.885036,84.985489 49.906772,84.984927 49.949919,84.972947 49.954279,84.994726 49.970128,84.978046 49.976294,85.049258 50.010397,85.035365 50.018876,85.035543 50.052494,84.974827 50.066958,84.945831 50.09661,84.8507 50.0939,84.813908 50.120772,84.825375 50.142985,84.75802 50.136943,84.692012 50.188623,84.628187 50.210679,84.567522 50.196841,84.456801 50.247256,84.409847 50.209226,84.362523 50.205465,84.251587 50.290141,84.272029 50.320659,84.269559 50.353755,84.242026 50.376855,84.241988 50.408662,84.203975 50.468975,84.232571 50.483066,84.248707 50.515566,84.230577 50.540242,84.169136 50.551745,84.144961 50.605966,84.115294 50.609194,84.080418 50.639877,84.127972 50.659636,84.343851 50.686268,84.397739 50.710053,84.42595 50.682196,84.473729 50.687078,84.514354 50.721437,84.511298 50.765456,84.557563 50.779921,84.589885 50.823992,84.539808 50.847646,84.437357 50.859917,84.438271 50.908374,84.490696 50.948059,84.34091 50.980694,84.305924 51.003878,84.222168 50.987377,84.127497 51.014216,84.101388 51.042257,84.061625 51.032231,84.02079 51.044188,84.038283 51.057608,83.943117 51.069148,83.956379 51.11019,83.932919 51.138087,84.042042 51.15374,84.096635 51.143349,84.069691 51.110609,84.120656 51.071237,84.146973 51.104134,84.153865 51.182773,84.179634 51.192381,84.200886 51.227941,84.192322 51.247157,84.234305 51.255878,84.256471 51.282613,84.331794 51.290341,84.376937 51.267314,84.412915 51.271282,84.452913 51.287731,84.458891 51.317025,84.633715 51.34705,84.641286 51.374725,84.68306 51.391487,84.716156 51.426799,84.766555 51.417022,84.849529 51.442452,84.897987 51.437753,84.923129 51.465532,84.92057 51.482868,84.989627 51.513625,85.111038 51.524095,85.166854 51.486525,85.195571 51.485502,85.244031 51.499162,85.260818 51.528716,85.29912 51.530649,85.305882 51.555556,85.449976 51.566314,85.446007 51.601769,85.479896 51.623074,85.48206 51.69047,85.582319 51.697222,85.626286 51.747247,85.623264 51.782779,85.539096 51.838252,85.536318 51.859355,85.616988 51.871872,85.544145 51.942899,85.585383 51.992331,85.682498 52.024578,85.701278 52.096576,85.74295 52.113436,85.850951 52.105479,85.869512 52.130262,85.898144 52.119127,85.914404 52.147076,86.116311 52.165694,86.114619 52.151813,86.132003 52.149228,86.172874 52.173167,86.282628 52.190286,86.4337 52.165022,86.466748 52.142065,86.456421 52.12839,86.60878 52.104938,86.648831 52.105669,86.688594 52.140995,86.725961 52.139143,86.741415 52.1575))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"gornoaltaysk\",\"country_code\":\"ru\",\"id\":\"27\",\"type\":\"region\",\"time_zone\":{\"name\":\"Asia/Barnaul\",\"offset\":420}},{\"name\":\"Ростов-на-Дону\",\"flags\":{\"metro\":false,\"has_net_booklet\":true,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"traffic\":true,\"pedestrian_routing\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((39.35785 47.239013,39.358001 47.261508,39.310916 47.264747,39.31884 47.283311,39.486713 47.328345,39.559365 47.376813,39.734563 47.385205,39.734689 47.417805,39.804088 47.425666,39.868718 47.455781,39.864309 47.46816,39.878046 47.471547,39.834574 47.516331,39.861573 47.526634,39.996426 47.5208,40.038389 47.479463,40.012236 47.457735,40.036528 47.436502,40.028784 47.420259,39.983399 47.415849,39.96051 47.363195,39.924723 47.358403,39.919436 47.053314,39.746241 47.04353,39.743526 47.06029,39.619994 47.050119,39.618758 47.062267,39.541011 47.061609,39.535676 47.040827,39.367812 47.036168,39.355318 47.048678,39.35785 47.239013))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"rostov\",\"country_code\":\"ru\",\"id\":\"24\",\"type\":\"region\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180}},{\"name\":\"Рязань\",\"flags\":{\"metro\":false,\"has_net_booklet\":true,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"traffic\":true,\"pedestrian_routing\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((39.404406 54.733859,39.344055 54.776871,39.415177 54.839913,39.388799 54.854473,39.401008 54.870252,39.444898 54.883538,39.576876 54.908518,39.610584 54.901857,39.615095 54.881368,40.082101 54.878236,40.072595 54.486578,39.402002 54.490668,39.391534 54.582714,39.402966 54.588546,39.404406 54.733859))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"ryazan\",\"country_code\":\"ru\",\"id\":\"44\",\"type\":\"region\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180}},{\"name\":\"Самара\",\"flags\":{\"metro\":true,\"has_net_booklet\":true,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"traffic\":true,\"pedestrian_routing\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((50.543117 53.364846,50.533219 53.25976,50.516002 53.24489,50.55769 53.126904,50.543375 53.056351,50.412611 53.01015,49.973323 53.005299,49.910829 53.01341,49.899516 53.033312,49.747249 53.03528,49.787691 53.052236,49.794395 53.092844,49.807912 53.096481,49.77879 53.208185,49.796888 53.215506,49.792086 53.25618,49.777904 53.256952,49.787115 53.322185,49.74678 53.316751,49.707458 53.33157,49.681209 53.442657,49.728745 53.443838,49.733939 53.534138,49.794308 53.574405,49.762931 53.605617,49.797112 53.630996,49.7745 53.644768,49.811818 53.695905,50.005342 53.741546,50.225728 53.761331,50.240908 53.787848,50.328294 53.771345,50.364095 53.787345,50.497233 53.712068,50.588739 53.573857,50.567375 53.566267,50.613965 53.422232,50.543117 53.364846))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"samara\",\"country_code\":\"ru\",\"id\":\"18\",\"type\":\"region\",\"time_zone\":{\"name\":\"Europe/Samara\",\"offset\":240}},{\"name\":\"Санкт-Петербург\",\"flags\":{\"metro\":true,\"has_net_booklet\":true,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"traffic\":true,\"pedestrian_routing\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((29.434359 59.946365,29.445579 59.959851,29.384119 60.174382,29.405012 60.224502,29.400164 60.252241,29.521252 60.258295,29.627703 60.278179,29.66498 60.299917,29.84095 60.308972,30.06164 60.281094,30.242995 60.303807,30.447249 60.290476,30.523715 60.320691,30.752071 60.301317,30.816189 60.315166,30.855095 60.301614,30.942787 60.325074,31.105005 60.16026,31.168335 60.018131,31.106791 59.898566,31.063075 59.885463,31.112742 59.796151,31.086122 59.724592,31.033585 59.698741,31.064892 59.563652,31.04545 59.524782,30.970836 59.485961,30.80349 59.478467,30.697059 59.506842,30.561983 59.47743,30.428788 59.490007,30.359155 59.480736,30.348887 59.463495,30.110774 59.492718,30.080227 59.491851,30.062839 59.468795,29.931194 59.489972,29.738708 59.469542,29.602223 59.489989,29.523615 59.476495,29.456031 59.535583,29.458275 59.633169,29.434451 59.70411,29.45926 59.780422,29.482875 59.793804,29.406808 59.808405,29.390717 59.828508,29.430398 59.891821,29.419245 59.945138,29.434359 59.946365))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"spb\",\"country_code\":\"ru\",\"id\":\"38\",\"type\":\"region\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180}},{\"name\":\"Саранск\",\"flags\":{\"metro\":false,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((45.081871 54.301948,45.511721 54.300891,45.507836 53.984632,44.868027 53.985633,44.867159 54.263361,44.852386 54.305301,45.081871 54.301948))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"saransk\",\"country_code\":\"ru\",\"id\":\"85\",\"type\":\"region\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180}},{\"name\":\"Саратов\",\"flags\":{\"metro\":false,\"has_net_booklet\":true,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"traffic\":true,\"pedestrian_routing\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((45.856039 51.724488,45.992106 51.720064,46.06242 51.754989,46.09597 51.802026,46.136889 51.825832,46.181012 51.820402,46.208087 51.850335,46.357733 51.821791,46.430843 51.835331,46.409443 51.716977,46.433873 51.728667,46.486963 51.718232,46.493745 51.696684,46.540915 51.696023,46.588358 51.65045,46.525517 51.644371,46.496915 51.621779,46.531394 51.605031,46.510981 51.609141,46.51517 51.59486,46.418306 51.562717,46.334533 51.362232,46.364391 51.356598,46.309454 51.254999,46.280529 51.260371,46.253535 51.195964,45.636831 51.218825,45.629584 51.289772,45.675365 51.374963,45.57571 51.450277,45.542994 51.5536,45.559352 51.587834,45.534988 51.607904,45.560031 51.644779,45.527193 51.639659,45.502507 51.673286,45.531848 51.694726,45.520355 51.708246,45.581883 51.699862,45.63943 51.74748,45.71945 51.781457,45.77254 51.765501,45.81311 51.725493,45.856039 51.724488))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"saratov\",\"country_code\":\"ru\",\"id\":\"43\",\"type\":\"region\",\"time_zone\":{\"name\":\"Europe/Saratov\",\"offset\":240}},{\"name\":\"Саяногорск\",\"flags\":{\"metro\":false,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":false,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((91.574125 53.166227,91.585384 52.823144,91.303032 52.819442,91.287154 53.222249,91.571805 53.225993,91.574125 53.166227))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"sayanogorsk\",\"country_code\":\"ru\",\"id\":\"194\",\"type\":\"region\",\"time_zone\":{\"name\":\"Asia/Krasnoyarsk\",\"offset\":420}},{\"name\":\"Смоленск\",\"flags\":{\"metro\":false,\"has_net_booklet\":true,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((32.015394 54.690209,31.835486 54.688614,31.7783 54.707531,31.759145 54.729714,31.758252 54.779403,31.779213 54.858475,31.799064 54.879794,31.835458 54.883678,31.999494 54.881113,32.100553 54.907209,32.168106 54.944012,32.211606 54.918212,32.270858 54.815571,32.247847 54.735598,32.167074 54.698384,32.015394 54.690209))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"smolensk\",\"country_code\":\"ru\",\"id\":\"63\",\"type\":\"region\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180}},{\"name\":\"Сочи\",\"flags\":{\"metro\":false,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"traffic\":true,\"pedestrian_routing\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((40.383094 43.821667,40.365371 43.773998,40.389201 43.76582,40.370934 43.72688,40.452068 43.724357,40.464546 43.712482,40.44948 43.671334,40.460069 43.655847,40.552923 43.623576,40.604766 43.587745,40.653978 43.584486,40.661776 43.563048,40.564559 43.519058,40.50541 43.524875,40.477821 43.549126,40.259202 43.586214,40.103393 43.568154,40.095163 43.529315,40.010289 43.425017,40.009014 43.385546,39.88448 43.224431,39.849882 43.228041,39.713913 43.282428,39.641385 43.368903,39.517373 43.438142,39.471188 43.494287,39.398814 43.537163,39.334137 43.608194,39.12771 43.776747,38.852504 43.952338,38.797372 44.002146,38.691373 44.050731,38.623879 44.118782,38.50188 44.149785,38.612587 44.335728,38.608527 44.361301,38.630156 44.366958,38.638208 44.396334,38.678873 44.431986,38.688965 44.46535,38.665686 44.474828,38.670827 44.489693,38.801122 44.513945,38.937865 44.485387,38.978084 44.443491,38.919437 44.421173,38.988065 44.397481,39.016852 44.409412,39.029765 44.392764,39.017479 44.38142,39.063696 44.409298,39.05287 44.420898,39.083895 44.44668,39.139535 44.457873,39.417834 44.381504,39.490156 44.346222,39.482191 44.324272,39.503685 44.298895,39.585877 44.276664,39.634013 44.283478,39.673372 44.314531,39.733904 44.282985,39.793339 44.332707,39.895499 44.351638,39.974611 44.338574,40.067177 44.369326,40.077202 44.320229,40.104932 44.310694,40.193777 44.355403,40.189229 44.337124,40.204925 44.326856,40.284236 44.329373,40.336778 44.304877,40.384576 44.319191,40.384083 44.284023,40.418532 44.278134,40.359829 44.246745,40.406793 44.167246,40.405546 44.132848,40.432671 44.114017,40.413294 44.063314,40.480476 43.964506,40.409687 43.938768,40.402758 43.894816,40.420424 43.882593,40.383094 43.821667))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"sochi\",\"country_code\":\"ru\",\"id\":\"30\",\"type\":\"region\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180}},{\"name\":\"Ставрополь\",\"flags\":{\"metro\":false,\"has_net_booklet\":true,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"traffic\":true,\"pedestrian_routing\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((41.71342 44.893581,41.685529 44.896281,41.667935 44.929958,41.661667 45.008331,41.692812 45.027643,41.698853 45.060774,41.669371 45.069375,41.670132 45.103091,41.657403 45.103223,41.65798 45.130207,41.677233 45.13,41.671025 45.193197,41.697373 45.19275,41.697868 45.248583,41.812934 45.256127,41.954393 45.233953,41.994568 45.261419,42.147241 45.270428,42.304986 45.202801,42.366514 45.133954,42.317058 45.003834,42.242955 44.960936,42.11413 44.931575,42.061039 44.894863,42.040056 44.90999,41.999899 44.895762,41.944234 44.913399,41.71342 44.893581))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"stavropol\",\"country_code\":\"ru\",\"id\":\"57\",\"type\":\"region\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180}},{\"name\":\"Старый Оскол\",\"flags\":{\"metro\":false,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((37.988967 51.393172,38.033751 51.338068,38.014496 51.330424,38.029978 51.322342,38.065141 51.230624,37.99364 51.155762,37.975804 51.115372,37.89047 51.137642,37.867872 51.194118,37.752363 51.240665,37.711636 51.276762,37.748802 51.303268,37.718561 51.367014,37.830964 51.42328,37.971237 51.414969,37.988967 51.393172))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"staroskol\",\"country_code\":\"ru\",\"id\":\"60\",\"type\":\"region\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180}},{\"name\":\"Стерлитамак\",\"flags\":{\"metro\":false,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((56.141291 53.395949,56.132481 53.322821,56.107835 53.306713,55.876997 53.303411,55.850201 53.317461,55.762754 53.429216,55.710701 53.440577,55.691776 53.492937,55.796363 53.556787,55.817194 53.688315,55.940534 53.745092,56.108566 53.731209,56.140225 53.685013,56.150362 53.610702,56.128378 53.523897,56.141291 53.395949))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"sterlitamak\",\"country_code\":\"ru\",\"id\":\"54\",\"type\":\"region\",\"time_zone\":{\"name\":\"Asia/Yekaterinburg\",\"offset\":300}},{\"name\":\"Сургут\",\"flags\":{\"metro\":false,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"traffic\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((72.38176 61.388553,73.693324 61.407472,73.718338 61.430866,73.826706 61.418172,73.782279 61.384658,73.797164 60.996565,72.41568 60.977161,72.38176 61.388553))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"surgut\",\"country_code\":\"ru\",\"id\":\"39\",\"type\":\"region\",\"time_zone\":{\"name\":\"Asia/Yekaterinburg\",\"offset\":300}},{\"name\":\"Сыктывкар\",\"flags\":{\"metro\":false,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((50.657504 61.527715,50.636068 61.539362,50.589385 61.519683,50.584943 61.502181,50.358049 61.524635,50.374515 61.558666,50.155553 61.579157,50.192685 61.663327,50.211824 61.66137,50.219814 61.67932,50.259702 61.675254,50.297554 61.796039,50.390698 61.787261,50.470677 61.976617,50.518438 62.005444,50.658374 61.998829,50.700115 61.965373,50.831057 61.968262,51.042965 61.943237,51.023169 61.898419,51.300937 61.871537,51.285704 61.836303,51.363189 61.812802,51.439821 61.82162,51.438722 61.778192,51.451565 61.776999,51.394151 61.675321,51.254831 61.689574,51.204445 61.576752,51.047363 61.592638,51.012532 61.514285,50.742016 61.546535,50.657504 61.527715))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"syktyvkar\",\"country_code\":\"ru\",\"id\":\"72\",\"type\":\"region\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180}},{\"name\":\"Таганрог\",\"flags\":{\"metro\":false,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":false,\"pedestrian_routing\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((38.960129 47.28818,38.973252 47.204558,38.95631 47.187762,38.765481 47.21002,38.808288 47.238429,38.799428 47.250036,38.820496 47.271938,38.960129 47.28818))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"taganrog\",\"country_code\":\"ru\",\"id\":\"116\",\"type\":\"region\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180}},{\"name\":\"Тамбов\",\"flags\":{\"metro\":false,\"has_net_booklet\":true,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"traffic\":true,\"pedestrian_routing\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((41.260005 52.567998,41.268479 52.731323,41.236387 52.735174,41.271138 52.78225,41.274267 52.841987,41.459271 52.838296,41.480049 52.862206,41.51864 52.846945,41.517378 52.833462,41.638962 52.800252,41.641853 52.769172,41.602466 52.733497,41.596914 52.674708,41.615396 52.638425,41.609795 52.616906,41.625776 52.610338,41.587211 52.551951,41.481204 52.574653,41.359109 52.55523,41.260005 52.567998))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"tambov\",\"country_code\":\"ru\",\"id\":\"81\",\"type\":\"region\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180}},{\"name\":\"Тверь\",\"flags\":{\"metro\":false,\"has_net_booklet\":true,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((35.607908 56.678784,35.570898 56.695545,35.538946 56.757706,35.588963 56.772938,35.591409 56.789031,35.571466 56.851008,35.537348 56.874905,35.532145 56.924343,35.508421 56.938997,35.556666 56.956783,35.570436 56.978595,35.664379 57.00865,35.73051 57.007665,35.808084 57.041392,35.898954 57.050067,35.97844 57.037342,36.015941 57.015087,36.337513 56.974103,36.352173 56.854836,36.323448 56.787361,36.361046 56.758043,36.270183 56.694838,36.239273 56.682469,35.607908 56.678784))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"tver\",\"country_code\":\"ru\",\"id\":\"47\",\"type\":\"region\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180}},{\"name\":\"Тобольск\",\"flags\":{\"metro\":false,\"has_net_booklet\":true,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"pedestrian_routing\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((68.027461 58.334051,68.202464 58.347584,68.330932 58.333173,68.627747 58.337205,68.630591 58.064257,68.610922 58.051367,68.515642 58.063872,68.03489 58.061137,68.027461 58.334051))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"tobolsk\",\"country_code\":\"ru\",\"id\":\"97\",\"type\":\"region\",\"time_zone\":{\"name\":\"Asia/Yekaterinburg\",\"offset\":300}},{\"name\":\"Тольятти\",\"flags\":{\"metro\":false,\"has_net_booklet\":true,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"traffic\":true,\"pedestrian_routing\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((49.757851 53.315548,49.787115 53.322185,49.777904 53.256952,49.792086 53.25618,49.796888 53.215506,49.77879 53.208185,49.807912 53.096481,49.794395 53.092844,49.787691 53.052236,49.664636 53.027741,49.576552 53.034333,49.572233 53.048521,49.544847 53.040739,49.543582 53.06297,49.510492 53.066913,49.456518 53.050985,49.452008 53.035115,49.41868 53.036828,49.417156 53.018136,49.366877 53.00935,49.341312 52.985902,49.198784 53.018644,49.194897 52.941977,49.182276 52.932441,49.108312 52.935222,49.107225 52.912333,49.025792 52.908694,48.986242 52.882038,48.929584 52.908165,48.946418 52.921663,48.892282 52.946993,48.850016 52.927677,48.73638 52.978646,48.715833 52.962543,48.666568 52.986212,48.634927 52.967427,48.576346 52.99159,48.487947 52.989752,48.519065 52.958914,48.499645 52.940519,48.449405 52.952114,48.439113 52.972607,48.359834 52.957324,48.353057 52.973451,48.371755 52.99315,48.325122 52.997345,48.342014 53.058921,48.159756 53.086096,48.212202 53.137432,48.107527 53.180833,48.111779 53.204457,48.218927 53.261041,48.246979 53.305485,48.275755 53.290227,48.385685 53.315284,48.472727 53.283413,48.536172 53.325795,48.611318 53.314063,48.637623 53.320761,48.640492 53.338086,48.705562 53.336534,48.731976 53.373765,48.769055 53.382194,48.758106 53.407056,48.849668 53.39149,48.872272 53.435382,48.830441 53.465481,48.909851 53.478603,48.894586 53.491142,48.90861 53.509192,48.933523 53.515975,48.941069 53.497287,48.98353 53.533523,48.949824 53.578564,48.939025 53.648958,48.994849 53.715323,49.253207 53.696572,49.246297 53.718195,49.273159 53.733744,49.300792 53.711797,49.371995 53.723999,49.626178 53.677744,49.640868 53.72903,49.815231 53.714027,49.804274 53.670863,49.7745 53.644768,49.797836 53.632407,49.762931 53.605617,49.794308 53.574405,49.733939 53.534138,49.728745 53.443838,49.681209 53.442657,49.707458 53.33157,49.757851 53.315548))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"togliatti\",\"country_code\":\"ru\",\"id\":\"22\",\"type\":\"region\",\"time_zone\":{\"name\":\"Europe/Samara\",\"offset\":240}},{\"name\":\"Томск\",\"flags\":{\"metro\":false,\"has_net_booklet\":true,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"traffic\":true,\"pedestrian_routing\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((84.783402 56.581901,84.991724 56.591998,84.974638 56.639988,85.004481 56.687753,85.045182 56.688676,85.070721 56.678106,85.073288 56.650464,85.096105 56.650621,85.097019 56.637889,85.206565 56.608536,85.279646 56.569455,85.342194 56.524661,85.372239 56.469756,85.402749 56.459643,85.375987 56.453381,85.389566 56.411841,85.248355 56.351724,85.170078 56.345417,85.137633 56.327633,84.831578 56.323503,84.680085 56.540089,84.760897 56.558353,84.783402 56.581901))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"tomsk\",\"country_code\":\"ru\",\"id\":\"3\",\"type\":\"region\",\"time_zone\":{\"name\":\"Asia/Tomsk\",\"offset\":420}},{\"name\":\"Тула\",\"flags\":{\"metro\":false,\"has_net_booklet\":true,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"traffic\":true,\"pedestrian_routing\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((38.399267 54.266118,38.470992 54.193999,38.508234 54.178173,38.515886 54.160246,38.501516 54.156541,38.534027 54.123972,38.600428 54.112699,38.569552 54.063692,38.592478 54.044262,38.572731 54.016646,38.551337 54.01423,38.550516 53.995377,38.638449 53.9623,38.568617 53.959038,38.457578 53.848801,38.401631 53.820618,38.220688 53.849514,38.198672 53.864001,38.200643 53.890444,38.147397 53.902982,38.12458 53.891291,38.069076 53.910786,38.051279 53.901962,38.027663 53.918465,37.919557 53.890565,37.899904 53.90477,37.464798 53.889914,37.429616 53.899539,37.418328 54.197775,37.368526 54.228625,37.38038 54.252292,37.415747 54.265208,37.425436 54.309681,37.53468 54.311057,37.552533 54.334955,37.677493 54.300075,37.727011 54.316028,37.915046 54.315078,37.962779 54.325534,37.98144 54.352026,38.159244 54.352882,38.194297 54.365283,38.205572 54.354426,38.289137 54.372007,38.298507 54.345095,38.340918 54.328254,38.343188 54.300073,38.399267 54.266118))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"tula\",\"country_code\":\"ru\",\"id\":\"36\",\"type\":\"region\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180}},{\"name\":\"Тюмень\",\"flags\":{\"metro\":false,\"has_net_booklet\":true,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"traffic\":true,\"pedestrian_routing\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((66.665516 57.236788,66.690851 57.236046,66.695691 57.221026,66.673562 57.06223,66.712652 57.016171,66.674961 56.962332,66.657754 56.901559,66.621048 56.52188,66.655094 56.516231,66.618862 56.498976,66.609235 56.397678,65.560375 56.416201,65.461425 56.437632,65.307668 56.400165,65.196699 56.429248,65.170515 56.463611,65.216947 56.494441,65.243024 56.934976,65.203136 57.082456,65.184508 57.090626,65.199421 57.108857,65.184607 57.113573,65.198384 57.119297,65.193532 57.136906,65.17139 57.137306,65.18333 57.151991,65.169414 57.165587,65.199666 57.186041,65.169046 57.188989,65.172235 57.205579,65.182515 57.232831,65.217693 57.249693,65.209177 57.262337,65.361132 57.304899,65.762215 57.307211,65.809373 57.258866,66.665516 57.236788))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"tyumen\",\"country_code\":\"ru\",\"id\":\"13\",\"type\":\"region\",\"time_zone\":{\"name\":\"Asia/Yekaterinburg\",\"offset\":300}},{\"name\":\"Улан-Удэ\",\"flags\":{\"metro\":false,\"has_net_booklet\":true,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"traffic\":true,\"pedestrian_routing\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((106.861968 51.716814,106.283352 51.667014,106.28283 51.733313,106.305681 51.758435,106.218217 51.785023,106.204013 51.835589,105.872764 52.053418,106.172533 52.361056,106.999934 52.716939,108.012655 53.233717,108.297403 53.673511,108.373418 53.764052,108.929363 54.269942,109.543217 54.137962,109.571009 54.113442,109.576767 54.085589,109.623624 54.05345,109.783346 54.037236,109.79646 54.023096,109.820289 54.032949,110.109045 53.946227,110.190087 53.942366,110.228012 53.881763,110.033421 53.822867,110.026644 53.786567,109.95741 53.769449,109.79495 53.658651,109.827281 53.640473,109.82049 53.63228,109.774956 53.628465,109.772408 53.611417,109.728834 53.582666,109.676847 53.576952,109.681191 53.513946,109.693225 53.506872,109.665725 53.503162,109.672112 53.452787,109.586413 53.447626,109.606989 53.431008,109.586024 53.413111,109.606315 53.368601,109.208361 52.884073,109.140834 52.856747,109.056377 52.847811,108.921689 52.788249,108.905273 52.758485,108.857134 52.727341,108.866852 52.705676,108.836543 52.692437,108.837103 52.654528,108.806788 52.65392,108.750081 52.613573,108.756079 52.587244,108.72445 52.553625,108.743334 52.538009,108.735983 52.524572,108.709908 52.507941,108.614333 52.500895,108.59248 52.474767,108.520384 52.453709,108.455362 52.391449,108.417289 52.327266,108.384674 52.31775,108.396699 52.298447,108.366236 52.255853,108.316805 52.246193,108.334497 52.219036,108.316998 52.199566,108.225298 52.173283,108.183579 52.191812,108.099225 52.168549,108.081204 52.141838,108.047051 52.144982,108.045473 52.101028,107.94766 52.082032,107.868383 52.045537,107.990789 52.042492,107.96757 51.691351,107.72592 51.697211,107.71946 51.666309,107.686974 51.655509,107.693405 51.633601,107.653763 51.635855,107.6514 51.622049,107.625089 51.622971,107.620335 51.60418,107.578042 51.588984,107.519873 51.597276,107.511453 51.583054,107.481824 51.589882,107.433019 51.568023,107.361924 51.575733,107.355257 51.604579,107.296583 51.593291,107.21547 51.63668,107.217548 51.651711,107.084965 51.671417,107.063882 51.686935,107.068379 51.702306,107.038434 51.715087,106.861968 51.716814))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"ulanude\",\"country_code\":\"ru\",\"id\":\"37\",\"type\":\"region\",\"time_zone\":{\"name\":\"Asia/Irkutsk\",\"offset\":480}},{\"name\":\"Ульяновск\",\"flags\":{\"metro\":false,\"has_net_booklet\":true,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((48.634539 54.121281,48.56085 54.0901,48.552474 54.05428,48.524714 54.061226,48.519761 54.077286,48.445814 54.090836,48.408869 54.074805,48.322982 54.099049,48.179784 54.107706,48.159518 54.09732,48.069958 54.124575,48.04981 54.173416,48.00799 54.217115,48.035851 54.233839,48.022491 54.271162,48.035469 54.305415,48.056294 54.310561,48.041922 54.337865,47.965906 54.379922,47.992768 54.38293,47.984027 54.401357,48.035637 54.40986,48.011365 54.436125,48.029376 54.461865,48.08464 54.477654,48.318008 54.451123,48.336596 54.476568,48.861951 54.469107,48.860767 54.430261,48.924566 54.399153,48.914048 54.377469,48.930143 54.378176,48.929059 54.361941,48.911705 54.332877,48.938859 54.327409,48.942332 54.283077,48.976672 54.24835,48.976294 54.215558,48.93621 54.182404,48.856589 54.159136,48.634539 54.121281))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"ulyanovsk\",\"country_code\":\"ru\",\"id\":\"55\",\"type\":\"region\",\"time_zone\":{\"name\":\"Europe/Ulyanovsk\",\"offset\":240}},{\"name\":\"Уральск\",\"flags\":{\"metro\":false,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":false,\"pedestrian_routing\":true,\"road_network\":true},\"domain\":\"kz\",\"bounds\":\"POLYGON((51.526154 51.284431,51.569632 51.284246,51.567598 51.109229,51.255488 51.110327,51.256457 51.285243,51.526154 51.284431))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"uralsk\",\"country_code\":\"kz\",\"id\":\"162\",\"type\":\"region\",\"time_zone\":{\"name\":\"Asia/Oral\",\"offset\":300}},{\"name\":\"Уссурийск\",\"flags\":{\"metro\":false,\"has_net_booklet\":true,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"traffic\":true,\"pedestrian_routing\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((131.816747 43.70959,131.787156 43.708761,131.73639 43.752125,131.756949 43.851284,131.749195 43.962278,132.076996 43.975946,132.130901 43.964375,132.142052 43.718194,132.01259 43.703639,131.816747 43.70959))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"ussuriysk\",\"country_code\":\"ru\",\"id\":\"83\",\"type\":\"region\",\"time_zone\":{\"name\":\"Asia/Vladivostok\",\"offset\":600}},{\"name\":\"Усть-Каменогорск\",\"flags\":{\"metro\":false,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":false,\"road_network\":true},\"domain\":\"kz\",\"bounds\":\"POLYGON((82.444837 49.862906,82.450724 50.059192,82.805717 50.054212,82.798391 49.857959,82.444837 49.862906))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"ustkam\",\"country_code\":\"kz\",\"id\":\"91\",\"type\":\"region\",\"time_zone\":{\"name\":\"Asia/Qyzylorda\",\"offset\":360}},{\"name\":\"Уфа\",\"flags\":{\"metro\":false,\"has_net_booklet\":true,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"traffic\":true,\"pedestrian_routing\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((55.513299 54.50669,55.494061 54.522228,55.482358 54.499942,55.370533 54.502842,55.333781 54.478486,55.337286 54.466929,55.274856 54.490371,55.260739 54.468126,54.842509 54.456509,54.843068 54.473374,54.814564 54.483257,54.769627 54.445091,54.72315 54.443431,54.560293 54.483057,54.5318 54.466239,54.418596 54.494966,54.313238 54.485285,54.271603 54.443735,54.199599 54.436248,54.075626 54.458357,53.976709 54.41731,53.943558 54.374826,53.782489 54.397594,53.778182 54.378343,53.6907 54.386323,53.682825 54.407089,53.6494 54.40974,53.647372 54.396844,53.549588 54.40325,53.551157 54.422996,53.44346 54.416616,53.382596 54.452052,53.3771 54.502991,53.39054 54.504767,53.37469 54.540229,53.538948 54.687529,53.586984 54.678888,53.607935 54.696374,53.636725 54.686446,53.631588 54.66209,53.789475 54.637296,53.823796 54.605438,53.903618 54.607387,54.024752 54.643675,54.064318 54.60893,54.116066 54.608192,54.267083 54.620174,54.386915 54.667322,54.651514 54.672082,54.683258 54.687295,54.700007 54.717494,54.805092 54.724984,54.985053 54.786446,54.980276 54.803046,55.071891 54.802814,55.076182 54.82451,55.140601 54.829387,55.152037 54.79505,55.207401 54.802098,55.215732 54.787228,55.318581 54.78635,55.349396 54.816566,55.409092 54.807305,55.413453 54.832513,55.492898 54.819783,55.531936 54.879929,55.628156 54.866742,55.699121 54.99436,55.850751 55.006685,55.954333 54.967073,55.985465 54.994674,55.983949 54.977749,56.145711 54.952649,56.258965 54.975092,56.318201 54.969843,56.337313 54.947487,56.326867 54.941947,56.346624 54.93736,56.340896 54.924482,56.390036 54.901869,56.323125 54.869466,56.3214 54.8343,56.3454 54.8317,56.3646 54.7925,56.3317 54.7626,56.322659 54.712084,56.346087 54.678995,56.398652 54.671201,56.405036 54.642382,56.396789 54.622894,56.355509 54.617458,56.346136 54.575489,56.38673 54.581848,56.417876 54.567333,56.353748 54.527367,56.366802 54.502181,56.326085 54.49152,56.352179 54.466123,56.338955 54.455575,56.290272 54.435125,56.2344 54.458465,56.045708 54.41963,55.949653 54.46844,55.917946 54.44712,55.894078 54.474544,55.865215 54.467268,55.870203 54.476916,55.850475 54.4818,55.81172 54.462923,55.670207 54.520705,55.576685 54.523908,55.513299 54.50669))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"ufa\",\"country_code\":\"ru\",\"id\":\"17\",\"type\":\"region\",\"time_zone\":{\"name\":\"Asia/Yekaterinburg\",\"offset\":300}},{\"name\":\"Хабаровск\",\"flags\":{\"metro\":false,\"has_net_booklet\":true,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"traffic\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((135.258155 48.433811,135.257422 48.288578,135.064085 48.274463,134.874409 48.288797,134.873526 48.629594,135.259151 48.629372,135.275151 48.597403,135.258155 48.433811))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"khabarovsk\",\"country_code\":\"ru\",\"id\":\"35\",\"type\":\"region\",\"time_zone\":{\"name\":\"Asia/Vladivostok\",\"offset\":600}},{\"name\":\"Харьков\",\"flags\":{\"metro\":true,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":false,\"traffic\":true,\"pedestrian_routing\":true,\"road_network\":true},\"domain\":\"ua\",\"bounds\":\"POLYGON((36.031103 50.115121,36.467033 50.125456,36.481687 49.845767,36.048271 49.835534,36.031103 50.115121))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"kharkov\",\"country_code\":\"ua\",\"id\":\"110\",\"type\":\"region\",\"time_zone\":{\"name\":\"Europe/Kiev\",\"offset\":180}},{\"name\":\"Чебоксары\",\"flags\":{\"metro\":false,\"has_net_booklet\":true,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"pedestrian_routing\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((47.003696 56.264089,47.157621 56.330593,47.604562 56.313312,47.577505 56.071351,47.599217 56.03641,47.584692 56.032973,47.57594 55.988608,47.5156 55.968684,47.423278 55.984072,47.366692 55.97116,47.307714 55.990549,47.198503 55.967518,47.167182 55.981611,46.993093 55.988177,46.96654 56.009043,46.986605 56.02278,46.984365 56.072908,46.997421 56.078488,46.939627 56.229502,47.003696 56.264089))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"cheboksary\",\"country_code\":\"ru\",\"id\":\"53\",\"type\":\"region\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180}},{\"name\":\"Челябинск\",\"flags\":{\"metro\":false,\"has_net_booklet\":true,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"traffic\":true,\"pedestrian_routing\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((61.252272 54.968614,61.203292 54.974499,61.154767 55.001658,61.045568 55.121512,61.100754 55.175448,61.084098 55.195727,61.149519 55.295912,61.284521 55.36403,61.360806 55.379536,61.385601 55.362557,61.470025 55.375552,61.600387 55.321009,61.69485 55.304482,61.756228 55.265544,61.745198 55.160898,61.779485 55.083582,61.76733 55.046807,61.746429 55.036978,61.757873 54.97934,61.70127 54.987808,61.599819 54.966064,61.54954 54.932824,61.570157 54.915237,61.501835 54.895912,61.469463 54.906971,61.470091 54.938297,61.403401 54.928846,61.368564 54.96636,61.252272 54.968614))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"chelyabinsk\",\"country_code\":\"ru\",\"id\":\"15\",\"type\":\"region\",\"time_zone\":{\"name\":\"Asia/Yekaterinburg\",\"offset\":300}},{\"name\":\"Чита\",\"flags\":{\"metro\":false,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((113.069162 52.396705,113.152477 52.452545,113.371366 52.464993,113.470022 52.356606,113.534077 52.332884,113.516717 52.31346,113.536592 52.3132,113.527842 52.29535,113.560493 52.277937,113.551234 52.264949,113.666419 52.217868,113.764267 52.222663,113.798989 52.19943,113.815862 52.148641,113.785471 51.966389,113.676566 51.862738,113.451038 51.818171,113.370101 51.78102,113.348087 51.718262,113.272946 51.744414,113.219211 51.796579,113.144941 51.825077,113.064818 51.827423,112.930694 51.886475,112.505278 51.925249,112.39496 51.950602,112.334198 51.982953,112.33115 51.996715,112.361117 52.021256,112.322516 52.033757,112.323024 52.086064,112.343848 52.109777,112.332928 52.123188,112.359593 52.18084,112.436054 52.228411,112.511075 52.249215,112.505306 52.294373,112.546581 52.346365,112.610136 52.357394,112.653274 52.340795,112.680258 52.354375,112.735469 52.326659,112.804526 52.326126,112.881217 52.351024,112.922137 52.329699,112.981963 52.376365,113.008415 52.370063,113.069162 52.396705))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"chita\",\"country_code\":\"ru\",\"id\":\"64\",\"type\":\"region\",\"time_zone\":{\"name\":\"Asia/Chita\",\"offset\":540}},{\"name\":\"Шымкент\",\"flags\":{\"metro\":false,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":false,\"traffic\":false,\"road_network\":true},\"domain\":\"kz\",\"bounds\":\"POLYGON((69.416245 42.43852,69.802137 42.436468,69.799675 42.242484,69.414967 42.244521,69.416245 42.43852))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"shymkent\",\"country_code\":\"kz\",\"id\":\"161\",\"type\":\"region\",\"time_zone\":{\"name\":\"Asia/Almaty\",\"offset\":360}},{\"name\":\"Южно-Сахалинск\",\"flags\":{\"metro\":false,\"has_net_booklet\":true,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((141.675118 47.669621,141.68309 47.687322,141.996815 47.620946,142.054915 47.55946,142.061898 47.524003,142.091643 47.501389,142.137566 47.497304,142.204846 47.523722,142.193993 47.575909,142.235882 47.559828,142.277984 47.599893,142.379936 47.641676,142.34477 47.668283,142.367085 47.708999,142.433038 47.712816,142.391115 47.759771,142.40718 47.802399,142.363027 47.810485,142.335671 47.859543,142.35035 47.872389,142.319167 47.908044,142.370514 47.950153,142.36785 47.967077,142.430172 48.004207,142.498338 47.965237,142.528036 47.977203,142.840258 47.976952,142.823431 47.796041,142.862919 47.705495,142.929041 47.619192,143.129518 47.50829,143.201995 47.44488,143.304514 47.297502,143.335109 47.108297,143.648645 46.992415,143.716886 46.939107,143.762274 46.870484,143.79941 46.735728,143.825875 46.545657,143.890542 46.444329,143.903581 46.350373,143.879647 46.289696,143.772449 46.143633,143.736816 46.032721,143.665992 45.923211,143.595467 45.864906,143.472308 45.824532,143.33642 45.828324,143.236326 45.864426,143.165438 45.9208,143.129995 45.983756,143.109984 46.088789,143.117793 46.22435,143.064302 46.324019,142.933805 46.40737,142.847268 46.408042,142.768372 46.398919,142.588021 46.335876,142.540337 46.242406,142.52034 46.126556,142.457837 45.977249,142.34959 45.822267,142.291767 45.656078,141.716427 45.742255,141.762841 45.852956,141.677199 45.939908,141.643665 45.996301,141.600864 46.276621,141.542085 46.432746,141.52014 46.544633,141.530207 46.654188,141.716865 46.997716,141.758166 47.128712,141.690923 47.226766,141.671864 47.284024,141.659125 47.521747,141.675118 47.669621))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"yuzhnosakhalinsk\",\"country_code\":\"ru\",\"id\":\"88\",\"type\":\"region\",\"time_zone\":{\"name\":\"Asia/Sakhalin\",\"offset\":660}},{\"name\":\"Якутск\",\"flags\":{\"metro\":false,\"has_net_booklet\":true,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"traffic\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((129.586408 62.268402,129.881158 62.266844,129.928407 62.288252,129.931495 62.266516,129.994959 62.266076,129.970862 62.185033,129.974815 62.130719,129.997789 62.10425,129.981284 62.090761,129.989853 62.065925,129.96753 61.950891,130.022313 61.884783,129.896152 61.796782,129.735681 61.642089,129.688132 61.55616,129.495135 61.456515,129.324613 61.390668,128.737649 61.239092,128.596587 61.226232,128.449352 61.28631,128.385933 61.356958,128.346052 61.577842,128.314499 61.601685,128.311397 61.645908,128.274516 61.678607,128.480197 61.722612,128.538972 61.708541,128.788768 61.795172,128.778269 61.821213,128.750271 61.835257,128.853587 61.964803,129.311442 62.262601,129.519606 62.250452,129.533901 62.268614,129.586408 62.268402))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"yakutsk\",\"country_code\":\"ru\",\"id\":\"50\",\"type\":\"region\",\"time_zone\":{\"name\":\"Asia/Yakutsk\",\"offset\":540}},{\"name\":\"Ярославль\",\"flags\":{\"metro\":false,\"has_net_booklet\":true,\"2gis_reviews\":true,\"public_transport\":true,\"flamp\":true,\"traffic\":true,\"road_network\":true},\"domain\":\"ru\",\"bounds\":\"POLYGON((39.707415 57.626018,39.726133 57.726358,39.696686 57.753943,39.783415 57.776164,40.004961 57.777804,40.032512 57.763814,40.010655 57.728992,40.024879 57.706287,40.017841 57.680009,40.063737 57.628303,40.006906 57.559198,40.006358 57.539321,40.02355 57.536474,40.008208 57.517025,39.711997 57.507209,39.677242 57.526629,39.675203 57.549456,39.692672 57.560453,39.664961 57.581545,39.707584 57.585252,39.707415 57.626018))\",\"zoom_level\":{\"min\":8,\"max\":18},\"code\":\"yaroslavl\",\"country_code\":\"ru\",\"id\":\"28\",\"type\":\"region\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180}}]');DG.config = {\"host\":null,\"port\":3000,\"defaultSkin\":\"dark\",\"defaultLang\":\"ru\",\"trafficLayerMinZoom\":10,\"trafficLayerUpdateInterval\":300000,\"ppnotLink\":\"http://2gis.{domain}/{projectCode}/center/{center}/zoom/{zoom}/routeTab/rsType/{rsType}/to/{point}╎{name}\",\"photosLink\":\"http://2gis.{domain}/photos/{id}\",\"poiLayerMinZoom\":11,\"detectRetina\":false,\"webApiKey\":\"ruregt3044\",\"webApiVersion\":\"2.0\",\"regionListFields\":\"items.bounds,items.zoom_level,items.time_zone,items.code,items.flags,items.country_code,items.domain,items.default_pos\",\"firmInfoFields\":\"items.reviews,items.links,items.external_content\",\"geoAdditionalFields\":\"items.geometry.selection,items.links,items.adm_div,items.address,items.floors,items.description\",\"geoclickerCatalogApiKey\":\"ruregt3044\",\"projectLeaveMaxZoom\":13,\"flampUrl\":\"http://flamp.ru/r/\",\"flampGoogleAnalytics\":\"utm_source=api2gis&utm_medium=api&utm_campaign=geoclicker\",\"gaCode\":\"UA-38243181-2\",\"gaName\":\"mapsapi2gis\",\"protocol\":\"https:\",\"baseUrl\":\"//maps.api.2gis.ru/2.0\",\"tileServer\":\"//tile{s}.maps.2gis.com/tiles?x={x}&y={y}&z={z}&v=1&ts=online_sd\",\"retinaTileServer\":\"//tile{s}.maps.2gis.com/tiles?x={x}&y={y}&z={z}&v=1&ts=online_hd\",\"previewTileServer\":\"//tile{s}.maps.2gis.com/tiles?x={x}&y={y}&z={z}&v=1&size=64&ts=online_sd\",\"previewRetinaTileServer\":\"//tile{s}.maps.2gis.com/tiles?x={x}&y={y}&z={z}&v=1&size=64&ts=online_hd\",\"arabicTileServer\":\"//tile{s}.maps.2gis.com/tiles?x={x}&y={y}&z={z}&v=1&ts=online_sd_ar\",\"arabicRetinaTileServer\":\"//tile{s}.maps.2gis.com/tiles?x={x}&y={y}&z={z}&v=1&ts=online_hd_ar\",\"arabicPreviewTileServer\":\"//tile{s}.maps.2gis.com/tiles?x={x}&y={y}&z={z}&v=1&size=64&ts=online_sd_ar\",\"arabicPreviewRetinaTileServer\":\"//tile{s}.maps.2gis.com/tiles?x={x}&y={y}&z={z}&v=1&size=64&ts=online_hd_ar\",\"trafficTileServer\":\"//traffic{s}.maps.2gis.com/{projectCode}/traffic/{z}/{x}/{y}/speed/{period}/{timestampString}\",\"retinaTrafficTileServer\":\"//traffic{s}.maps.2gis.com/{projectCode}/traffic/{z}/{x}/{y}/speed/{period}/retina/{timestampString}\",\"trafficMetaServer\":\"//meta{s}.maps.2gis.com/{projectCode}/meta/{z}/{x}/{y}/graph_speed/{period}/{timestampString}\",\"retinaTrafficMetaServer\":\"//meta{s}.maps.2gis.com/{projectCode}/meta/{z}/{x}/{y}/graph_speed/{period}/retina/{timestampString}\",\"trafficTimestampServer\":\"//traffic{s}.maps.2gis.com/{projectCode}/meta/speed/time/\",\"trafficScoreServer\":\"//traffic{s}.maps.2gis.com/{projectCode}/meta/score/0/\",\"poiMetaServer\":\"//tile{s}.maps.2gis.com/poi?x={x}&y={y}&z={z}&v=1&ts=online_sd\",\"retinaPoiMetaServer\":\"//tile{s}.maps.2gis.com/poi?x={x}&y={y}&z={z}&v=1&ts=online_hd\",\"arabicPoiMetaServer\":\"//tile{s}.maps.2gis.com/poi?x={x}&y={y}&z={z}&v=1&ts=online_sd_ar\",\"arabicRetinaPoiMetaServer\":\"//tile{s}.maps.2gis.com/poi?x={x}&y={y}&z={z}&v=1&ts=online_hd_ar\",\"webApiServer\":\"//catalog.api.2gis.ru\",\"analytics\":\"//maps.api.2gis.ru/analytics/track-user.png\",\"googleAnalytics\":\"https://www.google-analytics.com/analytics.js\",\"loadProjectListTimeout\":5000};_dereq_(\"../../../dist/css/styles.full.dark.css\");\n\n\n}).call(this,_dereq_('_process'))\n\n},{\"../../../dist/css/styles.full.dark.css\":1,\"../../../vendors/baron\":9,\"_process\":8,\"dustjs-helpers\":4,\"dustjs-linkedin\":5,\"html5shiv\":6,\"leaflet\":7}],3:[function(_dereq_,module,exports){\n'use strict';\n// For more information about browser field, check out the browser field at https://github.com/substack/browserify-handbook#browser-field.\n\nvar styleElementsInsertedAtTop = [];\n\nvar insertStyleElement = function(styleElement, options) {\n    var head = document.head || document.getElementsByTagName('head')[0];\n    var lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\n\n    options = options || {};\n    options.insertAt = options.insertAt || 'bottom';\n\n    if (options.insertAt === 'top') {\n        if (!lastStyleElementInsertedAtTop) {\n            head.insertBefore(styleElement, head.firstChild);\n        } else if (lastStyleElementInsertedAtTop.nextSibling) {\n            head.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\n        } else {\n            head.appendChild(styleElement);\n        }\n        styleElementsInsertedAtTop.push(styleElement);\n    } else if (options.insertAt === 'bottom') {\n        head.appendChild(styleElement);\n    } else {\n        throw new Error('Invalid value for parameter \\'insertAt\\'. Must be \\'top\\' or \\'bottom\\'.');\n    }\n};\n\nmodule.exports = {\n    // Create a <link> tag with optional data attributes\n    createLink: function(href, attributes) {\n        var head = document.head || document.getElementsByTagName('head')[0];\n        var link = document.createElement('link');\n\n        link.href = href;\n        link.rel = 'stylesheet';\n\n        for (var key in attributes) {\n            if ( ! attributes.hasOwnProperty(key)) {\n                continue;\n            }\n            var value = attributes[key];\n            link.setAttribute('data-' + key, value);\n        }\n\n        head.appendChild(link);\n    },\n    // Create a <style> tag with optional data attributes\n    createStyle: function(cssText, attributes, extraOptions) {\n        extraOptions = extraOptions || {};\n\n        var style = document.createElement('style');\n        style.type = 'text/css';\n\n        for (var key in attributes) {\n            if ( ! attributes.hasOwnProperty(key)) {\n                continue;\n            }\n            var value = attributes[key];\n            style.setAttribute('data-' + key, value);\n        }\n\n        if (style.sheet) { // for jsdom and IE9+\n            style.innerHTML = cssText;\n            style.sheet.cssText = cssText;\n            insertStyleElement(style, { insertAt: extraOptions.insertAt });\n        } else if (style.styleSheet) { // for IE8 and below\n            insertStyleElement(style, { insertAt: extraOptions.insertAt });\n            style.styleSheet.cssText = cssText;\n        } else { // for Chrome, Firefox, and Safari\n            style.appendChild(document.createTextNode(cssText));\n            insertStyleElement(style, { insertAt: extraOptions.insertAt });\n        }\n    }\n};\n\n},{}],4:[function(_dereq_,module,exports){\n(function(root, factory) {\n  if (typeof define === 'function' && define.amd && define.amd.dust === true) {\n    define(['dust.core'], factory);\n  } else if (typeof exports === 'object') {\n    module.exports = factory(_dereq_('dustjs-linkedin'));\n  } else {\n    factory(root.dust);\n  }\n}(this, function(dust) {\n\nfunction log(helper, msg, level) {\n  level = level || \"INFO\";\n  helper = helper ? '{@' + helper + '}: ' : '';\n  dust.log(helper + msg, level);\n}\n\nvar _deprecatedCache = {};\nfunction _deprecated(target) {\n  if(_deprecatedCache[target]) { return; }\n  log(target, \"Deprecation warning: \" + target + \" is deprecated and will be removed in a future version of dustjs-helpers\", \"WARN\");\n  log(null, \"For help and a deprecation timeline, see https://github.com/linkedin/dustjs-helpers/wiki/Deprecated-Features#\" + target.replace(/\\W+/g, \"\"), \"WARN\");\n  _deprecatedCache[target] = true;\n}\n\nfunction isSelect(context) {\n  return context.stack.tail &&\n         context.stack.tail.head &&\n         typeof context.stack.tail.head.__select__ !== \"undefined\";\n}\n\nfunction getSelectState(context) {\n  return isSelect(context) && context.get('__select__');\n}\n\n/**\n * Adds a special __select__ key behind the head of the context stack. Used to maintain the state\n * of {@select} blocks\n * @param context {Context} add state to this Context\n * @param opts {Object} add these properties to the state (`key` and `type`)\n */\nfunction addSelectState(context, opts) {\n  var head = context.stack.head,\n      newContext = context.rebase(),\n      key;\n\n  if(context.stack && context.stack.tail) {\n    newContext.stack = context.stack.tail;\n  }\n\n  var state = {\n    isPending: false,\n    isResolved: false,\n    isDeferredComplete: false,\n    deferreds: []\n  };\n\n  for(key in opts) {\n    state[key] = opts[key];\n  }\n\n  return newContext\n  .push({ \"__select__\": state })\n  .push(head, context.stack.index, context.stack.of);\n}\n\n/**\n * After a {@select} or {@math} block is complete, they invoke this function\n */\nfunction resolveSelectDeferreds(state) {\n  var x, len;\n  state.isDeferredPending = true;\n  if(state.deferreds.length) {\n    state.isDeferredComplete = true;\n    for(x=0, len=state.deferreds.length; x<len; x++) {\n      state.deferreds[x]();\n    }\n  }\n  state.isDeferredPending = false;\n}\n\n/**\n * Used by {@contextDump}\n */\nfunction jsonFilter(key, value) {\n  if (typeof value === \"function\") {\n    return value.toString()\n      .replace(/(^\\s+|\\s+$)/mg, '')\n      .replace(/\\n/mg, '')\n      .replace(/,\\s*/mg, ', ')\n      .replace(/\\)\\{/mg, ') {');\n  }\n  return value;\n}\n\n/**\n * Generate a truth test helper\n */\nfunction truthTest(name, test) {\n  return function(chunk, context, bodies, params) {\n    return filter(chunk, context, bodies, params, name, test);\n  };\n}\n\n/**\n * This function is invoked by truth test helpers\n */\nfunction filter(chunk, context, bodies, params, helperName, test) {\n  var body = bodies.block,\n      skip = bodies['else'],\n      selectState = getSelectState(context) || {},\n      willResolve, key, value, type;\n\n  // Once one truth test in a select passes, short-circuit the rest of the tests\n  if (selectState.isResolved && !selectState.isDeferredPending) {\n    return chunk;\n  }\n\n  // First check for a key on the helper itself, then look for a key on the {@select}\n  if (params.hasOwnProperty('key')) {\n    key = params.key;\n  } else if (selectState.hasOwnProperty('key')) {\n    key = selectState.key;\n  } else {\n    log(helperName, \"No key specified\", \"WARN\");\n    return chunk;\n  }\n\n  type = params.type || selectState.type;\n\n  key = coerce(context.resolve(key), type);\n  value = coerce(context.resolve(params.value), type);\n\n  if (test(key, value)) {\n    // Once a truth test passes, put the select into \"pending\" state. Now we can render the body of\n    // the truth test (which may contain truth tests) without altering the state of the select.\n    if (!selectState.isPending) {\n      willResolve = true;\n      selectState.isPending = true;\n    }\n    if (body) {\n      chunk = chunk.render(body, context);\n    }\n    if (willResolve) {\n      selectState.isResolved = true;\n    }\n  } else if (skip) {\n    chunk = chunk.render(skip, context);\n  }\n  return chunk;\n}\n\nfunction coerce(value, type) {\n  if (type) {\n    type = type.toLowerCase();\n  }\n  switch (type) {\n    case 'number': return +value;\n    case 'string': return String(value);\n    case 'boolean':\n      value = (value === 'false' ? false : value);\n      return Boolean(value);\n    case 'date': return new Date(value);\n  }\n\n  return value;\n}\n\nvar helpers = {\n\n  // Utility helping to resolve dust references in the given chunk\n  // uses native Dust Context#resolve (available since Dust 2.6.2)\n  \"tap\": function(input, chunk, context) {\n    // deprecated for removal in 1.8\n    _deprecated(\"tap\");\n    return context.resolve(input);\n  },\n\n  \"sep\": function(chunk, context, bodies) {\n    var body = bodies.block;\n    if (context.stack.index === context.stack.of - 1) {\n      return chunk;\n    }\n    if (body) {\n      return body(chunk, context);\n    } else {\n      return chunk;\n    }\n  },\n\n  \"first\": function(chunk, context, bodies) {\n    if (context.stack.index === 0) {\n      return bodies.block(chunk, context);\n    }\n    return chunk;\n  },\n\n  \"last\": function(chunk, context, bodies) {\n    if (context.stack.index === context.stack.of - 1) {\n      return bodies.block(chunk, context);\n    }\n    return chunk;\n  },\n\n  /**\n   * {@contextDump}\n   * @param key {String} set to \"full\" to the full context stack, otherwise the current context is dumped\n   * @param to {String} set to \"console\" to log to console, otherwise outputs to the chunk\n   */\n  \"contextDump\": function(chunk, context, bodies, params) {\n    var to = context.resolve(params.to),\n        key = context.resolve(params.key),\n        target, output;\n    switch(key) {\n      case 'full':\n        target = context.stack;\n        break;\n      default:\n        target = context.stack.head;\n    }\n    output = JSON.stringify(target, jsonFilter, 2);\n    switch(to) {\n      case 'console':\n        log('contextDump', output);\n        break;\n      default:\n        output = output.replace(/</g, '\\\\u003c');\n        chunk = chunk.write(output);\n    }\n    return chunk;\n  },\n\n  /**\n   * {@math}\n   * @param key first value\n   * @param method {String} operation to perform\n   * @param operand second value (not required for operations like `abs`)\n   * @param round if truthy, round() the result\n   */\n  \"math\": function (chunk, context, bodies, params) {\n    var key = params.key,\n        method = params.method,\n        operand = params.operand,\n        round = params.round,\n        output, state, x, len;\n\n    if(!params.hasOwnProperty('key') || !params.method) {\n      log(\"math\", \"`key` or `method` was not provided\", \"ERROR\");\n      return chunk;\n    }\n\n    key = parseFloat(context.resolve(key));\n    operand = parseFloat(context.resolve(operand));\n\n    switch(method) {\n      case \"mod\":\n        if(operand === 0) {\n          log(\"math\", \"Division by 0\", \"ERROR\");\n        }\n        output = key % operand;\n        break;\n      case \"add\":\n        output = key + operand;\n        break;\n      case \"subtract\":\n        output = key - operand;\n        break;\n      case \"multiply\":\n        output = key * operand;\n        break;\n      case \"divide\":\n        if(operand === 0) {\n          log(\"math\", \"Division by 0\", \"ERROR\");\n        }\n        output = key / operand;\n        break;\n      case \"ceil\":\n      case \"floor\":\n      case \"round\":\n      case \"abs\":\n        output = Math[method](key);\n        break;\n      case \"toint\":\n        output = parseInt(key, 10);\n        break;\n      default:\n        log(\"math\", \"Method `\" + method + \"` is not supported\", \"ERROR\");\n    }\n\n    if (typeof output !== 'undefined') {\n      if (round) {\n        output = Math.round(output);\n      }\n      if (bodies && bodies.block) {\n        context = addSelectState(context, { key: output });\n        chunk = chunk.render(bodies.block, context);\n        resolveSelectDeferreds(getSelectState(context));\n      } else {\n        chunk = chunk.write(output);\n      }\n    }\n\n    return chunk;\n  },\n\n  /**\n   * {@select}\n   * Groups a set of truth tests and outputs the first one that passes.\n   * Also contains {@any} and {@none} blocks.\n   * @param key a value or reference to use as the left-hand side of comparisons\n   * @param type coerce all truth test keys without an explicit type to this type\n   */\n  \"select\": function(chunk, context, bodies, params) {\n    var body = bodies.block,\n        state = {};\n\n    if (params.hasOwnProperty('key')) {\n      state.key = context.resolve(params.key);\n    }\n    if (params.hasOwnProperty('type')) {\n      state.type = params.type;\n    }\n\n    if (body) {\n      context = addSelectState(context, state);\n      chunk = chunk.render(body, context);\n      resolveSelectDeferreds(getSelectState(context));\n    } else {\n      log(\"select\", \"Missing body block\", \"WARN\");\n    }\n    return chunk;\n  },\n\n  /**\n   * Truth test helpers\n   * @param key a value or reference to use as the left-hand side of comparisons\n   * @param value a value or reference to use as the right-hand side of comparisons\n   * @param type if specified, `key` and `value` will be forcibly cast to this type\n   */\n  \"eq\": truthTest('eq', function(left, right) {\n    return left === right;\n  }),\n  \"ne\": truthTest('ne', function(left, right) {\n    return left !== right;\n  }),\n  \"lt\": truthTest('lt', function(left, right) {\n    return left < right;\n  }),\n  \"lte\": truthTest('lte', function(left, right) {\n    return left <= right;\n  }),\n  \"gt\": truthTest('gt', function(left, right) {\n    return left > right;\n  }),\n  \"gte\": truthTest('gte', function(left, right) {\n    return left >= right;\n  }),\n\n  /**\n   * {@any}\n   * Outputs as long as at least one truth test inside a {@select} has passed.\n   * Must be contained inside a {@select} block.\n   * The passing truth test can be before or after the {@any} block.\n   */\n  \"any\": function(chunk, context, bodies, params) {\n    var selectState = getSelectState(context);\n\n    if(!selectState) {\n      log(\"any\", \"Must be used inside a {@select} block\", \"ERROR\");\n    } else {\n      if(selectState.isDeferredComplete) {\n        log(\"any\", \"Must not be nested inside {@any} or {@none} block\", \"ERROR\");\n      } else {\n        chunk = chunk.map(function(chunk) {\n          selectState.deferreds.push(function() {\n            if(selectState.isResolved) {\n              chunk = chunk.render(bodies.block, context);\n            }\n            chunk.end();\n          });\n        });\n      }\n    }\n    return chunk;\n  },\n\n  /**\n   * {@none}\n   * Outputs if no truth tests inside a {@select} pass.\n   * Must be contained inside a {@select} block.\n   * The position of the helper does not matter.\n   */\n  \"none\": function(chunk, context, bodies, params) {\n    var selectState = getSelectState(context);\n\n    if(!selectState) {\n      log(\"none\", \"Must be used inside a {@select} block\", \"ERROR\");\n    } else {\n      if(selectState.isDeferredComplete) {\n        log(\"none\", \"Must not be nested inside {@any} or {@none} block\", \"ERROR\");\n      } else {\n        chunk = chunk.map(function(chunk) {\n          selectState.deferreds.push(function() {\n            if(!selectState.isResolved) {\n              chunk = chunk.render(bodies.block, context);\n            }\n            chunk.end();\n          });\n        });\n      }\n    }\n    return chunk;\n  },\n\n  /**\n  * {@size}\n  * Write the size of the target to the chunk\n  * Falsy values and true have size 0\n  * Numbers are returned as-is\n  * Arrays and Strings have size equal to their length\n  * Objects have size equal to the number of keys they contain\n  * Dust bodies are evaluated and the length of the string is returned\n  * Functions are evaluated and the length of their return value is evaluated\n  * @param key find the size of this value or reference\n  */\n  \"size\": function(chunk, context, bodies, params) {\n    var key = params.key,\n        value, k;\n\n    key = context.resolve(params.key);\n    if (!key || key === true) {\n      value = 0;\n    } else if(dust.isArray(key)) {\n      value = key.length;\n    } else if (!isNaN(parseFloat(key)) && isFinite(key)) {\n      value = key;\n    } else if (typeof key === \"object\") {\n      value = 0;\n      for(k in key){\n        if(key.hasOwnProperty(k)){\n          value++;\n        }\n      }\n    } else {\n      value = (key + '').length;\n    }\n    return chunk.write(value);\n  }\n\n};\n\nfor(var key in helpers) {\n  dust.helpers[key] = helpers[key];\n}\n\nreturn dust;\n\n}));\n\n},{\"dustjs-linkedin\":5}],5:[function(_dereq_,module,exports){\n(function (process){\n(function (root, factory) {\n  if (typeof define === 'function' && define.amd && define.amd.dust === true) {\n    define('dust.core', [], factory);\n  } else if (typeof exports === 'object') {\n    module.exports = factory();\n  } else {\n    root.dust = factory();\n  }\n}(this, function() {\n  var dust = {\n        \"version\": \"2.7.5\"\n      },\n      NONE = 'NONE', ERROR = 'ERROR', WARN = 'WARN', INFO = 'INFO', DEBUG = 'DEBUG',\n      EMPTY_FUNC = function() {};\n\n  dust.config = {\n    whitespace: false,\n    amd: false,\n    cjs: false,\n    cache: true\n  };\n\n  // Directive aliases to minify code\n  dust._aliases = {\n    \"write\": \"w\",\n    \"end\": \"e\",\n    \"map\": \"m\",\n    \"render\": \"r\",\n    \"reference\": \"f\",\n    \"section\": \"s\",\n    \"exists\": \"x\",\n    \"notexists\": \"nx\",\n    \"block\": \"b\",\n    \"partial\": \"p\",\n    \"helper\": \"h\"\n  };\n\n  (function initLogging() {\n    /*global process, console*/\n    var loggingLevels = { DEBUG: 0, INFO: 1, WARN: 2, ERROR: 3, NONE: 4 },\n        consoleLog,\n        log;\n\n    if (typeof console !== 'undefined' && console.log) {\n      consoleLog = console.log;\n      if(typeof consoleLog === 'function') {\n        log = function() {\n          consoleLog.apply(console, arguments);\n        };\n      } else {\n        log = function() {\n          consoleLog(Array.prototype.slice.apply(arguments).join(' '));\n        };\n      }\n    } else {\n      log = EMPTY_FUNC;\n    }\n\n    /**\n     * Filters messages based on `dust.debugLevel`.\n     * This default implementation will print to the console if it exists.\n     * @param {String|Error} message the message to print/throw\n     * @param {String} type the severity of the message(ERROR, WARN, INFO, or DEBUG)\n     * @public\n     */\n    dust.log = function(message, type) {\n      type = type || INFO;\n      if (loggingLevels[type] >= loggingLevels[dust.debugLevel]) {\n        log('[DUST:' + type + ']', message);\n      }\n    };\n\n    dust.debugLevel = NONE;\n    if(typeof process !== 'undefined' && process.env && /\\bdust\\b/.test(process.env.DEBUG)) {\n      dust.debugLevel = DEBUG;\n    }\n\n  }());\n\n  dust.helpers = {};\n\n  dust.cache = {};\n\n  dust.register = function(name, tmpl) {\n    if (!name) {\n      return;\n    }\n    tmpl.templateName = name;\n    if (dust.config.cache !== false) {\n      dust.cache[name] = tmpl;\n    }\n  };\n\n  dust.render = function(nameOrTemplate, context, callback) {\n    var chunk = new Stub(callback).head;\n    try {\n      load(nameOrTemplate, chunk, context).end();\n    } catch (err) {\n      chunk.setError(err);\n    }\n  };\n\n  dust.stream = function(nameOrTemplate, context) {\n    var stream = new Stream(),\n        chunk = stream.head;\n    dust.nextTick(function() {\n      try {\n        load(nameOrTemplate, chunk, context).end();\n      } catch (err) {\n        chunk.setError(err);\n      }\n    });\n    return stream;\n  };\n\n  /**\n   * Extracts a template function (body_0) from whatever is passed.\n   * @param nameOrTemplate {*} Could be:\n   *   - the name of a template to load from cache\n   *   - a CommonJS-compiled template (a function with a `template` property)\n   *   - a template function\n   * @param loadFromCache {Boolean} if false, don't look in the cache\n   * @return {Function} a template function, if found\n   */\n  function getTemplate(nameOrTemplate, loadFromCache/*=true*/) {\n    if(!nameOrTemplate) {\n      return;\n    }\n    if(typeof nameOrTemplate === 'function' && nameOrTemplate.template) {\n      // Sugar away CommonJS module templates\n      return nameOrTemplate.template;\n    }\n    if(dust.isTemplateFn(nameOrTemplate)) {\n      // Template functions passed directly\n      return nameOrTemplate;\n    }\n    if(loadFromCache !== false) {\n      // Try loading a template with this name from cache\n      return dust.cache[nameOrTemplate];\n    }\n  }\n\n  function load(nameOrTemplate, chunk, context) {\n    if(!nameOrTemplate) {\n      return chunk.setError(new Error('No template or template name provided to render'));\n    }\n\n    var template = getTemplate(nameOrTemplate, dust.config.cache);\n\n    if (template) {\n      return template(chunk, Context.wrap(context, template.templateName));\n    } else {\n      if (dust.onLoad) {\n        return chunk.map(function(chunk) {\n          // Alias just so it's easier to read that this would always be a name\n          var name = nameOrTemplate;\n          // Three possible scenarios for a successful callback:\n          //   - `require(nameOrTemplate)(dust); cb()`\n          //   - `src = readFile('src.dust'); cb(null, src)`\n          //   - `compiledTemplate = require(nameOrTemplate)(dust); cb(null, compiledTemplate)`\n          function done(err, srcOrTemplate) {\n            var template;\n            if (err) {\n              return chunk.setError(err);\n            }\n            // Prefer a template that is passed via callback over the cached version.\n            template = getTemplate(srcOrTemplate, false) || getTemplate(name, dust.config.cache);\n            if (!template) {\n              // It's a template string, compile it and register under `name`\n              if(dust.compile) {\n                template = dust.loadSource(dust.compile(srcOrTemplate, name));\n              } else {\n                return chunk.setError(new Error('Dust compiler not available'));\n              }\n            }\n            template(chunk, Context.wrap(context, template.templateName)).end();\n          }\n\n          if(dust.onLoad.length === 3) {\n            dust.onLoad(name, context.options, done);\n          } else {\n            dust.onLoad(name, done);\n          }\n        });\n      }\n      return chunk.setError(new Error('Template Not Found: ' + nameOrTemplate));\n    }\n  }\n\n  dust.loadSource = function(source) {\n    /*jshint evil:true*/\n    return eval(source);\n  };\n\n  if (Array.isArray) {\n    dust.isArray = Array.isArray;\n  } else {\n    dust.isArray = function(arr) {\n      return Object.prototype.toString.call(arr) === '[object Array]';\n    };\n  }\n\n  dust.nextTick = (function() {\n    return function(callback) {\n      setTimeout(callback, 0);\n    };\n  })();\n\n  /**\n   * Dust has its own rules for what is \"empty\"-- which is not the same as falsy.\n   * Empty arrays, null, and undefined are empty\n   */\n  dust.isEmpty = function(value) {\n    if (value === 0) {\n      return false;\n    }\n    if (dust.isArray(value) && !value.length) {\n      return true;\n    }\n    return !value;\n  };\n\n  dust.isEmptyObject = function(obj) {\n    var key;\n    if (obj === null) {\n      return false;\n    }\n    if (obj === undefined) {\n      return false;\n    }\n    if (obj.length > 0) {\n      return false;\n    }\n    for (key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        return false;\n      }\n    }\n    return true;\n  };\n\n  dust.isTemplateFn = function(elem) {\n    return typeof elem === 'function' &&\n           elem.__dustBody;\n  };\n\n  /**\n   * Decide somewhat-naively if something is a Thenable.\n   * @param elem {*} object to inspect\n   * @return {Boolean} is `elem` a Thenable?\n   */\n  dust.isThenable = function(elem) {\n    return elem &&\n           typeof elem === 'object' &&\n           typeof elem.then === 'function';\n  };\n\n  /**\n   * Decide very naively if something is a Stream.\n   * @param elem {*} object to inspect\n   * @return {Boolean} is `elem` a Stream?\n   */\n  dust.isStreamable = function(elem) {\n    return elem &&\n           typeof elem.on === 'function' &&\n           typeof elem.pipe === 'function';\n  };\n\n  // apply the filter chain and return the output string\n  dust.filter = function(string, auto, filters, context) {\n    var i, len, name, filter;\n    if (filters) {\n      for (i = 0, len = filters.length; i < len; i++) {\n        name = filters[i];\n        if (!name.length) {\n          continue;\n        }\n        filter = dust.filters[name];\n        if (name === 's') {\n          auto = null;\n        } else if (typeof filter === 'function') {\n          string = filter(string, context);\n        } else {\n          dust.log('Invalid filter `' + name + '`', WARN);\n        }\n      }\n    }\n    // by default always apply the h filter, unless asked to unescape with |s\n    if (auto) {\n      string = dust.filters[auto](string, context);\n    }\n    return string;\n  };\n\n  dust.filters = {\n    h: function(value) { return dust.escapeHtml(value); },\n    j: function(value) { return dust.escapeJs(value); },\n    u: encodeURI,\n    uc: encodeURIComponent,\n    js: function(value) { return dust.escapeJSON(value); },\n    jp: function(value) {\n      if (!JSON) {dust.log('JSON is undefined; could not parse `' + value + '`', WARN);\n        return value;\n      } else {\n        return JSON.parse(value);\n      }\n    }\n  };\n\n  function Context(stack, global, options, blocks, templateName) {\n    if(stack !== undefined && !(stack instanceof Stack)) {\n      stack = new Stack(stack);\n    }\n    this.stack = stack;\n    this.global = global;\n    this.options = options;\n    this.blocks = blocks;\n    this.templateName = templateName;\n    this._isContext = true;\n  }\n\n  dust.makeBase = dust.context = function(global, options) {\n    return new Context(undefined, global, options);\n  };\n\n  dust.isContext = function(obj) {\n    return typeof obj === \"object\" && obj._isContext === true;\n  };\n\n  /**\n   * Factory function that creates a closure scope around a Thenable-callback.\n   * Returns a function that can be passed to a Thenable that will resume a\n   * Context lookup once the Thenable resolves with new data, adding that new\n   * data to the lookup stack.\n   */\n  function getWithResolvedData(ctx, cur, down) {\n    return function(data) {\n      return ctx.push(data)._get(cur, down);\n    };\n  }\n\n  Context.wrap = function(context, name) {\n    if (dust.isContext(context)) {\n      return context;\n    }\n    return new Context(context, {}, {}, null, name);\n  };\n\n  /**\n   * Public API for getting a value from the context.\n   * @method get\n   * @param {string|array} path The path to the value. Supported formats are:\n   * 'key'\n   * 'path.to.key'\n   * '.path.to.key'\n   * ['path', 'to', 'key']\n   * ['key']\n   * @param {boolean} [cur=false] Boolean which determines if the search should be limited to the\n   * current context (true), or if get should search in parent contexts as well (false).\n   * @public\n   * @returns {string|object}\n   */\n  Context.prototype.get = function(path, cur) {\n    if (typeof path === 'string') {\n      if (path[0] === '.') {\n        cur = true;\n        path = path.substr(1);\n      }\n      path = path.split('.');\n    }\n    return this._get(cur, path);\n  };\n\n  /**\n   * Get a value from the context\n   * @method _get\n   * @param {boolean} cur Get only from the current context\n   * @param {array} down An array of each step in the path\n   * @private\n   * @return {string | object}\n   */\n  Context.prototype._get = function(cur, down) {\n    var ctx = this.stack || {},\n        i = 1,\n        value, first, len, ctxThis, fn;\n\n    first = down[0];\n    len = down.length;\n\n    if (cur && len === 0) {\n      ctxThis = ctx;\n      ctx = ctx.head;\n    } else {\n      if (!cur) {\n        // Search up the stack for the first value\n        while (ctx) {\n          if (ctx.isObject) {\n            ctxThis = ctx.head;\n            value = ctx.head[first];\n            if (value !== undefined) {\n              break;\n            }\n          }\n          ctx = ctx.tail;\n        }\n\n        // Try looking in the global context if we haven't found anything yet\n        if (value !== undefined) {\n          ctx = value;\n        } else {\n          ctx = this.global && this.global[first];\n        }\n      } else if (ctx) {\n        // if scope is limited by a leading dot, don't search up the tree\n        if(ctx.head) {\n          ctx = ctx.head[first];\n        } else {\n          // context's head is empty, value we are searching for is not defined\n          ctx = undefined;\n        }\n      }\n\n      while (ctx && i < len) {\n        if (dust.isThenable(ctx)) {\n          // Bail early by returning a Thenable for the remainder of the search tree\n          return ctx.then(getWithResolvedData(this, cur, down.slice(i)));\n        }\n        ctxThis = ctx;\n        ctx = ctx[down[i]];\n        i++;\n      }\n    }\n\n    if (typeof ctx === 'function') {\n      fn = function() {\n        try {\n          return ctx.apply(ctxThis, arguments);\n        } catch (err) {\n          dust.log(err, ERROR);\n          throw err;\n        }\n      };\n      fn.__dustBody = !!ctx.__dustBody;\n      return fn;\n    } else {\n      if (ctx === undefined) {\n        dust.log('Cannot find reference `{' + down.join('.') + '}` in template `' + this.getTemplateName() + '`', INFO);\n      }\n      return ctx;\n    }\n  };\n\n  Context.prototype.getPath = function(cur, down) {\n    return this._get(cur, down);\n  };\n\n  Context.prototype.push = function(head, idx, len) {\n    if(head === undefined) {\n      dust.log(\"Not pushing an undefined variable onto the context\", INFO);\n      return this;\n    }\n    return this.rebase(new Stack(head, this.stack, idx, len));\n  };\n\n  Context.prototype.pop = function() {\n    var head = this.current();\n    this.stack = this.stack && this.stack.tail;\n    return head;\n  };\n\n  Context.prototype.rebase = function(head) {\n    return new Context(head, this.global, this.options, this.blocks, this.getTemplateName());\n  };\n\n  Context.prototype.clone = function() {\n    var context = this.rebase();\n    context.stack = this.stack;\n    return context;\n  };\n\n  Context.prototype.current = function() {\n    return this.stack && this.stack.head;\n  };\n\n  Context.prototype.getBlock = function(key) {\n    var blocks, len, fn;\n\n    if (typeof key === 'function') {\n      key = key(new Chunk(), this).data.join('');\n    }\n\n    blocks = this.blocks;\n\n    if (!blocks) {\n      dust.log('No blocks for context `' + key + '` in template `' + this.getTemplateName() + '`', DEBUG);\n      return false;\n    }\n\n    len = blocks.length;\n    while (len--) {\n      fn = blocks[len][key];\n      if (fn) {\n        return fn;\n      }\n    }\n\n    dust.log('Malformed template `' + this.getTemplateName() + '` was missing one or more blocks.');\n    return false;\n  };\n\n  Context.prototype.shiftBlocks = function(locals) {\n    var blocks = this.blocks,\n        newBlocks;\n\n    if (locals) {\n      if (!blocks) {\n        newBlocks = [locals];\n      } else {\n        newBlocks = blocks.concat([locals]);\n      }\n      return new Context(this.stack, this.global, this.options, newBlocks, this.getTemplateName());\n    }\n    return this;\n  };\n\n  Context.prototype.resolve = function(body) {\n    var chunk;\n\n    if(typeof body !== 'function') {\n      return body;\n    }\n    chunk = new Chunk().render(body, this);\n    if(chunk instanceof Chunk) {\n      return chunk.data.join(''); // ie7 perf\n    }\n    return chunk;\n  };\n\n  Context.prototype.getTemplateName = function() {\n    return this.templateName;\n  };\n\n  function Stack(head, tail, idx, len) {\n    this.tail = tail;\n    this.isObject = head && typeof head === 'object';\n    this.head = head;\n    this.index = idx;\n    this.of = len;\n  }\n\n  function Stub(callback) {\n    this.head = new Chunk(this);\n    this.callback = callback;\n    this.out = '';\n  }\n\n  Stub.prototype.flush = function() {\n    var chunk = this.head;\n\n    while (chunk) {\n      if (chunk.flushable) {\n        this.out += chunk.data.join(''); //ie7 perf\n      } else if (chunk.error) {\n        this.callback(chunk.error);\n        dust.log('Rendering failed with error `' + chunk.error + '`', ERROR);\n        this.flush = EMPTY_FUNC;\n        return;\n      } else {\n        return;\n      }\n      chunk = chunk.next;\n      this.head = chunk;\n    }\n    this.callback(null, this.out);\n  };\n\n  /**\n   * Creates an interface sort of like a Streams2 ReadableStream.\n   */\n  function Stream() {\n    this.head = new Chunk(this);\n  }\n\n  Stream.prototype.flush = function() {\n    var chunk = this.head;\n\n    while(chunk) {\n      if (chunk.flushable) {\n        this.emit('data', chunk.data.join('')); //ie7 perf\n      } else if (chunk.error) {\n        this.emit('error', chunk.error);\n        this.emit('end');\n        dust.log('Streaming failed with error `' + chunk.error + '`', ERROR);\n        this.flush = EMPTY_FUNC;\n        return;\n      } else {\n        return;\n      }\n      chunk = chunk.next;\n      this.head = chunk;\n    }\n    this.emit('end');\n  };\n\n  /**\n   * Executes listeners for `type` by passing data. Note that this is different from a\n   * Node stream, which can pass an arbitrary number of arguments\n   * @return `true` if event had listeners, `false` otherwise\n   */\n  Stream.prototype.emit = function(type, data) {\n    var events = this.events || {},\n        handlers = events[type] || [],\n        i, l;\n\n    if (!handlers.length) {\n      dust.log('Stream broadcasting, but no listeners for `' + type + '`', DEBUG);\n      return false;\n    }\n\n    handlers = handlers.slice(0);\n    for (i = 0, l = handlers.length; i < l; i++) {\n      handlers[i](data);\n    }\n    return true;\n  };\n\n  Stream.prototype.on = function(type, callback) {\n    var events = this.events = this.events || {},\n        handlers = events[type] = events[type] || [];\n\n    if(typeof callback !== 'function') {\n      dust.log('No callback function provided for `' + type + '` event listener', WARN);\n    } else {\n      handlers.push(callback);\n    }\n    return this;\n  };\n\n  /**\n   * Pipes to a WritableStream. Note that backpressure isn't implemented,\n   * so we just write as fast as we can.\n   * @param stream {WritableStream}\n   * @return self\n   */\n  Stream.prototype.pipe = function(stream) {\n    if(typeof stream.write !== 'function' ||\n       typeof stream.end !== 'function') {\n      dust.log('Incompatible stream passed to `pipe`', WARN);\n      return this;\n    }\n\n    var destEnded = false;\n\n    if(typeof stream.emit === 'function') {\n      stream.emit('pipe', this);\n    }\n\n    if(typeof stream.on === 'function') {\n      stream.on('error', function() {\n        destEnded = true;\n      });\n    }\n\n    return this\n    .on('data', function(data) {\n      if(destEnded) {\n        return;\n      }\n      try {\n        stream.write(data, 'utf8');\n      } catch (err) {\n        dust.log(err, ERROR);\n      }\n    })\n    .on('end', function() {\n      if(destEnded) {\n        return;\n      }\n      try {\n        stream.end();\n        destEnded = true;\n      } catch (err) {\n        dust.log(err, ERROR);\n      }\n    });\n  };\n\n  function Chunk(root, next, taps) {\n    this.root = root;\n    this.next = next;\n    this.data = []; //ie7 perf\n    this.flushable = false;\n    this.taps = taps;\n  }\n\n  Chunk.prototype.write = function(data) {\n    var taps = this.taps;\n\n    if (taps) {\n      data = taps.go(data);\n    }\n    this.data.push(data);\n    return this;\n  };\n\n  Chunk.prototype.end = function(data) {\n    if (data) {\n      this.write(data);\n    }\n    this.flushable = true;\n    this.root.flush();\n    return this;\n  };\n\n  Chunk.prototype.map = function(callback) {\n    var cursor = new Chunk(this.root, this.next, this.taps),\n        branch = new Chunk(this.root, cursor, this.taps);\n\n    this.next = branch;\n    this.flushable = true;\n    try {\n      callback(branch);\n    } catch(err) {\n      dust.log(err, ERROR);\n      branch.setError(err);\n    }\n    return cursor;\n  };\n\n  Chunk.prototype.tap = function(tap) {\n    var taps = this.taps;\n\n    if (taps) {\n      this.taps = taps.push(tap);\n    } else {\n      this.taps = new Tap(tap);\n    }\n    return this;\n  };\n\n  Chunk.prototype.untap = function() {\n    this.taps = this.taps.tail;\n    return this;\n  };\n\n  Chunk.prototype.render = function(body, context) {\n    return body(this, context);\n  };\n\n  Chunk.prototype.reference = function(elem, context, auto, filters) {\n    if (typeof elem === 'function') {\n      elem = elem.apply(context.current(), [this, context, null, {auto: auto, filters: filters}]);\n      if (elem instanceof Chunk) {\n        return elem;\n      } else {\n        return this.reference(elem, context, auto, filters);\n      }\n    }\n    if (dust.isThenable(elem)) {\n      return this.await(elem, context, null, auto, filters);\n    } else if (dust.isStreamable(elem)) {\n      return this.stream(elem, context, null, auto, filters);\n    } else if (!dust.isEmpty(elem)) {\n      return this.write(dust.filter(elem, auto, filters, context));\n    } else {\n      return this;\n    }\n  };\n\n  Chunk.prototype.section = function(elem, context, bodies, params) {\n    var body = bodies.block,\n        skip = bodies['else'],\n        chunk = this,\n        i, len, head;\n\n    if (typeof elem === 'function' && !dust.isTemplateFn(elem)) {\n      try {\n        elem = elem.apply(context.current(), [this, context, bodies, params]);\n      } catch(err) {\n        dust.log(err, ERROR);\n        return this.setError(err);\n      }\n      // Functions that return chunks are assumed to have handled the chunk manually.\n      // Make that chunk the current one and go to the next method in the chain.\n      if (elem instanceof Chunk) {\n        return elem;\n      }\n    }\n\n    if (dust.isEmptyObject(bodies)) {\n      // No bodies to render, and we've already invoked any function that was available in\n      // hopes of returning a Chunk.\n      return chunk;\n    }\n\n    if (!dust.isEmptyObject(params)) {\n      context = context.push(params);\n    }\n\n    /*\n    Dust's default behavior is to enumerate over the array elem, passing each object in the array to the block.\n    When elem resolves to a value or object instead of an array, Dust sets the current context to the value\n    and renders the block one time.\n    */\n    if (dust.isArray(elem)) {\n      if (body) {\n        len = elem.length;\n        if (len > 0) {\n          head = context.stack && context.stack.head || {};\n          head.$len = len;\n          for (i = 0; i < len; i++) {\n            head.$idx = i;\n            chunk = body(chunk, context.push(elem[i], i, len));\n          }\n          head.$idx = undefined;\n          head.$len = undefined;\n          return chunk;\n        } else if (skip) {\n          return skip(this, context);\n        }\n      }\n    } else if (dust.isThenable(elem)) {\n      return this.await(elem, context, bodies);\n    } else if (dust.isStreamable(elem)) {\n      return this.stream(elem, context, bodies);\n    } else if (elem === true) {\n     // true is truthy but does not change context\n      if (body) {\n        return body(this, context);\n      }\n    } else if (elem || elem === 0) {\n       // everything that evaluates to true are truthy ( e.g. Non-empty strings and Empty objects are truthy. )\n       // zero is truthy\n       // for anonymous functions that did not returns a chunk, truthiness is evaluated based on the return value\n      if (body) {\n        return body(this, context.push(elem));\n      }\n     // nonexistent, scalar false value, scalar empty string, null,\n     // undefined are all falsy\n    } else if (skip) {\n      return skip(this, context);\n    }\n    dust.log('Section without corresponding key in template `' + context.getTemplateName() + '`', DEBUG);\n    return this;\n  };\n\n  Chunk.prototype.exists = function(elem, context, bodies) {\n    var body = bodies.block,\n        skip = bodies['else'];\n\n    if (!dust.isEmpty(elem)) {\n      if (body) {\n        return body(this, context);\n      }\n      dust.log('No block for exists check in template `' + context.getTemplateName() + '`', DEBUG);\n    } else if (skip) {\n      return skip(this, context);\n    }\n    return this;\n  };\n\n  Chunk.prototype.notexists = function(elem, context, bodies) {\n    var body = bodies.block,\n        skip = bodies['else'];\n\n    if (dust.isEmpty(elem)) {\n      if (body) {\n        return body(this, context);\n      }\n      dust.log('No block for not-exists check in template `' + context.getTemplateName() + '`', DEBUG);\n    } else if (skip) {\n      return skip(this, context);\n    }\n    return this;\n  };\n\n  Chunk.prototype.block = function(elem, context, bodies) {\n    var body = elem || bodies.block;\n\n    if (body) {\n      return body(this, context);\n    }\n    return this;\n  };\n\n  Chunk.prototype.partial = function(elem, context, partialContext, params) {\n    var head;\n\n    if(params === undefined) {\n      // Compatibility for < 2.7.0 where `partialContext` did not exist\n      params = partialContext;\n      partialContext = context;\n    }\n\n    if (!dust.isEmptyObject(params)) {\n      partialContext = partialContext.clone();\n      head = partialContext.pop();\n      partialContext = partialContext.push(params)\n                                     .push(head);\n    }\n\n    if (dust.isTemplateFn(elem)) {\n      // The eventual result of evaluating `elem` is a partial name\n      // Load the partial after getting its name and end the async chunk\n      return this.capture(elem, context, function(name, chunk) {\n        partialContext.templateName = name;\n        load(name, chunk, partialContext).end();\n      });\n    } else {\n      partialContext.templateName = elem;\n      return load(elem, this, partialContext);\n    }\n  };\n\n  Chunk.prototype.helper = function(name, context, bodies, params, auto) {\n    var chunk = this,\n        filters = params.filters,\n        ret;\n\n    // Pre-2.7.1 compat: if auto is undefined, it's an old template. Automatically escape\n    if (auto === undefined) {\n      auto = 'h';\n    }\n\n    // handle invalid helpers, similar to invalid filters\n    if(dust.helpers[name]) {\n      try {\n        ret = dust.helpers[name](chunk, context, bodies, params);\n        if (ret instanceof Chunk) {\n          return ret;\n        }\n        if(typeof filters === 'string') {\n          filters = filters.split('|');\n        }\n        if (!dust.isEmptyObject(bodies)) {\n          return chunk.section(ret, context, bodies, params);\n        }\n        // Helpers act slightly differently from functions in context in that they will act as\n        // a reference if they are self-closing (due to grammar limitations)\n        // In the Chunk.await function we check to make sure bodies is null before acting as a reference\n        return chunk.reference(ret, context, auto, filters);\n      } catch(err) {\n        dust.log('Error in helper `' + name + '`: ' + err.message, ERROR);\n        return chunk.setError(err);\n      }\n    } else {\n      dust.log('Helper `' + name + '` does not exist', WARN);\n      return chunk;\n    }\n  };\n\n  /**\n   * Reserve a chunk to be evaluated once a thenable is resolved or rejected\n   * @param thenable {Thenable} the target thenable to await\n   * @param context {Context} context to use to render the deferred chunk\n   * @param bodies {Object} must contain a \"body\", may contain an \"error\"\n   * @param auto {String} automatically apply this filter if the Thenable is a reference\n   * @param filters {Array} apply these filters if the Thenable is a reference\n   * @return {Chunk}\n   */\n  Chunk.prototype.await = function(thenable, context, bodies, auto, filters) {\n    return this.map(function(chunk) {\n      thenable.then(function(data) {\n        if (bodies) {\n          chunk = chunk.section(data, context, bodies);\n        } else {\n          // Actually a reference. Self-closing sections don't render\n          chunk = chunk.reference(data, context, auto, filters);\n        }\n        chunk.end();\n      }, function(err) {\n        var errorBody = bodies && bodies.error;\n        if(errorBody) {\n          chunk.render(errorBody, context.push(err)).end();\n        } else {\n          dust.log('Unhandled promise rejection in `' + context.getTemplateName() + '`', INFO);\n          chunk.end();\n        }\n      });\n    });\n  };\n\n  /**\n   * Reserve a chunk to be evaluated with the contents of a streamable.\n   * Currently an error event will bomb out the stream. Once an error\n   * is received, we push it to an {:error} block if one exists, and log otherwise,\n   * then stop listening to the stream.\n   * @param streamable {Streamable} the target streamable that will emit events\n   * @param context {Context} context to use to render each thunk\n   * @param bodies {Object} must contain a \"body\", may contain an \"error\"\n   * @return {Chunk}\n   */\n  Chunk.prototype.stream = function(stream, context, bodies, auto, filters) {\n    var body = bodies && bodies.block,\n        errorBody = bodies && bodies.error;\n    return this.map(function(chunk) {\n      var ended = false;\n      stream\n        .on('data', function data(thunk) {\n          if(ended) {\n            return;\n          }\n          if(body) {\n            // Fork a new chunk out of the blockstream so that we can flush it independently\n            chunk = chunk.map(function(chunk) {\n              chunk.render(body, context.push(thunk)).end();\n            });\n          } else if(!bodies) {\n            // When actually a reference, don't fork, just write into the master async chunk\n            chunk = chunk.reference(thunk, context, auto, filters);\n          }\n        })\n        .on('error', function error(err) {\n          if(ended) {\n            return;\n          }\n          if(errorBody) {\n            chunk.render(errorBody, context.push(err));\n          } else {\n            dust.log('Unhandled stream error in `' + context.getTemplateName() + '`', INFO);\n          }\n          if(!ended) {\n            ended = true;\n            chunk.end();\n          }\n        })\n        .on('end', function end() {\n          if(!ended) {\n            ended = true;\n            chunk.end();\n          }\n        });\n    });\n  };\n\n  Chunk.prototype.capture = function(body, context, callback) {\n    return this.map(function(chunk) {\n      var stub = new Stub(function(err, out) {\n        if (err) {\n          chunk.setError(err);\n        } else {\n          callback(out, chunk);\n        }\n      });\n      body(stub.head, context).end();\n    });\n  };\n\n  Chunk.prototype.setError = function(err) {\n    this.error = err;\n    this.root.flush();\n    return this;\n  };\n\n  // Chunk aliases\n  for(var f in Chunk.prototype) {\n    if(dust._aliases[f]) {\n      Chunk.prototype[dust._aliases[f]] = Chunk.prototype[f];\n    }\n  }\n\n  function Tap(head, tail) {\n    this.head = head;\n    this.tail = tail;\n  }\n\n  Tap.prototype.push = function(tap) {\n    return new Tap(tap, this);\n  };\n\n  Tap.prototype.go = function(value) {\n    var tap = this;\n\n    while(tap) {\n      value = tap.head(value);\n      tap = tap.tail;\n    }\n    return value;\n  };\n\n  var HCHARS = /[&<>\"']/,\n      AMP    = /&/g,\n      LT     = /</g,\n      GT     = />/g,\n      QUOT   = /\\\"/g,\n      SQUOT  = /\\'/g;\n\n  dust.escapeHtml = function(s) {\n    if (typeof s === \"string\" || (s && typeof s.toString === \"function\")) {\n      if (typeof s !== \"string\") {\n        s = s.toString();\n      }\n      if (!HCHARS.test(s)) {\n        return s;\n      }\n      return s.replace(AMP,'&amp;').replace(LT,'&lt;').replace(GT,'&gt;').replace(QUOT,'&quot;').replace(SQUOT, '&#39;');\n    }\n    return s;\n  };\n\n  var BS = /\\\\/g,\n      FS = /\\//g,\n      CR = /\\r/g,\n      LS = /\\u2028/g,\n      PS = /\\u2029/g,\n      NL = /\\n/g,\n      LF = /\\f/g,\n      SQ = /'/g,\n      DQ = /\"/g,\n      TB = /\\t/g;\n\n  dust.escapeJs = function(s) {\n    if (typeof s === 'string') {\n      return s\n        .replace(BS, '\\\\\\\\')\n        .replace(FS, '\\\\/')\n        .replace(DQ, '\\\\\"')\n        .replace(SQ, '\\\\\\'')\n        .replace(CR, '\\\\r')\n        .replace(LS, '\\\\u2028')\n        .replace(PS, '\\\\u2029')\n        .replace(NL, '\\\\n')\n        .replace(LF, '\\\\f')\n        .replace(TB, '\\\\t');\n    }\n    return s;\n  };\n\n  dust.escapeJSON = function(o) {\n    if (!JSON) {\n      dust.log('JSON is undefined; could not escape `' + o + '`', WARN);\n      return o;\n    } else {\n      return JSON.stringify(o)\n        .replace(LS, '\\\\u2028')\n        .replace(PS, '\\\\u2029')\n        .replace(LT, '\\\\u003c');\n    }\n  };\n\n  return dust;\n\n}));\n\n}).call(this,_dereq_('_process'))\n\n},{\"_process\":8}],6:[function(_dereq_,module,exports){\n/**\n* @preserve HTML5 Shiv 3.7.3 | @afarkas @jdalton @jon_neal @rem | MIT/GPL2 Licensed\n*/\n;(function(window, document) {\n/*jshint evil:true */\n  /** version */\n  var version = '3.7.3-pre';\n\n  /** Preset options */\n  var options = window.html5 || {};\n\n  /** Used to skip problem elements */\n  var reSkip = /^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i;\n\n  /** Not all elements can be cloned in IE **/\n  var saveClones = /^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i;\n\n  /** Detect whether the browser supports default html5 styles */\n  var supportsHtml5Styles;\n\n  /** Name of the expando, to work with multiple documents or to re-shiv one document */\n  var expando = '_html5shiv';\n\n  /** The id for the the documents expando */\n  var expanID = 0;\n\n  /** Cached data for each document */\n  var expandoData = {};\n\n  /** Detect whether the browser supports unknown elements */\n  var supportsUnknownElements;\n\n  (function() {\n    try {\n        var a = document.createElement('a');\n        a.innerHTML = '<xyz></xyz>';\n        //if the hidden property is implemented we can assume, that the browser supports basic HTML5 Styles\n        supportsHtml5Styles = ('hidden' in a);\n\n        supportsUnknownElements = a.childNodes.length == 1 || (function() {\n          // assign a false positive if unable to shiv\n          (document.createElement)('a');\n          var frag = document.createDocumentFragment();\n          return (\n            typeof frag.cloneNode == 'undefined' ||\n            typeof frag.createDocumentFragment == 'undefined' ||\n            typeof frag.createElement == 'undefined'\n          );\n        }());\n    } catch(e) {\n      // assign a false positive if detection fails => unable to shiv\n      supportsHtml5Styles = true;\n      supportsUnknownElements = true;\n    }\n\n  }());\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Creates a style sheet with the given CSS text and adds it to the document.\n   * @private\n   * @param {Document} ownerDocument The document.\n   * @param {String} cssText The CSS text.\n   * @returns {StyleSheet} The style element.\n   */\n  function addStyleSheet(ownerDocument, cssText) {\n    var p = ownerDocument.createElement('p'),\n        parent = ownerDocument.getElementsByTagName('head')[0] || ownerDocument.documentElement;\n\n    p.innerHTML = 'x<style>' + cssText + '</style>';\n    return parent.insertBefore(p.lastChild, parent.firstChild);\n  }\n\n  /**\n   * Returns the value of `html5.elements` as an array.\n   * @private\n   * @returns {Array} An array of shived element node names.\n   */\n  function getElements() {\n    var elements = html5.elements;\n    return typeof elements == 'string' ? elements.split(' ') : elements;\n  }\n\n  /**\n   * Extends the built-in list of html5 elements\n   * @memberOf html5\n   * @param {String|Array} newElements whitespace separated list or array of new element names to shiv\n   * @param {Document} ownerDocument The context document.\n   */\n  function addElements(newElements, ownerDocument) {\n    var elements = html5.elements;\n    if(typeof elements != 'string'){\n      elements = elements.join(' ');\n    }\n    if(typeof newElements != 'string'){\n      newElements = newElements.join(' ');\n    }\n    html5.elements = elements +' '+ newElements;\n    shivDocument(ownerDocument);\n  }\n\n   /**\n   * Returns the data associated to the given document\n   * @private\n   * @param {Document} ownerDocument The document.\n   * @returns {Object} An object of data.\n   */\n  function getExpandoData(ownerDocument) {\n    var data = expandoData[ownerDocument[expando]];\n    if (!data) {\n        data = {};\n        expanID++;\n        ownerDocument[expando] = expanID;\n        expandoData[expanID] = data;\n    }\n    return data;\n  }\n\n  /**\n   * returns a shived element for the given nodeName and document\n   * @memberOf html5\n   * @param {String} nodeName name of the element\n   * @param {Document} ownerDocument The context document.\n   * @returns {Object} The shived element.\n   */\n  function createElement(nodeName, ownerDocument, data){\n    if (!ownerDocument) {\n        ownerDocument = document;\n    }\n    if(supportsUnknownElements){\n        return ownerDocument.createElement(nodeName);\n    }\n    if (!data) {\n        data = getExpandoData(ownerDocument);\n    }\n    var node;\n\n    if (data.cache[nodeName]) {\n        node = data.cache[nodeName].cloneNode();\n    } else if (saveClones.test(nodeName)) {\n        node = (data.cache[nodeName] = data.createElem(nodeName)).cloneNode();\n    } else {\n        node = data.createElem(nodeName);\n    }\n\n    // Avoid adding some elements to fragments in IE < 9 because\n    // * Attributes like `name` or `type` cannot be set/changed once an element\n    //   is inserted into a document/fragment\n    // * Link elements with `src` attributes that are inaccessible, as with\n    //   a 403 response, will cause the tab/window to crash\n    // * Script elements appended to fragments will execute when their `src`\n    //   or `text` property is set\n    return node.canHaveChildren && !reSkip.test(nodeName) && !node.tagUrn ? data.frag.appendChild(node) : node;\n  }\n\n  /**\n   * returns a shived DocumentFragment for the given document\n   * @memberOf html5\n   * @param {Document} ownerDocument The context document.\n   * @returns {Object} The shived DocumentFragment.\n   */\n  function createDocumentFragment(ownerDocument, data){\n    if (!ownerDocument) {\n        ownerDocument = document;\n    }\n    if(supportsUnknownElements){\n        return ownerDocument.createDocumentFragment();\n    }\n    data = data || getExpandoData(ownerDocument);\n    var clone = data.frag.cloneNode(),\n        i = 0,\n        elems = getElements(),\n        l = elems.length;\n    for(;i<l;i++){\n        clone.createElement(elems[i]);\n    }\n    return clone;\n  }\n\n  /**\n   * Shivs the `createElement` and `createDocumentFragment` methods of the document.\n   * @private\n   * @param {Document|DocumentFragment} ownerDocument The document.\n   * @param {Object} data of the document.\n   */\n  function shivMethods(ownerDocument, data) {\n    if (!data.cache) {\n        data.cache = {};\n        data.createElem = ownerDocument.createElement;\n        data.createFrag = ownerDocument.createDocumentFragment;\n        data.frag = data.createFrag();\n    }\n\n\n    ownerDocument.createElement = function(nodeName) {\n      //abort shiv\n      if (!html5.shivMethods) {\n          return data.createElem(nodeName);\n      }\n      return createElement(nodeName, ownerDocument, data);\n    };\n\n    ownerDocument.createDocumentFragment = Function('h,f', 'return function(){' +\n      'var n=f.cloneNode(),c=n.createElement;' +\n      'h.shivMethods&&(' +\n        // unroll the `createElement` calls\n        getElements().join().replace(/[\\w\\-:]+/g, function(nodeName) {\n          data.createElem(nodeName);\n          data.frag.createElement(nodeName);\n          return 'c(\"' + nodeName + '\")';\n        }) +\n      ');return n}'\n    )(html5, data.frag);\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Shivs the given document.\n   * @memberOf html5\n   * @param {Document} ownerDocument The document to shiv.\n   * @returns {Document} The shived document.\n   */\n  function shivDocument(ownerDocument) {\n    if (!ownerDocument) {\n        ownerDocument = document;\n    }\n    var data = getExpandoData(ownerDocument);\n\n    if (html5.shivCSS && !supportsHtml5Styles && !data.hasCSS) {\n      data.hasCSS = !!addStyleSheet(ownerDocument,\n        // corrects block display not defined in IE6/7/8/9\n        'article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}' +\n        // adds styling not present in IE6/7/8/9\n        'mark{background:#FF0;color:#000}' +\n        // hides non-rendered elements\n        'template{display:none}'\n      );\n    }\n    if (!supportsUnknownElements) {\n      shivMethods(ownerDocument, data);\n    }\n    return ownerDocument;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * The `html5` object is exposed so that more elements can be shived and\n   * existing shiving can be detected on iframes.\n   * @type Object\n   * @example\n   *\n   * // options can be changed before the script is included\n   * html5 = { 'elements': 'mark section', 'shivCSS': false, 'shivMethods': false };\n   */\n  var html5 = {\n\n    /**\n     * An array or space separated string of node names of the elements to shiv.\n     * @memberOf html5\n     * @type Array|String\n     */\n    'elements': options.elements || 'abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video',\n\n    /**\n     * current version of html5shiv\n     */\n    'version': version,\n\n    /**\n     * A flag to indicate that the HTML5 style sheet should be inserted.\n     * @memberOf html5\n     * @type Boolean\n     */\n    'shivCSS': (options.shivCSS !== false),\n\n    /**\n     * Is equal to true if a browser supports creating unknown/HTML5 elements\n     * @memberOf html5\n     * @type boolean\n     */\n    'supportsUnknownElements': supportsUnknownElements,\n\n    /**\n     * A flag to indicate that the document's `createElement` and `createDocumentFragment`\n     * methods should be overwritten.\n     * @memberOf html5\n     * @type Boolean\n     */\n    'shivMethods': (options.shivMethods !== false),\n\n    /**\n     * A string to describe the type of `html5` object (\"default\" or \"default print\").\n     * @memberOf html5\n     * @type String\n     */\n    'type': 'default',\n\n    // shivs the document according to the specified `html5` object options\n    'shivDocument': shivDocument,\n\n    //creates a shived element\n    createElement: createElement,\n\n    //creates a shived documentFragment\n    createDocumentFragment: createDocumentFragment,\n\n    //extends list of elements\n    addElements: addElements\n  };\n\n  /*--------------------------------------------------------------------------*/\n\n  // expose html5\n  window.html5 = html5;\n\n  // shiv the document\n  shivDocument(document);\n\n  if(typeof module == 'object' && module.exports){\n    module.exports = html5;\n  }\n\n}(typeof window !== \"undefined\" ? window : this, document));\n\n},{}],7:[function(_dereq_,module,exports){\n\r\nvar L = {\r\n\tversion: '1.0.1'\r\n};\r\n\r\nfunction expose() {\r\n\tvar oldL = window.L;\r\n\r\n\tL.noConflict = function () {\r\n\t\twindow.L = oldL;\r\n\t\treturn this;\r\n\t};\r\n\r\n\twindow.L = L;\r\n}\r\n\r\n// define Leaflet for Node module pattern loaders, including Browserify\r\nif (typeof module === 'object' && typeof module.exports === 'object') {\r\n\tmodule.exports = L;\r\n\r\n// define Leaflet as an AMD module\r\n} else if (typeof define === 'function' && define.amd) {\r\n\tdefine(L);\r\n}\r\n\r\n// define Leaflet as a global L variable, saving the original L to restore later if needed\r\nif (typeof window !== 'undefined') {\r\n\texpose();\r\n}\r\n\n/*\r\n * @namespace Util\r\n *\r\n * Various utility functions, used by Leaflet internally.\r\n */\r\n\r\nL.Util = {\r\n\r\n\t// @function extend(dest: Object, src?: Object): Object\r\n\t// Merges the properties of the `src` object (or multiple objects) into `dest` object and returns the latter. Has an `L.extend` shortcut.\r\n\textend: function (dest) {\r\n\t\tvar i, j, len, src;\r\n\r\n\t\tfor (j = 1, len = arguments.length; j < len; j++) {\r\n\t\t\tsrc = arguments[j];\r\n\t\t\tfor (i in src) {\r\n\t\t\t\tdest[i] = src[i];\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn dest;\r\n\t},\r\n\r\n\t// @function create(proto: Object, properties?: Object): Object\r\n\t// Compatibility polyfill for [Object.create](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object/create)\r\n\tcreate: Object.create || (function () {\r\n\t\tfunction F() {}\r\n\t\treturn function (proto) {\r\n\t\t\tF.prototype = proto;\r\n\t\t\treturn new F();\r\n\t\t};\r\n\t})(),\r\n\r\n\t// @function bind(fn: Function, …): Function\r\n\t// Returns a new function bound to the arguments passed, like [Function.prototype.bind](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Function/bind).\r\n\t// Has a `L.bind()` shortcut.\r\n\tbind: function (fn, obj) {\r\n\t\tvar slice = Array.prototype.slice;\r\n\r\n\t\tif (fn.bind) {\r\n\t\t\treturn fn.bind.apply(fn, slice.call(arguments, 1));\r\n\t\t}\r\n\r\n\t\tvar args = slice.call(arguments, 2);\r\n\r\n\t\treturn function () {\r\n\t\t\treturn fn.apply(obj, args.length ? args.concat(slice.call(arguments)) : arguments);\r\n\t\t};\r\n\t},\r\n\r\n\t// @function stamp(obj: Object): Number\r\n\t// Returns the unique ID of an object, assiging it one if it doesn't have it.\r\n\tstamp: function (obj) {\r\n\t\t/*eslint-disable */\r\n\t\tobj._leaflet_id = obj._leaflet_id || ++L.Util.lastId;\r\n\t\treturn obj._leaflet_id;\r\n\t\t/*eslint-enable */\r\n\t},\r\n\r\n\t// @property lastId: Number\r\n\t// Last unique ID used by [`stamp()`](#util-stamp)\r\n\tlastId: 0,\r\n\r\n\t// @function throttle(fn: Function, time: Number, context: Object): Function\r\n\t// Returns a function which executes function `fn` with the given scope `context`\r\n\t// (so that the `this` keyword refers to `context` inside `fn`'s code). The function\r\n\t// `fn` will be called no more than one time per given amount of `time`. The arguments\r\n\t// received by the bound function will be any arguments passed when binding the\r\n\t// function, followed by any arguments passed when invoking the bound function.\r\n\t// Has an `L.bind` shortcut.\r\n\tthrottle: function (fn, time, context) {\r\n\t\tvar lock, args, wrapperFn, later;\r\n\r\n\t\tlater = function () {\r\n\t\t\t// reset lock and call if queued\r\n\t\t\tlock = false;\r\n\t\t\tif (args) {\r\n\t\t\t\twrapperFn.apply(context, args);\r\n\t\t\t\targs = false;\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\twrapperFn = function () {\r\n\t\t\tif (lock) {\r\n\t\t\t\t// called too soon, queue to call later\r\n\t\t\t\targs = arguments;\r\n\r\n\t\t\t} else {\r\n\t\t\t\t// call and lock until later\r\n\t\t\t\tfn.apply(context, arguments);\r\n\t\t\t\tsetTimeout(later, time);\r\n\t\t\t\tlock = true;\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\treturn wrapperFn;\r\n\t},\r\n\r\n\t// @function wrapNum(num: Number, range: Number[], includeMax?: Boolean): Number\r\n\t// Returns the number `num` modulo `range` in such a way so it lies within\r\n\t// `range[0]` and `range[1]`. The returned value will be always smaller than\r\n\t// `range[1]` unless `includeMax` is set to `true`.\r\n\twrapNum: function (x, range, includeMax) {\r\n\t\tvar max = range[1],\r\n\t\t    min = range[0],\r\n\t\t    d = max - min;\r\n\t\treturn x === max && includeMax ? x : ((x - min) % d + d) % d + min;\r\n\t},\r\n\r\n\t// @function falseFn(): Function\r\n\t// Returns a function which always returns `false`.\r\n\tfalseFn: function () { return false; },\r\n\r\n\t// @function formatNum(num: Number, digits?: Number): Number\r\n\t// Returns the number `num` rounded to `digits` decimals, or to 5 decimals by default.\r\n\tformatNum: function (num, digits) {\r\n\t\tvar pow = Math.pow(10, digits || 5);\r\n\t\treturn Math.round(num * pow) / pow;\r\n\t},\r\n\r\n\t// @function trim(str: String): String\r\n\t// Compatibility polyfill for [String.prototype.trim](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String/Trim)\r\n\ttrim: function (str) {\r\n\t\treturn str.trim ? str.trim() : str.replace(/^\\s+|\\s+$/g, '');\r\n\t},\r\n\r\n\t// @function splitWords(str: String): String[]\r\n\t// Trims and splits the string on whitespace and returns the array of parts.\r\n\tsplitWords: function (str) {\r\n\t\treturn L.Util.trim(str).split(/\\s+/);\r\n\t},\r\n\r\n\t// @function setOptions(obj: Object, options: Object): Object\r\n\t// Merges the given properties to the `options` of the `obj` object, returning the resulting options. See `Class options`. Has an `L.setOptions` shortcut.\r\n\tsetOptions: function (obj, options) {\r\n\t\tif (!obj.hasOwnProperty('options')) {\r\n\t\t\tobj.options = obj.options ? L.Util.create(obj.options) : {};\r\n\t\t}\r\n\t\tfor (var i in options) {\r\n\t\t\tobj.options[i] = options[i];\r\n\t\t}\r\n\t\treturn obj.options;\r\n\t},\r\n\r\n\t// @function getParamString(obj: Object, existingUrl?: String, uppercase?: Boolean): String\r\n\t// Converts an object into a parameter URL string, e.g. `{a: \"foo\", b: \"bar\"}`\r\n\t// translates to `'?a=foo&b=bar'`. If `existingUrl` is set, the parameters will\r\n\t// be appended at the end. If `uppercase` is `true`, the parameter names will\r\n\t// be uppercased (e.g. `'?A=foo&B=bar'`)\r\n\tgetParamString: function (obj, existingUrl, uppercase) {\r\n\t\tvar params = [];\r\n\t\tfor (var i in obj) {\r\n\t\t\tparams.push(encodeURIComponent(uppercase ? i.toUpperCase() : i) + '=' + encodeURIComponent(obj[i]));\r\n\t\t}\r\n\t\treturn ((!existingUrl || existingUrl.indexOf('?') === -1) ? '?' : '&') + params.join('&');\r\n\t},\r\n\r\n\t// @function template(str: String, data: Object): String\r\n\t// Simple templating facility, accepts a template string of the form `'Hello {a}, {b}'`\r\n\t// and a data object like `{a: 'foo', b: 'bar'}`, returns evaluated string\r\n\t// `('Hello foo, bar')`. You can also specify functions instead of strings for\r\n\t// data values — they will be evaluated passing `data` as an argument.\r\n\ttemplate: function (str, data) {\r\n\t\treturn str.replace(L.Util.templateRe, function (str, key) {\r\n\t\t\tvar value = data[key];\r\n\r\n\t\t\tif (value === undefined) {\r\n\t\t\t\tthrow new Error('No value provided for variable ' + str);\r\n\r\n\t\t\t} else if (typeof value === 'function') {\r\n\t\t\t\tvalue = value(data);\r\n\t\t\t}\r\n\t\t\treturn value;\r\n\t\t});\r\n\t},\r\n\r\n\ttemplateRe: /\\{ *([\\w_\\-]+) *\\}/g,\r\n\r\n\t// @function isArray(obj): Boolean\r\n\t// Compatibility polyfill for [Array.isArray](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array/isArray)\r\n\tisArray: Array.isArray || function (obj) {\r\n\t\treturn (Object.prototype.toString.call(obj) === '[object Array]');\r\n\t},\r\n\r\n\t// @function indexOf(array: Array, el: Object): Number\r\n\t// Compatibility polyfill for [Array.prototype.indexOf](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array/indexOf)\r\n\tindexOf: function (array, el) {\r\n\t\tfor (var i = 0; i < array.length; i++) {\r\n\t\t\tif (array[i] === el) { return i; }\r\n\t\t}\r\n\t\treturn -1;\r\n\t},\r\n\r\n\t// @property emptyImageUrl: String\r\n\t// Data URI string containing a base64-encoded empty GIF image.\r\n\t// Used as a hack to free memory from unused images on WebKit-powered\r\n\t// mobile devices (by setting image `src` to this string).\r\n\temptyImageUrl: 'data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs='\r\n};\r\n\r\n(function () {\r\n\t// inspired by http://paulirish.com/2011/requestanimationframe-for-smart-animating/\r\n\r\n\tfunction getPrefixed(name) {\r\n\t\treturn window['webkit' + name] || window['moz' + name] || window['ms' + name];\r\n\t}\r\n\r\n\tvar lastTime = 0;\r\n\r\n\t// fallback for IE 7-8\r\n\tfunction timeoutDefer(fn) {\r\n\t\tvar time = +new Date(),\r\n\t\t    timeToCall = Math.max(0, 16 - (time - lastTime));\r\n\r\n\t\tlastTime = time + timeToCall;\r\n\t\treturn window.setTimeout(fn, timeToCall);\r\n\t}\r\n\r\n\tvar requestFn = window.requestAnimationFrame || getPrefixed('RequestAnimationFrame') || timeoutDefer,\r\n\t    cancelFn = window.cancelAnimationFrame || getPrefixed('CancelAnimationFrame') ||\r\n\t               getPrefixed('CancelRequestAnimationFrame') || function (id) { window.clearTimeout(id); };\r\n\r\n\r\n\t// @function requestAnimFrame(fn: Function, context?: Object, immediate?: Boolean): Number\r\n\t// Schedules `fn` to be executed when the browser repaints. `fn` is bound to\r\n\t// `context` if given. When `immediate` is set, `fn` is called immediately if\r\n\t// the browser doesn't have native support for\r\n\t// [`window.requestAnimationFrame`](https://developer.mozilla.org/docs/Web/API/window/requestAnimationFrame),\r\n\t// otherwise it's delayed. Returns a request ID that can be used to cancel the request.\r\n\tL.Util.requestAnimFrame = function (fn, context, immediate) {\r\n\t\tif (immediate && requestFn === timeoutDefer) {\r\n\t\t\tfn.call(context);\r\n\t\t} else {\r\n\t\t\treturn requestFn.call(window, L.bind(fn, context));\r\n\t\t}\r\n\t};\r\n\r\n\t// @function cancelAnimFrame(id: Number): undefined\r\n\t// Cancels a previous `requestAnimFrame`. See also [window.cancelAnimationFrame](https://developer.mozilla.org/docs/Web/API/window/cancelAnimationFrame).\r\n\tL.Util.cancelAnimFrame = function (id) {\r\n\t\tif (id) {\r\n\t\t\tcancelFn.call(window, id);\r\n\t\t}\r\n\t};\r\n})();\r\n\r\n// shortcuts for most used utility functions\r\nL.extend = L.Util.extend;\r\nL.bind = L.Util.bind;\r\nL.stamp = L.Util.stamp;\r\nL.setOptions = L.Util.setOptions;\r\n\n\r\n// @class Class\r\n// @aka L.Class\r\n\r\n// @section\r\n// @uninheritable\r\n\r\n// Thanks to John Resig and Dean Edwards for inspiration!\r\n\r\nL.Class = function () {};\r\n\r\nL.Class.extend = function (props) {\r\n\r\n\t// @function extend(props: Object): Function\r\n\t// [Extends the current class](#class-inheritance) given the properties to be included.\r\n\t// Returns a Javascript function that is a class constructor (to be called with `new`).\r\n\tvar NewClass = function () {\r\n\r\n\t\t// call the constructor\r\n\t\tif (this.initialize) {\r\n\t\t\tthis.initialize.apply(this, arguments);\r\n\t\t}\r\n\r\n\t\t// call all constructor hooks\r\n\t\tthis.callInitHooks();\r\n\t};\r\n\r\n\tvar parentProto = NewClass.__super__ = this.prototype;\r\n\r\n\tvar proto = L.Util.create(parentProto);\r\n\tproto.constructor = NewClass;\r\n\r\n\tNewClass.prototype = proto;\r\n\r\n\t// inherit parent's statics\r\n\tfor (var i in this) {\r\n\t\tif (this.hasOwnProperty(i) && i !== 'prototype') {\r\n\t\t\tNewClass[i] = this[i];\r\n\t\t}\r\n\t}\r\n\r\n\t// mix static properties into the class\r\n\tif (props.statics) {\r\n\t\tL.extend(NewClass, props.statics);\r\n\t\tdelete props.statics;\r\n\t}\r\n\r\n\t// mix includes into the prototype\r\n\tif (props.includes) {\r\n\t\tL.Util.extend.apply(null, [proto].concat(props.includes));\r\n\t\tdelete props.includes;\r\n\t}\r\n\r\n\t// merge options\r\n\tif (proto.options) {\r\n\t\tprops.options = L.Util.extend(L.Util.create(proto.options), props.options);\r\n\t}\r\n\r\n\t// mix given properties into the prototype\r\n\tL.extend(proto, props);\r\n\r\n\tproto._initHooks = [];\r\n\r\n\t// add method for calling all hooks\r\n\tproto.callInitHooks = function () {\r\n\r\n\t\tif (this._initHooksCalled) { return; }\r\n\r\n\t\tif (parentProto.callInitHooks) {\r\n\t\t\tparentProto.callInitHooks.call(this);\r\n\t\t}\r\n\r\n\t\tthis._initHooksCalled = true;\r\n\r\n\t\tfor (var i = 0, len = proto._initHooks.length; i < len; i++) {\r\n\t\t\tproto._initHooks[i].call(this);\r\n\t\t}\r\n\t};\r\n\r\n\treturn NewClass;\r\n};\r\n\r\n\r\n// @function include(properties: Object): this\r\n// [Includes a mixin](#class-includes) into the current class.\r\nL.Class.include = function (props) {\r\n\tL.extend(this.prototype, props);\r\n\treturn this;\r\n};\r\n\r\n// @function mergeOptions(options: Object): this\r\n// [Merges `options`](#class-options) into the defaults of the class.\r\nL.Class.mergeOptions = function (options) {\r\n\tL.extend(this.prototype.options, options);\r\n\treturn this;\r\n};\r\n\r\n// @function addInitHook(fn: Function): this\r\n// Adds a [constructor hook](#class-constructor-hooks) to the class.\r\nL.Class.addInitHook = function (fn) { // (Function) || (String, args...)\r\n\tvar args = Array.prototype.slice.call(arguments, 1);\r\n\r\n\tvar init = typeof fn === 'function' ? fn : function () {\r\n\t\tthis[fn].apply(this, args);\r\n\t};\r\n\r\n\tthis.prototype._initHooks = this.prototype._initHooks || [];\r\n\tthis.prototype._initHooks.push(init);\r\n\treturn this;\r\n};\r\n\n/*\r\n * @class Evented\r\n * @aka L.Evented\r\n * @inherits Class\r\n *\r\n * A set of methods shared between event-powered classes (like `Map` and `Marker`). Generally, events allow you to execute some function when something happens with an object (e.g. the user clicks on the map, causing the map to fire `'click'` event).\r\n *\r\n * @example\r\n *\r\n * ```js\r\n * map.on('click', function(e) {\r\n * \talert(e.latlng);\r\n * } );\r\n * ```\r\n *\r\n * Leaflet deals with event listeners by reference, so if you want to add a listener and then remove it, define it as a function:\r\n *\r\n * ```js\r\n * function onClick(e) { ... }\r\n *\r\n * map.on('click', onClick);\r\n * map.off('click', onClick);\r\n * ```\r\n */\r\n\r\n\r\nL.Evented = L.Class.extend({\r\n\r\n\t/* @method on(type: String, fn: Function, context?: Object): this\r\n\t * Adds a listener function (`fn`) to a particular event type of the object. You can optionally specify the context of the listener (object the this keyword will point to). You can also pass several space-separated types (e.g. `'click dblclick'`).\r\n\t *\r\n\t * @alternative\r\n\t * @method on(eventMap: Object): this\r\n\t * Adds a set of type/listener pairs, e.g. `{click: onClick, mousemove: onMouseMove}`\r\n\t */\r\n\ton: function (types, fn, context) {\r\n\r\n\t\t// types can be a map of types/handlers\r\n\t\tif (typeof types === 'object') {\r\n\t\t\tfor (var type in types) {\r\n\t\t\t\t// we don't process space-separated events here for performance;\r\n\t\t\t\t// it's a hot path since Layer uses the on(obj) syntax\r\n\t\t\t\tthis._on(type, types[type], fn);\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\t\t\t// types can be a string of space-separated words\r\n\t\t\ttypes = L.Util.splitWords(types);\r\n\r\n\t\t\tfor (var i = 0, len = types.length; i < len; i++) {\r\n\t\t\t\tthis._on(types[i], fn, context);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t/* @method off(type: String, fn?: Function, context?: Object): this\r\n\t * Removes a previously added listener function. If no function is specified, it will remove all the listeners of that particular event from the object. Note that if you passed a custom context to `on`, you must pass the same context to `off` in order to remove the listener.\r\n\t *\r\n\t * @alternative\r\n\t * @method off(eventMap: Object): this\r\n\t * Removes a set of type/listener pairs.\r\n\t *\r\n\t * @alternative\r\n\t * @method off: this\r\n\t * Removes all listeners to all events on the object.\r\n\t */\r\n\toff: function (types, fn, context) {\r\n\r\n\t\tif (!types) {\r\n\t\t\t// clear all listeners if called without arguments\r\n\t\t\tdelete this._events;\r\n\r\n\t\t} else if (typeof types === 'object') {\r\n\t\t\tfor (var type in types) {\r\n\t\t\t\tthis._off(type, types[type], fn);\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\t\t\ttypes = L.Util.splitWords(types);\r\n\r\n\t\t\tfor (var i = 0, len = types.length; i < len; i++) {\r\n\t\t\t\tthis._off(types[i], fn, context);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// attach listener (without syntactic sugar now)\r\n\t_on: function (type, fn, context) {\r\n\t\tthis._events = this._events || {};\r\n\r\n\t\t/* get/init listeners for type */\r\n\t\tvar typeListeners = this._events[type];\r\n\t\tif (!typeListeners) {\r\n\t\t\ttypeListeners = [];\r\n\t\t\tthis._events[type] = typeListeners;\r\n\t\t}\r\n\r\n\t\tif (context === this) {\r\n\t\t\t// Less memory footprint.\r\n\t\t\tcontext = undefined;\r\n\t\t}\r\n\t\tvar newListener = {fn: fn, ctx: context},\r\n\t\t    listeners = typeListeners;\r\n\r\n\t\t// check if fn already there\r\n\t\tfor (var i = 0, len = listeners.length; i < len; i++) {\r\n\t\t\tif (listeners[i].fn === fn && listeners[i].ctx === context) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tlisteners.push(newListener);\r\n\t\ttypeListeners.count++;\r\n\t},\r\n\r\n\t_off: function (type, fn, context) {\r\n\t\tvar listeners,\r\n\t\t    i,\r\n\t\t    len;\r\n\r\n\t\tif (!this._events) { return; }\r\n\r\n\t\tlisteners = this._events[type];\r\n\r\n\t\tif (!listeners) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (!fn) {\r\n\t\t\t// Set all removed listeners to noop so they are not called if remove happens in fire\r\n\t\t\tfor (i = 0, len = listeners.length; i < len; i++) {\r\n\t\t\t\tlisteners[i].fn = L.Util.falseFn;\r\n\t\t\t}\r\n\t\t\t// clear all listeners for a type if function isn't specified\r\n\t\t\tdelete this._events[type];\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (context === this) {\r\n\t\t\tcontext = undefined;\r\n\t\t}\r\n\r\n\t\tif (listeners) {\r\n\r\n\t\t\t// find fn and remove it\r\n\t\t\tfor (i = 0, len = listeners.length; i < len; i++) {\r\n\t\t\t\tvar l = listeners[i];\r\n\t\t\t\tif (l.ctx !== context) { continue; }\r\n\t\t\t\tif (l.fn === fn) {\r\n\r\n\t\t\t\t\t// set the removed listener to noop so that's not called if remove happens in fire\r\n\t\t\t\t\tl.fn = L.Util.falseFn;\r\n\r\n\t\t\t\t\tif (this._firingCount) {\r\n\t\t\t\t\t\t/* copy array in case events are being fired */\r\n\t\t\t\t\t\tthis._events[type] = listeners = listeners.slice();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlisteners.splice(i, 1);\r\n\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t// @method fire(type: String, data?: Object, propagate?: Boolean): this\r\n\t// Fires an event of the specified type. You can optionally provide an data\r\n\t// object — the first argument of the listener function will contain its\r\n\t// properties. The event might can optionally be propagated to event parents.\r\n\tfire: function (type, data, propagate) {\r\n\t\tif (!this.listens(type, propagate)) { return this; }\r\n\r\n\t\tvar event = L.Util.extend({}, data, {type: type, target: this});\r\n\r\n\t\tif (this._events) {\r\n\t\t\tvar listeners = this._events[type];\r\n\r\n\t\t\tif (listeners) {\r\n\t\t\t\tthis._firingCount = (this._firingCount + 1) || 1;\r\n\t\t\t\tfor (var i = 0, len = listeners.length; i < len; i++) {\r\n\t\t\t\t\tvar l = listeners[i];\r\n\t\t\t\t\tl.fn.call(l.ctx || this, event);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis._firingCount--;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (propagate) {\r\n\t\t\t// propagate the event to parents (set with addEventParent)\r\n\t\t\tthis._propagateEvent(event);\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method listens(type: String): Boolean\r\n\t// Returns `true` if a particular event type has any listeners attached to it.\r\n\tlistens: function (type, propagate) {\r\n\t\tvar listeners = this._events && this._events[type];\r\n\t\tif (listeners && listeners.length) { return true; }\r\n\r\n\t\tif (propagate) {\r\n\t\t\t// also check parents for listeners if event propagates\r\n\t\t\tfor (var id in this._eventParents) {\r\n\t\t\t\tif (this._eventParents[id].listens(type, propagate)) { return true; }\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t},\r\n\r\n\t// @method once(…): this\r\n\t// Behaves as [`on(…)`](#evented-on), except the listener will only get fired once and then removed.\r\n\tonce: function (types, fn, context) {\r\n\r\n\t\tif (typeof types === 'object') {\r\n\t\t\tfor (var type in types) {\r\n\t\t\t\tthis.once(type, types[type], fn);\r\n\t\t\t}\r\n\t\t\treturn this;\r\n\t\t}\r\n\r\n\t\tvar handler = L.bind(function () {\r\n\t\t\tthis\r\n\t\t\t    .off(types, fn, context)\r\n\t\t\t    .off(types, handler, context);\r\n\t\t}, this);\r\n\r\n\t\t// add a listener that's executed once and removed after that\r\n\t\treturn this\r\n\t\t    .on(types, fn, context)\r\n\t\t    .on(types, handler, context);\r\n\t},\r\n\r\n\t// @method addEventParent(obj: Evented): this\r\n\t// Adds an event parent - an `Evented` that will receive propagated events\r\n\taddEventParent: function (obj) {\r\n\t\tthis._eventParents = this._eventParents || {};\r\n\t\tthis._eventParents[L.stamp(obj)] = obj;\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method removeEventParent(obj: Evented): this\r\n\t// Removes an event parent, so it will stop receiving propagated events\r\n\tremoveEventParent: function (obj) {\r\n\t\tif (this._eventParents) {\r\n\t\t\tdelete this._eventParents[L.stamp(obj)];\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\t_propagateEvent: function (e) {\r\n\t\tfor (var id in this._eventParents) {\r\n\t\t\tthis._eventParents[id].fire(e.type, L.extend({layer: e.target}, e), true);\r\n\t\t}\r\n\t}\r\n});\r\n\r\nvar proto = L.Evented.prototype;\r\n\r\n// aliases; we should ditch those eventually\r\n\r\n// @method addEventListener(…): this\r\n// Alias to [`on(…)`](#evented-on)\r\nproto.addEventListener = proto.on;\r\n\r\n// @method removeEventListener(…): this\r\n// Alias to [`off(…)`](#evented-off)\r\n\r\n// @method clearAllEventListeners(…): this\r\n// Alias to [`off()`](#evented-off)\r\nproto.removeEventListener = proto.clearAllEventListeners = proto.off;\r\n\r\n// @method addOneTimeEventListener(…): this\r\n// Alias to [`once(…)`](#evented-once)\r\nproto.addOneTimeEventListener = proto.once;\r\n\r\n// @method fireEvent(…): this\r\n// Alias to [`fire(…)`](#evented-fire)\r\nproto.fireEvent = proto.fire;\r\n\r\n// @method hasEventListeners(…): Boolean\r\n// Alias to [`listens(…)`](#evented-listens)\r\nproto.hasEventListeners = proto.listens;\r\n\r\nL.Mixin = {Events: proto};\r\n\n/*\r\n * @namespace Browser\r\n * @aka L.Browser\r\n *\r\n * A namespace with static properties for browser/feature detection used by Leaflet internally.\r\n *\r\n * @example\r\n *\r\n * ```js\r\n * if (L.Browser.ielt9) {\r\n *   alert('Upgrade your browser, dude!');\r\n * }\r\n * ```\r\n */\r\n\r\n(function () {\r\n\r\n\tvar ua = navigator.userAgent.toLowerCase(),\r\n\t    doc = document.documentElement,\r\n\r\n\t    ie = 'ActiveXObject' in window,\r\n\r\n\t    webkit    = ua.indexOf('webkit') !== -1,\r\n\t    phantomjs = ua.indexOf('phantom') !== -1,\r\n\t    android23 = ua.search('android [23]') !== -1,\r\n\t    chrome    = ua.indexOf('chrome') !== -1,\r\n\t    gecko     = ua.indexOf('gecko') !== -1  && !webkit && !window.opera && !ie,\r\n\r\n\t    win = navigator.platform.indexOf('Win') === 0,\r\n\r\n\t    mobile = typeof orientation !== 'undefined' || ua.indexOf('mobile') !== -1,\r\n\t    msPointer = !window.PointerEvent && window.MSPointerEvent,\r\n\t    pointer = window.PointerEvent || msPointer,\r\n\r\n\t    ie3d = ie && ('transition' in doc.style),\r\n\t    webkit3d = ('WebKitCSSMatrix' in window) && ('m11' in new window.WebKitCSSMatrix()) && !android23,\r\n\t    gecko3d = 'MozPerspective' in doc.style,\r\n\t    opera12 = 'OTransition' in doc.style;\r\n\r\n\r\n\tvar touch = !window.L_NO_TOUCH && (pointer || 'ontouchstart' in window ||\r\n\t\t\t(window.DocumentTouch && document instanceof window.DocumentTouch));\r\n\r\n\tL.Browser = {\r\n\r\n\t\t// @property ie: Boolean\r\n\t\t// `true` for all Internet Explorer versions (not Edge).\r\n\t\tie: ie,\r\n\r\n\t\t// @property ielt9: Boolean\r\n\t\t// `true` for Internet Explorer versions less than 9.\r\n\t\tielt9: ie && !document.addEventListener,\r\n\r\n\t\t// @property edge: Boolean\r\n\t\t// `true` for the Edge web browser.\r\n\t\tedge: 'msLaunchUri' in navigator && !('documentMode' in document),\r\n\r\n\t\t// @property webkit: Boolean\r\n\t\t// `true` for webkit-based browsers like Chrome and Safari (including mobile versions).\r\n\t\twebkit: webkit,\r\n\r\n\t\t// @property gecko: Boolean\r\n\t\t// `true` for gecko-based browsers like Firefox.\r\n\t\tgecko: gecko,\r\n\r\n\t\t// @property android: Boolean\r\n\t\t// `true` for any browser running on an Android platform.\r\n\t\tandroid: ua.indexOf('android') !== -1,\r\n\r\n\t\t// @property android23: Boolean\r\n\t\t// `true` for browsers running on Android 2 or Android 3.\r\n\t\tandroid23: android23,\r\n\r\n\t\t// @property chrome: Boolean\r\n\t\t// `true` for the Chrome browser.\r\n\t\tchrome: chrome,\r\n\r\n\t\t// @property safari: Boolean\r\n\t\t// `true` for the Safari browser.\r\n\t\tsafari: !chrome && ua.indexOf('safari') !== -1,\r\n\r\n\r\n\t\t// @property win: Boolean\r\n\t\t// `true` when the browser is running in a Windows platform\r\n\t\twin: win,\r\n\r\n\r\n\t\t// @property ie3d: Boolean\r\n\t\t// `true` for all Internet Explorer versions supporting CSS transforms.\r\n\t\tie3d: ie3d,\r\n\r\n\t\t// @property webkit3d: Boolean\r\n\t\t// `true` for webkit-based browsers supporting CSS transforms.\r\n\t\twebkit3d: webkit3d,\r\n\r\n\t\t// @property gecko3d: Boolean\r\n\t\t// `true` for gecko-based browsers supporting CSS transforms.\r\n\t\tgecko3d: gecko3d,\r\n\r\n\t\t// @property opera12: Boolean\r\n\t\t// `true` for the Opera browser supporting CSS transforms (version 12 or later).\r\n\t\topera12: opera12,\r\n\r\n\t\t// @property any3d: Boolean\r\n\t\t// `true` for all browsers supporting CSS transforms.\r\n\t\tany3d: !window.L_DISABLE_3D && (ie3d || webkit3d || gecko3d) && !opera12 && !phantomjs,\r\n\r\n\r\n\t\t// @property mobile: Boolean\r\n\t\t// `true` for all browsers running in a mobile device.\r\n\t\tmobile: mobile,\r\n\r\n\t\t// @property mobileWebkit: Boolean\r\n\t\t// `true` for all webkit-based browsers in a mobile device.\r\n\t\tmobileWebkit: mobile && webkit,\r\n\r\n\t\t// @property mobileWebkit3d: Boolean\r\n\t\t// `true` for all webkit-based browsers in a mobile device supporting CSS transforms.\r\n\t\tmobileWebkit3d: mobile && webkit3d,\r\n\r\n\t\t// @property mobileOpera: Boolean\r\n\t\t// `true` for the Opera browser in a mobile device.\r\n\t\tmobileOpera: mobile && window.opera,\r\n\r\n\t\t// @property mobileGecko: Boolean\r\n\t\t// `true` for gecko-based browsers running in a mobile device.\r\n\t\tmobileGecko: mobile && gecko,\r\n\r\n\r\n\t\t// @property touch: Boolean\r\n\t\t// `true` for all browsers supporting [touch events](https://developer.mozilla.org/docs/Web/API/Touch_events).\r\n\t\ttouch: !!touch,\r\n\r\n\t\t// @property msPointer: Boolean\r\n\t\t// `true` for browsers implementing the Microsoft touch events model (notably IE10).\r\n\t\tmsPointer: !!msPointer,\r\n\r\n\t\t// @property pointer: Boolean\r\n\t\t// `true` for all browsers supporting [pointer events](https://msdn.microsoft.com/en-us/library/dn433244%28v=vs.85%29.aspx).\r\n\t\tpointer: !!pointer,\r\n\r\n\r\n\t\t// @property retina: Boolean\r\n\t\t// `true` for browsers on a high-resolution \"retina\" screen.\r\n\t\tretina: (window.devicePixelRatio || (window.screen.deviceXDPI / window.screen.logicalXDPI)) > 1\r\n\t};\r\n\r\n}());\r\n\n/*\r\n * @class Point\r\n * @aka L.Point\r\n *\r\n * Represents a point with `x` and `y` coordinates in pixels.\r\n *\r\n * @example\r\n *\r\n * ```js\r\n * var point = L.point(200, 300);\r\n * ```\r\n *\r\n * All Leaflet methods and options that accept `Point` objects also accept them in a simple Array form (unless noted otherwise), so these lines are equivalent:\r\n *\r\n * ```js\r\n * map.panBy([200, 300]);\r\n * map.panBy(L.point(200, 300));\r\n * ```\r\n */\r\n\r\nL.Point = function (x, y, round) {\r\n\tthis.x = (round ? Math.round(x) : x);\r\n\tthis.y = (round ? Math.round(y) : y);\r\n};\r\n\r\nL.Point.prototype = {\r\n\r\n\t// @method clone(): Point\r\n\t// Returns a copy of the current point.\r\n\tclone: function () {\r\n\t\treturn new L.Point(this.x, this.y);\r\n\t},\r\n\r\n\t// @method add(otherPoint: Point): Point\r\n\t// Returns the result of addition of the current and the given points.\r\n\tadd: function (point) {\r\n\t\t// non-destructive, returns a new point\r\n\t\treturn this.clone()._add(L.point(point));\r\n\t},\r\n\r\n\t_add: function (point) {\r\n\t\t// destructive, used directly for performance in situations where it's safe to modify existing point\r\n\t\tthis.x += point.x;\r\n\t\tthis.y += point.y;\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method subtract(otherPoint: Point): Point\r\n\t// Returns the result of subtraction of the given point from the current.\r\n\tsubtract: function (point) {\r\n\t\treturn this.clone()._subtract(L.point(point));\r\n\t},\r\n\r\n\t_subtract: function (point) {\r\n\t\tthis.x -= point.x;\r\n\t\tthis.y -= point.y;\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method divideBy(num: Number): Point\r\n\t// Returns the result of division of the current point by the given number.\r\n\tdivideBy: function (num) {\r\n\t\treturn this.clone()._divideBy(num);\r\n\t},\r\n\r\n\t_divideBy: function (num) {\r\n\t\tthis.x /= num;\r\n\t\tthis.y /= num;\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method multiplyBy(num: Number): Point\r\n\t// Returns the result of multiplication of the current point by the given number.\r\n\tmultiplyBy: function (num) {\r\n\t\treturn this.clone()._multiplyBy(num);\r\n\t},\r\n\r\n\t_multiplyBy: function (num) {\r\n\t\tthis.x *= num;\r\n\t\tthis.y *= num;\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method scaleBy(scale: Point): Point\r\n\t// Multiply each coordinate of the current point by each coordinate of\r\n\t// `scale`. In linear algebra terms, multiply the point by the\r\n\t// [scaling matrix](https://en.wikipedia.org/wiki/Scaling_%28geometry%29#Matrix_representation)\r\n\t// defined by `scale`.\r\n\tscaleBy: function (point) {\r\n\t\treturn new L.Point(this.x * point.x, this.y * point.y);\r\n\t},\r\n\r\n\t// @method unscaleBy(scale: Point): Point\r\n\t// Inverse of `scaleBy`. Divide each coordinate of the current point by\r\n\t// each coordinate of `scale`.\r\n\tunscaleBy: function (point) {\r\n\t\treturn new L.Point(this.x / point.x, this.y / point.y);\r\n\t},\r\n\r\n\t// @method round(): Point\r\n\t// Returns a copy of the current point with rounded coordinates.\r\n\tround: function () {\r\n\t\treturn this.clone()._round();\r\n\t},\r\n\r\n\t_round: function () {\r\n\t\tthis.x = Math.round(this.x);\r\n\t\tthis.y = Math.round(this.y);\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method floor(): Point\r\n\t// Returns a copy of the current point with floored coordinates (rounded down).\r\n\tfloor: function () {\r\n\t\treturn this.clone()._floor();\r\n\t},\r\n\r\n\t_floor: function () {\r\n\t\tthis.x = Math.floor(this.x);\r\n\t\tthis.y = Math.floor(this.y);\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method ceil(): Point\r\n\t// Returns a copy of the current point with ceiled coordinates (rounded up).\r\n\tceil: function () {\r\n\t\treturn this.clone()._ceil();\r\n\t},\r\n\r\n\t_ceil: function () {\r\n\t\tthis.x = Math.ceil(this.x);\r\n\t\tthis.y = Math.ceil(this.y);\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method distanceTo(otherPoint: Point): Number\r\n\t// Returns the cartesian distance between the current and the given points.\r\n\tdistanceTo: function (point) {\r\n\t\tpoint = L.point(point);\r\n\r\n\t\tvar x = point.x - this.x,\r\n\t\t    y = point.y - this.y;\r\n\r\n\t\treturn Math.sqrt(x * x + y * y);\r\n\t},\r\n\r\n\t// @method equals(otherPoint: Point): Boolean\r\n\t// Returns `true` if the given point has the same coordinates.\r\n\tequals: function (point) {\r\n\t\tpoint = L.point(point);\r\n\r\n\t\treturn point.x === this.x &&\r\n\t\t       point.y === this.y;\r\n\t},\r\n\r\n\t// @method contains(otherPoint: Point): Boolean\r\n\t// Returns `true` if both coordinates of the given point are less than the corresponding current point coordinates (in absolute values).\r\n\tcontains: function (point) {\r\n\t\tpoint = L.point(point);\r\n\r\n\t\treturn Math.abs(point.x) <= Math.abs(this.x) &&\r\n\t\t       Math.abs(point.y) <= Math.abs(this.y);\r\n\t},\r\n\r\n\t// @method toString(): String\r\n\t// Returns a string representation of the point for debugging purposes.\r\n\ttoString: function () {\r\n\t\treturn 'Point(' +\r\n\t\t        L.Util.formatNum(this.x) + ', ' +\r\n\t\t        L.Util.formatNum(this.y) + ')';\r\n\t}\r\n};\r\n\r\n// @factory L.point(x: Number, y: Number, round?: Boolean)\r\n// Creates a Point object with the given `x` and `y` coordinates. If optional `round` is set to true, rounds the `x` and `y` values.\r\n\r\n// @alternative\r\n// @factory L.point(coords: Number[])\r\n// Expects an array of the form `[x, y]` instead.\r\n\r\n// @alternative\r\n// @factory L.point(coords: Object)\r\n// Expects a plain object of the form `{x: Number, y: Number}` instead.\r\nL.point = function (x, y, round) {\r\n\tif (x instanceof L.Point) {\r\n\t\treturn x;\r\n\t}\r\n\tif (L.Util.isArray(x)) {\r\n\t\treturn new L.Point(x[0], x[1]);\r\n\t}\r\n\tif (x === undefined || x === null) {\r\n\t\treturn x;\r\n\t}\r\n\tif (typeof x === 'object' && 'x' in x && 'y' in x) {\r\n\t\treturn new L.Point(x.x, x.y);\r\n\t}\r\n\treturn new L.Point(x, y, round);\r\n};\r\n\n/*\r\n * @class Bounds\r\n * @aka L.Bounds\r\n *\r\n * Represents a rectangular area in pixel coordinates.\r\n *\r\n * @example\r\n *\r\n * ```js\r\n * var p1 = L.point(10, 10),\r\n * p2 = L.point(40, 60),\r\n * bounds = L.bounds(p1, p2);\r\n * ```\r\n *\r\n * All Leaflet methods that accept `Bounds` objects also accept them in a simple Array form (unless noted otherwise), so the bounds example above can be passed like this:\r\n *\r\n * ```js\r\n * otherBounds.intersects([[10, 10], [40, 60]]);\r\n * ```\r\n */\r\n\r\nL.Bounds = function (a, b) {\r\n\tif (!a) { return; }\r\n\r\n\tvar points = b ? [a, b] : a;\r\n\r\n\tfor (var i = 0, len = points.length; i < len; i++) {\r\n\t\tthis.extend(points[i]);\r\n\t}\r\n};\r\n\r\nL.Bounds.prototype = {\r\n\t// @method extend(point: Point): this\r\n\t// Extends the bounds to contain the given point.\r\n\textend: function (point) { // (Point)\r\n\t\tpoint = L.point(point);\r\n\r\n\t\t// @property min: Point\r\n\t\t// The top left corner of the rectangle.\r\n\t\t// @property max: Point\r\n\t\t// The bottom right corner of the rectangle.\r\n\t\tif (!this.min && !this.max) {\r\n\t\t\tthis.min = point.clone();\r\n\t\t\tthis.max = point.clone();\r\n\t\t} else {\r\n\t\t\tthis.min.x = Math.min(point.x, this.min.x);\r\n\t\t\tthis.max.x = Math.max(point.x, this.max.x);\r\n\t\t\tthis.min.y = Math.min(point.y, this.min.y);\r\n\t\t\tthis.max.y = Math.max(point.y, this.max.y);\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method getCenter(round?: Boolean): Point\r\n\t// Returns the center point of the bounds.\r\n\tgetCenter: function (round) {\r\n\t\treturn new L.Point(\r\n\t\t        (this.min.x + this.max.x) / 2,\r\n\t\t        (this.min.y + this.max.y) / 2, round);\r\n\t},\r\n\r\n\t// @method getBottomLeft(): Point\r\n\t// Returns the bottom-left point of the bounds.\r\n\tgetBottomLeft: function () {\r\n\t\treturn new L.Point(this.min.x, this.max.y);\r\n\t},\r\n\r\n\t// @method getTopRight(): Point\r\n\t// Returns the top-right point of the bounds.\r\n\tgetTopRight: function () { // -> Point\r\n\t\treturn new L.Point(this.max.x, this.min.y);\r\n\t},\r\n\r\n\t// @method getSize(): Point\r\n\t// Returns the size of the given bounds\r\n\tgetSize: function () {\r\n\t\treturn this.max.subtract(this.min);\r\n\t},\r\n\r\n\t// @method contains(otherBounds: Bounds): Boolean\r\n\t// Returns `true` if the rectangle contains the given one.\r\n\t// @alternative\r\n\t// @method contains(point: Point): Boolean\r\n\t// Returns `true` if the rectangle contains the given point.\r\n\tcontains: function (obj) {\r\n\t\tvar min, max;\r\n\r\n\t\tif (typeof obj[0] === 'number' || obj instanceof L.Point) {\r\n\t\t\tobj = L.point(obj);\r\n\t\t} else {\r\n\t\t\tobj = L.bounds(obj);\r\n\t\t}\r\n\r\n\t\tif (obj instanceof L.Bounds) {\r\n\t\t\tmin = obj.min;\r\n\t\t\tmax = obj.max;\r\n\t\t} else {\r\n\t\t\tmin = max = obj;\r\n\t\t}\r\n\r\n\t\treturn (min.x >= this.min.x) &&\r\n\t\t       (max.x <= this.max.x) &&\r\n\t\t       (min.y >= this.min.y) &&\r\n\t\t       (max.y <= this.max.y);\r\n\t},\r\n\r\n\t// @method intersects(otherBounds: Bounds): Boolean\r\n\t// Returns `true` if the rectangle intersects the given bounds. Two bounds\r\n\t// intersect if they have at least one point in common.\r\n\tintersects: function (bounds) { // (Bounds) -> Boolean\r\n\t\tbounds = L.bounds(bounds);\r\n\r\n\t\tvar min = this.min,\r\n\t\t    max = this.max,\r\n\t\t    min2 = bounds.min,\r\n\t\t    max2 = bounds.max,\r\n\t\t    xIntersects = (max2.x >= min.x) && (min2.x <= max.x),\r\n\t\t    yIntersects = (max2.y >= min.y) && (min2.y <= max.y);\r\n\r\n\t\treturn xIntersects && yIntersects;\r\n\t},\r\n\r\n\t// @method overlaps(otherBounds: Bounds): Boolean\r\n\t// Returns `true` if the rectangle overlaps the given bounds. Two bounds\r\n\t// overlap if their intersection is an area.\r\n\toverlaps: function (bounds) { // (Bounds) -> Boolean\r\n\t\tbounds = L.bounds(bounds);\r\n\r\n\t\tvar min = this.min,\r\n\t\t    max = this.max,\r\n\t\t    min2 = bounds.min,\r\n\t\t    max2 = bounds.max,\r\n\t\t    xOverlaps = (max2.x > min.x) && (min2.x < max.x),\r\n\t\t    yOverlaps = (max2.y > min.y) && (min2.y < max.y);\r\n\r\n\t\treturn xOverlaps && yOverlaps;\r\n\t},\r\n\r\n\tisValid: function () {\r\n\t\treturn !!(this.min && this.max);\r\n\t}\r\n};\r\n\r\n\r\n// @factory L.bounds(topLeft: Point, bottomRight: Point)\r\n// Creates a Bounds object from two coordinates (usually top-left and bottom-right corners).\r\n// @alternative\r\n// @factory L.bounds(points: Point[])\r\n// Creates a Bounds object from the points it contains\r\nL.bounds = function (a, b) {\r\n\tif (!a || a instanceof L.Bounds) {\r\n\t\treturn a;\r\n\t}\r\n\treturn new L.Bounds(a, b);\r\n};\r\n\n/*\r\n * @class Transformation\r\n * @aka L.Transformation\r\n *\r\n * Represents an affine transformation: a set of coefficients `a`, `b`, `c`, `d`\r\n * for transforming a point of a form `(x, y)` into `(a*x + b, c*y + d)` and doing\r\n * the reverse. Used by Leaflet in its projections code.\r\n *\r\n * @example\r\n *\r\n * ```js\r\n * var transformation = new L.Transformation(2, 5, -1, 10),\r\n * \tp = L.point(1, 2),\r\n * \tp2 = transformation.transform(p), //  L.point(7, 8)\r\n * \tp3 = transformation.untransform(p2); //  L.point(1, 2)\r\n * ```\r\n */\r\n\r\n\r\n// factory new L.Transformation(a: Number, b: Number, c: Number, d: Number)\r\n// Creates a `Transformation` object with the given coefficients.\r\nL.Transformation = function (a, b, c, d) {\r\n\tthis._a = a;\r\n\tthis._b = b;\r\n\tthis._c = c;\r\n\tthis._d = d;\r\n};\r\n\r\nL.Transformation.prototype = {\r\n\t// @method transform(point: Point, scale?: Number): Point\r\n\t// Returns a transformed point, optionally multiplied by the given scale.\r\n\t// Only accepts real `L.Point` instances, not arrays.\r\n\ttransform: function (point, scale) { // (Point, Number) -> Point\r\n\t\treturn this._transform(point.clone(), scale);\r\n\t},\r\n\r\n\t// destructive transform (faster)\r\n\t_transform: function (point, scale) {\r\n\t\tscale = scale || 1;\r\n\t\tpoint.x = scale * (this._a * point.x + this._b);\r\n\t\tpoint.y = scale * (this._c * point.y + this._d);\r\n\t\treturn point;\r\n\t},\r\n\r\n\t// @method untransform(point: Point, scale?: Number): Point\r\n\t// Returns the reverse transformation of the given point, optionally divided\r\n\t// by the given scale. Only accepts real `L.Point` instances, not arrays.\r\n\tuntransform: function (point, scale) {\r\n\t\tscale = scale || 1;\r\n\t\treturn new L.Point(\r\n\t\t        (point.x / scale - this._b) / this._a,\r\n\t\t        (point.y / scale - this._d) / this._c);\r\n\t}\r\n};\r\n\n/*\r\n * @namespace DomUtil\r\n *\r\n * Utility functions to work with the [DOM](https://developer.mozilla.org/docs/Web/API/Document_Object_Model)\r\n * tree, used by Leaflet internally.\r\n *\r\n * Most functions expecting or returning a `HTMLElement` also work for\r\n * SVG elements. The only difference is that classes refer to CSS classes\r\n * in HTML and SVG classes in SVG.\r\n */\r\n\r\nL.DomUtil = {\r\n\r\n\t// @function get(id: String|HTMLElement): HTMLElement\r\n\t// Returns an element given its DOM id, or returns the element itself\r\n\t// if it was passed directly.\r\n\tget: function (id) {\r\n\t\treturn typeof id === 'string' ? document.getElementById(id) : id;\r\n\t},\r\n\r\n\t// @function getStyle(el: HTMLElement, styleAttrib: String): String\r\n\t// Returns the value for a certain style attribute on an element,\r\n\t// including computed values or values set through CSS.\r\n\tgetStyle: function (el, style) {\r\n\r\n\t\tvar value = el.style[style] || (el.currentStyle && el.currentStyle[style]);\r\n\r\n\t\tif ((!value || value === 'auto') && document.defaultView) {\r\n\t\t\tvar css = document.defaultView.getComputedStyle(el, null);\r\n\t\t\tvalue = css ? css[style] : null;\r\n\t\t}\r\n\r\n\t\treturn value === 'auto' ? null : value;\r\n\t},\r\n\r\n\t// @function create(tagName: String, className?: String, container?: HTMLElement): HTMLElement\r\n\t// Creates an HTML element with `tagName`, sets its class to `className`, and optionally appends it to `container` element.\r\n\tcreate: function (tagName, className, container) {\r\n\r\n\t\tvar el = document.createElement(tagName);\r\n\t\tel.className = className || '';\r\n\r\n\t\tif (container) {\r\n\t\t\tcontainer.appendChild(el);\r\n\t\t}\r\n\r\n\t\treturn el;\r\n\t},\r\n\r\n\t// @function remove(el: HTMLElement)\r\n\t// Removes `el` from its parent element\r\n\tremove: function (el) {\r\n\t\tvar parent = el.parentNode;\r\n\t\tif (parent) {\r\n\t\t\tparent.removeChild(el);\r\n\t\t}\r\n\t},\r\n\r\n\t// @function empty(el: HTMLElement)\r\n\t// Removes all of `el`'s children elements from `el`\r\n\tempty: function (el) {\r\n\t\twhile (el.firstChild) {\r\n\t\t\tel.removeChild(el.firstChild);\r\n\t\t}\r\n\t},\r\n\r\n\t// @function toFront(el: HTMLElement)\r\n\t// Makes `el` the last children of its parent, so it renders in front of the other children.\r\n\ttoFront: function (el) {\r\n\t\tel.parentNode.appendChild(el);\r\n\t},\r\n\r\n\t// @function toBack(el: HTMLElement)\r\n\t// Makes `el` the first children of its parent, so it renders back from the other children.\r\n\ttoBack: function (el) {\r\n\t\tvar parent = el.parentNode;\r\n\t\tparent.insertBefore(el, parent.firstChild);\r\n\t},\r\n\r\n\t// @function hasClass(el: HTMLElement, name: String): Boolean\r\n\t// Returns `true` if the element's class attribute contains `name`.\r\n\thasClass: function (el, name) {\r\n\t\tif (el.classList !== undefined) {\r\n\t\t\treturn el.classList.contains(name);\r\n\t\t}\r\n\t\tvar className = L.DomUtil.getClass(el);\r\n\t\treturn className.length > 0 && new RegExp('(^|\\\\s)' + name + '(\\\\s|$)').test(className);\r\n\t},\r\n\r\n\t// @function addClass(el: HTMLElement, name: String)\r\n\t// Adds `name` to the element's class attribute.\r\n\taddClass: function (el, name) {\r\n\t\tif (el.classList !== undefined) {\r\n\t\t\tvar classes = L.Util.splitWords(name);\r\n\t\t\tfor (var i = 0, len = classes.length; i < len; i++) {\r\n\t\t\t\tel.classList.add(classes[i]);\r\n\t\t\t}\r\n\t\t} else if (!L.DomUtil.hasClass(el, name)) {\r\n\t\t\tvar className = L.DomUtil.getClass(el);\r\n\t\t\tL.DomUtil.setClass(el, (className ? className + ' ' : '') + name);\r\n\t\t}\r\n\t},\r\n\r\n\t// @function removeClass(el: HTMLElement, name: String)\r\n\t// Removes `name` from the element's class attribute.\r\n\tremoveClass: function (el, name) {\r\n\t\tif (el.classList !== undefined) {\r\n\t\t\tel.classList.remove(name);\r\n\t\t} else {\r\n\t\t\tL.DomUtil.setClass(el, L.Util.trim((' ' + L.DomUtil.getClass(el) + ' ').replace(' ' + name + ' ', ' ')));\r\n\t\t}\r\n\t},\r\n\r\n\t// @function setClass(el: HTMLElement, name: String)\r\n\t// Sets the element's class.\r\n\tsetClass: function (el, name) {\r\n\t\tif (el.className.baseVal === undefined) {\r\n\t\t\tel.className = name;\r\n\t\t} else {\r\n\t\t\t// in case of SVG element\r\n\t\t\tel.className.baseVal = name;\r\n\t\t}\r\n\t},\r\n\r\n\t// @function getClass(el: HTMLElement): String\r\n\t// Returns the element's class.\r\n\tgetClass: function (el) {\r\n\t\treturn el.className.baseVal === undefined ? el.className : el.className.baseVal;\r\n\t},\r\n\r\n\t// @function setOpacity(el: HTMLElement, opacity: Number)\r\n\t// Set the opacity of an element (including old IE support).\r\n\t// `opacity` must be a number from `0` to `1`.\r\n\tsetOpacity: function (el, value) {\r\n\r\n\t\tif ('opacity' in el.style) {\r\n\t\t\tel.style.opacity = value;\r\n\r\n\t\t} else if ('filter' in el.style) {\r\n\t\t\tL.DomUtil._setOpacityIE(el, value);\r\n\t\t}\r\n\t},\r\n\r\n\t_setOpacityIE: function (el, value) {\r\n\t\tvar filter = false,\r\n\t\t    filterName = 'DXImageTransform.Microsoft.Alpha';\r\n\r\n\t\t// filters collection throws an error if we try to retrieve a filter that doesn't exist\r\n\t\ttry {\r\n\t\t\tfilter = el.filters.item(filterName);\r\n\t\t} catch (e) {\r\n\t\t\t// don't set opacity to 1 if we haven't already set an opacity,\r\n\t\t\t// it isn't needed and breaks transparent pngs.\r\n\t\t\tif (value === 1) { return; }\r\n\t\t}\r\n\r\n\t\tvalue = Math.round(value * 100);\r\n\r\n\t\tif (filter) {\r\n\t\t\tfilter.Enabled = (value !== 100);\r\n\t\t\tfilter.Opacity = value;\r\n\t\t} else {\r\n\t\t\tel.style.filter += ' progid:' + filterName + '(opacity=' + value + ')';\r\n\t\t}\r\n\t},\r\n\r\n\t// @function testProp(props: String[]): String|false\r\n\t// Goes through the array of style names and returns the first name\r\n\t// that is a valid style name for an element. If no such name is found,\r\n\t// it returns false. Useful for vendor-prefixed styles like `transform`.\r\n\ttestProp: function (props) {\r\n\r\n\t\tvar style = document.documentElement.style;\r\n\r\n\t\tfor (var i = 0; i < props.length; i++) {\r\n\t\t\tif (props[i] in style) {\r\n\t\t\t\treturn props[i];\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t},\r\n\r\n\t// @function setTransform(el: HTMLElement, offset: Point, scale?: Number)\r\n\t// Resets the 3D CSS transform of `el` so it is translated by `offset` pixels\r\n\t// and optionally scaled by `scale`. Does not have an effect if the\r\n\t// browser doesn't support 3D CSS transforms.\r\n\tsetTransform: function (el, offset, scale) {\r\n\t\tvar pos = offset || new L.Point(0, 0);\r\n\r\n\t\tel.style[L.DomUtil.TRANSFORM] =\r\n\t\t\t(L.Browser.ie3d ?\r\n\t\t\t\t'translate(' + pos.x + 'px,' + pos.y + 'px)' :\r\n\t\t\t\t'translate3d(' + pos.x + 'px,' + pos.y + 'px,0)') +\r\n\t\t\t(scale ? ' scale(' + scale + ')' : '');\r\n\t},\r\n\r\n\t// @function setPosition(el: HTMLElement, position: Point)\r\n\t// Sets the position of `el` to coordinates specified by `position`,\r\n\t// using CSS translate or top/left positioning depending on the browser\r\n\t// (used by Leaflet internally to position its layers).\r\n\tsetPosition: function (el, point) { // (HTMLElement, Point[, Boolean])\r\n\r\n\t\t/*eslint-disable */\r\n\t\tel._leaflet_pos = point;\r\n\t\t/*eslint-enable */\r\n\r\n\t\tif (L.Browser.any3d) {\r\n\t\t\tL.DomUtil.setTransform(el, point);\r\n\t\t} else {\r\n\t\t\tel.style.left = point.x + 'px';\r\n\t\t\tel.style.top = point.y + 'px';\r\n\t\t}\r\n\t},\r\n\r\n\t// @function getPosition(el: HTMLElement): Point\r\n\t// Returns the coordinates of an element previously positioned with setPosition.\r\n\tgetPosition: function (el) {\r\n\t\t// this method is only used for elements previously positioned using setPosition,\r\n\t\t// so it's safe to cache the position for performance\r\n\r\n\t\treturn el._leaflet_pos || new L.Point(0, 0);\r\n\t}\r\n};\r\n\r\n\r\n(function () {\r\n\t// prefix style property names\r\n\r\n\t// @property TRANSFORM: String\r\n\t// Vendor-prefixed fransform style name (e.g. `'webkitTransform'` for WebKit).\r\n\tL.DomUtil.TRANSFORM = L.DomUtil.testProp(\r\n\t\t\t['transform', 'WebkitTransform', 'OTransform', 'MozTransform', 'msTransform']);\r\n\r\n\r\n\t// webkitTransition comes first because some browser versions that drop vendor prefix don't do\r\n\t// the same for the transitionend event, in particular the Android 4.1 stock browser\r\n\r\n\t// @property TRANSITION: String\r\n\t// Vendor-prefixed transform style name.\r\n\tvar transition = L.DomUtil.TRANSITION = L.DomUtil.testProp(\r\n\t\t\t['webkitTransition', 'transition', 'OTransition', 'MozTransition', 'msTransition']);\r\n\r\n\tL.DomUtil.TRANSITION_END =\r\n\t\t\ttransition === 'webkitTransition' || transition === 'OTransition' ? transition + 'End' : 'transitionend';\r\n\r\n\t// @function disableTextSelection()\r\n\t// Prevents the user from generating `selectstart` DOM events, usually generated\r\n\t// when the user drags the mouse through a page with text. Used internally\r\n\t// by Leaflet to override the behaviour of any click-and-drag interaction on\r\n\t// the map. Affects drag interactions on the whole document.\r\n\r\n\t// @function enableTextSelection()\r\n\t// Cancels the effects of a previous [`L.DomUtil.disableTextSelection`](#domutil-disabletextselection).\r\n\tif ('onselectstart' in document) {\r\n\t\tL.DomUtil.disableTextSelection = function () {\r\n\t\t\tL.DomEvent.on(window, 'selectstart', L.DomEvent.preventDefault);\r\n\t\t};\r\n\t\tL.DomUtil.enableTextSelection = function () {\r\n\t\t\tL.DomEvent.off(window, 'selectstart', L.DomEvent.preventDefault);\r\n\t\t};\r\n\r\n\t} else {\r\n\t\tvar userSelectProperty = L.DomUtil.testProp(\r\n\t\t\t['userSelect', 'WebkitUserSelect', 'OUserSelect', 'MozUserSelect', 'msUserSelect']);\r\n\r\n\t\tL.DomUtil.disableTextSelection = function () {\r\n\t\t\tif (userSelectProperty) {\r\n\t\t\t\tvar style = document.documentElement.style;\r\n\t\t\t\tthis._userSelect = style[userSelectProperty];\r\n\t\t\t\tstyle[userSelectProperty] = 'none';\r\n\t\t\t}\r\n\t\t};\r\n\t\tL.DomUtil.enableTextSelection = function () {\r\n\t\t\tif (userSelectProperty) {\r\n\t\t\t\tdocument.documentElement.style[userSelectProperty] = this._userSelect;\r\n\t\t\t\tdelete this._userSelect;\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n\t// @function disableImageDrag()\r\n\t// As [`L.DomUtil.disableTextSelection`](#domutil-disabletextselection), but\r\n\t// for `dragstart` DOM events, usually generated when the user drags an image.\r\n\tL.DomUtil.disableImageDrag = function () {\r\n\t\tL.DomEvent.on(window, 'dragstart', L.DomEvent.preventDefault);\r\n\t};\r\n\r\n\t// @function enableImageDrag()\r\n\t// Cancels the effects of a previous [`L.DomUtil.disableImageDrag`](#domutil-disabletextselection).\r\n\tL.DomUtil.enableImageDrag = function () {\r\n\t\tL.DomEvent.off(window, 'dragstart', L.DomEvent.preventDefault);\r\n\t};\r\n\r\n\t// @function preventOutline(el: HTMLElement)\r\n\t// Makes the [outline](https://developer.mozilla.org/docs/Web/CSS/outline)\r\n\t// of the element `el` invisible. Used internally by Leaflet to prevent\r\n\t// focusable elements from displaying an outline when the user performs a\r\n\t// drag interaction on them.\r\n\tL.DomUtil.preventOutline = function (element) {\r\n\t\twhile (element.tabIndex === -1) {\r\n\t\t\telement = element.parentNode;\r\n\t\t}\r\n\t\tif (!element || !element.style) { return; }\r\n\t\tL.DomUtil.restoreOutline();\r\n\t\tthis._outlineElement = element;\r\n\t\tthis._outlineStyle = element.style.outline;\r\n\t\telement.style.outline = 'none';\r\n\t\tL.DomEvent.on(window, 'keydown', L.DomUtil.restoreOutline, this);\r\n\t};\r\n\r\n\t// @function restoreOutline()\r\n\t// Cancels the effects of a previous [`L.DomUtil.preventOutline`]().\r\n\tL.DomUtil.restoreOutline = function () {\r\n\t\tif (!this._outlineElement) { return; }\r\n\t\tthis._outlineElement.style.outline = this._outlineStyle;\r\n\t\tdelete this._outlineElement;\r\n\t\tdelete this._outlineStyle;\r\n\t\tL.DomEvent.off(window, 'keydown', L.DomUtil.restoreOutline, this);\r\n\t};\r\n})();\r\n\n/* @class LatLng\r\n * @aka L.LatLng\r\n *\r\n * Represents a geographical point with a certain latitude and longitude.\r\n *\r\n * @example\r\n *\r\n * ```\r\n * var latlng = L.latLng(50.5, 30.5);\r\n * ```\r\n *\r\n * All Leaflet methods that accept LatLng objects also accept them in a simple Array form and simple object form (unless noted otherwise), so these lines are equivalent:\r\n *\r\n * ```\r\n * map.panTo([50, 30]);\r\n * map.panTo({lon: 30, lat: 50});\r\n * map.panTo({lat: 50, lng: 30});\r\n * map.panTo(L.latLng(50, 30));\r\n * ```\r\n */\r\n\r\nL.LatLng = function (lat, lng, alt) {\r\n\tif (isNaN(lat) || isNaN(lng)) {\r\n\t\tthrow new Error('Invalid LatLng object: (' + lat + ', ' + lng + ')');\r\n\t}\r\n\r\n\t// @property lat: Number\r\n\t// Latitude in degrees\r\n\tthis.lat = +lat;\r\n\r\n\t// @property lng: Number\r\n\t// Longitude in degrees\r\n\tthis.lng = +lng;\r\n\r\n\t// @property alt: Number\r\n\t// Altitude in meters (optional)\r\n\tif (alt !== undefined) {\r\n\t\tthis.alt = +alt;\r\n\t}\r\n};\r\n\r\nL.LatLng.prototype = {\r\n\t// @method equals(otherLatLng: LatLng, maxMargin?: Number): Boolean\r\n\t// Returns `true` if the given `LatLng` point is at the same position (within a small margin of error). The margin of error can be overriden by setting `maxMargin` to a small number.\r\n\tequals: function (obj, maxMargin) {\r\n\t\tif (!obj) { return false; }\r\n\r\n\t\tobj = L.latLng(obj);\r\n\r\n\t\tvar margin = Math.max(\r\n\t\t        Math.abs(this.lat - obj.lat),\r\n\t\t        Math.abs(this.lng - obj.lng));\r\n\r\n\t\treturn margin <= (maxMargin === undefined ? 1.0E-9 : maxMargin);\r\n\t},\r\n\r\n\t// @method toString(): String\r\n\t// Returns a string representation of the point (for debugging purposes).\r\n\ttoString: function (precision) {\r\n\t\treturn 'LatLng(' +\r\n\t\t        L.Util.formatNum(this.lat, precision) + ', ' +\r\n\t\t        L.Util.formatNum(this.lng, precision) + ')';\r\n\t},\r\n\r\n\t// @method distanceTo(otherLatLng: LatLng): Number\r\n\t// Returns the distance (in meters) to the given `LatLng` calculated using the [Haversine formula](http://en.wikipedia.org/wiki/Haversine_formula).\r\n\tdistanceTo: function (other) {\r\n\t\treturn L.CRS.Earth.distance(this, L.latLng(other));\r\n\t},\r\n\r\n\t// @method wrap(): LatLng\r\n\t// Returns a new `LatLng` object with the longitude wrapped so it's always between -180 and +180 degrees.\r\n\twrap: function () {\r\n\t\treturn L.CRS.Earth.wrapLatLng(this);\r\n\t},\r\n\r\n\t// @method toBounds(sizeInMeters: Number): LatLngBounds\r\n\t// Returns a new `LatLngBounds` object in which each boundary is `sizeInMeters` meters apart from the `LatLng`.\r\n\ttoBounds: function (sizeInMeters) {\r\n\t\tvar latAccuracy = 180 * sizeInMeters / 40075017,\r\n\t\t    lngAccuracy = latAccuracy / Math.cos((Math.PI / 180) * this.lat);\r\n\r\n\t\treturn L.latLngBounds(\r\n\t\t        [this.lat - latAccuracy, this.lng - lngAccuracy],\r\n\t\t        [this.lat + latAccuracy, this.lng + lngAccuracy]);\r\n\t},\r\n\r\n\tclone: function () {\r\n\t\treturn new L.LatLng(this.lat, this.lng, this.alt);\r\n\t}\r\n};\r\n\r\n\r\n\r\n// @factory L.latLng(latitude: Number, longitude: Number, altitude?: Number): LatLng\r\n// Creates an object representing a geographical point with the given latitude and longitude (and optionally altitude).\r\n\r\n// @alternative\r\n// @factory L.latLng(coords: Array): LatLng\r\n// Expects an array of the form `[Number, Number]` or `[Number, Number, Number]` instead.\r\n\r\n// @alternative\r\n// @factory L.latLng(coords: Object): LatLng\r\n// Expects an plain object of the form `{lat: Number, lng: Number}` or `{lat: Number, lng: Number, alt: Number}` instead.\r\n\r\nL.latLng = function (a, b, c) {\r\n\tif (a instanceof L.LatLng) {\r\n\t\treturn a;\r\n\t}\r\n\tif (L.Util.isArray(a) && typeof a[0] !== 'object') {\r\n\t\tif (a.length === 3) {\r\n\t\t\treturn new L.LatLng(a[0], a[1], a[2]);\r\n\t\t}\r\n\t\tif (a.length === 2) {\r\n\t\t\treturn new L.LatLng(a[0], a[1]);\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\tif (a === undefined || a === null) {\r\n\t\treturn a;\r\n\t}\r\n\tif (typeof a === 'object' && 'lat' in a) {\r\n\t\treturn new L.LatLng(a.lat, 'lng' in a ? a.lng : a.lon, a.alt);\r\n\t}\r\n\tif (b === undefined) {\r\n\t\treturn null;\r\n\t}\r\n\treturn new L.LatLng(a, b, c);\r\n};\r\n\n/*\r\n * @class LatLngBounds\r\n * @aka L.LatLngBounds\r\n *\r\n * Represents a rectangular geographical area on a map.\r\n *\r\n * @example\r\n *\r\n * ```js\r\n * var southWest = L.latLng(40.712, -74.227),\r\n * northEast = L.latLng(40.774, -74.125),\r\n * bounds = L.latLngBounds(southWest, northEast);\r\n * ```\r\n *\r\n * All Leaflet methods that accept LatLngBounds objects also accept them in a simple Array form (unless noted otherwise), so the bounds example above can be passed like this:\r\n *\r\n * ```js\r\n * map.fitBounds([\r\n * \t[40.712, -74.227],\r\n * \t[40.774, -74.125]\r\n * ]);\r\n * ```\r\n */\r\n\r\nL.LatLngBounds = function (southWest, northEast) { // (LatLng, LatLng) or (LatLng[])\r\n\tif (!southWest) { return; }\r\n\r\n\tvar latlngs = northEast ? [southWest, northEast] : southWest;\r\n\r\n\tfor (var i = 0, len = latlngs.length; i < len; i++) {\r\n\t\tthis.extend(latlngs[i]);\r\n\t}\r\n};\r\n\r\nL.LatLngBounds.prototype = {\r\n\r\n\t// @method extend(latlng: LatLng): this\r\n\t// Extend the bounds to contain the given point\r\n\r\n\t// @alternative\r\n\t// @method extend(otherBounds: LatLngBounds): this\r\n\t// Extend the bounds to contain the given bounds\r\n\textend: function (obj) {\r\n\t\tvar sw = this._southWest,\r\n\t\t    ne = this._northEast,\r\n\t\t    sw2, ne2;\r\n\r\n\t\tif (obj instanceof L.LatLng) {\r\n\t\t\tsw2 = obj;\r\n\t\t\tne2 = obj;\r\n\r\n\t\t} else if (obj instanceof L.LatLngBounds) {\r\n\t\t\tsw2 = obj._southWest;\r\n\t\t\tne2 = obj._northEast;\r\n\r\n\t\t\tif (!sw2 || !ne2) { return this; }\r\n\r\n\t\t} else {\r\n\t\t\treturn obj ? this.extend(L.latLng(obj) || L.latLngBounds(obj)) : this;\r\n\t\t}\r\n\r\n\t\tif (!sw && !ne) {\r\n\t\t\tthis._southWest = new L.LatLng(sw2.lat, sw2.lng);\r\n\t\t\tthis._northEast = new L.LatLng(ne2.lat, ne2.lng);\r\n\t\t} else {\r\n\t\t\tsw.lat = Math.min(sw2.lat, sw.lat);\r\n\t\t\tsw.lng = Math.min(sw2.lng, sw.lng);\r\n\t\t\tne.lat = Math.max(ne2.lat, ne.lat);\r\n\t\t\tne.lng = Math.max(ne2.lng, ne.lng);\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method pad(bufferRatio: Number): LatLngBounds\r\n\t// Returns bigger bounds created by extending the current bounds by a given percentage in each direction.\r\n\tpad: function (bufferRatio) {\r\n\t\tvar sw = this._southWest,\r\n\t\t    ne = this._northEast,\r\n\t\t    heightBuffer = Math.abs(sw.lat - ne.lat) * bufferRatio,\r\n\t\t    widthBuffer = Math.abs(sw.lng - ne.lng) * bufferRatio;\r\n\r\n\t\treturn new L.LatLngBounds(\r\n\t\t        new L.LatLng(sw.lat - heightBuffer, sw.lng - widthBuffer),\r\n\t\t        new L.LatLng(ne.lat + heightBuffer, ne.lng + widthBuffer));\r\n\t},\r\n\r\n\t// @method getCenter(): LatLng\r\n\t// Returns the center point of the bounds.\r\n\tgetCenter: function () {\r\n\t\treturn new L.LatLng(\r\n\t\t        (this._southWest.lat + this._northEast.lat) / 2,\r\n\t\t        (this._southWest.lng + this._northEast.lng) / 2);\r\n\t},\r\n\r\n\t// @method getSouthWest(): LatLng\r\n\t// Returns the south-west point of the bounds.\r\n\tgetSouthWest: function () {\r\n\t\treturn this._southWest;\r\n\t},\r\n\r\n\t// @method getNorthEast(): LatLng\r\n\t// Returns the north-east point of the bounds.\r\n\tgetNorthEast: function () {\r\n\t\treturn this._northEast;\r\n\t},\r\n\r\n\t// @method getNorthWest(): LatLng\r\n\t// Returns the north-west point of the bounds.\r\n\tgetNorthWest: function () {\r\n\t\treturn new L.LatLng(this.getNorth(), this.getWest());\r\n\t},\r\n\r\n\t// @method getSouthEast(): LatLng\r\n\t// Returns the south-east point of the bounds.\r\n\tgetSouthEast: function () {\r\n\t\treturn new L.LatLng(this.getSouth(), this.getEast());\r\n\t},\r\n\r\n\t// @method getWest(): Number\r\n\t// Returns the west longitude of the bounds\r\n\tgetWest: function () {\r\n\t\treturn this._southWest.lng;\r\n\t},\r\n\r\n\t// @method getSouth(): Number\r\n\t// Returns the south latitude of the bounds\r\n\tgetSouth: function () {\r\n\t\treturn this._southWest.lat;\r\n\t},\r\n\r\n\t// @method getEast(): Number\r\n\t// Returns the east longitude of the bounds\r\n\tgetEast: function () {\r\n\t\treturn this._northEast.lng;\r\n\t},\r\n\r\n\t// @method getNorth(): Number\r\n\t// Returns the north latitude of the bounds\r\n\tgetNorth: function () {\r\n\t\treturn this._northEast.lat;\r\n\t},\r\n\r\n\t// @method contains(otherBounds: LatLngBounds): Boolean\r\n\t// Returns `true` if the rectangle contains the given one.\r\n\r\n\t// @alternative\r\n\t// @method contains (latlng: LatLng): Boolean\r\n\t// Returns `true` if the rectangle contains the given point.\r\n\tcontains: function (obj) { // (LatLngBounds) or (LatLng) -> Boolean\r\n\t\tif (typeof obj[0] === 'number' || obj instanceof L.LatLng) {\r\n\t\t\tobj = L.latLng(obj);\r\n\t\t} else {\r\n\t\t\tobj = L.latLngBounds(obj);\r\n\t\t}\r\n\r\n\t\tvar sw = this._southWest,\r\n\t\t    ne = this._northEast,\r\n\t\t    sw2, ne2;\r\n\r\n\t\tif (obj instanceof L.LatLngBounds) {\r\n\t\t\tsw2 = obj.getSouthWest();\r\n\t\t\tne2 = obj.getNorthEast();\r\n\t\t} else {\r\n\t\t\tsw2 = ne2 = obj;\r\n\t\t}\r\n\r\n\t\treturn (sw2.lat >= sw.lat) && (ne2.lat <= ne.lat) &&\r\n\t\t       (sw2.lng >= sw.lng) && (ne2.lng <= ne.lng);\r\n\t},\r\n\r\n\t// @method intersects(otherBounds: LatLngBounds): Boolean\r\n\t// Returns `true` if the rectangle intersects the given bounds. Two bounds intersect if they have at least one point in common.\r\n\tintersects: function (bounds) {\r\n\t\tbounds = L.latLngBounds(bounds);\r\n\r\n\t\tvar sw = this._southWest,\r\n\t\t    ne = this._northEast,\r\n\t\t    sw2 = bounds.getSouthWest(),\r\n\t\t    ne2 = bounds.getNorthEast(),\r\n\r\n\t\t    latIntersects = (ne2.lat >= sw.lat) && (sw2.lat <= ne.lat),\r\n\t\t    lngIntersects = (ne2.lng >= sw.lng) && (sw2.lng <= ne.lng);\r\n\r\n\t\treturn latIntersects && lngIntersects;\r\n\t},\r\n\r\n\t// @method overlaps(otherBounds: Bounds): Boolean\r\n\t// Returns `true` if the rectangle overlaps the given bounds. Two bounds overlap if their intersection is an area.\r\n\toverlaps: function (bounds) {\r\n\t\tbounds = L.latLngBounds(bounds);\r\n\r\n\t\tvar sw = this._southWest,\r\n\t\t    ne = this._northEast,\r\n\t\t    sw2 = bounds.getSouthWest(),\r\n\t\t    ne2 = bounds.getNorthEast(),\r\n\r\n\t\t    latOverlaps = (ne2.lat > sw.lat) && (sw2.lat < ne.lat),\r\n\t\t    lngOverlaps = (ne2.lng > sw.lng) && (sw2.lng < ne.lng);\r\n\r\n\t\treturn latOverlaps && lngOverlaps;\r\n\t},\r\n\r\n\t// @method toBBoxString(): String\r\n\t// Returns a string with bounding box coordinates in a 'southwest_lng,southwest_lat,northeast_lng,northeast_lat' format. Useful for sending requests to web services that return geo data.\r\n\ttoBBoxString: function () {\r\n\t\treturn [this.getWest(), this.getSouth(), this.getEast(), this.getNorth()].join(',');\r\n\t},\r\n\r\n\t// @method equals(otherBounds: LatLngBounds): Boolean\r\n\t// Returns `true` if the rectangle is equivalent (within a small margin of error) to the given bounds.\r\n\tequals: function (bounds) {\r\n\t\tif (!bounds) { return false; }\r\n\r\n\t\tbounds = L.latLngBounds(bounds);\r\n\r\n\t\treturn this._southWest.equals(bounds.getSouthWest()) &&\r\n\t\t       this._northEast.equals(bounds.getNorthEast());\r\n\t},\r\n\r\n\t// @method isValid(): Boolean\r\n\t// Returns `true` if the bounds are properly initialized.\r\n\tisValid: function () {\r\n\t\treturn !!(this._southWest && this._northEast);\r\n\t}\r\n};\r\n\r\n// TODO International date line?\r\n\r\n// @factory L.latLngBounds(southWest: LatLng, northEast: LatLng)\r\n// Creates a `LatLngBounds` object by defining south-west and north-east corners of the rectangle.\r\n\r\n// @alternative\r\n// @factory L.latLngBounds(latlngs: LatLng[])\r\n// Creates a `LatLngBounds` object defined by the geographical points it contains. Very useful for zooming the map to fit a particular set of locations with [`fitBounds`](#map-fitbounds).\r\nL.latLngBounds = function (a, b) {\r\n\tif (a instanceof L.LatLngBounds) {\r\n\t\treturn a;\r\n\t}\r\n\treturn new L.LatLngBounds(a, b);\r\n};\r\n\n/*\r\n * @namespace Projection\r\n * @section\r\n * Leaflet comes with a set of already defined Projections out of the box:\r\n *\r\n * @projection L.Projection.LonLat\r\n *\r\n * Equirectangular, or Plate Carree projection — the most simple projection,\r\n * mostly used by GIS enthusiasts. Directly maps `x` as longitude, and `y` as\r\n * latitude. Also suitable for flat worlds, e.g. game maps. Used by the\r\n * `EPSG:3395` and `Simple` CRS.\r\n */\r\n\r\nL.Projection = {};\r\n\r\nL.Projection.LonLat = {\r\n\tproject: function (latlng) {\r\n\t\treturn new L.Point(latlng.lng, latlng.lat);\r\n\t},\r\n\r\n\tunproject: function (point) {\r\n\t\treturn new L.LatLng(point.y, point.x);\r\n\t},\r\n\r\n\tbounds: L.bounds([-180, -90], [180, 90])\r\n};\r\n\n/*\r\n * @namespace Projection\r\n * @projection L.Projection.SphericalMercator\r\n *\r\n * Spherical Mercator projection — the most common projection for online maps,\r\n * used by almost all free and commercial tile providers. Assumes that Earth is\r\n * a sphere. Used by the `EPSG:3857` CRS.\r\n */\r\n\r\nL.Projection.SphericalMercator = {\r\n\r\n\tR: 6378137,\r\n\tMAX_LATITUDE: 85.0511287798,\r\n\r\n\tproject: function (latlng) {\r\n\t\tvar d = Math.PI / 180,\r\n\t\t    max = this.MAX_LATITUDE,\r\n\t\t    lat = Math.max(Math.min(max, latlng.lat), -max),\r\n\t\t    sin = Math.sin(lat * d);\r\n\r\n\t\treturn new L.Point(\r\n\t\t\t\tthis.R * latlng.lng * d,\r\n\t\t\t\tthis.R * Math.log((1 + sin) / (1 - sin)) / 2);\r\n\t},\r\n\r\n\tunproject: function (point) {\r\n\t\tvar d = 180 / Math.PI;\r\n\r\n\t\treturn new L.LatLng(\r\n\t\t\t(2 * Math.atan(Math.exp(point.y / this.R)) - (Math.PI / 2)) * d,\r\n\t\t\tpoint.x * d / this.R);\r\n\t},\r\n\r\n\tbounds: (function () {\r\n\t\tvar d = 6378137 * Math.PI;\r\n\t\treturn L.bounds([-d, -d], [d, d]);\r\n\t})()\r\n};\r\n\n/*\r\n * @class CRS\r\n * @aka L.CRS\r\n * Abstract class that defines coordinate reference systems for projecting\r\n * geographical points into pixel (screen) coordinates and back (and to\r\n * coordinates in other units for [WMS](https://en.wikipedia.org/wiki/Web_Map_Service) services). See\r\n * [spatial reference system](http://en.wikipedia.org/wiki/Coordinate_reference_system).\r\n *\r\n * Leaflet defines the most usual CRSs by default. If you want to use a\r\n * CRS not defined by default, take a look at the\r\n * [Proj4Leaflet](https://github.com/kartena/Proj4Leaflet) plugin.\r\n */\r\n\r\nL.CRS = {\r\n\t// @method latLngToPoint(latlng: LatLng, zoom: Number): Point\r\n\t// Projects geographical coordinates into pixel coordinates for a given zoom.\r\n\tlatLngToPoint: function (latlng, zoom) {\r\n\t\tvar projectedPoint = this.projection.project(latlng),\r\n\t\t    scale = this.scale(zoom);\r\n\r\n\t\treturn this.transformation._transform(projectedPoint, scale);\r\n\t},\r\n\r\n\t// @method pointToLatLng(point: Point, zoom: Number): LatLng\r\n\t// The inverse of `latLngToPoint`. Projects pixel coordinates on a given\r\n\t// zoom into geographical coordinates.\r\n\tpointToLatLng: function (point, zoom) {\r\n\t\tvar scale = this.scale(zoom),\r\n\t\t    untransformedPoint = this.transformation.untransform(point, scale);\r\n\r\n\t\treturn this.projection.unproject(untransformedPoint);\r\n\t},\r\n\r\n\t// @method project(latlng: LatLng): Point\r\n\t// Projects geographical coordinates into coordinates in units accepted for\r\n\t// this CRS (e.g. meters for EPSG:3857, for passing it to WMS services).\r\n\tproject: function (latlng) {\r\n\t\treturn this.projection.project(latlng);\r\n\t},\r\n\r\n\t// @method unproject(point: Point): LatLng\r\n\t// Given a projected coordinate returns the corresponding LatLng.\r\n\t// The inverse of `project`.\r\n\tunproject: function (point) {\r\n\t\treturn this.projection.unproject(point);\r\n\t},\r\n\r\n\t// @method scale(zoom: Number): Number\r\n\t// Returns the scale used when transforming projected coordinates into\r\n\t// pixel coordinates for a particular zoom. For example, it returns\r\n\t// `256 * 2^zoom` for Mercator-based CRS.\r\n\tscale: function (zoom) {\r\n\t\treturn 256 * Math.pow(2, zoom);\r\n\t},\r\n\r\n\t// @method zoom(scale: Number): Number\r\n\t// Inverse of `scale()`, returns the zoom level corresponding to a scale\r\n\t// factor of `scale`.\r\n\tzoom: function (scale) {\r\n\t\treturn Math.log(scale / 256) / Math.LN2;\r\n\t},\r\n\r\n\t// @method getProjectedBounds(zoom: Number): Bounds\r\n\t// Returns the projection's bounds scaled and transformed for the provided `zoom`.\r\n\tgetProjectedBounds: function (zoom) {\r\n\t\tif (this.infinite) { return null; }\r\n\r\n\t\tvar b = this.projection.bounds,\r\n\t\t    s = this.scale(zoom),\r\n\t\t    min = this.transformation.transform(b.min, s),\r\n\t\t    max = this.transformation.transform(b.max, s);\r\n\r\n\t\treturn L.bounds(min, max);\r\n\t},\r\n\r\n\t// @method distance(latlng1: LatLng, latlng2: LatLng): Number\r\n\t// Returns the distance between two geographical coordinates.\r\n\r\n\t// @property code: String\r\n\t// Standard code name of the CRS passed into WMS services (e.g. `'EPSG:3857'`)\r\n\t//\r\n\t// @property wrapLng: Number[]\r\n\t// An array of two numbers defining whether the longitude (horizontal) coordinate\r\n\t// axis wraps around a given range and how. Defaults to `[-180, 180]` in most\r\n\t// geographical CRSs. If `undefined`, the longitude axis does not wrap around.\r\n\t//\r\n\t// @property wrapLat: Number[]\r\n\t// Like `wrapLng`, but for the latitude (vertical) axis.\r\n\r\n\t// wrapLng: [min, max],\r\n\t// wrapLat: [min, max],\r\n\r\n\t// @property infinite: Boolean\r\n\t// If true, the coordinate space will be unbounded (infinite in both axes)\r\n\tinfinite: false,\r\n\r\n\t// @method wrapLatLng(latlng: LatLng): LatLng\r\n\t// Returns a `LatLng` where lat and lng has been wrapped according to the\r\n\t// CRS's `wrapLat` and `wrapLng` properties, if they are outside the CRS's bounds.\r\n\twrapLatLng: function (latlng) {\r\n\t\tvar lng = this.wrapLng ? L.Util.wrapNum(latlng.lng, this.wrapLng, true) : latlng.lng,\r\n\t\t    lat = this.wrapLat ? L.Util.wrapNum(latlng.lat, this.wrapLat, true) : latlng.lat,\r\n\t\t    alt = latlng.alt;\r\n\r\n\t\treturn L.latLng(lat, lng, alt);\r\n\t}\r\n};\r\n\n/*\n * @namespace CRS\n * @crs L.CRS.Simple\n *\n * A simple CRS that maps longitude and latitude into `x` and `y` directly.\n * May be used for maps of flat surfaces (e.g. game maps). Note that the `y`\n * axis should still be inverted (going from bottom to top). `distance()` returns\n * simple euclidean distance.\n */\n\nL.CRS.Simple = L.extend({}, L.CRS, {\n\tprojection: L.Projection.LonLat,\n\ttransformation: new L.Transformation(1, 0, -1, 0),\n\n\tscale: function (zoom) {\n\t\treturn Math.pow(2, zoom);\n\t},\n\n\tzoom: function (scale) {\n\t\treturn Math.log(scale) / Math.LN2;\n\t},\n\n\tdistance: function (latlng1, latlng2) {\n\t\tvar dx = latlng2.lng - latlng1.lng,\n\t\t    dy = latlng2.lat - latlng1.lat;\n\n\t\treturn Math.sqrt(dx * dx + dy * dy);\n\t},\n\n\tinfinite: true\n});\n\n/*\n * @namespace CRS\n * @crs L.CRS.Earth\n *\n * Serves as the base for CRS that are global such that they cover the earth.\n * Can only be used as the base for other CRS and cannot be used directly,\n * since it does not have a `code`, `projection` or `transformation`. `distance()` returns\n * meters.\n */\n\nL.CRS.Earth = L.extend({}, L.CRS, {\n\twrapLng: [-180, 180],\n\n\t// Mean Earth Radius, as recommended for use by\n\t// the International Union of Geodesy and Geophysics,\n\t// see http://rosettacode.org/wiki/Haversine_formula\n\tR: 6371000,\n\n\t// distance between two geographical points using spherical law of cosines approximation\n\tdistance: function (latlng1, latlng2) {\n\t\tvar rad = Math.PI / 180,\n\t\t    lat1 = latlng1.lat * rad,\n\t\t    lat2 = latlng2.lat * rad,\n\t\t    a = Math.sin(lat1) * Math.sin(lat2) +\n\t\t        Math.cos(lat1) * Math.cos(lat2) * Math.cos((latlng2.lng - latlng1.lng) * rad);\n\n\t\treturn this.R * Math.acos(Math.min(a, 1));\n\t}\n});\n\n/*\r\n * @namespace CRS\r\n * @crs L.CRS.EPSG3857\r\n *\r\n * The most common CRS for online maps, used by almost all free and commercial\r\n * tile providers. Uses Spherical Mercator projection. Set in by default in\r\n * Map's `crs` option.\r\n */\r\n\r\nL.CRS.EPSG3857 = L.extend({}, L.CRS.Earth, {\r\n\tcode: 'EPSG:3857',\r\n\tprojection: L.Projection.SphericalMercator,\r\n\r\n\ttransformation: (function () {\r\n\t\tvar scale = 0.5 / (Math.PI * L.Projection.SphericalMercator.R);\r\n\t\treturn new L.Transformation(scale, 0.5, -scale, 0.5);\r\n\t}())\r\n});\r\n\r\nL.CRS.EPSG900913 = L.extend({}, L.CRS.EPSG3857, {\r\n\tcode: 'EPSG:900913'\r\n});\r\n\n/*\r\n * @namespace CRS\r\n * @crs L.CRS.EPSG4326\r\n *\r\n * A common CRS among GIS enthusiasts. Uses simple Equirectangular projection.\r\n */\r\n\r\nL.CRS.EPSG4326 = L.extend({}, L.CRS.Earth, {\r\n\tcode: 'EPSG:4326',\r\n\tprojection: L.Projection.LonLat,\r\n\ttransformation: new L.Transformation(1 / 180, 1, -1 / 180, 0.5)\r\n});\r\n\n/*\r\n * @class Map\r\n * @aka L.Map\r\n * @inherits Evented\r\n *\r\n * The central class of the API — it is used to create a map on a page and manipulate it.\r\n *\r\n * @example\r\n *\r\n * ```js\r\n * // initialize the map on the \"map\" div with a given center and zoom\r\n * var map = L.map('map', {\r\n * \tcenter: [51.505, -0.09],\r\n * \tzoom: 13\r\n * });\r\n * ```\r\n *\r\n */\r\n\r\nL.Map = L.Evented.extend({\r\n\r\n\toptions: {\r\n\t\t// @section Map State Options\r\n\t\t// @option crs: CRS = L.CRS.EPSG3857\r\n\t\t// The [Coordinate Reference System](#crs) to use. Don't change this if you're not\r\n\t\t// sure what it means.\r\n\t\tcrs: L.CRS.EPSG3857,\r\n\r\n\t\t// @option center: LatLng = undefined\r\n\t\t// Initial geographic center of the map\r\n\t\tcenter: undefined,\r\n\r\n\t\t// @option zoom: Number = undefined\r\n\t\t// Initial map zoom level\r\n\t\tzoom: undefined,\r\n\r\n\t\t// @option minZoom: Number = undefined\r\n\t\t// Minimum zoom level of the map. Overrides any `minZoom` option set on map layers.\r\n\t\tminZoom: undefined,\r\n\r\n\t\t// @option maxZoom: Number = undefined\r\n\t\t// Maximum zoom level of the map. Overrides any `maxZoom` option set on map layers.\r\n\t\tmaxZoom: undefined,\r\n\r\n\t\t// @option layers: Layer[] = []\r\n\t\t// Array of layers that will be added to the map initially\r\n\t\tlayers: [],\r\n\r\n\t\t// @option maxBounds: LatLngBounds = null\r\n\t\t// When this option is set, the map restricts the view to the given\r\n\t\t// geographical bounds, bouncing the user back when he tries to pan\r\n\t\t// outside the view. To set the restriction dynamically, use\r\n\t\t// [`setMaxBounds`](#map-setmaxbounds) method.\r\n\t\tmaxBounds: undefined,\r\n\r\n\t\t// @option renderer: Renderer = *\r\n\t\t// The default method for drawing vector layers on the map. `L.SVG`\r\n\t\t// or `L.Canvas` by default depending on browser support.\r\n\t\trenderer: undefined,\r\n\r\n\r\n\t\t// @section Animation Options\r\n\t\t// @option fadeAnimation: Boolean = true\r\n\t\t// Whether the tile fade animation is enabled. By default it's enabled\r\n\t\t// in all browsers that support CSS3 Transitions except Android.\r\n\t\tfadeAnimation: true,\r\n\r\n\t\t// @option markerZoomAnimation: Boolean = true\r\n\t\t// Whether markers animate their zoom with the zoom animation, if disabled\r\n\t\t// they will disappear for the length of the animation. By default it's\r\n\t\t// enabled in all browsers that support CSS3 Transitions except Android.\r\n\t\tmarkerZoomAnimation: true,\r\n\r\n\t\t// @option transform3DLimit: Number = 2^23\r\n\t\t// Defines the maximum size of a CSS translation transform. The default\r\n\t\t// value should not be changed unless a web browser positions layers in\r\n\t\t// the wrong place after doing a large `panBy`.\r\n\t\ttransform3DLimit: 8388608, // Precision limit of a 32-bit float\r\n\r\n\t\t// @section Interaction Options\r\n\t\t// @option zoomSnap: Number = 1\r\n\t\t// Forces the map's zoom level to always be a multiple of this, particularly\r\n\t\t// right after a [`fitBounds()`](#map-fitbounds) or a pinch-zoom.\r\n\t\t// By default, the zoom level snaps to the nearest integer; lower values\r\n\t\t// (e.g. `0.5` or `0.1`) allow for greater granularity. A value of `0`\r\n\t\t// means the zoom level will not be snapped after `fitBounds` or a pinch-zoom.\r\n\t\tzoomSnap: 1,\r\n\r\n\t\t// @option zoomDelta: Number = 1\r\n\t\t// Controls how much the map's zoom level will change after a\r\n\t\t// [`zoomIn()`](#map-zoomin), [`zoomOut()`](#map-zoomout), pressing `+`\r\n\t\t// or `-` on the keyboard, or using the [zoom controls](#control-zoom).\r\n\t\t// Values smaller than `1` (e.g. `0.5`) allow for greater granularity.\r\n\t\tzoomDelta: 1,\r\n\r\n\t\t// @option trackResize: Boolean = true\r\n\t\t// Whether the map automatically handles browser window resize to update itself.\r\n\t\ttrackResize: true\r\n\t},\r\n\r\n\tinitialize: function (id, options) { // (HTMLElement or String, Object)\r\n\t\toptions = L.setOptions(this, options);\r\n\r\n\t\tthis._initContainer(id);\r\n\t\tthis._initLayout();\r\n\r\n\t\t// hack for https://github.com/Leaflet/Leaflet/issues/1980\r\n\t\tthis._onResize = L.bind(this._onResize, this);\r\n\r\n\t\tthis._initEvents();\r\n\r\n\t\tif (options.maxBounds) {\r\n\t\t\tthis.setMaxBounds(options.maxBounds);\r\n\t\t}\r\n\r\n\t\tif (options.zoom !== undefined) {\r\n\t\t\tthis._zoom = this._limitZoom(options.zoom);\r\n\t\t}\r\n\r\n\t\tif (options.center && options.zoom !== undefined) {\r\n\t\t\tthis.setView(L.latLng(options.center), options.zoom, {reset: true});\r\n\t\t}\r\n\r\n\t\tthis._handlers = [];\r\n\t\tthis._layers = {};\r\n\t\tthis._zoomBoundLayers = {};\r\n\t\tthis._sizeChanged = true;\r\n\r\n\t\tthis.callInitHooks();\r\n\r\n\t\tthis._addLayers(this.options.layers);\r\n\t},\r\n\r\n\r\n\t// @section Methods for modifying map state\r\n\r\n\t// @method setView(center: LatLng, zoom: Number, options?: Zoom/pan options): this\r\n\t// Sets the view of the map (geographical center and zoom) with the given\r\n\t// animation options.\r\n\tsetView: function (center, zoom) {\r\n\t\t// replaced by animation-powered implementation in Map.PanAnimation.js\r\n\t\tzoom = zoom === undefined ? this.getZoom() : zoom;\r\n\t\tthis._resetView(L.latLng(center), zoom);\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method setZoom(zoom: Number, options: Zoom/pan options): this\r\n\t// Sets the zoom of the map.\r\n\tsetZoom: function (zoom, options) {\r\n\t\tif (!this._loaded) {\r\n\t\t\tthis._zoom = zoom;\r\n\t\t\treturn this;\r\n\t\t}\r\n\t\treturn this.setView(this.getCenter(), zoom, {zoom: options});\r\n\t},\r\n\r\n\t// @method zoomIn(delta?: Number, options?: Zoom options): this\r\n\t// Increases the zoom of the map by `delta` ([`zoomDelta`](#map-zoomdelta) by default).\r\n\tzoomIn: function (delta, options) {\r\n\t\tdelta = delta || (L.Browser.any3d ? this.options.zoomDelta : 1);\r\n\t\treturn this.setZoom(this._zoom + delta, options);\r\n\t},\r\n\r\n\t// @method zoomOut(delta?: Number, options?: Zoom options): this\r\n\t// Decreases the zoom of the map by `delta` ([`zoomDelta`](#map-zoomdelta) by default).\r\n\tzoomOut: function (delta, options) {\r\n\t\tdelta = delta || (L.Browser.any3d ? this.options.zoomDelta : 1);\r\n\t\treturn this.setZoom(this._zoom - delta, options);\r\n\t},\r\n\r\n\t// @method setZoomAround(latlng: LatLng, zoom: Number, options: Zoom options): this\r\n\t// Zooms the map while keeping a specified geographical point on the map\r\n\t// stationary (e.g. used internally for scroll zoom and double-click zoom).\r\n\t// @alternative\r\n\t// @method setZoomAround(offset: Point, zoom: Number, options: Zoom options): this\r\n\t// Zooms the map while keeping a specified pixel on the map (relative to the top-left corner) stationary.\r\n\tsetZoomAround: function (latlng, zoom, options) {\r\n\t\tvar scale = this.getZoomScale(zoom),\r\n\t\t    viewHalf = this.getSize().divideBy(2),\r\n\t\t    containerPoint = latlng instanceof L.Point ? latlng : this.latLngToContainerPoint(latlng),\r\n\r\n\t\t    centerOffset = containerPoint.subtract(viewHalf).multiplyBy(1 - 1 / scale),\r\n\t\t    newCenter = this.containerPointToLatLng(viewHalf.add(centerOffset));\r\n\r\n\t\treturn this.setView(newCenter, zoom, {zoom: options});\r\n\t},\r\n\r\n\t_getBoundsCenterZoom: function (bounds, options) {\r\n\r\n\t\toptions = options || {};\r\n\t\tbounds = bounds.getBounds ? bounds.getBounds() : L.latLngBounds(bounds);\r\n\r\n\t\tvar paddingTL = L.point(options.paddingTopLeft || options.padding || [0, 0]),\r\n\t\t    paddingBR = L.point(options.paddingBottomRight || options.padding || [0, 0]),\r\n\r\n\t\t    zoom = this.getBoundsZoom(bounds, false, paddingTL.add(paddingBR));\r\n\r\n\t\tzoom = (typeof options.maxZoom === 'number') ? Math.min(options.maxZoom, zoom) : zoom;\r\n\r\n\t\tvar paddingOffset = paddingBR.subtract(paddingTL).divideBy(2),\r\n\r\n\t\t    swPoint = this.project(bounds.getSouthWest(), zoom),\r\n\t\t    nePoint = this.project(bounds.getNorthEast(), zoom),\r\n\t\t    center = this.unproject(swPoint.add(nePoint).divideBy(2).add(paddingOffset), zoom);\r\n\r\n\t\treturn {\r\n\t\t\tcenter: center,\r\n\t\t\tzoom: zoom\r\n\t\t};\r\n\t},\r\n\r\n\t// @method fitBounds(bounds: LatLngBounds, options: fitBounds options): this\r\n\t// Sets a map view that contains the given geographical bounds with the\r\n\t// maximum zoom level possible.\r\n\tfitBounds: function (bounds, options) {\r\n\r\n\t\tbounds = L.latLngBounds(bounds);\r\n\r\n\t\tif (!bounds.isValid()) {\r\n\t\t\tthrow new Error('Bounds are not valid.');\r\n\t\t}\r\n\r\n\t\tvar target = this._getBoundsCenterZoom(bounds, options);\r\n\t\treturn this.setView(target.center, target.zoom, options);\r\n\t},\r\n\r\n\t// @method fitWorld(options?: fitBounds options): this\r\n\t// Sets a map view that mostly contains the whole world with the maximum\r\n\t// zoom level possible.\r\n\tfitWorld: function (options) {\r\n\t\treturn this.fitBounds([[-90, -180], [90, 180]], options);\r\n\t},\r\n\r\n\t// @method panTo(latlng: LatLng, options?: Pan options): this\r\n\t// Pans the map to a given center.\r\n\tpanTo: function (center, options) { // (LatLng)\r\n\t\treturn this.setView(center, this._zoom, {pan: options});\r\n\t},\r\n\r\n\t// @method panBy(offset: Point): this\r\n\t// Pans the map by a given number of pixels (animated).\r\n\tpanBy: function (offset) { // (Point)\r\n\t\t// replaced with animated panBy in Map.PanAnimation.js\r\n\t\tthis.fire('movestart');\r\n\r\n\t\tthis._rawPanBy(L.point(offset));\r\n\r\n\t\tthis.fire('move');\r\n\t\treturn this.fire('moveend');\r\n\t},\r\n\r\n\t// @method setMaxBounds(bounds: Bounds): this\r\n\t// Restricts the map view to the given bounds (see the [maxBounds](#map-maxbounds) option).\r\n\tsetMaxBounds: function (bounds) {\r\n\t\tbounds = L.latLngBounds(bounds);\r\n\r\n\t\tif (!bounds.isValid()) {\r\n\t\t\tthis.options.maxBounds = null;\r\n\t\t\treturn this.off('moveend', this._panInsideMaxBounds);\r\n\t\t} else if (this.options.maxBounds) {\r\n\t\t\tthis.off('moveend', this._panInsideMaxBounds);\r\n\t\t}\r\n\r\n\t\tthis.options.maxBounds = bounds;\r\n\r\n\t\tif (this._loaded) {\r\n\t\t\tthis._panInsideMaxBounds();\r\n\t\t}\r\n\r\n\t\treturn this.on('moveend', this._panInsideMaxBounds);\r\n\t},\r\n\r\n\t// @method setMinZoom(zoom: Number): this\r\n\t// Sets the lower limit for the available zoom levels (see the [minZoom](#map-minzoom) option).\r\n\tsetMinZoom: function (zoom) {\r\n\t\tthis.options.minZoom = zoom;\r\n\r\n\t\tif (this._loaded && this.getZoom() < this.options.minZoom) {\r\n\t\t\treturn this.setZoom(zoom);\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method setMaxZoom(zoom: Number): this\r\n\t// Sets the upper limit for the available zoom levels (see the [maxZoom](#map-maxzoom) option).\r\n\tsetMaxZoom: function (zoom) {\r\n\t\tthis.options.maxZoom = zoom;\r\n\r\n\t\tif (this._loaded && (this.getZoom() > this.options.maxZoom)) {\r\n\t\t\treturn this.setZoom(zoom);\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method panInsideBounds(bounds: LatLngBounds, options?: Pan options): this\r\n\t// Pans the map to the closest view that would lie inside the given bounds (if it's not already), controlling the animation using the options specific, if any.\r\n\tpanInsideBounds: function (bounds, options) {\r\n\t\tthis._enforcingBounds = true;\r\n\t\tvar center = this.getCenter(),\r\n\t\t    newCenter = this._limitCenter(center, this._zoom, L.latLngBounds(bounds));\r\n\r\n\t\tif (!center.equals(newCenter)) {\r\n\t\t\tthis.panTo(newCenter, options);\r\n\t\t}\r\n\r\n\t\tthis._enforcingBounds = false;\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method invalidateSize(options: Zoom/Pan options): this\r\n\t// Checks if the map container size changed and updates the map if so —\r\n\t// call it after you've changed the map size dynamically, also animating\r\n\t// pan by default. If `options.pan` is `false`, panning will not occur.\r\n\t// If `options.debounceMoveend` is `true`, it will delay `moveend` event so\r\n\t// that it doesn't happen often even if the method is called many\r\n\t// times in a row.\r\n\r\n\t// @alternative\r\n\t// @method invalidateSize(animate: Boolean): this\r\n\t// Checks if the map container size changed and updates the map if so —\r\n\t// call it after you've changed the map size dynamically, also animating\r\n\t// pan by default.\r\n\tinvalidateSize: function (options) {\r\n\t\tif (!this._loaded) { return this; }\r\n\r\n\t\toptions = L.extend({\r\n\t\t\tanimate: false,\r\n\t\t\tpan: true\r\n\t\t}, options === true ? {animate: true} : options);\r\n\r\n\t\tvar oldSize = this.getSize();\r\n\t\tthis._sizeChanged = true;\r\n\t\tthis._lastCenter = null;\r\n\r\n\t\tvar newSize = this.getSize(),\r\n\t\t    oldCenter = oldSize.divideBy(2).round(),\r\n\t\t    newCenter = newSize.divideBy(2).round(),\r\n\t\t    offset = oldCenter.subtract(newCenter);\r\n\r\n\t\tif (!offset.x && !offset.y) { return this; }\r\n\r\n\t\tif (options.animate && options.pan) {\r\n\t\t\tthis.panBy(offset);\r\n\r\n\t\t} else {\r\n\t\t\tif (options.pan) {\r\n\t\t\t\tthis._rawPanBy(offset);\r\n\t\t\t}\r\n\r\n\t\t\tthis.fire('move');\r\n\r\n\t\t\tif (options.debounceMoveend) {\r\n\t\t\t\tclearTimeout(this._sizeTimer);\r\n\t\t\t\tthis._sizeTimer = setTimeout(L.bind(this.fire, this, 'moveend'), 200);\r\n\t\t\t} else {\r\n\t\t\t\tthis.fire('moveend');\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// @section Map state change events\r\n\t\t// @event resize: ResizeEvent\r\n\t\t// Fired when the map is resized.\r\n\t\treturn this.fire('resize', {\r\n\t\t\toldSize: oldSize,\r\n\t\t\tnewSize: newSize\r\n\t\t});\r\n\t},\r\n\r\n\t// @section Methods for modifying map state\r\n\t// @method stop(): this\r\n\t// Stops the currently running `panTo` or `flyTo` animation, if any.\r\n\tstop: function () {\r\n\t\tthis.setZoom(this._limitZoom(this._zoom));\r\n\t\tif (!this.options.zoomSnap) {\r\n\t\t\tthis.fire('viewreset');\r\n\t\t}\r\n\t\treturn this._stop();\r\n\t},\r\n\r\n\r\n\t// TODO handler.addTo\r\n\t// TODO Appropiate docs section?\r\n\t// @section Other Methods\r\n\t// @method addHandler(name: String, HandlerClass: Function): this\r\n\t// Adds a new `Handler` to the map, given its name and constructor function.\r\n\taddHandler: function (name, HandlerClass) {\r\n\t\tif (!HandlerClass) { return this; }\r\n\r\n\t\tvar handler = this[name] = new HandlerClass(this);\r\n\r\n\t\tthis._handlers.push(handler);\r\n\r\n\t\tif (this.options[name]) {\r\n\t\t\thandler.enable();\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method remove(): this\r\n\t// Destroys the map and clears all related event listeners.\r\n\tremove: function () {\r\n\r\n\t\tthis._initEvents(true);\r\n\r\n\t\tif (this._containerId !== this._container._leaflet_id) {\r\n\t\t\tthrow new Error('Map container is being reused by another instance');\r\n\t\t}\r\n\r\n\t\ttry {\r\n\t\t\t// throws error in IE6-8\r\n\t\t\tdelete this._container._leaflet_id;\r\n\t\t\tdelete this._containerId;\r\n\t\t} catch (e) {\r\n\t\t\t/*eslint-disable */\r\n\t\t\tthis._container._leaflet_id = undefined;\r\n\t\t\t/*eslint-enable */\r\n\t\t\tthis._containerId = undefined;\r\n\t\t}\r\n\r\n\t\tL.DomUtil.remove(this._mapPane);\r\n\r\n\t\tif (this._clearControlPos) {\r\n\t\t\tthis._clearControlPos();\r\n\t\t}\r\n\r\n\t\tthis._clearHandlers();\r\n\r\n\t\tif (this._loaded) {\r\n\t\t\t// @section Map state change events\r\n\t\t\t// @event unload: Event\r\n\t\t\t// Fired when the map is destroyed with [remove](#map-remove) method.\r\n\t\t\tthis.fire('unload');\r\n\t\t}\r\n\r\n\t\tfor (var i in this._layers) {\r\n\t\t\tthis._layers[i].remove();\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @section Other Methods\r\n\t// @method createPane(name: String, container?: HTMLElement): HTMLElement\r\n\t// Creates a new [map pane](#map-pane) with the given name if it doesn't exist already,\r\n\t// then returns it. The pane is created as a children of `container`, or\r\n\t// as a children of the main map pane if not set.\r\n\tcreatePane: function (name, container) {\r\n\t\tvar className = 'leaflet-pane' + (name ? ' leaflet-' + name.replace('Pane', '') + '-pane' : ''),\r\n\t\t    pane = L.DomUtil.create('div', className, container || this._mapPane);\r\n\r\n\t\tif (name) {\r\n\t\t\tthis._panes[name] = pane;\r\n\t\t}\r\n\t\treturn pane;\r\n\t},\r\n\r\n\t// @section Methods for Getting Map State\r\n\r\n\t// @method getCenter(): LatLng\r\n\t// Returns the geographical center of the map view\r\n\tgetCenter: function () {\r\n\t\tthis._checkIfLoaded();\r\n\r\n\t\tif (this._lastCenter && !this._moved()) {\r\n\t\t\treturn this._lastCenter;\r\n\t\t}\r\n\t\treturn this.layerPointToLatLng(this._getCenterLayerPoint());\r\n\t},\r\n\r\n\t// @method getZoom(): Number\r\n\t// Returns the current zoom level of the map view\r\n\tgetZoom: function () {\r\n\t\treturn this._zoom;\r\n\t},\r\n\r\n\t// @method getBounds(): LatLngBounds\r\n\t// Returns the geographical bounds visible in the current map view\r\n\tgetBounds: function () {\r\n\t\tvar bounds = this.getPixelBounds(),\r\n\t\t    sw = this.unproject(bounds.getBottomLeft()),\r\n\t\t    ne = this.unproject(bounds.getTopRight());\r\n\r\n\t\treturn new L.LatLngBounds(sw, ne);\r\n\t},\r\n\r\n\t// @method getMinZoom(): Number\r\n\t// Returns the minimum zoom level of the map (if set in the `minZoom` option of the map or of any layers), or `0` by default.\r\n\tgetMinZoom: function () {\r\n\t\treturn this.options.minZoom === undefined ? this._layersMinZoom || 0 : this.options.minZoom;\r\n\t},\r\n\r\n\t// @method getMaxZoom(): Number\r\n\t// Returns the maximum zoom level of the map (if set in the `maxZoom` option of the map or of any layers).\r\n\tgetMaxZoom: function () {\r\n\t\treturn this.options.maxZoom === undefined ?\r\n\t\t\t(this._layersMaxZoom === undefined ? Infinity : this._layersMaxZoom) :\r\n\t\t\tthis.options.maxZoom;\r\n\t},\r\n\r\n\t// @method getBoundsZoom(bounds: LatLngBounds, inside?: Boolean): Number\r\n\t// Returns the maximum zoom level on which the given bounds fit to the map\r\n\t// view in its entirety. If `inside` (optional) is set to `true`, the method\r\n\t// instead returns the minimum zoom level on which the map view fits into\r\n\t// the given bounds in its entirety.\r\n\tgetBoundsZoom: function (bounds, inside, padding) { // (LatLngBounds[, Boolean, Point]) -> Number\r\n\t\tbounds = L.latLngBounds(bounds);\r\n\t\tpadding = L.point(padding || [0, 0]);\r\n\r\n\t\tvar zoom = this.getZoom() || 0,\r\n\t\t    min = this.getMinZoom(),\r\n\t\t    max = this.getMaxZoom(),\r\n\t\t    nw = bounds.getNorthWest(),\r\n\t\t    se = bounds.getSouthEast(),\r\n\t\t    size = this.getSize().subtract(padding),\r\n\t\t    boundsSize = this.project(se, zoom).subtract(this.project(nw, zoom)),\r\n\t\t    snap = L.Browser.any3d ? this.options.zoomSnap : 1;\r\n\r\n\t\tvar scale = Math.min(size.x / boundsSize.x, size.y / boundsSize.y);\r\n\t\tzoom = this.getScaleZoom(scale, zoom);\r\n\r\n\t\tif (snap) {\r\n\t\t\tzoom = Math.round(zoom / (snap / 100)) * (snap / 100); // don't jump if within 1% of a snap level\r\n\t\t\tzoom = inside ? Math.ceil(zoom / snap) * snap : Math.floor(zoom / snap) * snap;\r\n\t\t}\r\n\r\n\t\treturn Math.max(min, Math.min(max, zoom));\r\n\t},\r\n\r\n\t// @method getSize(): Point\r\n\t// Returns the current size of the map container (in pixels).\r\n\tgetSize: function () {\r\n\t\tif (!this._size || this._sizeChanged) {\r\n\t\t\tthis._size = new L.Point(\r\n\t\t\t\tthis._container.clientWidth,\r\n\t\t\t\tthis._container.clientHeight);\r\n\r\n\t\t\tthis._sizeChanged = false;\r\n\t\t}\r\n\t\treturn this._size.clone();\r\n\t},\r\n\r\n\t// @method getPixelBounds(): Bounds\r\n\t// Returns the bounds of the current map view in projected pixel\r\n\t// coordinates (sometimes useful in layer and overlay implementations).\r\n\tgetPixelBounds: function (center, zoom) {\r\n\t\tvar topLeftPoint = this._getTopLeftPoint(center, zoom);\r\n\t\treturn new L.Bounds(topLeftPoint, topLeftPoint.add(this.getSize()));\r\n\t},\r\n\r\n\t// TODO: Check semantics - isn't the pixel origin the 0,0 coord relative to\r\n\t// the map pane? \"left point of the map layer\" can be confusing, specially\r\n\t// since there can be negative offsets.\r\n\t// @method getPixelOrigin(): Point\r\n\t// Returns the projected pixel coordinates of the top left point of\r\n\t// the map layer (useful in custom layer and overlay implementations).\r\n\tgetPixelOrigin: function () {\r\n\t\tthis._checkIfLoaded();\r\n\t\treturn this._pixelOrigin;\r\n\t},\r\n\r\n\t// @method getPixelWorldBounds(zoom?: Number): Bounds\r\n\t// Returns the world's bounds in pixel coordinates for zoom level `zoom`.\r\n\t// If `zoom` is omitted, the map's current zoom level is used.\r\n\tgetPixelWorldBounds: function (zoom) {\r\n\t\treturn this.options.crs.getProjectedBounds(zoom === undefined ? this.getZoom() : zoom);\r\n\t},\r\n\r\n\t// @section Other Methods\r\n\r\n\t// @method getPane(pane: String|HTMLElement): HTMLElement\r\n\t// Returns a [map pane](#map-pane), given its name or its HTML element (its identity).\r\n\tgetPane: function (pane) {\r\n\t\treturn typeof pane === 'string' ? this._panes[pane] : pane;\r\n\t},\r\n\r\n\t// @method getPanes(): Object\r\n\t// Returns a plain object containing the names of all [panes](#map-pane) as keys and\r\n\t// the panes as values.\r\n\tgetPanes: function () {\r\n\t\treturn this._panes;\r\n\t},\r\n\r\n\t// @method getContainer: HTMLElement\r\n\t// Returns the HTML element that contains the map.\r\n\tgetContainer: function () {\r\n\t\treturn this._container;\r\n\t},\r\n\r\n\r\n\t// @section Conversion Methods\r\n\r\n\t// @method getZoomScale(toZoom: Number, fromZoom: Number): Number\r\n\t// Returns the scale factor to be applied to a map transition from zoom level\r\n\t// `fromZoom` to `toZoom`. Used internally to help with zoom animations.\r\n\tgetZoomScale: function (toZoom, fromZoom) {\r\n\t\t// TODO replace with universal implementation after refactoring projections\r\n\t\tvar crs = this.options.crs;\r\n\t\tfromZoom = fromZoom === undefined ? this._zoom : fromZoom;\r\n\t\treturn crs.scale(toZoom) / crs.scale(fromZoom);\r\n\t},\r\n\r\n\t// @method getScaleZoom(scale: Number, fromZoom: Number): Number\r\n\t// Returns the zoom level that the map would end up at, if it is at `fromZoom`\r\n\t// level and everything is scaled by a factor of `scale`. Inverse of\r\n\t// [`getZoomScale`](#map-getZoomScale).\r\n\tgetScaleZoom: function (scale, fromZoom) {\r\n\t\tvar crs = this.options.crs;\r\n\t\tfromZoom = fromZoom === undefined ? this._zoom : fromZoom;\r\n\t\tvar zoom = crs.zoom(scale * crs.scale(fromZoom));\r\n\t\treturn isNaN(zoom) ? Infinity : zoom;\r\n\t},\r\n\r\n\t// @method project(latlng: LatLng, zoom: Number): Point\r\n\t// Projects a geographical coordinate `LatLng` according to the projection\r\n\t// of the map's CRS, then scales it according to `zoom` and the CRS's\r\n\t// `Transformation`. The result is pixel coordinate relative to\r\n\t// the CRS origin.\r\n\tproject: function (latlng, zoom) {\r\n\t\tzoom = zoom === undefined ? this._zoom : zoom;\r\n\t\treturn this.options.crs.latLngToPoint(L.latLng(latlng), zoom);\r\n\t},\r\n\r\n\t// @method unproject(point: Point, zoom: Number): LatLng\r\n\t// Inverse of [`project`](#map-project).\r\n\tunproject: function (point, zoom) {\r\n\t\tzoom = zoom === undefined ? this._zoom : zoom;\r\n\t\treturn this.options.crs.pointToLatLng(L.point(point), zoom);\r\n\t},\r\n\r\n\t// @method layerPointToLatLng(point: Point): LatLng\r\n\t// Given a pixel coordinate relative to the [origin pixel](#map-getpixelorigin),\r\n\t// returns the corresponding geographical coordinate (for the current zoom level).\r\n\tlayerPointToLatLng: function (point) {\r\n\t\tvar projectedPoint = L.point(point).add(this.getPixelOrigin());\r\n\t\treturn this.unproject(projectedPoint);\r\n\t},\r\n\r\n\t// @method latLngToLayerPoint(latlng: LatLng): Point\r\n\t// Given a geographical coordinate, returns the corresponding pixel coordinate\r\n\t// relative to the [origin pixel](#map-getpixelorigin).\r\n\tlatLngToLayerPoint: function (latlng) {\r\n\t\tvar projectedPoint = this.project(L.latLng(latlng))._round();\r\n\t\treturn projectedPoint._subtract(this.getPixelOrigin());\r\n\t},\r\n\r\n\t// @method wrapLatLng(latlng: LatLng): LatLng\r\n\t// Returns a `LatLng` where `lat` and `lng` has been wrapped according to the\r\n\t// map's CRS's `wrapLat` and `wrapLng` properties, if they are outside the\r\n\t// CRS's bounds.\r\n\t// By default this means longitude is wrapped around the dateline so its\r\n\t// value is between -180 and +180 degrees.\r\n\twrapLatLng: function (latlng) {\r\n\t\treturn this.options.crs.wrapLatLng(L.latLng(latlng));\r\n\t},\r\n\r\n\t// @method distance(latlng1: LatLng, latlng2: LatLng): Number\r\n\t// Returns the distance between two geographical coordinates according to\r\n\t// the map's CRS. By default this measures distance in meters.\r\n\tdistance: function (latlng1, latlng2) {\r\n\t\treturn this.options.crs.distance(L.latLng(latlng1), L.latLng(latlng2));\r\n\t},\r\n\r\n\t// @method containerPointToLayerPoint(point: Point): Point\r\n\t// Given a pixel coordinate relative to the map container, returns the corresponding\r\n\t// pixel coordinate relative to the [origin pixel](#map-getpixelorigin).\r\n\tcontainerPointToLayerPoint: function (point) { // (Point)\r\n\t\treturn L.point(point).subtract(this._getMapPanePos());\r\n\t},\r\n\r\n\t// @method layerPointToContainerPoint(point: Point): Point\r\n\t// Given a pixel coordinate relative to the [origin pixel](#map-getpixelorigin),\r\n\t// returns the corresponding pixel coordinate relative to the map container.\r\n\tlayerPointToContainerPoint: function (point) { // (Point)\r\n\t\treturn L.point(point).add(this._getMapPanePos());\r\n\t},\r\n\r\n\t// @method containerPointToLatLng(point: Point): Point\r\n\t// Given a pixel coordinate relative to the map container, returns\r\n\t// the corresponding geographical coordinate (for the current zoom level).\r\n\tcontainerPointToLatLng: function (point) {\r\n\t\tvar layerPoint = this.containerPointToLayerPoint(L.point(point));\r\n\t\treturn this.layerPointToLatLng(layerPoint);\r\n\t},\r\n\r\n\t// @method latLngToContainerPoint(latlng: LatLng): Point\r\n\t// Given a geographical coordinate, returns the corresponding pixel coordinate\r\n\t// relative to the map container.\r\n\tlatLngToContainerPoint: function (latlng) {\r\n\t\treturn this.layerPointToContainerPoint(this.latLngToLayerPoint(L.latLng(latlng)));\r\n\t},\r\n\r\n\t// @method mouseEventToContainerPoint(ev: MouseEvent): Point\r\n\t// Given a MouseEvent object, returns the pixel coordinate relative to the\r\n\t// map container where the event took place.\r\n\tmouseEventToContainerPoint: function (e) {\r\n\t\treturn L.DomEvent.getMousePosition(e, this._container);\r\n\t},\r\n\r\n\t// @method mouseEventToLayerPoint(ev: MouseEvent): Point\r\n\t// Given a MouseEvent object, returns the pixel coordinate relative to\r\n\t// the [origin pixel](#map-getpixelorigin) where the event took place.\r\n\tmouseEventToLayerPoint: function (e) {\r\n\t\treturn this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e));\r\n\t},\r\n\r\n\t// @method mouseEventToLatLng(ev: MouseEvent): LatLng\r\n\t// Given a MouseEvent object, returns geographical coordinate where the\r\n\t// event took place.\r\n\tmouseEventToLatLng: function (e) { // (MouseEvent)\r\n\t\treturn this.layerPointToLatLng(this.mouseEventToLayerPoint(e));\r\n\t},\r\n\r\n\r\n\t// map initialization methods\r\n\r\n\t_initContainer: function (id) {\r\n\t\tvar container = this._container = L.DomUtil.get(id);\r\n\r\n\t\tif (!container) {\r\n\t\t\tthrow new Error('Map container not found.');\r\n\t\t} else if (container._leaflet_id) {\r\n\t\t\tthrow new Error('Map container is already initialized.');\r\n\t\t}\r\n\r\n\t\tL.DomEvent.addListener(container, 'scroll', this._onScroll, this);\r\n\t\tthis._containerId = L.Util.stamp(container);\r\n\t},\r\n\r\n\t_initLayout: function () {\r\n\t\tvar container = this._container;\r\n\r\n\t\tthis._fadeAnimated = this.options.fadeAnimation && L.Browser.any3d;\r\n\r\n\t\tL.DomUtil.addClass(container, 'leaflet-container' +\r\n\t\t\t(L.Browser.touch ? ' leaflet-touch' : '') +\r\n\t\t\t(L.Browser.retina ? ' leaflet-retina' : '') +\r\n\t\t\t(L.Browser.ielt9 ? ' leaflet-oldie' : '') +\r\n\t\t\t(L.Browser.safari ? ' leaflet-safari' : '') +\r\n\t\t\t(this._fadeAnimated ? ' leaflet-fade-anim' : ''));\r\n\r\n\t\tvar position = L.DomUtil.getStyle(container, 'position');\r\n\r\n\t\tif (position !== 'absolute' && position !== 'relative' && position !== 'fixed') {\r\n\t\t\tcontainer.style.position = 'relative';\r\n\t\t}\r\n\r\n\t\tthis._initPanes();\r\n\r\n\t\tif (this._initControlPos) {\r\n\t\t\tthis._initControlPos();\r\n\t\t}\r\n\t},\r\n\r\n\t_initPanes: function () {\r\n\t\tvar panes = this._panes = {};\r\n\t\tthis._paneRenderers = {};\r\n\r\n\t\t// @section\r\n\t\t//\r\n\t\t// Panes are DOM elements used to control the ordering of layers on the map. You\r\n\t\t// can access panes with [`map.getPane`](#map-getpane) or\r\n\t\t// [`map.getPanes`](#map-getpanes) methods. New panes can be created with the\r\n\t\t// [`map.createPane`](#map-createpane) method.\r\n\t\t//\r\n\t\t// Every map has the following default panes that differ only in zIndex.\r\n\t\t//\r\n\t\t// @pane mapPane: HTMLElement = 'auto'\r\n\t\t// Pane that contains all other map panes\r\n\r\n\t\tthis._mapPane = this.createPane('mapPane', this._container);\r\n\t\tL.DomUtil.setPosition(this._mapPane, new L.Point(0, 0));\r\n\r\n\t\t// @pane tilePane: HTMLElement = 200\r\n\t\t// Pane for `GridLayer`s and `TileLayer`s\r\n\t\tthis.createPane('tilePane');\r\n\t\t// @pane overlayPane: HTMLElement = 400\r\n\t\t// Pane for vector overlays (`Path`s), like `Polyline`s and `Polygon`s\r\n\t\tthis.createPane('shadowPane');\r\n\t\t// @pane shadowPane: HTMLElement = 500\r\n\t\t// Pane for overlay shadows (e.g. `Marker` shadows)\r\n\t\tthis.createPane('overlayPane');\r\n\t\t// @pane markerPane: HTMLElement = 600\r\n\t\t// Pane for `Icon`s of `Marker`s\r\n\t\tthis.createPane('markerPane');\r\n\t\t// @pane tooltipPane: HTMLElement = 650\r\n\t\t// Pane for tooltip.\r\n\t\tthis.createPane('tooltipPane');\r\n\t\t// @pane popupPane: HTMLElement = 700\r\n\t\t// Pane for `Popup`s.\r\n\t\tthis.createPane('popupPane');\r\n\r\n\t\tif (!this.options.markerZoomAnimation) {\r\n\t\t\tL.DomUtil.addClass(panes.markerPane, 'leaflet-zoom-hide');\r\n\t\t\tL.DomUtil.addClass(panes.shadowPane, 'leaflet-zoom-hide');\r\n\t\t}\r\n\t},\r\n\r\n\r\n\t// private methods that modify map state\r\n\r\n\t// @section Map state change events\r\n\t_resetView: function (center, zoom) {\r\n\t\tL.DomUtil.setPosition(this._mapPane, new L.Point(0, 0));\r\n\r\n\t\tvar loading = !this._loaded;\r\n\t\tthis._loaded = true;\r\n\t\tzoom = this._limitZoom(zoom);\r\n\r\n\t\tthis.fire('viewprereset');\r\n\r\n\t\tvar zoomChanged = this._zoom !== zoom;\r\n\t\tthis\r\n\t\t\t._moveStart(zoomChanged)\r\n\t\t\t._move(center, zoom)\r\n\t\t\t._moveEnd(zoomChanged);\r\n\r\n\t\t// @event viewreset: Event\r\n\t\t// Fired when the map needs to redraw its content (this usually happens\r\n\t\t// on map zoom or load). Very useful for creating custom overlays.\r\n\t\tthis.fire('viewreset');\r\n\r\n\t\t// @event load: Event\r\n\t\t// Fired when the map is initialized (when its center and zoom are set\r\n\t\t// for the first time).\r\n\t\tif (loading) {\r\n\t\t\tthis.fire('load');\r\n\t\t}\r\n\t},\r\n\r\n\t_moveStart: function (zoomChanged) {\r\n\t\t// @event zoomstart: Event\r\n\t\t// Fired when the map zoom is about to change (e.g. before zoom animation).\r\n\t\t// @event movestart: Event\r\n\t\t// Fired when the view of the map starts changing (e.g. user starts dragging the map).\r\n\t\tif (zoomChanged) {\r\n\t\t\tthis.fire('zoomstart');\r\n\t\t}\r\n\t\treturn this.fire('movestart');\r\n\t},\r\n\r\n\t_move: function (center, zoom, data) {\r\n\t\tif (zoom === undefined) {\r\n\t\t\tzoom = this._zoom;\r\n\t\t}\r\n\t\tvar zoomChanged = this._zoom !== zoom;\r\n\r\n\t\tthis._zoom = zoom;\r\n\t\tthis._lastCenter = center;\r\n\t\tthis._pixelOrigin = this._getNewPixelOrigin(center);\r\n\r\n\t\t// @event zoom: Event\r\n\t\t// Fired repeatedly during any change in zoom level, including zoom\r\n\t\t// and fly animations.\r\n\t\tif (zoomChanged || (data && data.pinch)) {\t// Always fire 'zoom' if pinching because #3530\r\n\t\t\tthis.fire('zoom', data);\r\n\t\t}\r\n\r\n\t\t// @event move: Event\r\n\t\t// Fired repeatedly during any movement of the map, including pan and\r\n\t\t// fly animations.\r\n\t\treturn this.fire('move', data);\r\n\t},\r\n\r\n\t_moveEnd: function (zoomChanged) {\r\n\t\t// @event zoomend: Event\r\n\t\t// Fired when the map has changed, after any animations.\r\n\t\tif (zoomChanged) {\r\n\t\t\tthis.fire('zoomend');\r\n\t\t}\r\n\r\n\t\t// @event moveend: Event\r\n\t\t// Fired when the center of the map stops changing (e.g. user stopped\r\n\t\t// dragging the map).\r\n\t\treturn this.fire('moveend');\r\n\t},\r\n\r\n\t_stop: function () {\r\n\t\tL.Util.cancelAnimFrame(this._flyToFrame);\r\n\t\tif (this._panAnim) {\r\n\t\t\tthis._panAnim.stop();\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\t_rawPanBy: function (offset) {\r\n\t\tL.DomUtil.setPosition(this._mapPane, this._getMapPanePos().subtract(offset));\r\n\t},\r\n\r\n\t_getZoomSpan: function () {\r\n\t\treturn this.getMaxZoom() - this.getMinZoom();\r\n\t},\r\n\r\n\t_panInsideMaxBounds: function () {\r\n\t\tif (!this._enforcingBounds) {\r\n\t\t\tthis.panInsideBounds(this.options.maxBounds);\r\n\t\t}\r\n\t},\r\n\r\n\t_checkIfLoaded: function () {\r\n\t\tif (!this._loaded) {\r\n\t\t\tthrow new Error('Set map center and zoom first.');\r\n\t\t}\r\n\t},\r\n\r\n\t// DOM event handling\r\n\r\n\t// @section Interaction events\r\n\t_initEvents: function (remove) {\r\n\t\tif (!L.DomEvent) { return; }\r\n\r\n\t\tthis._targets = {};\r\n\t\tthis._targets[L.stamp(this._container)] = this;\r\n\r\n\t\tvar onOff = remove ? 'off' : 'on';\r\n\r\n\t\t// @event click: MouseEvent\r\n\t\t// Fired when the user clicks (or taps) the map.\r\n\t\t// @event dblclick: MouseEvent\r\n\t\t// Fired when the user double-clicks (or double-taps) the map.\r\n\t\t// @event mousedown: MouseEvent\r\n\t\t// Fired when the user pushes the mouse button on the map.\r\n\t\t// @event mouseup: MouseEvent\r\n\t\t// Fired when the user releases the mouse button on the map.\r\n\t\t// @event mouseover: MouseEvent\r\n\t\t// Fired when the mouse enters the map.\r\n\t\t// @event mouseout: MouseEvent\r\n\t\t// Fired when the mouse leaves the map.\r\n\t\t// @event mousemove: MouseEvent\r\n\t\t// Fired while the mouse moves over the map.\r\n\t\t// @event contextmenu: MouseEvent\r\n\t\t// Fired when the user pushes the right mouse button on the map, prevents\r\n\t\t// default browser context menu from showing if there are listeners on\r\n\t\t// this event. Also fired on mobile when the user holds a single touch\r\n\t\t// for a second (also called long press).\r\n\t\t// @event keypress: KeyboardEvent\r\n\t\t// Fired when the user presses a key from the keyboard while the map is focused.\r\n\t\tL.DomEvent[onOff](this._container, 'click dblclick mousedown mouseup ' +\r\n\t\t\t'mouseover mouseout mousemove contextmenu keypress', this._handleDOMEvent, this);\r\n\r\n\t\tif (this.options.trackResize) {\r\n\t\t\tL.DomEvent[onOff](window, 'resize', this._onResize, this);\r\n\t\t}\r\n\r\n\t\tif (L.Browser.any3d && this.options.transform3DLimit) {\r\n\t\t\tthis[onOff]('moveend', this._onMoveEnd);\r\n\t\t}\r\n\t},\r\n\r\n\t_onResize: function () {\r\n\t\tL.Util.cancelAnimFrame(this._resizeRequest);\r\n\t\tthis._resizeRequest = L.Util.requestAnimFrame(\r\n\t\t        function () { this.invalidateSize({debounceMoveend: true}); }, this);\r\n\t},\r\n\r\n\t_onScroll: function () {\r\n\t\tthis._container.scrollTop  = 0;\r\n\t\tthis._container.scrollLeft = 0;\r\n\t},\r\n\r\n\t_onMoveEnd: function () {\r\n\t\tvar pos = this._getMapPanePos();\r\n\t\tif (Math.max(Math.abs(pos.x), Math.abs(pos.y)) >= this.options.transform3DLimit) {\r\n\t\t\t// https://bugzilla.mozilla.org/show_bug.cgi?id=1203873 but Webkit also have\r\n\t\t\t// a pixel offset on very high values, see: http://jsfiddle.net/dg6r5hhb/\r\n\t\t\tthis._resetView(this.getCenter(), this.getZoom());\r\n\t\t}\r\n\t},\r\n\r\n\t_findEventTargets: function (e, type) {\r\n\t\tvar targets = [],\r\n\t\t    target,\r\n\t\t    isHover = type === 'mouseout' || type === 'mouseover',\r\n\t\t    src = e.target || e.srcElement,\r\n\t\t    dragging = false;\r\n\r\n\t\twhile (src) {\r\n\t\t\ttarget = this._targets[L.stamp(src)];\r\n\t\t\tif (target && (type === 'click' || type === 'preclick') && !e._simulated && this._draggableMoved(target)) {\r\n\t\t\t\t// Prevent firing click after you just dragged an object.\r\n\t\t\t\tdragging = true;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tif (target && target.listens(type, true)) {\r\n\t\t\t\tif (isHover && !L.DomEvent._isExternalTarget(src, e)) { break; }\r\n\t\t\t\ttargets.push(target);\r\n\t\t\t\tif (isHover) { break; }\r\n\t\t\t}\r\n\t\t\tif (src === this._container) { break; }\r\n\t\t\tsrc = src.parentNode;\r\n\t\t}\r\n\t\tif (!targets.length && !dragging && !isHover && L.DomEvent._isExternalTarget(src, e)) {\r\n\t\t\ttargets = [this];\r\n\t\t}\r\n\t\treturn targets;\r\n\t},\r\n\r\n\t_handleDOMEvent: function (e) {\r\n\t\tif (!this._loaded || L.DomEvent._skipped(e)) { return; }\r\n\r\n\t\tvar type = e.type === 'keypress' && e.keyCode === 13 ? 'click' : e.type;\r\n\r\n\t\tif (type === 'mousedown') {\r\n\t\t\t// prevents outline when clicking on keyboard-focusable element\r\n\t\t\tL.DomUtil.preventOutline(e.target || e.srcElement);\r\n\t\t}\r\n\r\n\t\tthis._fireDOMEvent(e, type);\r\n\t},\r\n\r\n\t_fireDOMEvent: function (e, type, targets) {\r\n\r\n\t\tif (e.type === 'click') {\r\n\t\t\t// Fire a synthetic 'preclick' event which propagates up (mainly for closing popups).\r\n\t\t\t// @event preclick: MouseEvent\r\n\t\t\t// Fired before mouse click on the map (sometimes useful when you\r\n\t\t\t// want something to happen on click before any existing click\r\n\t\t\t// handlers start running).\r\n\t\t\tvar synth = L.Util.extend({}, e);\r\n\t\t\tsynth.type = 'preclick';\r\n\t\t\tthis._fireDOMEvent(synth, synth.type, targets);\r\n\t\t}\r\n\r\n\t\tif (e._stopped) { return; }\r\n\r\n\t\t// Find the layer the event is propagating from and its parents.\r\n\t\ttargets = (targets || []).concat(this._findEventTargets(e, type));\r\n\r\n\t\tif (!targets.length) { return; }\r\n\r\n\t\tvar target = targets[0];\r\n\t\tif (type === 'contextmenu' && target.listens(type, true)) {\r\n\t\t\tL.DomEvent.preventDefault(e);\r\n\t\t}\r\n\r\n\t\tvar data = {\r\n\t\t\toriginalEvent: e\r\n\t\t};\r\n\r\n\t\tif (e.type !== 'keypress') {\r\n\t\t\tvar isMarker = target instanceof L.Marker;\r\n\t\t\tdata.containerPoint = isMarker ?\r\n\t\t\t\t\tthis.latLngToContainerPoint(target.getLatLng()) : this.mouseEventToContainerPoint(e);\r\n\t\t\tdata.layerPoint = this.containerPointToLayerPoint(data.containerPoint);\r\n\t\t\tdata.latlng = isMarker ? target.getLatLng() : this.layerPointToLatLng(data.layerPoint);\r\n\t\t}\r\n\r\n\t\tfor (var i = 0; i < targets.length; i++) {\r\n\t\t\ttargets[i].fire(type, data, true);\r\n\t\t\tif (data.originalEvent._stopped ||\r\n\t\t\t\t(targets[i].options.nonBubblingEvents && L.Util.indexOf(targets[i].options.nonBubblingEvents, type) !== -1)) { return; }\r\n\t\t}\r\n\t},\r\n\r\n\t_draggableMoved: function (obj) {\r\n\t\tobj = obj.dragging && obj.dragging.enabled() ? obj : this;\r\n\t\treturn (obj.dragging && obj.dragging.moved()) || (this.boxZoom && this.boxZoom.moved());\r\n\t},\r\n\r\n\t_clearHandlers: function () {\r\n\t\tfor (var i = 0, len = this._handlers.length; i < len; i++) {\r\n\t\t\tthis._handlers[i].disable();\r\n\t\t}\r\n\t},\r\n\r\n\t// @section Other Methods\r\n\r\n\t// @method whenReady(fn: Function, context?: Object): this\r\n\t// Runs the given function `fn` when the map gets initialized with\r\n\t// a view (center and zoom) and at least one layer, or immediately\r\n\t// if it's already initialized, optionally passing a function context.\r\n\twhenReady: function (callback, context) {\r\n\t\tif (this._loaded) {\r\n\t\t\tcallback.call(context || this, {target: this});\r\n\t\t} else {\r\n\t\t\tthis.on('load', callback, context);\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\r\n\t// private methods for getting map state\r\n\r\n\t_getMapPanePos: function () {\r\n\t\treturn L.DomUtil.getPosition(this._mapPane) || new L.Point(0, 0);\r\n\t},\r\n\r\n\t_moved: function () {\r\n\t\tvar pos = this._getMapPanePos();\r\n\t\treturn pos && !pos.equals([0, 0]);\r\n\t},\r\n\r\n\t_getTopLeftPoint: function (center, zoom) {\r\n\t\tvar pixelOrigin = center && zoom !== undefined ?\r\n\t\t\tthis._getNewPixelOrigin(center, zoom) :\r\n\t\t\tthis.getPixelOrigin();\r\n\t\treturn pixelOrigin.subtract(this._getMapPanePos());\r\n\t},\r\n\r\n\t_getNewPixelOrigin: function (center, zoom) {\r\n\t\tvar viewHalf = this.getSize()._divideBy(2);\r\n\t\treturn this.project(center, zoom)._subtract(viewHalf)._add(this._getMapPanePos())._round();\r\n\t},\r\n\r\n\t_latLngToNewLayerPoint: function (latlng, zoom, center) {\r\n\t\tvar topLeft = this._getNewPixelOrigin(center, zoom);\r\n\t\treturn this.project(latlng, zoom)._subtract(topLeft);\r\n\t},\r\n\r\n\t// layer point of the current center\r\n\t_getCenterLayerPoint: function () {\r\n\t\treturn this.containerPointToLayerPoint(this.getSize()._divideBy(2));\r\n\t},\r\n\r\n\t// offset of the specified place to the current center in pixels\r\n\t_getCenterOffset: function (latlng) {\r\n\t\treturn this.latLngToLayerPoint(latlng).subtract(this._getCenterLayerPoint());\r\n\t},\r\n\r\n\t// adjust center for view to get inside bounds\r\n\t_limitCenter: function (center, zoom, bounds) {\r\n\r\n\t\tif (!bounds) { return center; }\r\n\r\n\t\tvar centerPoint = this.project(center, zoom),\r\n\t\t    viewHalf = this.getSize().divideBy(2),\r\n\t\t    viewBounds = new L.Bounds(centerPoint.subtract(viewHalf), centerPoint.add(viewHalf)),\r\n\t\t    offset = this._getBoundsOffset(viewBounds, bounds, zoom);\r\n\r\n\t\t// If offset is less than a pixel, ignore.\r\n\t\t// This prevents unstable projections from getting into\r\n\t\t// an infinite loop of tiny offsets.\r\n\t\tif (offset.round().equals([0, 0])) {\r\n\t\t\treturn center;\r\n\t\t}\r\n\r\n\t\treturn this.unproject(centerPoint.add(offset), zoom);\r\n\t},\r\n\r\n\t// adjust offset for view to get inside bounds\r\n\t_limitOffset: function (offset, bounds) {\r\n\t\tif (!bounds) { return offset; }\r\n\r\n\t\tvar viewBounds = this.getPixelBounds(),\r\n\t\t    newBounds = new L.Bounds(viewBounds.min.add(offset), viewBounds.max.add(offset));\r\n\r\n\t\treturn offset.add(this._getBoundsOffset(newBounds, bounds));\r\n\t},\r\n\r\n\t// returns offset needed for pxBounds to get inside maxBounds at a specified zoom\r\n\t_getBoundsOffset: function (pxBounds, maxBounds, zoom) {\r\n\t\tvar projectedMaxBounds = L.bounds(\r\n\t\t        this.project(maxBounds.getNorthEast(), zoom),\r\n\t\t        this.project(maxBounds.getSouthWest(), zoom)\r\n\t\t    ),\r\n\t\t    minOffset = projectedMaxBounds.min.subtract(pxBounds.min),\r\n\t\t    maxOffset = projectedMaxBounds.max.subtract(pxBounds.max),\r\n\r\n\t\t    dx = this._rebound(minOffset.x, -maxOffset.x),\r\n\t\t    dy = this._rebound(minOffset.y, -maxOffset.y);\r\n\r\n\t\treturn new L.Point(dx, dy);\r\n\t},\r\n\r\n\t_rebound: function (left, right) {\r\n\t\treturn left + right > 0 ?\r\n\t\t\tMath.round(left - right) / 2 :\r\n\t\t\tMath.max(0, Math.ceil(left)) - Math.max(0, Math.floor(right));\r\n\t},\r\n\r\n\t_limitZoom: function (zoom) {\r\n\t\tvar min = this.getMinZoom(),\r\n\t\t    max = this.getMaxZoom(),\r\n\t\t    snap = L.Browser.any3d ? this.options.zoomSnap : 1;\r\n\t\tif (snap) {\r\n\t\t\tzoom = Math.round(zoom / snap) * snap;\r\n\t\t}\r\n\t\treturn Math.max(min, Math.min(max, zoom));\r\n\t}\r\n});\r\n\r\n// @section\r\n\r\n// @factory L.map(id: String, options?: Map options)\r\n// Instantiates a map object given the DOM ID of a `<div>` element\r\n// and optionally an object literal with `Map options`.\r\n//\r\n// @alternative\r\n// @factory L.map(el: HTMLElement, options?: Map options)\r\n// Instantiates a map object given an instance of a `<div>` HTML element\r\n// and optionally an object literal with `Map options`.\r\nL.map = function (id, options) {\r\n\treturn new L.Map(id, options);\r\n};\r\n\n\n/*\n * @class Layer\n * @inherits Evented\n * @aka L.Layer\n * @aka ILayer\n *\n * A set of methods from the Layer base class that all Leaflet layers use.\n * Inherits all methods, options and events from `L.Evented`.\n *\n * @example\n *\n * ```js\n * var layer = L.Marker(latlng).addTo(map);\n * layer.addTo(map);\n * layer.remove();\n * ```\n *\n * @event add: Event\n * Fired after the layer is added to a map\n *\n * @event remove: Event\n * Fired after the layer is removed from a map\n */\n\n\nL.Layer = L.Evented.extend({\n\n\t// Classes extending `L.Layer` will inherit the following options:\n\toptions: {\n\t\t// @option pane: String = 'overlayPane'\n\t\t// By default the layer will be added to the map's [overlay pane](#map-overlaypane). Overriding this option will cause the layer to be placed on another pane by default.\n\t\tpane: 'overlayPane',\n\t\tnonBubblingEvents: []  // Array of events that should not be bubbled to DOM parents (like the map)\n\t},\n\n\t/* @section\n\t * Classes extending `L.Layer` will inherit the following methods:\n\t *\n\t * @method addTo(map: Map): this\n\t * Adds the layer to the given map\n\t */\n\taddTo: function (map) {\n\t\tmap.addLayer(this);\n\t\treturn this;\n\t},\n\n\t// @method remove: this\n\t// Removes the layer from the map it is currently active on.\n\tremove: function () {\n\t\treturn this.removeFrom(this._map || this._mapToAdd);\n\t},\n\n\t// @method removeFrom(map: Map): this\n\t// Removes the layer from the given map\n\tremoveFrom: function (obj) {\n\t\tif (obj) {\n\t\t\tobj.removeLayer(this);\n\t\t}\n\t\treturn this;\n\t},\n\n\t// @method getPane(name? : String): HTMLElement\n\t// Returns the `HTMLElement` representing the named pane on the map. If `name` is omitted, returns the pane for this layer.\n\tgetPane: function (name) {\n\t\treturn this._map.getPane(name ? (this.options[name] || name) : this.options.pane);\n\t},\n\n\taddInteractiveTarget: function (targetEl) {\n\t\tthis._map._targets[L.stamp(targetEl)] = this;\n\t\treturn this;\n\t},\n\n\tremoveInteractiveTarget: function (targetEl) {\n\t\tdelete this._map._targets[L.stamp(targetEl)];\n\t\treturn this;\n\t},\n\n\t_layerAdd: function (e) {\n\t\tvar map = e.target;\n\n\t\t// check in case layer gets added and then removed before the map is ready\n\t\tif (!map.hasLayer(this)) { return; }\n\n\t\tthis._map = map;\n\t\tthis._zoomAnimated = map._zoomAnimated;\n\n\t\tif (this.getEvents) {\n\t\t\tvar events = this.getEvents();\n\t\t\tmap.on(events, this);\n\t\t\tthis.once('remove', function () {\n\t\t\t\tmap.off(events, this);\n\t\t\t}, this);\n\t\t}\n\n\t\tthis.onAdd(map);\n\n\t\tif (this.getAttribution && this._map.attributionControl) {\n\t\t\tthis._map.attributionControl.addAttribution(this.getAttribution());\n\t\t}\n\n\t\tthis.fire('add');\n\t\tmap.fire('layeradd', {layer: this});\n\t}\n});\n\n/* @section Extension methods\n * @uninheritable\n *\n * Every layer should extend from `L.Layer` and (re-)implement the following methods.\n *\n * @method onAdd(map: Map): this\n * Should contain code that creates DOM elements for the layer, adds them to `map panes` where they should belong and puts listeners on relevant map events. Called on [`map.addLayer(layer)`](#map-addlayer).\n *\n * @method onRemove(map: Map): this\n * Should contain all clean up code that removes the layer's elements from the DOM and removes listeners previously added in [`onAdd`](#layer-onadd). Called on [`map.removeLayer(layer)`](#map-removelayer).\n *\n * @method getEvents(): Object\n * This optional method should return an object like `{ viewreset: this._reset }` for [`addEventListener`](#evented-addeventlistener). The event handlers in this object will be automatically added and removed from the map with your layer.\n *\n * @method getAttribution(): String\n * This optional method should return a string containing HTML to be shown on the `Attribution control` whenever the layer is visible.\n *\n * @method beforeAdd(map: Map): this\n * Optional method. Called on [`map.addLayer(layer)`](#map-addlayer), before the layer is added to the map, before events are initialized, without waiting until the map is in a usable state. Use for early initialization only.\n */\n\n\n/* @namespace Map\n * @section Layer events\n *\n * @event layeradd: LayerEvent\n * Fired when a new layer is added to the map.\n *\n * @event layerremove: LayerEvent\n * Fired when some layer is removed from the map\n *\n * @section Methods for Layers and Controls\n */\nL.Map.include({\n\t// @method addLayer(layer: Layer): this\n\t// Adds the given layer to the map\n\taddLayer: function (layer) {\n\t\tvar id = L.stamp(layer);\n\t\tif (this._layers[id]) { return this; }\n\t\tthis._layers[id] = layer;\n\n\t\tlayer._mapToAdd = this;\n\n\t\tif (layer.beforeAdd) {\n\t\t\tlayer.beforeAdd(this);\n\t\t}\n\n\t\tthis.whenReady(layer._layerAdd, layer);\n\n\t\treturn this;\n\t},\n\n\t// @method removeLayer(layer: Layer): this\n\t// Removes the given layer from the map.\n\tremoveLayer: function (layer) {\n\t\tvar id = L.stamp(layer);\n\n\t\tif (!this._layers[id]) { return this; }\n\n\t\tif (this._loaded) {\n\t\t\tlayer.onRemove(this);\n\t\t}\n\n\t\tif (layer.getAttribution && this.attributionControl) {\n\t\t\tthis.attributionControl.removeAttribution(layer.getAttribution());\n\t\t}\n\n\t\tdelete this._layers[id];\n\n\t\tif (this._loaded) {\n\t\t\tthis.fire('layerremove', {layer: layer});\n\t\t\tlayer.fire('remove');\n\t\t}\n\n\t\tlayer._map = layer._mapToAdd = null;\n\n\t\treturn this;\n\t},\n\n\t// @method hasLayer(layer: Layer): Boolean\n\t// Returns `true` if the given layer is currently added to the map\n\thasLayer: function (layer) {\n\t\treturn !!layer && (L.stamp(layer) in this._layers);\n\t},\n\n\t/* @method eachLayer(fn: Function, context?: Object): this\n\t * Iterates over the layers of the map, optionally specifying context of the iterator function.\n\t * ```\n\t * map.eachLayer(function(layer){\n\t *     layer.bindPopup('Hello');\n\t * });\n\t * ```\n\t */\n\teachLayer: function (method, context) {\n\t\tfor (var i in this._layers) {\n\t\t\tmethod.call(context, this._layers[i]);\n\t\t}\n\t\treturn this;\n\t},\n\n\t_addLayers: function (layers) {\n\t\tlayers = layers ? (L.Util.isArray(layers) ? layers : [layers]) : [];\n\n\t\tfor (var i = 0, len = layers.length; i < len; i++) {\n\t\t\tthis.addLayer(layers[i]);\n\t\t}\n\t},\n\n\t_addZoomLimit: function (layer) {\n\t\tif (isNaN(layer.options.maxZoom) || !isNaN(layer.options.minZoom)) {\n\t\t\tthis._zoomBoundLayers[L.stamp(layer)] = layer;\n\t\t\tthis._updateZoomLevels();\n\t\t}\n\t},\n\n\t_removeZoomLimit: function (layer) {\n\t\tvar id = L.stamp(layer);\n\n\t\tif (this._zoomBoundLayers[id]) {\n\t\t\tdelete this._zoomBoundLayers[id];\n\t\t\tthis._updateZoomLevels();\n\t\t}\n\t},\n\n\t_updateZoomLevels: function () {\n\t\tvar minZoom = Infinity,\n\t\t    maxZoom = -Infinity,\n\t\t    oldZoomSpan = this._getZoomSpan();\n\n\t\tfor (var i in this._zoomBoundLayers) {\n\t\t\tvar options = this._zoomBoundLayers[i].options;\n\n\t\t\tminZoom = options.minZoom === undefined ? minZoom : Math.min(minZoom, options.minZoom);\n\t\t\tmaxZoom = options.maxZoom === undefined ? maxZoom : Math.max(maxZoom, options.maxZoom);\n\t\t}\n\n\t\tthis._layersMaxZoom = maxZoom === -Infinity ? undefined : maxZoom;\n\t\tthis._layersMinZoom = minZoom === Infinity ? undefined : minZoom;\n\n\t\t// @section Map state change events\n\t\t// @event zoomlevelschange: Event\n\t\t// Fired when the number of zoomlevels on the map is changed due\n\t\t// to adding or removing a layer.\n\t\tif (oldZoomSpan !== this._getZoomSpan()) {\n\t\t\tthis.fire('zoomlevelschange');\n\t\t}\n\t}\n});\n\n/*\r\n * @namespace Projection\r\n * @projection L.Projection.Mercator\r\n *\r\n * Elliptical Mercator projection — more complex than Spherical Mercator. Takes into account that Earth is a geoid, not a perfect sphere. Used by the EPSG:3395 CRS.\r\n */\r\n\r\nL.Projection.Mercator = {\r\n\tR: 6378137,\r\n\tR_MINOR: 6356752.314245179,\r\n\r\n\tbounds: L.bounds([-20037508.34279, -15496570.73972], [20037508.34279, 18764656.23138]),\r\n\r\n\tproject: function (latlng) {\r\n\t\tvar d = Math.PI / 180,\r\n\t\t    r = this.R,\r\n\t\t    y = latlng.lat * d,\r\n\t\t    tmp = this.R_MINOR / r,\r\n\t\t    e = Math.sqrt(1 - tmp * tmp),\r\n\t\t    con = e * Math.sin(y);\r\n\r\n\t\tvar ts = Math.tan(Math.PI / 4 - y / 2) / Math.pow((1 - con) / (1 + con), e / 2);\r\n\t\ty = -r * Math.log(Math.max(ts, 1E-10));\r\n\r\n\t\treturn new L.Point(latlng.lng * d * r, y);\r\n\t},\r\n\r\n\tunproject: function (point) {\r\n\t\tvar d = 180 / Math.PI,\r\n\t\t    r = this.R,\r\n\t\t    tmp = this.R_MINOR / r,\r\n\t\t    e = Math.sqrt(1 - tmp * tmp),\r\n\t\t    ts = Math.exp(-point.y / r),\r\n\t\t    phi = Math.PI / 2 - 2 * Math.atan(ts);\r\n\r\n\t\tfor (var i = 0, dphi = 0.1, con; i < 15 && Math.abs(dphi) > 1e-7; i++) {\r\n\t\t\tcon = e * Math.sin(phi);\r\n\t\t\tcon = Math.pow((1 - con) / (1 + con), e / 2);\r\n\t\t\tdphi = Math.PI / 2 - 2 * Math.atan(ts * con) - phi;\r\n\t\t\tphi += dphi;\r\n\t\t}\r\n\r\n\t\treturn new L.LatLng(phi * d, point.x * d / r);\r\n\t}\r\n};\r\n\n/*\r\n * @namespace CRS\r\n * @crs L.CRS.EPSG3395\r\n *\r\n * Rarely used by some commercial tile providers. Uses Elliptical Mercator projection.\r\n */\r\n\r\nL.CRS.EPSG3395 = L.extend({}, L.CRS.Earth, {\r\n\tcode: 'EPSG:3395',\r\n\tprojection: L.Projection.Mercator,\r\n\r\n\ttransformation: (function () {\r\n\t\tvar scale = 0.5 / (Math.PI * L.Projection.Mercator.R);\r\n\t\treturn new L.Transformation(scale, 0.5, -scale, 0.5);\r\n\t}())\r\n});\r\n\n/*\n * @class GridLayer\n * @inherits Layer\n * @aka L.GridLayer\n *\n * Generic class for handling a tiled grid of HTML elements. This is the base class for all tile layers and replaces `TileLayer.Canvas`.\n * GridLayer can be extended to create a tiled grid of HTML elements like `<canvas>`, `<img>` or `<div>`. GridLayer will handle creating and animating these DOM elements for you.\n *\n *\n * @section Synchronous usage\n * @example\n *\n * To create a custom layer, extend GridLayer and implement the `createTile()` method, which will be passed a `Point` object with the `x`, `y`, and `z` (zoom level) coordinates to draw your tile.\n *\n * ```js\n * var CanvasLayer = L.GridLayer.extend({\n *     createTile: function(coords){\n *         // create a <canvas> element for drawing\n *         var tile = L.DomUtil.create('canvas', 'leaflet-tile');\n *\n *         // setup tile width and height according to the options\n *         var size = this.getTileSize();\n *         tile.width = size.x;\n *         tile.height = size.y;\n *\n *         // get a canvas context and draw something on it using coords.x, coords.y and coords.z\n *         var ctx = tile.getContext('2d');\n *\n *         // return the tile so it can be rendered on screen\n *         return tile;\n *     }\n * });\n * ```\n *\n * @section Asynchronous usage\n * @example\n *\n * Tile creation can also be asynchronous, this is useful when using a third-party drawing library. Once the tile is finished drawing it can be passed to the `done()` callback.\n *\n * ```js\n * var CanvasLayer = L.GridLayer.extend({\n *     createTile: function(coords, done){\n *         var error;\n *\n *         // create a <canvas> element for drawing\n *         var tile = L.DomUtil.create('canvas', 'leaflet-tile');\n *\n *         // setup tile width and height according to the options\n *         var size = this.getTileSize();\n *         tile.width = size.x;\n *         tile.height = size.y;\n *\n *         // draw something asynchronously and pass the tile to the done() callback\n *         setTimeout(function() {\n *             done(error, tile);\n *         }, 1000);\n *\n *         return tile;\n *     }\n * });\n * ```\n *\n * @section\n */\n\n\nL.GridLayer = L.Layer.extend({\n\n\t// @section\n\t// @aka GridLayer options\n\toptions: {\n\t\t// @option tileSize: Number|Point = 256\n\t\t// Width and height of tiles in the grid. Use a number if width and height are equal, or `L.point(width, height)` otherwise.\n\t\ttileSize: 256,\n\n\t\t// @option opacity: Number = 1.0\n\t\t// Opacity of the tiles. Can be used in the `createTile()` function.\n\t\topacity: 1,\n\n\t\t// @option updateWhenIdle: Boolean = depends\n\t\t// If `false`, new tiles are loaded during panning, otherwise only after it (for better performance). `true` by default on mobile browsers, otherwise `false`.\n\t\tupdateWhenIdle: L.Browser.mobile,\n\n\t\t// @option updateWhenZooming: Boolean = true\n\t\t// By default, a smooth zoom animation (during a [touch zoom](#map-touchzoom) or a [`flyTo()`](#map-flyto)) will update grid layers every integer zoom level. Setting this option to `false` will update the grid layer only when the smooth animation ends.\n\t\tupdateWhenZooming: true,\n\n\t\t// @option updateInterval: Number = 200\n\t\t// Tiles will not update more than once every `updateInterval` milliseconds when panning.\n\t\tupdateInterval: 200,\n\n\t\t// @option attribution: String = null\n\t\t// String to be shown in the attribution control, describes the layer data, e.g. \"© Mapbox\".\n\t\tattribution: null,\n\n\t\t// @option zIndex: Number = 1\n\t\t// The explicit zIndex of the tile layer.\n\t\tzIndex: 1,\n\n\t\t// @option bounds: LatLngBounds = undefined\n\t\t// If set, tiles will only be loaded inside the set `LatLngBounds`.\n\t\tbounds: null,\n\n\t\t// @option minZoom: Number = 0\n\t\t// The minimum zoom level that tiles will be loaded at. By default the entire map.\n\t\tminZoom: 0,\n\n\t\t// @option maxZoom: Number = undefined\n\t\t// The maximum zoom level that tiles will be loaded at.\n\t\tmaxZoom: undefined,\n\n\t\t// @option noWrap: Boolean = false\n\t\t// Whether the layer is wrapped around the antimeridian. If `true`, the\n\t\t// GridLayer will only be displayed once at low zoom levels. Has no\n\t\t// effect when the [map CRS](#map-crs) doesn't wrap around.\n\t\tnoWrap: false,\n\n\t\t// @option pane: String = 'tilePane'\n\t\t// `Map pane` where the grid layer will be added.\n\t\tpane: 'tilePane',\n\n\t\t// @option className: String = ''\n\t\t// A custom class name to assign to the tile layer. Empty by default.\n\t\tclassName: '',\n\n\t\t// @option keepBuffer: Number = 2\n\t\t// When panning the map, keep this many rows and columns of tiles before unloading them.\n\t\tkeepBuffer: 2\n\t},\n\n\tinitialize: function (options) {\n\t\tL.setOptions(this, options);\n\t},\n\n\tonAdd: function () {\n\t\tthis._initContainer();\n\n\t\tthis._levels = {};\n\t\tthis._tiles = {};\n\n\t\tthis._resetView();\n\t\tthis._update();\n\t},\n\n\tbeforeAdd: function (map) {\n\t\tmap._addZoomLimit(this);\n\t},\n\n\tonRemove: function (map) {\n\t\tthis._removeAllTiles();\n\t\tL.DomUtil.remove(this._container);\n\t\tmap._removeZoomLimit(this);\n\t\tthis._container = null;\n\t\tthis._tileZoom = null;\n\t},\n\n\t// @method bringToFront: this\n\t// Brings the tile layer to the top of all tile layers.\n\tbringToFront: function () {\n\t\tif (this._map) {\n\t\t\tL.DomUtil.toFront(this._container);\n\t\t\tthis._setAutoZIndex(Math.max);\n\t\t}\n\t\treturn this;\n\t},\n\n\t// @method bringToBack: this\n\t// Brings the tile layer to the bottom of all tile layers.\n\tbringToBack: function () {\n\t\tif (this._map) {\n\t\t\tL.DomUtil.toBack(this._container);\n\t\t\tthis._setAutoZIndex(Math.min);\n\t\t}\n\t\treturn this;\n\t},\n\n\t// @method getAttribution: String\n\t// Used by the `attribution control`, returns the [attribution option](#gridlayer-attribution).\n\tgetAttribution: function () {\n\t\treturn this.options.attribution;\n\t},\n\n\t// @method getContainer: HTMLElement\n\t// Returns the HTML element that contains the tiles for this layer.\n\tgetContainer: function () {\n\t\treturn this._container;\n\t},\n\n\t// @method setOpacity(opacity: Number): this\n\t// Changes the [opacity](#gridlayer-opacity) of the grid layer.\n\tsetOpacity: function (opacity) {\n\t\tthis.options.opacity = opacity;\n\t\tthis._updateOpacity();\n\t\treturn this;\n\t},\n\n\t// @method setZIndex(zIndex: Number): this\n\t// Changes the [zIndex](#gridlayer-zindex) of the grid layer.\n\tsetZIndex: function (zIndex) {\n\t\tthis.options.zIndex = zIndex;\n\t\tthis._updateZIndex();\n\n\t\treturn this;\n\t},\n\n\t// @method isLoading: Boolean\n\t// Returns `true` if any tile in the grid layer has not finished loading.\n\tisLoading: function () {\n\t\treturn this._loading;\n\t},\n\n\t// @method redraw: this\n\t// Causes the layer to clear all the tiles and request them again.\n\tredraw: function () {\n\t\tif (this._map) {\n\t\t\tthis._removeAllTiles();\n\t\t\tthis._update();\n\t\t}\n\t\treturn this;\n\t},\n\n\tgetEvents: function () {\n\t\tvar events = {\n\t\t\tviewprereset: this._invalidateAll,\n\t\t\tviewreset: this._resetView,\n\t\t\tzoom: this._resetView,\n\t\t\tmoveend: this._onMoveEnd\n\t\t};\n\n\t\tif (!this.options.updateWhenIdle) {\n\t\t\t// update tiles on move, but not more often than once per given interval\n\t\t\tif (!this._onMove) {\n\t\t\t\tthis._onMove = L.Util.throttle(this._onMoveEnd, this.options.updateInterval, this);\n\t\t\t}\n\n\t\t\tevents.move = this._onMove;\n\t\t}\n\n\t\tif (this._zoomAnimated) {\n\t\t\tevents.zoomanim = this._animateZoom;\n\t\t}\n\n\t\treturn events;\n\t},\n\n\t// @section Extension methods\n\t// Layers extending `GridLayer` shall reimplement the following method.\n\t// @method createTile(coords: Object, done?: Function): HTMLElement\n\t// Called only internally, must be overriden by classes extending `GridLayer`.\n\t// Returns the `HTMLElement` corresponding to the given `coords`. If the `done` callback\n\t// is specified, it must be called when the tile has finished loading and drawing.\n\tcreateTile: function () {\n\t\treturn document.createElement('div');\n\t},\n\n\t// @section\n\t// @method getTileSize: Point\n\t// Normalizes the [tileSize option](#gridlayer-tilesize) into a point. Used by the `createTile()` method.\n\tgetTileSize: function () {\n\t\tvar s = this.options.tileSize;\n\t\treturn s instanceof L.Point ? s : new L.Point(s, s);\n\t},\n\n\t_updateZIndex: function () {\n\t\tif (this._container && this.options.zIndex !== undefined && this.options.zIndex !== null) {\n\t\t\tthis._container.style.zIndex = this.options.zIndex;\n\t\t}\n\t},\n\n\t_setAutoZIndex: function (compare) {\n\t\t// go through all other layers of the same pane, set zIndex to max + 1 (front) or min - 1 (back)\n\n\t\tvar layers = this.getPane().children,\n\t\t    edgeZIndex = -compare(-Infinity, Infinity); // -Infinity for max, Infinity for min\n\n\t\tfor (var i = 0, len = layers.length, zIndex; i < len; i++) {\n\n\t\t\tzIndex = layers[i].style.zIndex;\n\n\t\t\tif (layers[i] !== this._container && zIndex) {\n\t\t\t\tedgeZIndex = compare(edgeZIndex, +zIndex);\n\t\t\t}\n\t\t}\n\n\t\tif (isFinite(edgeZIndex)) {\n\t\t\tthis.options.zIndex = edgeZIndex + compare(-1, 1);\n\t\t\tthis._updateZIndex();\n\t\t}\n\t},\n\n\t_updateOpacity: function () {\n\t\tif (!this._map) { return; }\n\n\t\t// IE doesn't inherit filter opacity properly, so we're forced to set it on tiles\n\t\tif (L.Browser.ielt9) { return; }\n\n\t\tL.DomUtil.setOpacity(this._container, this.options.opacity);\n\n\t\tvar now = +new Date(),\n\t\t    nextFrame = false,\n\t\t    willPrune = false;\n\n\t\tfor (var key in this._tiles) {\n\t\t\tvar tile = this._tiles[key];\n\t\t\tif (!tile.current || !tile.loaded) { continue; }\n\n\t\t\tvar fade = Math.min(1, (now - tile.loaded) / 200);\n\n\t\t\tL.DomUtil.setOpacity(tile.el, fade);\n\t\t\tif (fade < 1) {\n\t\t\t\tnextFrame = true;\n\t\t\t} else {\n\t\t\t\tif (tile.active) { willPrune = true; }\n\t\t\t\ttile.active = true;\n\t\t\t}\n\t\t}\n\n\t\tif (willPrune && !this._noPrune) { this._pruneTiles(); }\n\n\t\tif (nextFrame) {\n\t\t\tL.Util.cancelAnimFrame(this._fadeFrame);\n\t\t\tthis._fadeFrame = L.Util.requestAnimFrame(this._updateOpacity, this);\n\t\t}\n\t},\n\n\t_initContainer: function () {\n\t\tif (this._container) { return; }\n\n\t\tthis._container = L.DomUtil.create('div', 'leaflet-layer ' + (this.options.className || ''));\n\t\tthis._updateZIndex();\n\n\t\tif (this.options.opacity < 1) {\n\t\t\tthis._updateOpacity();\n\t\t}\n\n\t\tthis.getPane().appendChild(this._container);\n\t},\n\n\t_updateLevels: function () {\n\n\t\tvar zoom = this._tileZoom,\n\t\t    maxZoom = this.options.maxZoom;\n\n\t\tif (zoom === undefined) { return undefined; }\n\n\t\tfor (var z in this._levels) {\n\t\t\tif (this._levels[z].el.children.length || z === zoom) {\n\t\t\t\tthis._levels[z].el.style.zIndex = maxZoom - Math.abs(zoom - z);\n\t\t\t} else {\n\t\t\t\tL.DomUtil.remove(this._levels[z].el);\n\t\t\t\tthis._removeTilesAtZoom(z);\n\t\t\t\tdelete this._levels[z];\n\t\t\t}\n\t\t}\n\n\t\tvar level = this._levels[zoom],\n\t\t    map = this._map;\n\n\t\tif (!level) {\n\t\t\tlevel = this._levels[zoom] = {};\n\n\t\t\tlevel.el = L.DomUtil.create('div', 'leaflet-tile-container leaflet-zoom-animated', this._container);\n\t\t\tlevel.el.style.zIndex = maxZoom;\n\n\t\t\tlevel.origin = map.project(map.unproject(map.getPixelOrigin()), zoom).round();\n\t\t\tlevel.zoom = zoom;\n\n\t\t\tthis._setZoomTransform(level, map.getCenter(), map.getZoom());\n\n\t\t\t// force the browser to consider the newly added element for transition\n\t\t\tL.Util.falseFn(level.el.offsetWidth);\n\t\t}\n\n\t\tthis._level = level;\n\n\t\treturn level;\n\t},\n\n\t_pruneTiles: function () {\n\t\tif (!this._map) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar key, tile;\n\n\t\tvar zoom = this._map.getZoom();\n\t\tif (zoom > this.options.maxZoom ||\n\t\t\tzoom < this.options.minZoom) {\n\t\t\tthis._removeAllTiles();\n\t\t\treturn;\n\t\t}\n\n\t\tfor (key in this._tiles) {\n\t\t\ttile = this._tiles[key];\n\t\t\ttile.retain = tile.current;\n\t\t}\n\n\t\tfor (key in this._tiles) {\n\t\t\ttile = this._tiles[key];\n\t\t\tif (tile.current && !tile.active) {\n\t\t\t\tvar coords = tile.coords;\n\t\t\t\tif (!this._retainParent(coords.x, coords.y, coords.z, coords.z - 5)) {\n\t\t\t\t\tthis._retainChildren(coords.x, coords.y, coords.z, coords.z + 2);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfor (key in this._tiles) {\n\t\t\tif (!this._tiles[key].retain) {\n\t\t\t\tthis._removeTile(key);\n\t\t\t}\n\t\t}\n\t},\n\n\t_removeTilesAtZoom: function (zoom) {\n\t\tfor (var key in this._tiles) {\n\t\t\tif (this._tiles[key].coords.z !== zoom) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tthis._removeTile(key);\n\t\t}\n\t},\n\n\t_removeAllTiles: function () {\n\t\tfor (var key in this._tiles) {\n\t\t\tthis._removeTile(key);\n\t\t}\n\t},\n\n\t_invalidateAll: function () {\n\t\tfor (var z in this._levels) {\n\t\t\tL.DomUtil.remove(this._levels[z].el);\n\t\t\tdelete this._levels[z];\n\t\t}\n\t\tthis._removeAllTiles();\n\n\t\tthis._tileZoom = null;\n\t},\n\n\t_retainParent: function (x, y, z, minZoom) {\n\t\tvar x2 = Math.floor(x / 2),\n\t\t    y2 = Math.floor(y / 2),\n\t\t    z2 = z - 1,\n\t\t    coords2 = new L.Point(+x2, +y2);\n\t\tcoords2.z = +z2;\n\n\t\tvar key = this._tileCoordsToKey(coords2),\n\t\t    tile = this._tiles[key];\n\n\t\tif (tile && tile.active) {\n\t\t\ttile.retain = true;\n\t\t\treturn true;\n\n\t\t} else if (tile && tile.loaded) {\n\t\t\ttile.retain = true;\n\t\t}\n\n\t\tif (z2 > minZoom) {\n\t\t\treturn this._retainParent(x2, y2, z2, minZoom);\n\t\t}\n\n\t\treturn false;\n\t},\n\n\t_retainChildren: function (x, y, z, maxZoom) {\n\n\t\tfor (var i = 2 * x; i < 2 * x + 2; i++) {\n\t\t\tfor (var j = 2 * y; j < 2 * y + 2; j++) {\n\n\t\t\t\tvar coords = new L.Point(i, j);\n\t\t\t\tcoords.z = z + 1;\n\n\t\t\t\tvar key = this._tileCoordsToKey(coords),\n\t\t\t\t    tile = this._tiles[key];\n\n\t\t\t\tif (tile && tile.active) {\n\t\t\t\t\ttile.retain = true;\n\t\t\t\t\tcontinue;\n\n\t\t\t\t} else if (tile && tile.loaded) {\n\t\t\t\t\ttile.retain = true;\n\t\t\t\t}\n\n\t\t\t\tif (z + 1 < maxZoom) {\n\t\t\t\t\tthis._retainChildren(i, j, z + 1, maxZoom);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t_resetView: function (e) {\n\t\tvar animating = e && (e.pinch || e.flyTo);\n\t\tthis._setView(this._map.getCenter(), this._map.getZoom(), animating, animating);\n\t},\n\n\t_animateZoom: function (e) {\n\t\tthis._setView(e.center, e.zoom, true, e.noUpdate);\n\t},\n\n\t_setView: function (center, zoom, noPrune, noUpdate) {\n\t\tvar tileZoom = Math.round(zoom);\n\t\tif ((this.options.maxZoom !== undefined && tileZoom > this.options.maxZoom) ||\n\t\t    (this.options.minZoom !== undefined && tileZoom < this.options.minZoom)) {\n\t\t\ttileZoom = undefined;\n\t\t}\n\n\t\tvar tileZoomChanged = this.options.updateWhenZooming && (tileZoom !== this._tileZoom);\n\n\t\tif (!noUpdate || tileZoomChanged) {\n\n\t\t\tthis._tileZoom = tileZoom;\n\n\t\t\tif (this._abortLoading) {\n\t\t\t\tthis._abortLoading();\n\t\t\t}\n\n\t\t\tthis._updateLevels();\n\t\t\tthis._resetGrid();\n\n\t\t\tif (tileZoom !== undefined) {\n\t\t\t\tthis._update(center);\n\t\t\t}\n\n\t\t\tif (!noPrune) {\n\t\t\t\tthis._pruneTiles();\n\t\t\t}\n\n\t\t\t// Flag to prevent _updateOpacity from pruning tiles during\n\t\t\t// a zoom anim or a pinch gesture\n\t\t\tthis._noPrune = !!noPrune;\n\t\t}\n\n\t\tthis._setZoomTransforms(center, zoom);\n\t},\n\n\t_setZoomTransforms: function (center, zoom) {\n\t\tfor (var i in this._levels) {\n\t\t\tthis._setZoomTransform(this._levels[i], center, zoom);\n\t\t}\n\t},\n\n\t_setZoomTransform: function (level, center, zoom) {\n\t\tvar scale = this._map.getZoomScale(zoom, level.zoom),\n\t\t    translate = level.origin.multiplyBy(scale)\n\t\t        .subtract(this._map._getNewPixelOrigin(center, zoom)).round();\n\n\t\tif (L.Browser.any3d) {\n\t\t\tL.DomUtil.setTransform(level.el, translate, scale);\n\t\t} else {\n\t\t\tL.DomUtil.setPosition(level.el, translate);\n\t\t}\n\t},\n\n\t_resetGrid: function () {\n\t\tvar map = this._map,\n\t\t    crs = map.options.crs,\n\t\t    tileSize = this._tileSize = this.getTileSize(),\n\t\t    tileZoom = this._tileZoom;\n\n\t\tvar bounds = this._map.getPixelWorldBounds(this._tileZoom);\n\t\tif (bounds) {\n\t\t\tthis._globalTileRange = this._pxBoundsToTileRange(bounds);\n\t\t}\n\n\t\tthis._wrapX = crs.wrapLng && !this.options.noWrap && [\n\t\t\tMath.floor(map.project([0, crs.wrapLng[0]], tileZoom).x / tileSize.x),\n\t\t\tMath.ceil(map.project([0, crs.wrapLng[1]], tileZoom).x / tileSize.y)\n\t\t];\n\t\tthis._wrapY = crs.wrapLat && !this.options.noWrap && [\n\t\t\tMath.floor(map.project([crs.wrapLat[0], 0], tileZoom).y / tileSize.x),\n\t\t\tMath.ceil(map.project([crs.wrapLat[1], 0], tileZoom).y / tileSize.y)\n\t\t];\n\t},\n\n\t_onMoveEnd: function () {\n\t\tif (!this._map || this._map._animatingZoom) { return; }\n\n\t\tthis._update();\n\t},\n\n\t_getTiledPixelBounds: function (center) {\n\t\tvar map = this._map,\n\t\t    mapZoom = map._animatingZoom ? Math.max(map._animateToZoom, map.getZoom()) : map.getZoom(),\n\t\t    scale = map.getZoomScale(mapZoom, this._tileZoom),\n\t\t    pixelCenter = map.project(center, this._tileZoom).floor(),\n\t\t    halfSize = map.getSize().divideBy(scale * 2);\n\n\t\treturn new L.Bounds(pixelCenter.subtract(halfSize), pixelCenter.add(halfSize));\n\t},\n\n\t// Private method to load tiles in the grid's active zoom level according to map bounds\n\t_update: function (center) {\n\t\tvar map = this._map;\n\t\tif (!map) { return; }\n\t\tvar zoom = map.getZoom();\n\n\t\tif (center === undefined) { center = map.getCenter(); }\n\t\tif (this._tileZoom === undefined) { return; }\t// if out of minzoom/maxzoom\n\n\t\tvar pixelBounds = this._getTiledPixelBounds(center),\n\t\t    tileRange = this._pxBoundsToTileRange(pixelBounds),\n\t\t    tileCenter = tileRange.getCenter(),\n\t\t    queue = [],\n\t\t    margin = this.options.keepBuffer,\n\t\t    noPruneRange = new L.Bounds(tileRange.getBottomLeft().subtract([margin, -margin]),\n\t\t                              tileRange.getTopRight().add([margin, -margin]));\n\n\t\tfor (var key in this._tiles) {\n\t\t\tvar c = this._tiles[key].coords;\n\t\t\tif (c.z !== this._tileZoom || !noPruneRange.contains(L.point(c.x, c.y))) {\n\t\t\t\tthis._tiles[key].current = false;\n\t\t\t}\n\t\t}\n\n\t\t// _update just loads more tiles. If the tile zoom level differs too much\n\t\t// from the map's, let _setView reset levels and prune old tiles.\n\t\tif (Math.abs(zoom - this._tileZoom) > 1) { this._setView(center, zoom); return; }\n\n\t\t// create a queue of coordinates to load tiles from\n\t\tfor (var j = tileRange.min.y; j <= tileRange.max.y; j++) {\n\t\t\tfor (var i = tileRange.min.x; i <= tileRange.max.x; i++) {\n\t\t\t\tvar coords = new L.Point(i, j);\n\t\t\t\tcoords.z = this._tileZoom;\n\n\t\t\t\tif (!this._isValidTile(coords)) { continue; }\n\n\t\t\t\tvar tile = this._tiles[this._tileCoordsToKey(coords)];\n\t\t\t\tif (tile) {\n\t\t\t\t\ttile.current = true;\n\t\t\t\t} else {\n\t\t\t\t\tqueue.push(coords);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// sort tile queue to load tiles in order of their distance to center\n\t\tqueue.sort(function (a, b) {\n\t\t\treturn a.distanceTo(tileCenter) - b.distanceTo(tileCenter);\n\t\t});\n\n\t\tif (queue.length !== 0) {\n\t\t\t// if it's the first batch of tiles to load\n\t\t\tif (!this._loading) {\n\t\t\t\tthis._loading = true;\n\t\t\t\t// @event loading: Event\n\t\t\t\t// Fired when the grid layer starts loading tiles.\n\t\t\t\tthis.fire('loading');\n\t\t\t}\n\n\t\t\t// create DOM fragment to append tiles in one batch\n\t\t\tvar fragment = document.createDocumentFragment();\n\n\t\t\tfor (i = 0; i < queue.length; i++) {\n\t\t\t\tthis._addTile(queue[i], fragment);\n\t\t\t}\n\n\t\t\tthis._level.el.appendChild(fragment);\n\t\t}\n\t},\n\n\t_isValidTile: function (coords) {\n\t\tvar crs = this._map.options.crs;\n\n\t\tif (!crs.infinite) {\n\t\t\t// don't load tile if it's out of bounds and not wrapped\n\t\t\tvar bounds = this._globalTileRange;\n\t\t\tif ((!crs.wrapLng && (coords.x < bounds.min.x || coords.x > bounds.max.x)) ||\n\t\t\t    (!crs.wrapLat && (coords.y < bounds.min.y || coords.y > bounds.max.y))) { return false; }\n\t\t}\n\n\t\tif (!this.options.bounds) { return true; }\n\n\t\t// don't load tile if it doesn't intersect the bounds in options\n\t\tvar tileBounds = this._tileCoordsToBounds(coords);\n\t\treturn L.latLngBounds(this.options.bounds).overlaps(tileBounds);\n\t},\n\n\t_keyToBounds: function (key) {\n\t\treturn this._tileCoordsToBounds(this._keyToTileCoords(key));\n\t},\n\n\t// converts tile coordinates to its geographical bounds\n\t_tileCoordsToBounds: function (coords) {\n\n\t\tvar map = this._map,\n\t\t    tileSize = this.getTileSize(),\n\n\t\t    nwPoint = coords.scaleBy(tileSize),\n\t\t    sePoint = nwPoint.add(tileSize),\n\n\t\t    nw = map.unproject(nwPoint, coords.z),\n\t\t    se = map.unproject(sePoint, coords.z);\n\n\t\tif (!this.options.noWrap) {\n\t\t\tnw = map.wrapLatLng(nw);\n\t\t\tse = map.wrapLatLng(se);\n\t\t}\n\n\t\treturn new L.LatLngBounds(nw, se);\n\t},\n\n\t// converts tile coordinates to key for the tile cache\n\t_tileCoordsToKey: function (coords) {\n\t\treturn coords.x + ':' + coords.y + ':' + coords.z;\n\t},\n\n\t// converts tile cache key to coordinates\n\t_keyToTileCoords: function (key) {\n\t\tvar k = key.split(':'),\n\t\t    coords = new L.Point(+k[0], +k[1]);\n\t\tcoords.z = +k[2];\n\t\treturn coords;\n\t},\n\n\t_removeTile: function (key) {\n\t\tvar tile = this._tiles[key];\n\t\tif (!tile) { return; }\n\n\t\tL.DomUtil.remove(tile.el);\n\n\t\tdelete this._tiles[key];\n\n\t\t// @event tileunload: TileEvent\n\t\t// Fired when a tile is removed (e.g. when a tile goes off the screen).\n\t\tthis.fire('tileunload', {\n\t\t\ttile: tile.el,\n\t\t\tcoords: this._keyToTileCoords(key)\n\t\t});\n\t},\n\n\t_initTile: function (tile) {\n\t\tL.DomUtil.addClass(tile, 'leaflet-tile');\n\n\t\tvar tileSize = this.getTileSize();\n\t\ttile.style.width = tileSize.x + 'px';\n\t\ttile.style.height = tileSize.y + 'px';\n\n\t\ttile.onselectstart = L.Util.falseFn;\n\t\ttile.onmousemove = L.Util.falseFn;\n\n\t\t// update opacity on tiles in IE7-8 because of filter inheritance problems\n\t\tif (L.Browser.ielt9 && this.options.opacity < 1) {\n\t\t\tL.DomUtil.setOpacity(tile, this.options.opacity);\n\t\t}\n\n\t\t// without this hack, tiles disappear after zoom on Chrome for Android\n\t\t// https://github.com/Leaflet/Leaflet/issues/2078\n\t\tif (L.Browser.android && !L.Browser.android23) {\n\t\t\ttile.style.WebkitBackfaceVisibility = 'hidden';\n\t\t}\n\t},\n\n\t_addTile: function (coords, container) {\n\t\tvar tilePos = this._getTilePos(coords),\n\t\t    key = this._tileCoordsToKey(coords);\n\n\t\tvar tile = this.createTile(this._wrapCoords(coords), L.bind(this._tileReady, this, coords));\n\n\t\tthis._initTile(tile);\n\n\t\t// if createTile is defined with a second argument (\"done\" callback),\n\t\t// we know that tile is async and will be ready later; otherwise\n\t\tif (this.createTile.length < 2) {\n\t\t\t// mark tile as ready, but delay one frame for opacity animation to happen\n\t\t\tL.Util.requestAnimFrame(L.bind(this._tileReady, this, coords, null, tile));\n\t\t}\n\n\t\tL.DomUtil.setPosition(tile, tilePos);\n\n\t\t// save tile in cache\n\t\tthis._tiles[key] = {\n\t\t\tel: tile,\n\t\t\tcoords: coords,\n\t\t\tcurrent: true\n\t\t};\n\n\t\tcontainer.appendChild(tile);\n\t\t// @event tileloadstart: TileEvent\n\t\t// Fired when a tile is requested and starts loading.\n\t\tthis.fire('tileloadstart', {\n\t\t\ttile: tile,\n\t\t\tcoords: coords\n\t\t});\n\t},\n\n\t_tileReady: function (coords, err, tile) {\n\t\tif (!this._map) { return; }\n\n\t\tif (err) {\n\t\t\t// @event tileerror: TileErrorEvent\n\t\t\t// Fired when there is an error loading a tile.\n\t\t\tthis.fire('tileerror', {\n\t\t\t\terror: err,\n\t\t\t\ttile: tile,\n\t\t\t\tcoords: coords\n\t\t\t});\n\t\t}\n\n\t\tvar key = this._tileCoordsToKey(coords);\n\n\t\ttile = this._tiles[key];\n\t\tif (!tile) { return; }\n\n\t\ttile.loaded = +new Date();\n\t\tif (this._map._fadeAnimated) {\n\t\t\tL.DomUtil.setOpacity(tile.el, 0);\n\t\t\tL.Util.cancelAnimFrame(this._fadeFrame);\n\t\t\tthis._fadeFrame = L.Util.requestAnimFrame(this._updateOpacity, this);\n\t\t} else {\n\t\t\ttile.active = true;\n\t\t\tthis._pruneTiles();\n\t\t}\n\n\t\tif (!err) {\n\t\t\tL.DomUtil.addClass(tile.el, 'leaflet-tile-loaded');\n\n\t\t\t// @event tileload: TileEvent\n\t\t\t// Fired when a tile loads.\n\t\t\tthis.fire('tileload', {\n\t\t\t\ttile: tile.el,\n\t\t\t\tcoords: coords\n\t\t\t});\n\t\t}\n\n\t\tif (this._noTilesToLoad()) {\n\t\t\tthis._loading = false;\n\t\t\t// @event load: Event\n\t\t\t// Fired when the grid layer loaded all visible tiles.\n\t\t\tthis.fire('load');\n\n\t\t\tif (L.Browser.ielt9 || !this._map._fadeAnimated) {\n\t\t\t\tL.Util.requestAnimFrame(this._pruneTiles, this);\n\t\t\t} else {\n\t\t\t\t// Wait a bit more than 0.2 secs (the duration of the tile fade-in)\n\t\t\t\t// to trigger a pruning.\n\t\t\t\tsetTimeout(L.bind(this._pruneTiles, this), 250);\n\t\t\t}\n\t\t}\n\t},\n\n\t_getTilePos: function (coords) {\n\t\treturn coords.scaleBy(this.getTileSize()).subtract(this._level.origin);\n\t},\n\n\t_wrapCoords: function (coords) {\n\t\tvar newCoords = new L.Point(\n\t\t\tthis._wrapX ? L.Util.wrapNum(coords.x, this._wrapX) : coords.x,\n\t\t\tthis._wrapY ? L.Util.wrapNum(coords.y, this._wrapY) : coords.y);\n\t\tnewCoords.z = coords.z;\n\t\treturn newCoords;\n\t},\n\n\t_pxBoundsToTileRange: function (bounds) {\n\t\tvar tileSize = this.getTileSize();\n\t\treturn new L.Bounds(\n\t\t\tbounds.min.unscaleBy(tileSize).floor(),\n\t\t\tbounds.max.unscaleBy(tileSize).ceil().subtract([1, 1]));\n\t},\n\n\t_noTilesToLoad: function () {\n\t\tfor (var key in this._tiles) {\n\t\t\tif (!this._tiles[key].loaded) { return false; }\n\t\t}\n\t\treturn true;\n\t}\n});\n\n// @factory L.gridLayer(options?: GridLayer options)\n// Creates a new instance of GridLayer with the supplied options.\nL.gridLayer = function (options) {\n\treturn new L.GridLayer(options);\n};\n\n/*\r\n * @class TileLayer\r\n * @inherits GridLayer\r\n * @aka L.TileLayer\r\n * Used to load and display tile layers on the map. Extends `GridLayer`.\r\n *\r\n * @example\r\n *\r\n * ```js\r\n * L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png?{foo}', {foo: 'bar'}).addTo(map);\r\n * ```\r\n *\r\n * @section URL template\r\n * @example\r\n *\r\n * A string of the following form:\r\n *\r\n * ```\r\n * 'http://{s}.somedomain.com/blabla/{z}/{x}/{y}{r}.png'\r\n * ```\r\n *\r\n * `{s}` means one of the available subdomains (used sequentially to help with browser parallel requests per domain limitation; subdomain values are specified in options; `a`, `b` or `c` by default, can be omitted), `{z}` — zoom level, `{x}` and `{y}` — tile coordinates. `{r}` can be used to add @2x to the URL to load retina tiles.\r\n *\r\n * You can use custom keys in the template, which will be [evaluated](#util-template) from TileLayer options, like this:\r\n *\r\n * ```\r\n * L.tileLayer('http://{s}.somedomain.com/{foo}/{z}/{x}/{y}.png', {foo: 'bar'});\r\n * ```\r\n */\r\n\r\n\r\nL.TileLayer = L.GridLayer.extend({\r\n\r\n\t// @section\r\n\t// @aka TileLayer options\r\n\toptions: {\r\n\t\t// @option minZoom: Number = 0\r\n\t\t// Minimum zoom number.\r\n\t\tminZoom: 0,\r\n\r\n\t\t// @option maxZoom: Number = 18\r\n\t\t// Maximum zoom number.\r\n\t\tmaxZoom: 18,\r\n\r\n\t\t// @option maxNativeZoom: Number = null\r\n\t\t// Maximum zoom number the tile source has available. If it is specified,\r\n\t\t// the tiles on all zoom levels higher than `maxNativeZoom` will be loaded\r\n\t\t// from `maxNativeZoom` level and auto-scaled.\r\n\t\tmaxNativeZoom: null,\r\n\r\n\t\t// @option subdomains: String|String[] = 'abc'\r\n\t\t// Subdomains of the tile service. Can be passed in the form of one string (where each letter is a subdomain name) or an array of strings.\r\n\t\tsubdomains: 'abc',\r\n\r\n\t\t// @option errorTileUrl: String = ''\r\n\t\t// URL to the tile image to show in place of the tile that failed to load.\r\n\t\terrorTileUrl: '',\r\n\r\n\t\t// @option zoomOffset: Number = 0\r\n\t\t// The zoom number used in tile URLs will be offset with this value.\r\n\t\tzoomOffset: 0,\r\n\r\n\t\t// @option tms: Boolean = false\r\n\t\t// If `true`, inverses Y axis numbering for tiles (turn this on for [TMS](https://en.wikipedia.org/wiki/Tile_Map_Service) services).\r\n\t\ttms: false,\r\n\r\n\t\t// @option zoomReverse: Boolean = false\r\n\t\t// If set to true, the zoom number used in tile URLs will be reversed (`maxZoom - zoom` instead of `zoom`)\r\n\t\tzoomReverse: false,\r\n\r\n\t\t// @option detectRetina: Boolean = false\r\n\t\t// If `true` and user is on a retina display, it will request four tiles of half the specified size and a bigger zoom level in place of one to utilize the high resolution.\r\n\t\tdetectRetina: false,\r\n\r\n\t\t// @option crossOrigin: Boolean = false\r\n\t\t// If true, all tiles will have their crossOrigin attribute set to ''. This is needed if you want to access tile pixel data.\r\n\t\tcrossOrigin: false\r\n\t},\r\n\r\n\tinitialize: function (url, options) {\r\n\r\n\t\tthis._url = url;\r\n\r\n\t\toptions = L.setOptions(this, options);\r\n\r\n\t\t// detecting retina displays, adjusting tileSize and zoom levels\r\n\t\tif (options.detectRetina && L.Browser.retina && options.maxZoom > 0) {\r\n\r\n\t\t\toptions.tileSize = Math.floor(options.tileSize / 2);\r\n\r\n\t\t\tif (!options.zoomReverse) {\r\n\t\t\t\toptions.zoomOffset++;\r\n\t\t\t\toptions.maxZoom--;\r\n\t\t\t} else {\r\n\t\t\t\toptions.zoomOffset--;\r\n\t\t\t\toptions.minZoom++;\r\n\t\t\t}\r\n\r\n\t\t\toptions.minZoom = Math.max(0, options.minZoom);\r\n\t\t}\r\n\r\n\t\tif (typeof options.subdomains === 'string') {\r\n\t\t\toptions.subdomains = options.subdomains.split('');\r\n\t\t}\r\n\r\n\t\t// for https://github.com/Leaflet/Leaflet/issues/137\r\n\t\tif (!L.Browser.android) {\r\n\t\t\tthis.on('tileunload', this._onTileRemove);\r\n\t\t}\r\n\t},\r\n\r\n\t// @method setUrl(url: String, noRedraw?: Boolean): this\r\n\t// Updates the layer's URL template and redraws it (unless `noRedraw` is set to `true`).\r\n\tsetUrl: function (url, noRedraw) {\r\n\t\tthis._url = url;\r\n\r\n\t\tif (!noRedraw) {\r\n\t\t\tthis.redraw();\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method createTile(coords: Object, done?: Function): HTMLElement\r\n\t// Called only internally, overrides GridLayer's [`createTile()`](#gridlayer-createtile)\r\n\t// to return an `<img>` HTML element with the appropiate image URL given `coords`. The `done`\r\n\t// callback is called when the tile has been loaded.\r\n\tcreateTile: function (coords, done) {\r\n\t\tvar tile = document.createElement('img');\r\n\r\n\t\tL.DomEvent.on(tile, 'load', L.bind(this._tileOnLoad, this, done, tile));\r\n\t\tL.DomEvent.on(tile, 'error', L.bind(this._tileOnError, this, done, tile));\r\n\r\n\t\tif (this.options.crossOrigin) {\r\n\t\t\ttile.crossOrigin = '';\r\n\t\t}\r\n\r\n\t\t/*\r\n\t\t Alt tag is set to empty string to keep screen readers from reading URL and for compliance reasons\r\n\t\t http://www.w3.org/TR/WCAG20-TECHS/H67\r\n\t\t*/\r\n\t\ttile.alt = '';\r\n\r\n\t\ttile.src = this.getTileUrl(coords);\r\n\r\n\t\treturn tile;\r\n\t},\r\n\r\n\t// @section Extension methods\r\n\t// @uninheritable\r\n\t// Layers extending `TileLayer` might reimplement the following method.\r\n\t// @method getTileUrl(coords: Object): String\r\n\t// Called only internally, returns the URL for a tile given its coordinates.\r\n\t// Classes extending `TileLayer` can override this function to provide custom tile URL naming schemes.\r\n\tgetTileUrl: function (coords) {\r\n\t\tvar data = {\r\n\t\t\tr: L.Browser.retina ? '@2x' : '',\r\n\t\t\ts: this._getSubdomain(coords),\r\n\t\t\tx: coords.x,\r\n\t\t\ty: coords.y,\r\n\t\t\tz: this._getZoomForUrl()\r\n\t\t};\r\n\t\tif (this._map && !this._map.options.crs.infinite) {\r\n\t\t\tvar invertedY = this._globalTileRange.max.y - coords.y;\r\n\t\t\tif (this.options.tms) {\r\n\t\t\t\tdata['y'] = invertedY;\r\n\t\t\t}\r\n\t\t\tdata['-y'] = invertedY;\r\n\t\t}\r\n\r\n\t\treturn L.Util.template(this._url, L.extend(data, this.options));\r\n\t},\r\n\r\n\t_tileOnLoad: function (done, tile) {\r\n\t\t// For https://github.com/Leaflet/Leaflet/issues/3332\r\n\t\tif (L.Browser.ielt9) {\r\n\t\t\tsetTimeout(L.bind(done, this, null, tile), 0);\r\n\t\t} else {\r\n\t\t\tdone(null, tile);\r\n\t\t}\r\n\t},\r\n\r\n\t_tileOnError: function (done, tile, e) {\r\n\t\tvar errorUrl = this.options.errorTileUrl;\r\n\t\tif (errorUrl) {\r\n\t\t\ttile.src = errorUrl;\r\n\t\t}\r\n\t\tdone(e, tile);\r\n\t},\r\n\r\n\tgetTileSize: function () {\r\n\t\tvar map = this._map,\r\n\t\t    tileSize = L.GridLayer.prototype.getTileSize.call(this),\r\n\t\t    zoom = this._tileZoom + this.options.zoomOffset,\r\n\t\t    zoomN = this.options.maxNativeZoom;\r\n\r\n\t\t// increase tile size when overscaling\r\n\t\treturn zoomN !== null && zoom > zoomN ?\r\n\t\t\t\ttileSize.divideBy(map.getZoomScale(zoomN, zoom)).round() :\r\n\t\t\t\ttileSize;\r\n\t},\r\n\r\n\t_onTileRemove: function (e) {\r\n\t\te.tile.onload = null;\r\n\t},\r\n\r\n\t_getZoomForUrl: function () {\r\n\r\n\t\tvar options = this.options,\r\n\t\t    zoom = this._tileZoom;\r\n\r\n\t\tif (options.zoomReverse) {\r\n\t\t\tzoom = options.maxZoom - zoom;\r\n\t\t}\r\n\r\n\t\tzoom += options.zoomOffset;\r\n\r\n\t\treturn options.maxNativeZoom !== null ? Math.min(zoom, options.maxNativeZoom) : zoom;\r\n\t},\r\n\r\n\t_getSubdomain: function (tilePoint) {\r\n\t\tvar index = Math.abs(tilePoint.x + tilePoint.y) % this.options.subdomains.length;\r\n\t\treturn this.options.subdomains[index];\r\n\t},\r\n\r\n\t// stops loading all tiles in the background layer\r\n\t_abortLoading: function () {\r\n\t\tvar i, tile;\r\n\t\tfor (i in this._tiles) {\r\n\t\t\tif (this._tiles[i].coords.z !== this._tileZoom) {\r\n\t\t\t\ttile = this._tiles[i].el;\r\n\r\n\t\t\t\ttile.onload = L.Util.falseFn;\r\n\t\t\t\ttile.onerror = L.Util.falseFn;\r\n\r\n\t\t\t\tif (!tile.complete) {\r\n\t\t\t\t\ttile.src = L.Util.emptyImageUrl;\r\n\t\t\t\t\tL.DomUtil.remove(tile);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n});\r\n\r\n\r\n// @factory L.tilelayer(urlTemplate: String, options?: TileLayer options)\r\n// Instantiates a tile layer object given a `URL template` and optionally an options object.\r\n\r\nL.tileLayer = function (url, options) {\r\n\treturn new L.TileLayer(url, options);\r\n};\r\n\n/*\r\n * @class TileLayer.WMS\r\n * @inherits TileLayer\r\n * @aka L.TileLayer.WMS\r\n * Used to display [WMS](https://en.wikipedia.org/wiki/Web_Map_Service) services as tile layers on the map. Extends `TileLayer`.\r\n *\r\n * @example\r\n *\r\n * ```js\r\n * var nexrad = L.tileLayer.wms(\"http://mesonet.agron.iastate.edu/cgi-bin/wms/nexrad/n0r.cgi\", {\r\n * \tlayers: 'nexrad-n0r-900913',\r\n * \tformat: 'image/png',\r\n * \ttransparent: true,\r\n * \tattribution: \"Weather data © 2012 IEM Nexrad\"\r\n * });\r\n * ```\r\n */\r\n\r\nL.TileLayer.WMS = L.TileLayer.extend({\r\n\r\n\t// @section\r\n\t// @aka TileLayer.WMS options\r\n\t// If any custom options not documented here are used, they will be sent to the\r\n\t// WMS server as extra parameters in each request URL. This can be useful for\r\n\t// [non-standard vendor WMS parameters](http://docs.geoserver.org/stable/en/user/services/wms/vendor.html).\r\n\tdefaultWmsParams: {\r\n\t\tservice: 'WMS',\r\n\t\trequest: 'GetMap',\r\n\r\n\t\t// @option layers: String = ''\r\n\t\t// **(required)** Comma-separated list of WMS layers to show.\r\n\t\tlayers: '',\r\n\r\n\t\t// @option styles: String = ''\r\n\t\t// Comma-separated list of WMS styles.\r\n\t\tstyles: '',\r\n\r\n\t\t// @option format: String = 'image/jpeg'\r\n\t\t// WMS image format (use `'image/png'` for layers with transparency).\r\n\t\tformat: 'image/jpeg',\r\n\r\n\t\t// @option transparent: Boolean = false\r\n\t\t// If `true`, the WMS service will return images with transparency.\r\n\t\ttransparent: false,\r\n\r\n\t\t// @option version: String = '1.1.1'\r\n\t\t// Version of the WMS service to use\r\n\t\tversion: '1.1.1'\r\n\t},\r\n\r\n\toptions: {\r\n\t\t// @option crs: CRS = null\r\n\t\t// Coordinate Reference System to use for the WMS requests, defaults to\r\n\t\t// map CRS. Don't change this if you're not sure what it means.\r\n\t\tcrs: null,\r\n\r\n\t\t// @option uppercase: Boolean = false\r\n\t\t// If `true`, WMS request parameter keys will be uppercase.\r\n\t\tuppercase: false\r\n\t},\r\n\r\n\tinitialize: function (url, options) {\r\n\r\n\t\tthis._url = url;\r\n\r\n\t\tvar wmsParams = L.extend({}, this.defaultWmsParams);\r\n\r\n\t\t// all keys that are not TileLayer options go to WMS params\r\n\t\tfor (var i in options) {\r\n\t\t\tif (!(i in this.options)) {\r\n\t\t\t\twmsParams[i] = options[i];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\toptions = L.setOptions(this, options);\r\n\r\n\t\twmsParams.width = wmsParams.height = options.tileSize * (options.detectRetina && L.Browser.retina ? 2 : 1);\r\n\r\n\t\tthis.wmsParams = wmsParams;\r\n\t},\r\n\r\n\tonAdd: function (map) {\r\n\r\n\t\tthis._crs = this.options.crs || map.options.crs;\r\n\t\tthis._wmsVersion = parseFloat(this.wmsParams.version);\r\n\r\n\t\tvar projectionKey = this._wmsVersion >= 1.3 ? 'crs' : 'srs';\r\n\t\tthis.wmsParams[projectionKey] = this._crs.code;\r\n\r\n\t\tL.TileLayer.prototype.onAdd.call(this, map);\r\n\t},\r\n\r\n\tgetTileUrl: function (coords) {\r\n\r\n\t\tvar tileBounds = this._tileCoordsToBounds(coords),\r\n\t\t    nw = this._crs.project(tileBounds.getNorthWest()),\r\n\t\t    se = this._crs.project(tileBounds.getSouthEast()),\r\n\r\n\t\t    bbox = (this._wmsVersion >= 1.3 && this._crs === L.CRS.EPSG4326 ?\r\n\t\t\t    [se.y, nw.x, nw.y, se.x] :\r\n\t\t\t    [nw.x, se.y, se.x, nw.y]).join(','),\r\n\r\n\t\t    url = L.TileLayer.prototype.getTileUrl.call(this, coords);\r\n\r\n\t\treturn url +\r\n\t\t\tL.Util.getParamString(this.wmsParams, url, this.options.uppercase) +\r\n\t\t\t(this.options.uppercase ? '&BBOX=' : '&bbox=') + bbox;\r\n\t},\r\n\r\n\t// @method setParams(params: Object, noRedraw?: Boolean): this\r\n\t// Merges an object with the new parameters and re-requests tiles on the current screen (unless `noRedraw` was set to true).\r\n\tsetParams: function (params, noRedraw) {\r\n\r\n\t\tL.extend(this.wmsParams, params);\r\n\r\n\t\tif (!noRedraw) {\r\n\t\t\tthis.redraw();\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t}\r\n});\r\n\r\n\r\n// @factory L.tileLayer.wms(baseUrl: String, options: TileLayer.WMS options)\r\n// Instantiates a WMS tile layer object given a base URL of the WMS service and a WMS parameters/options object.\r\nL.tileLayer.wms = function (url, options) {\r\n\treturn new L.TileLayer.WMS(url, options);\r\n};\r\n\n/*\r\n * @class ImageOverlay\r\n * @aka L.ImageOverlay\r\n * @inherits Interactive layer\r\n *\r\n * Used to load and display a single image over specific bounds of the map. Extends `Layer`.\r\n *\r\n * @example\r\n *\r\n * ```js\r\n * var imageUrl = 'http://www.lib.utexas.edu/maps/historical/newark_nj_1922.jpg',\r\n * \timageBounds = [[40.712216, -74.22655], [40.773941, -74.12544]];\r\n * L.imageOverlay(imageUrl, imageBounds).addTo(map);\r\n * ```\r\n */\r\n\r\nL.ImageOverlay = L.Layer.extend({\r\n\r\n\t// @section\r\n\t// @aka ImageOverlay options\r\n\toptions: {\r\n\t\t// @option opacity: Number = 1.0\r\n\t\t// The opacity of the image overlay.\r\n\t\topacity: 1,\r\n\r\n\t\t// @option alt: String = ''\r\n\t\t// Text for the `alt` attribute of the image (useful for accessibility).\r\n\t\talt: '',\r\n\r\n\t\t// @option interactive: Boolean = false\r\n\t\t// If `true`, the image overlay will emit [mouse events](#interactive-layer) when clicked or hovered.\r\n\t\tinteractive: false,\r\n\r\n\t\t// @option attribution: String = null\r\n\t\t// An optional string containing HTML to be shown on the `Attribution control`\r\n\t\tattribution: null,\r\n\r\n\t\t// @option crossOrigin: Boolean = false\r\n\t\t// If true, the image will have its crossOrigin attribute set to ''. This is needed if you want to access image pixel data.\r\n\t\tcrossOrigin: false\r\n\t},\r\n\r\n\tinitialize: function (url, bounds, options) { // (String, LatLngBounds, Object)\r\n\t\tthis._url = url;\r\n\t\tthis._bounds = L.latLngBounds(bounds);\r\n\r\n\t\tL.setOptions(this, options);\r\n\t},\r\n\r\n\tonAdd: function () {\r\n\t\tif (!this._image) {\r\n\t\t\tthis._initImage();\r\n\r\n\t\t\tif (this.options.opacity < 1) {\r\n\t\t\t\tthis._updateOpacity();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (this.options.interactive) {\r\n\t\t\tL.DomUtil.addClass(this._image, 'leaflet-interactive');\r\n\t\t\tthis.addInteractiveTarget(this._image);\r\n\t\t}\r\n\r\n\t\tthis.getPane().appendChild(this._image);\r\n\t\tthis._reset();\r\n\t},\r\n\r\n\tonRemove: function () {\r\n\t\tL.DomUtil.remove(this._image);\r\n\t\tif (this.options.interactive) {\r\n\t\t\tthis.removeInteractiveTarget(this._image);\r\n\t\t}\r\n\t},\r\n\r\n\t// @method setOpacity(opacity: Number): this\r\n\t// Sets the opacity of the overlay.\r\n\tsetOpacity: function (opacity) {\r\n\t\tthis.options.opacity = opacity;\r\n\r\n\t\tif (this._image) {\r\n\t\t\tthis._updateOpacity();\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\tsetStyle: function (styleOpts) {\r\n\t\tif (styleOpts.opacity) {\r\n\t\t\tthis.setOpacity(styleOpts.opacity);\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method bringToFront(): this\r\n\t// Brings the layer to the top of all overlays.\r\n\tbringToFront: function () {\r\n\t\tif (this._map) {\r\n\t\t\tL.DomUtil.toFront(this._image);\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method bringToBack(): this\r\n\t// Brings the layer to the bottom of all overlays.\r\n\tbringToBack: function () {\r\n\t\tif (this._map) {\r\n\t\t\tL.DomUtil.toBack(this._image);\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method setUrl(url: String): this\r\n\t// Changes the URL of the image.\r\n\tsetUrl: function (url) {\r\n\t\tthis._url = url;\r\n\r\n\t\tif (this._image) {\r\n\t\t\tthis._image.src = url;\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\tsetBounds: function (bounds) {\r\n\t\tthis._bounds = bounds;\r\n\r\n\t\tif (this._map) {\r\n\t\t\tthis._reset();\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\tgetAttribution: function () {\r\n\t\treturn this.options.attribution;\r\n\t},\r\n\r\n\tgetEvents: function () {\r\n\t\tvar events = {\r\n\t\t\tzoom: this._reset,\r\n\t\t\tviewreset: this._reset\r\n\t\t};\r\n\r\n\t\tif (this._zoomAnimated) {\r\n\t\t\tevents.zoomanim = this._animateZoom;\r\n\t\t}\r\n\r\n\t\treturn events;\r\n\t},\r\n\r\n\tgetBounds: function () {\r\n\t\treturn this._bounds;\r\n\t},\r\n\r\n\tgetElement: function () {\r\n\t\treturn this._image;\r\n\t},\r\n\r\n\t_initImage: function () {\r\n\t\tvar img = this._image = L.DomUtil.create('img',\r\n\t\t\t\t'leaflet-image-layer ' + (this._zoomAnimated ? 'leaflet-zoom-animated' : ''));\r\n\r\n\t\timg.onselectstart = L.Util.falseFn;\r\n\t\timg.onmousemove = L.Util.falseFn;\r\n\r\n\t\timg.onload = L.bind(this.fire, this, 'load');\r\n\r\n\t\tif (this.options.crossOrigin) {\r\n\t\t\timg.crossOrigin = '';\r\n\t\t}\r\n\r\n\t\timg.src = this._url;\r\n\t\timg.alt = this.options.alt;\r\n\t},\r\n\r\n\t_animateZoom: function (e) {\r\n\t\tvar scale = this._map.getZoomScale(e.zoom),\r\n\t\t    offset = this._map._latLngToNewLayerPoint(this._bounds.getNorthWest(), e.zoom, e.center);\r\n\r\n\t\tL.DomUtil.setTransform(this._image, offset, scale);\r\n\t},\r\n\r\n\t_reset: function () {\r\n\t\tvar image = this._image,\r\n\t\t    bounds = new L.Bounds(\r\n\t\t        this._map.latLngToLayerPoint(this._bounds.getNorthWest()),\r\n\t\t        this._map.latLngToLayerPoint(this._bounds.getSouthEast())),\r\n\t\t    size = bounds.getSize();\r\n\r\n\t\tL.DomUtil.setPosition(image, bounds.min);\r\n\r\n\t\timage.style.width  = size.x + 'px';\r\n\t\timage.style.height = size.y + 'px';\r\n\t},\r\n\r\n\t_updateOpacity: function () {\r\n\t\tL.DomUtil.setOpacity(this._image, this.options.opacity);\r\n\t}\r\n});\r\n\r\n// @factory L.imageOverlay(imageUrl: String, bounds: LatLngBounds, options?: ImageOverlay options)\r\n// Instantiates an image overlay object given the URL of the image and the\r\n// geographical bounds it is tied to.\r\nL.imageOverlay = function (url, bounds, options) {\r\n\treturn new L.ImageOverlay(url, bounds, options);\r\n};\r\n\n/*\r\n * @class Icon\r\n * @aka L.Icon\r\n * @inherits Layer\r\n *\r\n * Represents an icon to provide when creating a marker.\r\n *\r\n * @example\r\n *\r\n * ```js\r\n * var myIcon = L.icon({\r\n *     iconUrl: 'my-icon.png',\r\n *     iconRetinaUrl: 'my-icon@2x.png',\r\n *     iconSize: [38, 95],\r\n *     iconAnchor: [22, 94],\r\n *     popupAnchor: [-3, -76],\r\n *     shadowUrl: 'my-icon-shadow.png',\r\n *     shadowRetinaUrl: 'my-icon-shadow@2x.png',\r\n *     shadowSize: [68, 95],\r\n *     shadowAnchor: [22, 94]\r\n * });\r\n *\r\n * L.marker([50.505, 30.57], {icon: myIcon}).addTo(map);\r\n * ```\r\n *\r\n * `L.Icon.Default` extends `L.Icon` and is the blue icon Leaflet uses for markers by default.\r\n *\r\n */\r\n\r\nL.Icon = L.Class.extend({\r\n\r\n\t/* @section\r\n\t * @aka Icon options\r\n\t *\r\n\t * @option iconUrl: String = null\r\n\t * **(required)** The URL to the icon image (absolute or relative to your script path).\r\n\t *\r\n\t * @option iconRetinaUrl: String = null\r\n\t * The URL to a retina sized version of the icon image (absolute or relative to your\r\n\t * script path). Used for Retina screen devices.\r\n\t *\r\n\t * @option iconSize: Point = null\r\n\t * Size of the icon image in pixels.\r\n\t *\r\n\t * @option iconAnchor: Point = null\r\n\t * The coordinates of the \"tip\" of the icon (relative to its top left corner). The icon\r\n\t * will be aligned so that this point is at the marker's geographical location. Centered\r\n\t * by default if size is specified, also can be set in CSS with negative margins.\r\n\t *\r\n\t * @option popupAnchor: Point = null\r\n\t * The coordinates of the point from which popups will \"open\", relative to the icon anchor.\r\n\t *\r\n\t * @option shadowUrl: String = null\r\n\t * The URL to the icon shadow image. If not specified, no shadow image will be created.\r\n\t *\r\n\t * @option shadowRetinaUrl: String = null\r\n\t *\r\n\t * @option shadowSize: Point = null\r\n\t * Size of the shadow image in pixels.\r\n\t *\r\n\t * @option shadowAnchor: Point = null\r\n\t * The coordinates of the \"tip\" of the shadow (relative to its top left corner) (the same\r\n\t * as iconAnchor if not specified).\r\n\t *\r\n\t * @option className: String = ''\r\n\t * A custom class name to assign to both icon and shadow images. Empty by default.\r\n\t */\r\n\r\n\tinitialize: function (options) {\r\n\t\tL.setOptions(this, options);\r\n\t},\r\n\r\n\t// @method createIcon(oldIcon?: HTMLElement): HTMLElement\r\n\t// Called internally when the icon has to be shown, returns a `<img>` HTML element\r\n\t// styled according to the options.\r\n\tcreateIcon: function (oldIcon) {\r\n\t\treturn this._createIcon('icon', oldIcon);\r\n\t},\r\n\r\n\t// @method createShadow(oldIcon?: HTMLElement): HTMLElement\r\n\t// As `createIcon`, but for the shadow beneath it.\r\n\tcreateShadow: function (oldIcon) {\r\n\t\treturn this._createIcon('shadow', oldIcon);\r\n\t},\r\n\r\n\t_createIcon: function (name, oldIcon) {\r\n\t\tvar src = this._getIconUrl(name);\r\n\r\n\t\tif (!src) {\r\n\t\t\tif (name === 'icon') {\r\n\t\t\t\tthrow new Error('iconUrl not set in Icon options (see the docs).');\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tvar img = this._createImg(src, oldIcon && oldIcon.tagName === 'IMG' ? oldIcon : null);\r\n\t\tthis._setIconStyles(img, name);\r\n\r\n\t\treturn img;\r\n\t},\r\n\r\n\t_setIconStyles: function (img, name) {\r\n\t\tvar options = this.options;\r\n\t\tvar sizeOption = options[name + 'Size'];\r\n\r\n\t\tif (typeof sizeOption === 'number') {\r\n\t\t\tsizeOption = [sizeOption, sizeOption];\r\n\t\t}\r\n\r\n\t\tvar size = L.point(sizeOption),\r\n\t\t    anchor = L.point(name === 'shadow' && options.shadowAnchor || options.iconAnchor ||\r\n\t\t            size && size.divideBy(2, true));\r\n\r\n\t\timg.className = 'leaflet-marker-' + name + ' ' + (options.className || '');\r\n\r\n\t\tif (anchor) {\r\n\t\t\timg.style.marginLeft = (-anchor.x) + 'px';\r\n\t\t\timg.style.marginTop  = (-anchor.y) + 'px';\r\n\t\t}\r\n\r\n\t\tif (size) {\r\n\t\t\timg.style.width  = size.x + 'px';\r\n\t\t\timg.style.height = size.y + 'px';\r\n\t\t}\r\n\t},\r\n\r\n\t_createImg: function (src, el) {\r\n\t\tel = el || document.createElement('img');\r\n\t\tel.src = src;\r\n\t\treturn el;\r\n\t},\r\n\r\n\t_getIconUrl: function (name) {\r\n\t\treturn L.Browser.retina && this.options[name + 'RetinaUrl'] || this.options[name + 'Url'];\r\n\t}\r\n});\r\n\r\n\r\n// @factory L.icon(options: Icon options)\r\n// Creates an icon instance with the given options.\r\nL.icon = function (options) {\r\n\treturn new L.Icon(options);\r\n};\r\n\n/*\n * @miniclass Icon.Default (Icon)\n * @aka L.Icon.Default\n * @section\n *\n * A trivial subclass of `Icon`, represents the icon to use in `Marker`s when\n * no icon is specified. Points to the blue marker image distributed with Leaflet\n * releases.\n *\n * In order to change the default icon, just change the properties of `L.Icon.Default.prototype.options`\n * (which is a set of `Icon options`).\n */\n\nL.Icon.Default = L.Icon.extend({\n\n\toptions: {\n\t\ticonUrl:       'marker-icon.png',\n\t\ticonRetinaUrl: 'marker-icon-2x.png',\n\t\tshadowUrl:     'marker-shadow.png',\n\t\ticonSize:    [25, 41],\n\t\ticonAnchor:  [12, 41],\n\t\tpopupAnchor: [1, -34],\n\t\ttooltipAnchor: [16, -28],\n\t\tshadowSize:  [41, 41]\n\t},\n\n\t_getIconUrl: function (name) {\n\t\tif (!L.Icon.Default.imagePath) {\t// Deprecated, backwards-compatibility only\n\t\t\tL.Icon.Default.imagePath = this._detectIconPath();\n\t\t}\n\n\t\t// @option imagePath: String\n\t\t// `L.Icon.Default` will try to auto-detect the absolute location of the\n\t\t// blue icon images. If you are placing these images in a non-standard\n\t\t// way, set this option to point to the right absolute path.\n\t\treturn (this.options.imagePath || L.Icon.Default.imagePath) + L.Icon.prototype._getIconUrl.call(this, name);\n\t},\n\n\t_detectIconPath: function () {\n\t\tvar el = L.DomUtil.create('div',  'leaflet-default-icon-path', document.body);\n\t\tvar path = L.DomUtil.getStyle(el, 'background-image') ||\n\t\t           L.DomUtil.getStyle(el, 'backgroundImage');\t// IE8\n\n\t\tdocument.body.removeChild(el);\n\n\t\treturn path.indexOf('url') === 0 ?\n\t\t\tpath.replace(/^url\\([\\\"\\']?/, '').replace(/marker-icon\\.png[\\\"\\']?\\)$/, '') : '';\n\t}\n});\n\n/*\r\n * @class Marker\r\n * @inherits Interactive layer\r\n * @aka L.Marker\r\n * L.Marker is used to display clickable/draggable icons on the map. Extends `Layer`.\r\n *\r\n * @example\r\n *\r\n * ```js\r\n * L.marker([50.5, 30.5]).addTo(map);\r\n * ```\r\n */\r\n\r\nL.Marker = L.Layer.extend({\r\n\r\n\t// @section\r\n\t// @aka Marker options\r\n\toptions: {\r\n\t\t// @option icon: Icon = *\r\n\t\t// Icon class to use for rendering the marker. See [Icon documentation](#L.Icon) for details on how to customize the marker icon. If not specified, a new `L.Icon.Default` is used.\r\n\t\ticon: new L.Icon.Default(),\r\n\r\n\t\t// Option inherited from \"Interactive layer\" abstract class\r\n\t\tinteractive: true,\r\n\r\n\t\t// @option draggable: Boolean = false\r\n\t\t// Whether the marker is draggable with mouse/touch or not.\r\n\t\tdraggable: false,\r\n\r\n\t\t// @option keyboard: Boolean = true\r\n\t\t// Whether the marker can be tabbed to with a keyboard and clicked by pressing enter.\r\n\t\tkeyboard: true,\r\n\r\n\t\t// @option title: String = ''\r\n\t\t// Text for the browser tooltip that appear on marker hover (no tooltip by default).\r\n\t\ttitle: '',\r\n\r\n\t\t// @option alt: String = ''\r\n\t\t// Text for the `alt` attribute of the icon image (useful for accessibility).\r\n\t\talt: '',\r\n\r\n\t\t// @option zIndexOffset: Number = 0\r\n\t\t// By default, marker images zIndex is set automatically based on its latitude. Use this option if you want to put the marker on top of all others (or below), specifying a high value like `1000` (or high negative value, respectively).\r\n\t\tzIndexOffset: 0,\r\n\r\n\t\t// @option opacity: Number = 1.0\r\n\t\t// The opacity of the marker.\r\n\t\topacity: 1,\r\n\r\n\t\t// @option riseOnHover: Boolean = false\r\n\t\t// If `true`, the marker will get on top of others when you hover the mouse over it.\r\n\t\triseOnHover: false,\r\n\r\n\t\t// @option riseOffset: Number = 250\r\n\t\t// The z-index offset used for the `riseOnHover` feature.\r\n\t\triseOffset: 250,\r\n\r\n\t\t// @option pane: String = 'markerPane'\r\n\t\t// `Map pane` where the markers icon will be added.\r\n\t\tpane: 'markerPane',\r\n\r\n\t\t// FIXME: shadowPane is no longer a valid option\r\n\t\tnonBubblingEvents: ['click', 'dblclick', 'mouseover', 'mouseout', 'contextmenu']\r\n\t},\r\n\r\n\t/* @section\r\n\t *\r\n\t * In addition to [shared layer methods](#Layer) like `addTo()` and `remove()` and [popup methods](#Popup) like bindPopup() you can also use the following methods:\r\n\t */\r\n\r\n\tinitialize: function (latlng, options) {\r\n\t\tL.setOptions(this, options);\r\n\t\tthis._latlng = L.latLng(latlng);\r\n\t},\r\n\r\n\tonAdd: function (map) {\r\n\t\tthis._zoomAnimated = this._zoomAnimated && map.options.markerZoomAnimation;\r\n\r\n\t\tif (this._zoomAnimated) {\r\n\t\t\tmap.on('zoomanim', this._animateZoom, this);\r\n\t\t}\r\n\r\n\t\tthis._initIcon();\r\n\t\tthis.update();\r\n\t},\r\n\r\n\tonRemove: function (map) {\r\n\t\tif (this.dragging && this.dragging.enabled()) {\r\n\t\t\tthis.options.draggable = true;\r\n\t\t\tthis.dragging.removeHooks();\r\n\t\t}\r\n\r\n\t\tif (this._zoomAnimated) {\r\n\t\t\tmap.off('zoomanim', this._animateZoom, this);\r\n\t\t}\r\n\r\n\t\tthis._removeIcon();\r\n\t\tthis._removeShadow();\r\n\t},\r\n\r\n\tgetEvents: function () {\r\n\t\treturn {\r\n\t\t\tzoom: this.update,\r\n\t\t\tviewreset: this.update\r\n\t\t};\r\n\t},\r\n\r\n\t// @method getLatLng: LatLng\r\n\t// Returns the current geographical position of the marker.\r\n\tgetLatLng: function () {\r\n\t\treturn this._latlng;\r\n\t},\r\n\r\n\t// @method setLatLng(latlng: LatLng): this\r\n\t// Changes the marker position to the given point.\r\n\tsetLatLng: function (latlng) {\r\n\t\tvar oldLatLng = this._latlng;\r\n\t\tthis._latlng = L.latLng(latlng);\r\n\t\tthis.update();\r\n\r\n\t\t// @event move: Event\r\n\t\t// Fired when the marker is moved via [`setLatLng`](#marker-setlatlng) or by [dragging](#marker-dragging). Old and new coordinates are included in event arguments as `oldLatLng`, `latlng`.\r\n\t\treturn this.fire('move', {oldLatLng: oldLatLng, latlng: this._latlng});\r\n\t},\r\n\r\n\t// @method setZIndexOffset(offset: Number): this\r\n\t// Changes the [zIndex offset](#marker-zindexoffset) of the marker.\r\n\tsetZIndexOffset: function (offset) {\r\n\t\tthis.options.zIndexOffset = offset;\r\n\t\treturn this.update();\r\n\t},\r\n\r\n\t// @method setIcon(icon: Icon): this\r\n\t// Changes the marker icon.\r\n\tsetIcon: function (icon) {\r\n\r\n\t\tthis.options.icon = icon;\r\n\r\n\t\tif (this._map) {\r\n\t\t\tthis._initIcon();\r\n\t\t\tthis.update();\r\n\t\t}\r\n\r\n\t\tif (this._popup) {\r\n\t\t\tthis.bindPopup(this._popup, this._popup.options);\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\tgetElement: function () {\r\n\t\treturn this._icon;\r\n\t},\r\n\r\n\tupdate: function () {\r\n\r\n\t\tif (this._icon) {\r\n\t\t\tvar pos = this._map.latLngToLayerPoint(this._latlng).round();\r\n\t\t\tthis._setPos(pos);\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t_initIcon: function () {\r\n\t\tvar options = this.options,\r\n\t\t    classToAdd = 'leaflet-zoom-' + (this._zoomAnimated ? 'animated' : 'hide');\r\n\r\n\t\tvar icon = options.icon.createIcon(this._icon),\r\n\t\t    addIcon = false;\r\n\r\n\t\t// if we're not reusing the icon, remove the old one and init new one\r\n\t\tif (icon !== this._icon) {\r\n\t\t\tif (this._icon) {\r\n\t\t\t\tthis._removeIcon();\r\n\t\t\t}\r\n\t\t\taddIcon = true;\r\n\r\n\t\t\tif (options.title) {\r\n\t\t\t\ticon.title = options.title;\r\n\t\t\t}\r\n\t\t\tif (options.alt) {\r\n\t\t\t\ticon.alt = options.alt;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tL.DomUtil.addClass(icon, classToAdd);\r\n\r\n\t\tif (options.keyboard) {\r\n\t\t\ticon.tabIndex = '0';\r\n\t\t}\r\n\r\n\t\tthis._icon = icon;\r\n\r\n\t\tif (options.riseOnHover) {\r\n\t\t\tthis.on({\r\n\t\t\t\tmouseover: this._bringToFront,\r\n\t\t\t\tmouseout: this._resetZIndex\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tvar newShadow = options.icon.createShadow(this._shadow),\r\n\t\t    addShadow = false;\r\n\r\n\t\tif (newShadow !== this._shadow) {\r\n\t\t\tthis._removeShadow();\r\n\t\t\taddShadow = true;\r\n\t\t}\r\n\r\n\t\tif (newShadow) {\r\n\t\t\tL.DomUtil.addClass(newShadow, classToAdd);\r\n\t\t}\r\n\t\tthis._shadow = newShadow;\r\n\r\n\r\n\t\tif (options.opacity < 1) {\r\n\t\t\tthis._updateOpacity();\r\n\t\t}\r\n\r\n\r\n\t\tif (addIcon) {\r\n\t\t\tthis.getPane().appendChild(this._icon);\r\n\t\t}\r\n\t\tthis._initInteraction();\r\n\t\tif (newShadow && addShadow) {\r\n\t\t\tthis.getPane('shadowPane').appendChild(this._shadow);\r\n\t\t}\r\n\t},\r\n\r\n\t_removeIcon: function () {\r\n\t\tif (this.options.riseOnHover) {\r\n\t\t\tthis.off({\r\n\t\t\t\tmouseover: this._bringToFront,\r\n\t\t\t\tmouseout: this._resetZIndex\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tL.DomUtil.remove(this._icon);\r\n\t\tthis.removeInteractiveTarget(this._icon);\r\n\r\n\t\tthis._icon = null;\r\n\t},\r\n\r\n\t_removeShadow: function () {\r\n\t\tif (this._shadow) {\r\n\t\t\tL.DomUtil.remove(this._shadow);\r\n\t\t}\r\n\t\tthis._shadow = null;\r\n\t},\r\n\r\n\t_setPos: function (pos) {\r\n\t\tL.DomUtil.setPosition(this._icon, pos);\r\n\r\n\t\tif (this._shadow) {\r\n\t\t\tL.DomUtil.setPosition(this._shadow, pos);\r\n\t\t}\r\n\r\n\t\tthis._zIndex = pos.y + this.options.zIndexOffset;\r\n\r\n\t\tthis._resetZIndex();\r\n\t},\r\n\r\n\t_updateZIndex: function (offset) {\r\n\t\tthis._icon.style.zIndex = this._zIndex + offset;\r\n\t},\r\n\r\n\t_animateZoom: function (opt) {\r\n\t\tvar pos = this._map._latLngToNewLayerPoint(this._latlng, opt.zoom, opt.center).round();\r\n\r\n\t\tthis._setPos(pos);\r\n\t},\r\n\r\n\t_initInteraction: function () {\r\n\r\n\t\tif (!this.options.interactive) { return; }\r\n\r\n\t\tL.DomUtil.addClass(this._icon, 'leaflet-interactive');\r\n\r\n\t\tthis.addInteractiveTarget(this._icon);\r\n\r\n\t\tif (L.Handler.MarkerDrag) {\r\n\t\t\tvar draggable = this.options.draggable;\r\n\t\t\tif (this.dragging) {\r\n\t\t\t\tdraggable = this.dragging.enabled();\r\n\t\t\t\tthis.dragging.disable();\r\n\t\t\t}\r\n\r\n\t\t\tthis.dragging = new L.Handler.MarkerDrag(this);\r\n\r\n\t\t\tif (draggable) {\r\n\t\t\t\tthis.dragging.enable();\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t// @method setOpacity(opacity: Number): this\r\n\t// Changes the opacity of the marker.\r\n\tsetOpacity: function (opacity) {\r\n\t\tthis.options.opacity = opacity;\r\n\t\tif (this._map) {\r\n\t\t\tthis._updateOpacity();\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t_updateOpacity: function () {\r\n\t\tvar opacity = this.options.opacity;\r\n\r\n\t\tL.DomUtil.setOpacity(this._icon, opacity);\r\n\r\n\t\tif (this._shadow) {\r\n\t\t\tL.DomUtil.setOpacity(this._shadow, opacity);\r\n\t\t}\r\n\t},\r\n\r\n\t_bringToFront: function () {\r\n\t\tthis._updateZIndex(this.options.riseOffset);\r\n\t},\r\n\r\n\t_resetZIndex: function () {\r\n\t\tthis._updateZIndex(0);\r\n\t}\r\n});\r\n\r\n\r\n// factory L.marker(latlng: LatLng, options? : Marker options)\r\n\r\n// @factory L.marker(latlng: LatLng, options? : Marker options)\r\n// Instantiates a Marker object given a geographical point and optionally an options object.\r\nL.marker = function (latlng, options) {\r\n\treturn new L.Marker(latlng, options);\r\n};\r\n\n/*\n * @class DivIcon\n * @aka L.DivIcon\n * @inherits Icon\n *\n * Represents a lightweight icon for markers that uses a simple `<div>`\n * element instead of an image. Inherits from `Icon` but ignores the `iconUrl` and shadow options.\n *\n * @example\n * ```js\n * var myIcon = L.divIcon({className: 'my-div-icon'});\n * // you can set .my-div-icon styles in CSS\n *\n * L.marker([50.505, 30.57], {icon: myIcon}).addTo(map);\n * ```\n *\n * By default, it has a 'leaflet-div-icon' CSS class and is styled as a little white square with a shadow.\n */\n\nL.DivIcon = L.Icon.extend({\n\toptions: {\n\t\t// @section\n\t\t// @aka DivIcon options\n\t\ticonSize: [12, 12], // also can be set through CSS\n\n\t\t// iconAnchor: (Point),\n\t\t// popupAnchor: (Point),\n\n\t\t// @option html: String = ''\n\t\t// Custom HTML code to put inside the div element, empty by default.\n\t\thtml: false,\n\n\t\t// @option bgPos: Point = [0, 0]\n\t\t// Optional relative position of the background, in pixels\n\t\tbgPos: null,\n\n\t\tclassName: 'leaflet-div-icon'\n\t},\n\n\tcreateIcon: function (oldIcon) {\n\t\tvar div = (oldIcon && oldIcon.tagName === 'DIV') ? oldIcon : document.createElement('div'),\n\t\t    options = this.options;\n\n\t\tdiv.innerHTML = options.html !== false ? options.html : '';\n\n\t\tif (options.bgPos) {\n\t\t\tvar bgPos = L.point(options.bgPos);\n\t\t\tdiv.style.backgroundPosition = (-bgPos.x) + 'px ' + (-bgPos.y) + 'px';\n\t\t}\n\t\tthis._setIconStyles(div, 'icon');\n\n\t\treturn div;\n\t},\n\n\tcreateShadow: function () {\n\t\treturn null;\n\t}\n});\n\n// @factory L.divIcon(options: DivIcon options)\n// Creates a `DivIcon` instance with the given options.\nL.divIcon = function (options) {\n\treturn new L.DivIcon(options);\n};\n\n/*\r\n * @class DivOverlay\r\n * @inherits Layer\r\n * @aka L.DivOverlay\r\n * Base model for L.Popup and L.Tooltip. Inherit from it for custom popup like plugins.\r\n */\r\n\r\n// @namespace DivOverlay\r\nL.DivOverlay = L.Layer.extend({\r\n\r\n\t// @section\r\n\t// @aka DivOverlay options\r\n\toptions: {\r\n\t\t// @option offset: Point = Point(0, 7)\r\n\t\t// The offset of the popup position. Useful to control the anchor\r\n\t\t// of the popup when opening it on some overlays.\r\n\t\toffset: [0, 7],\r\n\r\n\t\t// @option className: String = ''\r\n\t\t// A custom CSS class name to assign to the popup.\r\n\t\tclassName: '',\r\n\r\n\t\t// @option pane: String = 'popupPane'\r\n\t\t// `Map pane` where the popup will be added.\r\n\t\tpane: 'popupPane'\r\n\t},\r\n\r\n\tinitialize: function (options, source) {\r\n\t\tL.setOptions(this, options);\r\n\r\n\t\tthis._source = source;\r\n\t},\r\n\r\n\tonAdd: function (map) {\r\n\t\tthis._zoomAnimated = map._zoomAnimated;\r\n\r\n\t\tif (!this._container) {\r\n\t\t\tthis._initLayout();\r\n\t\t}\r\n\r\n\t\tif (map._fadeAnimated) {\r\n\t\t\tL.DomUtil.setOpacity(this._container, 0);\r\n\t\t}\r\n\r\n\t\tclearTimeout(this._removeTimeout);\r\n\t\tthis.getPane().appendChild(this._container);\r\n\t\tthis.update();\r\n\r\n\t\tif (map._fadeAnimated) {\r\n\t\t\tL.DomUtil.setOpacity(this._container, 1);\r\n\t\t}\r\n\r\n\t\tthis.bringToFront();\r\n\t},\r\n\r\n\tonRemove: function (map) {\r\n\t\tif (map._fadeAnimated) {\r\n\t\t\tL.DomUtil.setOpacity(this._container, 0);\r\n\t\t\tthis._removeTimeout = setTimeout(L.bind(L.DomUtil.remove, L.DomUtil, this._container), 200);\r\n\t\t} else {\r\n\t\t\tL.DomUtil.remove(this._container);\r\n\t\t}\r\n\t},\r\n\r\n\t// @namespace Popup\r\n\t// @method getLatLng: LatLng\r\n\t// Returns the geographical point of popup.\r\n\tgetLatLng: function () {\r\n\t\treturn this._latlng;\r\n\t},\r\n\r\n\t// @method setLatLng(latlng: LatLng): this\r\n\t// Sets the geographical point where the popup will open.\r\n\tsetLatLng: function (latlng) {\r\n\t\tthis._latlng = L.latLng(latlng);\r\n\t\tif (this._map) {\r\n\t\t\tthis._updatePosition();\r\n\t\t\tthis._adjustPan();\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method getContent: String|HTMLElement\r\n\t// Returns the content of the popup.\r\n\tgetContent: function () {\r\n\t\treturn this._content;\r\n\t},\r\n\r\n\t// @method setContent(htmlContent: String|HTMLElement|Function): this\r\n\t// Sets the HTML content of the popup. If a function is passed the source layer will be passed to the function. The function should return a `String` or `HTMLElement` to be used in the popup.\r\n\tsetContent: function (content) {\r\n\t\tthis._content = content;\r\n\t\tthis.update();\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method getElement: String|HTMLElement\r\n\t// Alias for [getContent()](#popup-getcontent)\r\n\tgetElement: function () {\r\n\t\treturn this._container;\r\n\t},\r\n\r\n\t// @method update: null\r\n\t// Updates the popup content, layout and position. Useful for updating the popup after something inside changed, e.g. image loaded.\r\n\tupdate: function () {\r\n\t\tif (!this._map) { return; }\r\n\r\n\t\tthis._container.style.visibility = 'hidden';\r\n\r\n\t\tthis._updateContent();\r\n\t\tthis._updateLayout();\r\n\t\tthis._updatePosition();\r\n\r\n\t\tthis._container.style.visibility = '';\r\n\r\n\t\tthis._adjustPan();\r\n\t},\r\n\r\n\tgetEvents: function () {\r\n\t\tvar events = {\r\n\t\t\tzoom: this._updatePosition,\r\n\t\t\tviewreset: this._updatePosition\r\n\t\t};\r\n\r\n\t\tif (this._zoomAnimated) {\r\n\t\t\tevents.zoomanim = this._animateZoom;\r\n\t\t}\r\n\t\treturn events;\r\n\t},\r\n\r\n\t// @method isOpen: Boolean\r\n\t// Returns `true` when the popup is visible on the map.\r\n\tisOpen: function () {\r\n\t\treturn !!this._map && this._map.hasLayer(this);\r\n\t},\r\n\r\n\t// @method bringToFront: this\r\n\t// Brings this popup in front of other popups (in the same map pane).\r\n\tbringToFront: function () {\r\n\t\tif (this._map) {\r\n\t\t\tL.DomUtil.toFront(this._container);\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method bringToBack: this\r\n\t// Brings this popup to the back of other popups (in the same map pane).\r\n\tbringToBack: function () {\r\n\t\tif (this._map) {\r\n\t\t\tL.DomUtil.toBack(this._container);\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\t_updateContent: function () {\r\n\t\tif (!this._content) { return; }\r\n\r\n\t\tvar node = this._contentNode;\r\n\t\tvar content = (typeof this._content === 'function') ? this._content(this._source || this) : this._content;\r\n\r\n\t\tif (typeof content === 'string') {\r\n\t\t\tnode.innerHTML = content;\r\n\t\t} else {\r\n\t\t\twhile (node.hasChildNodes()) {\r\n\t\t\t\tnode.removeChild(node.firstChild);\r\n\t\t\t}\r\n\t\t\tnode.appendChild(content);\r\n\t\t}\r\n\t\tthis.fire('contentupdate');\r\n\t},\r\n\r\n\t_updatePosition: function () {\r\n\t\tif (!this._map) { return; }\r\n\r\n\t\tvar pos = this._map.latLngToLayerPoint(this._latlng),\r\n\t\t    offset = L.point(this.options.offset),\r\n\t\t    anchor = this._getAnchor();\r\n\r\n\t\tif (this._zoomAnimated) {\r\n\t\t\tL.DomUtil.setPosition(this._container, pos.add(anchor));\r\n\t\t} else {\r\n\t\t\toffset = offset.add(pos).add(anchor);\r\n\t\t}\r\n\r\n\t\tvar bottom = this._containerBottom = -offset.y,\r\n\t\t    left = this._containerLeft = -Math.round(this._containerWidth / 2) + offset.x;\r\n\r\n\t\t// bottom position the popup in case the height of the popup changes (images loading etc)\r\n\t\tthis._container.style.bottom = bottom + 'px';\r\n\t\tthis._container.style.left = left + 'px';\r\n\t},\r\n\r\n\t_getAnchor: function () {\r\n\t\treturn [0, 0];\r\n\t}\r\n\r\n});\r\n\n/*\r\n * @class Popup\r\n * @inherits DivOverlay\r\n * @aka L.Popup\r\n * Used to open popups in certain places of the map. Use [Map.openPopup](#map-openpopup) to\r\n * open popups while making sure that only one popup is open at one time\r\n * (recommended for usability), or use [Map.addLayer](#map-addlayer) to open as many as you want.\r\n *\r\n * @example\r\n *\r\n * If you want to just bind a popup to marker click and then open it, it's really easy:\r\n *\r\n * ```js\r\n * marker.bindPopup(popupContent).openPopup();\r\n * ```\r\n * Path overlays like polylines also have a `bindPopup` method.\r\n * Here's a more complicated way to open a popup on a map:\r\n *\r\n * ```js\r\n * var popup = L.popup()\r\n * \t.setLatLng(latlng)\r\n * \t.setContent('<p>Hello world!<br />This is a nice popup.</p>')\r\n * \t.openOn(map);\r\n * ```\r\n */\r\n\r\n\r\n// @namespace Popup\r\nL.Popup = L.DivOverlay.extend({\r\n\r\n\t// @section\r\n\t// @aka Popup options\r\n\toptions: {\r\n\t\t// @option maxWidth: Number = 300\r\n\t\t// Max width of the popup, in pixels.\r\n\t\tmaxWidth: 300,\r\n\r\n\t\t// @option minWidth: Number = 50\r\n\t\t// Min width of the popup, in pixels.\r\n\t\tminWidth: 50,\r\n\r\n\t\t// @option maxHeight: Number = null\r\n\t\t// If set, creates a scrollable container of the given height\r\n\t\t// inside a popup if its content exceeds it.\r\n\t\tmaxHeight: null,\r\n\r\n\t\t// @option autoPan: Boolean = true\r\n\t\t// Set it to `false` if you don't want the map to do panning animation\r\n\t\t// to fit the opened popup.\r\n\t\tautoPan: true,\r\n\r\n\t\t// @option autoPanPaddingTopLeft: Point = null\r\n\t\t// The margin between the popup and the top left corner of the map\r\n\t\t// view after autopanning was performed.\r\n\t\tautoPanPaddingTopLeft: null,\r\n\r\n\t\t// @option autoPanPaddingBottomRight: Point = null\r\n\t\t// The margin between the popup and the bottom right corner of the map\r\n\t\t// view after autopanning was performed.\r\n\t\tautoPanPaddingBottomRight: null,\r\n\r\n\t\t// @option autoPanPadding: Point = Point(5, 5)\r\n\t\t// Equivalent of setting both top left and bottom right autopan padding to the same value.\r\n\t\tautoPanPadding: [5, 5],\r\n\r\n\t\t// @option keepInView: Boolean = false\r\n\t\t// Set it to `true` if you want to prevent users from panning the popup\r\n\t\t// off of the screen while it is open.\r\n\t\tkeepInView: false,\r\n\r\n\t\t// @option closeButton: Boolean = true\r\n\t\t// Controls the presence of a close button in the popup.\r\n\t\tcloseButton: true,\r\n\r\n\t\t// @option autoClose: Boolean = true\r\n\t\t// Set it to `false` if you want to override the default behavior of\r\n\t\t// the popup closing when user clicks the map (set globally by\r\n\t\t// the Map's [closePopupOnClick](#map-closepopuponclick) option).\r\n\t\tautoClose: true,\r\n\r\n\t\t// @option className: String = ''\r\n\t\t// A custom CSS class name to assign to the popup.\r\n\t\tclassName: ''\r\n\t},\r\n\r\n\t// @namespace Popup\r\n\t// @method openOn(map: Map): this\r\n\t// Adds the popup to the map and closes the previous one. The same as `map.openPopup(popup)`.\r\n\topenOn: function (map) {\r\n\t\tmap.openPopup(this);\r\n\t\treturn this;\r\n\t},\r\n\r\n\tonAdd: function (map) {\r\n\t\tL.DivOverlay.prototype.onAdd.call(this, map);\r\n\r\n\t\t// @namespace Map\r\n\t\t// @section Popup events\r\n\t\t// @event popupopen: PopupEvent\r\n\t\t// Fired when a popup is opened in the map\r\n\t\tmap.fire('popupopen', {popup: this});\r\n\r\n\t\tif (this._source) {\r\n\t\t\t// @namespace Layer\r\n\t\t\t// @section Popup events\r\n\t\t\t// @event popupopen: PopupEvent\r\n\t\t\t// Fired when a popup bound to this layer is opened\r\n\t\t\tthis._source.fire('popupopen', {popup: this}, true);\r\n\t\t\t// For non-path layers, we toggle the popup when clicking\r\n\t\t\t// again the layer, so prevent the map to reopen it.\r\n\t\t\tif (!(this._source instanceof L.Path)) {\r\n\t\t\t\tthis._source.on('preclick', L.DomEvent.stopPropagation);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tonRemove: function (map) {\r\n\t\tL.DivOverlay.prototype.onRemove.call(this, map);\r\n\r\n\t\t// @namespace Map\r\n\t\t// @section Popup events\r\n\t\t// @event popupclose: PopupEvent\r\n\t\t// Fired when a popup in the map is closed\r\n\t\tmap.fire('popupclose', {popup: this});\r\n\r\n\t\tif (this._source) {\r\n\t\t\t// @namespace Layer\r\n\t\t\t// @section Popup events\r\n\t\t\t// @event popupclose: PopupEvent\r\n\t\t\t// Fired when a popup bound to this layer is closed\r\n\t\t\tthis._source.fire('popupclose', {popup: this}, true);\r\n\t\t\tif (!(this._source instanceof L.Path)) {\r\n\t\t\t\tthis._source.off('preclick', L.DomEvent.stopPropagation);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tgetEvents: function () {\r\n\t\tvar events = L.DivOverlay.prototype.getEvents.call(this);\r\n\r\n\t\tif ('closeOnClick' in this.options ? this.options.closeOnClick : this._map.options.closePopupOnClick) {\r\n\t\t\tevents.preclick = this._close;\r\n\t\t}\r\n\r\n\t\tif (this.options.keepInView) {\r\n\t\t\tevents.moveend = this._adjustPan;\r\n\t\t}\r\n\r\n\t\treturn events;\r\n\t},\r\n\r\n\t_close: function () {\r\n\t\tif (this._map) {\r\n\t\t\tthis._map.closePopup(this);\r\n\t\t}\r\n\t},\r\n\r\n\t_initLayout: function () {\r\n\t\tvar prefix = 'leaflet-popup',\r\n\t\t    container = this._container = L.DomUtil.create('div',\r\n\t\t\tprefix + ' ' + (this.options.className || '') +\r\n\t\t\t' leaflet-zoom-animated');\r\n\r\n\t\tif (this.options.closeButton) {\r\n\t\t\tvar closeButton = this._closeButton = L.DomUtil.create('a', prefix + '-close-button', container);\r\n\t\t\tcloseButton.href = '#close';\r\n\t\t\tcloseButton.innerHTML = '&#215;';\r\n\r\n\t\t\tL.DomEvent.on(closeButton, 'click', this._onCloseButtonClick, this);\r\n\t\t}\r\n\r\n\t\tvar wrapper = this._wrapper = L.DomUtil.create('div', prefix + '-content-wrapper', container);\r\n\t\tthis._contentNode = L.DomUtil.create('div', prefix + '-content', wrapper);\r\n\r\n\t\tL.DomEvent\r\n\t\t\t.disableClickPropagation(wrapper)\r\n\t\t\t.disableScrollPropagation(this._contentNode)\r\n\t\t\t.on(wrapper, 'contextmenu', L.DomEvent.stopPropagation);\r\n\r\n\t\tthis._tipContainer = L.DomUtil.create('div', prefix + '-tip-container', container);\r\n\t\tthis._tip = L.DomUtil.create('div', prefix + '-tip', this._tipContainer);\r\n\t},\r\n\r\n\t_updateLayout: function () {\r\n\t\tvar container = this._contentNode,\r\n\t\t    style = container.style;\r\n\r\n\t\tstyle.width = '';\r\n\t\tstyle.whiteSpace = 'nowrap';\r\n\r\n\t\tvar width = container.offsetWidth;\r\n\t\twidth = Math.min(width, this.options.maxWidth);\r\n\t\twidth = Math.max(width, this.options.minWidth);\r\n\r\n\t\tstyle.width = (width + 1) + 'px';\r\n\t\tstyle.whiteSpace = '';\r\n\r\n\t\tstyle.height = '';\r\n\r\n\t\tvar height = container.offsetHeight,\r\n\t\t    maxHeight = this.options.maxHeight,\r\n\t\t    scrolledClass = 'leaflet-popup-scrolled';\r\n\r\n\t\tif (maxHeight && height > maxHeight) {\r\n\t\t\tstyle.height = maxHeight + 'px';\r\n\t\t\tL.DomUtil.addClass(container, scrolledClass);\r\n\t\t} else {\r\n\t\t\tL.DomUtil.removeClass(container, scrolledClass);\r\n\t\t}\r\n\r\n\t\tthis._containerWidth = this._container.offsetWidth;\r\n\t},\r\n\r\n\t_animateZoom: function (e) {\r\n\t\tvar pos = this._map._latLngToNewLayerPoint(this._latlng, e.zoom, e.center),\r\n\t\t    anchor = this._getAnchor();\r\n\t\tL.DomUtil.setPosition(this._container, pos.add(anchor));\r\n\t},\r\n\r\n\t_adjustPan: function () {\r\n\t\tif (!this.options.autoPan || (this._map._panAnim && this._map._panAnim._inProgress)) { return; }\r\n\r\n\t\tvar map = this._map,\r\n\t\t    marginBottom = parseInt(L.DomUtil.getStyle(this._container, 'marginBottom'), 10) || 0,\r\n\t\t    containerHeight = this._container.offsetHeight + marginBottom,\r\n\t\t    containerWidth = this._containerWidth,\r\n\t\t    layerPos = new L.Point(this._containerLeft, -containerHeight - this._containerBottom);\r\n\r\n\t\tlayerPos._add(L.DomUtil.getPosition(this._container));\r\n\r\n\t\tvar containerPos = map.layerPointToContainerPoint(layerPos),\r\n\t\t    padding = L.point(this.options.autoPanPadding),\r\n\t\t    paddingTL = L.point(this.options.autoPanPaddingTopLeft || padding),\r\n\t\t    paddingBR = L.point(this.options.autoPanPaddingBottomRight || padding),\r\n\t\t    size = map.getSize(),\r\n\t\t    dx = 0,\r\n\t\t    dy = 0;\r\n\r\n\t\tif (containerPos.x + containerWidth + paddingBR.x > size.x) { // right\r\n\t\t\tdx = containerPos.x + containerWidth - size.x + paddingBR.x;\r\n\t\t}\r\n\t\tif (containerPos.x - dx - paddingTL.x < 0) { // left\r\n\t\t\tdx = containerPos.x - paddingTL.x;\r\n\t\t}\r\n\t\tif (containerPos.y + containerHeight + paddingBR.y > size.y) { // bottom\r\n\t\t\tdy = containerPos.y + containerHeight - size.y + paddingBR.y;\r\n\t\t}\r\n\t\tif (containerPos.y - dy - paddingTL.y < 0) { // top\r\n\t\t\tdy = containerPos.y - paddingTL.y;\r\n\t\t}\r\n\r\n\t\t// @namespace Map\r\n\t\t// @section Popup events\r\n\t\t// @event autopanstart: Event\r\n\t\t// Fired when the map starts autopanning when opening a popup.\r\n\t\tif (dx || dy) {\r\n\t\t\tmap\r\n\t\t\t    .fire('autopanstart')\r\n\t\t\t    .panBy([dx, dy]);\r\n\t\t}\r\n\t},\r\n\r\n\t_onCloseButtonClick: function (e) {\r\n\t\tthis._close();\r\n\t\tL.DomEvent.stop(e);\r\n\t},\r\n\r\n\t_getAnchor: function () {\r\n\t\t// Where should we anchor the popup on the source layer?\r\n\t\treturn L.point(this._source && this._source._getPopupAnchor ? this._source._getPopupAnchor() : [0, 0]);\r\n\t}\r\n\r\n});\r\n\r\n// @namespace Popup\r\n// @factory L.popup(options?: Popup options, source?: Layer)\r\n// Instantiates a `Popup` object given an optional `options` object that describes its appearance and location and an optional `source` object that is used to tag the popup with a reference to the Layer to which it refers.\r\nL.popup = function (options, source) {\r\n\treturn new L.Popup(options, source);\r\n};\r\n\r\n\r\n/* @namespace Map\r\n * @section Interaction Options\r\n * @option closePopupOnClick: Boolean = true\r\n * Set it to `false` if you don't want popups to close when user clicks the map.\r\n */\r\nL.Map.mergeOptions({\r\n\tclosePopupOnClick: true\r\n});\r\n\r\n\r\n// @namespace Map\r\n// @section Methods for Layers and Controls\r\nL.Map.include({\r\n\t// @method openPopup(popup: Popup): this\r\n\t// Opens the specified popup while closing the previously opened (to make sure only one is opened at one time for usability).\r\n\t// @alternative\r\n\t// @method openPopup(content: String|HTMLElement, latlng: LatLng, options?: Popup options): this\r\n\t// Creates a popup with the specified content and options and opens it in the given point on a map.\r\n\topenPopup: function (popup, latlng, options) {\r\n\t\tif (!(popup instanceof L.Popup)) {\r\n\t\t\tpopup = new L.Popup(options).setContent(popup);\r\n\t\t}\r\n\r\n\t\tif (latlng) {\r\n\t\t\tpopup.setLatLng(latlng);\r\n\t\t}\r\n\r\n\t\tif (this.hasLayer(popup)) {\r\n\t\t\treturn this;\r\n\t\t}\r\n\r\n\t\tif (this._popup && this._popup.options.autoClose) {\r\n\t\t\tthis.closePopup();\r\n\t\t}\r\n\r\n\t\tthis._popup = popup;\r\n\t\treturn this.addLayer(popup);\r\n\t},\r\n\r\n\t// @method closePopup(popup?: Popup): this\r\n\t// Closes the popup previously opened with [openPopup](#map-openpopup) (or the given one).\r\n\tclosePopup: function (popup) {\r\n\t\tif (!popup || popup === this._popup) {\r\n\t\t\tpopup = this._popup;\r\n\t\t\tthis._popup = null;\r\n\t\t}\r\n\t\tif (popup) {\r\n\t\t\tthis.removeLayer(popup);\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n});\r\n\n/*\n * @namespace Layer\n * @section Popup methods example\n *\n * All layers share a set of methods convenient for binding popups to it.\n *\n * ```js\n * var layer = L.Polygon(latlngs).bindPopup('Hi There!').addTo(map);\n * layer.openPopup();\n * layer.closePopup();\n * ```\n *\n * Popups will also be automatically opened when the layer is clicked on and closed when the layer is removed from the map or another popup is opened.\n */\n\n// @section Popup methods\nL.Layer.include({\n\n\t// @method bindPopup(content: String|HTMLElement|Function|Popup, options?: Popup options): this\n\t// Binds a popup to the layer with the passed `content` and sets up the\n\t// neccessary event listeners. If a `Function` is passed it will receive\n\t// the layer as the first argument and should return a `String` or `HTMLElement`.\n\tbindPopup: function (content, options) {\n\n\t\tif (content instanceof L.Popup) {\n\t\t\tL.setOptions(content, options);\n\t\t\tthis._popup = content;\n\t\t\tcontent._source = this;\n\t\t} else {\n\t\t\tif (!this._popup || options) {\n\t\t\t\tthis._popup = new L.Popup(options, this);\n\t\t\t}\n\t\t\tthis._popup.setContent(content);\n\t\t}\n\n\t\tif (!this._popupHandlersAdded) {\n\t\t\tthis.on({\n\t\t\t\tclick: this._openPopup,\n\t\t\t\tremove: this.closePopup,\n\t\t\t\tmove: this._movePopup\n\t\t\t});\n\t\t\tthis._popupHandlersAdded = true;\n\t\t}\n\n\t\treturn this;\n\t},\n\n\t// @method unbindPopup(): this\n\t// Removes the popup previously bound with `bindPopup`.\n\tunbindPopup: function () {\n\t\tif (this._popup) {\n\t\t\tthis.off({\n\t\t\t\tclick: this._openPopup,\n\t\t\t\tremove: this.closePopup,\n\t\t\t\tmove: this._movePopup\n\t\t\t});\n\t\t\tthis._popupHandlersAdded = false;\n\t\t\tthis._popup = null;\n\t\t}\n\t\treturn this;\n\t},\n\n\t// @method openPopup(latlng?: LatLng): this\n\t// Opens the bound popup at the specificed `latlng` or at the default popup anchor if no `latlng` is passed.\n\topenPopup: function (layer, latlng) {\n\t\tif (!(layer instanceof L.Layer)) {\n\t\t\tlatlng = layer;\n\t\t\tlayer = this;\n\t\t}\n\n\t\tif (layer instanceof L.FeatureGroup) {\n\t\t\tfor (var id in this._layers) {\n\t\t\t\tlayer = this._layers[id];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif (!latlng) {\n\t\t\tlatlng = layer.getCenter ? layer.getCenter() : layer.getLatLng();\n\t\t}\n\n\t\tif (this._popup && this._map) {\n\t\t\t// set popup source to this layer\n\t\t\tthis._popup._source = layer;\n\n\t\t\t// update the popup (content, layout, ect...)\n\t\t\tthis._popup.update();\n\n\t\t\t// open the popup on the map\n\t\t\tthis._map.openPopup(this._popup, latlng);\n\t\t}\n\n\t\treturn this;\n\t},\n\n\t// @method closePopup(): this\n\t// Closes the popup bound to this layer if it is open.\n\tclosePopup: function () {\n\t\tif (this._popup) {\n\t\t\tthis._popup._close();\n\t\t}\n\t\treturn this;\n\t},\n\n\t// @method togglePopup(): this\n\t// Opens or closes the popup bound to this layer depending on its current state.\n\ttogglePopup: function (target) {\n\t\tif (this._popup) {\n\t\t\tif (this._popup._map) {\n\t\t\t\tthis.closePopup();\n\t\t\t} else {\n\t\t\t\tthis.openPopup(target);\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t},\n\n\t// @method isPopupOpen(): boolean\n\t// Returns `true` if the popup bound to this layer is currently open.\n\tisPopupOpen: function () {\n\t\treturn this._popup.isOpen();\n\t},\n\n\t// @method setPopupContent(content: String|HTMLElement|Popup): this\n\t// Sets the content of the popup bound to this layer.\n\tsetPopupContent: function (content) {\n\t\tif (this._popup) {\n\t\t\tthis._popup.setContent(content);\n\t\t}\n\t\treturn this;\n\t},\n\n\t// @method getPopup(): Popup\n\t// Returns the popup bound to this layer.\n\tgetPopup: function () {\n\t\treturn this._popup;\n\t},\n\n\t_openPopup: function (e) {\n\t\tvar layer = e.layer || e.target;\n\n\t\tif (!this._popup) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!this._map) {\n\t\t\treturn;\n\t\t}\n\n\t\t// prevent map click\n\t\tL.DomEvent.stop(e);\n\n\t\t// if this inherits from Path its a vector and we can just\n\t\t// open the popup at the new location\n\t\tif (layer instanceof L.Path) {\n\t\t\tthis.openPopup(e.layer || e.target, e.latlng);\n\t\t\treturn;\n\t\t}\n\n\t\t// otherwise treat it like a marker and figure out\n\t\t// if we should toggle it open/closed\n\t\tif (this._map.hasLayer(this._popup) && this._popup._source === layer) {\n\t\t\tthis.closePopup();\n\t\t} else {\n\t\t\tthis.openPopup(layer, e.latlng);\n\t\t}\n\t},\n\n\t_movePopup: function (e) {\n\t\tthis._popup.setLatLng(e.latlng);\n\t}\n});\n\n/*\r\n * Popup extension to L.Marker, adding popup-related methods.\r\n */\r\n\r\nL.Marker.include({\r\n\t_getPopupAnchor: function () {\r\n\t\treturn this.options.icon.options.popupAnchor || [0, 0];\r\n\t}\r\n});\r\n\n/*\n * @class Tooltip\n * @inherits DivOverlay\n * @aka L.Tooltip\n * Used to display small texts on top of map layers.\n *\n * @example\n *\n * ```js\n * marker.bindTooltip(\"my tooltip text\").openTooltip();\n * ```\n * Note about tooltip offset. Leaflet takes two options in consideration\n * for computing tooltip offseting:\n * - the `offset` Tooltip option: it defaults to [0, 0], and it's specific to one tooltip.\n *   Add a positive x offset to move the tooltip to the right, and a positive y offset to\n *   move it to the bottom. Negatives will move to the left and top.\n * - the `tooltipAnchor` Icon option: this will only be considered for Marker. You\n *   should adapt this value if you use a custom icon.\n */\n\n\n// @namespace Tooltip\nL.Tooltip = L.DivOverlay.extend({\n\n\t// @section\n\t// @aka Tooltip options\n\toptions: {\n\t\t// @option pane: String = 'tooltipPane'\n\t\t// `Map pane` where the tooltip will be added.\n\t\tpane: 'tooltipPane',\n\n\t\t// @option offset: Point = Point(0, 0)\n\t\t// Optional offset of the tooltip position.\n\t\toffset: [0, 0],\n\n\t\t// @option direction: String = 'auto'\n\t\t// Direction where to open the tooltip. Possible values are: `right`, `left`,\n\t\t// `top`, `bottom`, `center`, `auto`.\n\t\t// `auto` will dynamicaly switch between `right` and `left` according to the tooltip\n\t\t// position on the map.\n\t\tdirection: 'auto',\n\n\t\t// @option permanent: Boolean = false\n\t\t// Whether to open the tooltip permanently or only on mouseover.\n\t\tpermanent: false,\n\n\t\t// @option sticky: Boolean = false\n\t\t// If true, the tooltip will follow the mouse instead of being fixed at the feature center.\n\t\tsticky: false,\n\n\t\t// @option interactive: Boolean = false\n\t\t// If true, the tooltip will listen to the feature events.\n\t\tinteractive: false,\n\n\t\t// @option opacity: Number = 0.9\n\t\t// Tooltip container opacity.\n\t\topacity: 0.9\n\t},\n\n\tonAdd: function (map) {\n\t\tL.DivOverlay.prototype.onAdd.call(this, map);\n\t\tthis.setOpacity(this.options.opacity);\n\n\t\t// @namespace Map\n\t\t// @section Tooltip events\n\t\t// @event tooltipopen: TooltipEvent\n\t\t// Fired when a tooltip is opened in the map.\n\t\tmap.fire('tooltipopen', {tooltip: this});\n\n\t\tif (this._source) {\n\t\t\t// @namespace Layer\n\t\t\t// @section Tooltip events\n\t\t\t// @event tooltipopen: TooltipEvent\n\t\t\t// Fired when a tooltip bound to this layer is opened.\n\t\t\tthis._source.fire('tooltipopen', {tooltip: this}, true);\n\t\t}\n\t},\n\n\tonRemove: function (map) {\n\t\tL.DivOverlay.prototype.onRemove.call(this, map);\n\n\t\t// @namespace Map\n\t\t// @section Tooltip events\n\t\t// @event tooltipclose: TooltipEvent\n\t\t// Fired when a tooltip in the map is closed.\n\t\tmap.fire('tooltipclose', {tooltip: this});\n\n\t\tif (this._source) {\n\t\t\t// @namespace Layer\n\t\t\t// @section Tooltip events\n\t\t\t// @event tooltipclose: TooltipEvent\n\t\t\t// Fired when a tooltip bound to this layer is closed.\n\t\t\tthis._source.fire('tooltipclose', {tooltip: this}, true);\n\t\t}\n\t},\n\n\tgetEvents: function () {\n\t\tvar events = L.DivOverlay.prototype.getEvents.call(this);\n\n\t\tif (L.Browser.touch && !this.options.permanent) {\n\t\t\tevents.preclick = this._close;\n\t\t}\n\n\t\treturn events;\n\t},\n\n\t_close: function () {\n\t\tif (this._map) {\n\t\t\tthis._map.closeTooltip(this);\n\t\t}\n\t},\n\n\t_initLayout: function () {\n\t\tvar prefix = 'leaflet-tooltip',\n\t\t    className = prefix + ' ' + (this.options.className || '') + ' leaflet-zoom-' + (this._zoomAnimated ? 'animated' : 'hide');\n\n\t\tthis._contentNode = this._container = L.DomUtil.create('div', className);\n\t},\n\n\t_updateLayout: function () {},\n\n\t_adjustPan: function () {},\n\n\t_setPosition: function (pos) {\n\t\tvar map = this._map,\n\t\t    container = this._container,\n\t\t    centerPoint = map.latLngToContainerPoint(map.getCenter()),\n\t\t    tooltipPoint = map.layerPointToContainerPoint(pos),\n\t\t    direction = this.options.direction,\n\t\t    tooltipWidth = container.offsetWidth,\n\t\t    tooltipHeight = container.offsetHeight,\n\t\t    offset = L.point(this.options.offset),\n\t\t    anchor = this._getAnchor();\n\n\t\tif (direction === 'top') {\n\t\t\tpos = pos.add(L.point(-tooltipWidth / 2 + offset.x, -tooltipHeight + offset.y + anchor.y));\n\t\t} else if (direction === 'bottom') {\n\t\t\tpos = pos.subtract(L.point(tooltipWidth / 2 - offset.x, -offset.y));\n\t\t} else if (direction === 'center') {\n\t\t\tpos = pos.subtract(L.point(tooltipWidth / 2 + offset.x, tooltipHeight / 2 - anchor.y + offset.y));\n\t\t} else if (direction === 'right' || direction === 'auto' && tooltipPoint.x < centerPoint.x) {\n\t\t\tdirection = 'right';\n\t\t\tpos = pos.add([offset.x + anchor.x, anchor.y - tooltipHeight / 2 + offset.y]);\n\t\t} else {\n\t\t\tdirection = 'left';\n\t\t\tpos = pos.subtract(L.point(tooltipWidth + anchor.x - offset.x, tooltipHeight / 2 - anchor.y - offset.y));\n\t\t}\n\n\t\tL.DomUtil.removeClass(container, 'leaflet-tooltip-right');\n\t\tL.DomUtil.removeClass(container, 'leaflet-tooltip-left');\n\t\tL.DomUtil.removeClass(container, 'leaflet-tooltip-top');\n\t\tL.DomUtil.removeClass(container, 'leaflet-tooltip-bottom');\n\t\tL.DomUtil.addClass(container, 'leaflet-tooltip-' + direction);\n\t\tL.DomUtil.setPosition(container, pos);\n\t},\n\n\t_updatePosition: function () {\n\t\tvar pos = this._map.latLngToLayerPoint(this._latlng);\n\t\tthis._setPosition(pos);\n\t},\n\n\tsetOpacity: function (opacity) {\n\t\tthis.options.opacity = opacity;\n\n\t\tif (this._container) {\n\t\t\tL.DomUtil.setOpacity(this._container, opacity);\n\t\t}\n\t},\n\n\t_animateZoom: function (e) {\n\t\tvar pos = this._map._latLngToNewLayerPoint(this._latlng, e.zoom, e.center);\n\t\tthis._setPosition(pos);\n\t},\n\n\t_getAnchor: function () {\n\t\t// Where should we anchor the tooltip on the source layer?\n\t\treturn L.point(this._source && this._source._getTooltipAnchor && !this.options.sticky ? this._source._getTooltipAnchor() : [0, 0]);\n\t}\n\n});\n\n// @namespace Tooltip\n// @factory L.tooltip(options?: Tooltip options, source?: Layer)\n// Instantiates a Tooltip object given an optional `options` object that describes its appearance and location and an optional `source` object that is used to tag the tooltip with a reference to the Layer to which it refers.\nL.tooltip = function (options, source) {\n\treturn new L.Tooltip(options, source);\n};\n\n// @namespace Map\n// @section Methods for Layers and Controls\nL.Map.include({\n\n\t// @method openTooltip(tooltip: Tooltip): this\n\t// Opens the specified tooltip.\n\t// @alternative\n\t// @method openTooltip(content: String|HTMLElement, latlng: LatLng, options?: Tooltip options): this\n\t// Creates a tooltip with the specified content and options and open it.\n\topenTooltip: function (tooltip, latlng, options) {\n\t\tif (!(tooltip instanceof L.Tooltip)) {\n\t\t\ttooltip = new L.Tooltip(options).setContent(tooltip);\n\t\t}\n\n\t\tif (latlng) {\n\t\t\ttooltip.setLatLng(latlng);\n\t\t}\n\n\t\tif (this.hasLayer(tooltip)) {\n\t\t\treturn this;\n\t\t}\n\n\t\treturn this.addLayer(tooltip);\n\t},\n\n\t// @method closeTooltip(tooltip?: Tooltip): this\n\t// Closes the tooltip given as parameter.\n\tcloseTooltip: function (tooltip) {\n\t\tif (tooltip) {\n\t\t\tthis.removeLayer(tooltip);\n\t\t}\n\t\treturn this;\n\t}\n\n});\n\n/*\n * @namespace Layer\n * @section Tooltip methods example\n *\n * All layers share a set of methods convenient for binding tooltips to it.\n *\n * ```js\n * var layer = L.Polygon(latlngs).bindTooltip('Hi There!').addTo(map);\n * layer.openTooltip();\n * layer.closeTooltip();\n * ```\n */\n\n// @section Tooltip methods\nL.Layer.include({\n\n\t// @method bindTooltip(content: String|HTMLElement|Function|Tooltip, options?: Tooltip options): this\n\t// Binds a tooltip to the layer with the passed `content` and sets up the\n\t// neccessary event listeners. If a `Function` is passed it will receive\n\t// the layer as the first argument and should return a `String` or `HTMLElement`.\n\tbindTooltip: function (content, options) {\n\n\t\tif (content instanceof L.Tooltip) {\n\t\t\tL.setOptions(content, options);\n\t\t\tthis._tooltip = content;\n\t\t\tcontent._source = this;\n\t\t} else {\n\t\t\tif (!this._tooltip || options) {\n\t\t\t\tthis._tooltip = L.tooltip(options, this);\n\t\t\t}\n\t\t\tthis._tooltip.setContent(content);\n\n\t\t}\n\n\t\tthis._initTooltipInteractions();\n\n\t\tif (this._tooltip.options.permanent && this._map && this._map.hasLayer(this)) {\n\t\t\tthis.openTooltip();\n\t\t}\n\n\t\treturn this;\n\t},\n\n\t// @method unbindTooltip(): this\n\t// Removes the tooltip previously bound with `bindTooltip`.\n\tunbindTooltip: function () {\n\t\tif (this._tooltip) {\n\t\t\tthis._initTooltipInteractions(true);\n\t\t\tthis.closeTooltip();\n\t\t\tthis._tooltip = null;\n\t\t}\n\t\treturn this;\n\t},\n\n\t_initTooltipInteractions: function (remove) {\n\t\tif (!remove && this._tooltipHandlersAdded) { return; }\n\t\tvar onOff = remove ? 'off' : 'on',\n\t\t    events = {\n\t\t\tremove: this.closeTooltip,\n\t\t\tmove: this._moveTooltip\n\t\t    };\n\t\tif (!this._tooltip.options.permanent) {\n\t\t\tevents.mouseover = this._openTooltip;\n\t\t\tevents.mouseout = this.closeTooltip;\n\t\t\tif (this._tooltip.options.sticky) {\n\t\t\t\tevents.mousemove = this._moveTooltip;\n\t\t\t}\n\t\t\tif (L.Browser.touch) {\n\t\t\t\tevents.click = this._openTooltip;\n\t\t\t}\n\t\t} else {\n\t\t\tevents.add = this._openTooltip;\n\t\t}\n\t\tthis[onOff](events);\n\t\tthis._tooltipHandlersAdded = !remove;\n\t},\n\n\t// @method openTooltip(latlng?: LatLng): this\n\t// Opens the bound tooltip at the specificed `latlng` or at the default tooltip anchor if no `latlng` is passed.\n\topenTooltip: function (layer, latlng) {\n\t\tif (!(layer instanceof L.Layer)) {\n\t\t\tlatlng = layer;\n\t\t\tlayer = this;\n\t\t}\n\n\t\tif (layer instanceof L.FeatureGroup) {\n\t\t\tfor (var id in this._layers) {\n\t\t\t\tlayer = this._layers[id];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif (!latlng) {\n\t\t\tlatlng = layer.getCenter ? layer.getCenter() : layer.getLatLng();\n\t\t}\n\n\t\tif (this._tooltip && this._map) {\n\n\t\t\t// set tooltip source to this layer\n\t\t\tthis._tooltip._source = layer;\n\n\t\t\t// update the tooltip (content, layout, ect...)\n\t\t\tthis._tooltip.update();\n\n\t\t\t// open the tooltip on the map\n\t\t\tthis._map.openTooltip(this._tooltip, latlng);\n\n\t\t\t// Tooltip container may not be defined if not permanent and never\n\t\t\t// opened.\n\t\t\tif (this._tooltip.options.interactive && this._tooltip._container) {\n\t\t\t\tL.DomUtil.addClass(this._tooltip._container, 'leaflet-clickable');\n\t\t\t\tthis.addInteractiveTarget(this._tooltip._container);\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\t// @method closeTooltip(): this\n\t// Closes the tooltip bound to this layer if it is open.\n\tcloseTooltip: function () {\n\t\tif (this._tooltip) {\n\t\t\tthis._tooltip._close();\n\t\t\tif (this._tooltip.options.interactive && this._tooltip._container) {\n\t\t\t\tL.DomUtil.removeClass(this._tooltip._container, 'leaflet-clickable');\n\t\t\t\tthis.removeInteractiveTarget(this._tooltip._container);\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t},\n\n\t// @method toggleTooltip(): this\n\t// Opens or closes the tooltip bound to this layer depending on its current state.\n\ttoggleTooltip: function (target) {\n\t\tif (this._tooltip) {\n\t\t\tif (this._tooltip._map) {\n\t\t\t\tthis.closeTooltip();\n\t\t\t} else {\n\t\t\t\tthis.openTooltip(target);\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t},\n\n\t// @method isTooltipOpen(): boolean\n\t// Returns `true` if the tooltip bound to this layer is currently open.\n\tisTooltipOpen: function () {\n\t\treturn this._tooltip.isOpen();\n\t},\n\n\t// @method setTooltipContent(content: String|HTMLElement|Tooltip): this\n\t// Sets the content of the tooltip bound to this layer.\n\tsetTooltipContent: function (content) {\n\t\tif (this._tooltip) {\n\t\t\tthis._tooltip.setContent(content);\n\t\t}\n\t\treturn this;\n\t},\n\n\t// @method getTooltip(): Tooltip\n\t// Returns the tooltip bound to this layer.\n\tgetTooltip: function () {\n\t\treturn this._tooltip;\n\t},\n\n\t_openTooltip: function (e) {\n\t\tvar layer = e.layer || e.target;\n\n\t\tif (!this._tooltip || !this._map) {\n\t\t\treturn;\n\t\t}\n\t\tthis.openTooltip(layer, this._tooltip.options.sticky ? e.latlng : undefined);\n\t},\n\n\t_moveTooltip: function (e) {\n\t\tvar latlng = e.latlng, containerPoint, layerPoint;\n\t\tif (this._tooltip.options.sticky && e.originalEvent) {\n\t\t\tcontainerPoint = this._map.mouseEventToContainerPoint(e.originalEvent);\n\t\t\tlayerPoint = this._map.containerPointToLayerPoint(containerPoint);\n\t\t\tlatlng = this._map.layerPointToLatLng(layerPoint);\n\t\t}\n\t\tthis._tooltip.setLatLng(latlng);\n\t}\n});\n\n/*\r\n * Tooltip extension to L.Marker, adding tooltip-related methods.\r\n */\r\n\r\nL.Marker.include({\r\n\t_getTooltipAnchor: function () {\r\n\t\treturn this.options.icon.options.tooltipAnchor || [0, 0];\r\n\t}\r\n});\r\n\n/*\r\n * @class LayerGroup\r\n * @aka L.LayerGroup\r\n * @inherits Layer\r\n *\r\n * Used to group several layers and handle them as one. If you add it to the map,\r\n * any layers added or removed from the group will be added/removed on the map as\r\n * well. Extends `Layer`.\r\n *\r\n * @example\r\n *\r\n * ```js\r\n * L.layerGroup([marker1, marker2])\r\n * \t.addLayer(polyline)\r\n * \t.addTo(map);\r\n * ```\r\n */\r\n\r\nL.LayerGroup = L.Layer.extend({\r\n\r\n\tinitialize: function (layers) {\r\n\t\tthis._layers = {};\r\n\r\n\t\tvar i, len;\r\n\r\n\t\tif (layers) {\r\n\t\t\tfor (i = 0, len = layers.length; i < len; i++) {\r\n\t\t\t\tthis.addLayer(layers[i]);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t// @method addLayer(layer: Layer): this\r\n\t// Adds the given layer to the group.\r\n\taddLayer: function (layer) {\r\n\t\tvar id = this.getLayerId(layer);\r\n\r\n\t\tthis._layers[id] = layer;\r\n\r\n\t\tif (this._map) {\r\n\t\t\tthis._map.addLayer(layer);\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method removeLayer(layer: Layer): this\r\n\t// Removes the given layer from the group.\r\n\t// @alternative\r\n\t// @method removeLayer(id: Number): this\r\n\t// Removes the layer with the given internal ID from the group.\r\n\tremoveLayer: function (layer) {\r\n\t\tvar id = layer in this._layers ? layer : this.getLayerId(layer);\r\n\r\n\t\tif (this._map && this._layers[id]) {\r\n\t\t\tthis._map.removeLayer(this._layers[id]);\r\n\t\t}\r\n\r\n\t\tdelete this._layers[id];\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method hasLayer(layer: Layer): Boolean\r\n\t// Returns `true` if the given layer is currently added to the group.\r\n\thasLayer: function (layer) {\r\n\t\treturn !!layer && (layer in this._layers || this.getLayerId(layer) in this._layers);\r\n\t},\r\n\r\n\t// @method clearLayers(): this\r\n\t// Removes all the layers from the group.\r\n\tclearLayers: function () {\r\n\t\tfor (var i in this._layers) {\r\n\t\t\tthis.removeLayer(this._layers[i]);\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method invoke(methodName: String, …): this\r\n\t// Calls `methodName` on every layer contained in this group, passing any\r\n\t// additional parameters. Has no effect if the layers contained do not\r\n\t// implement `methodName`.\r\n\tinvoke: function (methodName) {\r\n\t\tvar args = Array.prototype.slice.call(arguments, 1),\r\n\t\t    i, layer;\r\n\r\n\t\tfor (i in this._layers) {\r\n\t\t\tlayer = this._layers[i];\r\n\r\n\t\t\tif (layer[methodName]) {\r\n\t\t\t\tlayer[methodName].apply(layer, args);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\tonAdd: function (map) {\r\n\t\tfor (var i in this._layers) {\r\n\t\t\tmap.addLayer(this._layers[i]);\r\n\t\t}\r\n\t},\r\n\r\n\tonRemove: function (map) {\r\n\t\tfor (var i in this._layers) {\r\n\t\t\tmap.removeLayer(this._layers[i]);\r\n\t\t}\r\n\t},\r\n\r\n\t// @method eachLayer(fn: Function, context?: Object): this\r\n\t// Iterates over the layers of the group, optionally specifying context of the iterator function.\r\n\t// ```js\r\n\t// group.eachLayer(function (layer) {\r\n\t// \tlayer.bindPopup('Hello');\r\n\t// });\r\n\t// ```\r\n\teachLayer: function (method, context) {\r\n\t\tfor (var i in this._layers) {\r\n\t\t\tmethod.call(context, this._layers[i]);\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method getLayer(id: Number): Layer\r\n\t// Returns the layer with the given internal ID.\r\n\tgetLayer: function (id) {\r\n\t\treturn this._layers[id];\r\n\t},\r\n\r\n\t// @method getLayers(): Layer[]\r\n\t// Returns an array of all the layers added to the group.\r\n\tgetLayers: function () {\r\n\t\tvar layers = [];\r\n\r\n\t\tfor (var i in this._layers) {\r\n\t\t\tlayers.push(this._layers[i]);\r\n\t\t}\r\n\t\treturn layers;\r\n\t},\r\n\r\n\t// @method setZIndex(zIndex: Number): this\r\n\t// Calls `setZIndex` on every layer contained in this group, passing the z-index.\r\n\tsetZIndex: function (zIndex) {\r\n\t\treturn this.invoke('setZIndex', zIndex);\r\n\t},\r\n\r\n\t// @method getLayerId(layer: Layer): Number\r\n\t// Returns the internal ID for a layer\r\n\tgetLayerId: function (layer) {\r\n\t\treturn L.stamp(layer);\r\n\t}\r\n});\r\n\r\n\r\n// @factory L.layerGroup(layers: Layer[])\r\n// Create a layer group, optionally given an initial set of layers.\r\nL.layerGroup = function (layers) {\r\n\treturn new L.LayerGroup(layers);\r\n};\r\n\n/*\r\n * @class FeatureGroup\r\n * @aka L.FeatureGroup\r\n * @inherits LayerGroup\r\n *\r\n * Extended `LayerGroup` that makes it easier to do the same thing to all its member layers:\r\n *  * [`bindPopup`](#layer-bindpopup) binds a popup to all of the layers at once (likewise with [`bindTooltip`](#layer-bindtooltip))\r\n *  * Events are propagated to the `FeatureGroup`, so if the group has an event\r\n * handler, it will handle events from any of the layers. This includes mouse events\r\n * and custom events.\r\n *  * Has `layeradd` and `layerremove` events\r\n *\r\n * @example\r\n *\r\n * ```js\r\n * L.featureGroup([marker1, marker2, polyline])\r\n * \t.bindPopup('Hello world!')\r\n * \t.on('click', function() { alert('Clicked on a member of the group!'); })\r\n * \t.addTo(map);\r\n * ```\r\n */\r\n\r\nL.FeatureGroup = L.LayerGroup.extend({\r\n\r\n\taddLayer: function (layer) {\r\n\t\tif (this.hasLayer(layer)) {\r\n\t\t\treturn this;\r\n\t\t}\r\n\r\n\t\tlayer.addEventParent(this);\r\n\r\n\t\tL.LayerGroup.prototype.addLayer.call(this, layer);\r\n\r\n\t\t// @event layeradd: LayerEvent\r\n\t\t// Fired when a layer is added to this `FeatureGroup`\r\n\t\treturn this.fire('layeradd', {layer: layer});\r\n\t},\r\n\r\n\tremoveLayer: function (layer) {\r\n\t\tif (!this.hasLayer(layer)) {\r\n\t\t\treturn this;\r\n\t\t}\r\n\t\tif (layer in this._layers) {\r\n\t\t\tlayer = this._layers[layer];\r\n\t\t}\r\n\r\n\t\tlayer.removeEventParent(this);\r\n\r\n\t\tL.LayerGroup.prototype.removeLayer.call(this, layer);\r\n\r\n\t\t// @event layerremove: LayerEvent\r\n\t\t// Fired when a layer is removed from this `FeatureGroup`\r\n\t\treturn this.fire('layerremove', {layer: layer});\r\n\t},\r\n\r\n\t// @method setStyle(style: Path options): this\r\n\t// Sets the given path options to each layer of the group that has a `setStyle` method.\r\n\tsetStyle: function (style) {\r\n\t\treturn this.invoke('setStyle', style);\r\n\t},\r\n\r\n\t// @method bringToFront(): this\r\n\t// Brings the layer group to the top of all other layers\r\n\tbringToFront: function () {\r\n\t\treturn this.invoke('bringToFront');\r\n\t},\r\n\r\n\t// @method bringToBack(): this\r\n\t// Brings the layer group to the top of all other layers\r\n\tbringToBack: function () {\r\n\t\treturn this.invoke('bringToBack');\r\n\t},\r\n\r\n\t// @method getBounds(): LatLngBounds\r\n\t// Returns the LatLngBounds of the Feature Group (created from bounds and coordinates of its children).\r\n\tgetBounds: function () {\r\n\t\tvar bounds = new L.LatLngBounds();\r\n\r\n\t\tfor (var id in this._layers) {\r\n\t\t\tvar layer = this._layers[id];\r\n\t\t\tbounds.extend(layer.getBounds ? layer.getBounds() : layer.getLatLng());\r\n\t\t}\r\n\t\treturn bounds;\r\n\t}\r\n});\r\n\r\n// @factory L.featureGroup(layers: Layer[])\r\n// Create a feature group, optionally given an initial set of layers.\r\nL.featureGroup = function (layers) {\r\n\treturn new L.FeatureGroup(layers);\r\n};\r\n\n/*\n * @class Renderer\n * @inherits Layer\n * @aka L.Renderer\n *\n * Base class for vector renderer implementations (`SVG`, `Canvas`). Handles the\n * DOM container of the renderer, its bounds, and its zoom animation.\n *\n * A `Renderer` works as an implicit layer group for all `Path`s - the renderer\n * itself can be added or removed to the map. All paths use a renderer, which can\n * be implicit (the map will decide the type of renderer and use it automatically)\n * or explicit (using the [`renderer`](#path-renderer) option of the path).\n *\n * Do not use this class directly, use `SVG` and `Canvas` instead.\n *\n * @event update: Event\n * Fired when the renderer updates its bounds, center and zoom, for example when\n * its map has moved\n */\n\nL.Renderer = L.Layer.extend({\n\n\t// @section\n\t// @aka Renderer options\n\toptions: {\n\t\t// @option padding: Number = 0.1\n\t\t// How much to extend the clip area around the map view (relative to its size)\n\t\t// e.g. 0.1 would be 10% of map view in each direction\n\t\tpadding: 0.1\n\t},\n\n\tinitialize: function (options) {\n\t\tL.setOptions(this, options);\n\t\tL.stamp(this);\n\t},\n\n\tonAdd: function () {\n\t\tif (!this._container) {\n\t\t\tthis._initContainer(); // defined by renderer implementations\n\n\t\t\tif (this._zoomAnimated) {\n\t\t\t\tL.DomUtil.addClass(this._container, 'leaflet-zoom-animated');\n\t\t\t}\n\t\t}\n\n\t\tthis.getPane().appendChild(this._container);\n\t\tthis._update();\n\t},\n\n\tonRemove: function () {\n\t\tL.DomUtil.remove(this._container);\n\t},\n\n\tgetEvents: function () {\n\t\tvar events = {\n\t\t\tviewreset: this._reset,\n\t\t\tzoom: this._onZoom,\n\t\t\tmoveend: this._update\n\t\t};\n\t\tif (this._zoomAnimated) {\n\t\t\tevents.zoomanim = this._onAnimZoom;\n\t\t}\n\t\treturn events;\n\t},\n\n\t_onAnimZoom: function (ev) {\n\t\tthis._updateTransform(ev.center, ev.zoom);\n\t},\n\n\t_onZoom: function () {\n\t\tthis._updateTransform(this._map.getCenter(), this._map.getZoom());\n\t},\n\n\t_updateTransform: function (center, zoom) {\n\t\tvar scale = this._map.getZoomScale(zoom, this._zoom),\n\t\t    position = L.DomUtil.getPosition(this._container),\n\t\t    viewHalf = this._map.getSize().multiplyBy(0.5 + this.options.padding),\n\t\t    currentCenterPoint = this._map.project(this._center, zoom),\n\t\t    destCenterPoint = this._map.project(center, zoom),\n\t\t    centerOffset = destCenterPoint.subtract(currentCenterPoint),\n\n\t\t    topLeftOffset = viewHalf.multiplyBy(-scale).add(position).add(viewHalf).subtract(centerOffset);\n\n\t\tif (L.Browser.any3d) {\n\t\t\tL.DomUtil.setTransform(this._container, topLeftOffset, scale);\n\t\t} else {\n\t\t\tL.DomUtil.setPosition(this._container, topLeftOffset);\n\t\t}\n\t},\n\n\t_reset: function () {\n\t\tthis._update();\n\t\tthis._updateTransform(this._center, this._zoom);\n\t},\n\n\t_update: function () {\n\t\t// Update pixel bounds of renderer container (for positioning/sizing/clipping later)\n\t\t// Subclasses are responsible of firing the 'update' event.\n\t\tvar p = this.options.padding,\n\t\t    size = this._map.getSize(),\n\t\t    min = this._map.containerPointToLayerPoint(size.multiplyBy(-p)).round();\n\n\t\tthis._bounds = new L.Bounds(min, min.add(size.multiplyBy(1 + p * 2)).round());\n\n\t\tthis._center = this._map.getCenter();\n\t\tthis._zoom = this._map.getZoom();\n\t}\n});\n\n\nL.Map.include({\n\t// @namespace Map; @method getRenderer(layer: Path): Renderer\n\t// Returns the instance of `Renderer` that should be used to render the given\n\t// `Path`. It will ensure that the `renderer` options of the map and paths\n\t// are respected, and that the renderers do exist on the map.\n\tgetRenderer: function (layer) {\n\t\t// @namespace Path; @option renderer: Renderer\n\t\t// Use this specific instance of `Renderer` for this path. Takes\n\t\t// precedence over the map's [default renderer](#map-renderer).\n\t\tvar renderer = layer.options.renderer || this._getPaneRenderer(layer.options.pane) || this.options.renderer || this._renderer;\n\n\t\tif (!renderer) {\n\t\t\t// @namespace Map; @option preferCanvas: Boolean = false\n\t\t\t// Whether `Path`s should be rendered on a `Canvas` renderer.\n\t\t\t// By default, all `Path`s are rendered in a `SVG` renderer.\n\t\t\trenderer = this._renderer = (this.options.preferCanvas && L.canvas()) || L.svg();\n\t\t}\n\n\t\tif (!this.hasLayer(renderer)) {\n\t\t\tthis.addLayer(renderer);\n\t\t}\n\t\treturn renderer;\n\t},\n\n\t_getPaneRenderer: function (name) {\n\t\tif (name === 'overlayPane' || name === undefined) {\n\t\t\treturn false;\n\t\t}\n\n\t\tvar renderer = this._paneRenderers[name];\n\t\tif (renderer === undefined) {\n\t\t\trenderer = (L.SVG && L.svg({pane: name})) || (L.Canvas && L.canvas({pane: name}));\n\t\t\tthis._paneRenderers[name] = renderer;\n\t\t}\n\t\treturn renderer;\n\t}\n});\n\n/*\n * @class Path\n * @aka L.Path\n * @inherits Interactive layer\n *\n * An abstract class that contains options and constants shared between vector\n * overlays (Polygon, Polyline, Circle). Do not use it directly. Extends `Layer`.\n */\n\nL.Path = L.Layer.extend({\n\n\t// @section\n\t// @aka Path options\n\toptions: {\n\t\t// @option stroke: Boolean = true\n\t\t// Whether to draw stroke along the path. Set it to `false` to disable borders on polygons or circles.\n\t\tstroke: true,\n\n\t\t// @option color: String = '#3388ff'\n\t\t// Stroke color\n\t\tcolor: '#3388ff',\n\n\t\t// @option weight: Number = 3\n\t\t// Stroke width in pixels\n\t\tweight: 3,\n\n\t\t// @option opacity: Number = 1.0\n\t\t// Stroke opacity\n\t\topacity: 1,\n\n\t\t// @option lineCap: String= 'round'\n\t\t// A string that defines [shape to be used at the end](https://developer.mozilla.org/docs/Web/SVG/Attribute/stroke-linecap) of the stroke.\n\t\tlineCap: 'round',\n\n\t\t// @option lineJoin: String = 'round'\n\t\t// A string that defines [shape to be used at the corners](https://developer.mozilla.org/docs/Web/SVG/Attribute/stroke-linejoin) of the stroke.\n\t\tlineJoin: 'round',\n\n\t\t// @option dashArray: String = null\n\t\t// A string that defines the stroke [dash pattern](https://developer.mozilla.org/docs/Web/SVG/Attribute/stroke-dasharray). Doesn't work on `Canvas`-powered layers in [some old browsers](https://developer.mozilla.org/docs/Web/API/CanvasRenderingContext2D/setLineDash#Browser_compatibility).\n\t\tdashArray: null,\n\n\t\t// @option dashOffset: String = null\n\t\t// A string that defines the [distance into the dash pattern to start the dash](https://developer.mozilla.org/docs/Web/SVG/Attribute/stroke-dashoffset). Doesn't work on `Canvas`-powered layers in [some old browsers](https://developer.mozilla.org/docs/Web/API/CanvasRenderingContext2D/setLineDash#Browser_compatibility).\n\t\tdashOffset: null,\n\n\t\t// @option fill: Boolean = depends\n\t\t// Whether to fill the path with color. Set it to `false` to disable filling on polygons or circles.\n\t\tfill: false,\n\n\t\t// @option fillColor: String = *\n\t\t// Fill color. Defaults to the value of the [`color`](#path-color) option\n\t\tfillColor: null,\n\n\t\t// @option fillOpacity: Number = 0.2\n\t\t// Fill opacity.\n\t\tfillOpacity: 0.2,\n\n\t\t// @option fillRule: String = 'evenodd'\n\t\t// A string that defines [how the inside of a shape](https://developer.mozilla.org/docs/Web/SVG/Attribute/fill-rule) is determined.\n\t\tfillRule: 'evenodd',\n\n\t\t// className: '',\n\n\t\t// Option inherited from \"Interactive layer\" abstract class\n\t\tinteractive: true\n\t},\n\n\tbeforeAdd: function (map) {\n\t\t// Renderer is set here because we need to call renderer.getEvents\n\t\t// before this.getEvents.\n\t\tthis._renderer = map.getRenderer(this);\n\t},\n\n\tonAdd: function () {\n\t\tthis._renderer._initPath(this);\n\t\tthis._reset();\n\t\tthis._renderer._addPath(this);\n\t\tthis._renderer.on('update', this._update, this);\n\t},\n\n\tonRemove: function () {\n\t\tthis._renderer._removePath(this);\n\t\tthis._renderer.off('update', this._update, this);\n\t},\n\n\tgetEvents: function () {\n\t\treturn {\n\t\t\tzoomend: this._project,\n\t\t\tviewreset: this._reset\n\t\t};\n\t},\n\n\t// @method redraw(): this\n\t// Redraws the layer. Sometimes useful after you changed the coordinates that the path uses.\n\tredraw: function () {\n\t\tif (this._map) {\n\t\t\tthis._renderer._updatePath(this);\n\t\t}\n\t\treturn this;\n\t},\n\n\t// @method setStyle(style: Path options): this\n\t// Changes the appearance of a Path based on the options in the `Path options` object.\n\tsetStyle: function (style) {\n\t\tL.setOptions(this, style);\n\t\tif (this._renderer) {\n\t\t\tthis._renderer._updateStyle(this);\n\t\t}\n\t\treturn this;\n\t},\n\n\t// @method bringToFront(): this\n\t// Brings the layer to the top of all path layers.\n\tbringToFront: function () {\n\t\tif (this._renderer) {\n\t\t\tthis._renderer._bringToFront(this);\n\t\t}\n\t\treturn this;\n\t},\n\n\t// @method bringToBack(): this\n\t// Brings the layer to the bottom of all path layers.\n\tbringToBack: function () {\n\t\tif (this._renderer) {\n\t\t\tthis._renderer._bringToBack(this);\n\t\t}\n\t\treturn this;\n\t},\n\n\tgetElement: function () {\n\t\treturn this._path;\n\t},\n\n\t_reset: function () {\n\t\t// defined in children classes\n\t\tthis._project();\n\t\tthis._update();\n\t},\n\n\t_clickTolerance: function () {\n\t\t// used when doing hit detection for Canvas layers\n\t\treturn (this.options.stroke ? this.options.weight / 2 : 0) + (L.Browser.touch ? 10 : 0);\n\t}\n});\n\n/*\r\n * @namespace LineUtil\r\n *\r\n * Various utility functions for polyine points processing, used by Leaflet internally to make polylines lightning-fast.\r\n */\r\n\r\nL.LineUtil = {\r\n\r\n\t// Simplify polyline with vertex reduction and Douglas-Peucker simplification.\r\n\t// Improves rendering performance dramatically by lessening the number of points to draw.\r\n\r\n\t// @function simplify(points: Point[], tolerance: Number): Point[]\r\n\t// Dramatically reduces the number of points in a polyline while retaining\r\n\t// its shape and returns a new array of simplified points, using the\r\n\t// [Douglas-Peucker algorithm](http://en.wikipedia.org/wiki/Douglas-Peucker_algorithm).\r\n\t// Used for a huge performance boost when processing/displaying Leaflet polylines for\r\n\t// each zoom level and also reducing visual noise. tolerance affects the amount of\r\n\t// simplification (lesser value means higher quality but slower and with more points).\r\n\t// Also released as a separated micro-library [Simplify.js](http://mourner.github.com/simplify-js/).\r\n\tsimplify: function (points, tolerance) {\r\n\t\tif (!tolerance || !points.length) {\r\n\t\t\treturn points.slice();\r\n\t\t}\r\n\r\n\t\tvar sqTolerance = tolerance * tolerance;\r\n\r\n\t\t// stage 1: vertex reduction\r\n\t\tpoints = this._reducePoints(points, sqTolerance);\r\n\r\n\t\t// stage 2: Douglas-Peucker simplification\r\n\t\tpoints = this._simplifyDP(points, sqTolerance);\r\n\r\n\t\treturn points;\r\n\t},\r\n\r\n\t// @function pointToSegmentDistance(p: Point, p1: Point, p2: Point): Number\r\n\t// Returns the distance between point `p` and segment `p1` to `p2`.\r\n\tpointToSegmentDistance:  function (p, p1, p2) {\r\n\t\treturn Math.sqrt(this._sqClosestPointOnSegment(p, p1, p2, true));\r\n\t},\r\n\r\n\t// @function closestPointOnSegment(p: Point, p1: Point, p2: Point): Number\r\n\t// Returns the closest point from a point `p` on a segment `p1` to `p2`.\r\n\tclosestPointOnSegment: function (p, p1, p2) {\r\n\t\treturn this._sqClosestPointOnSegment(p, p1, p2);\r\n\t},\r\n\r\n\t// Douglas-Peucker simplification, see http://en.wikipedia.org/wiki/Douglas-Peucker_algorithm\r\n\t_simplifyDP: function (points, sqTolerance) {\r\n\r\n\t\tvar len = points.length,\r\n\t\t    ArrayConstructor = typeof Uint8Array !== undefined + '' ? Uint8Array : Array,\r\n\t\t    markers = new ArrayConstructor(len);\r\n\r\n\t\tmarkers[0] = markers[len - 1] = 1;\r\n\r\n\t\tthis._simplifyDPStep(points, markers, sqTolerance, 0, len - 1);\r\n\r\n\t\tvar i,\r\n\t\t    newPoints = [];\r\n\r\n\t\tfor (i = 0; i < len; i++) {\r\n\t\t\tif (markers[i]) {\r\n\t\t\t\tnewPoints.push(points[i]);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn newPoints;\r\n\t},\r\n\r\n\t_simplifyDPStep: function (points, markers, sqTolerance, first, last) {\r\n\r\n\t\tvar maxSqDist = 0,\r\n\t\t    index, i, sqDist;\r\n\r\n\t\tfor (i = first + 1; i <= last - 1; i++) {\r\n\t\t\tsqDist = this._sqClosestPointOnSegment(points[i], points[first], points[last], true);\r\n\r\n\t\t\tif (sqDist > maxSqDist) {\r\n\t\t\t\tindex = i;\r\n\t\t\t\tmaxSqDist = sqDist;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (maxSqDist > sqTolerance) {\r\n\t\t\tmarkers[index] = 1;\r\n\r\n\t\t\tthis._simplifyDPStep(points, markers, sqTolerance, first, index);\r\n\t\t\tthis._simplifyDPStep(points, markers, sqTolerance, index, last);\r\n\t\t}\r\n\t},\r\n\r\n\t// reduce points that are too close to each other to a single point\r\n\t_reducePoints: function (points, sqTolerance) {\r\n\t\tvar reducedPoints = [points[0]];\r\n\r\n\t\tfor (var i = 1, prev = 0, len = points.length; i < len; i++) {\r\n\t\t\tif (this._sqDist(points[i], points[prev]) > sqTolerance) {\r\n\t\t\t\treducedPoints.push(points[i]);\r\n\t\t\t\tprev = i;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (prev < len - 1) {\r\n\t\t\treducedPoints.push(points[len - 1]);\r\n\t\t}\r\n\t\treturn reducedPoints;\r\n\t},\r\n\r\n\r\n\t// @function clipSegment(a: Point, b: Point, bounds: Bounds, useLastCode?: Boolean, round?: Boolean): Point[]|Boolean\r\n\t// Clips the segment a to b by rectangular bounds with the\r\n\t// [Cohen-Sutherland algorithm](https://en.wikipedia.org/wiki/Cohen%E2%80%93Sutherland_algorithm)\r\n\t// (modifying the segment points directly!). Used by Leaflet to only show polyline\r\n\t// points that are on the screen or near, increasing performance.\r\n\tclipSegment: function (a, b, bounds, useLastCode, round) {\r\n\t\tvar codeA = useLastCode ? this._lastCode : this._getBitCode(a, bounds),\r\n\t\t    codeB = this._getBitCode(b, bounds),\r\n\r\n\t\t    codeOut, p, newCode;\r\n\r\n\t\t// save 2nd code to avoid calculating it on the next segment\r\n\t\tthis._lastCode = codeB;\r\n\r\n\t\twhile (true) {\r\n\t\t\t// if a,b is inside the clip window (trivial accept)\r\n\t\t\tif (!(codeA | codeB)) {\r\n\t\t\t\treturn [a, b];\r\n\t\t\t}\r\n\r\n\t\t\t// if a,b is outside the clip window (trivial reject)\r\n\t\t\tif (codeA & codeB) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\t// other cases\r\n\t\t\tcodeOut = codeA || codeB;\r\n\t\t\tp = this._getEdgeIntersection(a, b, codeOut, bounds, round);\r\n\t\t\tnewCode = this._getBitCode(p, bounds);\r\n\r\n\t\t\tif (codeOut === codeA) {\r\n\t\t\t\ta = p;\r\n\t\t\t\tcodeA = newCode;\r\n\t\t\t} else {\r\n\t\t\t\tb = p;\r\n\t\t\t\tcodeB = newCode;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t_getEdgeIntersection: function (a, b, code, bounds, round) {\r\n\t\tvar dx = b.x - a.x,\r\n\t\t    dy = b.y - a.y,\r\n\t\t    min = bounds.min,\r\n\t\t    max = bounds.max,\r\n\t\t    x, y;\r\n\r\n\t\tif (code & 8) { // top\r\n\t\t\tx = a.x + dx * (max.y - a.y) / dy;\r\n\t\t\ty = max.y;\r\n\r\n\t\t} else if (code & 4) { // bottom\r\n\t\t\tx = a.x + dx * (min.y - a.y) / dy;\r\n\t\t\ty = min.y;\r\n\r\n\t\t} else if (code & 2) { // right\r\n\t\t\tx = max.x;\r\n\t\t\ty = a.y + dy * (max.x - a.x) / dx;\r\n\r\n\t\t} else if (code & 1) { // left\r\n\t\t\tx = min.x;\r\n\t\t\ty = a.y + dy * (min.x - a.x) / dx;\r\n\t\t}\r\n\r\n\t\treturn new L.Point(x, y, round);\r\n\t},\r\n\r\n\t_getBitCode: function (p, bounds) {\r\n\t\tvar code = 0;\r\n\r\n\t\tif (p.x < bounds.min.x) { // left\r\n\t\t\tcode |= 1;\r\n\t\t} else if (p.x > bounds.max.x) { // right\r\n\t\t\tcode |= 2;\r\n\t\t}\r\n\r\n\t\tif (p.y < bounds.min.y) { // bottom\r\n\t\t\tcode |= 4;\r\n\t\t} else if (p.y > bounds.max.y) { // top\r\n\t\t\tcode |= 8;\r\n\t\t}\r\n\r\n\t\treturn code;\r\n\t},\r\n\r\n\t// square distance (to avoid unnecessary Math.sqrt calls)\r\n\t_sqDist: function (p1, p2) {\r\n\t\tvar dx = p2.x - p1.x,\r\n\t\t    dy = p2.y - p1.y;\r\n\t\treturn dx * dx + dy * dy;\r\n\t},\r\n\r\n\t// return closest point on segment or distance to that point\r\n\t_sqClosestPointOnSegment: function (p, p1, p2, sqDist) {\r\n\t\tvar x = p1.x,\r\n\t\t    y = p1.y,\r\n\t\t    dx = p2.x - x,\r\n\t\t    dy = p2.y - y,\r\n\t\t    dot = dx * dx + dy * dy,\r\n\t\t    t;\r\n\r\n\t\tif (dot > 0) {\r\n\t\t\tt = ((p.x - x) * dx + (p.y - y) * dy) / dot;\r\n\r\n\t\t\tif (t > 1) {\r\n\t\t\t\tx = p2.x;\r\n\t\t\t\ty = p2.y;\r\n\t\t\t} else if (t > 0) {\r\n\t\t\t\tx += dx * t;\r\n\t\t\t\ty += dy * t;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tdx = p.x - x;\r\n\t\tdy = p.y - y;\r\n\r\n\t\treturn sqDist ? dx * dx + dy * dy : new L.Point(x, y);\r\n\t}\r\n};\r\n\n/*\n * @class Polyline\n * @aka L.Polyline\n * @inherits Path\n *\n * A class for drawing polyline overlays on a map. Extends `Path`.\n *\n * @example\n *\n * ```js\n * // create a red polyline from an array of LatLng points\n * var latlngs = [\n * \t[-122.68, 45.51],\n * \t[-122.43, 37.77],\n * \t[-118.2, 34.04]\n * ];\n *\n * var polyline = L.polyline(latlngs, {color: 'red'}).addTo(map);\n *\n * // zoom the map to the polyline\n * map.fitBounds(polyline.getBounds());\n * ```\n *\n * You can also pass a multi-dimensional array to represent a `MultiPolyline` shape:\n *\n * ```js\n * // create a red polyline from an array of arrays of LatLng points\n * var latlngs = [\n * \t[[-122.68, 45.51],\n * \t [-122.43, 37.77],\n * \t [-118.2, 34.04]],\n * \t[[-73.91, 40.78],\n * \t [-87.62, 41.83],\n * \t [-96.72, 32.76]]\n * ];\n * ```\n */\n\nL.Polyline = L.Path.extend({\n\n\t// @section\n\t// @aka Polyline options\n\toptions: {\n\t\t// @option smoothFactor: Number = 1.0\n\t\t// How much to simplify the polyline on each zoom level. More means\n\t\t// better performance and smoother look, and less means more accurate representation.\n\t\tsmoothFactor: 1.0,\n\n\t\t// @option noClip: Boolean = false\n\t\t// Disable polyline clipping.\n\t\tnoClip: false\n\t},\n\n\tinitialize: function (latlngs, options) {\n\t\tL.setOptions(this, options);\n\t\tthis._setLatLngs(latlngs);\n\t},\n\n\t// @method getLatLngs(): LatLng[]\n\t// Returns an array of the points in the path, or nested arrays of points in case of multi-polyline.\n\tgetLatLngs: function () {\n\t\treturn this._latlngs;\n\t},\n\n\t// @method setLatLngs(latlngs: LatLng[]): this\n\t// Replaces all the points in the polyline with the given array of geographical points.\n\tsetLatLngs: function (latlngs) {\n\t\tthis._setLatLngs(latlngs);\n\t\treturn this.redraw();\n\t},\n\n\t// @method isEmpty(): Boolean\n\t// Returns `true` if the Polyline has no LatLngs.\n\tisEmpty: function () {\n\t\treturn !this._latlngs.length;\n\t},\n\n\tclosestLayerPoint: function (p) {\n\t\tvar minDistance = Infinity,\n\t\t    minPoint = null,\n\t\t    closest = L.LineUtil._sqClosestPointOnSegment,\n\t\t    p1, p2;\n\n\t\tfor (var j = 0, jLen = this._parts.length; j < jLen; j++) {\n\t\t\tvar points = this._parts[j];\n\n\t\t\tfor (var i = 1, len = points.length; i < len; i++) {\n\t\t\t\tp1 = points[i - 1];\n\t\t\t\tp2 = points[i];\n\n\t\t\t\tvar sqDist = closest(p, p1, p2, true);\n\n\t\t\t\tif (sqDist < minDistance) {\n\t\t\t\t\tminDistance = sqDist;\n\t\t\t\t\tminPoint = closest(p, p1, p2);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (minPoint) {\n\t\t\tminPoint.distance = Math.sqrt(minDistance);\n\t\t}\n\t\treturn minPoint;\n\t},\n\n\t// @method getCenter(): LatLng\n\t// Returns the center ([centroid](http://en.wikipedia.org/wiki/Centroid)) of the polyline.\n\tgetCenter: function () {\n\t\t// throws error when not yet added to map as this center calculation requires projected coordinates\n\t\tif (!this._map) {\n\t\t\tthrow new Error('Must add layer to map before using getCenter()');\n\t\t}\n\n\t\tvar i, halfDist, segDist, dist, p1, p2, ratio,\n\t\t    points = this._rings[0],\n\t\t    len = points.length;\n\n\t\tif (!len) { return null; }\n\n\t\t// polyline centroid algorithm; only uses the first ring if there are multiple\n\n\t\tfor (i = 0, halfDist = 0; i < len - 1; i++) {\n\t\t\thalfDist += points[i].distanceTo(points[i + 1]) / 2;\n\t\t}\n\n\t\t// The line is so small in the current view that all points are on the same pixel.\n\t\tif (halfDist === 0) {\n\t\t\treturn this._map.layerPointToLatLng(points[0]);\n\t\t}\n\n\t\tfor (i = 0, dist = 0; i < len - 1; i++) {\n\t\t\tp1 = points[i];\n\t\t\tp2 = points[i + 1];\n\t\t\tsegDist = p1.distanceTo(p2);\n\t\t\tdist += segDist;\n\n\t\t\tif (dist > halfDist) {\n\t\t\t\tratio = (dist - halfDist) / segDist;\n\t\t\t\treturn this._map.layerPointToLatLng([\n\t\t\t\t\tp2.x - ratio * (p2.x - p1.x),\n\t\t\t\t\tp2.y - ratio * (p2.y - p1.y)\n\t\t\t\t]);\n\t\t\t}\n\t\t}\n\t},\n\n\t// @method getBounds(): LatLngBounds\n\t// Returns the `LatLngBounds` of the path.\n\tgetBounds: function () {\n\t\treturn this._bounds;\n\t},\n\n\t// @method addLatLng(latlng: LatLng, latlngs? LatLng[]): this\n\t// Adds a given point to the polyline. By default, adds to the first ring of\n\t// the polyline in case of a multi-polyline, but can be overridden by passing\n\t// a specific ring as a LatLng array (that you can earlier access with [`getLatLngs`](#polyline-getlatlngs)).\n\taddLatLng: function (latlng, latlngs) {\n\t\tlatlngs = latlngs || this._defaultShape();\n\t\tlatlng = L.latLng(latlng);\n\t\tlatlngs.push(latlng);\n\t\tthis._bounds.extend(latlng);\n\t\treturn this.redraw();\n\t},\n\n\t_setLatLngs: function (latlngs) {\n\t\tthis._bounds = new L.LatLngBounds();\n\t\tthis._latlngs = this._convertLatLngs(latlngs);\n\t},\n\n\t_defaultShape: function () {\n\t\treturn L.Polyline._flat(this._latlngs) ? this._latlngs : this._latlngs[0];\n\t},\n\n\t// recursively convert latlngs input into actual LatLng instances; calculate bounds along the way\n\t_convertLatLngs: function (latlngs) {\n\t\tvar result = [],\n\t\t    flat = L.Polyline._flat(latlngs);\n\n\t\tfor (var i = 0, len = latlngs.length; i < len; i++) {\n\t\t\tif (flat) {\n\t\t\t\tresult[i] = L.latLng(latlngs[i]);\n\t\t\t\tthis._bounds.extend(result[i]);\n\t\t\t} else {\n\t\t\t\tresult[i] = this._convertLatLngs(latlngs[i]);\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t},\n\n\t_project: function () {\n\t\tvar pxBounds = new L.Bounds();\n\t\tthis._rings = [];\n\t\tthis._projectLatlngs(this._latlngs, this._rings, pxBounds);\n\n\t\tvar w = this._clickTolerance(),\n\t\t    p = new L.Point(w, w);\n\n\t\tif (this._bounds.isValid() && pxBounds.isValid()) {\n\t\t\tpxBounds.min._subtract(p);\n\t\t\tpxBounds.max._add(p);\n\t\t\tthis._pxBounds = pxBounds;\n\t\t}\n\t},\n\n\t// recursively turns latlngs into a set of rings with projected coordinates\n\t_projectLatlngs: function (latlngs, result, projectedBounds) {\n\t\tvar flat = latlngs[0] instanceof L.LatLng,\n\t\t    len = latlngs.length,\n\t\t    i, ring;\n\n\t\tif (flat) {\n\t\t\tring = [];\n\t\t\tfor (i = 0; i < len; i++) {\n\t\t\t\tring[i] = this._map.latLngToLayerPoint(latlngs[i]);\n\t\t\t\tprojectedBounds.extend(ring[i]);\n\t\t\t}\n\t\t\tresult.push(ring);\n\t\t} else {\n\t\t\tfor (i = 0; i < len; i++) {\n\t\t\t\tthis._projectLatlngs(latlngs[i], result, projectedBounds);\n\t\t\t}\n\t\t}\n\t},\n\n\t// clip polyline by renderer bounds so that we have less to render for performance\n\t_clipPoints: function () {\n\t\tvar bounds = this._renderer._bounds;\n\n\t\tthis._parts = [];\n\t\tif (!this._pxBounds || !this._pxBounds.intersects(bounds)) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.options.noClip) {\n\t\t\tthis._parts = this._rings;\n\t\t\treturn;\n\t\t}\n\n\t\tvar parts = this._parts,\n\t\t    i, j, k, len, len2, segment, points;\n\n\t\tfor (i = 0, k = 0, len = this._rings.length; i < len; i++) {\n\t\t\tpoints = this._rings[i];\n\n\t\t\tfor (j = 0, len2 = points.length; j < len2 - 1; j++) {\n\t\t\t\tsegment = L.LineUtil.clipSegment(points[j], points[j + 1], bounds, j, true);\n\n\t\t\t\tif (!segment) { continue; }\n\n\t\t\t\tparts[k] = parts[k] || [];\n\t\t\t\tparts[k].push(segment[0]);\n\n\t\t\t\t// if segment goes out of screen, or it's the last one, it's the end of the line part\n\t\t\t\tif ((segment[1] !== points[j + 1]) || (j === len2 - 2)) {\n\t\t\t\t\tparts[k].push(segment[1]);\n\t\t\t\t\tk++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t// simplify each clipped part of the polyline for performance\n\t_simplifyPoints: function () {\n\t\tvar parts = this._parts,\n\t\t    tolerance = this.options.smoothFactor;\n\n\t\tfor (var i = 0, len = parts.length; i < len; i++) {\n\t\t\tparts[i] = L.LineUtil.simplify(parts[i], tolerance);\n\t\t}\n\t},\n\n\t_update: function () {\n\t\tif (!this._map) { return; }\n\n\t\tthis._clipPoints();\n\t\tthis._simplifyPoints();\n\t\tthis._updatePath();\n\t},\n\n\t_updatePath: function () {\n\t\tthis._renderer._updatePoly(this);\n\t}\n});\n\n// @factory L.polyline(latlngs: LatLng[], options?: Polyline options)\n// Instantiates a polyline object given an array of geographical points and\n// optionally an options object. You can create a `Polyline` object with\n// multiple separate lines (`MultiPolyline`) by passing an array of arrays\n// of geographic points.\nL.polyline = function (latlngs, options) {\n\treturn new L.Polyline(latlngs, options);\n};\n\nL.Polyline._flat = function (latlngs) {\n\t// true if it's a flat array of latlngs; false if nested\n\treturn !L.Util.isArray(latlngs[0]) || (typeof latlngs[0][0] !== 'object' && typeof latlngs[0][0] !== 'undefined');\n};\n\n/*\r\n * @namespace PolyUtil\r\n * Various utility functions for polygon geometries.\r\n */\r\n\r\nL.PolyUtil = {};\r\n\r\n/* @function clipPolygon(points: Point[], bounds: Bounds, round?: Boolean): Point[]\r\n * Clips the polygon geometry defined by the given `points` by the given bounds (using the [Sutherland-Hodgeman algorithm](https://en.wikipedia.org/wiki/Sutherland%E2%80%93Hodgman_algorithm)).\r\n * Used by Leaflet to only show polygon points that are on the screen or near, increasing\r\n * performance. Note that polygon points needs different algorithm for clipping\r\n * than polyline, so there's a seperate method for it.\r\n */\r\nL.PolyUtil.clipPolygon = function (points, bounds, round) {\r\n\tvar clippedPoints,\r\n\t    edges = [1, 4, 2, 8],\r\n\t    i, j, k,\r\n\t    a, b,\r\n\t    len, edge, p,\r\n\t    lu = L.LineUtil;\r\n\r\n\tfor (i = 0, len = points.length; i < len; i++) {\r\n\t\tpoints[i]._code = lu._getBitCode(points[i], bounds);\r\n\t}\r\n\r\n\t// for each edge (left, bottom, right, top)\r\n\tfor (k = 0; k < 4; k++) {\r\n\t\tedge = edges[k];\r\n\t\tclippedPoints = [];\r\n\r\n\t\tfor (i = 0, len = points.length, j = len - 1; i < len; j = i++) {\r\n\t\t\ta = points[i];\r\n\t\t\tb = points[j];\r\n\r\n\t\t\t// if a is inside the clip window\r\n\t\t\tif (!(a._code & edge)) {\r\n\t\t\t\t// if b is outside the clip window (a->b goes out of screen)\r\n\t\t\t\tif (b._code & edge) {\r\n\t\t\t\t\tp = lu._getEdgeIntersection(b, a, edge, bounds, round);\r\n\t\t\t\t\tp._code = lu._getBitCode(p, bounds);\r\n\t\t\t\t\tclippedPoints.push(p);\r\n\t\t\t\t}\r\n\t\t\t\tclippedPoints.push(a);\r\n\r\n\t\t\t// else if b is inside the clip window (a->b enters the screen)\r\n\t\t\t} else if (!(b._code & edge)) {\r\n\t\t\t\tp = lu._getEdgeIntersection(b, a, edge, bounds, round);\r\n\t\t\t\tp._code = lu._getBitCode(p, bounds);\r\n\t\t\t\tclippedPoints.push(p);\r\n\t\t\t}\r\n\t\t}\r\n\t\tpoints = clippedPoints;\r\n\t}\r\n\r\n\treturn points;\r\n};\r\n\n/*\n * @class Polygon\n * @aka L.Polygon\n * @inherits Polyline\n *\n * A class for drawing polygon overlays on a map. Extends `Polyline`.\n *\n * Note that points you pass when creating a polygon shouldn't have an additional last point equal to the first one — it's better to filter out such points.\n *\n *\n * @example\n *\n * ```js\n * // create a red polygon from an array of LatLng points\n * var latlngs = [[-111.03, 41],[-111.04, 45],[-104.05, 45],[-104.05, 41]];\n *\n * var polygon = L.polygon(latlngs, {color: 'red'}).addTo(map);\n *\n * // zoom the map to the polygon\n * map.fitBounds(polygon.getBounds());\n * ```\n *\n * You can also pass an array of arrays of latlngs, with the first array representing the outer shape and the other arrays representing holes in the outer shape:\n *\n * ```js\n * var latlngs = [\n *   [[-111.03, 41],[-111.04, 45],[-104.05, 45],[-104.05, 41]], // outer ring\n *   [[-108.58,37.29],[-108.58,40.71],[-102.50,40.71],[-102.50,37.29]] // hole\n * ];\n * ```\n *\n * Additionally, you can pass a multi-dimensional array to represent a MultiPolygon shape.\n *\n * ```js\n * var latlngs = [\n *   [ // first polygon\n *     [[-111.03, 41],[-111.04, 45],[-104.05, 45],[-104.05, 41]], // outer ring\n *     [[-108.58,37.29],[-108.58,40.71],[-102.50,40.71],[-102.50,37.29]] // hole\n *   ],\n *   [ // second polygon\n *     [[-109.05, 37],[-109.03, 41],[-102.05, 41],[-102.04, 37],[-109.05, 38]]\n *   ]\n * ];\n * ```\n */\n\nL.Polygon = L.Polyline.extend({\n\n\toptions: {\n\t\tfill: true\n\t},\n\n\tisEmpty: function () {\n\t\treturn !this._latlngs.length || !this._latlngs[0].length;\n\t},\n\n\tgetCenter: function () {\n\t\t// throws error when not yet added to map as this center calculation requires projected coordinates\n\t\tif (!this._map) {\n\t\t\tthrow new Error('Must add layer to map before using getCenter()');\n\t\t}\n\n\t\tvar i, j, p1, p2, f, area, x, y, center,\n\t\t    points = this._rings[0],\n\t\t    len = points.length;\n\n\t\tif (!len) { return null; }\n\n\t\t// polygon centroid algorithm; only uses the first ring if there are multiple\n\n\t\tarea = x = y = 0;\n\n\t\tfor (i = 0, j = len - 1; i < len; j = i++) {\n\t\t\tp1 = points[i];\n\t\t\tp2 = points[j];\n\n\t\t\tf = p1.y * p2.x - p2.y * p1.x;\n\t\t\tx += (p1.x + p2.x) * f;\n\t\t\ty += (p1.y + p2.y) * f;\n\t\t\tarea += f * 3;\n\t\t}\n\n\t\tif (area === 0) {\n\t\t\t// Polygon is so small that all points are on same pixel.\n\t\t\tcenter = points[0];\n\t\t} else {\n\t\t\tcenter = [x / area, y / area];\n\t\t}\n\t\treturn this._map.layerPointToLatLng(center);\n\t},\n\n\t_convertLatLngs: function (latlngs) {\n\t\tvar result = L.Polyline.prototype._convertLatLngs.call(this, latlngs),\n\t\t    len = result.length;\n\n\t\t// remove last point if it equals first one\n\t\tif (len >= 2 && result[0] instanceof L.LatLng && result[0].equals(result[len - 1])) {\n\t\t\tresult.pop();\n\t\t}\n\t\treturn result;\n\t},\n\n\t_setLatLngs: function (latlngs) {\n\t\tL.Polyline.prototype._setLatLngs.call(this, latlngs);\n\t\tif (L.Polyline._flat(this._latlngs)) {\n\t\t\tthis._latlngs = [this._latlngs];\n\t\t}\n\t},\n\n\t_defaultShape: function () {\n\t\treturn L.Polyline._flat(this._latlngs[0]) ? this._latlngs[0] : this._latlngs[0][0];\n\t},\n\n\t_clipPoints: function () {\n\t\t// polygons need a different clipping algorithm so we redefine that\n\n\t\tvar bounds = this._renderer._bounds,\n\t\t    w = this.options.weight,\n\t\t    p = new L.Point(w, w);\n\n\t\t// increase clip padding by stroke width to avoid stroke on clip edges\n\t\tbounds = new L.Bounds(bounds.min.subtract(p), bounds.max.add(p));\n\n\t\tthis._parts = [];\n\t\tif (!this._pxBounds || !this._pxBounds.intersects(bounds)) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.options.noClip) {\n\t\t\tthis._parts = this._rings;\n\t\t\treturn;\n\t\t}\n\n\t\tfor (var i = 0, len = this._rings.length, clipped; i < len; i++) {\n\t\t\tclipped = L.PolyUtil.clipPolygon(this._rings[i], bounds, true);\n\t\t\tif (clipped.length) {\n\t\t\t\tthis._parts.push(clipped);\n\t\t\t}\n\t\t}\n\t},\n\n\t_updatePath: function () {\n\t\tthis._renderer._updatePoly(this, true);\n\t}\n});\n\n\n// @factory L.polygon(latlngs: LatLng[], options?: Polyline options)\nL.polygon = function (latlngs, options) {\n\treturn new L.Polygon(latlngs, options);\n};\n\n/*\n * L.Rectangle extends Polygon and creates a rectangle when passed a LatLngBounds object.\n */\n\n/*\n * @class Rectangle\n * @aka L.Retangle\n * @inherits Polygon\n *\n * A class for drawing rectangle overlays on a map. Extends `Polygon`.\n *\n * @example\n *\n * ```js\n * // define rectangle geographical bounds\n * var bounds = [[54.559322, -5.767822], [56.1210604, -3.021240]];\n *\n * // create an orange rectangle\n * L.rectangle(bounds, {color: \"#ff7800\", weight: 1}).addTo(map);\n *\n * // zoom the map to the rectangle bounds\n * map.fitBounds(bounds);\n * ```\n *\n */\n\n\nL.Rectangle = L.Polygon.extend({\n\tinitialize: function (latLngBounds, options) {\n\t\tL.Polygon.prototype.initialize.call(this, this._boundsToLatLngs(latLngBounds), options);\n\t},\n\n\t// @method setBounds(latLngBounds: LatLngBounds): this\n\t// Redraws the rectangle with the passed bounds.\n\tsetBounds: function (latLngBounds) {\n\t\treturn this.setLatLngs(this._boundsToLatLngs(latLngBounds));\n\t},\n\n\t_boundsToLatLngs: function (latLngBounds) {\n\t\tlatLngBounds = L.latLngBounds(latLngBounds);\n\t\treturn [\n\t\t\tlatLngBounds.getSouthWest(),\n\t\t\tlatLngBounds.getNorthWest(),\n\t\t\tlatLngBounds.getNorthEast(),\n\t\t\tlatLngBounds.getSouthEast()\n\t\t];\n\t}\n});\n\n\n// @factory L.rectangle(latLngBounds: LatLngBounds, options?: Polyline options)\nL.rectangle = function (latLngBounds, options) {\n\treturn new L.Rectangle(latLngBounds, options);\n};\n\n/*\n * @class CircleMarker\n * @aka L.CircleMarker\n * @inherits Path\n *\n * A circle of a fixed size with radius specified in pixels. Extends `Path`.\n */\n\nL.CircleMarker = L.Path.extend({\n\n\t// @section\n\t// @aka CircleMarker options\n\toptions: {\n\t\tfill: true,\n\n\t\t// @option radius: Number = 10\n\t\t// Radius of the circle marker, in pixels\n\t\tradius: 10\n\t},\n\n\tinitialize: function (latlng, options) {\n\t\tL.setOptions(this, options);\n\t\tthis._latlng = L.latLng(latlng);\n\t\tthis._radius = this.options.radius;\n\t},\n\n\t// @method setLatLng(latLng: LatLng): this\n\t// Sets the position of a circle marker to a new location.\n\tsetLatLng: function (latlng) {\n\t\tthis._latlng = L.latLng(latlng);\n\t\tthis.redraw();\n\t\treturn this.fire('move', {latlng: this._latlng});\n\t},\n\n\t// @method getLatLng(): LatLng\n\t// Returns the current geographical position of the circle marker\n\tgetLatLng: function () {\n\t\treturn this._latlng;\n\t},\n\n\t// @method setRadius(radius: Number): this\n\t// Sets the radius of a circle marker. Units are in pixels.\n\tsetRadius: function (radius) {\n\t\tthis.options.radius = this._radius = radius;\n\t\treturn this.redraw();\n\t},\n\n\t// @method getRadius(): Number\n\t// Returns the current radius of the circle\n\tgetRadius: function () {\n\t\treturn this._radius;\n\t},\n\n\tsetStyle : function (options) {\n\t\tvar radius = options && options.radius || this._radius;\n\t\tL.Path.prototype.setStyle.call(this, options);\n\t\tthis.setRadius(radius);\n\t\treturn this;\n\t},\n\n\t_project: function () {\n\t\tthis._point = this._map.latLngToLayerPoint(this._latlng);\n\t\tthis._updateBounds();\n\t},\n\n\t_updateBounds: function () {\n\t\tvar r = this._radius,\n\t\t    r2 = this._radiusY || r,\n\t\t    w = this._clickTolerance(),\n\t\t    p = [r + w, r2 + w];\n\t\tthis._pxBounds = new L.Bounds(this._point.subtract(p), this._point.add(p));\n\t},\n\n\t_update: function () {\n\t\tif (this._map) {\n\t\t\tthis._updatePath();\n\t\t}\n\t},\n\n\t_updatePath: function () {\n\t\tthis._renderer._updateCircle(this);\n\t},\n\n\t_empty: function () {\n\t\treturn this._radius && !this._renderer._bounds.intersects(this._pxBounds);\n\t}\n});\n\n\n// @factory L.circleMarker(latlng: LatLng, options?: CircleMarker options)\n// Instantiates a circle marker object given a geographical point, and an optional options object.\nL.circleMarker = function (latlng, options) {\n\treturn new L.CircleMarker(latlng, options);\n};\n\n/*\n * @class Circle\n * @aka L.Circle\n * @inherits CircleMarker\n *\n * A class for drawing circle overlays on a map. Extends `CircleMarker`.\n *\n * It's an approximation and starts to diverge from a real circle closer to poles (due to projection distortion).\n *\n * @example\n *\n * ```js\n * L.circle([50.5, 30.5], {radius: 200}).addTo(map);\n * ```\n */\n\nL.Circle = L.CircleMarker.extend({\n\n\tinitialize: function (latlng, options, legacyOptions) {\n\t\tif (typeof options === 'number') {\n\t\t\t// Backwards compatibility with 0.7.x factory (latlng, radius, options?)\n\t\t\toptions = L.extend({}, legacyOptions, {radius: options});\n\t\t}\n\t\tL.setOptions(this, options);\n\t\tthis._latlng = L.latLng(latlng);\n\n\t\tif (isNaN(this.options.radius)) { throw new Error('Circle radius cannot be NaN'); }\n\n\t\t// @section\n\t\t// @aka Circle options\n\t\t// @option radius: Number; Radius of the circle, in meters.\n\t\tthis._mRadius = this.options.radius;\n\t},\n\n\t// @method setRadius(radius: Number): this\n\t// Sets the radius of a circle. Units are in meters.\n\tsetRadius: function (radius) {\n\t\tthis._mRadius = radius;\n\t\treturn this.redraw();\n\t},\n\n\t// @method getRadius(): Number\n\t// Returns the current radius of a circle. Units are in meters.\n\tgetRadius: function () {\n\t\treturn this._mRadius;\n\t},\n\n\t// @method getBounds(): LatLngBounds\n\t// Returns the `LatLngBounds` of the path.\n\tgetBounds: function () {\n\t\tvar half = [this._radius, this._radiusY || this._radius];\n\n\t\treturn new L.LatLngBounds(\n\t\t\tthis._map.layerPointToLatLng(this._point.subtract(half)),\n\t\t\tthis._map.layerPointToLatLng(this._point.add(half)));\n\t},\n\n\tsetStyle: L.Path.prototype.setStyle,\n\n\t_project: function () {\n\n\t\tvar lng = this._latlng.lng,\n\t\t    lat = this._latlng.lat,\n\t\t    map = this._map,\n\t\t    crs = map.options.crs;\n\n\t\tif (crs.distance === L.CRS.Earth.distance) {\n\t\t\tvar d = Math.PI / 180,\n\t\t\t    latR = (this._mRadius / L.CRS.Earth.R) / d,\n\t\t\t    top = map.project([lat + latR, lng]),\n\t\t\t    bottom = map.project([lat - latR, lng]),\n\t\t\t    p = top.add(bottom).divideBy(2),\n\t\t\t    lat2 = map.unproject(p).lat,\n\t\t\t    lngR = Math.acos((Math.cos(latR * d) - Math.sin(lat * d) * Math.sin(lat2 * d)) /\n\t\t\t            (Math.cos(lat * d) * Math.cos(lat2 * d))) / d;\n\n\t\t\tif (isNaN(lngR) || lngR === 0) {\n\t\t\t\tlngR = latR / Math.cos(Math.PI / 180 * lat); // Fallback for edge case, #2425\n\t\t\t}\n\n\t\t\tthis._point = p.subtract(map.getPixelOrigin());\n\t\t\tthis._radius = isNaN(lngR) ? 0 : Math.max(Math.round(p.x - map.project([lat2, lng - lngR]).x), 1);\n\t\t\tthis._radiusY = Math.max(Math.round(p.y - top.y), 1);\n\n\t\t} else {\n\t\t\tvar latlng2 = crs.unproject(crs.project(this._latlng).subtract([this._mRadius, 0]));\n\n\t\t\tthis._point = map.latLngToLayerPoint(this._latlng);\n\t\t\tthis._radius = this._point.x - map.latLngToLayerPoint(latlng2).x;\n\t\t}\n\n\t\tthis._updateBounds();\n\t}\n});\n\n// @factory L.circle(latlng: LatLng, options?: Circle options)\n// Instantiates a circle object given a geographical point, and an options object\n// which contains the circle radius.\n// @alternative\n// @factory L.circle(latlng: LatLng, radius: Number, options?: Circle options)\n// Obsolete way of instantiating a circle, for compatibility with 0.7.x code.\n// Do not use in new applications or plugins.\nL.circle = function (latlng, options, legacyOptions) {\n\treturn new L.Circle(latlng, options, legacyOptions);\n};\n\n/*\n * @class SVG\n * @inherits Renderer\n * @aka L.SVG\n *\n * Allows vector layers to be displayed with [SVG](https://developer.mozilla.org/docs/Web/SVG).\n * Inherits `Renderer`.\n *\n * Due to [technical limitations](http://caniuse.com/#search=svg), SVG is not\n * available in all web browsers, notably Android 2.x and 3.x.\n *\n * Although SVG is not available on IE7 and IE8, these browsers support\n * [VML](https://en.wikipedia.org/wiki/Vector_Markup_Language)\n * (a now deprecated technology), and the SVG renderer will fall back to VML in\n * this case.\n *\n * @example\n *\n * Use SVG by default for all paths in the map:\n *\n * ```js\n * var map = L.map('map', {\n * \trenderer: L.svg()\n * });\n * ```\n *\n * Use a SVG renderer with extra padding for specific vector geometries:\n *\n * ```js\n * var map = L.map('map');\n * var myRenderer = L.svg({ padding: 0.5 });\n * var line = L.polyline( coordinates, { renderer: myRenderer } );\n * var circle = L.circle( center, { renderer: myRenderer } );\n * ```\n */\n\nL.SVG = L.Renderer.extend({\n\n\tgetEvents: function () {\n\t\tvar events = L.Renderer.prototype.getEvents.call(this);\n\t\tevents.zoomstart = this._onZoomStart;\n\t\treturn events;\n\t},\n\n\t_initContainer: function () {\n\t\tthis._container = L.SVG.create('svg');\n\n\t\t// makes it possible to click through svg root; we'll reset it back in individual paths\n\t\tthis._container.setAttribute('pointer-events', 'none');\n\n\t\tthis._rootGroup = L.SVG.create('g');\n\t\tthis._container.appendChild(this._rootGroup);\n\t},\n\n\t_onZoomStart: function () {\n\t\t// Drag-then-pinch interactions might mess up the center and zoom.\n\t\t// In this case, the easiest way to prevent this is re-do the renderer\n\t\t//   bounds and padding when the zooming starts.\n\t\tthis._update();\n\t},\n\n\t_update: function () {\n\t\tif (this._map._animatingZoom && this._bounds) { return; }\n\n\t\tL.Renderer.prototype._update.call(this);\n\n\t\tvar b = this._bounds,\n\t\t    size = b.getSize(),\n\t\t    container = this._container;\n\n\t\t// set size of svg-container if changed\n\t\tif (!this._svgSize || !this._svgSize.equals(size)) {\n\t\t\tthis._svgSize = size;\n\t\t\tcontainer.setAttribute('width', size.x);\n\t\t\tcontainer.setAttribute('height', size.y);\n\t\t}\n\n\t\t// movement: update container viewBox so that we don't have to change coordinates of individual layers\n\t\tL.DomUtil.setPosition(container, b.min);\n\t\tcontainer.setAttribute('viewBox', [b.min.x, b.min.y, size.x, size.y].join(' '));\n\n\t\tthis.fire('update');\n\t},\n\n\t// methods below are called by vector layers implementations\n\n\t_initPath: function (layer) {\n\t\tvar path = layer._path = L.SVG.create('path');\n\n\t\t// @namespace Path\n\t\t// @option className: String = null\n\t\t// Custom class name set on an element. Only for SVG renderer.\n\t\tif (layer.options.className) {\n\t\t\tL.DomUtil.addClass(path, layer.options.className);\n\t\t}\n\n\t\tif (layer.options.interactive) {\n\t\t\tL.DomUtil.addClass(path, 'leaflet-interactive');\n\t\t}\n\n\t\tthis._updateStyle(layer);\n\t},\n\n\t_addPath: function (layer) {\n\t\tthis._rootGroup.appendChild(layer._path);\n\t\tlayer.addInteractiveTarget(layer._path);\n\t},\n\n\t_removePath: function (layer) {\n\t\tL.DomUtil.remove(layer._path);\n\t\tlayer.removeInteractiveTarget(layer._path);\n\t},\n\n\t_updatePath: function (layer) {\n\t\tlayer._project();\n\t\tlayer._update();\n\t},\n\n\t_updateStyle: function (layer) {\n\t\tvar path = layer._path,\n\t\t    options = layer.options;\n\n\t\tif (!path) { return; }\n\n\t\tif (options.stroke) {\n\t\t\tpath.setAttribute('stroke', options.color);\n\t\t\tpath.setAttribute('stroke-opacity', options.opacity);\n\t\t\tpath.setAttribute('stroke-width', options.weight);\n\t\t\tpath.setAttribute('stroke-linecap', options.lineCap);\n\t\t\tpath.setAttribute('stroke-linejoin', options.lineJoin);\n\n\t\t\tif (options.dashArray) {\n\t\t\t\tpath.setAttribute('stroke-dasharray', options.dashArray);\n\t\t\t} else {\n\t\t\t\tpath.removeAttribute('stroke-dasharray');\n\t\t\t}\n\n\t\t\tif (options.dashOffset) {\n\t\t\t\tpath.setAttribute('stroke-dashoffset', options.dashOffset);\n\t\t\t} else {\n\t\t\t\tpath.removeAttribute('stroke-dashoffset');\n\t\t\t}\n\t\t} else {\n\t\t\tpath.setAttribute('stroke', 'none');\n\t\t}\n\n\t\tif (options.fill) {\n\t\t\tpath.setAttribute('fill', options.fillColor || options.color);\n\t\t\tpath.setAttribute('fill-opacity', options.fillOpacity);\n\t\t\tpath.setAttribute('fill-rule', options.fillRule || 'evenodd');\n\t\t} else {\n\t\t\tpath.setAttribute('fill', 'none');\n\t\t}\n\t},\n\n\t_updatePoly: function (layer, closed) {\n\t\tthis._setPath(layer, L.SVG.pointsToPath(layer._parts, closed));\n\t},\n\n\t_updateCircle: function (layer) {\n\t\tvar p = layer._point,\n\t\t    r = layer._radius,\n\t\t    r2 = layer._radiusY || r,\n\t\t    arc = 'a' + r + ',' + r2 + ' 0 1,0 ';\n\n\t\t// drawing a circle with two half-arcs\n\t\tvar d = layer._empty() ? 'M0 0' :\n\t\t\t\t'M' + (p.x - r) + ',' + p.y +\n\t\t\t\tarc + (r * 2) + ',0 ' +\n\t\t\t\tarc + (-r * 2) + ',0 ';\n\n\t\tthis._setPath(layer, d);\n\t},\n\n\t_setPath: function (layer, path) {\n\t\tlayer._path.setAttribute('d', path);\n\t},\n\n\t// SVG does not have the concept of zIndex so we resort to changing the DOM order of elements\n\t_bringToFront: function (layer) {\n\t\tL.DomUtil.toFront(layer._path);\n\t},\n\n\t_bringToBack: function (layer) {\n\t\tL.DomUtil.toBack(layer._path);\n\t}\n});\n\n\n// @namespace SVG; @section\n// There are several static functions which can be called without instantiating L.SVG:\nL.extend(L.SVG, {\n\t// @function create(name: String): SVGElement\n\t// Returns a instance of [SVGElement](https://developer.mozilla.org/docs/Web/API/SVGElement),\n\t// corresponding to the class name passed. For example, using 'line' will return\n\t// an instance of [SVGLineElement](https://developer.mozilla.org/docs/Web/API/SVGLineElement).\n\tcreate: function (name) {\n\t\treturn document.createElementNS('http://www.w3.org/2000/svg', name);\n\t},\n\n\t// @function pointsToPath(rings: Point[], closed: Boolean): String\n\t// Generates a SVG path string for multiple rings, with each ring turning\n\t// into \"M..L..L..\" instructions\n\tpointsToPath: function (rings, closed) {\n\t\tvar str = '',\n\t\t    i, j, len, len2, points, p;\n\n\t\tfor (i = 0, len = rings.length; i < len; i++) {\n\t\t\tpoints = rings[i];\n\n\t\t\tfor (j = 0, len2 = points.length; j < len2; j++) {\n\t\t\t\tp = points[j];\n\t\t\t\tstr += (j ? 'L' : 'M') + p.x + ' ' + p.y;\n\t\t\t}\n\n\t\t\t// closes the ring for polygons; \"x\" is VML syntax\n\t\t\tstr += closed ? (L.Browser.svg ? 'z' : 'x') : '';\n\t\t}\n\n\t\t// SVG complains about empty path strings\n\t\treturn str || 'M0 0';\n\t}\n});\n\n// @namespace Browser; @property svg: Boolean\n// `true` when the browser supports [SVG](https://developer.mozilla.org/docs/Web/SVG).\nL.Browser.svg = !!(document.createElementNS && L.SVG.create('svg').createSVGRect);\n\n\n// @namespace SVG\n// @factory L.svg(options?: Renderer options)\n// Creates a SVG renderer with the given options.\nL.svg = function (options) {\n\treturn L.Browser.svg || L.Browser.vml ? new L.SVG(options) : null;\n};\n\n/*\n * Thanks to Dmitry Baranovsky and his Raphael library for inspiration!\n */\n\n/*\n * @class SVG\n *\n * Although SVG is not available on IE7 and IE8, these browsers support [VML](https://en.wikipedia.org/wiki/Vector_Markup_Language), and the SVG renderer will fall back to VML in this case.\n *\n * VML was deprecated in 2012, which means VML functionality exists only for backwards compatibility\n * with old versions of Internet Explorer.\n */\n\n// @namespace Browser; @property vml: Boolean\n// `true` if the browser supports [VML](https://en.wikipedia.org/wiki/Vector_Markup_Language).\nL.Browser.vml = !L.Browser.svg && (function () {\n\ttry {\n\t\tvar div = document.createElement('div');\n\t\tdiv.innerHTML = '<v:shape adj=\"1\"/>';\n\n\t\tvar shape = div.firstChild;\n\t\tshape.style.behavior = 'url(#default#VML)';\n\n\t\treturn shape && (typeof shape.adj === 'object');\n\n\t} catch (e) {\n\t\treturn false;\n\t}\n}());\n\n// redefine some SVG methods to handle VML syntax which is similar but with some differences\nL.SVG.include(!L.Browser.vml ? {} : {\n\n\t_initContainer: function () {\n\t\tthis._container = L.DomUtil.create('div', 'leaflet-vml-container');\n\t},\n\n\t_update: function () {\n\t\tif (this._map._animatingZoom) { return; }\n\t\tL.Renderer.prototype._update.call(this);\n\t\tthis.fire('update');\n\t},\n\n\t_initPath: function (layer) {\n\t\tvar container = layer._container = L.SVG.create('shape');\n\n\t\tL.DomUtil.addClass(container, 'leaflet-vml-shape ' + (this.options.className || ''));\n\n\t\tcontainer.coordsize = '1 1';\n\n\t\tlayer._path = L.SVG.create('path');\n\t\tcontainer.appendChild(layer._path);\n\n\t\tthis._updateStyle(layer);\n\t},\n\n\t_addPath: function (layer) {\n\t\tvar container = layer._container;\n\t\tthis._container.appendChild(container);\n\n\t\tif (layer.options.interactive) {\n\t\t\tlayer.addInteractiveTarget(container);\n\t\t}\n\t},\n\n\t_removePath: function (layer) {\n\t\tvar container = layer._container;\n\t\tL.DomUtil.remove(container);\n\t\tlayer.removeInteractiveTarget(container);\n\t},\n\n\t_updateStyle: function (layer) {\n\t\tvar stroke = layer._stroke,\n\t\t    fill = layer._fill,\n\t\t    options = layer.options,\n\t\t    container = layer._container;\n\n\t\tcontainer.stroked = !!options.stroke;\n\t\tcontainer.filled = !!options.fill;\n\n\t\tif (options.stroke) {\n\t\t\tif (!stroke) {\n\t\t\t\tstroke = layer._stroke = L.SVG.create('stroke');\n\t\t\t}\n\t\t\tcontainer.appendChild(stroke);\n\t\t\tstroke.weight = options.weight + 'px';\n\t\t\tstroke.color = options.color;\n\t\t\tstroke.opacity = options.opacity;\n\n\t\t\tif (options.dashArray) {\n\t\t\t\tstroke.dashStyle = L.Util.isArray(options.dashArray) ?\n\t\t\t\t    options.dashArray.join(' ') :\n\t\t\t\t    options.dashArray.replace(/( *, *)/g, ' ');\n\t\t\t} else {\n\t\t\t\tstroke.dashStyle = '';\n\t\t\t}\n\t\t\tstroke.endcap = options.lineCap.replace('butt', 'flat');\n\t\t\tstroke.joinstyle = options.lineJoin;\n\n\t\t} else if (stroke) {\n\t\t\tcontainer.removeChild(stroke);\n\t\t\tlayer._stroke = null;\n\t\t}\n\n\t\tif (options.fill) {\n\t\t\tif (!fill) {\n\t\t\t\tfill = layer._fill = L.SVG.create('fill');\n\t\t\t}\n\t\t\tcontainer.appendChild(fill);\n\t\t\tfill.color = options.fillColor || options.color;\n\t\t\tfill.opacity = options.fillOpacity;\n\n\t\t} else if (fill) {\n\t\t\tcontainer.removeChild(fill);\n\t\t\tlayer._fill = null;\n\t\t}\n\t},\n\n\t_updateCircle: function (layer) {\n\t\tvar p = layer._point.round(),\n\t\t    r = Math.round(layer._radius),\n\t\t    r2 = Math.round(layer._radiusY || r);\n\n\t\tthis._setPath(layer, layer._empty() ? 'M0 0' :\n\t\t\t\t'AL ' + p.x + ',' + p.y + ' ' + r + ',' + r2 + ' 0,' + (65535 * 360));\n\t},\n\n\t_setPath: function (layer, path) {\n\t\tlayer._path.v = path;\n\t},\n\n\t_bringToFront: function (layer) {\n\t\tL.DomUtil.toFront(layer._container);\n\t},\n\n\t_bringToBack: function (layer) {\n\t\tL.DomUtil.toBack(layer._container);\n\t}\n});\n\nif (L.Browser.vml) {\n\tL.SVG.create = (function () {\n\t\ttry {\n\t\t\tdocument.namespaces.add('lvml', 'urn:schemas-microsoft-com:vml');\n\t\t\treturn function (name) {\n\t\t\t\treturn document.createElement('<lvml:' + name + ' class=\"lvml\">');\n\t\t\t};\n\t\t} catch (e) {\n\t\t\treturn function (name) {\n\t\t\t\treturn document.createElement('<' + name + ' xmlns=\"urn:schemas-microsoft.com:vml\" class=\"lvml\">');\n\t\t\t};\n\t\t}\n\t})();\n}\n\n/*\n * @class Canvas\n * @inherits Renderer\n * @aka L.Canvas\n *\n * Allows vector layers to be displayed with [`<canvas>`](https://developer.mozilla.org/docs/Web/API/Canvas_API).\n * Inherits `Renderer`.\n *\n * Due to [technical limitations](http://caniuse.com/#search=canvas), Canvas is not\n * available in all web browsers, notably IE8, and overlapping geometries might\n * not display properly in some edge cases.\n *\n * @example\n *\n * Use Canvas by default for all paths in the map:\n *\n * ```js\n * var map = L.map('map', {\n * \trenderer: L.canvas()\n * });\n * ```\n *\n * Use a Canvas renderer with extra padding for specific vector geometries:\n *\n * ```js\n * var map = L.map('map');\n * var myRenderer = L.canvas({ padding: 0.5 });\n * var line = L.polyline( coordinates, { renderer: myRenderer } );\n * var circle = L.circle( center, { renderer: myRenderer } );\n * ```\n */\n\nL.Canvas = L.Renderer.extend({\n\n\tonAdd: function () {\n\t\tL.Renderer.prototype.onAdd.call(this);\n\n\t\tthis._layers = this._layers || {};\n\n\t\t// Redraw vectors since canvas is cleared upon removal,\n\t\t// in case of removing the renderer itself from the map.\n\t\tthis._draw();\n\t},\n\n\t_initContainer: function () {\n\t\tvar container = this._container = document.createElement('canvas');\n\n\t\tL.DomEvent\n\t\t\t.on(container, 'mousemove', L.Util.throttle(this._onMouseMove, 32, this), this)\n\t\t\t.on(container, 'click dblclick mousedown mouseup contextmenu', this._onClick, this)\n\t\t\t.on(container, 'mouseout', this._handleMouseOut, this);\n\n\t\tthis._ctx = container.getContext('2d');\n\t},\n\n\t_update: function () {\n\t\tif (this._map._animatingZoom && this._bounds) { return; }\n\n\t\tthis._drawnLayers = {};\n\n\t\tL.Renderer.prototype._update.call(this);\n\n\t\tvar b = this._bounds,\n\t\t    container = this._container,\n\t\t    size = b.getSize(),\n\t\t    m = L.Browser.retina ? 2 : 1;\n\n\t\tL.DomUtil.setPosition(container, b.min);\n\n\t\t// set canvas size (also clearing it); use double size on retina\n\t\tcontainer.width = m * size.x;\n\t\tcontainer.height = m * size.y;\n\t\tcontainer.style.width = size.x + 'px';\n\t\tcontainer.style.height = size.y + 'px';\n\n\t\tif (L.Browser.retina) {\n\t\t\tthis._ctx.scale(2, 2);\n\t\t}\n\n\t\t// translate so we use the same path coordinates after canvas element moves\n\t\tthis._ctx.translate(-b.min.x, -b.min.y);\n\n\t\t// Tell paths to redraw themselves\n\t\tthis.fire('update');\n\t},\n\n\t_initPath: function (layer) {\n\t\tthis._updateDashArray(layer);\n\t\tthis._layers[L.stamp(layer)] = layer;\n\t},\n\n\t_addPath: L.Util.falseFn,\n\n\t_removePath: function (layer) {\n\t\tlayer._removed = true;\n\t\tthis._requestRedraw(layer);\n\t},\n\n\t_updatePath: function (layer) {\n\t\tthis._redrawBounds = layer._pxBounds;\n\t\tthis._draw(true);\n\t\tlayer._project();\n\t\tlayer._update();\n\t\tthis._draw();\n\t\tthis._redrawBounds = null;\n\t},\n\n\t_updateStyle: function (layer) {\n\t\tthis._updateDashArray(layer);\n\t\tthis._requestRedraw(layer);\n\t},\n\n\t_updateDashArray: function (layer) {\n\t\tif (layer.options.dashArray) {\n\t\t\tvar parts = layer.options.dashArray.split(','),\n\t\t\t    dashArray = [],\n\t\t\t    i;\n\t\t\tfor (i = 0; i < parts.length; i++) {\n\t\t\t\tdashArray.push(Number(parts[i]));\n\t\t\t}\n\t\t\tlayer.options._dashArray = dashArray;\n\t\t}\n\t},\n\n\t_requestRedraw: function (layer) {\n\t\tif (!this._map) { return; }\n\n\t\tvar padding = (layer.options.weight || 0) + 1;\n\t\tthis._redrawBounds = this._redrawBounds || new L.Bounds();\n\t\tthis._redrawBounds.extend(layer._pxBounds.min.subtract([padding, padding]));\n\t\tthis._redrawBounds.extend(layer._pxBounds.max.add([padding, padding]));\n\n\t\tthis._redrawRequest = this._redrawRequest || L.Util.requestAnimFrame(this._redraw, this);\n\t},\n\n\t_redraw: function () {\n\t\tthis._redrawRequest = null;\n\n\t\tthis._draw(true); // clear layers in redraw bounds\n\t\tthis._draw(); // draw layers\n\n\t\tthis._redrawBounds = null;\n\t},\n\n\t_draw: function (clear) {\n\t\tthis._clear = clear;\n\t\tvar layer, bounds = this._redrawBounds;\n\t\tthis._ctx.save();\n\t\tif (bounds) {\n\t\t\tthis._ctx.beginPath();\n\t\t\tthis._ctx.rect(bounds.min.x, bounds.min.y, bounds.max.x - bounds.min.x, bounds.max.y - bounds.min.y);\n\t\t\tthis._ctx.clip();\n\t\t}\n\n\t\tfor (var id in this._layers) {\n\t\t\tlayer = this._layers[id];\n\t\t\tif (!bounds || (layer._pxBounds && layer._pxBounds.intersects(bounds))) {\n\t\t\t\tlayer._updatePath();\n\t\t\t}\n\t\t\tif (clear && layer._removed) {\n\t\t\t\tdelete layer._removed;\n\t\t\t\tdelete this._layers[id];\n\t\t\t}\n\t\t}\n\t\tthis._ctx.restore();  // Restore state before clipping.\n\t},\n\n\t_updatePoly: function (layer, closed) {\n\n\t\tvar i, j, len2, p,\n\t\t    parts = layer._parts,\n\t\t    len = parts.length,\n\t\t    ctx = this._ctx;\n\n\t\tif (!len) { return; }\n\n\t\tthis._drawnLayers[layer._leaflet_id] = layer;\n\n\t\tctx.beginPath();\n\n\t\tif (ctx.setLineDash) {\n\t\t\tctx.setLineDash(layer.options && layer.options._dashArray || []);\n\t\t}\n\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tfor (j = 0, len2 = parts[i].length; j < len2; j++) {\n\t\t\t\tp = parts[i][j];\n\t\t\t\tctx[j ? 'lineTo' : 'moveTo'](p.x, p.y);\n\t\t\t}\n\t\t\tif (closed) {\n\t\t\t\tctx.closePath();\n\t\t\t}\n\t\t}\n\n\t\tthis._fillStroke(ctx, layer);\n\n\t\t// TODO optimization: 1 fill/stroke for all features with equal style instead of 1 for each feature\n\t},\n\n\t_updateCircle: function (layer) {\n\n\t\tif (layer._empty()) { return; }\n\n\t\tvar p = layer._point,\n\t\t    ctx = this._ctx,\n\t\t    r = layer._radius,\n\t\t    s = (layer._radiusY || r) / r;\n\n\t\tthis._drawnLayers[layer._leaflet_id] = layer;\n\n\t\tif (s !== 1) {\n\t\t\tctx.save();\n\t\t\tctx.scale(1, s);\n\t\t}\n\n\t\tctx.beginPath();\n\t\tctx.arc(p.x, p.y / s, r, 0, Math.PI * 2, false);\n\n\t\tif (s !== 1) {\n\t\t\tctx.restore();\n\t\t}\n\n\t\tthis._fillStroke(ctx, layer);\n\t},\n\n\t_fillStroke: function (ctx, layer) {\n\t\tvar clear = this._clear,\n\t\t    options = layer.options;\n\n\t\tctx.globalCompositeOperation = clear ? 'destination-out' : 'source-over';\n\n\t\tif (options.fill) {\n\t\t\tctx.globalAlpha = clear ? 1 : options.fillOpacity;\n\t\t\tctx.fillStyle = options.fillColor || options.color;\n\t\t\tctx.fill(options.fillRule || 'evenodd');\n\t\t}\n\n\t\tif (options.stroke && options.weight !== 0) {\n\t\t\tctx.globalAlpha = clear ? 1 : options.opacity;\n\n\t\t\t// if clearing shape, do it with the previously drawn line width\n\t\t\tlayer._prevWeight = ctx.lineWidth = clear ? layer._prevWeight + 1 : options.weight;\n\n\t\t\tctx.strokeStyle = options.color;\n\t\t\tctx.lineCap = options.lineCap;\n\t\t\tctx.lineJoin = options.lineJoin;\n\t\t\tctx.stroke();\n\t\t}\n\t},\n\n\t// Canvas obviously doesn't have mouse events for individual drawn objects,\n\t// so we emulate that by calculating what's under the mouse on mousemove/click manually\n\n\t_onClick: function (e) {\n\t\tvar point = this._map.mouseEventToLayerPoint(e), layers = [], layer;\n\n\t\tfor (var id in this._layers) {\n\t\t\tlayer = this._layers[id];\n\t\t\tif (layer.options.interactive && layer._containsPoint(point) && !this._map._draggableMoved(layer)) {\n\t\t\t\tL.DomEvent._fakeStop(e);\n\t\t\t\tlayers.push(layer);\n\t\t\t}\n\t\t}\n\t\tif (layers.length)  {\n\t\t\tthis._fireEvent(layers, e);\n\t\t}\n\t},\n\n\t_onMouseMove: function (e) {\n\t\tif (!this._map || this._map.dragging.moving() || this._map._animatingZoom) { return; }\n\n\t\tvar point = this._map.mouseEventToLayerPoint(e);\n\t\tthis._handleMouseOut(e, point);\n\t\tthis._handleMouseHover(e, point);\n\t},\n\n\n\t_handleMouseOut: function (e, point) {\n\t\tvar layer = this._hoveredLayer;\n\t\tif (layer && (e.type === 'mouseout' || !layer._containsPoint(point))) {\n\t\t\t// if we're leaving the layer, fire mouseout\n\t\t\tL.DomUtil.removeClass(this._container, 'leaflet-interactive');\n\t\t\tthis._fireEvent([layer], e, 'mouseout');\n\t\t\tthis._hoveredLayer = null;\n\t\t}\n\t},\n\n\t_handleMouseHover: function (e, point) {\n\t\tvar id, layer;\n\n\t\tfor (id in this._drawnLayers) {\n\t\t\tlayer = this._drawnLayers[id];\n\t\t\tif (layer.options.interactive && layer._containsPoint(point)) {\n\t\t\t\tL.DomUtil.addClass(this._container, 'leaflet-interactive'); // change cursor\n\t\t\t\tthis._fireEvent([layer], e, 'mouseover');\n\t\t\t\tthis._hoveredLayer = layer;\n\t\t\t}\n\t\t}\n\n\t\tif (this._hoveredLayer) {\n\t\t\tthis._fireEvent([this._hoveredLayer], e);\n\t\t}\n\t},\n\n\t_fireEvent: function (layers, e, type) {\n\t\tthis._map._fireDOMEvent(e, type || e.type, layers);\n\t},\n\n\t// TODO _bringToFront & _bringToBack, pretty tricky\n\n\t_bringToFront: L.Util.falseFn,\n\t_bringToBack: L.Util.falseFn\n});\n\n// @namespace Browser; @property canvas: Boolean\n// `true` when the browser supports [`<canvas>`](https://developer.mozilla.org/docs/Web/API/Canvas_API).\nL.Browser.canvas = (function () {\n\treturn !!document.createElement('canvas').getContext;\n}());\n\n// @namespace Canvas\n// @factory L.canvas(options?: Renderer options)\n// Creates a Canvas renderer with the given options.\nL.canvas = function (options) {\n\treturn L.Browser.canvas ? new L.Canvas(options) : null;\n};\n\nL.Polyline.prototype._containsPoint = function (p, closed) {\n\tvar i, j, k, len, len2, part,\n\t    w = this._clickTolerance();\n\n\tif (!this._pxBounds.contains(p)) { return false; }\n\n\t// hit detection for polylines\n\tfor (i = 0, len = this._parts.length; i < len; i++) {\n\t\tpart = this._parts[i];\n\n\t\tfor (j = 0, len2 = part.length, k = len2 - 1; j < len2; k = j++) {\n\t\t\tif (!closed && (j === 0)) { continue; }\n\n\t\t\tif (L.LineUtil.pointToSegmentDistance(p, part[k], part[j]) <= w) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t}\n\treturn false;\n};\n\nL.Polygon.prototype._containsPoint = function (p) {\n\tvar inside = false,\n\t    part, p1, p2, i, j, k, len, len2;\n\n\tif (!this._pxBounds.contains(p)) { return false; }\n\n\t// ray casting algorithm for detecting if point is in polygon\n\tfor (i = 0, len = this._parts.length; i < len; i++) {\n\t\tpart = this._parts[i];\n\n\t\tfor (j = 0, len2 = part.length, k = len2 - 1; j < len2; k = j++) {\n\t\t\tp1 = part[j];\n\t\t\tp2 = part[k];\n\n\t\t\tif (((p1.y > p.y) !== (p2.y > p.y)) && (p.x < (p2.x - p1.x) * (p.y - p1.y) / (p2.y - p1.y) + p1.x)) {\n\t\t\t\tinside = !inside;\n\t\t\t}\n\t\t}\n\t}\n\n\t// also check if it's on polygon stroke\n\treturn inside || L.Polyline.prototype._containsPoint.call(this, p, true);\n};\n\nL.CircleMarker.prototype._containsPoint = function (p) {\n\treturn p.distanceTo(this._point) <= this._radius + this._clickTolerance();\n};\n\n/*\r\n * @class GeoJSON\r\n * @aka L.GeoJSON\r\n * @inherits FeatureGroup\r\n *\r\n * Represents a GeoJSON object or an array of GeoJSON objects. Allows you to parse\r\n * GeoJSON data and display it on the map. Extends `FeatureGroup`.\r\n *\r\n * @example\r\n *\r\n * ```js\r\n * L.geoJSON(data, {\r\n * \tstyle: function (feature) {\r\n * \t\treturn {color: feature.properties.color};\r\n * \t}\r\n * }).bindPopup(function (layer) {\r\n * \treturn layer.feature.properties.description;\r\n * }).addTo(map);\r\n * ```\r\n */\r\n\r\nL.GeoJSON = L.FeatureGroup.extend({\r\n\r\n\t/* @section\r\n\t * @aka GeoJSON options\r\n\t *\r\n\t * @option pointToLayer: Function = *\r\n\t * A `Function` defining how GeoJSON points spawn Leaflet layers. It is internally\r\n\t * called when data is added, passing the GeoJSON point feature and its `LatLng`.\r\n\t * The default is to spawn a default `Marker`:\r\n\t * ```js\r\n\t * function(geoJsonPoint, latlng) {\r\n\t * \treturn L.marker(latlng);\r\n\t * }\r\n\t * ```\r\n\t *\r\n\t * @option style: Function = *\r\n\t * A `Function` defining the `Path options` for styling GeoJSON lines and polygons,\r\n\t * called internally when data is added.\r\n\t * The default value is to not override any defaults:\r\n\t * ```js\r\n\t * function (geoJsonFeature) {\r\n\t * \treturn {}\r\n\t * }\r\n\t * ```\r\n\t *\r\n\t * @option onEachFeature: Function = *\r\n\t * A `Function` that will be called once for each created `Feature`, after it has\r\n\t * been created and styled. Useful for attaching events and popups to features.\r\n\t * The default is to do nothing with the newly created layers:\r\n\t * ```js\r\n\t * function (feature, layer) {}\r\n\t * ```\r\n\t *\r\n\t * @option filter: Function = *\r\n\t * A `Function` that will be used to decide whether to include a feature or not.\r\n\t * The default is to include all features:\r\n\t * ```js\r\n\t * function (geoJsonFeature) {\r\n\t * \treturn true;\r\n\t * }\r\n\t * ```\r\n\t * Note: dynamically changing the `filter` option will have effect only on newly\r\n\t * added data. It will _not_ re-evaluate already included features.\r\n\t *\r\n\t * @option coordsToLatLng: Function = *\r\n\t * A `Function` that will be used for converting GeoJSON coordinates to `LatLng`s.\r\n\t * The default is the `coordsToLatLng` static method.\r\n\t */\r\n\r\n\tinitialize: function (geojson, options) {\r\n\t\tL.setOptions(this, options);\r\n\r\n\t\tthis._layers = {};\r\n\r\n\t\tif (geojson) {\r\n\t\t\tthis.addData(geojson);\r\n\t\t}\r\n\t},\r\n\r\n\t// @method addData( <GeoJSON> data ): Layer\r\n\t// Adds a GeoJSON object to the layer.\r\n\taddData: function (geojson) {\r\n\t\tvar features = L.Util.isArray(geojson) ? geojson : geojson.features,\r\n\t\t    i, len, feature;\r\n\r\n\t\tif (features) {\r\n\t\t\tfor (i = 0, len = features.length; i < len; i++) {\r\n\t\t\t\t// only add this if geometry or geometries are set and not null\r\n\t\t\t\tfeature = features[i];\r\n\t\t\t\tif (feature.geometries || feature.geometry || feature.features || feature.coordinates) {\r\n\t\t\t\t\tthis.addData(feature);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn this;\r\n\t\t}\r\n\r\n\t\tvar options = this.options;\r\n\r\n\t\tif (options.filter && !options.filter(geojson)) { return this; }\r\n\r\n\t\tvar layer = L.GeoJSON.geometryToLayer(geojson, options);\r\n\t\tif (!layer) {\r\n\t\t\treturn this;\r\n\t\t}\r\n\t\tlayer.feature = L.GeoJSON.asFeature(geojson);\r\n\r\n\t\tlayer.defaultOptions = layer.options;\r\n\t\tthis.resetStyle(layer);\r\n\r\n\t\tif (options.onEachFeature) {\r\n\t\t\toptions.onEachFeature(geojson, layer);\r\n\t\t}\r\n\r\n\t\treturn this.addLayer(layer);\r\n\t},\r\n\r\n\t// @method resetStyle( <Path> layer ): Layer\r\n\t// Resets the given vector layer's style to the original GeoJSON style, useful for resetting style after hover events.\r\n\tresetStyle: function (layer) {\r\n\t\t// reset any custom styles\r\n\t\tlayer.options = L.Util.extend({}, layer.defaultOptions);\r\n\t\tthis._setLayerStyle(layer, this.options.style);\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method setStyle( <Function> style ): Layer\r\n\t// Changes styles of GeoJSON vector layers with the given style function.\r\n\tsetStyle: function (style) {\r\n\t\treturn this.eachLayer(function (layer) {\r\n\t\t\tthis._setLayerStyle(layer, style);\r\n\t\t}, this);\r\n\t},\r\n\r\n\t_setLayerStyle: function (layer, style) {\r\n\t\tif (typeof style === 'function') {\r\n\t\t\tstyle = style(layer.feature);\r\n\t\t}\r\n\t\tif (layer.setStyle) {\r\n\t\t\tlayer.setStyle(style);\r\n\t\t}\r\n\t}\r\n});\r\n\r\n// @section\r\n// There are several static functions which can be called without instantiating L.GeoJSON:\r\nL.extend(L.GeoJSON, {\r\n\t// @function geometryToLayer(featureData: Object, options?: GeoJSON options): Layer\r\n\t// Creates a `Layer` from a given GeoJSON feature. Can use a custom\r\n\t// [`pointToLayer`](#geojson-pointtolayer) and/or [`coordsToLatLng`](#geojson-coordstolatlng)\r\n\t// functions if provided as options.\r\n\tgeometryToLayer: function (geojson, options) {\r\n\r\n\t\tvar geometry = geojson.type === 'Feature' ? geojson.geometry : geojson,\r\n\t\t    coords = geometry ? geometry.coordinates : null,\r\n\t\t    layers = [],\r\n\t\t    pointToLayer = options && options.pointToLayer,\r\n\t\t    coordsToLatLng = options && options.coordsToLatLng || this.coordsToLatLng,\r\n\t\t    latlng, latlngs, i, len;\r\n\r\n\t\tif (!coords && !geometry) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tswitch (geometry.type) {\r\n\t\tcase 'Point':\r\n\t\t\tlatlng = coordsToLatLng(coords);\r\n\t\t\treturn pointToLayer ? pointToLayer(geojson, latlng) : new L.Marker(latlng);\r\n\r\n\t\tcase 'MultiPoint':\r\n\t\t\tfor (i = 0, len = coords.length; i < len; i++) {\r\n\t\t\t\tlatlng = coordsToLatLng(coords[i]);\r\n\t\t\t\tlayers.push(pointToLayer ? pointToLayer(geojson, latlng) : new L.Marker(latlng));\r\n\t\t\t}\r\n\t\t\treturn new L.FeatureGroup(layers);\r\n\r\n\t\tcase 'LineString':\r\n\t\tcase 'MultiLineString':\r\n\t\t\tlatlngs = this.coordsToLatLngs(coords, geometry.type === 'LineString' ? 0 : 1, coordsToLatLng);\r\n\t\t\treturn new L.Polyline(latlngs, options);\r\n\r\n\t\tcase 'Polygon':\r\n\t\tcase 'MultiPolygon':\r\n\t\t\tlatlngs = this.coordsToLatLngs(coords, geometry.type === 'Polygon' ? 1 : 2, coordsToLatLng);\r\n\t\t\treturn new L.Polygon(latlngs, options);\r\n\r\n\t\tcase 'GeometryCollection':\r\n\t\t\tfor (i = 0, len = geometry.geometries.length; i < len; i++) {\r\n\t\t\t\tvar layer = this.geometryToLayer({\r\n\t\t\t\t\tgeometry: geometry.geometries[i],\r\n\t\t\t\t\ttype: 'Feature',\r\n\t\t\t\t\tproperties: geojson.properties\r\n\t\t\t\t}, options);\r\n\r\n\t\t\t\tif (layer) {\r\n\t\t\t\t\tlayers.push(layer);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn new L.FeatureGroup(layers);\r\n\r\n\t\tdefault:\r\n\t\t\tthrow new Error('Invalid GeoJSON object.');\r\n\t\t}\r\n\t},\r\n\r\n\t// @function coordsToLatLng(coords: Array): LatLng\r\n\t// Creates a `LatLng` object from an array of 2 numbers (longitude, latitude)\r\n\t// or 3 numbers (longitude, latitude, altitude) used in GeoJSON for points.\r\n\tcoordsToLatLng: function (coords) {\r\n\t\treturn new L.LatLng(coords[1], coords[0], coords[2]);\r\n\t},\r\n\r\n\t// @function coordsToLatLngs(coords: Array, levelsDeep?: Number, coordsToLatLng?: Function): Array\r\n\t// Creates a multidimensional array of `LatLng`s from a GeoJSON coordinates array.\r\n\t// `levelsDeep` specifies the nesting level (0 is for an array of points, 1 for an array of arrays of points, etc., 0 by default).\r\n\t// Can use a custom [`coordsToLatLng`](#geojson-coordstolatlng) function.\r\n\tcoordsToLatLngs: function (coords, levelsDeep, coordsToLatLng) {\r\n\t\tvar latlngs = [];\r\n\r\n\t\tfor (var i = 0, len = coords.length, latlng; i < len; i++) {\r\n\t\t\tlatlng = levelsDeep ?\r\n\t\t\t        this.coordsToLatLngs(coords[i], levelsDeep - 1, coordsToLatLng) :\r\n\t\t\t        (coordsToLatLng || this.coordsToLatLng)(coords[i]);\r\n\r\n\t\t\tlatlngs.push(latlng);\r\n\t\t}\r\n\r\n\t\treturn latlngs;\r\n\t},\r\n\r\n\t// @function latLngToCoords(latlng: LatLng): Array\r\n\t// Reverse of [`coordsToLatLng`](#geojson-coordstolatlng)\r\n\tlatLngToCoords: function (latlng) {\r\n\t\treturn latlng.alt !== undefined ?\r\n\t\t\t\t[latlng.lng, latlng.lat, latlng.alt] :\r\n\t\t\t\t[latlng.lng, latlng.lat];\r\n\t},\r\n\r\n\t// @function latLngsToCoords(latlngs: Array, levelsDeep?: Number, closed?: Boolean): Array\r\n\t// Reverse of [`coordsToLatLngs`](#geojson-coordstolatlngs)\r\n\t// `closed` determines whether the first point should be appended to the end of the array to close the feature, only used when `levelsDeep` is 0. False by default.\r\n\tlatLngsToCoords: function (latlngs, levelsDeep, closed) {\r\n\t\tvar coords = [];\r\n\r\n\t\tfor (var i = 0, len = latlngs.length; i < len; i++) {\r\n\t\t\tcoords.push(levelsDeep ?\r\n\t\t\t\tL.GeoJSON.latLngsToCoords(latlngs[i], levelsDeep - 1, closed) :\r\n\t\t\t\tL.GeoJSON.latLngToCoords(latlngs[i]));\r\n\t\t}\r\n\r\n\t\tif (!levelsDeep && closed) {\r\n\t\t\tcoords.push(coords[0]);\r\n\t\t}\r\n\r\n\t\treturn coords;\r\n\t},\r\n\r\n\tgetFeature: function (layer, newGeometry) {\r\n\t\treturn layer.feature ?\r\n\t\t\t\tL.extend({}, layer.feature, {geometry: newGeometry}) :\r\n\t\t\t\tL.GeoJSON.asFeature(newGeometry);\r\n\t},\r\n\r\n\t// @function asFeature(geojson: Object): Object\r\n\t// Normalize GeoJSON geometries/features into GeoJSON features.\r\n\tasFeature: function (geojson) {\r\n\t\tif (geojson.type === 'Feature') {\r\n\t\t\treturn geojson;\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\ttype: 'Feature',\r\n\t\t\tproperties: {},\r\n\t\t\tgeometry: geojson\r\n\t\t};\r\n\t}\r\n});\r\n\r\nvar PointToGeoJSON = {\r\n\ttoGeoJSON: function () {\r\n\t\treturn L.GeoJSON.getFeature(this, {\r\n\t\t\ttype: 'Point',\r\n\t\t\tcoordinates: L.GeoJSON.latLngToCoords(this.getLatLng())\r\n\t\t});\r\n\t}\r\n};\r\n\r\nL.Marker.include(PointToGeoJSON);\r\n\r\n// @namespace CircleMarker\r\n// @method toGeoJSON(): Object\r\n// Returns a [`GeoJSON`](http://en.wikipedia.org/wiki/GeoJSON) representation of the circle marker (as a GeoJSON `Point` Feature).\r\nL.Circle.include(PointToGeoJSON);\r\nL.CircleMarker.include(PointToGeoJSON);\r\n\r\n\r\n// @namespace Polyline\r\n// @method toGeoJSON(): Object\r\n// Returns a [`GeoJSON`](http://en.wikipedia.org/wiki/GeoJSON) representation of the polyline (as a GeoJSON `LineString` or `MultiLineString` Feature).\r\nL.Polyline.prototype.toGeoJSON = function () {\r\n\tvar multi = !L.Polyline._flat(this._latlngs);\r\n\r\n\tvar coords = L.GeoJSON.latLngsToCoords(this._latlngs, multi ? 1 : 0);\r\n\r\n\treturn L.GeoJSON.getFeature(this, {\r\n\t\ttype: (multi ? 'Multi' : '') + 'LineString',\r\n\t\tcoordinates: coords\r\n\t});\r\n};\r\n\r\n// @namespace Polygon\r\n// @method toGeoJSON(): Object\r\n// Returns a [`GeoJSON`](http://en.wikipedia.org/wiki/GeoJSON) representation of the polygon (as a GeoJSON `Polygon` or `MultiPolygon` Feature).\r\nL.Polygon.prototype.toGeoJSON = function () {\r\n\tvar holes = !L.Polyline._flat(this._latlngs),\r\n\t    multi = holes && !L.Polyline._flat(this._latlngs[0]);\r\n\r\n\tvar coords = L.GeoJSON.latLngsToCoords(this._latlngs, multi ? 2 : holes ? 1 : 0, true);\r\n\r\n\tif (!holes) {\r\n\t\tcoords = [coords];\r\n\t}\r\n\r\n\treturn L.GeoJSON.getFeature(this, {\r\n\t\ttype: (multi ? 'Multi' : '') + 'Polygon',\r\n\t\tcoordinates: coords\r\n\t});\r\n};\r\n\r\n\r\n// @namespace LayerGroup\r\nL.LayerGroup.include({\r\n\ttoMultiPoint: function () {\r\n\t\tvar coords = [];\r\n\r\n\t\tthis.eachLayer(function (layer) {\r\n\t\t\tcoords.push(layer.toGeoJSON().geometry.coordinates);\r\n\t\t});\r\n\r\n\t\treturn L.GeoJSON.getFeature(this, {\r\n\t\t\ttype: 'MultiPoint',\r\n\t\t\tcoordinates: coords\r\n\t\t});\r\n\t},\r\n\r\n\t// @method toGeoJSON(): Object\r\n\t// Returns a [`GeoJSON`](http://en.wikipedia.org/wiki/GeoJSON) representation of the layer group (as a GeoJSON `GeometryCollection`).\r\n\ttoGeoJSON: function () {\r\n\r\n\t\tvar type = this.feature && this.feature.geometry && this.feature.geometry.type;\r\n\r\n\t\tif (type === 'MultiPoint') {\r\n\t\t\treturn this.toMultiPoint();\r\n\t\t}\r\n\r\n\t\tvar isGeometryCollection = type === 'GeometryCollection',\r\n\t\t    jsons = [];\r\n\r\n\t\tthis.eachLayer(function (layer) {\r\n\t\t\tif (layer.toGeoJSON) {\r\n\t\t\t\tvar json = layer.toGeoJSON();\r\n\t\t\t\tjsons.push(isGeometryCollection ? json.geometry : L.GeoJSON.asFeature(json));\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tif (isGeometryCollection) {\r\n\t\t\treturn L.GeoJSON.getFeature(this, {\r\n\t\t\t\tgeometries: jsons,\r\n\t\t\t\ttype: 'GeometryCollection'\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\ttype: 'FeatureCollection',\r\n\t\t\tfeatures: jsons\r\n\t\t};\r\n\t}\r\n});\r\n\r\n// @namespace GeoJSON\r\n// @factory L.geoJSON(geojson?: Object, options?: GeoJSON options)\r\n// Creates a GeoJSON layer. Optionally accepts an object in\r\n// [GeoJSON format](http://geojson.org/geojson-spec.html) to display on the map\r\n// (you can alternatively add it later with `addData` method) and an `options` object.\r\nL.geoJSON = function (geojson, options) {\r\n\treturn new L.GeoJSON(geojson, options);\r\n};\r\n// Backward compatibility.\r\nL.geoJson = L.geoJSON;\r\n\n/*\r\n * @namespace DomEvent\r\n * Utility functions to work with the [DOM events](https://developer.mozilla.org/docs/Web/API/Event), used by Leaflet internally.\r\n */\r\n\r\n// Inspired by John Resig, Dean Edwards and YUI addEvent implementations.\r\n\r\n\r\n\r\nvar eventsKey = '_leaflet_events';\r\n\r\nL.DomEvent = {\r\n\r\n\t// @function on(el: HTMLElement, types: String, fn: Function, context?: Object): this\r\n\t// Adds a listener function (`fn`) to a particular DOM event type of the\r\n\t// element `el`. You can optionally specify the context of the listener\r\n\t// (object the `this` keyword will point to). You can also pass several\r\n\t// space-separated types (e.g. `'click dblclick'`).\r\n\r\n\t// @alternative\r\n\t// @function on(el: HTMLElement, eventMap: Object, context?: Object): this\r\n\t// Adds a set of type/listener pairs, e.g. `{click: onClick, mousemove: onMouseMove}`\r\n\ton: function (obj, types, fn, context) {\r\n\r\n\t\tif (typeof types === 'object') {\r\n\t\t\tfor (var type in types) {\r\n\t\t\t\tthis._on(obj, type, types[type], fn);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\ttypes = L.Util.splitWords(types);\r\n\r\n\t\t\tfor (var i = 0, len = types.length; i < len; i++) {\r\n\t\t\t\tthis._on(obj, types[i], fn, context);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @function off(el: HTMLElement, types: String, fn: Function, context?: Object): this\r\n\t// Removes a previously added listener function. If no function is specified,\r\n\t// it will remove all the listeners of that particular DOM event from the element.\r\n\t// Note that if you passed a custom context to on, you must pass the same\r\n\t// context to `off` in order to remove the listener.\r\n\r\n\t// @alternative\r\n\t// @function off(el: HTMLElement, eventMap: Object, context?: Object): this\r\n\t// Removes a set of type/listener pairs, e.g. `{click: onClick, mousemove: onMouseMove}`\r\n\toff: function (obj, types, fn, context) {\r\n\r\n\t\tif (typeof types === 'object') {\r\n\t\t\tfor (var type in types) {\r\n\t\t\t\tthis._off(obj, type, types[type], fn);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\ttypes = L.Util.splitWords(types);\r\n\r\n\t\t\tfor (var i = 0, len = types.length; i < len; i++) {\r\n\t\t\t\tthis._off(obj, types[i], fn, context);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t_on: function (obj, type, fn, context) {\r\n\t\tvar id = type + L.stamp(fn) + (context ? '_' + L.stamp(context) : '');\r\n\r\n\t\tif (obj[eventsKey] && obj[eventsKey][id]) { return this; }\r\n\r\n\t\tvar handler = function (e) {\r\n\t\t\treturn fn.call(context || obj, e || window.event);\r\n\t\t};\r\n\r\n\t\tvar originalHandler = handler;\r\n\r\n\t\tif (L.Browser.pointer && type.indexOf('touch') === 0) {\r\n\t\t\tthis.addPointerListener(obj, type, handler, id);\r\n\r\n\t\t} else if (L.Browser.touch && (type === 'dblclick') && this.addDoubleTapListener) {\r\n\t\t\tthis.addDoubleTapListener(obj, handler, id);\r\n\r\n\t\t} else if ('addEventListener' in obj) {\r\n\r\n\t\t\tif (type === 'mousewheel') {\r\n\t\t\t\tobj.addEventListener('onwheel' in obj ? 'wheel' : 'mousewheel', handler, false);\r\n\r\n\t\t\t} else if ((type === 'mouseenter') || (type === 'mouseleave')) {\r\n\t\t\t\thandler = function (e) {\r\n\t\t\t\t\te = e || window.event;\r\n\t\t\t\t\tif (L.DomEvent._isExternalTarget(obj, e)) {\r\n\t\t\t\t\t\toriginalHandler(e);\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t\tobj.addEventListener(type === 'mouseenter' ? 'mouseover' : 'mouseout', handler, false);\r\n\r\n\t\t\t} else {\r\n\t\t\t\tif (type === 'click' && L.Browser.android) {\r\n\t\t\t\t\thandler = function (e) {\r\n\t\t\t\t\t\treturn L.DomEvent._filterClick(e, originalHandler);\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t\tobj.addEventListener(type, handler, false);\r\n\t\t\t}\r\n\r\n\t\t} else if ('attachEvent' in obj) {\r\n\t\t\tobj.attachEvent('on' + type, handler);\r\n\t\t}\r\n\r\n\t\tobj[eventsKey] = obj[eventsKey] || {};\r\n\t\tobj[eventsKey][id] = handler;\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t_off: function (obj, type, fn, context) {\r\n\r\n\t\tvar id = type + L.stamp(fn) + (context ? '_' + L.stamp(context) : ''),\r\n\t\t    handler = obj[eventsKey] && obj[eventsKey][id];\r\n\r\n\t\tif (!handler) { return this; }\r\n\r\n\t\tif (L.Browser.pointer && type.indexOf('touch') === 0) {\r\n\t\t\tthis.removePointerListener(obj, type, id);\r\n\r\n\t\t} else if (L.Browser.touch && (type === 'dblclick') && this.removeDoubleTapListener) {\r\n\t\t\tthis.removeDoubleTapListener(obj, id);\r\n\r\n\t\t} else if ('removeEventListener' in obj) {\r\n\r\n\t\t\tif (type === 'mousewheel') {\r\n\t\t\t\tobj.removeEventListener('onwheel' in obj ? 'wheel' : 'mousewheel', handler, false);\r\n\r\n\t\t\t} else {\r\n\t\t\t\tobj.removeEventListener(\r\n\t\t\t\t\ttype === 'mouseenter' ? 'mouseover' :\r\n\t\t\t\t\ttype === 'mouseleave' ? 'mouseout' : type, handler, false);\r\n\t\t\t}\r\n\r\n\t\t} else if ('detachEvent' in obj) {\r\n\t\t\tobj.detachEvent('on' + type, handler);\r\n\t\t}\r\n\r\n\t\tobj[eventsKey][id] = null;\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @function stopPropagation(ev: DOMEvent): this\r\n\t// Stop the given event from propagation to parent elements. Used inside the listener functions:\r\n\t// ```js\r\n\t// L.DomEvent.on(div, 'click', function (ev) {\r\n\t// \tL.DomEvent.stopPropagation(ev);\r\n\t// });\r\n\t// ```\r\n\tstopPropagation: function (e) {\r\n\r\n\t\tif (e.stopPropagation) {\r\n\t\t\te.stopPropagation();\r\n\t\t} else if (e.originalEvent) {  // In case of Leaflet event.\r\n\t\t\te.originalEvent._stopped = true;\r\n\t\t} else {\r\n\t\t\te.cancelBubble = true;\r\n\t\t}\r\n\t\tL.DomEvent._skipped(e);\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @function disableScrollPropagation(el: HTMLElement): this\r\n\t// Adds `stopPropagation` to the element's `'mousewheel'` events (plus browser variants).\r\n\tdisableScrollPropagation: function (el) {\r\n\t\treturn L.DomEvent.on(el, 'mousewheel', L.DomEvent.stopPropagation);\r\n\t},\r\n\r\n\t// @function disableClickPropagation(el: HTMLElement): this\r\n\t// Adds `stopPropagation` to the element's `'click'`, `'doubleclick'`,\r\n\t// `'mousedown'` and `'touchstart'` events (plus browser variants).\r\n\tdisableClickPropagation: function (el) {\r\n\t\tvar stop = L.DomEvent.stopPropagation;\r\n\r\n\t\tL.DomEvent.on(el, L.Draggable.START.join(' '), stop);\r\n\r\n\t\treturn L.DomEvent.on(el, {\r\n\t\t\tclick: L.DomEvent._fakeStop,\r\n\t\t\tdblclick: stop\r\n\t\t});\r\n\t},\r\n\r\n\t// @function preventDefault(ev: DOMEvent): this\r\n\t// Prevents the default action of the DOM Event `ev` from happening (such as\r\n\t// following a link in the href of the a element, or doing a POST request\r\n\t// with page reload when a `<form>` is submitted).\r\n\t// Use it inside listener functions.\r\n\tpreventDefault: function (e) {\r\n\r\n\t\tif (e.preventDefault) {\r\n\t\t\te.preventDefault();\r\n\t\t} else {\r\n\t\t\te.returnValue = false;\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @function stop(ev): this\r\n\t// Does `stopPropagation` and `preventDefault` at the same time.\r\n\tstop: function (e) {\r\n\t\treturn L.DomEvent\r\n\t\t\t.preventDefault(e)\r\n\t\t\t.stopPropagation(e);\r\n\t},\r\n\r\n\t// @function getMousePosition(ev: DOMEvent, container?: HTMLElement): Point\r\n\t// Gets normalized mouse position from a DOM event relative to the\r\n\t// `container` or to the whole page if not specified.\r\n\tgetMousePosition: function (e, container) {\r\n\t\tif (!container) {\r\n\t\t\treturn new L.Point(e.clientX, e.clientY);\r\n\t\t}\r\n\r\n\t\tvar rect = container.getBoundingClientRect();\r\n\r\n\t\treturn new L.Point(\r\n\t\t\te.clientX - rect.left - container.clientLeft,\r\n\t\t\te.clientY - rect.top - container.clientTop);\r\n\t},\r\n\r\n\t// Chrome on Win scrolls double the pixels as in other platforms (see #4538),\r\n\t// and Firefox scrolls device pixels, not CSS pixels\r\n\t_wheelPxFactor: (L.Browser.win && L.Browser.chrome) ? 2 :\r\n\t                L.Browser.gecko ? window.devicePixelRatio :\r\n\t                1,\r\n\r\n\t// @function getWheelDelta(ev: DOMEvent): Number\r\n\t// Gets normalized wheel delta from a mousewheel DOM event, in vertical\r\n\t// pixels scrolled (negative if scrolling down).\r\n\t// Events from pointing devices without precise scrolling are mapped to\r\n\t// a best guess of 60 pixels.\r\n\tgetWheelDelta: function (e) {\r\n\t\treturn (L.Browser.edge) ? e.wheelDeltaY / 2 : // Don't trust window-geometry-based delta\r\n\t\t       (e.deltaY && e.deltaMode === 0) ? -e.deltaY / L.DomEvent._wheelPxFactor : // Pixels\r\n\t\t       (e.deltaY && e.deltaMode === 1) ? -e.deltaY * 20 : // Lines\r\n\t\t       (e.deltaY && e.deltaMode === 2) ? -e.deltaY * 60 : // Pages\r\n\t\t       (e.deltaX || e.deltaZ) ? 0 :\t// Skip horizontal/depth wheel events\r\n\t\t       e.wheelDelta ? (e.wheelDeltaY || e.wheelDelta) / 2 : // Legacy IE pixels\r\n\t\t       (e.detail && Math.abs(e.detail) < 32765) ? -e.detail * 20 : // Legacy Moz lines\r\n\t\t       e.detail ? e.detail / -32765 * 60 : // Legacy Moz pages\r\n\t\t       0;\r\n\t},\r\n\r\n\t_skipEvents: {},\r\n\r\n\t_fakeStop: function (e) {\r\n\t\t// fakes stopPropagation by setting a special event flag, checked/reset with L.DomEvent._skipped(e)\r\n\t\tL.DomEvent._skipEvents[e.type] = true;\r\n\t},\r\n\r\n\t_skipped: function (e) {\r\n\t\tvar skipped = this._skipEvents[e.type];\r\n\t\t// reset when checking, as it's only used in map container and propagates outside of the map\r\n\t\tthis._skipEvents[e.type] = false;\r\n\t\treturn skipped;\r\n\t},\r\n\r\n\t// check if element really left/entered the event target (for mouseenter/mouseleave)\r\n\t_isExternalTarget: function (el, e) {\r\n\r\n\t\tvar related = e.relatedTarget;\r\n\r\n\t\tif (!related) { return true; }\r\n\r\n\t\ttry {\r\n\t\t\twhile (related && (related !== el)) {\r\n\t\t\t\trelated = related.parentNode;\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn (related !== el);\r\n\t},\r\n\r\n\t// this is a horrible workaround for a bug in Android where a single touch triggers two click events\r\n\t_filterClick: function (e, handler) {\r\n\t\tvar timeStamp = (e.timeStamp || (e.originalEvent && e.originalEvent.timeStamp)),\r\n\t\t    elapsed = L.DomEvent._lastClick && (timeStamp - L.DomEvent._lastClick);\r\n\r\n\t\t// are they closer together than 500ms yet more than 100ms?\r\n\t\t// Android typically triggers them ~300ms apart while multiple listeners\r\n\t\t// on the same event should be triggered far faster;\r\n\t\t// or check if click is simulated on the element, and if it is, reject any non-simulated events\r\n\r\n\t\tif ((elapsed && elapsed > 100 && elapsed < 500) || (e.target._simulatedClick && !e._simulated)) {\r\n\t\t\tL.DomEvent.stop(e);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tL.DomEvent._lastClick = timeStamp;\r\n\r\n\t\thandler(e);\r\n\t}\r\n};\r\n\r\n// @function addListener(…): this\r\n// Alias to [`L.DomEvent.on`](#domevent-on)\r\nL.DomEvent.addListener = L.DomEvent.on;\r\n\r\n// @function removeListener(…): this\r\n// Alias to [`L.DomEvent.off`](#domevent-off)\r\nL.DomEvent.removeListener = L.DomEvent.off;\r\n\n/*\r\n * @class Draggable\r\n * @aka L.Draggable\r\n * @inherits Evented\r\n *\r\n * A class for making DOM elements draggable (including touch support).\r\n * Used internally for map and marker dragging. Only works for elements\r\n * that were positioned with [`L.DomUtil.setPosition`](#domutil-setposition).\r\n *\r\n * @example\r\n * ```js\r\n * var draggable = new L.Draggable(elementToDrag);\r\n * draggable.enable();\r\n * ```\r\n */\r\n\r\nL.Draggable = L.Evented.extend({\r\n\r\n\toptions: {\r\n\t\t// @option clickTolerance: Number = 3\r\n\t\t// The max number of pixels a user can shift the mouse pointer during a click\r\n\t\t// for it to be considered a valid click (as opposed to a mouse drag).\r\n\t\tclickTolerance: 3\r\n\t},\r\n\r\n\tstatics: {\r\n\t\tSTART: L.Browser.touch ? ['touchstart', 'mousedown'] : ['mousedown'],\r\n\t\tEND: {\r\n\t\t\tmousedown: 'mouseup',\r\n\t\t\ttouchstart: 'touchend',\r\n\t\t\tpointerdown: 'touchend',\r\n\t\t\tMSPointerDown: 'touchend'\r\n\t\t},\r\n\t\tMOVE: {\r\n\t\t\tmousedown: 'mousemove',\r\n\t\t\ttouchstart: 'touchmove',\r\n\t\t\tpointerdown: 'touchmove',\r\n\t\t\tMSPointerDown: 'touchmove'\r\n\t\t}\r\n\t},\r\n\r\n\t// @constructor L.Draggable(el: HTMLElement, dragHandle?: HTMLElement, preventOutline: Boolean)\r\n\t// Creates a `Draggable` object for moving `el` when you start dragging the `dragHandle` element (equals `el` itself by default).\r\n\tinitialize: function (element, dragStartTarget, preventOutline) {\r\n\t\tthis._element = element;\r\n\t\tthis._dragStartTarget = dragStartTarget || element;\r\n\t\tthis._preventOutline = preventOutline;\r\n\t},\r\n\r\n\t// @method enable()\r\n\t// Enables the dragging ability\r\n\tenable: function () {\r\n\t\tif (this._enabled) { return; }\r\n\r\n\t\tL.DomEvent.on(this._dragStartTarget, L.Draggable.START.join(' '), this._onDown, this);\r\n\r\n\t\tthis._enabled = true;\r\n\t},\r\n\r\n\t// @method disable()\r\n\t// Disables the dragging ability\r\n\tdisable: function () {\r\n\t\tif (!this._enabled) { return; }\r\n\r\n\t\tL.DomEvent.off(this._dragStartTarget, L.Draggable.START.join(' '), this._onDown, this);\r\n\r\n\t\tthis._enabled = false;\r\n\t\tthis._moved = false;\r\n\t},\r\n\r\n\t_onDown: function (e) {\r\n\t\t// Ignore simulated events, since we handle both touch and\r\n\t\t// mouse explicitly; otherwise we risk getting duplicates of\r\n\t\t// touch events, see #4315.\r\n\t\t// Also ignore the event if disabled; this happens in IE11\r\n\t\t// under some circumstances, see #3666.\r\n\t\tif (e._simulated || !this._enabled) { return; }\r\n\r\n\t\tthis._moved = false;\r\n\r\n\t\tif (L.DomUtil.hasClass(this._element, 'leaflet-zoom-anim')) { return; }\r\n\r\n\t\tif (L.Draggable._dragging || e.shiftKey || ((e.which !== 1) && (e.button !== 1) && !e.touches) || !this._enabled) { return; }\r\n\t\tL.Draggable._dragging = true;  // Prevent dragging multiple objects at once.\r\n\r\n\t\tif (this._preventOutline) {\r\n\t\t\tL.DomUtil.preventOutline(this._element);\r\n\t\t}\r\n\r\n\t\tL.DomUtil.disableImageDrag();\r\n\t\tL.DomUtil.disableTextSelection();\r\n\r\n\t\tif (this._moving) { return; }\r\n\r\n\t\t// @event down: Event\r\n\t\t// Fired when a drag is about to start.\r\n\t\tthis.fire('down');\r\n\r\n\t\tvar first = e.touches ? e.touches[0] : e;\r\n\r\n\t\tthis._startPoint = new L.Point(first.clientX, first.clientY);\r\n\r\n\t\tL.DomEvent\r\n\t\t\t.on(document, L.Draggable.MOVE[e.type], this._onMove, this)\r\n\t\t\t.on(document, L.Draggable.END[e.type], this._onUp, this);\r\n\t},\r\n\r\n\t_onMove: function (e) {\r\n\t\t// Ignore simulated events, since we handle both touch and\r\n\t\t// mouse explicitly; otherwise we risk getting duplicates of\r\n\t\t// touch events, see #4315.\r\n\t\t// Also ignore the event if disabled; this happens in IE11\r\n\t\t// under some circumstances, see #3666.\r\n\t\tif (e._simulated || !this._enabled) { return; }\r\n\r\n\t\tif (e.touches && e.touches.length > 1) {\r\n\t\t\tthis._moved = true;\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar first = (e.touches && e.touches.length === 1 ? e.touches[0] : e),\r\n\t\t    newPoint = new L.Point(first.clientX, first.clientY),\r\n\t\t    offset = newPoint.subtract(this._startPoint);\r\n\r\n\t\tif (!offset.x && !offset.y) { return; }\r\n\t\tif (Math.abs(offset.x) + Math.abs(offset.y) < this.options.clickTolerance) { return; }\r\n\r\n\t\tL.DomEvent.preventDefault(e);\r\n\r\n\t\tif (!this._moved) {\r\n\t\t\t// @event dragstart: Event\r\n\t\t\t// Fired when a drag starts\r\n\t\t\tthis.fire('dragstart');\r\n\r\n\t\t\tthis._moved = true;\r\n\t\t\tthis._startPos = L.DomUtil.getPosition(this._element).subtract(offset);\r\n\r\n\t\t\tL.DomUtil.addClass(document.body, 'leaflet-dragging');\r\n\r\n\t\t\tthis._lastTarget = e.target || e.srcElement;\r\n\t\t\t// IE and Edge do not give the <use> element, so fetch it\r\n\t\t\t// if necessary\r\n\t\t\tif ((window.SVGElementInstance) && (this._lastTarget instanceof SVGElementInstance)) {\r\n\t\t\t\tthis._lastTarget = this._lastTarget.correspondingUseElement;\r\n\t\t\t}\r\n\t\t\tL.DomUtil.addClass(this._lastTarget, 'leaflet-drag-target');\r\n\t\t}\r\n\r\n\t\tthis._newPos = this._startPos.add(offset);\r\n\t\tthis._moving = true;\r\n\r\n\t\tL.Util.cancelAnimFrame(this._animRequest);\r\n\t\tthis._lastEvent = e;\r\n\t\tthis._animRequest = L.Util.requestAnimFrame(this._updatePosition, this, true);\r\n\t},\r\n\r\n\t_updatePosition: function () {\r\n\t\tvar e = {originalEvent: this._lastEvent};\r\n\r\n\t\t// @event predrag: Event\r\n\t\t// Fired continuously during dragging *before* each corresponding\r\n\t\t// update of the element's position.\r\n\t\tthis.fire('predrag', e);\r\n\t\tL.DomUtil.setPosition(this._element, this._newPos);\r\n\r\n\t\t// @event drag: Event\r\n\t\t// Fired continuously during dragging.\r\n\t\tthis.fire('drag', e);\r\n\t},\r\n\r\n\t_onUp: function (e) {\r\n\t\t// Ignore simulated events, since we handle both touch and\r\n\t\t// mouse explicitly; otherwise we risk getting duplicates of\r\n\t\t// touch events, see #4315.\r\n\t\t// Also ignore the event if disabled; this happens in IE11\r\n\t\t// under some circumstances, see #3666.\r\n\t\tif (e._simulated || !this._enabled) { return; }\r\n\r\n\t\tL.DomUtil.removeClass(document.body, 'leaflet-dragging');\r\n\r\n\t\tif (this._lastTarget) {\r\n\t\t\tL.DomUtil.removeClass(this._lastTarget, 'leaflet-drag-target');\r\n\t\t\tthis._lastTarget = null;\r\n\t\t}\r\n\r\n\t\tfor (var i in L.Draggable.MOVE) {\r\n\t\t\tL.DomEvent\r\n\t\t\t\t.off(document, L.Draggable.MOVE[i], this._onMove, this)\r\n\t\t\t\t.off(document, L.Draggable.END[i], this._onUp, this);\r\n\t\t}\r\n\r\n\t\tL.DomUtil.enableImageDrag();\r\n\t\tL.DomUtil.enableTextSelection();\r\n\r\n\t\tif (this._moved && this._moving) {\r\n\t\t\t// ensure drag is not fired after dragend\r\n\t\t\tL.Util.cancelAnimFrame(this._animRequest);\r\n\r\n\t\t\t// @event dragend: DragEndEvent\r\n\t\t\t// Fired when the drag ends.\r\n\t\t\tthis.fire('dragend', {\r\n\t\t\t\tdistance: this._newPos.distanceTo(this._startPos)\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tthis._moving = false;\r\n\t\tL.Draggable._dragging = false;\r\n\t}\r\n});\r\n\n/*\n\tL.Handler is a base class for handler classes that are used internally to inject\n\tinteraction features like dragging to classes like Map and Marker.\n*/\n\n// @class Handler\n// @aka L.Handler\n// Abstract class for map interaction handlers\n\nL.Handler = L.Class.extend({\n\tinitialize: function (map) {\n\t\tthis._map = map;\n\t},\n\n\t// @method enable(): this\n\t// Enables the handler\n\tenable: function () {\n\t\tif (this._enabled) { return this; }\n\n\t\tthis._enabled = true;\n\t\tthis.addHooks();\n\t\treturn this;\n\t},\n\n\t// @method disable(): this\n\t// Disables the handler\n\tdisable: function () {\n\t\tif (!this._enabled) { return this; }\n\n\t\tthis._enabled = false;\n\t\tthis.removeHooks();\n\t\treturn this;\n\t},\n\n\t// @method enabled(): Boolean\n\t// Returns `true` if the handler is enabled\n\tenabled: function () {\n\t\treturn !!this._enabled;\n\t}\n\n\t// @section Extension methods\n\t// Classes inheriting from `Handler` must implement the two following methods:\n\t// @method addHooks()\n\t// Called when the handler is enabled, should add event hooks.\n\t// @method removeHooks()\n\t// Called when the handler is disabled, should remove the event hooks added previously.\n});\n\n/*\n * L.Handler.MapDrag is used to make the map draggable (with panning inertia), enabled by default.\n */\n\n// @namespace Map\n// @section Interaction Options\nL.Map.mergeOptions({\n\t// @option dragging: Boolean = true\n\t// Whether the map be draggable with mouse/touch or not.\n\tdragging: true,\n\n\t// @section Panning Inertia Options\n\t// @option inertia: Boolean = *\n\t// If enabled, panning of the map will have an inertia effect where\n\t// the map builds momentum while dragging and continues moving in\n\t// the same direction for some time. Feels especially nice on touch\n\t// devices. Enabled by default unless running on old Android devices.\n\tinertia: !L.Browser.android23,\n\n\t// @option inertiaDeceleration: Number = 3000\n\t// The rate with which the inertial movement slows down, in pixels/second².\n\tinertiaDeceleration: 3400, // px/s^2\n\n\t// @option inertiaMaxSpeed: Number = Infinity\n\t// Max speed of the inertial movement, in pixels/second.\n\tinertiaMaxSpeed: Infinity, // px/s\n\n\t// @option easeLinearity: Number = 0.2\n\teaseLinearity: 0.2,\n\n\t// TODO refactor, move to CRS\n\t// @option worldCopyJump: Boolean = false\n\t// With this option enabled, the map tracks when you pan to another \"copy\"\n\t// of the world and seamlessly jumps to the original one so that all overlays\n\t// like markers and vector layers are still visible.\n\tworldCopyJump: false,\n\n\t// @option maxBoundsViscosity: Number = 0.0\n\t// If `maxBounds` is set, this option will control how solid the bounds\n\t// are when dragging the map around. The default value of `0.0` allows the\n\t// user to drag outside the bounds at normal speed, higher values will\n\t// slow down map dragging outside bounds, and `1.0` makes the bounds fully\n\t// solid, preventing the user from dragging outside the bounds.\n\tmaxBoundsViscosity: 0.0\n});\n\nL.Map.Drag = L.Handler.extend({\n\taddHooks: function () {\n\t\tif (!this._draggable) {\n\t\t\tvar map = this._map;\n\n\t\t\tthis._draggable = new L.Draggable(map._mapPane, map._container);\n\n\t\t\tthis._draggable.on({\n\t\t\t\tdown: this._onDown,\n\t\t\t\tdragstart: this._onDragStart,\n\t\t\t\tdrag: this._onDrag,\n\t\t\t\tdragend: this._onDragEnd\n\t\t\t}, this);\n\n\t\t\tthis._draggable.on('predrag', this._onPreDragLimit, this);\n\t\t\tif (map.options.worldCopyJump) {\n\t\t\t\tthis._draggable.on('predrag', this._onPreDragWrap, this);\n\t\t\t\tmap.on('zoomend', this._onZoomEnd, this);\n\n\t\t\t\tmap.whenReady(this._onZoomEnd, this);\n\t\t\t}\n\t\t}\n\t\tL.DomUtil.addClass(this._map._container, 'leaflet-grab leaflet-touch-drag');\n\t\tthis._draggable.enable();\n\t\tthis._positions = [];\n\t\tthis._times = [];\n\t},\n\n\tremoveHooks: function () {\n\t\tL.DomUtil.removeClass(this._map._container, 'leaflet-grab');\n\t\tL.DomUtil.removeClass(this._map._container, 'leaflet-touch-drag');\n\t\tthis._draggable.disable();\n\t},\n\n\tmoved: function () {\n\t\treturn this._draggable && this._draggable._moved;\n\t},\n\n\tmoving: function () {\n\t\treturn this._draggable && this._draggable._moving;\n\t},\n\n\t_onDown: function () {\n\t\tthis._map._stop();\n\t},\n\n\t_onDragStart: function () {\n\t\tvar map = this._map;\n\n\t\tif (this._map.options.maxBounds && this._map.options.maxBoundsViscosity) {\n\t\t\tvar bounds = L.latLngBounds(this._map.options.maxBounds);\n\n\t\t\tthis._offsetLimit = L.bounds(\n\t\t\t\tthis._map.latLngToContainerPoint(bounds.getNorthWest()).multiplyBy(-1),\n\t\t\t\tthis._map.latLngToContainerPoint(bounds.getSouthEast()).multiplyBy(-1)\n\t\t\t\t\t.add(this._map.getSize()));\n\n\t\t\tthis._viscosity = Math.min(1.0, Math.max(0.0, this._map.options.maxBoundsViscosity));\n\t\t} else {\n\t\t\tthis._offsetLimit = null;\n\t\t}\n\n\t\tmap\n\t\t    .fire('movestart')\n\t\t    .fire('dragstart');\n\n\t\tif (map.options.inertia) {\n\t\t\tthis._positions = [];\n\t\t\tthis._times = [];\n\t\t}\n\t},\n\n\t_onDrag: function (e) {\n\t\tif (this._map.options.inertia) {\n\t\t\tvar time = this._lastTime = +new Date(),\n\t\t\t    pos = this._lastPos = this._draggable._absPos || this._draggable._newPos;\n\n\t\t\tthis._positions.push(pos);\n\t\t\tthis._times.push(time);\n\n\t\t\tif (time - this._times[0] > 50) {\n\t\t\t\tthis._positions.shift();\n\t\t\t\tthis._times.shift();\n\t\t\t}\n\t\t}\n\n\t\tthis._map\n\t\t    .fire('move', e)\n\t\t    .fire('drag', e);\n\t},\n\n\t_onZoomEnd: function () {\n\t\tvar pxCenter = this._map.getSize().divideBy(2),\n\t\t    pxWorldCenter = this._map.latLngToLayerPoint([0, 0]);\n\n\t\tthis._initialWorldOffset = pxWorldCenter.subtract(pxCenter).x;\n\t\tthis._worldWidth = this._map.getPixelWorldBounds().getSize().x;\n\t},\n\n\t_viscousLimit: function (value, threshold) {\n\t\treturn value - (value - threshold) * this._viscosity;\n\t},\n\n\t_onPreDragLimit: function () {\n\t\tif (!this._viscosity || !this._offsetLimit) { return; }\n\n\t\tvar offset = this._draggable._newPos.subtract(this._draggable._startPos);\n\n\t\tvar limit = this._offsetLimit;\n\t\tif (offset.x < limit.min.x) { offset.x = this._viscousLimit(offset.x, limit.min.x); }\n\t\tif (offset.y < limit.min.y) { offset.y = this._viscousLimit(offset.y, limit.min.y); }\n\t\tif (offset.x > limit.max.x) { offset.x = this._viscousLimit(offset.x, limit.max.x); }\n\t\tif (offset.y > limit.max.y) { offset.y = this._viscousLimit(offset.y, limit.max.y); }\n\n\t\tthis._draggable._newPos = this._draggable._startPos.add(offset);\n\t},\n\n\t_onPreDragWrap: function () {\n\t\t// TODO refactor to be able to adjust map pane position after zoom\n\t\tvar worldWidth = this._worldWidth,\n\t\t    halfWidth = Math.round(worldWidth / 2),\n\t\t    dx = this._initialWorldOffset,\n\t\t    x = this._draggable._newPos.x,\n\t\t    newX1 = (x - halfWidth + dx) % worldWidth + halfWidth - dx,\n\t\t    newX2 = (x + halfWidth + dx) % worldWidth - halfWidth - dx,\n\t\t    newX = Math.abs(newX1 + dx) < Math.abs(newX2 + dx) ? newX1 : newX2;\n\n\t\tthis._draggable._absPos = this._draggable._newPos.clone();\n\t\tthis._draggable._newPos.x = newX;\n\t},\n\n\t_onDragEnd: function (e) {\n\t\tvar map = this._map,\n\t\t    options = map.options,\n\n\t\t    noInertia = !options.inertia || this._times.length < 2;\n\n\t\tmap.fire('dragend', e);\n\n\t\tif (noInertia) {\n\t\t\tmap.fire('moveend');\n\n\t\t} else {\n\n\t\t\tvar direction = this._lastPos.subtract(this._positions[0]),\n\t\t\t    duration = (this._lastTime - this._times[0]) / 1000,\n\t\t\t    ease = options.easeLinearity,\n\n\t\t\t    speedVector = direction.multiplyBy(ease / duration),\n\t\t\t    speed = speedVector.distanceTo([0, 0]),\n\n\t\t\t    limitedSpeed = Math.min(options.inertiaMaxSpeed, speed),\n\t\t\t    limitedSpeedVector = speedVector.multiplyBy(limitedSpeed / speed),\n\n\t\t\t    decelerationDuration = limitedSpeed / (options.inertiaDeceleration * ease),\n\t\t\t    offset = limitedSpeedVector.multiplyBy(-decelerationDuration / 2).round();\n\n\t\t\tif (!offset.x && !offset.y) {\n\t\t\t\tmap.fire('moveend');\n\n\t\t\t} else {\n\t\t\t\toffset = map._limitOffset(offset, map.options.maxBounds);\n\n\t\t\t\tL.Util.requestAnimFrame(function () {\n\t\t\t\t\tmap.panBy(offset, {\n\t\t\t\t\t\tduration: decelerationDuration,\n\t\t\t\t\t\teaseLinearity: ease,\n\t\t\t\t\t\tnoMoveStart: true,\n\t\t\t\t\t\tanimate: true\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n});\n\n// @section Handlers\n// @property dragging: Handler\n// Map dragging handler (by both mouse and touch).\nL.Map.addInitHook('addHandler', 'dragging', L.Map.Drag);\n\n/*\n * L.Handler.DoubleClickZoom is used to handle double-click zoom on the map, enabled by default.\n */\n\n// @namespace Map\n// @section Interaction Options\n\nL.Map.mergeOptions({\n\t// @option doubleClickZoom: Boolean|String = true\n\t// Whether the map can be zoomed in by double clicking on it and\n\t// zoomed out by double clicking while holding shift. If passed\n\t// `'center'`, double-click zoom will zoom to the center of the\n\t//  view regardless of where the mouse was.\n\tdoubleClickZoom: true\n});\n\nL.Map.DoubleClickZoom = L.Handler.extend({\n\taddHooks: function () {\n\t\tthis._map.on('dblclick', this._onDoubleClick, this);\n\t},\n\n\tremoveHooks: function () {\n\t\tthis._map.off('dblclick', this._onDoubleClick, this);\n\t},\n\n\t_onDoubleClick: function (e) {\n\t\tvar map = this._map,\n\t\t    oldZoom = map.getZoom(),\n\t\t    delta = map.options.zoomDelta,\n\t\t    zoom = e.originalEvent.shiftKey ? oldZoom - delta : oldZoom + delta;\n\n\t\tif (map.options.doubleClickZoom === 'center') {\n\t\t\tmap.setZoom(zoom);\n\t\t} else {\n\t\t\tmap.setZoomAround(e.containerPoint, zoom);\n\t\t}\n\t}\n});\n\n// @section Handlers\n//\n// Map properties include interaction handlers that allow you to control\n// interaction behavior in runtime, enabling or disabling certain features such\n// as dragging or touch zoom (see `Handler` methods). For example:\n//\n// ```js\n// map.doubleClickZoom.disable();\n// ```\n//\n// @property doubleClickZoom: Handler\n// Double click zoom handler.\nL.Map.addInitHook('addHandler', 'doubleClickZoom', L.Map.DoubleClickZoom);\n\n/*\n * L.Handler.ScrollWheelZoom is used by L.Map to enable mouse scroll wheel zoom on the map.\n */\n\n// @namespace Map\n// @section Interaction Options\nL.Map.mergeOptions({\n\t// @section Mousewheel options\n\t// @option scrollWheelZoom: Boolean|String = true\n\t// Whether the map can be zoomed by using the mouse wheel. If passed `'center'`,\n\t// it will zoom to the center of the view regardless of where the mouse was.\n\tscrollWheelZoom: true,\n\n\t// @option wheelDebounceTime: Number = 40\n\t// Limits the rate at which a wheel can fire (in milliseconds). By default\n\t// user can't zoom via wheel more often than once per 40 ms.\n\twheelDebounceTime: 40,\n\n\t// @option wheelPxPerZoomLevel: Number = 60\n\t// How many scroll pixels (as reported by [L.DomEvent.getWheelDelta](#domevent-getwheeldelta))\n\t// mean a change of one full zoom level. Smaller values will make wheel-zooming\n\t// faster (and vice versa).\n\twheelPxPerZoomLevel: 60\n});\n\nL.Map.ScrollWheelZoom = L.Handler.extend({\n\taddHooks: function () {\n\t\tL.DomEvent.on(this._map._container, 'mousewheel', this._onWheelScroll, this);\n\n\t\tthis._delta = 0;\n\t},\n\n\tremoveHooks: function () {\n\t\tL.DomEvent.off(this._map._container, 'mousewheel', this._onWheelScroll, this);\n\t},\n\n\t_onWheelScroll: function (e) {\n\t\tvar delta = L.DomEvent.getWheelDelta(e);\n\n\t\tvar debounce = this._map.options.wheelDebounceTime;\n\n\t\tthis._delta += delta;\n\t\tthis._lastMousePos = this._map.mouseEventToContainerPoint(e);\n\n\t\tif (!this._startTime) {\n\t\t\tthis._startTime = +new Date();\n\t\t}\n\n\t\tvar left = Math.max(debounce - (+new Date() - this._startTime), 0);\n\n\t\tclearTimeout(this._timer);\n\t\tthis._timer = setTimeout(L.bind(this._performZoom, this), left);\n\n\t\tL.DomEvent.stop(e);\n\t},\n\n\t_performZoom: function () {\n\t\tvar map = this._map,\n\t\t    zoom = map.getZoom(),\n\t\t    snap = this._map.options.zoomSnap || 0;\n\n\t\tmap._stop(); // stop panning and fly animations if any\n\n\t\t// map the delta with a sigmoid function to -4..4 range leaning on -1..1\n\t\tvar d2 = this._delta / (this._map.options.wheelPxPerZoomLevel * 4),\n\t\t    d3 = 4 * Math.log(2 / (1 + Math.exp(-Math.abs(d2)))) / Math.LN2,\n\t\t    d4 = snap ? Math.ceil(d3 / snap) * snap : d3,\n\t\t    delta = map._limitZoom(zoom + (this._delta > 0 ? d4 : -d4)) - zoom;\n\n\t\tthis._delta = 0;\n\t\tthis._startTime = null;\n\n\t\tif (!delta) { return; }\n\n\t\tif (map.options.scrollWheelZoom === 'center') {\n\t\t\tmap.setZoom(zoom + delta);\n\t\t} else {\n\t\t\tmap.setZoomAround(this._lastMousePos, zoom + delta);\n\t\t}\n\t}\n});\n\n// @section Handlers\n// @property scrollWheelZoom: Handler\n// Scroll wheel zoom handler.\nL.Map.addInitHook('addHandler', 'scrollWheelZoom', L.Map.ScrollWheelZoom);\n\n/*\n * @class PosAnimation\n * @aka L.PosAnimation\n * @inherits Evented\n * Used internally for panning animations, utilizing CSS3 Transitions for modern browsers and a timer fallback for IE6-9.\n *\n * @example\n * ```js\n * var fx = new L.PosAnimation();\n * fx.run(el, [300, 500], 0.5);\n * ```\n *\n * @constructor L.PosAnimation()\n * Creates a `PosAnimation` object.\n *\n */\n\nL.PosAnimation = L.Evented.extend({\n\n\t// @method run(el: HTMLElement, newPos: Point, duration?: Number, easeLinearity?: Number)\n\t// Run an animation of a given element to a new position, optionally setting\n\t// duration in seconds (`0.25` by default) and easing linearity factor (3rd\n\t// argument of the [cubic bezier curve](http://cubic-bezier.com/#0,0,.5,1),\n\t// `0.5` by default).\n\trun: function (el, newPos, duration, easeLinearity) {\n\t\tthis.stop();\n\n\t\tthis._el = el;\n\t\tthis._inProgress = true;\n\t\tthis._duration = duration || 0.25;\n\t\tthis._easeOutPower = 1 / Math.max(easeLinearity || 0.5, 0.2);\n\n\t\tthis._startPos = L.DomUtil.getPosition(el);\n\t\tthis._offset = newPos.subtract(this._startPos);\n\t\tthis._startTime = +new Date();\n\n\t\t// @event start: Event\n\t\t// Fired when the animation starts\n\t\tthis.fire('start');\n\n\t\tthis._animate();\n\t},\n\n\t// @method stop()\n\t// Stops the animation (if currently running).\n\tstop: function () {\n\t\tif (!this._inProgress) { return; }\n\n\t\tthis._step(true);\n\t\tthis._complete();\n\t},\n\n\t_animate: function () {\n\t\t// animation loop\n\t\tthis._animId = L.Util.requestAnimFrame(this._animate, this);\n\t\tthis._step();\n\t},\n\n\t_step: function (round) {\n\t\tvar elapsed = (+new Date()) - this._startTime,\n\t\t    duration = this._duration * 1000;\n\n\t\tif (elapsed < duration) {\n\t\t\tthis._runFrame(this._easeOut(elapsed / duration), round);\n\t\t} else {\n\t\t\tthis._runFrame(1);\n\t\t\tthis._complete();\n\t\t}\n\t},\n\n\t_runFrame: function (progress, round) {\n\t\tvar pos = this._startPos.add(this._offset.multiplyBy(progress));\n\t\tif (round) {\n\t\t\tpos._round();\n\t\t}\n\t\tL.DomUtil.setPosition(this._el, pos);\n\n\t\t// @event step: Event\n\t\t// Fired continuously during the animation.\n\t\tthis.fire('step');\n\t},\n\n\t_complete: function () {\n\t\tL.Util.cancelAnimFrame(this._animId);\n\n\t\tthis._inProgress = false;\n\t\t// @event end: Event\n\t\t// Fired when the animation ends.\n\t\tthis.fire('end');\n\t},\n\n\t_easeOut: function (t) {\n\t\treturn 1 - Math.pow(1 - t, this._easeOutPower);\n\t}\n});\n\n/*\n * Extends L.Map to handle panning animations.\n */\n\nL.Map.include({\n\n\tsetView: function (center, zoom, options) {\n\n\t\tzoom = zoom === undefined ? this._zoom : this._limitZoom(zoom);\n\t\tcenter = this._limitCenter(L.latLng(center), zoom, this.options.maxBounds);\n\t\toptions = options || {};\n\n\t\tthis._stop();\n\n\t\tif (this._loaded && !options.reset && options !== true) {\n\n\t\t\tif (options.animate !== undefined) {\n\t\t\t\toptions.zoom = L.extend({animate: options.animate}, options.zoom);\n\t\t\t\toptions.pan = L.extend({animate: options.animate, duration: options.duration}, options.pan);\n\t\t\t}\n\n\t\t\t// try animating pan or zoom\n\t\t\tvar moved = (this._zoom !== zoom) ?\n\t\t\t\tthis._tryAnimatedZoom && this._tryAnimatedZoom(center, zoom, options.zoom) :\n\t\t\t\tthis._tryAnimatedPan(center, options.pan);\n\n\t\t\tif (moved) {\n\t\t\t\t// prevent resize handler call, the view will refresh after animation anyway\n\t\t\t\tclearTimeout(this._sizeTimer);\n\t\t\t\treturn this;\n\t\t\t}\n\t\t}\n\n\t\t// animation didn't start, just reset the map view\n\t\tthis._resetView(center, zoom);\n\n\t\treturn this;\n\t},\n\n\tpanBy: function (offset, options) {\n\t\toffset = L.point(offset).round();\n\t\toptions = options || {};\n\n\t\tif (!offset.x && !offset.y) {\n\t\t\treturn this.fire('moveend');\n\t\t}\n\t\t// If we pan too far, Chrome gets issues with tiles\n\t\t// and makes them disappear or appear in the wrong place (slightly offset) #2602\n\t\tif (options.animate !== true && !this.getSize().contains(offset)) {\n\t\t\tthis._resetView(this.unproject(this.project(this.getCenter()).add(offset)), this.getZoom());\n\t\t\treturn this;\n\t\t}\n\n\t\tif (!this._panAnim) {\n\t\t\tthis._panAnim = new L.PosAnimation();\n\n\t\t\tthis._panAnim.on({\n\t\t\t\t'step': this._onPanTransitionStep,\n\t\t\t\t'end': this._onPanTransitionEnd\n\t\t\t}, this);\n\t\t}\n\n\t\t// don't fire movestart if animating inertia\n\t\tif (!options.noMoveStart) {\n\t\t\tthis.fire('movestart');\n\t\t}\n\n\t\t// animate pan unless animate: false specified\n\t\tif (options.animate !== false) {\n\t\t\tL.DomUtil.addClass(this._mapPane, 'leaflet-pan-anim');\n\n\t\t\tvar newPos = this._getMapPanePos().subtract(offset).round();\n\t\t\tthis._panAnim.run(this._mapPane, newPos, options.duration || 0.25, options.easeLinearity);\n\t\t} else {\n\t\t\tthis._rawPanBy(offset);\n\t\t\tthis.fire('move').fire('moveend');\n\t\t}\n\n\t\treturn this;\n\t},\n\n\t_onPanTransitionStep: function () {\n\t\tthis.fire('move');\n\t},\n\n\t_onPanTransitionEnd: function () {\n\t\tL.DomUtil.removeClass(this._mapPane, 'leaflet-pan-anim');\n\t\tthis.fire('moveend');\n\t},\n\n\t_tryAnimatedPan: function (center, options) {\n\t\t// difference between the new and current centers in pixels\n\t\tvar offset = this._getCenterOffset(center)._floor();\n\n\t\t// don't animate too far unless animate: true specified in options\n\t\tif ((options && options.animate) !== true && !this.getSize().contains(offset)) { return false; }\n\n\t\tthis.panBy(offset, options);\n\n\t\treturn true;\n\t}\n});\n\n/*\n * Extends L.Map to handle zoom animations.\n */\n\n// @namespace Map\n// @section Animation Options\nL.Map.mergeOptions({\n\t// @option zoomAnimation: Boolean = true\n\t// Whether the map zoom animation is enabled. By default it's enabled\n\t// in all browsers that support CSS3 Transitions except Android.\n\tzoomAnimation: true,\n\n\t// @option zoomAnimationThreshold: Number = 4\n\t// Won't animate zoom if the zoom difference exceeds this value.\n\tzoomAnimationThreshold: 4\n});\n\nvar zoomAnimated = L.DomUtil.TRANSITION && L.Browser.any3d && !L.Browser.mobileOpera;\n\nif (zoomAnimated) {\n\n\tL.Map.addInitHook(function () {\n\t\t// don't animate on browsers without hardware-accelerated transitions or old Android/Opera\n\t\tthis._zoomAnimated = this.options.zoomAnimation;\n\n\t\t// zoom transitions run with the same duration for all layers, so if one of transitionend events\n\t\t// happens after starting zoom animation (propagating to the map pane), we know that it ended globally\n\t\tif (this._zoomAnimated) {\n\n\t\t\tthis._createAnimProxy();\n\n\t\t\tL.DomEvent.on(this._proxy, L.DomUtil.TRANSITION_END, this._catchTransitionEnd, this);\n\t\t}\n\t});\n}\n\nL.Map.include(!zoomAnimated ? {} : {\n\n\t_createAnimProxy: function () {\n\n\t\tvar proxy = this._proxy = L.DomUtil.create('div', 'leaflet-proxy leaflet-zoom-animated');\n\t\tthis._panes.mapPane.appendChild(proxy);\n\n\t\tthis.on('zoomanim', function (e) {\n\t\t\tvar prop = L.DomUtil.TRANSFORM,\n\t\t\t    transform = proxy.style[prop];\n\n\t\t\tL.DomUtil.setTransform(proxy, this.project(e.center, e.zoom), this.getZoomScale(e.zoom, 1));\n\n\t\t\t// workaround for case when transform is the same and so transitionend event is not fired\n\t\t\tif (transform === proxy.style[prop] && this._animatingZoom) {\n\t\t\t\tthis._onZoomTransitionEnd();\n\t\t\t}\n\t\t}, this);\n\n\t\tthis.on('load moveend', function () {\n\t\t\tvar c = this.getCenter(),\n\t\t\t    z = this.getZoom();\n\t\t\tL.DomUtil.setTransform(proxy, this.project(c, z), this.getZoomScale(z, 1));\n\t\t}, this);\n\t},\n\n\t_catchTransitionEnd: function (e) {\n\t\tif (this._animatingZoom && e.propertyName.indexOf('transform') >= 0) {\n\t\t\tthis._onZoomTransitionEnd();\n\t\t}\n\t},\n\n\t_nothingToAnimate: function () {\n\t\treturn !this._container.getElementsByClassName('leaflet-zoom-animated').length;\n\t},\n\n\t_tryAnimatedZoom: function (center, zoom, options) {\n\n\t\tif (this._animatingZoom) { return true; }\n\n\t\toptions = options || {};\n\n\t\t// don't animate if disabled, not supported or zoom difference is too large\n\t\tif (!this._zoomAnimated || options.animate === false || this._nothingToAnimate() ||\n\t\t        Math.abs(zoom - this._zoom) > this.options.zoomAnimationThreshold) { return false; }\n\n\t\t// offset is the pixel coords of the zoom origin relative to the current center\n\t\tvar scale = this.getZoomScale(zoom),\n\t\t    offset = this._getCenterOffset(center)._divideBy(1 - 1 / scale);\n\n\t\t// don't animate if the zoom origin isn't within one screen from the current center, unless forced\n\t\tif (options.animate !== true && !this.getSize().contains(offset)) { return false; }\n\n\t\tL.Util.requestAnimFrame(function () {\n\t\t\tthis\n\t\t\t    ._moveStart(true)\n\t\t\t    ._animateZoom(center, zoom, true);\n\t\t}, this);\n\n\t\treturn true;\n\t},\n\n\t_animateZoom: function (center, zoom, startAnim, noUpdate) {\n\t\tif (startAnim) {\n\t\t\tthis._animatingZoom = true;\n\n\t\t\t// remember what center/zoom to set after animation\n\t\t\tthis._animateToCenter = center;\n\t\t\tthis._animateToZoom = zoom;\n\n\t\t\tL.DomUtil.addClass(this._mapPane, 'leaflet-zoom-anim');\n\t\t}\n\n\t\t// @event zoomanim: ZoomAnimEvent\n\t\t// Fired on every frame of a zoom animation\n\t\tthis.fire('zoomanim', {\n\t\t\tcenter: center,\n\t\t\tzoom: zoom,\n\t\t\tnoUpdate: noUpdate\n\t\t});\n\n\t\t// Work around webkit not firing 'transitionend', see https://github.com/Leaflet/Leaflet/issues/3689, 2693\n\t\tsetTimeout(L.bind(this._onZoomTransitionEnd, this), 250);\n\t},\n\n\t_onZoomTransitionEnd: function () {\n\t\tif (!this._animatingZoom) { return; }\n\n\t\tL.DomUtil.removeClass(this._mapPane, 'leaflet-zoom-anim');\n\n\t\tthis._animatingZoom = false;\n\n\t\tthis._move(this._animateToCenter, this._animateToZoom);\n\n\t\t// This anim frame should prevent an obscure iOS webkit tile loading race condition.\n\t\tL.Util.requestAnimFrame(function () {\n\t\t\tthis._moveEnd(true);\n\t\t}, this);\n\t}\n});\n\n// @namespace Map\n// @section Methods for modifying map state\nL.Map.include({\n\n\t// @method flyTo(latlng: LatLng, zoom?: Number, options?: Zoom/pan options): this\n\t// Sets the view of the map (geographical center and zoom) performing a smooth\n\t// pan-zoom animation.\n\tflyTo: function (targetCenter, targetZoom, options) {\n\n\t\toptions = options || {};\n\t\tif (options.animate === false || !L.Browser.any3d) {\n\t\t\treturn this.setView(targetCenter, targetZoom, options);\n\t\t}\n\n\t\tthis._stop();\n\n\t\tvar from = this.project(this.getCenter()),\n\t\t    to = this.project(targetCenter),\n\t\t    size = this.getSize(),\n\t\t    startZoom = this._zoom;\n\n\t\ttargetCenter = L.latLng(targetCenter);\n\t\ttargetZoom = targetZoom === undefined ? startZoom : targetZoom;\n\n\t\tvar w0 = Math.max(size.x, size.y),\n\t\t    w1 = w0 * this.getZoomScale(startZoom, targetZoom),\n\t\t    u1 = (to.distanceTo(from)) || 1,\n\t\t    rho = 1.42,\n\t\t    rho2 = rho * rho;\n\n\t\tfunction r(i) {\n\t\t\tvar s1 = i ? -1 : 1,\n\t\t\t    s2 = i ? w1 : w0,\n\t\t\t    t1 = w1 * w1 - w0 * w0 + s1 * rho2 * rho2 * u1 * u1,\n\t\t\t    b1 = 2 * s2 * rho2 * u1,\n\t\t\t    b = t1 / b1,\n\t\t\t    sq = Math.sqrt(b * b + 1) - b;\n\n\t\t\t    // workaround for floating point precision bug when sq = 0, log = -Infinite,\n\t\t\t    // thus triggering an infinite loop in flyTo\n\t\t\t    var log = sq < 0.000000001 ? -18 : Math.log(sq);\n\n\t\t\treturn log;\n\t\t}\n\n\t\tfunction sinh(n) { return (Math.exp(n) - Math.exp(-n)) / 2; }\n\t\tfunction cosh(n) { return (Math.exp(n) + Math.exp(-n)) / 2; }\n\t\tfunction tanh(n) { return sinh(n) / cosh(n); }\n\n\t\tvar r0 = r(0);\n\n\t\tfunction w(s) { return w0 * (cosh(r0) / cosh(r0 + rho * s)); }\n\t\tfunction u(s) { return w0 * (cosh(r0) * tanh(r0 + rho * s) - sinh(r0)) / rho2; }\n\n\t\tfunction easeOut(t) { return 1 - Math.pow(1 - t, 1.5); }\n\n\t\tvar start = Date.now(),\n\t\t    S = (r(1) - r0) / rho,\n\t\t    duration = options.duration ? 1000 * options.duration : 1000 * S * 0.8;\n\n\t\tfunction frame() {\n\t\t\tvar t = (Date.now() - start) / duration,\n\t\t\t    s = easeOut(t) * S;\n\n\t\t\tif (t <= 1) {\n\t\t\t\tthis._flyToFrame = L.Util.requestAnimFrame(frame, this);\n\n\t\t\t\tthis._move(\n\t\t\t\t\tthis.unproject(from.add(to.subtract(from).multiplyBy(u(s) / u1)), startZoom),\n\t\t\t\t\tthis.getScaleZoom(w0 / w(s), startZoom),\n\t\t\t\t\t{flyTo: true});\n\n\t\t\t} else {\n\t\t\t\tthis\n\t\t\t\t\t._move(targetCenter, targetZoom)\n\t\t\t\t\t._moveEnd(true);\n\t\t\t}\n\t\t}\n\n\t\tthis._moveStart(true);\n\n\t\tframe.call(this);\n\t\treturn this;\n\t},\n\n\t// @method flyToBounds(bounds: LatLngBounds, options?: fitBounds options): this\n\t// Sets the view of the map with a smooth animation like [`flyTo`](#map-flyto),\n\t// but takes a bounds parameter like [`fitBounds`](#map-fitbounds).\n\tflyToBounds: function (bounds, options) {\n\t\tvar target = this._getBoundsCenterZoom(bounds, options);\n\t\treturn this.flyTo(target.center, target.zoom, options);\n\t}\n});\n\n/*\r\n * Extends the event handling code with double tap support for mobile browsers.\r\n */\r\n\r\nL.extend(L.DomEvent, {\r\n\r\n\t_touchstart: L.Browser.msPointer ? 'MSPointerDown' : L.Browser.pointer ? 'pointerdown' : 'touchstart',\r\n\t_touchend: L.Browser.msPointer ? 'MSPointerUp' : L.Browser.pointer ? 'pointerup' : 'touchend',\r\n\r\n\t// inspired by Zepto touch code by Thomas Fuchs\r\n\taddDoubleTapListener: function (obj, handler, id) {\r\n\t\tvar last, touch,\r\n\t\t    doubleTap = false,\r\n\t\t    delay = 250;\r\n\r\n\t\tfunction onTouchStart(e) {\r\n\t\t\tvar count;\r\n\r\n\t\t\tif (L.Browser.pointer) {\r\n\t\t\t\tcount = L.DomEvent._pointersCount;\r\n\t\t\t} else {\r\n\t\t\t\tcount = e.touches.length;\r\n\t\t\t}\r\n\r\n\t\t\tif (count > 1) { return; }\r\n\r\n\t\t\tvar now = Date.now(),\r\n\t\t\t    delta = now - (last || now);\r\n\r\n\t\t\ttouch = e.touches ? e.touches[0] : e;\r\n\t\t\tdoubleTap = (delta > 0 && delta <= delay);\r\n\t\t\tlast = now;\r\n\t\t}\r\n\r\n\t\tfunction onTouchEnd() {\r\n\t\t\tif (doubleTap && !touch.cancelBubble) {\r\n\t\t\t\tif (L.Browser.pointer) {\r\n\t\t\t\t\t// work around .type being readonly with MSPointer* events\r\n\t\t\t\t\tvar newTouch = {},\r\n\t\t\t\t\t    prop, i;\r\n\r\n\t\t\t\t\tfor (i in touch) {\r\n\t\t\t\t\t\tprop = touch[i];\r\n\t\t\t\t\t\tnewTouch[i] = prop && prop.bind ? prop.bind(touch) : prop;\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttouch = newTouch;\r\n\t\t\t\t}\r\n\t\t\t\ttouch.type = 'dblclick';\r\n\t\t\t\thandler(touch);\r\n\t\t\t\tlast = null;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar pre = '_leaflet_',\r\n\t\t    touchstart = this._touchstart,\r\n\t\t    touchend = this._touchend;\r\n\r\n\t\tobj[pre + touchstart + id] = onTouchStart;\r\n\t\tobj[pre + touchend + id] = onTouchEnd;\r\n\t\tobj[pre + 'dblclick' + id] = handler;\r\n\r\n\t\tobj.addEventListener(touchstart, onTouchStart, false);\r\n\t\tobj.addEventListener(touchend, onTouchEnd, false);\r\n\r\n\t\t// On some platforms (notably, chrome on win10 + touchscreen + mouse),\r\n\t\t// the browser doesn't fire touchend/pointerup events but does fire\r\n\t\t// native dblclicks. See #4127.\r\n\t\tif (!L.Browser.edge) {\r\n\t\t\tobj.addEventListener('dblclick', handler, false);\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\tremoveDoubleTapListener: function (obj, id) {\r\n\t\tvar pre = '_leaflet_',\r\n\t\t    touchstart = obj[pre + this._touchstart + id],\r\n\t\t    touchend = obj[pre + this._touchend + id],\r\n\t\t    dblclick = obj[pre + 'dblclick' + id];\r\n\r\n\t\tobj.removeEventListener(this._touchstart, touchstart, false);\r\n\t\tobj.removeEventListener(this._touchend, touchend, false);\r\n\t\tif (!L.Browser.edge) {\r\n\t\t\tobj.removeEventListener('dblclick', dblclick, false);\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t}\r\n});\r\n\n/*\n * Extends L.DomEvent to provide touch support for Internet Explorer and Windows-based devices.\n */\n\nL.extend(L.DomEvent, {\n\n\tPOINTER_DOWN:   L.Browser.msPointer ? 'MSPointerDown'   : 'pointerdown',\n\tPOINTER_MOVE:   L.Browser.msPointer ? 'MSPointerMove'   : 'pointermove',\n\tPOINTER_UP:     L.Browser.msPointer ? 'MSPointerUp'     : 'pointerup',\n\tPOINTER_CANCEL: L.Browser.msPointer ? 'MSPointerCancel' : 'pointercancel',\n\tTAG_WHITE_LIST: ['INPUT', 'SELECT', 'OPTION'],\n\n\t_pointers: {},\n\t_pointersCount: 0,\n\n\t// Provides a touch events wrapper for (ms)pointer events.\n\t// ref http://www.w3.org/TR/pointerevents/ https://www.w3.org/Bugs/Public/show_bug.cgi?id=22890\n\n\taddPointerListener: function (obj, type, handler, id) {\n\n\t\tif (type === 'touchstart') {\n\t\t\tthis._addPointerStart(obj, handler, id);\n\n\t\t} else if (type === 'touchmove') {\n\t\t\tthis._addPointerMove(obj, handler, id);\n\n\t\t} else if (type === 'touchend') {\n\t\t\tthis._addPointerEnd(obj, handler, id);\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tremovePointerListener: function (obj, type, id) {\n\t\tvar handler = obj['_leaflet_' + type + id];\n\n\t\tif (type === 'touchstart') {\n\t\t\tobj.removeEventListener(this.POINTER_DOWN, handler, false);\n\n\t\t} else if (type === 'touchmove') {\n\t\t\tobj.removeEventListener(this.POINTER_MOVE, handler, false);\n\n\t\t} else if (type === 'touchend') {\n\t\t\tobj.removeEventListener(this.POINTER_UP, handler, false);\n\t\t\tobj.removeEventListener(this.POINTER_CANCEL, handler, false);\n\t\t}\n\n\t\treturn this;\n\t},\n\n\t_addPointerStart: function (obj, handler, id) {\n\t\tvar onDown = L.bind(function (e) {\n\t\t\tif (e.pointerType !== 'mouse' && e.pointerType !== e.MSPOINTER_TYPE_MOUSE) {\n\t\t\t\t// In IE11, some touch events needs to fire for form controls, or\n\t\t\t\t// the controls will stop working. We keep a whitelist of tag names that\n\t\t\t\t// need these events. For other target tags, we prevent default on the event.\n\t\t\t\tif (this.TAG_WHITE_LIST.indexOf(e.target.tagName) < 0) {\n\t\t\t\t\tL.DomEvent.preventDefault(e);\n\t\t\t\t} else {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis._handlePointer(e, handler);\n\t\t}, this);\n\n\t\tobj['_leaflet_touchstart' + id] = onDown;\n\t\tobj.addEventListener(this.POINTER_DOWN, onDown, false);\n\n\t\t// need to keep track of what pointers and how many are active to provide e.touches emulation\n\t\tif (!this._pointerDocListener) {\n\t\t\tvar pointerUp = L.bind(this._globalPointerUp, this);\n\n\t\t\t// we listen documentElement as any drags that end by moving the touch off the screen get fired there\n\t\t\tdocument.documentElement.addEventListener(this.POINTER_DOWN, L.bind(this._globalPointerDown, this), true);\n\t\t\tdocument.documentElement.addEventListener(this.POINTER_MOVE, L.bind(this._globalPointerMove, this), true);\n\t\t\tdocument.documentElement.addEventListener(this.POINTER_UP, pointerUp, true);\n\t\t\tdocument.documentElement.addEventListener(this.POINTER_CANCEL, pointerUp, true);\n\n\t\t\tthis._pointerDocListener = true;\n\t\t}\n\t},\n\n\t_globalPointerDown: function (e) {\n\t\tthis._pointers[e.pointerId] = e;\n\t\tthis._pointersCount++;\n\t},\n\n\t_globalPointerMove: function (e) {\n\t\tif (this._pointers[e.pointerId]) {\n\t\t\tthis._pointers[e.pointerId] = e;\n\t\t}\n\t},\n\n\t_globalPointerUp: function (e) {\n\t\tdelete this._pointers[e.pointerId];\n\t\tthis._pointersCount--;\n\t},\n\n\t_handlePointer: function (e, handler) {\n\t\te.touches = [];\n\t\tfor (var i in this._pointers) {\n\t\t\te.touches.push(this._pointers[i]);\n\t\t}\n\t\te.changedTouches = [e];\n\n\t\thandler(e);\n\t},\n\n\t_addPointerMove: function (obj, handler, id) {\n\t\tvar onMove = L.bind(function (e) {\n\t\t\t// don't fire touch moves when mouse isn't down\n\t\t\tif ((e.pointerType === e.MSPOINTER_TYPE_MOUSE || e.pointerType === 'mouse') && e.buttons === 0) { return; }\n\n\t\t\tthis._handlePointer(e, handler);\n\t\t}, this);\n\n\t\tobj['_leaflet_touchmove' + id] = onMove;\n\t\tobj.addEventListener(this.POINTER_MOVE, onMove, false);\n\t},\n\n\t_addPointerEnd: function (obj, handler, id) {\n\t\tvar onUp = L.bind(function (e) {\n\t\t\tthis._handlePointer(e, handler);\n\t\t}, this);\n\n\t\tobj['_leaflet_touchend' + id] = onUp;\n\t\tobj.addEventListener(this.POINTER_UP, onUp, false);\n\t\tobj.addEventListener(this.POINTER_CANCEL, onUp, false);\n\t}\n});\n\n/*\n * L.Handler.TouchZoom is used by L.Map to add pinch zoom on supported mobile browsers.\n */\n\n// @namespace Map\n// @section Interaction Options\nL.Map.mergeOptions({\n\t// @section Touch interaction options\n\t// @option touchZoom: Boolean|String = *\n\t// Whether the map can be zoomed by touch-dragging with two fingers. If\n\t// passed `'center'`, it will zoom to the center of the view regardless of\n\t// where the touch events (fingers) were. Enabled for touch-capable web\n\t// browsers except for old Androids.\n\ttouchZoom: L.Browser.touch && !L.Browser.android23,\n\n\t// @option bounceAtZoomLimits: Boolean = true\n\t// Set it to false if you don't want the map to zoom beyond min/max zoom\n\t// and then bounce back when pinch-zooming.\n\tbounceAtZoomLimits: true\n});\n\nL.Map.TouchZoom = L.Handler.extend({\n\taddHooks: function () {\n\t\tL.DomUtil.addClass(this._map._container, 'leaflet-touch-zoom');\n\t\tL.DomEvent.on(this._map._container, 'touchstart', this._onTouchStart, this);\n\t},\n\n\tremoveHooks: function () {\n\t\tL.DomUtil.removeClass(this._map._container, 'leaflet-touch-zoom');\n\t\tL.DomEvent.off(this._map._container, 'touchstart', this._onTouchStart, this);\n\t},\n\n\t_onTouchStart: function (e) {\n\t\tvar map = this._map;\n\t\tif (!e.touches || e.touches.length !== 2 || map._animatingZoom || this._zooming) { return; }\n\n\t\tvar p1 = map.mouseEventToContainerPoint(e.touches[0]),\n\t\t    p2 = map.mouseEventToContainerPoint(e.touches[1]);\n\n\t\tthis._centerPoint = map.getSize()._divideBy(2);\n\t\tthis._startLatLng = map.containerPointToLatLng(this._centerPoint);\n\t\tif (map.options.touchZoom !== 'center') {\n\t\t\tthis._pinchStartLatLng = map.containerPointToLatLng(p1.add(p2)._divideBy(2));\n\t\t}\n\n\t\tthis._startDist = p1.distanceTo(p2);\n\t\tthis._startZoom = map.getZoom();\n\n\t\tthis._moved = false;\n\t\tthis._zooming = true;\n\n\t\tmap._stop();\n\n\t\tL.DomEvent\n\t\t    .on(document, 'touchmove', this._onTouchMove, this)\n\t\t    .on(document, 'touchend', this._onTouchEnd, this);\n\n\t\tL.DomEvent.preventDefault(e);\n\t},\n\n\t_onTouchMove: function (e) {\n\t\tif (!e.touches || e.touches.length !== 2 || !this._zooming) { return; }\n\n\t\tvar map = this._map,\n\t\t    p1 = map.mouseEventToContainerPoint(e.touches[0]),\n\t\t    p2 = map.mouseEventToContainerPoint(e.touches[1]),\n\t\t    scale = p1.distanceTo(p2) / this._startDist;\n\n\n\t\tthis._zoom = map.getScaleZoom(scale, this._startZoom);\n\n\t\tif (!map.options.bounceAtZoomLimits && (\n\t\t\t(this._zoom < map.getMinZoom() && scale < 1) ||\n\t\t\t(this._zoom > map.getMaxZoom() && scale > 1))) {\n\t\t\tthis._zoom = map._limitZoom(this._zoom);\n\t\t}\n\n\t\tif (map.options.touchZoom === 'center') {\n\t\t\tthis._center = this._startLatLng;\n\t\t\tif (scale === 1) { return; }\n\t\t} else {\n\t\t\t// Get delta from pinch to center, so centerLatLng is delta applied to initial pinchLatLng\n\t\t\tvar delta = p1._add(p2)._divideBy(2)._subtract(this._centerPoint);\n\t\t\tif (scale === 1 && delta.x === 0 && delta.y === 0) { return; }\n\t\t\tthis._center = map.unproject(map.project(this._pinchStartLatLng, this._zoom).subtract(delta), this._zoom);\n\t\t}\n\n\t\tif (!this._moved) {\n\t\t\tmap._moveStart(true);\n\t\t\tthis._moved = true;\n\t\t}\n\n\t\tL.Util.cancelAnimFrame(this._animRequest);\n\n\t\tvar moveFn = L.bind(map._move, map, this._center, this._zoom, {pinch: true, round: false});\n\t\tthis._animRequest = L.Util.requestAnimFrame(moveFn, this, true);\n\n\t\tL.DomEvent.preventDefault(e);\n\t},\n\n\t_onTouchEnd: function () {\n\t\tif (!this._moved || !this._zooming) {\n\t\t\tthis._zooming = false;\n\t\t\treturn;\n\t\t}\n\n\t\tthis._zooming = false;\n\t\tL.Util.cancelAnimFrame(this._animRequest);\n\n\t\tL.DomEvent\n\t\t    .off(document, 'touchmove', this._onTouchMove)\n\t\t    .off(document, 'touchend', this._onTouchEnd);\n\n\t\t// Pinch updates GridLayers' levels only when zoomSnap is off, so zoomSnap becomes noUpdate.\n\t\tif (this._map.options.zoomAnimation) {\n\t\t\tthis._map._animateZoom(this._center, this._map._limitZoom(this._zoom), true, this._map.options.zoomSnap);\n\t\t} else {\n\t\t\tthis._map._resetView(this._center, this._map._limitZoom(this._zoom));\n\t\t}\n\t}\n});\n\n// @section Handlers\n// @property touchZoom: Handler\n// Touch zoom handler.\nL.Map.addInitHook('addHandler', 'touchZoom', L.Map.TouchZoom);\n\n/*\n * L.Map.Tap is used to enable mobile hacks like quick taps and long hold.\n */\n\n// @namespace Map\n// @section Interaction Options\nL.Map.mergeOptions({\n\t// @section Touch interaction options\n\t// @option tap: Boolean = true\n\t// Enables mobile hacks for supporting instant taps (fixing 200ms click\n\t// delay on iOS/Android) and touch holds (fired as `contextmenu` events).\n\ttap: true,\n\n\t// @option tapTolerance: Number = 15\n\t// The max number of pixels a user can shift his finger during touch\n\t// for it to be considered a valid tap.\n\ttapTolerance: 15\n});\n\nL.Map.Tap = L.Handler.extend({\n\taddHooks: function () {\n\t\tL.DomEvent.on(this._map._container, 'touchstart', this._onDown, this);\n\t},\n\n\tremoveHooks: function () {\n\t\tL.DomEvent.off(this._map._container, 'touchstart', this._onDown, this);\n\t},\n\n\t_onDown: function (e) {\n\t\tif (!e.touches) { return; }\n\n\t\tL.DomEvent.preventDefault(e);\n\n\t\tthis._fireClick = true;\n\n\t\t// don't simulate click or track longpress if more than 1 touch\n\t\tif (e.touches.length > 1) {\n\t\t\tthis._fireClick = false;\n\t\t\tclearTimeout(this._holdTimeout);\n\t\t\treturn;\n\t\t}\n\n\t\tvar first = e.touches[0],\n\t\t    el = first.target;\n\n\t\tthis._startPos = this._newPos = new L.Point(first.clientX, first.clientY);\n\n\t\t// if touching a link, highlight it\n\t\tif (el.tagName && el.tagName.toLowerCase() === 'a') {\n\t\t\tL.DomUtil.addClass(el, 'leaflet-active');\n\t\t}\n\n\t\t// simulate long hold but setting a timeout\n\t\tthis._holdTimeout = setTimeout(L.bind(function () {\n\t\t\tif (this._isTapValid()) {\n\t\t\t\tthis._fireClick = false;\n\t\t\t\tthis._onUp();\n\t\t\t\tthis._simulateEvent('contextmenu', first);\n\t\t\t}\n\t\t}, this), 1000);\n\n\t\tthis._simulateEvent('mousedown', first);\n\n\t\tL.DomEvent.on(document, {\n\t\t\ttouchmove: this._onMove,\n\t\t\ttouchend: this._onUp\n\t\t}, this);\n\t},\n\n\t_onUp: function (e) {\n\t\tclearTimeout(this._holdTimeout);\n\n\t\tL.DomEvent.off(document, {\n\t\t\ttouchmove: this._onMove,\n\t\t\ttouchend: this._onUp\n\t\t}, this);\n\n\t\tif (this._fireClick && e && e.changedTouches) {\n\n\t\t\tvar first = e.changedTouches[0],\n\t\t\t    el = first.target;\n\n\t\t\tif (el && el.tagName && el.tagName.toLowerCase() === 'a') {\n\t\t\t\tL.DomUtil.removeClass(el, 'leaflet-active');\n\t\t\t}\n\n\t\t\tthis._simulateEvent('mouseup', first);\n\n\t\t\t// simulate click if the touch didn't move too much\n\t\t\tif (this._isTapValid()) {\n\t\t\t\tthis._simulateEvent('click', first);\n\t\t\t}\n\t\t}\n\t},\n\n\t_isTapValid: function () {\n\t\treturn this._newPos.distanceTo(this._startPos) <= this._map.options.tapTolerance;\n\t},\n\n\t_onMove: function (e) {\n\t\tvar first = e.touches[0];\n\t\tthis._newPos = new L.Point(first.clientX, first.clientY);\n\t\tthis._simulateEvent('mousemove', first);\n\t},\n\n\t_simulateEvent: function (type, e) {\n\t\tvar simulatedEvent = document.createEvent('MouseEvents');\n\n\t\tsimulatedEvent._simulated = true;\n\t\te.target._simulatedClick = true;\n\n\t\tsimulatedEvent.initMouseEvent(\n\t\t        type, true, true, window, 1,\n\t\t        e.screenX, e.screenY,\n\t\t        e.clientX, e.clientY,\n\t\t        false, false, false, false, 0, null);\n\n\t\te.target.dispatchEvent(simulatedEvent);\n\t}\n});\n\n// @section Handlers\n// @property tap: Handler\n// Mobile touch hacks (quick tap and touch hold) handler.\nif (L.Browser.touch && !L.Browser.pointer) {\n\tL.Map.addInitHook('addHandler', 'tap', L.Map.Tap);\n}\n\n/*\n * L.Handler.BoxZoom is used to add shift-drag zoom interaction to the map\n * (zoom to a selected bounding box), enabled by default.\n */\n\n// @namespace Map\n// @section Interaction Options\nL.Map.mergeOptions({\n\t// @option boxZoom: Boolean = true\n\t// Whether the map can be zoomed to a rectangular area specified by\n\t// dragging the mouse while pressing the shift key.\n\tboxZoom: true\n});\n\nL.Map.BoxZoom = L.Handler.extend({\n\tinitialize: function (map) {\n\t\tthis._map = map;\n\t\tthis._container = map._container;\n\t\tthis._pane = map._panes.overlayPane;\n\t},\n\n\taddHooks: function () {\n\t\tL.DomEvent.on(this._container, 'mousedown', this._onMouseDown, this);\n\t},\n\n\tremoveHooks: function () {\n\t\tL.DomEvent.off(this._container, 'mousedown', this._onMouseDown, this);\n\t},\n\n\tmoved: function () {\n\t\treturn this._moved;\n\t},\n\n\t_resetState: function () {\n\t\tthis._moved = false;\n\t},\n\n\t_onMouseDown: function (e) {\n\t\tif (!e.shiftKey || ((e.which !== 1) && (e.button !== 1))) { return false; }\n\n\t\tthis._resetState();\n\n\t\tL.DomUtil.disableTextSelection();\n\t\tL.DomUtil.disableImageDrag();\n\n\t\tthis._startPoint = this._map.mouseEventToContainerPoint(e);\n\n\t\tL.DomEvent.on(document, {\n\t\t\tcontextmenu: L.DomEvent.stop,\n\t\t\tmousemove: this._onMouseMove,\n\t\t\tmouseup: this._onMouseUp,\n\t\t\tkeydown: this._onKeyDown\n\t\t}, this);\n\t},\n\n\t_onMouseMove: function (e) {\n\t\tif (!this._moved) {\n\t\t\tthis._moved = true;\n\n\t\t\tthis._box = L.DomUtil.create('div', 'leaflet-zoom-box', this._container);\n\t\t\tL.DomUtil.addClass(this._container, 'leaflet-crosshair');\n\n\t\t\tthis._map.fire('boxzoomstart');\n\t\t}\n\n\t\tthis._point = this._map.mouseEventToContainerPoint(e);\n\n\t\tvar bounds = new L.Bounds(this._point, this._startPoint),\n\t\t    size = bounds.getSize();\n\n\t\tL.DomUtil.setPosition(this._box, bounds.min);\n\n\t\tthis._box.style.width  = size.x + 'px';\n\t\tthis._box.style.height = size.y + 'px';\n\t},\n\n\t_finish: function () {\n\t\tif (this._moved) {\n\t\t\tL.DomUtil.remove(this._box);\n\t\t\tL.DomUtil.removeClass(this._container, 'leaflet-crosshair');\n\t\t}\n\n\t\tL.DomUtil.enableTextSelection();\n\t\tL.DomUtil.enableImageDrag();\n\n\t\tL.DomEvent.off(document, {\n\t\t\tcontextmenu: L.DomEvent.stop,\n\t\t\tmousemove: this._onMouseMove,\n\t\t\tmouseup: this._onMouseUp,\n\t\t\tkeydown: this._onKeyDown\n\t\t}, this);\n\t},\n\n\t_onMouseUp: function (e) {\n\t\tif ((e.which !== 1) && (e.button !== 1)) { return; }\n\n\t\tthis._finish();\n\n\t\tif (!this._moved) { return; }\n\t\t// Postpone to next JS tick so internal click event handling\n\t\t// still see it as \"moved\".\n\t\tsetTimeout(L.bind(this._resetState, this), 0);\n\n\t\tvar bounds = new L.LatLngBounds(\n\t\t        this._map.containerPointToLatLng(this._startPoint),\n\t\t        this._map.containerPointToLatLng(this._point));\n\n\t\tthis._map\n\t\t\t.fitBounds(bounds)\n\t\t\t.fire('boxzoomend', {boxZoomBounds: bounds});\n\t},\n\n\t_onKeyDown: function (e) {\n\t\tif (e.keyCode === 27) {\n\t\t\tthis._finish();\n\t\t}\n\t}\n});\n\n// @section Handlers\n// @property boxZoom: Handler\n// Box (shift-drag with mouse) zoom handler.\nL.Map.addInitHook('addHandler', 'boxZoom', L.Map.BoxZoom);\n\n/*\n * L.Map.Keyboard is handling keyboard interaction with the map, enabled by default.\n */\n\n// @namespace Map\n// @section Keyboard Navigation Options\nL.Map.mergeOptions({\n\t// @option keyboard: Boolean = true\n\t// Makes the map focusable and allows users to navigate the map with keyboard\n\t// arrows and `+`/`-` keys.\n\tkeyboard: true,\n\n\t// @option keyboardPanDelta: Number = 80\n\t// Amount of pixels to pan when pressing an arrow key.\n\tkeyboardPanDelta: 80\n});\n\nL.Map.Keyboard = L.Handler.extend({\n\n\tkeyCodes: {\n\t\tleft:    [37],\n\t\tright:   [39],\n\t\tdown:    [40],\n\t\tup:      [38],\n\t\tzoomIn:  [187, 107, 61, 171],\n\t\tzoomOut: [189, 109, 54, 173]\n\t},\n\n\tinitialize: function (map) {\n\t\tthis._map = map;\n\n\t\tthis._setPanDelta(map.options.keyboardPanDelta);\n\t\tthis._setZoomDelta(map.options.zoomDelta);\n\t},\n\n\taddHooks: function () {\n\t\tvar container = this._map._container;\n\n\t\t// make the container focusable by tabbing\n\t\tif (container.tabIndex <= 0) {\n\t\t\tcontainer.tabIndex = '0';\n\t\t}\n\n\t\tL.DomEvent.on(container, {\n\t\t\tfocus: this._onFocus,\n\t\t\tblur: this._onBlur,\n\t\t\tmousedown: this._onMouseDown\n\t\t}, this);\n\n\t\tthis._map.on({\n\t\t\tfocus: this._addHooks,\n\t\t\tblur: this._removeHooks\n\t\t}, this);\n\t},\n\n\tremoveHooks: function () {\n\t\tthis._removeHooks();\n\n\t\tL.DomEvent.off(this._map._container, {\n\t\t\tfocus: this._onFocus,\n\t\t\tblur: this._onBlur,\n\t\t\tmousedown: this._onMouseDown\n\t\t}, this);\n\n\t\tthis._map.off({\n\t\t\tfocus: this._addHooks,\n\t\t\tblur: this._removeHooks\n\t\t}, this);\n\t},\n\n\t_onMouseDown: function () {\n\t\tif (this._focused) { return; }\n\n\t\tvar body = document.body,\n\t\t    docEl = document.documentElement,\n\t\t    top = body.scrollTop || docEl.scrollTop,\n\t\t    left = body.scrollLeft || docEl.scrollLeft;\n\n\t\tthis._map._container.focus();\n\n\t\twindow.scrollTo(left, top);\n\t},\n\n\t_onFocus: function () {\n\t\tthis._focused = true;\n\t\tthis._map.fire('focus');\n\t},\n\n\t_onBlur: function () {\n\t\tthis._focused = false;\n\t\tthis._map.fire('blur');\n\t},\n\n\t_setPanDelta: function (panDelta) {\n\t\tvar keys = this._panKeys = {},\n\t\t    codes = this.keyCodes,\n\t\t    i, len;\n\n\t\tfor (i = 0, len = codes.left.length; i < len; i++) {\n\t\t\tkeys[codes.left[i]] = [-1 * panDelta, 0];\n\t\t}\n\t\tfor (i = 0, len = codes.right.length; i < len; i++) {\n\t\t\tkeys[codes.right[i]] = [panDelta, 0];\n\t\t}\n\t\tfor (i = 0, len = codes.down.length; i < len; i++) {\n\t\t\tkeys[codes.down[i]] = [0, panDelta];\n\t\t}\n\t\tfor (i = 0, len = codes.up.length; i < len; i++) {\n\t\t\tkeys[codes.up[i]] = [0, -1 * panDelta];\n\t\t}\n\t},\n\n\t_setZoomDelta: function (zoomDelta) {\n\t\tvar keys = this._zoomKeys = {},\n\t\t    codes = this.keyCodes,\n\t\t    i, len;\n\n\t\tfor (i = 0, len = codes.zoomIn.length; i < len; i++) {\n\t\t\tkeys[codes.zoomIn[i]] = zoomDelta;\n\t\t}\n\t\tfor (i = 0, len = codes.zoomOut.length; i < len; i++) {\n\t\t\tkeys[codes.zoomOut[i]] = -zoomDelta;\n\t\t}\n\t},\n\n\t_addHooks: function () {\n\t\tL.DomEvent.on(document, 'keydown', this._onKeyDown, this);\n\t},\n\n\t_removeHooks: function () {\n\t\tL.DomEvent.off(document, 'keydown', this._onKeyDown, this);\n\t},\n\n\t_onKeyDown: function (e) {\n\t\tif (e.altKey || e.ctrlKey || e.metaKey) { return; }\n\n\t\tvar key = e.keyCode,\n\t\t    map = this._map,\n\t\t    offset;\n\n\t\tif (key in this._panKeys) {\n\n\t\t\tif (map._panAnim && map._panAnim._inProgress) { return; }\n\n\t\t\toffset = this._panKeys[key];\n\t\t\tif (e.shiftKey) {\n\t\t\t\toffset = L.point(offset).multiplyBy(3);\n\t\t\t}\n\n\t\t\tmap.panBy(offset);\n\n\t\t\tif (map.options.maxBounds) {\n\t\t\t\tmap.panInsideBounds(map.options.maxBounds);\n\t\t\t}\n\n\t\t} else if (key in this._zoomKeys) {\n\t\t\tmap.setZoom(map.getZoom() + (e.shiftKey ? 3 : 1) * this._zoomKeys[key]);\n\n\t\t} else if (key === 27) {\n\t\t\tmap.closePopup();\n\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\n\t\tL.DomEvent.stop(e);\n\t}\n});\n\n// @section Handlers\n// @section Handlers\n// @property keyboard: Handler\n// Keyboard navigation handler.\nL.Map.addInitHook('addHandler', 'keyboard', L.Map.Keyboard);\n\n/*\n * L.Handler.MarkerDrag is used internally by L.Marker to make the markers draggable.\n */\n\n\n/* @namespace Marker\n * @section Interaction handlers\n *\n * Interaction handlers are properties of a marker instance that allow you to control interaction behavior in runtime, enabling or disabling certain features such as dragging (see `Handler` methods). Example:\n *\n * ```js\n * marker.dragging.disable();\n * ```\n *\n * @property dragging: Handler\n * Marker dragging handler (by both mouse and touch).\n */\n\nL.Handler.MarkerDrag = L.Handler.extend({\n\tinitialize: function (marker) {\n\t\tthis._marker = marker;\n\t},\n\n\taddHooks: function () {\n\t\tvar icon = this._marker._icon;\n\n\t\tif (!this._draggable) {\n\t\t\tthis._draggable = new L.Draggable(icon, icon, true);\n\t\t}\n\n\t\tthis._draggable.on({\n\t\t\tdragstart: this._onDragStart,\n\t\t\tdrag: this._onDrag,\n\t\t\tdragend: this._onDragEnd\n\t\t}, this).enable();\n\n\t\tL.DomUtil.addClass(icon, 'leaflet-marker-draggable');\n\t},\n\n\tremoveHooks: function () {\n\t\tthis._draggable.off({\n\t\t\tdragstart: this._onDragStart,\n\t\t\tdrag: this._onDrag,\n\t\t\tdragend: this._onDragEnd\n\t\t}, this).disable();\n\n\t\tif (this._marker._icon) {\n\t\t\tL.DomUtil.removeClass(this._marker._icon, 'leaflet-marker-draggable');\n\t\t}\n\t},\n\n\tmoved: function () {\n\t\treturn this._draggable && this._draggable._moved;\n\t},\n\n\t_onDragStart: function () {\n\t\t// @section Dragging events\n\t\t// @event dragstart: Event\n\t\t// Fired when the user starts dragging the marker.\n\n\t\t// @event movestart: Event\n\t\t// Fired when the marker starts moving (because of dragging).\n\n\t\tthis._oldLatLng = this._marker.getLatLng();\n\t\tthis._marker\n\t\t    .closePopup()\n\t\t    .fire('movestart')\n\t\t    .fire('dragstart');\n\t},\n\n\t_onDrag: function (e) {\n\t\tvar marker = this._marker,\n\t\t    shadow = marker._shadow,\n\t\t    iconPos = L.DomUtil.getPosition(marker._icon),\n\t\t    latlng = marker._map.layerPointToLatLng(iconPos);\n\n\t\t// update shadow position\n\t\tif (shadow) {\n\t\t\tL.DomUtil.setPosition(shadow, iconPos);\n\t\t}\n\n\t\tmarker._latlng = latlng;\n\t\te.latlng = latlng;\n\t\te.oldLatLng = this._oldLatLng;\n\n\t\t// @event drag: Event\n\t\t// Fired repeatedly while the user drags the marker.\n\t\tmarker\n\t\t    .fire('move', e)\n\t\t    .fire('drag', e);\n\t},\n\n\t_onDragEnd: function (e) {\n\t\t// @event dragend: DragEndEvent\n\t\t// Fired when the user stops dragging the marker.\n\n\t\t// @event moveend: Event\n\t\t// Fired when the marker stops moving (because of dragging).\n\t\tdelete this._oldLatLng;\n\t\tthis._marker\n\t\t    .fire('moveend')\n\t\t    .fire('dragend', e);\n\t}\n});\n\n/*\r\n * @class Control\r\n * @aka L.Control\r\n *\r\n * L.Control is a base class for implementing map controls. Handles positioning.\r\n * All other controls extend from this class.\r\n */\r\n\r\nL.Control = L.Class.extend({\r\n\t// @section\r\n\t// @aka Control options\r\n\toptions: {\r\n\t\t// @option position: String = 'topright'\r\n\t\t// The position of the control (one of the map corners). Possible values are `'topleft'`,\r\n\t\t// `'topright'`, `'bottomleft'` or `'bottomright'`\r\n\t\tposition: 'topright'\r\n\t},\r\n\r\n\tinitialize: function (options) {\r\n\t\tL.setOptions(this, options);\r\n\t},\r\n\r\n\t/* @section\r\n\t * Classes extending L.Control will inherit the following methods:\r\n\t *\r\n\t * @method getPosition: string\r\n\t * Returns the position of the control.\r\n\t */\r\n\tgetPosition: function () {\r\n\t\treturn this.options.position;\r\n\t},\r\n\r\n\t// @method setPosition(position: string): this\r\n\t// Sets the position of the control.\r\n\tsetPosition: function (position) {\r\n\t\tvar map = this._map;\r\n\r\n\t\tif (map) {\r\n\t\t\tmap.removeControl(this);\r\n\t\t}\r\n\r\n\t\tthis.options.position = position;\r\n\r\n\t\tif (map) {\r\n\t\t\tmap.addControl(this);\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method getContainer: HTMLElement\r\n\t// Returns the HTMLElement that contains the control.\r\n\tgetContainer: function () {\r\n\t\treturn this._container;\r\n\t},\r\n\r\n\t// @method addTo(map: Map): this\r\n\t// Adds the control to the given map.\r\n\taddTo: function (map) {\r\n\t\tthis.remove();\r\n\t\tthis._map = map;\r\n\r\n\t\tvar container = this._container = this.onAdd(map),\r\n\t\t    pos = this.getPosition(),\r\n\t\t    corner = map._controlCorners[pos];\r\n\r\n\t\tL.DomUtil.addClass(container, 'leaflet-control');\r\n\r\n\t\tif (pos.indexOf('bottom') !== -1) {\r\n\t\t\tcorner.insertBefore(container, corner.firstChild);\r\n\t\t} else {\r\n\t\t\tcorner.appendChild(container);\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method remove: this\r\n\t// Removes the control from the map it is currently active on.\r\n\tremove: function () {\r\n\t\tif (!this._map) {\r\n\t\t\treturn this;\r\n\t\t}\r\n\r\n\t\tL.DomUtil.remove(this._container);\r\n\r\n\t\tif (this.onRemove) {\r\n\t\t\tthis.onRemove(this._map);\r\n\t\t}\r\n\r\n\t\tthis._map = null;\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t_refocusOnMap: function (e) {\r\n\t\t// if map exists and event is not a keyboard event\r\n\t\tif (this._map && e && e.screenX > 0 && e.screenY > 0) {\r\n\t\t\tthis._map.getContainer().focus();\r\n\t\t}\r\n\t}\r\n});\r\n\r\nL.control = function (options) {\r\n\treturn new L.Control(options);\r\n};\r\n\r\n/* @section Extension methods\r\n * @uninheritable\r\n *\r\n * Every control should extend from `L.Control` and (re-)implement the following methods.\r\n *\r\n * @method onAdd(map: Map): HTMLElement\r\n * Should return the container DOM element for the control and add listeners on relevant map events. Called on [`control.addTo(map)`](#control-addTo).\r\n *\r\n * @method onRemove(map: Map)\r\n * Optional method. Should contain all clean up code that removes the listeners previously added in [`onAdd`](#control-onadd). Called on [`control.remove()`](#control-remove).\r\n */\r\n\r\n/* @namespace Map\r\n * @section Methods for Layers and Controls\r\n */\r\nL.Map.include({\r\n\t// @method addControl(control: Control): this\r\n\t// Adds the given control to the map\r\n\taddControl: function (control) {\r\n\t\tcontrol.addTo(this);\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method removeControl(control: Control): this\r\n\t// Removes the given control from the map\r\n\tremoveControl: function (control) {\r\n\t\tcontrol.remove();\r\n\t\treturn this;\r\n\t},\r\n\r\n\t_initControlPos: function () {\r\n\t\tvar corners = this._controlCorners = {},\r\n\t\t    l = 'leaflet-',\r\n\t\t    container = this._controlContainer =\r\n\t\t            L.DomUtil.create('div', l + 'control-container', this._container);\r\n\r\n\t\tfunction createCorner(vSide, hSide) {\r\n\t\t\tvar className = l + vSide + ' ' + l + hSide;\r\n\r\n\t\t\tcorners[vSide + hSide] = L.DomUtil.create('div', className, container);\r\n\t\t}\r\n\r\n\t\tcreateCorner('top', 'left');\r\n\t\tcreateCorner('top', 'right');\r\n\t\tcreateCorner('bottom', 'left');\r\n\t\tcreateCorner('bottom', 'right');\r\n\t},\r\n\r\n\t_clearControlPos: function () {\r\n\t\tL.DomUtil.remove(this._controlContainer);\r\n\t}\r\n});\r\n\n/*\r\n * @class Control.Zoom\r\n * @aka L.Control.Zoom\r\n * @inherits Control\r\n *\r\n * A basic zoom control with two buttons (zoom in and zoom out). It is put on the map by default unless you set its [`zoomControl` option](#map-zoomcontrol) to `false`. Extends `Control`.\r\n */\r\n\r\nL.Control.Zoom = L.Control.extend({\r\n\t// @section\r\n\t// @aka Control.Zoom options\r\n\toptions: {\r\n\t\tposition: 'topleft',\r\n\r\n\t\t// @option zoomInText: String = '+'\r\n\t\t// The text set on the 'zoom in' button.\r\n\t\tzoomInText: '+',\r\n\r\n\t\t// @option zoomInTitle: String = 'Zoom in'\r\n\t\t// The title set on the 'zoom in' button.\r\n\t\tzoomInTitle: 'Zoom in',\r\n\r\n\t\t// @option zoomOutText: String = '-'\r\n\t\t// The text set on the 'zoom out' button.\r\n\t\tzoomOutText: '-',\r\n\r\n\t\t// @option zoomOutTitle: String = 'Zoom out'\r\n\t\t// The title set on the 'zoom out' button.\r\n\t\tzoomOutTitle: 'Zoom out'\r\n\t},\r\n\r\n\tonAdd: function (map) {\r\n\t\tvar zoomName = 'leaflet-control-zoom',\r\n\t\t    container = L.DomUtil.create('div', zoomName + ' leaflet-bar'),\r\n\t\t    options = this.options;\r\n\r\n\t\tthis._zoomInButton  = this._createButton(options.zoomInText, options.zoomInTitle,\r\n\t\t        zoomName + '-in',  container, this._zoomIn);\r\n\t\tthis._zoomOutButton = this._createButton(options.zoomOutText, options.zoomOutTitle,\r\n\t\t        zoomName + '-out', container, this._zoomOut);\r\n\r\n\t\tthis._updateDisabled();\r\n\t\tmap.on('zoomend zoomlevelschange', this._updateDisabled, this);\r\n\r\n\t\treturn container;\r\n\t},\r\n\r\n\tonRemove: function (map) {\r\n\t\tmap.off('zoomend zoomlevelschange', this._updateDisabled, this);\r\n\t},\r\n\r\n\tdisable: function () {\r\n\t\tthis._disabled = true;\r\n\t\tthis._updateDisabled();\r\n\t\treturn this;\r\n\t},\r\n\r\n\tenable: function () {\r\n\t\tthis._disabled = false;\r\n\t\tthis._updateDisabled();\r\n\t\treturn this;\r\n\t},\r\n\r\n\t_zoomIn: function (e) {\r\n\t\tif (!this._disabled && this._map._zoom < this._map.getMaxZoom()) {\r\n\t\t\tthis._map.zoomIn(this._map.options.zoomDelta * (e.shiftKey ? 3 : 1));\r\n\t\t}\r\n\t},\r\n\r\n\t_zoomOut: function (e) {\r\n\t\tif (!this._disabled && this._map._zoom > this._map.getMinZoom()) {\r\n\t\t\tthis._map.zoomOut(this._map.options.zoomDelta * (e.shiftKey ? 3 : 1));\r\n\t\t}\r\n\t},\r\n\r\n\t_createButton: function (html, title, className, container, fn) {\r\n\t\tvar link = L.DomUtil.create('a', className, container);\r\n\t\tlink.innerHTML = html;\r\n\t\tlink.href = '#';\r\n\t\tlink.title = title;\r\n\r\n\t\tL.DomEvent\r\n\t\t    .on(link, 'mousedown dblclick', L.DomEvent.stopPropagation)\r\n\t\t    .on(link, 'click', L.DomEvent.stop)\r\n\t\t    .on(link, 'click', fn, this)\r\n\t\t    .on(link, 'click', this._refocusOnMap, this);\r\n\r\n\t\treturn link;\r\n\t},\r\n\r\n\t_updateDisabled: function () {\r\n\t\tvar map = this._map,\r\n\t\t    className = 'leaflet-disabled';\r\n\r\n\t\tL.DomUtil.removeClass(this._zoomInButton, className);\r\n\t\tL.DomUtil.removeClass(this._zoomOutButton, className);\r\n\r\n\t\tif (this._disabled || map._zoom === map.getMinZoom()) {\r\n\t\t\tL.DomUtil.addClass(this._zoomOutButton, className);\r\n\t\t}\r\n\t\tif (this._disabled || map._zoom === map.getMaxZoom()) {\r\n\t\t\tL.DomUtil.addClass(this._zoomInButton, className);\r\n\t\t}\r\n\t}\r\n});\r\n\r\n// @namespace Map\r\n// @section Control options\r\n// @option zoomControl: Boolean = true\r\n// Whether a [zoom control](#control-zoom) is added to the map by default.\r\nL.Map.mergeOptions({\r\n\tzoomControl: true\r\n});\r\n\r\nL.Map.addInitHook(function () {\r\n\tif (this.options.zoomControl) {\r\n\t\tthis.zoomControl = new L.Control.Zoom();\r\n\t\tthis.addControl(this.zoomControl);\r\n\t}\r\n});\r\n\r\n// @namespace Control.Zoom\r\n// @factory L.control.zoom(options: Control.Zoom options)\r\n// Creates a zoom control\r\nL.control.zoom = function (options) {\r\n\treturn new L.Control.Zoom(options);\r\n};\r\n\n/*\r\n * @class Control.Attribution\r\n * @aka L.Control.Attribution\r\n * @inherits Control\r\n *\r\n * The attribution control allows you to display attribution data in a small text box on a map. It is put on the map by default unless you set its [`attributionControl` option](#map-attributioncontrol) to `false`, and it fetches attribution texts from layers with the [`getAttribution` method](#layer-getattribution) automatically. Extends Control.\r\n */\r\n\r\nL.Control.Attribution = L.Control.extend({\r\n\t// @section\r\n\t// @aka Control.Attribution options\r\n\toptions: {\r\n\t\tposition: 'bottomright',\r\n\r\n\t\t// @option prefix: String = 'Leaflet'\r\n\t\t// The HTML text shown before the attributions. Pass `false` to disable.\r\n\t\tprefix: '<a href=\"http://leafletjs.com\" title=\"A JS library for interactive maps\">Leaflet</a>'\r\n\t},\r\n\r\n\tinitialize: function (options) {\r\n\t\tL.setOptions(this, options);\r\n\r\n\t\tthis._attributions = {};\r\n\t},\r\n\r\n\tonAdd: function (map) {\r\n\t\tmap.attributionControl = this;\r\n\t\tthis._container = L.DomUtil.create('div', 'leaflet-control-attribution');\r\n\t\tif (L.DomEvent) {\r\n\t\t\tL.DomEvent.disableClickPropagation(this._container);\r\n\t\t}\r\n\r\n\t\t// TODO ugly, refactor\r\n\t\tfor (var i in map._layers) {\r\n\t\t\tif (map._layers[i].getAttribution) {\r\n\t\t\t\tthis.addAttribution(map._layers[i].getAttribution());\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis._update();\r\n\r\n\t\treturn this._container;\r\n\t},\r\n\r\n\t// @method setPrefix(prefix: String): this\r\n\t// Sets the text before the attributions.\r\n\tsetPrefix: function (prefix) {\r\n\t\tthis.options.prefix = prefix;\r\n\t\tthis._update();\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method addAttribution(text: String): this\r\n\t// Adds an attribution text (e.g. `'Vector data &copy; Mapbox'`).\r\n\taddAttribution: function (text) {\r\n\t\tif (!text) { return this; }\r\n\r\n\t\tif (!this._attributions[text]) {\r\n\t\t\tthis._attributions[text] = 0;\r\n\t\t}\r\n\t\tthis._attributions[text]++;\r\n\r\n\t\tthis._update();\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method removeAttribution(text: String): this\r\n\t// Removes an attribution text.\r\n\tremoveAttribution: function (text) {\r\n\t\tif (!text) { return this; }\r\n\r\n\t\tif (this._attributions[text]) {\r\n\t\t\tthis._attributions[text]--;\r\n\t\t\tthis._update();\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t_update: function () {\r\n\t\tif (!this._map) { return; }\r\n\r\n\t\tvar attribs = [];\r\n\r\n\t\tfor (var i in this._attributions) {\r\n\t\t\tif (this._attributions[i]) {\r\n\t\t\t\tattribs.push(i);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar prefixAndAttribs = [];\r\n\r\n\t\tif (this.options.prefix) {\r\n\t\t\tprefixAndAttribs.push(this.options.prefix);\r\n\t\t}\r\n\t\tif (attribs.length) {\r\n\t\t\tprefixAndAttribs.push(attribs.join(', '));\r\n\t\t}\r\n\r\n\t\tthis._container.innerHTML = prefixAndAttribs.join(' | ');\r\n\t}\r\n});\r\n\r\n// @namespace Map\r\n// @section Control options\r\n// @option attributionControl: Boolean = true\r\n// Whether a [attribution control](#control-attribution) is added to the map by default.\r\nL.Map.mergeOptions({\r\n\tattributionControl: true\r\n});\r\n\r\nL.Map.addInitHook(function () {\r\n\tif (this.options.attributionControl) {\r\n\t\tnew L.Control.Attribution().addTo(this);\r\n\t}\r\n});\r\n\r\n// @namespace Control.Attribution\r\n// @factory L.control.attribution(options: Control.Attribution options)\r\n// Creates an attribution control.\r\nL.control.attribution = function (options) {\r\n\treturn new L.Control.Attribution(options);\r\n};\r\n\n/*\n * @class Control.Scale\n * @aka L.Control.Scale\n * @inherits Control\n *\n * A simple scale control that shows the scale of the current center of screen in metric (m/km) and imperial (mi/ft) systems. Extends `Control`.\n *\n * @example\n *\n * ```js\n * L.control.scale().addTo(map);\n * ```\n */\n\nL.Control.Scale = L.Control.extend({\n\t// @section\n\t// @aka Control.Scale options\n\toptions: {\n\t\tposition: 'bottomleft',\n\n\t\t// @option maxWidth: Number = 100\n\t\t// Maximum width of the control in pixels. The width is set dynamically to show round values (e.g. 100, 200, 500).\n\t\tmaxWidth: 100,\n\n\t\t// @option metric: Boolean = True\n\t\t// Whether to show the metric scale line (m/km).\n\t\tmetric: true,\n\n\t\t// @option imperial: Boolean = True\n\t\t// Whether to show the imperial scale line (mi/ft).\n\t\timperial: true\n\n\t\t// @option updateWhenIdle: Boolean = false\n\t\t// If `true`, the control is updated on [`moveend`](#map-moveend), otherwise it's always up-to-date (updated on [`move`](#map-move)).\n\t},\n\n\tonAdd: function (map) {\n\t\tvar className = 'leaflet-control-scale',\n\t\t    container = L.DomUtil.create('div', className),\n\t\t    options = this.options;\n\n\t\tthis._addScales(options, className + '-line', container);\n\n\t\tmap.on(options.updateWhenIdle ? 'moveend' : 'move', this._update, this);\n\t\tmap.whenReady(this._update, this);\n\n\t\treturn container;\n\t},\n\n\tonRemove: function (map) {\n\t\tmap.off(this.options.updateWhenIdle ? 'moveend' : 'move', this._update, this);\n\t},\n\n\t_addScales: function (options, className, container) {\n\t\tif (options.metric) {\n\t\t\tthis._mScale = L.DomUtil.create('div', className, container);\n\t\t}\n\t\tif (options.imperial) {\n\t\t\tthis._iScale = L.DomUtil.create('div', className, container);\n\t\t}\n\t},\n\n\t_update: function () {\n\t\tvar map = this._map,\n\t\t    y = map.getSize().y / 2;\n\n\t\tvar maxMeters = map.distance(\n\t\t\t\tmap.containerPointToLatLng([0, y]),\n\t\t\t\tmap.containerPointToLatLng([this.options.maxWidth, y]));\n\n\t\tthis._updateScales(maxMeters);\n\t},\n\n\t_updateScales: function (maxMeters) {\n\t\tif (this.options.metric && maxMeters) {\n\t\t\tthis._updateMetric(maxMeters);\n\t\t}\n\t\tif (this.options.imperial && maxMeters) {\n\t\t\tthis._updateImperial(maxMeters);\n\t\t}\n\t},\n\n\t_updateMetric: function (maxMeters) {\n\t\tvar meters = this._getRoundNum(maxMeters),\n\t\t    label = meters < 1000 ? meters + ' m' : (meters / 1000) + ' km';\n\n\t\tthis._updateScale(this._mScale, label, meters / maxMeters);\n\t},\n\n\t_updateImperial: function (maxMeters) {\n\t\tvar maxFeet = maxMeters * 3.2808399,\n\t\t    maxMiles, miles, feet;\n\n\t\tif (maxFeet > 5280) {\n\t\t\tmaxMiles = maxFeet / 5280;\n\t\t\tmiles = this._getRoundNum(maxMiles);\n\t\t\tthis._updateScale(this._iScale, miles + ' mi', miles / maxMiles);\n\n\t\t} else {\n\t\t\tfeet = this._getRoundNum(maxFeet);\n\t\t\tthis._updateScale(this._iScale, feet + ' ft', feet / maxFeet);\n\t\t}\n\t},\n\n\t_updateScale: function (scale, text, ratio) {\n\t\tscale.style.width = Math.round(this.options.maxWidth * ratio) + 'px';\n\t\tscale.innerHTML = text;\n\t},\n\n\t_getRoundNum: function (num) {\n\t\tvar pow10 = Math.pow(10, (Math.floor(num) + '').length - 1),\n\t\t    d = num / pow10;\n\n\t\td = d >= 10 ? 10 :\n\t\t    d >= 5 ? 5 :\n\t\t    d >= 3 ? 3 :\n\t\t    d >= 2 ? 2 : 1;\n\n\t\treturn pow10 * d;\n\t}\n});\n\n\n// @factory L.control.scale(options?: Control.Scale options)\n// Creates an scale control with the given options.\nL.control.scale = function (options) {\n\treturn new L.Control.Scale(options);\n};\n\n/*\r\n * @class Control.Layers\r\n * @aka L.Control.Layers\r\n * @inherits Control\r\n *\r\n * The layers control gives users the ability to switch between different base layers and switch overlays on/off (check out the [detailed example](http://leafletjs.com/examples/layers-control.html)). Extends `Control`.\r\n *\r\n * @example\r\n *\r\n * ```js\r\n * var baseLayers = {\r\n * \t\"Mapbox\": mapbox,\r\n * \t\"OpenStreetMap\": osm\r\n * };\r\n *\r\n * var overlays = {\r\n * \t\"Marker\": marker,\r\n * \t\"Roads\": roadsLayer\r\n * };\r\n *\r\n * L.control.layers(baseLayers, overlays).addTo(map);\r\n * ```\r\n *\r\n * The `baseLayers` and `overlays` parameters are object literals with layer names as keys and `Layer` objects as values:\r\n *\r\n * ```js\r\n * {\r\n *     \"<someName1>\": layer1,\r\n *     \"<someName2>\": layer2\r\n * }\r\n * ```\r\n *\r\n * The layer names can contain HTML, which allows you to add additional styling to the items:\r\n *\r\n * ```js\r\n * {\"<img src='my-layer-icon' /> <span class='my-layer-item'>My Layer</span>\": myLayer}\r\n * ```\r\n */\r\n\r\n\r\nL.Control.Layers = L.Control.extend({\r\n\t// @section\r\n\t// @aka Control.Layers options\r\n\toptions: {\r\n\t\t// @option collapsed: Boolean = true\r\n\t\t// If `true`, the control will be collapsed into an icon and expanded on mouse hover or touch.\r\n\t\tcollapsed: true,\r\n\t\tposition: 'topright',\r\n\r\n\t\t// @option autoZIndex: Boolean = true\r\n\t\t// If `true`, the control will assign zIndexes in increasing order to all of its layers so that the order is preserved when switching them on/off.\r\n\t\tautoZIndex: true,\r\n\r\n\t\t// @option hideSingleBase: Boolean = false\r\n\t\t// If `true`, the base layers in the control will be hidden when there is only one.\r\n\t\thideSingleBase: false\r\n\t},\r\n\r\n\tinitialize: function (baseLayers, overlays, options) {\r\n\t\tL.setOptions(this, options);\r\n\r\n\t\tthis._layers = [];\r\n\t\tthis._lastZIndex = 0;\r\n\t\tthis._handlingClick = false;\r\n\r\n\t\tfor (var i in baseLayers) {\r\n\t\t\tthis._addLayer(baseLayers[i], i);\r\n\t\t}\r\n\r\n\t\tfor (i in overlays) {\r\n\t\t\tthis._addLayer(overlays[i], i, true);\r\n\t\t}\r\n\t},\r\n\r\n\tonAdd: function (map) {\r\n\t\tthis._initLayout();\r\n\t\tthis._update();\r\n\r\n\t\tthis._map = map;\r\n\t\tmap.on('zoomend', this._checkDisabledLayers, this);\r\n\r\n\t\treturn this._container;\r\n\t},\r\n\r\n\tonRemove: function () {\r\n\t\tthis._map.off('zoomend', this._checkDisabledLayers, this);\r\n\r\n\t\tfor (var i = 0; i < this._layers.length; i++) {\r\n\t\t\tthis._layers[i].layer.off('add remove', this._onLayerChange, this);\r\n\t\t}\r\n\t},\r\n\r\n\t// @method addBaseLayer(layer: Layer, name: String): this\r\n\t// Adds a base layer (radio button entry) with the given name to the control.\r\n\taddBaseLayer: function (layer, name) {\r\n\t\tthis._addLayer(layer, name);\r\n\t\treturn (this._map) ? this._update() : this;\r\n\t},\r\n\r\n\t// @method addOverlay(layer: Layer, name: String): this\r\n\t// Adds an overlay (checkbox entry) with the given name to the control.\r\n\taddOverlay: function (layer, name) {\r\n\t\tthis._addLayer(layer, name, true);\r\n\t\treturn (this._map) ? this._update() : this;\r\n\t},\r\n\r\n\t// @method removeLayer(layer: Layer): this\r\n\t// Remove the given layer from the control.\r\n\tremoveLayer: function (layer) {\r\n\t\tlayer.off('add remove', this._onLayerChange, this);\r\n\r\n\t\tvar obj = this._getLayer(L.stamp(layer));\r\n\t\tif (obj) {\r\n\t\t\tthis._layers.splice(this._layers.indexOf(obj), 1);\r\n\t\t}\r\n\t\treturn (this._map) ? this._update() : this;\r\n\t},\r\n\r\n\t// @method expand(): this\r\n\t// Expand the control container if collapsed.\r\n\texpand: function () {\r\n\t\tL.DomUtil.addClass(this._container, 'leaflet-control-layers-expanded');\r\n\t\tthis._form.style.height = null;\r\n\t\tvar acceptableHeight = this._map.getSize().y - (this._container.offsetTop + 50);\r\n\t\tif (acceptableHeight < this._form.clientHeight) {\r\n\t\t\tL.DomUtil.addClass(this._form, 'leaflet-control-layers-scrollbar');\r\n\t\t\tthis._form.style.height = acceptableHeight + 'px';\r\n\t\t} else {\r\n\t\t\tL.DomUtil.removeClass(this._form, 'leaflet-control-layers-scrollbar');\r\n\t\t}\r\n\t\tthis._checkDisabledLayers();\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method collapse(): this\r\n\t// Collapse the control container if expanded.\r\n\tcollapse: function () {\r\n\t\tL.DomUtil.removeClass(this._container, 'leaflet-control-layers-expanded');\r\n\t\treturn this;\r\n\t},\r\n\r\n\t_initLayout: function () {\r\n\t\tvar className = 'leaflet-control-layers',\r\n\t\t    container = this._container = L.DomUtil.create('div', className);\r\n\r\n\t\t// makes this work on IE touch devices by stopping it from firing a mouseout event when the touch is released\r\n\t\tcontainer.setAttribute('aria-haspopup', true);\r\n\r\n\t\tL.DomEvent.disableClickPropagation(container);\r\n\t\tif (!L.Browser.touch) {\r\n\t\t\tL.DomEvent.disableScrollPropagation(container);\r\n\t\t}\r\n\r\n\t\tvar form = this._form = L.DomUtil.create('form', className + '-list');\r\n\r\n\t\tif (this.options.collapsed) {\r\n\t\t\tif (!L.Browser.android) {\r\n\t\t\t\tL.DomEvent.on(container, {\r\n\t\t\t\t\tmouseenter: this.expand,\r\n\t\t\t\t\tmouseleave: this.collapse\r\n\t\t\t\t}, this);\r\n\t\t\t}\r\n\r\n\t\t\tvar link = this._layersLink = L.DomUtil.create('a', className + '-toggle', container);\r\n\t\t\tlink.href = '#';\r\n\t\t\tlink.title = 'Layers';\r\n\r\n\t\t\tif (L.Browser.touch) {\r\n\t\t\t\tL.DomEvent\r\n\t\t\t\t    .on(link, 'click', L.DomEvent.stop)\r\n\t\t\t\t    .on(link, 'click', this.expand, this);\r\n\t\t\t} else {\r\n\t\t\t\tL.DomEvent.on(link, 'focus', this.expand, this);\r\n\t\t\t}\r\n\r\n\t\t\t// work around for Firefox Android issue https://github.com/Leaflet/Leaflet/issues/2033\r\n\t\t\tL.DomEvent.on(form, 'click', function () {\r\n\t\t\t\tsetTimeout(L.bind(this._onInputClick, this), 0);\r\n\t\t\t}, this);\r\n\r\n\t\t\tthis._map.on('click', this.collapse, this);\r\n\t\t\t// TODO keyboard accessibility\r\n\t\t} else {\r\n\t\t\tthis.expand();\r\n\t\t}\r\n\r\n\t\tthis._baseLayersList = L.DomUtil.create('div', className + '-base', form);\r\n\t\tthis._separator = L.DomUtil.create('div', className + '-separator', form);\r\n\t\tthis._overlaysList = L.DomUtil.create('div', className + '-overlays', form);\r\n\r\n\t\tcontainer.appendChild(form);\r\n\t},\r\n\r\n\t_getLayer: function (id) {\r\n\t\tfor (var i = 0; i < this._layers.length; i++) {\r\n\r\n\t\t\tif (this._layers[i] && L.stamp(this._layers[i].layer) === id) {\r\n\t\t\t\treturn this._layers[i];\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t_addLayer: function (layer, name, overlay) {\r\n\t\tlayer.on('add remove', this._onLayerChange, this);\r\n\r\n\t\tthis._layers.push({\r\n\t\t\tlayer: layer,\r\n\t\t\tname: name,\r\n\t\t\toverlay: overlay\r\n\t\t});\r\n\r\n\t\tif (this.options.autoZIndex && layer.setZIndex) {\r\n\t\t\tthis._lastZIndex++;\r\n\t\t\tlayer.setZIndex(this._lastZIndex);\r\n\t\t}\r\n\t},\r\n\r\n\t_update: function () {\r\n\t\tif (!this._container) { return this; }\r\n\r\n\t\tL.DomUtil.empty(this._baseLayersList);\r\n\t\tL.DomUtil.empty(this._overlaysList);\r\n\r\n\t\tvar baseLayersPresent, overlaysPresent, i, obj, baseLayersCount = 0;\r\n\r\n\t\tfor (i = 0; i < this._layers.length; i++) {\r\n\t\t\tobj = this._layers[i];\r\n\t\t\tthis._addItem(obj);\r\n\t\t\toverlaysPresent = overlaysPresent || obj.overlay;\r\n\t\t\tbaseLayersPresent = baseLayersPresent || !obj.overlay;\r\n\t\t\tbaseLayersCount += !obj.overlay ? 1 : 0;\r\n\t\t}\r\n\r\n\t\t// Hide base layers section if there's only one layer.\r\n\t\tif (this.options.hideSingleBase) {\r\n\t\t\tbaseLayersPresent = baseLayersPresent && baseLayersCount > 1;\r\n\t\t\tthis._baseLayersList.style.display = baseLayersPresent ? '' : 'none';\r\n\t\t}\r\n\r\n\t\tthis._separator.style.display = overlaysPresent && baseLayersPresent ? '' : 'none';\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t_onLayerChange: function (e) {\r\n\t\tif (!this._handlingClick) {\r\n\t\t\tthis._update();\r\n\t\t}\r\n\r\n\t\tvar obj = this._getLayer(L.stamp(e.target));\r\n\r\n\t\t// @namespace Map\r\n\t\t// @section Layer events\r\n\t\t// @event baselayerchange: LayersControlEvent\r\n\t\t// Fired when the base layer is changed through the [layer control](#control-layers).\r\n\t\t// @event overlayadd: LayersControlEvent\r\n\t\t// Fired when an overlay is selected through the [layer control](#control-layers).\r\n\t\t// @event overlayremove: LayersControlEvent\r\n\t\t// Fired when an overlay is deselected through the [layer control](#control-layers).\r\n\t\t// @namespace Control.Layers\r\n\t\tvar type = obj.overlay ?\r\n\t\t\t(e.type === 'add' ? 'overlayadd' : 'overlayremove') :\r\n\t\t\t(e.type === 'add' ? 'baselayerchange' : null);\r\n\r\n\t\tif (type) {\r\n\t\t\tthis._map.fire(type, obj);\r\n\t\t}\r\n\t},\r\n\r\n\t// IE7 bugs out if you create a radio dynamically, so you have to do it this hacky way (see http://bit.ly/PqYLBe)\r\n\t_createRadioElement: function (name, checked) {\r\n\r\n\t\tvar radioHtml = '<input type=\"radio\" class=\"leaflet-control-layers-selector\" name=\"' +\r\n\t\t\t\tname + '\"' + (checked ? ' checked=\"checked\"' : '') + '/>';\r\n\r\n\t\tvar radioFragment = document.createElement('div');\r\n\t\tradioFragment.innerHTML = radioHtml;\r\n\r\n\t\treturn radioFragment.firstChild;\r\n\t},\r\n\r\n\t_addItem: function (obj) {\r\n\t\tvar label = document.createElement('label'),\r\n\t\t    checked = this._map.hasLayer(obj.layer),\r\n\t\t    input;\r\n\r\n\t\tif (obj.overlay) {\r\n\t\t\tinput = document.createElement('input');\r\n\t\t\tinput.type = 'checkbox';\r\n\t\t\tinput.className = 'leaflet-control-layers-selector';\r\n\t\t\tinput.defaultChecked = checked;\r\n\t\t} else {\r\n\t\t\tinput = this._createRadioElement('leaflet-base-layers', checked);\r\n\t\t}\r\n\r\n\t\tinput.layerId = L.stamp(obj.layer);\r\n\r\n\t\tL.DomEvent.on(input, 'click', this._onInputClick, this);\r\n\r\n\t\tvar name = document.createElement('span');\r\n\t\tname.innerHTML = ' ' + obj.name;\r\n\r\n\t\t// Helps from preventing layer control flicker when checkboxes are disabled\r\n\t\t// https://github.com/Leaflet/Leaflet/issues/2771\r\n\t\tvar holder = document.createElement('div');\r\n\r\n\t\tlabel.appendChild(holder);\r\n\t\tholder.appendChild(input);\r\n\t\tholder.appendChild(name);\r\n\r\n\t\tvar container = obj.overlay ? this._overlaysList : this._baseLayersList;\r\n\t\tcontainer.appendChild(label);\r\n\r\n\t\tthis._checkDisabledLayers();\r\n\t\treturn label;\r\n\t},\r\n\r\n\t_onInputClick: function () {\r\n\t\tvar inputs = this._form.getElementsByTagName('input'),\r\n\t\t    input, layer, hasLayer;\r\n\t\tvar addedLayers = [],\r\n\t\t    removedLayers = [];\r\n\r\n\t\tthis._handlingClick = true;\r\n\r\n\t\tfor (var i = inputs.length - 1; i >= 0; i--) {\r\n\t\t\tinput = inputs[i];\r\n\t\t\tlayer = this._getLayer(input.layerId).layer;\r\n\t\t\thasLayer = this._map.hasLayer(layer);\r\n\r\n\t\t\tif (input.checked && !hasLayer) {\r\n\t\t\t\taddedLayers.push(layer);\r\n\r\n\t\t\t} else if (!input.checked && hasLayer) {\r\n\t\t\t\tremovedLayers.push(layer);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Bugfix issue 2318: Should remove all old layers before readding new ones\r\n\t\tfor (i = 0; i < removedLayers.length; i++) {\r\n\t\t\tthis._map.removeLayer(removedLayers[i]);\r\n\t\t}\r\n\t\tfor (i = 0; i < addedLayers.length; i++) {\r\n\t\t\tthis._map.addLayer(addedLayers[i]);\r\n\t\t}\r\n\r\n\t\tthis._handlingClick = false;\r\n\r\n\t\tthis._refocusOnMap();\r\n\t},\r\n\r\n\t_checkDisabledLayers: function () {\r\n\t\tvar inputs = this._form.getElementsByTagName('input'),\r\n\t\t    input,\r\n\t\t    layer,\r\n\t\t    zoom = this._map.getZoom();\r\n\r\n\t\tfor (var i = inputs.length - 1; i >= 0; i--) {\r\n\t\t\tinput = inputs[i];\r\n\t\t\tlayer = this._getLayer(input.layerId).layer;\r\n\t\t\tinput.disabled = (layer.options.minZoom !== undefined && zoom < layer.options.minZoom) ||\r\n\t\t\t                 (layer.options.maxZoom !== undefined && zoom > layer.options.maxZoom);\r\n\r\n\t\t}\r\n\t},\r\n\r\n\t_expand: function () {\r\n\t\t// Backward compatibility, remove me in 1.1.\r\n\t\treturn this.expand();\r\n\t},\r\n\r\n\t_collapse: function () {\r\n\t\t// Backward compatibility, remove me in 1.1.\r\n\t\treturn this.collapse();\r\n\t}\r\n\r\n});\r\n\r\n\r\n// @factory L.control.layers(baselayers?: Object, overlays?: Object, options?: Control.Layers options)\r\n// Creates an attribution control with the given layers. Base layers will be switched with radio buttons, while overlays will be switched with checkboxes. Note that all base layers should be passed in the base layers object, but only one should be added to the map during map instantiation.\r\nL.control.layers = function (baseLayers, overlays, options) {\r\n\treturn new L.Control.Layers(baseLayers, overlays, options);\r\n};\r\n\n/*\r\n * Provides L.Map with convenient shortcuts for using browser geolocation features.\r\n */\r\n\r\n// @namespace Map\r\n\r\nL.Map.include({\r\n\t// @section Geolocation methods\r\n\t_defaultLocateOptions: {\r\n\t\ttimeout: 10000,\r\n\t\twatch: false\r\n\t\t// setView: false\r\n\t\t// maxZoom: <Number>\r\n\t\t// maximumAge: 0\r\n\t\t// enableHighAccuracy: false\r\n\t},\r\n\r\n\t// @method locate(options?: Locate options): this\r\n\t// Tries to locate the user using the Geolocation API, firing a [`locationfound`](#map-locationfound)\r\n\t// event with location data on success or a [`locationerror`](#map-locationerror) event on failure,\r\n\t// and optionally sets the map view to the user's location with respect to\r\n\t// detection accuracy (or to the world view if geolocation failed).\r\n\t// Note that, if your page doesn't use HTTPS, this method will fail in\r\n\t// modern browsers ([Chrome 50 and newer](https://sites.google.com/a/chromium.org/dev/Home/chromium-security/deprecating-powerful-features-on-insecure-origins))\r\n\t// See `Locate options` for more details.\r\n\tlocate: function (options) {\r\n\r\n\t\toptions = this._locateOptions = L.extend({}, this._defaultLocateOptions, options);\r\n\r\n\t\tif (!('geolocation' in navigator)) {\r\n\t\t\tthis._handleGeolocationError({\r\n\t\t\t\tcode: 0,\r\n\t\t\t\tmessage: 'Geolocation not supported.'\r\n\t\t\t});\r\n\t\t\treturn this;\r\n\t\t}\r\n\r\n\t\tvar onResponse = L.bind(this._handleGeolocationResponse, this),\r\n\t\t    onError = L.bind(this._handleGeolocationError, this);\r\n\r\n\t\tif (options.watch) {\r\n\t\t\tthis._locationWatchId =\r\n\t\t\t        navigator.geolocation.watchPosition(onResponse, onError, options);\r\n\t\t} else {\r\n\t\t\tnavigator.geolocation.getCurrentPosition(onResponse, onError, options);\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method stopLocate(): this\r\n\t// Stops watching location previously initiated by `map.locate({watch: true})`\r\n\t// and aborts resetting the map view if map.locate was called with\r\n\t// `{setView: true}`.\r\n\tstopLocate: function () {\r\n\t\tif (navigator.geolocation && navigator.geolocation.clearWatch) {\r\n\t\t\tnavigator.geolocation.clearWatch(this._locationWatchId);\r\n\t\t}\r\n\t\tif (this._locateOptions) {\r\n\t\t\tthis._locateOptions.setView = false;\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\t_handleGeolocationError: function (error) {\r\n\t\tvar c = error.code,\r\n\t\t    message = error.message ||\r\n\t\t            (c === 1 ? 'permission denied' :\r\n\t\t            (c === 2 ? 'position unavailable' : 'timeout'));\r\n\r\n\t\tif (this._locateOptions.setView && !this._loaded) {\r\n\t\t\tthis.fitWorld();\r\n\t\t}\r\n\r\n\t\t// @section Location events\r\n\t\t// @event locationerror: ErrorEvent\r\n\t\t// Fired when geolocation (using the [`locate`](#map-locate) method) failed.\r\n\t\tthis.fire('locationerror', {\r\n\t\t\tcode: c,\r\n\t\t\tmessage: 'Geolocation error: ' + message + '.'\r\n\t\t});\r\n\t},\r\n\r\n\t_handleGeolocationResponse: function (pos) {\r\n\t\tvar lat = pos.coords.latitude,\r\n\t\t    lng = pos.coords.longitude,\r\n\t\t    latlng = new L.LatLng(lat, lng),\r\n\t\t    bounds = latlng.toBounds(pos.coords.accuracy),\r\n\t\t    options = this._locateOptions;\r\n\r\n\t\tif (options.setView) {\r\n\t\t\tvar zoom = this.getBoundsZoom(bounds);\r\n\t\t\tthis.setView(latlng, options.maxZoom ? Math.min(zoom, options.maxZoom) : zoom);\r\n\t\t}\r\n\r\n\t\tvar data = {\r\n\t\t\tlatlng: latlng,\r\n\t\t\tbounds: bounds,\r\n\t\t\ttimestamp: pos.timestamp\r\n\t\t};\r\n\r\n\t\tfor (var i in pos.coords) {\r\n\t\t\tif (typeof pos.coords[i] === 'number') {\r\n\t\t\t\tdata[i] = pos.coords[i];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// @event locationfound: LocationEvent\r\n\t\t// Fired when geolocation (using the [`locate`](#map-locate) method)\r\n\t\t// went successfully.\r\n\t\tthis.fire('locationfound', data);\r\n\t}\r\n});\r\n\n},{}],8:[function(_dereq_,module,exports){\n// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n},{}],9:[function(_dereq_,module,exports){\n(function(window, undefined) {\n    'use strict';\n\n    if (!window) return; // Server side\n\nvar\n    _baron = window.baron, // Stored baron value for noConflict usage\n    $ = window.jQuery, // Trying to use jQuery\n    origin = {\n        v: { // Vertical\n            x: 'Y', pos: 'top', crossPos: 'left', size: 'height', crossSize: 'width',\n            client: 'clientHeight', crossClient: 'clientWidth', offset: 'offsetHeight', crossOffset: 'offsetWidth', offsetPos: 'offsetTop',\n            scroll: 'scrollTop', scrollSize: 'scrollHeight'\n        },\n        h: { // Horizontal\n            x: 'X', pos: 'left', crossPos: 'top', size: 'width', crossSize: 'height',\n            client: 'clientWidth', crossClient: 'clientHeight', offset: 'offsetWidth', crossOffset: 'offsetHeight', offsetPos: 'offsetLeft',\n            scroll: 'scrollLeft', scrollSize: 'scrollWidth'\n        }\n    },\n\n    each = function(obj, iterator) {\n        var i = 0;\n\n        if (obj.length === undefined || obj === window) obj = [obj];\n\n        while (obj[i]) {\n            iterator.call(this, obj[i], i);\n            i++;\n        }\n    },\n\n    baron = function(params) { // this - window or jQuery instance\n        var jQueryMode = false,//(this && this[0] && this[0].nodeType),\n            roots,\n            $;\n\n        params = params || {};\n        $ = params.$ || window.jQuery;\n\n        if (jQueryMode) {\n            params.root = roots = this;\n        } else {\n            roots = $(params.root || params.scroller);\n        }\n\n        return new baron.fn.constructor(roots, params, $);\n    };\n\n    baron.fn = {\n        constructor: function(roots, input, $) {\n            var params = validate(input);\n\n            params.$ = $;\n            each.call(this, roots, function(root, i) {\n                var localParams = clone(params);\n\n                if (params.root && params.scroller) {\n                    localParams.scroller = params.$(params.scroller, root);\n                    if (!localParams.scroller.length) {\n                        localParams.scroller = root;\n                    }\n                } else {\n                    localParams.scroller = root;\n                }\n\n                localParams.root = root;\n                this[i] = init(localParams);\n                this.length = i + 1;\n            });\n\n            this.params = params;\n        },\n\n        dispose: function() {\n            var params = this.params;\n\n            each(this, function(item) {\n                item.dispose(params);\n            });\n            this.params = null;\n        },\n\n        update: function() {\n            var i = 0;\n\n            while (this[i]) {\n                this[i].update.apply(this[i], arguments);\n                i++;\n            }\n        },\n\n        baron: function(params) {\n            params.root = [];\n            params.scroller = this.params.scroller;\n\n            each.call(this, this, function(elem) {\n                params.root.push(elem.root);\n            });\n            params.direction = (this.params.direction == 'v') ? 'h' : 'v';\n            params._chain = true;\n\n            return baron(params);\n        }\n    };\n\n    function manageEvents(item, eventManager, mode) {\n        item._eventHandlers = item._eventHandlers || [ // Creating new functions for one baron item only one time\n            {\n                // onScroll:\n                element: item.scroller,\n\n                handler: function(e) {\n                    item.scroll(e);\n                },\n\n                type: 'scroll'\n            }, {\n                // onMouseDown:\n                element: item.bar,\n\n                handler: function(e) {\n                    e.preventDefault ? e.preventDefault() : e.returnValue = false; // Text selection disabling in Opera... and all other browsers?\n                    item.selection(); // Disable text selection in ie8\n                    item.drag.now = 1; // Save private byte\n                },\n\n                type: 'touchstart mousedown'\n            }, {\n                // onMouseUp:\n                element: document,\n\n                handler: function() {\n                    item.selection(1); // Enable text selection\n                    item.drag.now = 0;\n                },\n\n                type: 'mouseup blur touchend'\n            }, {\n                // onCoordinateReset:\n                element: item.bar,\n\n                handler: function(e) {\n                    if (e.button != 2) { // Not RM\n                        item._pos0(e);\n                    }\n                },\n\n                type: 'touchstart mousedown'\n            }, {\n                // onMouseMove:\n                element: document,\n\n                handler: function(e) {\n                    if (item.drag.now) {\n                        item.drag(e);\n                    }\n                },\n\n                type: 'mousemove touchmove'\n            }, {\n                // onResize:\n                element: window,\n\n                handler: function() {\n                    item.update();\n                },\n\n                type: 'resize'\n            }, {\n                // sizeChange:\n                element: item.root,\n\n                handler: function() {\n                    item.update();\n                },\n\n                type: 'sizeChange'\n            }\n        ];\n\n        each(item._eventHandlers, function(event) {\n            if (event.element) {\n                eventManager(event.element, event.type, event.handler, mode);\n            }\n        });\n\n        // if (item.scroller) {\n        //     event(item.scroller, 'scroll', item._eventHandlers.onScroll, mode);\n        // }\n        // if (item.bar) {\n        //     event(item.bar, 'touchstart mousedown', item._eventHandlers.onMouseDown, mode);\n        // }\n        // event(document, 'mouseup blur touchend', item._eventHandlers.onMouseUp, mode);\n        // event(document, 'touchstart mousedown', item._eventHandlers.onCoordinateReset, mode);\n        // event(document, 'mousemove touchmove', item._eventHandlers.onMouseMove, mode);\n        // event(window, 'resize', item._eventHandlers.onResize, mode);\n        // if (item.root) {\n        //     event(item.root, 'sizeChange', item._eventHandlers.onResize, mode); // Custon event for alternate baron update mechanism\n        // }\n    }\n\n    function manageAttr(node, direction, mode) {\n        var attrName = 'data-baron-' + direction;\n\n        if (mode == 'on') {\n            node.setAttribute(attrName, 'inited');\n        } else if (mode == 'off') {\n            node.removeAttribute(attrName);\n        } else {\n            return node.getAttribute(attrName);\n        }\n    }\n\n    function init(params) {\n        if (manageAttr(params.root, params.direction)) return;\n\n        var out = new item.prototype.constructor(params); // __proto__ of returning object is baron.prototype\n\n        manageEvents(out, params.event, 'on');\n\n        manageAttr(out.root, params.direction, 'on');\n\n        out.update();\n\n        return out;\n    }\n\n    function clone(input) {\n        var output = {};\n\n        input = input || {};\n\n        for (var key in input) {\n            if (input.hasOwnProperty(key)) {\n                output[key] = input[key];\n            }\n        }\n\n        return output;\n    }\n\n    function validate(input) {\n        var output = clone(input);\n\n        output.direction = output.direction || 'v';\n\n        var event = input.event || function(elem, event, func, mode) {\n            output.$(elem)[mode || 'on'](event, func);\n        };\n\n        output.event = function(elems, e, func, mode) {\n            each(elems, function(elem) {\n                event(elem, e, func, mode);\n            });\n        };\n\n        return output;\n    }\n\n    function fire(eventName) {\n        /* jshint validthis:true */\n        if (this.events && this.events[eventName]) {\n            for (var i = 0 ; i < this.events[eventName].length ; i++) {\n                var args = Array.prototype.slice.call( arguments, 1 );\n\n                this.events[eventName][i].apply(this, args);\n            }\n        }\n    }\n\n    var item = {};\n\n    item.prototype = {\n        constructor: function(params) {\n            var $,\n                barPos,\n                scrollerPos0,\n                track,\n                resizePauseTimer,\n                scrollPauseTimer,\n                pause,\n                scrollLastFire,\n                resizeLastFire;\n\n            resizeLastFire = scrollLastFire = new Date().getTime();\n\n            $ = this.$ = params.$;\n            this.event = params.event;\n            this.events = {};\n\n            function getNode(sel, context) {\n                return $(sel, context)[0]; // Can be undefined\n            }\n\n            // DOM elements\n            this.root = params.root; // Always html node, not just selector\n            this.scroller = getNode(params.scroller); // (params.scroller) ? getNode(params.scroller, this.root) : this.root;\n            this.bar = getNode(params.bar, this.root);\n            track = this.track = getNode(params.track, this.root);\n            if (!this.track && this.bar) {\n                track = this.bar.parentNode;\n            }\n            this.clipper = this.scroller.parentNode;\n\n            // Parameters\n            this.direction = params.direction;\n            this.origin = origin[this.direction];\n            this.barOnCls = params.barOnCls;\n            this.barTopLimit = 0;\n            pause = params.pause * 1000 || 0;\n\n            // Updating height or width of bar\n            function setBarSize(size) {\n                /* jshint validthis:true */\n                var barMinSize = this.barMinSize || 20;\n\n                if (size > 0 && size < barMinSize) {\n                    size = barMinSize;\n                }\n\n                if (this.bar) {\n                    $(this.bar).css(this.origin.size, parseInt(size, 10) + 'px');\n                }\n            }\n\n            // Updating top or left bar position\n            function posBar(pos) {\n                /* jshint validthis:true */\n                if (this.bar) {\n                    $(this.bar).css(this.origin.pos, +pos + 'px');\n                }\n            }\n\n            // Free path for bar\n            function k() {\n                /* jshint validthis:true */\n                return track[this.origin.client] - this.barTopLimit - this.bar[this.origin.offset];\n            }\n\n            // Relative content top position to bar top position\n            function relToPos(r) {\n                /* jshint validthis:true */\n                return r * k.call(this) + this.barTopLimit;\n            }\n\n            // Bar position to relative content position\n            function posToRel(t) {\n                /* jshint validthis:true */\n                return (t - this.barTopLimit) / k.call(this);\n            }\n\n            // Cursor position in main direction in px // Now with iOs support\n            this.cursor = function(e) {\n                return e['client' + this.origin.x] || (((e.originalEvent || e).touches || {})[0] || {})['page' + this.origin.x];\n            };\n\n            // Text selection pos preventing\n            function dontPosSelect() {\n                return false;\n            }\n\n            this.pos = function(x) { // Absolute scroller position in px\n                var ie = 'page' + this.origin.x + 'Offset',\n                    key = (this.scroller[ie]) ? ie : this.origin.scroll;\n\n                if (x !== undefined) this.scroller[key] = x;\n\n                return this.scroller[key];\n            };\n\n            this.rpos = function(r) { // Relative scroller position (0..1)\n                var free = this.scroller[this.origin.scrollSize] - this.scroller[this.origin.client],\n                    x;\n\n                if (r) x = this.pos(r * free);\n                else x = this.pos();\n\n                return x / (free || 1);\n            };\n\n            // Switch on the bar by adding user-defined CSS classname to scroller\n            this.barOn = function(dispose) {\n                if (this.barOnCls) {\n                    if (dispose || this.scroller[this.origin.client] >= this.scroller[this.origin.scrollSize]) {\n                        $(this.root).removeClass(this.barOnCls);\n                    } else {\n                        $(this.root).addClass(this.barOnCls);\n                    }\n                }\n            };\n\n            this._pos0 = function(e) {\n                scrollerPos0 = this.cursor(e) - barPos;\n            };\n\n            this.drag = function(e) {\n                this.scroller[this.origin.scroll] = posToRel.call(this, this.cursor(e) - scrollerPos0) * (this.scroller[this.origin.scrollSize] - this.scroller[this.origin.client]);\n            };\n\n            // Text selection preventing on drag\n            this.selection = function(enable) {\n                this.event(document, 'selectpos selectstart', dontPosSelect, enable ? 'off' : 'on');\n            };\n\n            // onResize & DOM modified handler\n            this.resize = function() {\n                var self = this,\n                    delay = 0;\n\n                if (new Date().getTime() - resizeLastFire < pause) {\n                    clearTimeout(resizePauseTimer);\n                    delay = pause;\n                }\n\n                function upd() {\n                    var delta = self.scroller[self.origin.crossOffset] - self.scroller[self.origin.crossClient];\n\n                    if (params.freeze && !self.clipper.style[self.origin.crossSize]) { // Sould fire only once\n                        $(self.clipper).css(self.origin.crossSize, self.clipper[self.origin.crossClient] - delta + 'px');\n                    }\n                    $(self.scroller).css(self.origin.crossSize, self.clipper[self.origin.crossClient] + delta + 'px');\n\n                    Array.prototype.unshift.call(arguments, 'resize');\n                    fire.apply(self, arguments);\n\n                    resizeLastFire = new Date().getTime();\n                }\n\n                if (delay) {\n                    resizePauseTimer = setTimeout(upd, delay);\n                } else {\n                    upd();\n                }\n            };\n\n            // onScroll handler\n            this.scroll = function() {\n                var oldBarSize, newBarSize,\n                    delay = 0,\n                    self = this;\n\n                if (new Date().getTime() - scrollLastFire < pause) {\n                    clearTimeout(scrollPauseTimer);\n                    delay = pause;\n                }\n\n                function upd() {\n                    if (self.bar) {\n                        newBarSize = (track[self.origin.client] - self.barTopLimit) * self.scroller[self.origin.client] / self.scroller[self.origin.scrollSize];\n\n                        // Positioning bar\n                        if (oldBarSize != newBarSize) {\n                            setBarSize.call(self, newBarSize);\n                            oldBarSize = newBarSize;\n                        }\n\n                        barPos = relToPos.call(self, self.rpos());\n\n                        posBar.call(self, barPos);\n                    }\n\n                    Array.prototype.unshift.call( arguments, 'scroll' );\n                    fire.apply(self, arguments);\n\n                    scrollLastFire = new Date().getTime();\n                }\n\n                if (delay) {\n                    scrollPauseTimer = setTimeout(upd, delay);\n                } else {\n                    upd();\n                }\n\n            };\n\n            return this;\n        },\n\n        update: function(params) {\n            fire.call(this, 'upd', params); // Обновляем параметры всех плагинов\n\n            this.resize(1);\n            this.barOn();\n            this.scroll();\n\n            return this;\n        },\n\n        dispose: function(params) {\n            manageEvents(this, this.event, 'off');\n            manageAttr(this.root, params.direction, 'off');\n            $(this.scroller).css(this.origin.crossSize, '');\n            this.barOn(true);\n            fire.call(this, 'dispose');\n        },\n\n        on: function(eventName, func, arg) {\n            var names = eventName.split(' ');\n\n            for (var i = 0 ; i < names.length ; i++) {\n                if (names[i] == 'init') {\n                    func.call(this, arg);\n                } else {\n                    this.events[names[i]] = this.events[names[i]] || [];\n\n                    this.events[names[i]].push(function(userArg) {\n                        func.call(this, userArg || arg);\n                    });\n                }\n            }\n        }\n    };\n\n    baron.fn.constructor.prototype = baron.fn;\n    item.prototype.constructor.prototype = item.prototype;\n\n    // Use when you need \"baron\" global var for another purposes\n    baron.noConflict = function() {\n        window.baron = _baron; // Restoring original value of \"baron\" global var\n        return baron;\n    };\n\n    baron.version = '0.6.6';\n\n    if ($ && $.fn) { // Adding baron to jQuery as plugin\n        $.fn.baron = baron;\n    }\n    window.baron = baron; // Use noConflict method if you need window.baron var for another purposes\n\n    var fix = function(userParams) {\n        var elements, viewPortSize,\n            params = { // Default params\n                outside: '',\n                before: '',\n                after: '',\n                past: '',\n                future: '',\n                radius: 0,\n                minView: 0\n            },\n            topFixHeights = [], // inline style for element\n            topRealHeights = [], // real offset position when not fixed\n            headerTops = [],\n            scroller = this.scroller,\n            eventManager = this.event,\n            $ = this.$,\n            self = this;\n\n        function fixElement(i, pos) {\n            if (viewPortSize < (params.minView || 0)) { // No headers fixing when no enought space for viewport\n                pos = undefined;\n            }\n\n            if (pos !== undefined) {\n                pos += 'px';\n                this.$(elements[i]).css(this.origin.pos, pos).addClass(params.outside);\n            } else {\n                this.$(elements[i]).css(this.origin.pos, '').removeClass(params.outside);\n            }\n        }\n\n        function bubbleWheel(e) {\n            try {\n                i = document.createEvent('WheelEvent'); // i - for extra byte\n                // evt.initWebKitWheelEvent(deltaX, deltaY, window, screenX, screenY, clientX, clientY, ctrlKey, altKey, shiftKey, metaKey);\n                i.initWebKitWheelEvent(e.originalEvent.wheelDeltaX, e.originalEvent.wheelDeltaY);\n                scroller.dispatchEvent(i);\n                e.preventDefault();\n            } catch (e) {}\n        }\n\n        function init(_params) {\n            var pos;\n\n            for (var key in _params) {\n                params[key] = _params[key];\n            }\n\n            elements = this.$(params.elements, this.scroller);\n\n            if (elements) {\n                viewPortSize = this.scroller[this.origin.client];\n                for (var i = 0 ; i < elements.length ; i++) {\n                    // Variable header heights\n                    pos = {};\n                    pos[this.origin.size] = elements[i][this.origin.offset];\n                    if (elements[i].parentNode !== this.scroller) {\n                        this.$(elements[i].parentNode).css(pos);\n                    }\n                    pos = {};\n                    pos[this.origin.crossSize] = elements[i].parentNode[this.origin.crossClient];\n                    this.$(elements[i]).css(pos);\n\n                    // Between fixed headers\n                    viewPortSize -= elements[i][this.origin.offset];\n\n                    headerTops[i] = elements[i].parentNode[this.origin.offsetPos]; // No paddings for parentNode\n\n                    // Summary elements height above current\n                    topFixHeights[i] = (topFixHeights[i - 1] || 0); // Not zero because of negative margins\n                    topRealHeights[i] = (topRealHeights[i - 1] || Math.min(headerTops[i], 0));\n\n                    if (elements[i - 1]) {\n                        topFixHeights[i] += elements[i - 1][this.origin.offset];\n                        topRealHeights[i] += elements[i - 1][this.origin.offset];\n                    }\n\n                    if ( !(i == 0 && headerTops[i] == 0)/* && force */) {\n                        this.event(elements[i], 'mousewheel', bubbleWheel, 'off');\n                        this.event(elements[i], 'mousewheel', bubbleWheel);\n                    }\n                }\n\n                if (params.limiter && elements[0]) { // Bottom edge of first header as top limit for track\n                    if (this.track && this.track != this.scroller) {\n                        pos = {};\n                        pos[this.origin.pos] = elements[0].parentNode[this.origin.offset];\n                        this.$(this.track).css(pos);\n                    } else {\n                        this.barTopLimit = elements[0].parentNode[this.origin.offset];\n                    }\n                    // this.barTopLimit = elements[0].parentNode[this.origin.offset];\n                    this.scroll();\n                }\n\n                if (params.limiter === false) { // undefined (in second fix instance) should have no influence on bar limit\n                    this.barTopLimit = 0;\n                }\n            }\n\n            var event = {\n                element: elements,\n\n                handler: function() {\n                    var parent = $(this)[0].parentNode,\n                        top = parent.offsetTop,\n                        num;\n\n                    // finding num -> elements[num] === this\n                    for (var i = 0 ; i < elements.length ; i++ ) {\n                        if (elements[i] === this) num = i;\n                    }\n\n                    var pos = top - topFixHeights[num];\n\n                    if (params.scroll) { // User defined callback\n                        params.scroll({\n                            x1: self.scroller.scrollTop,\n                            x2: pos\n                        });\n                    } else {\n                        self.scroller.scrollTop = pos;\n                    }\n                },\n\n                type: 'click'\n            };\n\n            if (params.clickable) {\n                this._eventHandlers.push(event); // For auto-dispose\n                eventManager(event.element, event.type, event.handler, 'off');\n                eventManager(event.element, event.type, event.handler, 'on');\n            }\n        }\n\n        this.on('init', init, userParams);\n\n        this.on('init scroll', function() {\n            var fixState, hTop,\n                fixFlag = []; // 1 - past, 2 - future, 3 - current (not fixed)\n\n            if (elements) {\n                var change;\n\n                // fixFlag update\n                for (var i = 0 ; i < elements.length ; i++) {\n                    fixState = 0;\n                    if (headerTops[i] - this.pos() < topRealHeights[i] + params.radius) {\n                        // Header trying to go up\n                        fixState = 1;\n                        hTop = topFixHeights[i];\n                    } else if (headerTops[i] - this.pos() > topRealHeights[i] + viewPortSize - params.radius) {\n                        // Header trying to go down\n                        fixState = 2;\n                        hTop = topFixHeights[i] + viewPortSize;\n                    } else {\n                        // Header in viewport\n                        fixState = 3;\n                        hTop = undefined;\n                    }\n                    if (fixState != fixFlag[i]) {\n                        fixElement.call(this, i, hTop);\n                        fixFlag[i] = fixState;\n                        change = true;\n                    }\n                }\n\n                // Adding positioning classes (on last top and first bottom header)\n                if (change) { // At leats one change in elements flag structure occured\n                    for (i = 0 ; i < elements.length ; i++) {\n                        if (fixFlag[i] == 1 && params.past) {\n                            this.$(elements[i]).addClass(params.past).removeClass(params.future);\n                        }\n\n                        if (fixFlag[i] == 2 && params.future) {\n                            this.$(elements[i]).addClass(params.future).removeClass(params.past);\n                        }\n\n                        if (fixFlag[i] == 3 && (params.future || params.past)) {\n                            this.$(elements[i]).removeClass(params.past).removeClass(params.future);\n                        }\n\n                        if (fixFlag[i] != fixFlag[i + 1] && fixFlag[i] == 1 && params.before) {\n                            this.$(elements[i]).addClass(params.before).removeClass(params.after); // Last top fixed header\n                        } else if (fixFlag[i] != fixFlag[i - 1] && fixFlag[i] == 2 && params.after) {\n                            this.$(elements[i]).addClass(params.after).removeClass(params.before); // First bottom fixed header\n                        } else {\n                            this.$(elements[i]).removeClass(params.before).removeClass(params.after);\n                        }\n                    }\n                }\n            }\n        });\n\n        this.on('resize upd', function(updParams) {\n            init.call(this, updParams && updParams.fix);\n        });\n    };\n\n    baron.fn.fix = function(params) {\n        var i = 0;\n\n        while (this[i]) {\n            fix.call(this[i], params);\n            i++;\n        }\n\n        return this;\n    };\n\n    var controls = function(params) {\n        var forward, backward, track, screen,\n            self = this; // AAAAAA!!!!!11\n\n        screen = params.screen || 0.9;\n\n        if (params.forward) {\n            forward = this.$(params.forward, this.clipper);\n\n            this.event(forward, 'click', function() {\n                var y = self.pos() - params.delta || 30;\n\n                self.pos(y);\n            });\n        }\n\n        if (params.backward) {\n            backward = this.$(params.backward, this.clipper);\n\n            this.event(backward, 'click', function() {\n                var y = self.pos() + params.delta || 30;\n\n                self.pos(y);\n            });\n        }\n\n        if (params.track) {\n            if (params.track === true) {\n                track = this.track;\n            } else {\n                track = this.$(params.track, this.clipper)[0];\n            }\n\n            if (track) {\n                this.event(track, 'mousedown', function(e) {\n                    var x = e['offset' + self.origin.x],\n                        xBar = self.bar[self.origin.offsetPos],\n                        sign = 0;\n\n                    if (x < xBar) {\n                        sign = -1;\n                    } else if (x > xBar + self.bar[self.origin.offset]) {\n                        sign = 1;\n                    }\n\n                    var y = self.pos() + sign * screen * self.scroller[self.origin.client];\n                    self.pos(y);\n                });\n            }\n        }\n\n    };\n\n    baron.fn.controls = function(params) {\n        var i = 0;\n\n        while (this[i]) {\n            controls.call(this[i], params);\n            i++;\n        }\n\n        return this;\n    };\n\n    var pull = function(params) {\n        var block = this.$(params.block),\n            size = params.size || this.origin.size,\n            limit = params.limit || 80,\n            onExpand = params.onExpand,\n            elements = params.elements || [],\n            inProgress = params.inProgress || '',\n            self = this,\n            _insistence = 0,\n            _zeroXCount = 0,\n            _interval,\n            _timer,\n            _x = 0,\n            _onExpandCalled,\n            _waiting = params.waiting || 500,\n            _on;\n\n        function getSize() {\n            return self.scroller[self.origin.scroll] + self.scroller[self.origin.offset];\n        }\n\n        // Scroller content height\n        function getContentSize() {\n            return self.scroller[self.origin.scrollSize];\n        }\n\n        // Scroller height\n        function getScrollerSize() {\n            return self.scroller[self.origin.client];\n        }\n\n        function step(x, force) {\n            var k = x * 0.0005;\n\n            return Math.floor(force - k * (x + 550));\n        }\n\n        function toggle(on) {\n            _on = on;\n\n            if (on) {\n                update(); // First time with no delay\n                _interval = setInterval(update, 200);\n            } else {\n                clearInterval(_interval);\n            }\n        }\n\n        function update() {\n            var pos = {},\n                height = getSize(),\n                scrollHeight = getContentSize(),\n                dx,\n                op4,\n                scrollInProgress = _insistence == 1;\n\n            op4 = 0; // Возвращающая сила\n            if (_insistence > 0) {\n                op4 = 40;\n            }\n            //if (_insistence > -1) {\n                dx = step(_x, op4);\n                if (height >= scrollHeight - _x && _insistence > -1) {\n                    if (scrollInProgress) {\n                        _x += dx;\n                    }\n                } else {\n                    _x = 0;\n                }\n\n                if (_x < 0) _x = 0;\n\n                pos[size] = _x + 'px';\n                if (getScrollerSize() <= getContentSize()) {\n                    self.$(block).css(pos);\n                    for (var i = 0 ; i < elements.length ; i++) {\n                        self.$(elements[i].self).css(elements[i].property, Math.min(_x / limit * 100, 100) + '%');\n                    }\n                }\n\n                if (inProgress && _x) {\n                    self.$(self.root).addClass(inProgress);\n                }\n\n                if (_x == 0) {\n                    if (params.onCollapse) {\n                        params.onCollapse();\n                    }\n                }\n\n                _insistence = 0;\n                _timer = setTimeout(function() {\n                    _insistence = -1;\n                }, _waiting);\n            //}\n\n            if (onExpand && _x > limit && !_onExpandCalled) {\n                onExpand();\n                _onExpandCalled = true;\n            }\n\n            if (_x == 0) {\n                _zeroXCount++;\n            } else {\n                _zeroXCount = 0;\n\n            }\n            if (_zeroXCount > 1) {\n                toggle(false);\n                _onExpandCalled = false;\n                if (inProgress) {\n                    self.$(self.root).removeClass(inProgress);\n                }\n            }\n        }\n\n        this.on('init', function() {\n            toggle(true);\n        });\n\n        this.on('dispose', function() {\n            toggle(false);\n        });\n\n        this.event(this.scroller, 'mousewheel DOMMouseScroll', function(e) {\n            var down = e.wheelDelta < 0 || (e.originalEvent && e.originalEvent.wheelDelta < 0) || e.detail > 0;\n\n            if (down) {\n                _insistence = 1;\n                clearTimeout(_timer);\n                if (!_on && getSize() >= getContentSize()) {\n                    toggle(true);\n                }\n            }\n            //  else {\n            //     toggle(false);\n            // }\n        });\n    };\n\n    baron.fn.pull = function(params) {\n        var i = 0;\n\n        while (this[i]) {\n            pull.call(this[i], params);\n            i++;\n        }\n\n        return this;\n    };\n})(window);\n\n},{}]},{},[2])(2)\n});\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJkaXN0L2Nzcy9zdHlsZXMuZnVsbC5kYXJrLmNzcyIsImd1bHAvdG1wL2pzL2d1bHAvdG1wL2pzL3ZlbmRvcnMvcG9seWZpbGxzL2VzNS5qcyIsImd1bHAvdG1wL2pzL2d1bHAvdG1wL2pzL3ZlbmRvcnMvcG9seWZpbGxzL3Byb21pc2UuanMiLCJndWxwL3RtcC9qcy9ndWxwL3RtcC9qcy9zcmMvREdDb3JlL3NyYy9ER0NvcmUuanMiLCJndWxwL3RtcC9qcy9ndWxwL3RtcC9qcy9zcmMvREdDb3JlL3NyYy9ER3RoZW4uanMiLCJndWxwL3RtcC9qcy9ndWxwL3RtcC9qcy9zcmMvREdDb3JlL3NyYy9ER3BsdWdpbi5qcyIsImd1bHAvdG1wL2pzL2d1bHAvdG1wL2pzL3NyYy9ER0FqYXgvc3JjL0RHQWpheC5qcyIsImd1bHAvdG1wL2pzL2d1bHAvdG1wL2pzL3NyYy9ER1drdC9ER1drdC5qcyIsImd1bHAvdG1wL2pzL2d1bHAvdG1wL2pzL3NyYy9ER1Byb2plY3REZXRlY3Rvci9zcmMvREdQcm9qZWN0RGV0ZWN0b3IuanMiLCJndWxwL3RtcC9qcy9ndWxwL3RtcC9qcy9zcmMvREdFbnRyYW5jZS9zcmMvREdNZXRyaWMuanMiLCJndWxwL3RtcC9qcy9ndWxwL3RtcC9qcy9zcmMvREdFbnRyYW5jZS9zcmMvREdWZXJ0ZXhUcmFuc2Zvcm0uanMiLCJndWxwL3RtcC9qcy9ndWxwL3RtcC9qcy9zcmMvREdFbnRyYW5jZS9zcmMvREdBcnJvd1BhdGhUcmFuc2Zvcm0uanMiLCJndWxwL3RtcC9qcy9ndWxwL3RtcC9qcy9zcmMvREdFbnRyYW5jZS9zcmMvREdBcnJvd1RpcFRyYW5zZm9ybS5qcyIsImd1bHAvdG1wL2pzL2d1bHAvdG1wL2pzL3NyYy9ER0VudHJhbmNlL3NyYy9ER0NvbXBsZXhQYXRoLmpzIiwiZ3VscC90bXAvanMvZ3VscC90bXAvanMvc3JjL0RHRW50cmFuY2Uvc3JjL0RHUmVuZGVyZXIuanMiLCJndWxwL3RtcC9qcy9ndWxwL3RtcC9qcy9zcmMvREdFbnRyYW5jZS9zcmMvREdCZXppZXJDdXJ2ZXMuanMiLCJndWxwL3RtcC9qcy9ndWxwL3RtcC9qcy9zcmMvREdFbnRyYW5jZS9zcmMvREdBbmltYXRpb24uanMiLCJndWxwL3RtcC9qcy9ndWxwL3RtcC9qcy9zcmMvREdFbnRyYW5jZS9zcmMvREdFbnRyYW5jZS5qcyIsImd1bHAvdG1wL2pzL2d1bHAvdG1wL2pzL3NyYy9ER0VudHJhbmNlL3NyYy9ER0VudHJhbmNlQXJyb3cuanMiLCJndWxwL3RtcC9qcy9ndWxwL3RtcC9qcy9zcmMvREdFbnRyYW5jZS9zcmMvREdFbnRyYW5jZUFycm93U2hhcGUuanMiLCJndWxwL3RtcC9qcy9ndWxwL3RtcC9qcy9zcmMvREdMYWJlbC9zcmMvREdMYWJlbC5qcyIsImd1bHAvdG1wL2pzL2d1bHAvdG1wL2pzL3NyYy9ER0xhYmVsL3NyYy9NYXJrZXIuREdMYWJlbC5qcyIsImd1bHAvdG1wL2pzL2d1bHAvdG1wL2pzL3NyYy9ER0xhYmVsL3NyYy9QYXRoLkRHTGFiZWwuanMiLCJndWxwL3RtcC9qcy9ndWxwL3RtcC9qcy9zcmMvREdMYWJlbC9zcmMvRW50cmFuY2UuREdMYWJlbC5qcyIsImd1bHAvdG1wL2pzL2d1bHAvdG1wL2pzL3NyYy9ER1BvcHVwL3NraW4vYmFzaWMvc2tpbi5jb25maWcuanMiLCJndWxwL3RtcC9qcy9ndWxwL3RtcC9qcy9zcmMvREdQb3B1cC9zcmMvREdQb3B1cC5qcyIsImd1bHAvdG1wL2pzL2d1bHAvdG1wL2pzL3NyYy9ER0xvY2FsZS9zcmMvREdEaWN0aW9uYXJ5LmpzIiwiZ3VscC90bXAvanMvZ3VscC90bXAvanMvc3JjL0RHTG9jYWxlL3NyYy9ER0xvY2FsZS5qcyIsImd1bHAvdG1wL2pzL2d1bHAvdG1wL2pzL3NyYy9ER1JvdW5kQ29udHJvbC9zcmMvREdSb3VuZENvbnRyb2wuanMiLCJndWxwL3RtcC9qcy9ndWxwL3RtcC9qcy9zcmMvREdNdXNldW0vc3JjL0RHTXVzZXVtLmpzIiwiZ3VscC90bXAvanMvZ3VscC90bXAvanMvc3JjL0RHQ3VzdG9taXphdGlvbi9za2luL2Jhc2ljL3NraW4uY29uZmlnLmpzIiwiZ3VscC90bXAvanMvZ3VscC90bXAvanMvc3JjL0RHQ3VzdG9taXphdGlvbi9zcmMvREdDdXN0b21pemF0aW9uLmpzIiwiZ3VscC90bXAvanMvZ3VscC90bXAvanMvc3JjL0RHQ3VzdG9taXphdGlvbi9zcmMvREdNYXAuanMiLCJndWxwL3RtcC9qcy9ndWxwL3RtcC9qcy9zcmMvREdDdXN0b21pemF0aW9uL3NyYy9ER01hcC5CYXNlTGF5ZXIuanMiLCJndWxwL3RtcC9qcy9ndWxwL3RtcC9qcy9zcmMvREdDdXN0b21pemF0aW9uL3NyYy9ER01hcC5UaWxlc0NoZWNrLmpzIiwiZ3VscC90bXAvanMvZ3VscC90bXAvanMvc3JjL0RHQ3VzdG9taXphdGlvbi9zcmMvREdNYXAuRHJhZy5qcyIsImd1bHAvdG1wL2pzL2d1bHAvdG1wL2pzL3NyYy9ER0N1c3RvbWl6YXRpb24vc3JjL0RHUG9seVV0aWwuanMiLCJndWxwL3RtcC9qcy9ndWxwL3RtcC9qcy9zcmMvREdDdXN0b21pemF0aW9uL3NyYy9ER01vYmlsZUltcHJvdmUuanMiLCJndWxwL3RtcC9qcy9ndWxwL3RtcC9qcy9zcmMvREdab29tQ29udHJvbC9zcmMvREdab29tQ29udHJvbC5qcyIsImd1bHAvdG1wL2pzL2d1bHAvdG1wL2pzL3NyYy9ER1pvb21Db250cm9sL2xhbmcvcnUuanMiLCJndWxwL3RtcC9qcy9ndWxwL3RtcC9qcy9zcmMvREdab29tQ29udHJvbC9sYW5nL2l0LmpzIiwiZ3VscC90bXAvanMvZ3VscC90bXAvanMvc3JjL0RHWm9vbUNvbnRyb2wvbGFuZy9jcy5qcyIsImd1bHAvdG1wL2pzL2d1bHAvdG1wL2pzL3NyYy9ER1pvb21Db250cm9sL2xhbmcvZW4uanMiLCJndWxwL3RtcC9qcy9ndWxwL3RtcC9qcy9zcmMvREdab29tQ29udHJvbC9sYW5nL2VzLmpzIiwiZ3VscC90bXAvanMvZ3VscC90bXAvanMvc3JjL0RHWm9vbUNvbnRyb2wvbGFuZy9hci5qcyIsImd1bHAvdG1wL2pzL2d1bHAvdG1wL2pzL3NyYy9ER0R1c3Qvc3JjL0RHRHVzdC5qcyIsImd1bHAvdG1wL2pzL2d1bHAvdG1wL2pzL3NyYy9ER0F0dHJpYnV0aW9uL3NyYy9ER0F0dHJpYnV0aW9uLmpzIiwiZ3VscC90bXAvanMvZ3VscC90bXAvanMvc3JjL0RHQXR0cmlidXRpb24vbGFuZy9ydS5qcyIsImd1bHAvdG1wL2pzL2d1bHAvdG1wL2pzL3NyYy9ER0F0dHJpYnV0aW9uL2xhbmcvaXQuanMiLCJndWxwL3RtcC9qcy9ndWxwL3RtcC9qcy9zcmMvREdBdHRyaWJ1dGlvbi9sYW5nL2NzLmpzIiwiZ3VscC90bXAvanMvZ3VscC90bXAvanMvc3JjL0RHQXR0cmlidXRpb24vbGFuZy9lbi5qcyIsImd1bHAvdG1wL2pzL2d1bHAvdG1wL2pzL3NyYy9ER0F0dHJpYnV0aW9uL2xhbmcvZXMuanMiLCJndWxwL3RtcC9qcy9ndWxwL3RtcC9qcy9zcmMvREdBdHRyaWJ1dGlvbi9sYW5nL2FyLmpzIiwiZ3VscC90bXAvanMvZ3VscC90bXAvanMvc3JjL0RHTG9jYXRpb24vc3JjL0RHTG9jYXRpb24uanMiLCJndWxwL3RtcC9qcy9ndWxwL3RtcC9qcy9zcmMvREdMb2NhdGlvbi9sYW5nL3J1LmpzIiwiZ3VscC90bXAvanMvZ3VscC90bXAvanMvc3JjL0RHTG9jYXRpb24vbGFuZy9pdC5qcyIsImd1bHAvdG1wL2pzL2d1bHAvdG1wL2pzL3NyYy9ER0xvY2F0aW9uL2xhbmcvY3MuanMiLCJndWxwL3RtcC9qcy9ndWxwL3RtcC9qcy9zcmMvREdMb2NhdGlvbi9sYW5nL2VuLmpzIiwiZ3VscC90bXAvanMvZ3VscC90bXAvanMvc3JjL0RHTG9jYXRpb24vbGFuZy9lcy5qcyIsImd1bHAvdG1wL2pzL2d1bHAvdG1wL2pzL3NyYy9ER0xvY2F0aW9uL2xhbmcvYXIuanMiLCJndWxwL3RtcC9qcy9ndWxwL3RtcC9qcy9zcmMvREdGdWxsU2NyZWVuL3NyYy9ER1NjcmVlbmZ1bGwuanMiLCJndWxwL3RtcC9qcy9ndWxwL3RtcC9qcy9zcmMvREdGdWxsU2NyZWVuL3NyYy9ER0Z1bGxTY3JlZW4uanMiLCJndWxwL3RtcC9qcy9ndWxwL3RtcC9qcy9zcmMvREdGdWxsU2NyZWVuL2xhbmcvcnUuanMiLCJndWxwL3RtcC9qcy9ndWxwL3RtcC9qcy9zcmMvREdGdWxsU2NyZWVuL2xhbmcvaXQuanMiLCJndWxwL3RtcC9qcy9ndWxwL3RtcC9qcy9zcmMvREdGdWxsU2NyZWVuL2xhbmcvY3MuanMiLCJndWxwL3RtcC9qcy9ndWxwL3RtcC9qcy9zcmMvREdGdWxsU2NyZWVuL2xhbmcvZW4uanMiLCJndWxwL3RtcC9qcy9ndWxwL3RtcC9qcy9zcmMvREdGdWxsU2NyZWVuL2xhbmcvZXMuanMiLCJndWxwL3RtcC9qcy9ndWxwL3RtcC9qcy9zcmMvREdGdWxsU2NyZWVuL2xhbmcvYXIuanMiLCJndWxwL3RtcC9qcy9ndWxwL3RtcC9qcy9zcmMvREdNZXRhL3NyYy9ER01ldGEuTGF5ZXIuanMiLCJndWxwL3RtcC9qcy9ndWxwL3RtcC9qcy9zcmMvREdNZXRhL3NyYy9ER01ldGEuT3JpZ2luLmpzIiwiZ3VscC90bXAvanMvZ3VscC90bXAvanMvc3JjL0RHUG9pL3NyYy9ER1BvaS5qcyIsImd1bHAvdG1wL2pzL2d1bHAvdG1wL2pzL3NyYy9ER0dlb2NsaWNrZXIvc3JjL0RHR2VvY2xpY2tlci5qcyIsImd1bHAvdG1wL2pzL2d1bHAvdG1wL2pzL3NyYy9ER0dlb2NsaWNrZXIvc3JjL0NsYW1wSGVscGVyLmpzIiwiZ3VscC90bXAvanMvZ3VscC90bXAvanMvc3JjL0RHR2VvY2xpY2tlci9zcmMvcHJvdmlkZXIvUHJvdmlkZXIuanMiLCJndWxwL3RtcC9qcy9ndWxwL3RtcC9qcy9zcmMvREdHZW9jbGlja2VyL3NyYy9wcm92aWRlci9DYXRhbG9nQXBpLmpzIiwiZ3VscC90bXAvanMvZ3VscC90bXAvanMvc3JjL0RHR2VvY2xpY2tlci9zcmMvaGFuZGxlci9IYW5kbGVyLmpzIiwiZ3VscC90bXAvanMvZ3VscC90bXAvanMvc3JjL0RHR2VvY2xpY2tlci9zcmMvaGFuZGxlci9EZWZhdWx0LmpzIiwiZ3VscC90bXAvanMvZ3VscC90bXAvanMvc3JjL0RHR2VvY2xpY2tlci9zcmMvaGFuZGxlci9BcGlFcnJvci5qcyIsImd1bHAvdG1wL2pzL2d1bHAvdG1wL2pzL3NyYy9ER0dlb2NsaWNrZXIvc3JjL2hhbmRsZXIvQ2l0eUFyZWEuanMiLCJndWxwL3RtcC9qcy9ndWxwL3RtcC9qcy9zcmMvREdHZW9jbGlja2VyL3NyYy9oYW5kbGVyL0hvdXNlLmpzIiwiZ3VscC90bXAvanMvZ3VscC90bXAvanMvc3JjL0RHR2VvY2xpY2tlci9zcmMvaGFuZGxlci9Ib3VzZS5WaWV3LmpzIiwiZ3VscC90bXAvanMvZ3VscC90bXAvanMvc3JjL0RHR2VvY2xpY2tlci9zcmMvaGFuZGxlci9QT0kuanMiLCJndWxwL3RtcC9qcy9ndWxwL3RtcC9qcy9zcmMvREdHZW9jbGlja2VyL3NyYy9oYW5kbGVyL1NpZ2h0LmpzIiwiZ3VscC90bXAvanMvZ3VscC90bXAvanMvc3JjL0RHR2VvY2xpY2tlci9zcmMvVmlldy5qcyIsImd1bHAvdG1wL2pzL2d1bHAvdG1wL2pzL3NyYy9ER0dlb2NsaWNrZXIvc3JjL0NvbnRyb2xsZXIuanMiLCJndWxwL3RtcC9qcy9ndWxwL3RtcC9qcy9zcmMvREdHZW9jbGlja2VyL2xhbmcvaXQuanMiLCJndWxwL3RtcC9qcy9ndWxwL3RtcC9qcy9zcmMvREdHZW9jbGlja2VyL2xhbmcvcnUuanMiLCJndWxwL3RtcC9qcy9ndWxwL3RtcC9qcy9zcmMvREdHZW9jbGlja2VyL2xhbmcvZW4uanMiLCJndWxwL3RtcC9qcy9ndWxwL3RtcC9qcy9zcmMvREdHZW9jbGlja2VyL2xhbmcvY3MuanMiLCJndWxwL3RtcC9qcy9ndWxwL3RtcC9qcy9zcmMvREdHZW9jbGlja2VyL2xhbmcvZXMuanMiLCJndWxwL3RtcC9qcy9ndWxwL3RtcC9qcy92ZW5kb3JzL2Zpcm1jYXJkL3NyYy9GaXJtQ2FyZC5qcyIsImd1bHAvdG1wL2pzL2d1bHAvdG1wL2pzL3ZlbmRvcnMvZmlybWNhcmQvc3JjL0Zpcm1DYXJkLkRhdGFIZWxwZXIuanMiLCJndWxwL3RtcC9qcy9ndWxwL3RtcC9qcy92ZW5kb3JzL2Zpcm1jYXJkL3NyYy9GaXJtTGlzdC5qcyIsImd1bHAvdG1wL2pzL2d1bHAvdG1wL2pzL3ZlbmRvcnMvZmlybWNhcmQvc3JjL1NjaGVkdWxlLmpzIiwiZ3VscC90bXAvanMvZ3VscC90bXAvanMvdmVuZG9ycy9maXJtY2FyZC9zcmMvRGljdGlvbmFyeS5qcyIsImd1bHAvdG1wL2pzL2d1bHAvdG1wL2pzL3NyYy9ER1RyYWZmaWMvc3JjL0RHVHJhZmZpYy5qcyIsImd1bHAvdG1wL2pzL2d1bHAvdG1wL2pzL3NyYy9ER1RyYWZmaWMvbGFuZy9ydS5qcyIsImd1bHAvdG1wL2pzL2d1bHAvdG1wL2pzL3NyYy9ER1RyYWZmaWMvbGFuZy9pdC5qcyIsImd1bHAvdG1wL2pzL2d1bHAvdG1wL2pzL3NyYy9ER1RyYWZmaWMvbGFuZy9jcy5qcyIsImd1bHAvdG1wL2pzL2d1bHAvdG1wL2pzL3NyYy9ER1RyYWZmaWMvbGFuZy9lcy5qcyIsImd1bHAvdG1wL2pzL2d1bHAvdG1wL2pzL3NyYy9ER1RyYWZmaWMvbGFuZy9lbi5qcyIsImd1bHAvdG1wL2pzL2d1bHAvdG1wL2pzL3NyYy9ER1RyYWZmaWMvbGFuZy9hci5qcyIsImd1bHAvdG1wL2pzL2d1bHAvdG1wL2pzL3NyYy9ER1RyYWZmaWNDb250cm9sL3NyYy9Db250cm9sLlRyYWZmaWMuanMiLCJndWxwL3RtcC9qcy9ndWxwL3RtcC9qcy9zcmMvREdUcmFmZmljQ29udHJvbC9sYW5nL3J1LmpzIiwiZ3VscC90bXAvanMvZ3VscC90bXAvanMvc3JjL0RHVHJhZmZpY0NvbnRyb2wvbGFuZy9pdC5qcyIsImd1bHAvdG1wL2pzL2d1bHAvdG1wL2pzL3NyYy9ER1RyYWZmaWNDb250cm9sL2xhbmcvY3MuanMiLCJndWxwL3RtcC9qcy9ndWxwL3RtcC9qcy9zcmMvREdUcmFmZmljQ29udHJvbC9sYW5nL2VzLmpzIiwiZ3VscC90bXAvanMvZ3VscC90bXAvanMvc3JjL0RHVHJhZmZpY0NvbnRyb2wvbGFuZy9lbi5qcyIsImd1bHAvdG1wL2pzL2d1bHAvdG1wL2pzL3NyYy9ER1RyYWZmaWNDb250cm9sL2xhbmcvYXIuanMiLCJndWxwL3RtcC9qcy9ndWxwL3RtcC9qcy9zcmMvREdSdWxlci9zcmMvUnVsZXIuanMiLCJndWxwL3RtcC9qcy9ndWxwL3RtcC9qcy9zcmMvREdSdWxlci9zcmMvTGF5ZXJlZE1hcmtlci5qcyIsImd1bHAvdG1wL2pzL2d1bHAvdG1wL2pzL3NyYy9ER1J1bGVyL3NyYy9HZW9tZXRyeVN0eWxlcy5qcyIsImd1bHAvdG1wL2pzL2d1bHAvdG1wL2pzL3NyYy9ER1J1bGVyL2xhbmcvcnUuanMiLCJndWxwL3RtcC9qcy9ndWxwL3RtcC9qcy9zcmMvREdSdWxlci9sYW5nL2l0LmpzIiwiZ3VscC90bXAvanMvZ3VscC90bXAvanMvc3JjL0RHUnVsZXIvbGFuZy9jcy5qcyIsImd1bHAvdG1wL2pzL2d1bHAvdG1wL2pzL3NyYy9ER1J1bGVyL2xhbmcvZXMuanMiLCJndWxwL3RtcC9qcy9ndWxwL3RtcC9qcy9zcmMvREdSdWxlci9sYW5nL2VuLmpzIiwiZ3VscC90bXAvanMvZ3VscC90bXAvanMvc3JjL0RHUnVsZXIvbGFuZy9hci5qcyIsImd1bHAvdG1wL2pzL2d1bHAvdG1wL2pzL3NyYy9ER1J1bGVyQ29udHJvbC9zcmMvQ29udHJvbC5SdWxlci5qcyIsImd1bHAvdG1wL2pzL2d1bHAvdG1wL2pzL3NyYy9ER1J1bGVyQ29udHJvbC9sYW5nL3J1LmpzIiwiZ3VscC90bXAvanMvZ3VscC90bXAvanMvc3JjL0RHUnVsZXJDb250cm9sL2xhbmcvaXQuanMiLCJndWxwL3RtcC9qcy9ndWxwL3RtcC9qcy9zcmMvREdSdWxlckNvbnRyb2wvbGFuZy9jcy5qcyIsImd1bHAvdG1wL2pzL2d1bHAvdG1wL2pzL3NyYy9ER1J1bGVyQ29udHJvbC9sYW5nL2VzLmpzIiwiZ3VscC90bXAvanMvZ3VscC90bXAvanMvc3JjL0RHUnVsZXJDb250cm9sL2xhbmcvZW4uanMiLCJndWxwL3RtcC9qcy9ndWxwL3RtcC9qcy9zcmMvREdSdWxlckNvbnRyb2wvbGFuZy9hci5qcyIsImd1bHAvdG1wL2pzL2d1bHAvdG1wL2pzL2NvcHlyaWdodC5qcyIsImd1bHAvdG1wL2pzL2d1bHAvdG1wL2pzL2NpdHlhcmVhLmpzIiwiZ3VscC90bXAvanMvZ3VscC90bXAvanMvZmlybUNhcmRBZGRyLmpzIiwiZ3VscC90bXAvanMvZ3VscC90bXAvanMvZmlybUNhcmRDb250YWN0cy5qcyIsImd1bHAvdG1wL2pzL2d1bHAvdG1wL2pzL2Zpcm1DYXJkSGVhZGVyLmpzIiwiZ3VscC90bXAvanMvZ3VscC90bXAvanMvZmlybUNhcmRSdWJyaWMuanMiLCJndWxwL3RtcC9qcy9ndWxwL3RtcC9qcy9maXJtQ2FyZFNjaGVkdWxlLmpzIiwiZ3VscC90bXAvanMvZ3VscC90bXAvanMvZmlybWxpc3RJdGVtLmpzIiwiZ3VscC90bXAvanMvZ3VscC90bXAvanMvZnJpbUNhcmRQYXltZW50cy5qcyIsImd1bHAvdG1wL2pzL2d1bHAvdG1wL2pzL2hvdXNlLmpzIiwiZ3VscC90bXAvanMvZ3VscC90bXAvanMvbG9hZGVyLmpzIiwiZ3VscC90bXAvanMvZ3VscC90bXAvanMvcG9wdXBGb290ZXIuanMiLCJndWxwL3RtcC9qcy9ndWxwL3RtcC9qcy9wb3B1cEZvb3RlckJ0bnMuanMiLCJndWxwL3RtcC9qcy9ndWxwL3RtcC9qcy9wb3B1cEhlYWRlci5qcyIsImd1bHAvdG1wL2pzL2d1bHAvdG1wL2pzL3NpZ2h0LmpzIiwibm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktY3NzL2Jyb3dzZXIuanMiLCJub2RlX21vZHVsZXMvZHVzdGpzLWhlbHBlcnMvbGliL2R1c3QtaGVscGVycy5qcyIsIm5vZGVfbW9kdWxlcy9kdXN0anMtbGlua2VkaW4vbGliL2R1c3QuanMiLCJub2RlX21vZHVsZXMvaHRtbDVzaGl2L2Rpc3QvaHRtbDVzaGl2LmpzIiwibm9kZV9tb2R1bGVzL2xlYWZsZXQvZGlzdC9sZWFmbGV0LXNyYy5qcyIsIm5vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanMiLCJ2ZW5kb3JzL2Jhcm9uL2Jhcm9uLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUE7OztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDblNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDNXFCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDeEZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ2pCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQzNFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ2xjQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUM1T0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ3ZNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNqRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ25UQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNoVUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDdENBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDeEVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ3JNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDcmRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUN6SEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUMvTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDekxBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ3ZFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQzNIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ25KQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNyREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ3BEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNSQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUMxckJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ3hEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDdkRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDOUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDdEdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNQQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDMURBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDalVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUM1RUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDakhBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUN4Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ3ZEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNyZUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDckRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ0pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ0pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNiQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUN6SUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQzVRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDL0VBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNuRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ0pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ0pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ3RRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ3JIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUN2S0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUMzSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ3JGQTtBQUNBO0FDREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDN0tBO0FBQ0E7QUNEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDcEdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDZkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDakhBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUN4UkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNwSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDL0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDNUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNwR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQzdKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNqQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDakJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ2pCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNqQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDakJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNoWkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQzNDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUN6TEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDbnZCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ3JjQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUMvT0E7QUFDQTtBQUNBO0FBQ0E7QUNIQTtBQUNBO0FBQ0E7QUFDQTtBQ0hBO0FBQ0E7QUFDQTtBQUNBO0FDSEE7QUFDQTtBQUNBO0FBQ0E7QUNIQTtBQUNBO0FBQ0E7QUFDQTtBQ0hBO0FBQ0E7QUFDQTtBQUNBO0FDSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNwSUE7QUFDQTtBQUNBO0FBQ0E7QUNIQTtBQUNBO0FBQ0E7QUFDQTtBQ0hBO0FBQ0E7QUFDQTtBQUNBO0FDSEE7QUFDQTtBQUNBO0FBQ0E7QUNIQTtBQUNBO0FBQ0E7QUFDQTtBQ0hBO0FBQ0E7QUFDQTtBQUNBO0FDSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDN3JCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDekhBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUM5RkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDdEZBO0FBQ0E7QUFDQTtBQUNBO0FDSEE7QUFDQTtBQUNBO0FBQ0E7QUNIQTtBQUNBO0FBQ0E7QUFDQTtBQ0hBO0FBQ0E7QUFDQTtBQUNBO0FDSEE7QUFDQTtBQUNBO0FBQ0E7QUNIQTtBQUNBO0FBQ0E7QUFDQTtBQ0hBO0FDQUE7QUNBQTtBQ0FBO0FDQUE7QUNBQTtBQ0FBO0FDQUE7QUNBQTtBQ0FBO0FDQUE7QUNBQTtBQ0FBO0FDQUE7QUNBQTs7Ozs7O0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDM0VBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ3pjQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQ3ZuQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3RVQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdmxaQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3hMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCJ2YXIgY3NzID0gXCIubGVhZmxldC1pbWFnZS1sYXllciwubGVhZmxldC1sYXllciwubGVhZmxldC1tYXAtcGFuZSBjYW52YXMsLmxlYWZsZXQtbWFwLXBhbmUgc3ZnLC5sZWFmbGV0LW1hcmtlci1pY29uLC5sZWFmbGV0LW1hcmtlci1zaGFkb3csLmxlYWZsZXQtcGFuZSwubGVhZmxldC10aWxlLC5sZWFmbGV0LXRpbGUtY29udGFpbmVyLC5sZWFmbGV0LXpvb20tYm94e3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6MDt0b3A6MH0ubGVhZmxldC1jb250YWluZXJ7b3ZlcmZsb3c6aGlkZGVufS5sZWFmbGV0LW1hcmtlci1pY29uLC5sZWFmbGV0LW1hcmtlci1zaGFkb3csLmxlYWZsZXQtdGlsZXstd2Via2l0LXVzZXItc2VsZWN0Om5vbmU7LW1vei11c2VyLXNlbGVjdDpub25lOy1tcy11c2VyLXNlbGVjdDpub25lO3VzZXItc2VsZWN0Om5vbmU7LXdlYmtpdC11c2VyLWRyYWc6bm9uZX0ubGVhZmxldC1zYWZhcmkgLmxlYWZsZXQtdGlsZXtpbWFnZS1yZW5kZXJpbmc6LXdlYmtpdC1vcHRpbWl6ZS1jb250cmFzdH0ubGVhZmxldC1zYWZhcmkgLmxlYWZsZXQtdGlsZS1jb250YWluZXJ7d2lkdGg6MTYwMHB4O2hlaWdodDoxNjAwcHg7LXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOjAgMH0ubGVhZmxldC1tYXJrZXItaWNvbiwubGVhZmxldC1tYXJrZXItc2hhZG93e2Rpc3BsYXk6YmxvY2t9LmxlYWZsZXQtY29udGFpbmVyIC5sZWFmbGV0LW1hcmtlci1wYW5lIGltZywubGVhZmxldC1jb250YWluZXIgLmxlYWZsZXQtb3ZlcmxheS1wYW5lIHN2ZywubGVhZmxldC1jb250YWluZXIgLmxlYWZsZXQtdGlsZS1wYW5lIGltZywubGVhZmxldC1jb250YWluZXIgaW1nLmxlYWZsZXQtaW1hZ2UtbGF5ZXJ7bWF4LXdpZHRoOm5vbmUhaW1wb3J0YW50fS5sZWFmbGV0LWNvbnRhaW5lci5sZWFmbGV0LXRvdWNoLXpvb217LW1zLXRvdWNoLWFjdGlvbjpwYW4teCBwYW4teTt0b3VjaC1hY3Rpb246cGFuLXggcGFuLXl9LmxlYWZsZXQtY29udGFpbmVyLmxlYWZsZXQtdG91Y2gtZHJhZ3stbXMtdG91Y2gtYWN0aW9uOnBpbmNoLXpvb219LmxlYWZsZXQtY29udGFpbmVyLmxlYWZsZXQtdG91Y2gtZHJhZy5sZWFmbGV0LXRvdWNoLWRyYWd7LW1zLXRvdWNoLWFjdGlvbjpub25lO3RvdWNoLWFjdGlvbjpub25lfS5sZWFmbGV0LXRpbGV7LXdlYmtpdC1maWx0ZXI6aW5oZXJpdDtmaWx0ZXI6aW5oZXJpdDt2aXNpYmlsaXR5OmhpZGRlbn0ubGVhZmxldC10aWxlLWxvYWRlZHt2aXNpYmlsaXR5OmluaGVyaXR9LmxlYWZsZXQtem9vbS1ib3h7d2lkdGg6MDtoZWlnaHQ6MDstd2Via2l0LWJveC1zaXppbmc6Ym9yZGVyLWJveDtib3gtc2l6aW5nOmJvcmRlci1ib3g7ei1pbmRleDo4MDB9LmxlYWZsZXQtb3ZlcmxheS1wYW5lIHN2Z3stbW96LXVzZXItc2VsZWN0Om5vbmV9LmxlYWZsZXQtcGFuZXt6LWluZGV4OjQwMH0ubGVhZmxldC10aWxlLXBhbmV7ei1pbmRleDoyMDB9LmxlYWZsZXQtb3ZlcmxheS1wYW5le3otaW5kZXg6NDAwfS5sZWFmbGV0LXNoYWRvdy1wYW5le3otaW5kZXg6NTAwfS5sZWFmbGV0LW1hcmtlci1wYW5le3otaW5kZXg6NjAwfS5sZWFmbGV0LXRvb2x0aXAtcGFuZXt6LWluZGV4OjY1MH0ubGVhZmxldC1wb3B1cC1wYW5le3otaW5kZXg6NzAwfS5sZWFmbGV0LW1hcC1wYW5lIGNhbnZhc3t6LWluZGV4OjEwMH0ubGVhZmxldC1tYXAtcGFuZSBzdmd7ei1pbmRleDoyMDB9LmxlYWZsZXQtdm1sLXNoYXBle3dpZHRoOjFweDtoZWlnaHQ6MXB4fS5sdm1se2JlaGF2aW9yOnVybCgjZGVmYXVsdCNWTUwpO2Rpc3BsYXk6aW5saW5lLWJsb2NrO3Bvc2l0aW9uOmFic29sdXRlfS5sZWFmbGV0LWNvbnRyb2x7cG9zaXRpb246cmVsYXRpdmU7ei1pbmRleDo4MDA7cG9pbnRlci1ldmVudHM6dmlzaWJsZVBhaW50ZWQ7cG9pbnRlci1ldmVudHM6YXV0b30ubGVhZmxldC1ib3R0b20sLmxlYWZsZXQtdG9we3Bvc2l0aW9uOmFic29sdXRlO3otaW5kZXg6MTAwMDtwb2ludGVyLWV2ZW50czpub25lfS5sZWFmbGV0LXRvcHt0b3A6MH0ubGVhZmxldC1yaWdodHtyaWdodDowfS5sZWFmbGV0LWJvdHRvbXtib3R0b206MH0ubGVhZmxldC1sZWZ0e2xlZnQ6MH0ubGVhZmxldC1jb250cm9se2Zsb2F0OmxlZnQ7Y2xlYXI6Ym90aH0ubGVhZmxldC1yaWdodCAubGVhZmxldC1jb250cm9se2Zsb2F0OnJpZ2h0fS5sZWFmbGV0LXRvcCAubGVhZmxldC1jb250cm9se21hcmdpbi10b3A6MTBweH0ubGVhZmxldC1ib3R0b20gLmxlYWZsZXQtY29udHJvbHttYXJnaW4tYm90dG9tOjEwcHh9LmxlYWZsZXQtbGVmdCAubGVhZmxldC1jb250cm9se21hcmdpbi1sZWZ0OjEwcHh9LmxlYWZsZXQtcmlnaHQgLmxlYWZsZXQtY29udHJvbHttYXJnaW4tcmlnaHQ6MTBweH0ubGVhZmxldC1mYWRlLWFuaW0gLmxlYWZsZXQtdGlsZXt3aWxsLWNoYW5nZTpvcGFjaXR5fS5sZWFmbGV0LWZhZGUtYW5pbSAubGVhZmxldC1wb3B1cHtvcGFjaXR5OjA7LXdlYmtpdC10cmFuc2l0aW9uOm9wYWNpdHkgLjJzIGxpbmVhcjt0cmFuc2l0aW9uOm9wYWNpdHkgLjJzIGxpbmVhcn0ubGVhZmxldC1mYWRlLWFuaW0gLmxlYWZsZXQtbWFwLXBhbmUgLmxlYWZsZXQtcG9wdXB7b3BhY2l0eToxfS5sZWFmbGV0LXpvb20tYW5pbWF0ZWR7LXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOjAgMDstbXMtdHJhbnNmb3JtLW9yaWdpbjowIDA7dHJhbnNmb3JtLW9yaWdpbjowIDB9LmxlYWZsZXQtem9vbS1hbmltIC5sZWFmbGV0LXpvb20tYW5pbWF0ZWR7d2lsbC1jaGFuZ2U6dHJhbnNmb3JtOy13ZWJraXQtdHJhbnNpdGlvbjotd2Via2l0LXRyYW5zZm9ybSAuMjVzIGN1YmljLWJlemllcigwLDAsLjI1LDEpO3RyYW5zaXRpb246LXdlYmtpdC10cmFuc2Zvcm0gLjI1cyBjdWJpYy1iZXppZXIoMCwwLC4yNSwxKTt0cmFuc2l0aW9uOnRyYW5zZm9ybSAuMjVzIGN1YmljLWJlemllcigwLDAsLjI1LDEpO3RyYW5zaXRpb246dHJhbnNmb3JtIC4yNXMgY3ViaWMtYmV6aWVyKDAsMCwuMjUsMSksLXdlYmtpdC10cmFuc2Zvcm0gLjI1cyBjdWJpYy1iZXppZXIoMCwwLC4yNSwxKX0ubGVhZmxldC1wYW4tYW5pbSAubGVhZmxldC10aWxlLC5sZWFmbGV0LXpvb20tYW5pbSAubGVhZmxldC10aWxley13ZWJraXQtdHJhbnNpdGlvbjpub25lO3RyYW5zaXRpb246bm9uZX0ubGVhZmxldC16b29tLWFuaW0gLmxlYWZsZXQtem9vbS1oaWRle3Zpc2liaWxpdHk6aGlkZGVufS5sZWFmbGV0LWludGVyYWN0aXZle2N1cnNvcjpwb2ludGVyfS5sZWFmbGV0LWdyYWJ7Y3Vyc29yOi13ZWJraXQtZ3JhYjtjdXJzb3I6LW1vei1ncmFifS5sZWFmbGV0LWNyb3NzaGFpciwubGVhZmxldC1jcm9zc2hhaXIgLmxlYWZsZXQtaW50ZXJhY3RpdmV7Y3Vyc29yOmNyb3NzaGFpcn0ubGVhZmxldC1jb250cm9sLC5sZWFmbGV0LXBvcHVwLXBhbmV7Y3Vyc29yOmF1dG99LmxlYWZsZXQtZHJhZ2dpbmcgLmxlYWZsZXQtZ3JhYiwubGVhZmxldC1kcmFnZ2luZyAubGVhZmxldC1ncmFiIC5sZWFmbGV0LWludGVyYWN0aXZlLC5sZWFmbGV0LWRyYWdnaW5nIC5sZWFmbGV0LW1hcmtlci1kcmFnZ2FibGV7Y3Vyc29yOm1vdmU7Y3Vyc29yOi13ZWJraXQtZ3JhYmJpbmc7Y3Vyc29yOi1tb3otZ3JhYmJpbmd9LmxlYWZsZXQtaW1hZ2UtbGF5ZXIsLmxlYWZsZXQtbWFya2VyLWljb24sLmxlYWZsZXQtbWFya2VyLXNoYWRvdywubGVhZmxldC1wYW5lPnN2ZyBwYXRoLC5sZWFmbGV0LXRpbGUtY29udGFpbmVye3BvaW50ZXItZXZlbnRzOm5vbmV9LmxlYWZsZXQtaW1hZ2UtbGF5ZXIubGVhZmxldC1pbnRlcmFjdGl2ZSwubGVhZmxldC1tYXJrZXItaWNvbi5sZWFmbGV0LWludGVyYWN0aXZlLC5sZWFmbGV0LXBhbmU+c3ZnIHBhdGgubGVhZmxldC1pbnRlcmFjdGl2ZXtwb2ludGVyLWV2ZW50czp2aXNpYmxlUGFpbnRlZDtwb2ludGVyLWV2ZW50czphdXRvfS5sZWFmbGV0LWNvbnRhaW5lcntvdXRsaW5lOjB9LmxlYWZsZXQtY29udGFpbmVyIGF7Y29sb3I6IzAwNzhBOH0ubGVhZmxldC1jb250YWluZXIgYS5sZWFmbGV0LWFjdGl2ZXtvdXRsaW5lOm9yYW5nZSBzb2xpZCAycHh9LmxlYWZsZXQtem9vbS1ib3h7Ym9yZGVyOjJweCBkb3R0ZWQgIzM4ZjtiYWNrZ3JvdW5kOnJnYmEoMjU1LDI1NSwyNTUsLjUpfS5sZWFmbGV0LWNvbnRhaW5lcntmb250OjEycHgvMS41IFxcXCJIZWx2ZXRpY2EgTmV1ZVxcXCIsQXJpYWwsSGVsdmV0aWNhLHNhbnMtc2VyaWZ9LmxlYWZsZXQtYmFyey13ZWJraXQtYm94LXNoYWRvdzowIDFweCA1cHggcmdiYSgwLDAsMCwuNjUpO2JveC1zaGFkb3c6MCAxcHggNXB4IHJnYmEoMCwwLDAsLjY1KTtib3JkZXItcmFkaXVzOjRweH0ubGVhZmxldC1iYXIgYSwubGVhZmxldC1iYXIgYTpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOiNmZmY7Ym9yZGVyLWJvdHRvbToxcHggc29saWQgI2NjYzt3aWR0aDoyNnB4O2hlaWdodDoyNnB4O2xpbmUtaGVpZ2h0OjI2cHg7ZGlzcGxheTpibG9jazt0ZXh0LWFsaWduOmNlbnRlcjt0ZXh0LWRlY29yYXRpb246bm9uZTtjb2xvcjojMDAwfS5sZWFmbGV0LWJhciBhLC5sZWFmbGV0LWNvbnRyb2wtbGF5ZXJzLXRvZ2dsZXtiYWNrZ3JvdW5kLXBvc2l0aW9uOjUwJSA1MCU7YmFja2dyb3VuZC1yZXBlYXQ6bm8tcmVwZWF0O2Rpc3BsYXk6YmxvY2t9LmxlYWZsZXQtYmFyIGE6aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjojZjRmNGY0fS5sZWFmbGV0LWJhciBhOmZpcnN0LWNoaWxke2JvcmRlci10b3AtbGVmdC1yYWRpdXM6NHB4O2JvcmRlci10b3AtcmlnaHQtcmFkaXVzOjRweH0ubGVhZmxldC1iYXIgYTpsYXN0LWNoaWxke2JvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6NHB4O2JvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOjRweDtib3JkZXItYm90dG9tOm5vbmV9LmxlYWZsZXQtYmFyIGEubGVhZmxldC1kaXNhYmxlZHtjdXJzb3I6ZGVmYXVsdDtiYWNrZ3JvdW5kLWNvbG9yOiNmNGY0ZjQ7Y29sb3I6I2JiYn0ubGVhZmxldC10b3VjaCAubGVhZmxldC1iYXIgYXt3aWR0aDozMHB4O2hlaWdodDozMHB4O2xpbmUtaGVpZ2h0OjMwcHh9LmxlYWZsZXQtY29udHJvbC16b29tLWluLC5sZWFmbGV0LWNvbnRyb2wtem9vbS1vdXR7Zm9udDo3MDAgMThweCAnTHVjaWRhIENvbnNvbGUnLE1vbmFjbyxtb25vc3BhY2U7dGV4dC1pbmRlbnQ6MXB4fS5sZWFmbGV0LWNvbnRyb2wtem9vbS1vdXR7Zm9udC1zaXplOjIwcHh9LmxlYWZsZXQtdG91Y2ggLmxlYWZsZXQtY29udHJvbC16b29tLWlue2ZvbnQtc2l6ZToyMnB4fS5sZWFmbGV0LXRvdWNoIC5sZWFmbGV0LWNvbnRyb2wtem9vbS1vdXR7Zm9udC1zaXplOjI0cHh9LmxlYWZsZXQtY29udHJvbC1sYXllcnN7LXdlYmtpdC1ib3gtc2hhZG93OjAgMXB4IDVweCByZ2JhKDAsMCwwLC40KTtib3gtc2hhZG93OjAgMXB4IDVweCByZ2JhKDAsMCwwLC40KTtiYWNrZ3JvdW5kOiNmZmY7Ym9yZGVyLXJhZGl1czo1cHh9LmxlYWZsZXQtY29udHJvbC1sYXllcnMtdG9nZ2xle2JhY2tncm91bmQtaW1hZ2U6dXJsKGRpc3QvY3NzL2ltYWdlcy9sYXllcnMucG5nKTt3aWR0aDozNnB4O2hlaWdodDozNnB4fS5sZWFmbGV0LXJldGluYSAubGVhZmxldC1jb250cm9sLWxheWVycy10b2dnbGV7YmFja2dyb3VuZC1pbWFnZTp1cmwoZGlzdC9jc3MvaW1hZ2VzL2xheWVycy0yeC5wbmcpO2JhY2tncm91bmQtc2l6ZToyNnB4IDI2cHh9LmxlYWZsZXQtdG91Y2ggLmxlYWZsZXQtY29udHJvbC1sYXllcnMtdG9nZ2xle3dpZHRoOjQ0cHg7aGVpZ2h0OjQ0cHh9LmxlYWZsZXQtY29udHJvbC1sYXllcnMgLmxlYWZsZXQtY29udHJvbC1sYXllcnMtbGlzdCwubGVhZmxldC1jb250cm9sLWxheWVycy1leHBhbmRlZCAubGVhZmxldC1jb250cm9sLWxheWVycy10b2dnbGV7ZGlzcGxheTpub25lfS5sZWFmbGV0LWNvbnRyb2wtbGF5ZXJzLWV4cGFuZGVkIC5sZWFmbGV0LWNvbnRyb2wtbGF5ZXJzLWxpc3R7ZGlzcGxheTpibG9jaztwb3NpdGlvbjpyZWxhdGl2ZX0ubGVhZmxldC1jb250cm9sLWxheWVycy1leHBhbmRlZHtwYWRkaW5nOjZweCAxMHB4IDZweCA2cHg7Y29sb3I6IzMzMztiYWNrZ3JvdW5kOiNmZmZ9LmxlYWZsZXQtY29udHJvbC1sYXllcnMtc2Nyb2xsYmFye292ZXJmbG93LXk6c2Nyb2xsO3BhZGRpbmctcmlnaHQ6NXB4fS5sZWFmbGV0LWNvbnRyb2wtbGF5ZXJzLXNlbGVjdG9ye21hcmdpbi10b3A6MnB4O3Bvc2l0aW9uOnJlbGF0aXZlO3RvcDoxcHh9LmxlYWZsZXQtY29udHJvbC1sYXllcnMgbGFiZWx7ZGlzcGxheTpibG9ja30ubGVhZmxldC1jb250cm9sLWxheWVycy1zZXBhcmF0b3J7aGVpZ2h0OjA7Ym9yZGVyLXRvcDoxcHggc29saWQgI2RkZDttYXJnaW46NXB4IC0xMHB4IDVweCAtNnB4fS5sZWFmbGV0LWRlZmF1bHQtaWNvbi1wYXRoe2JhY2tncm91bmQtaW1hZ2U6dXJsKGRpc3QvY3NzL2ltYWdlcy9tYXJrZXItaWNvbi5wbmcpfS5sZWFmbGV0LWNvbnRhaW5lciAubGVhZmxldC1jb250cm9sLWF0dHJpYnV0aW9ue2JhY2tncm91bmQ6I2ZmZjtiYWNrZ3JvdW5kOnJnYmEoMjU1LDI1NSwyNTUsLjcpO21hcmdpbjowfS5sZWFmbGV0LWNvbnRyb2wtYXR0cmlidXRpb24sLmxlYWZsZXQtY29udHJvbC1zY2FsZS1saW5le3BhZGRpbmc6MCA1cHg7Y29sb3I6IzMzM30ubGVhZmxldC1jb250cm9sLWF0dHJpYnV0aW9uIGF7dGV4dC1kZWNvcmF0aW9uOm5vbmV9LmxlYWZsZXQtY29udHJvbC1hdHRyaWJ1dGlvbiBhOmhvdmVye3RleHQtZGVjb3JhdGlvbjp1bmRlcmxpbmV9LmxlYWZsZXQtY29udGFpbmVyIC5sZWFmbGV0LWNvbnRyb2wtYXR0cmlidXRpb24sLmxlYWZsZXQtY29udGFpbmVyIC5sZWFmbGV0LWNvbnRyb2wtc2NhbGV7Zm9udC1zaXplOjExcHh9LmxlYWZsZXQtbGVmdCAubGVhZmxldC1jb250cm9sLXNjYWxle21hcmdpbi1sZWZ0OjVweH0ubGVhZmxldC1ib3R0b20gLmxlYWZsZXQtY29udHJvbC1zY2FsZXttYXJnaW4tYm90dG9tOjVweH0ubGVhZmxldC1jb250cm9sLXNjYWxlLWxpbmV7Ym9yZGVyOjJweCBzb2xpZCAjNzc3O2JvcmRlci10b3A6bm9uZTtsaW5lLWhlaWdodDoxLjE7cGFkZGluZzoycHggNXB4IDFweDtmb250LXNpemU6MTFweDt3aGl0ZS1zcGFjZTpub3dyYXA7b3ZlcmZsb3c6aGlkZGVuOy13ZWJraXQtYm94LXNpemluZzpib3JkZXItYm94O2JveC1zaXppbmc6Ym9yZGVyLWJveDtiYWNrZ3JvdW5kOiNmZmY7YmFja2dyb3VuZDpyZ2JhKDI1NSwyNTUsMjU1LC41KX0ubGVhZmxldC1jb250cm9sLXNjYWxlLWxpbmU6bm90KDpmaXJzdC1jaGlsZCl7Ym9yZGVyLXRvcDoycHggc29saWQgIzc3Nztib3JkZXItYm90dG9tOm5vbmU7bWFyZ2luLXRvcDotMnB4fS5sZWFmbGV0LWNvbnRyb2wtc2NhbGUtbGluZTpub3QoOmZpcnN0LWNoaWxkKTpub3QoOmxhc3QtY2hpbGQpe2JvcmRlci1ib3R0b206MnB4IHNvbGlkICM3Nzd9LmxlYWZsZXQtdG91Y2ggLmxlYWZsZXQtYmFyLC5sZWFmbGV0LXRvdWNoIC5sZWFmbGV0LWNvbnRyb2wtYXR0cmlidXRpb24sLmxlYWZsZXQtdG91Y2ggLmxlYWZsZXQtY29udHJvbC1sYXllcnN7LXdlYmtpdC1ib3gtc2hhZG93Om5vbmU7Ym94LXNoYWRvdzpub25lfS5sZWFmbGV0LXRvdWNoIC5sZWFmbGV0LWJhciwubGVhZmxldC10b3VjaCAubGVhZmxldC1jb250cm9sLWxheWVyc3tib3JkZXI6MnB4IHNvbGlkIHJnYmEoMCwwLDAsLjIpO2JhY2tncm91bmQtY2xpcDpwYWRkaW5nLWJveH0ubGVhZmxldC1wb3B1cHtwb3NpdGlvbjphYnNvbHV0ZTt0ZXh0LWFsaWduOmNlbnRlcn0ubGVhZmxldC1wb3B1cC1jb250ZW50LXdyYXBwZXJ7dGV4dC1hbGlnbjpsZWZ0fS5sZWFmbGV0LXBvcHVwLXRpcC1jb250YWluZXJ7d2lkdGg6NDBweDtwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjUwJTttYXJnaW4tbGVmdDotMjBweDtvdmVyZmxvdzpoaWRkZW47cG9pbnRlci1ldmVudHM6bm9uZX0ubGVhZmxldC1wb3B1cC10aXB7d2lkdGg6MTdweDtoZWlnaHQ6MTdweDtwYWRkaW5nOjFweDttYXJnaW46LTEwcHggYXV0byAwOy13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSg0NWRlZyk7LW1zLXRyYW5zZm9ybTpyb3RhdGUoNDVkZWcpO3RyYW5zZm9ybTpyb3RhdGUoNDVkZWcpfS5sZWFmbGV0LXBvcHVwLWNvbnRlbnQtd3JhcHBlciwubGVhZmxldC1wb3B1cC10aXB7YmFja2dyb3VuZDojZmZmO2NvbG9yOiMzMzM7LXdlYmtpdC1ib3gtc2hhZG93OjAgM3B4IDE0cHggcmdiYSgwLDAsMCwuNCk7Ym94LXNoYWRvdzowIDNweCAxNHB4IHJnYmEoMCwwLDAsLjQpfS5sZWFmbGV0LWNvbnRhaW5lciBhLmxlYWZsZXQtcG9wdXAtY2xvc2UtYnV0dG9ue2JvcmRlcjpub25lO2ZvbnQ6MTZweC8xNHB4IFRhaG9tYSxWZXJkYW5hLHNhbnMtc2VyaWY7Y29sb3I6I2MzYzNjMzt0ZXh0LWRlY29yYXRpb246bm9uZTtiYWNrZ3JvdW5kOjAgMH0ubGVhZmxldC1jb250YWluZXIgYS5sZWFmbGV0LXBvcHVwLWNsb3NlLWJ1dHRvbjpob3Zlcntjb2xvcjojOTk5fS5sZWFmbGV0LW9sZGllIC5sZWFmbGV0LXBvcHVwLWNvbnRlbnQtd3JhcHBlcnt6b29tOjF9LmxlYWZsZXQtb2xkaWUgLmxlYWZsZXQtcG9wdXAtdGlwe3dpZHRoOjI0cHg7bWFyZ2luOjAgYXV0bzstbXMtZmlsdGVyOlxcXCJwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuTWF0cml4KE0xMT0wLjcwNzEwNjc4LCBNMTI9MC43MDcxMDY3OCwgTTIxPS0wLjcwNzEwNjc4LCBNMjI9MC43MDcxMDY3OClcXFwiO2ZpbHRlcjpwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuTWF0cml4KE0xMT0uNzA3MTA2NzgsIE0xMj0uNzA3MTA2NzgsIE0yMT0tLjcwNzEwNjc4LCBNMjI9LjcwNzEwNjc4KX0ubGVhZmxldC1vbGRpZSAubGVhZmxldC1wb3B1cC10aXAtY29udGFpbmVye21hcmdpbi10b3A6LTFweH0ubGVhZmxldC1vbGRpZSAubGVhZmxldC1jb250cm9sLWxheWVycywubGVhZmxldC1vbGRpZSAubGVhZmxldC1jb250cm9sLXpvb20sLmxlYWZsZXQtb2xkaWUgLmxlYWZsZXQtcG9wdXAtY29udGVudC13cmFwcGVyLC5sZWFmbGV0LW9sZGllIC5sZWFmbGV0LXBvcHVwLXRpcHtib3JkZXI6MXB4IHNvbGlkICM5OTl9LmxlYWZsZXQtZGl2LWljb257YmFja2dyb3VuZDojZmZmO2JvcmRlcjoxcHggc29saWQgIzY2Nn0ubGVhZmxldC10b29sdGlwe3Bvc2l0aW9uOmFic29sdXRlO3BhZGRpbmc6NnB4O2JhY2tncm91bmQtY29sb3I6I2ZmZjtib3JkZXI6MXB4IHNvbGlkICNmZmY7Ym9yZGVyLXJhZGl1czozcHg7Y29sb3I6IzIyMjt3aGl0ZS1zcGFjZTpub3dyYXA7LXdlYmtpdC11c2VyLXNlbGVjdDpub25lOy1tb3otdXNlci1zZWxlY3Q6bm9uZTstbXMtdXNlci1zZWxlY3Q6bm9uZTt1c2VyLXNlbGVjdDpub25lO3BvaW50ZXItZXZlbnRzOm5vbmU7LXdlYmtpdC1ib3gtc2hhZG93OjAgMXB4IDNweCByZ2JhKDAsMCwwLC40KTtib3gtc2hhZG93OjAgMXB4IDNweCByZ2JhKDAsMCwwLC40KX0ubGVhZmxldC10b29sdGlwLmxlYWZsZXQtY2xpY2thYmxle2N1cnNvcjpwb2ludGVyO3BvaW50ZXItZXZlbnRzOmF1dG99LmxlYWZsZXQtdG9vbHRpcC1ib3R0b206YmVmb3JlLC5sZWFmbGV0LXRvb2x0aXAtbGVmdDpiZWZvcmUsLmxlYWZsZXQtdG9vbHRpcC1yaWdodDpiZWZvcmUsLmxlYWZsZXQtdG9vbHRpcC10b3A6YmVmb3Jle3Bvc2l0aW9uOmFic29sdXRlO3BvaW50ZXItZXZlbnRzOm5vbmU7Ym9yZGVyOjZweCBzb2xpZCB0cmFuc3BhcmVudDtiYWNrZ3JvdW5kOjAgMDtjb250ZW50OlxcXCJcXFwifS5sZWFmbGV0LXRvb2x0aXAtYm90dG9te21hcmdpbi10b3A6NnB4fS5sZWFmbGV0LXRvb2x0aXAtdG9we21hcmdpbi10b3A6LTZweH0ubGVhZmxldC10b29sdGlwLWJvdHRvbTpiZWZvcmUsLmxlYWZsZXQtdG9vbHRpcC10b3A6YmVmb3Jle2xlZnQ6NTAlO21hcmdpbi1sZWZ0Oi02cHh9LmxlYWZsZXQtdG9vbHRpcC10b3A6YmVmb3Jle2JvdHRvbTowO21hcmdpbi1ib3R0b206LTEycHg7Ym9yZGVyLXRvcC1jb2xvcjojZmZmfS5sZWFmbGV0LXRvb2x0aXAtYm90dG9tOmJlZm9yZXt0b3A6MDttYXJnaW4tdG9wOi0xMnB4O21hcmdpbi1sZWZ0Oi02cHg7Ym9yZGVyLWJvdHRvbS1jb2xvcjojZmZmfS5sZWFmbGV0LXRvb2x0aXAtbGVmdHttYXJnaW4tbGVmdDotNnB4fS5sZWFmbGV0LXRvb2x0aXAtcmlnaHR7bWFyZ2luLWxlZnQ6NnB4fS5sZWFmbGV0LXRvb2x0aXAtbGVmdDpiZWZvcmUsLmxlYWZsZXQtdG9vbHRpcC1yaWdodDpiZWZvcmV7dG9wOjUwJTttYXJnaW4tdG9wOi02cHh9LmxlYWZsZXQtdG9vbHRpcC1sZWZ0OmJlZm9yZXtyaWdodDowO21hcmdpbi1yaWdodDotMTJweDtib3JkZXItbGVmdC1jb2xvcjojZmZmfS5sZWFmbGV0LXRvb2x0aXAtcmlnaHQ6YmVmb3Jle2xlZnQ6MDttYXJnaW4tbGVmdDotMTJweDtib3JkZXItcmlnaHQtY29sb3I6I2ZmZn1bY2xhc3NePWRnLV0sW2NsYXNzXj1kZy1dOmFmdGVyLFtjbGFzc149ZGctXTpiZWZvcmV7LXdlYmtpdC1ib3gtc2l6aW5nOmNvbnRlbnQtYm94O2JveC1zaXppbmc6Y29udGVudC1ib3g7bWFyZ2luOjA7cGFkZGluZzowO3ZlcnRpY2FsLWFsaWduOmJhc2VsaW5lO2ZvbnQtd2VpZ2h0OmluaGVyaXQ7Zm9udC1zdHlsZTppbmhlcml0O2ZvbnQtc2l6ZToxZW07Zm9udC1mYW1pbHk6aW5oZXJpdDtsaW5lLWhlaWdodDoxLjJ9W2NsYXNzXj1kZy1dPltjbGFzc149ZGctXTpsYXN0LWNoaWxke21hcmdpbi1ib3R0b206MH1bY2xhc3NePWRnLV0gYWJicixbY2xhc3NePWRnLV0gZmllbGRzZXQsW2NsYXNzXj1kZy1dIGltZ3tib3JkZXI6MH1bY2xhc3NePWRnLV0gYmxvY2txdW90ZSxbY2xhc3NePWRnLV0gcXtxdW90ZXM6bm9uZX1bY2xhc3NePWRnLV0gYmxvY2txdW90ZTphZnRlcixbY2xhc3NePWRnLV0gYmxvY2txdW90ZTpiZWZvcmUsW2NsYXNzXj1kZy1dIHE6YWZ0ZXIsW2NsYXNzXj1kZy1dIHE6YmVmb3Jle2NvbnRlbnQ6Jyc7Y29udGVudDpub25lfVtjbGFzc149ZGctXSBvbCxbY2xhc3NePWRnLV0gdWx7bGlzdC1zdHlsZTpub25lfVtjbGFzc149ZGctXSB0YWJsZXtib3JkZXItc3BhY2luZzowO2JvcmRlci1jb2xsYXBzZTpjb2xsYXBzZX1bY2xhc3NePWRnLV0gY2FwdGlvbixbY2xhc3NePWRnLV0gdGh7dGV4dC1hbGlnbjpsZWZ0fVtjbGFzc149ZGctXSB0ZCxbY2xhc3NePWRnLV0gdGh7dmVydGljYWwtYWxpZ246bWlkZGxlfVtjbGFzc149ZGctXSBidXR0b246Oi1tb3otZm9jdXMtaW5uZXIsW2NsYXNzXj1kZy1dIGlucHV0OjotbW96LWZvY3VzLWlubmVye3BhZGRpbmc6MDtib3JkZXI6MH0uZGctbGFiZWx7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7bGVmdDowO21heC13aWR0aDpub25lO21heC1oZWlnaHQ6bm9uZTt3aWR0aDozMDBweDstd2Via2l0LXVzZXItc2VsZWN0Om5vbmU7LW1vei11c2VyLXNlbGVjdDpub25lOy1tcy11c2VyLXNlbGVjdDpub25lO3VzZXItc2VsZWN0Om5vbmV9LmRnLWxhYmVsX19jb250ZW50e2Rpc3BsYXk6aW5saW5lLWJsb2NrO292ZXJmbG93OmhpZGRlbjtwYWRkaW5nOjNweCA3cHg7bWluLXdpZHRoOjMwcHg7bWF4LXdpZHRoOjMwMHB4O3dpZHRoOmF1dG87Ym9yZGVyLXdpZHRoOjFweDtib3JkZXItc3R5bGU6c29saWQ7Ym9yZGVyLXJhZGl1czoycHg7dmVydGljYWwtYWxpZ246dG9wO2ZvbnQtc2l6ZToxMnB4fS5sZWFmbGV0LXRvcCAuZGctbGFiZWxfbmFtZV9sb2NhdGlvbi1lcnJvcnt0b3A6NXB4fS5sZWFmbGV0LXJpZ2h0IC5kZy1sYWJlbF9uYW1lX2xvY2F0aW9uLWVycm9ye3JpZ2h0OjQwcHg7bGVmdDphdXRvO3RleHQtYWxpZ246cmlnaHR9LmxlYWZsZXQtYm90dG9tIC5kZy1sYWJlbF9uYW1lX2xvY2F0aW9uLWVycm9ye3RvcDo0cHh9LmxlYWZsZXQtbGVmdCAuZGctbGFiZWxfbmFtZV9sb2NhdGlvbi1lcnJvcntsZWZ0OjQwcHh9LmRnLWxhYmVsX19jb250ZW50e2JvcmRlci1jb2xvcjojMzIzMjMyO2JvcmRlci1jb2xvcjpyZ2JhKDUwLDUwLDUwLC44NSk7YmFja2dyb3VuZDojMzIzMjMyO2JhY2tncm91bmQ6cmdiYSg1MCw1MCw1MCwuODUpO2NvbG9yOiNmZmQyNmV9LmxlYWZsZXQtcG9wdXB7bWFyZ2luLWJvdHRvbTowfS5sZWFmbGV0LXBvcHVwLXRpcC1jb250YWluZXJ7aGVpZ2h0OjB9LmxlYWZsZXQtcG9wdXAtY29udGVudC13cmFwcGVye292ZXJmbG93OmhpZGRlbjtwYWRkaW5nOjA7bWluLXdpZHRoOjYwcHg7bWluLWhlaWdodDo1MHB4O2JvcmRlcjowO2JvcmRlci1yYWRpdXM6M3B4O2JhY2tncm91bmQ6MCAwOy13ZWJraXQtYm94LXNoYWRvdzpub25lO2JveC1zaGFkb3c6bm9uZTtjb2xvcjojZTZlNmU2O2ZvbnQtc2l6ZToxNHB4Oy13ZWJraXQtdHJhbnNpdGlvbjpvcGFjaXR5IGVhc2Utb3V0IC4ycyxtYXgtaGVpZ2h0IGVhc2Utb3V0IC4ycyxoZWlnaHQgZWFzZS1vdXQgLjJzO3RyYW5zaXRpb246b3BhY2l0eSBlYXNlLW91dCAuMnMsbWF4LWhlaWdodCBlYXNlLW91dCAuMnMsaGVpZ2h0IGVhc2Utb3V0IC4yczstd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46NTAlIDEwMCU7LW1zLXRyYW5zZm9ybS1vcmlnaW46NTAlIDEwMCU7dHJhbnNmb3JtLW9yaWdpbjo1MCUgMTAwJX0ubGVhZmxldC1wb3B1cC1jb250ZW50LXdyYXBwZXI6YmVmb3Jle2Zsb2F0OnJpZ2h0O3dpZHRoOjMwcHg7aGVpZ2h0OjE3cHg7Y29udGVudDonJ30ubGVhZmxldC1wb3B1cC1jb250ZW50e3Bvc2l0aW9uOnJlbGF0aXZlO21hcmdpbjoxNnB4O3dpZHRoOmF1dG87bGluZS1oZWlnaHQ6MS40fS5sZWFmbGV0LXBvcHVwIGF7b3V0bGluZTowfS5sZWFmbGV0LXBvcHVwLWNvbnRlbnQgcHttYXJnaW46MH0ubGVhZmxldC1wb3B1cC1zY3JvbGxlZHtvdmVyZmxvdzp2aXNpYmxlO2JvcmRlcjowfS5sZWFmbGV0LXBvcHVwLWlubmVye3Bvc2l0aW9uOnJlbGF0aXZlO3otaW5kZXg6MH0ubGVhZmxldC1wb3B1cF9zaG93X3RydWV7LXdlYmtpdC10cmFuc2l0aW9uOm9wYWNpdHkgZWFzZS1pbi1vdXQgLjJzLGhlaWdodCBlYXNlLW91dCAuMnMsLXdlYmtpdC10cmFuc2Zvcm0gZWFzZS1pbi1vdXQgLjJzO3RyYW5zaXRpb246b3BhY2l0eSBlYXNlLWluLW91dCAuMnMsaGVpZ2h0IGVhc2Utb3V0IC4ycywtd2Via2l0LXRyYW5zZm9ybSBlYXNlLWluLW91dCAuMnM7dHJhbnNpdGlvbjp0cmFuc2Zvcm0gZWFzZS1pbi1vdXQgLjJzLG9wYWNpdHkgZWFzZS1pbi1vdXQgLjJzLGhlaWdodCBlYXNlLW91dCAuMnM7dHJhbnNpdGlvbjp0cmFuc2Zvcm0gZWFzZS1pbi1vdXQgLjJzLG9wYWNpdHkgZWFzZS1pbi1vdXQgLjJzLGhlaWdodCBlYXNlLW91dCAuMnMsLXdlYmtpdC10cmFuc2Zvcm0gZWFzZS1pbi1vdXQgLjJzOy13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKDEpOy1tcy10cmFuc2Zvcm06c2NhbGUoMSk7dHJhbnNmb3JtOnNjYWxlKDEpfS5sZWFmbGV0LXBvcHVwX3Nob3dfZmFsc2V7b3BhY2l0eTowIWltcG9ydGFudDstd2Via2l0LXRyYW5zaXRpb246YWxsIGVhc2UtaW4tb3V0IC4xczt0cmFuc2l0aW9uOmFsbCBlYXNlLWluLW91dCAuMXM7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoMC4yKTstbXMtdHJhbnNmb3JtOnNjYWxlKDAuMik7dHJhbnNmb3JtOnNjYWxlKDAuMil9LmxlYWZsZXQtcG9wdXBfcHJlbG9hZGVyX3RydWV7d2lkdGg6Mzg0cHg7aGVpZ2h0OjUycHh9LmxlYWZsZXQtbWFwLXBhbmUgLmxlYWZsZXQtcG9wdXAtdGlwLWNvbnRhaW5lcntwb3NpdGlvbjphYnNvbHV0ZTt0b3A6YXV0bztib3R0b206MDtsZWZ0OjUwJTttYXJnaW4tbGVmdDotMjlweDt3aWR0aDo1OHB4O2hlaWdodDo0N3B4O2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKDQ3cHgpOy1tcy10cmFuc2Zvcm06dHJhbnNsYXRlWSg0N3B4KTt0cmFuc2Zvcm06dHJhbnNsYXRlWSg0N3B4KTtwb2ludGVyLWV2ZW50czpub25lfS5sZWFmbGV0LXBvcHVwLXRpcHtkaXNwbGF5Om5vbmV9LmxlYWZsZXQtcG9wdXAtdGlwLWNvbnRhaW5lcl9zdmd7YmFja2dyb3VuZC1yZXBlYXQ6bm8tcmVwZWF0O2JhY2tncm91bmQtaW1hZ2U6dXJsKGh0dHBzOi8vbWFwcy5hcGkuMmdpcy5ydS8yLjAvaW1nL0RHUG9wdXBfX3BvcHVwU2hhZG93LnBuZyk7YmFja2dyb3VuZC1wb3NpdGlvbjo1MCUgOTUlO2JhY2tncm91bmQtc2l6ZTozNnB4IDEycHh9LmxlYWZsZXQtcmV0aW5hIC5sZWFmbGV0LXBvcHVwLXRpcC1jb250YWluZXJfc3Zne2JhY2tncm91bmQtaW1hZ2U6dXJsKGh0dHBzOi8vbWFwcy5hcGkuMmdpcy5ydS8yLjAvaW1nL0RHUG9wdXBfX3BvcHVwU2hhZG93QDJ4LnBuZyl9LmxlYWZsZXQtY29udGFpbmVyIGEubGVhZmxldC1wb3B1cC1jbG9zZS1idXR0b257cG9zaXRpb246YWJzb2x1dGU7dG9wOjNweDtyaWdodDozcHg7ei1pbmRleDoxO292ZXJmbG93OmhpZGRlbjtwYWRkaW5nOjA7d2lkdGg6MzBweDtoZWlnaHQ6MzBweDt0ZXh0LWFsaWduOmNlbnRlcjtmb250LXdlaWdodDo0MDA7Zm9udC1zaXplOjE4cHg7bGluZS1oZWlnaHQ6MzBweDtjdXJzb3I6cG9pbnRlcn0ubm8tdG91Y2ggLmxlYWZsZXQtY29udGFpbmVyIGEubGVhZmxldC1wb3B1cC1jbG9zZS1idXR0b246aG92ZXJ7Ym9yZGVyLXJhZGl1czoycHg7LXdlYmtpdC10cmFuc2l0aW9uOmFsbCAuMnM7dHJhbnNpdGlvbjphbGwgLjJzfS5sZWFmbGV0LWNvbnRhaW5lciBhLmxlYWZsZXQtcG9wdXAtY2xvc2UtYnV0dG9uOmFjdGl2ZXtjb2xvcjojNzc3fS5sZWFmbGV0LWNvbnRhaW5lciBhLmxlYWZsZXQtcG9wdXAtY2xvc2UtYnV0dG9uOmFmdGVye3Bvc2l0aW9uOmFic29sdXRlO3otaW5kZXg6Mjtjb250ZW50OicnfS5sZWFmbGV0LXBvcHVwLWNvbnRlbnQtd3JhcHBlcntiYWNrZ3JvdW5kLWNvbG9yOnJnYmEoNTAsNTAsNTAsLjkpfS5sZWFmbGV0LXBvcHVwLXRpcC1jb250YWluZXJfaW1hZ2V7YmFja2dyb3VuZC1yZXBlYXQ6bm8tcmVwZWF0O2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnJTIweG1sbnMlM0QlMjJodHRwJTNBJTJGJTJGd3d3LnczLm9yZyUyRjIwMDAlMkZzdmclMjIlMjB3aWR0aCUzRCUyMjU4JTIyJTIwaGVpZ2h0JTNEJTIyNDclMjIlM0UlMEElMjAlMjAlMjAlMjAlM0NwYXRoJTIwZCUzRCUyMk0wJTIwMGMxMi42NDMlMjAwJTIwMjglMjA3LjExNSUyMDI4JTIwNDRoMmMwLTM2Ljg4NSUyMDE1LjM1OC00NCUyMDI4LTQ0aC01OHolMjIlMjBmaWxsJTNEJTIycmdiYSg1MCUyQzUwJTJDNTAlMkMuOSklMjIlM0UlM0MlMkZwYXRoJTNFJTBBJTNDJTJGc3ZnJTNFJTBBXFxcIil9LmxlYWZsZXQtbWFwLXBhbmUgLmxlYWZsZXQtcG9wdXAtdGlwLWNvbnRhaW5lcl9zdmd7ZmlsbDpyZ2JhKDUwLDUwLDUwLC45KX0ubm8tdG91Y2ggLmxlYWZsZXQtY29udGFpbmVyIGEubGVhZmxldC1wb3B1cC1jbG9zZS1idXR0b246aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjojMjIyOy13ZWJraXQtYm94LXNoYWRvdzowIDFweCAzcHggcmdiYSgwLDAsMCwuNSk7Ym94LXNoYWRvdzowIDFweCAzcHggcmdiYSgwLDAsMCwuNSl9LmxlYWZsZXQtY29udGFpbmVyIGEubGVhZmxldC1wb3B1cC1jbG9zZS1idXR0b246YWZ0ZXJ7dG9wOi0zcHg7cmlnaHQ6LTVweDt3aWR0aDo0MHB4O2hlaWdodDo0MHB4fS5kZy13cmFwcGVye3Bvc2l0aW9uOnJlbGF0aXZlO292ZXJmbG93OmhpZGRlbn0uZGctc2Nyb2xsZXJ7aGVpZ2h0OjEwMCU7b3ZlcmZsb3cteTpzY3JvbGw7Ym9yZGVyOjB9LmRnLXNjcm9sbGVyX19iYXJ7ei1pbmRleDoxO3JpZ2h0OjA7YmFja2dyb3VuZDojOTk5fS5kZy1zY3JvbGxlcl9fYmFyX2h7Ym90dG9tOjJweDtoZWlnaHQ6OHB4fS5kZy1oZWFkZXJfX3RpdGxle3dpZHRoOjEwMCU7bWFyZ2luOjA7LXdlYmtpdC1ib3gtc2l6aW5nOmJvcmRlci1ib3g7Ym94LXNpemluZzpib3JkZXItYm94O2JhY2tncm91bmQ6Izk5OX0uZGctaGVhZGVyX190aXRsZV9zdGF0ZV9maXhlZHtwb3NpdGlvbjphYnNvbHV0ZTt6LWluZGV4OjF9LmRnLXNjcm9sbGVyX2hpZGRlbl90cnVle292ZXJmbG93OmF1dG99LmRnLXNjcm9sbGVyOjotd2Via2l0LXNjcm9sbGJhcnt3aWR0aDowfS5kZy1zY3JvbGxlcl9fd3JhcHBlcntwb3NpdGlvbjpyZWxhdGl2ZTtvdmVyZmxvdzpoaWRkZW59LmRnLXNjcm9sbGVyX19iYXItd3JhcHBlcntwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MThweDtyaWdodDozcHg7Ym90dG9tOjRweDt3aWR0aDo3cHg7Ym9yZGVyLXJhZGl1czo1cHh9LmRnLXNjcm9sbGVyX2hpZGRlbl90cnVlIC5kZy1zY3JvbGxlcl9fYmFyLXdyYXBwZXJ7dmlzaWJpbGl0eTpoaWRkZW59LmRnLXBvcHVwX19oZWFkZXIrLmRnLXBvcHVwX19jb250YWluZXItd3JhcHBlciAuZGctc2Nyb2xsZXJfX2Jhci13cmFwcGVye3RvcDo0cHh9LmRnLXNjcm9sbGVyX19iYXJ7cG9zaXRpb246YWJzb2x1dGU7bWluLWhlaWdodDoyMHB4O3dpZHRoOjdweDtib3JkZXItcmFkaXVzOjNweDtwb2ludGVyLWV2ZW50czphdXRvfS5zY3JvbGxlcl9fYmFyLXdyYXBwZXIgLnNjcm9sbGVyX19iYXJ7YmFja2dyb3VuZC1jb2xvcjojNjY1YjRmfS5zY3JvbGxlcl9fYmFyLXdyYXBwZXI6aG92ZXIgLnNjcm9sbGVyX19iYXJ7YmFja2dyb3VuZC1jb2xvcjojODk3YTZifS5kZy1wb3B1cF9fY29udGFpbmVye21hcmdpbjowfS5sZWFmbGV0LXBvcHVwLXNjcm9sbGVkIC5kZy1wb3B1cF9fY29udGFpbmVye3BhZGRpbmc6OHB4IDE0cHggOHB4IDB9LmRnLXBvcHVwX19oZWFkZXJ7cG9zaXRpb246cmVsYXRpdmU7cGFkZGluZy1ib3R0b206MTJweH0ubGVhZmxldC1wb3B1cC1zY3JvbGxlZCAuZGctcG9wdXBfX2hlYWRlcjphZnRlcntwb3NpdGlvbjpyZWxhdGl2ZTt0b3A6MTJweDtkaXNwbGF5OmJsb2NrO3dpZHRoOjEwMCU7aGVpZ2h0OjFweDtjb250ZW50OicnfS5kZy1wb3B1cF9fZm9vdGVye3Bvc2l0aW9uOnJlbGF0aXZlO2JvdHRvbTowO292ZXJmbG93OmhpZGRlbn0ubGVhZmxldC1wb3B1cC1zY3JvbGxlZCAuZGctcG9wdXBfX2Zvb3RlcjpiZWZvcmV7ZGlzcGxheTpibG9jazt3aWR0aDoxMDAlO2hlaWdodDoxcHg7Y29udGVudDonJ30uZGctcG9wdXBfaGlkZGVuX3RydWV7ZGlzcGxheTpub25lfS5sZWFmbGV0LXBvcHVwLXNjcm9sbGVkIC5kZy1wb3B1cF9fZm9vdGVyOmJlZm9yZSwubGVhZmxldC1wb3B1cC1zY3JvbGxlZCAuZGctcG9wdXBfX2hlYWRlcjphZnRlcntib3JkZXItYm90dG9tOjFweCBzb2xpZCAjNjM2MzYzO2JhY2tncm91bmQtY29sb3I6IzQ5NDk0OX0uZGctY29udHJvbC1yb3VuZHtwb3NpdGlvbjpyZWxhdGl2ZTtwYWRkaW5nOjVweDt3aWR0aDozMHB4O2hlaWdodDozMHB4O2JvcmRlci1yYWRpdXM6NTAlO2N1cnNvcjpkZWZhdWx0fS5kZy1jb250cm9sLXJvdW5kX19pY29ue3Bvc2l0aW9uOnJlbGF0aXZlO2Rpc3BsYXk6YmxvY2s7d2lkdGg6MzBweDtoZWlnaHQ6MzBweDtib3JkZXItcmFkaXVzOjUwJTtiYWNrZ3JvdW5kLWNvbG9yOiNmMGYwZjA7YmFja2dyb3VuZC1pbWFnZTotd2Via2l0LWdyYWRpZW50KGxpbmVhcixsZWZ0IHRvcCxsZWZ0IGJvdHRvbSxjb2xvci1zdG9wKDAsI2ZmZiksdG8oI2UwZTBlMCkpO2JhY2tncm91bmQtaW1hZ2U6LXdlYmtpdC1saW5lYXItZ3JhZGllbnQodG9wLCNmZmYgMCwjZTBlMGUwIDEwMCUpO2JhY2tncm91bmQtaW1hZ2U6bGluZWFyLWdyYWRpZW50KHRvIGJvdHRvbSwjZmZmIDAsI2UwZTBlMCAxMDAlKTtjb2xvcjojMmIyYTI5O3RleHQtYWxpZ246Y2VudGVyO3RleHQtZGVjb3JhdGlvbjpub25lO3RleHQtc2hhZG93OjAgMXB4IDAgI2ZmZjtmb250LXNpemU6MjJweDtsaW5lLWhlaWdodDozMHB4O2N1cnNvcjpwb2ludGVyfS5uby10b3VjaCAuZGctY29udHJvbC1yb3VuZF9faWNvbjpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOiNmNWY1ZjU7YmFja2dyb3VuZC1pbWFnZTotd2Via2l0LWdyYWRpZW50KGxpbmVhcixsZWZ0IHRvcCxsZWZ0IGJvdHRvbSxjb2xvci1zdG9wKDAsI2ViZWJlYiksdG8oI2ZmZikpO2JhY2tncm91bmQtaW1hZ2U6LXdlYmtpdC1saW5lYXItZ3JhZGllbnQodG9wLCNlYmViZWIgMCwjZmZmIDEwMCUpO2JhY2tncm91bmQtaW1hZ2U6bGluZWFyLWdyYWRpZW50KHRvIGJvdHRvbSwjZWJlYmViIDAsI2ZmZiAxMDAlKX0uZGctY29udHJvbC1yb3VuZF9faWNvbjphY3RpdmUsLmRnLWNvbnRyb2wtcm91bmRfX2ljb25fc3RhdGVfYWN0aXZlLC5uby10b3VjaCAuZGctY29udHJvbC1yb3VuZF9faWNvbjphY3RpdmV7YmFja2dyb3VuZC1jb2xvcjojZWJlYmViO2JhY2tncm91bmQtaW1hZ2U6LXdlYmtpdC1ncmFkaWVudChsaW5lYXIsbGVmdCB0b3AsbGVmdCBib3R0b20sY29sb3Itc3RvcCgwLCNkNmQ2ZDYpLHRvKCNmZmYpKTtiYWNrZ3JvdW5kLWltYWdlOi13ZWJraXQtbGluZWFyLWdyYWRpZW50KHRvcCwjZDZkNmQ2IDAsI2ZmZiAxMDAlKTtiYWNrZ3JvdW5kLWltYWdlOmxpbmVhci1ncmFkaWVudCh0byBib3R0b20sI2Q2ZDZkNiAwLCNmZmYgMTAwJSl9LmxlYWZsZXQtZGlzYWJsZWQgLmRnLWNvbnRyb2wtcm91bmRfX2ljb24sLmxlYWZsZXQtZGlzYWJsZWQgLmRnLWNvbnRyb2wtcm91bmRfX2ljb246YWN0aXZlLC5uby10b3VjaCAubGVhZmxldC1kaXNhYmxlZCAuZGctY29udHJvbC1yb3VuZF9faWNvbjpob3ZlcntiYWNrZ3JvdW5kLWltYWdlOm5vbmU7Y3Vyc29yOmRlZmF1bHR9LmxlYWZsZXQtdG91Y2ggLmRnLWNvbnRyb2wtcm91bmRfX2ljb246YmVmb3Jle3Bvc2l0aW9uOmFic29sdXRlO3RvcDotMTBweDtyaWdodDotMTVweDtib3R0b206LTEwcHg7bGVmdDotMTVweDtjb250ZW50OicnfS5kZy1jb250cm9sLXJvdW5kX2lzLWhpZGRlbl90cnVle2Rpc3BsYXk6bm9uZX0uZGctY29udHJvbC1yb3VuZHtiYWNrZ3JvdW5kLWNvbG9yOiMzZDNkM2Q7LXdlYmtpdC1ib3gtc2hhZG93OjAgM3B4IDVweCAwIHJnYmEoMCwwLDAsLjMpO2JveC1zaGFkb3c6MCAzcHggNXB4IDAgcmdiYSgwLDAsMCwuMyl9LmRnLWNvbnRyb2wtcm91bmRfX2ljb257LXdlYmtpdC1ib3gtc2hhZG93OjAgMnB4IDJweCAwIHJnYmEoMCwwLDAsLjQpO2JveC1zaGFkb3c6MCAycHggMnB4IDAgcmdiYSgwLDAsMCwuNCl9Lm5vLXRvdWNoIC5kZy1jb250cm9sLXJvdW5kX19pY29uOmhvdmVyey13ZWJraXQtYm94LXNoYWRvdzppbnNldCAwIDFweCAjZmZmLDAgMCAwIDFweCByZ2JhKDAsMCwwLC4zKSwwIDFweCAwIDFweCByZ2JhKDAsMCwwLC40KTtib3gtc2hhZG93Omluc2V0IDAgMXB4ICNmZmYsMCAwIDAgMXB4IHJnYmEoMCwwLDAsLjMpLDAgMXB4IDAgMXB4IHJnYmEoMCwwLDAsLjQpfS5kZy1jb250cm9sLXJvdW5kX19pY29uOmFjdGl2ZSwuZGctY29udHJvbC1yb3VuZF9faWNvbl9zdGF0ZV9hY3RpdmUsLm5vLXRvdWNoIC5kZy1jb250cm9sLXJvdW5kX19pY29uOmFjdGl2ZXstd2Via2l0LWJveC1zaGFkb3c6aW5zZXQgMCAxcHggMXB4IDFweCByZ2JhKDAsMCwwLC4yKSwwIDAgMCAxcHggcmdiYSgwLDAsMCwuMyksMCAtMXB4IDFweCAwICMwMDA7Ym94LXNoYWRvdzppbnNldCAwIDFweCAxcHggMXB4IHJnYmEoMCwwLDAsLjIpLDAgMCAwIDFweCByZ2JhKDAsMCwwLC4zKSwwIC0xcHggMXB4IDAgIzAwMH0ubGVhZmxldC1kaXNhYmxlZCAuZGctY29udHJvbC1yb3VuZF9faWNvbiwubGVhZmxldC1kaXNhYmxlZCAuZGctY29udHJvbC1yb3VuZF9faWNvbjphY3RpdmUsLm5vLXRvdWNoIC5sZWFmbGV0LWRpc2FibGVkIC5kZy1jb250cm9sLXJvdW5kX19pY29uOmhvdmVye2JhY2tncm91bmQtY29sb3I6I2I4YjhiODstd2Via2l0LWJveC1zaGFkb3c6bm9uZTtib3gtc2hhZG93Om5vbmV9LmRnLW11c2V1bXtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0OjA7cmlnaHQ6MDt6LWluZGV4OjE1MDA7cGFkZGluZzo0cHggNXB4IDhweDtiYWNrZ3JvdW5kOiMzMzM7Y29sb3I6I2ZmZjtvcGFjaXR5Oi45Nzt0ZXh0LWFsaWduOmNlbnRlcn0uZGctbXVzZXVtLWJyb3dzZXJ7cG9zaXRpb246cmVsYXRpdmU7dG9wOjRweDtkaXNwbGF5OmlubGluZS1ibG9jazt3aWR0aDoxNnB4O2hlaWdodDoxNnB4O21hcmdpbjowIDRweDtiYWNrZ3JvdW5kOnVybChodHRwczovL21hcHMuYXBpLjJnaXMucnUvMi4wL2ltZy9ER011c2V1bS5qcGcpIGxlZnQgdG9wIG5vLXJlcGVhdH0uZGctbXVzZXVtX19jaHJvbWV7YmFja2dyb3VuZC1wb3NpdGlvbjowIDB9LmRnLW11c2V1bV9fY2hyb21lOmhvdmVye2JhY2tncm91bmQtcG9zaXRpb246MCAtMTZweH0uZGctbXVzZXVtX19maXJlZm94e2JhY2tncm91bmQtcG9zaXRpb246LTE2cHggMH0uZGctbXVzZXVtX19maXJlZm94OmhvdmVye2JhY2tncm91bmQtcG9zaXRpb246LTE2cHggLTE2cHh9LmRnLW11c2V1bV9fc2FmYXJpe2JhY2tncm91bmQtcG9zaXRpb246LTMycHggMH0uZGctbXVzZXVtX19zYWZhcmk6aG92ZXJ7YmFja2dyb3VuZC1wb3NpdGlvbjotMzJweCAtMTZweH0uZGctbXVzZXVtX19vcGVyYXt3aWR0aDoxNXB4O2JhY2tncm91bmQtcG9zaXRpb246LTQ4cHggMH0uZGctbXVzZXVtX19vcGVyYTpob3ZlcntiYWNrZ3JvdW5kLXBvc2l0aW9uOi00OHB4IC0xNnB4fS5kZy1tdXNldW1fX2lle3dpZHRoOjE3cHg7YmFja2dyb3VuZC1wb3NpdGlvbjotNjNweCAwfS5kZy1tdXNldW1fX2llOmhvdmVye2JhY2tncm91bmQtcG9zaXRpb246LTYzcHggLTE2cHh9LmRnLW11c2V1bV9fY2xvc2V7ZGlzcGxheTppbmxpbmUtYmxvY2s7bWFyZ2luOjAgNHB4O3dpZHRoOjlweDtoZWlnaHQ6OXB4O2JhY2tncm91bmQ6dXJsKGh0dHBzOi8vbWFwcy5hcGkuMmdpcy5ydS8yLjAvaW1nL0RHTXVzZXVtX2Nsb3NlLmdpZikgdG9wIGxlZnQgbm8tcmVwZWF0O2N1cnNvcjpwb2ludGVyfS5kZy1tdXNldW1fX2Nsb3NlOmhvdmVye29wYWNpdHk6LjZ9LmxlYWZsZXQtY29udGFpbmVye3otaW5kZXg6MDtiYWNrZ3JvdW5kOiNmN2YzZGY7Y3Vyc29yOmRlZmF1bHR9LmxlYWZsZXQtY29udGFpbmVyOi13ZWJraXQtZnVsbC1zY3JlZW57d2lkdGg6MTAwJSFpbXBvcnRhbnQ7aGVpZ2h0OjEwMCUhaW1wb3J0YW50fS5sZWFmbGV0LWNvbnRhaW5lcjotbW96LWZ1bGwtc2NyZWVue3dpZHRoOjEwMCUhaW1wb3J0YW50O2hlaWdodDoxMDAlIWltcG9ydGFudH0ubGVhZmxldC1jb250YWluZXI6LW1zLWZ1bGxzY3JlZW57d2lkdGg6MTAwJSFpbXBvcnRhbnQ7aGVpZ2h0OjEwMCUhaW1wb3J0YW50fS5sZWFmbGV0LWNvbnRhaW5lcjpmdWxsc2NyZWVue3dpZHRoOjEwMCUhaW1wb3J0YW50O2hlaWdodDoxMDAlIWltcG9ydGFudH0ubGVhZmxldC1kcmFnZ2luZywubGVhZmxldC1kcmFnZ2luZyAubGVhZmxldC1jbGlja2FibGUsLmxlYWZsZXQtZHJhZ2dpbmcgLmxlYWZsZXQtY29udGFpbmVye2N1cnNvcjptb3ZlfS5sZWFmbGV0LWNvbnRyb2wgYSwubGVhZmxldC1jb250cm9sIGE6Zm9jdXN7b3V0bGluZTowIWltcG9ydGFudH0ubGVhZmxldC1jb250YWluZXIgLmxlYWZsZXQtY29udHJvbC1hdHRyaWJ1dGlvbntiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50Oy13ZWJraXQtYm94LXNoYWRvdzpub25lO2JveC1zaGFkb3c6bm9uZX0uZGctY3VzdG9taXphdGlvbl9fbWFya2Vye2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdH0uZGctY3VzdG9taXphdGlvbl9fbWFya2VyOmJlZm9yZXtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0OjA7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTtiYWNrZ3JvdW5kLWltYWdlOmluaGVyaXQ7YmFja2dyb3VuZC1zaXplOmNvbnRhaW47YmFja2dyb3VuZC1yZXBlYXQ6bm8tcmVwZWF0Oy13ZWJraXQtdHJhbnNpdGlvbjpvcGFjaXR5IGVhc2UtaW4tb3V0IC4ycywtd2Via2l0LXRyYW5zZm9ybSBlYXNlLWluLW91dCAuMnM7dHJhbnNpdGlvbjpvcGFjaXR5IGVhc2UtaW4tb3V0IC4ycywtd2Via2l0LXRyYW5zZm9ybSBlYXNlLWluLW91dCAuMnM7dHJhbnNpdGlvbjpvcGFjaXR5IGVhc2UtaW4tb3V0IC4ycyx0cmFuc2Zvcm0gZWFzZS1pbi1vdXQgLjJzO3RyYW5zaXRpb246b3BhY2l0eSBlYXNlLWluLW91dCAuMnMsdHJhbnNmb3JtIGVhc2UtaW4tb3V0IC4ycywtd2Via2l0LXRyYW5zZm9ybSBlYXNlLWluLW91dCAuMnM7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoMSwxKTstbXMtdHJhbnNmb3JtOnNjYWxlKDEsMSk7dHJhbnNmb3JtOnNjYWxlKDEsMSk7LXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOjUwJSAxMDAlOy1tcy10cmFuc2Zvcm0tb3JpZ2luOjUwJSAxMDAlO3RyYW5zZm9ybS1vcmlnaW46NTAlIDEwMCV9LmRnLWN1c3RvbWl6YXRpb25fX21hcmtlcl90eXBlX211c2hyb29te2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDtiYWNrZ3JvdW5kLWltYWdlOnVybChodHRwczovL21hcHMuYXBpLjJnaXMucnUvMi4wL2ltZy9ER0N1c3RvbWl6YXRpb25fX21hcmtlci5wbmcpO2JhY2tncm91bmQtc2l6ZToyMnB4IDM0cHg7d2lkdGg6MjJweDtoZWlnaHQ6MzRweDstd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46NTAlIDEwMCU7LW1zLXRyYW5zZm9ybS1vcmlnaW46NTAlIDEwMCU7dHJhbnNmb3JtLW9yaWdpbjo1MCUgMTAwJTstd2Via2l0LWFuaW1hdGlvbjpkZy1jdXN0b21pemF0aW9uX19zaG93LW1hcmtlciAuMnM7YW5pbWF0aW9uOmRnLWN1c3RvbWl6YXRpb25fX3Nob3ctbWFya2VyIC4yc30ubGVhZmxldC1yZXRpbmEgLmRnLWN1c3RvbWl6YXRpb25fX21hcmtlcl90eXBlX211c2hyb29te2JhY2tncm91bmQtaW1hZ2U6dXJsKGh0dHBzOi8vbWFwcy5hcGkuMmdpcy5ydS8yLjAvaW1nL0RHQ3VzdG9taXphdGlvbl9fbWFya2VyQDJ4LnBuZyl9LmRnLWN1c3RvbWl6YXRpb25fX21hcmtlcl90eXBlX211c2hyb29tOmZvY3Vze291dGxpbmU6MH0ubm8tdG91Y2ggLmRnLWN1c3RvbWl6YXRpb25fX21hcmtlcl90eXBlX211c2hyb29tOmhvdmVye2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDtiYWNrZ3JvdW5kLWltYWdlOnVybChodHRwczovL21hcHMuYXBpLjJnaXMucnUvMi4wL2ltZy9ER0N1c3RvbWl6YXRpb25fX21hcmtlckhvdmVyLnBuZyk7YmFja2dyb3VuZC1zaXplOjIycHggMzRweH0ubGVhZmxldC1yZXRpbmEgLm5vLXRvdWNoIC5kZy1jdXN0b21pemF0aW9uX19tYXJrZXJfdHlwZV9tdXNocm9vbTpob3ZlcntiYWNrZ3JvdW5kLWltYWdlOnVybChodHRwczovL21hcHMuYXBpLjJnaXMucnUvMi4wL2ltZy9ER0N1c3RvbWl6YXRpb25fX21hcmtlckhvdmVyQDJ4LnBuZyl9LmRnLWN1c3RvbWl6YXRpb25fX21hcmtlcl90eXBlX211c2hyb29tOmFjdGl2ZSwubm8tdG91Y2ggLmRnLWN1c3RvbWl6YXRpb25fX21hcmtlcl90eXBlX211c2hyb29tOmFjdGl2ZXtiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXQ7YmFja2dyb3VuZC1pbWFnZTp1cmwoaHR0cHM6Ly9tYXBzLmFwaS4yZ2lzLnJ1LzIuMC9pbWcvREdDdXN0b21pemF0aW9uX19tYXJrZXJBY3RpdmUucG5nKTtiYWNrZ3JvdW5kLXNpemU6MjJweCAzNHB4fS5sZWFmbGV0LXJldGluYSAuZGctY3VzdG9taXphdGlvbl9fbWFya2VyX3R5cGVfbXVzaHJvb206YWN0aXZlLC5sZWFmbGV0LXJldGluYSAubm8tdG91Y2ggLmRnLWN1c3RvbWl6YXRpb25fX21hcmtlcl90eXBlX211c2hyb29tOmFjdGl2ZXtiYWNrZ3JvdW5kLWltYWdlOnVybChodHRwczovL21hcHMuYXBpLjJnaXMucnUvMi4wL2ltZy9ER0N1c3RvbWl6YXRpb25fX21hcmtlckFjdGl2ZUAyeC5wbmcpfUAtd2Via2l0LWtleWZyYW1lcyBkZy1jdXN0b21pemF0aW9uX19zaG93LW1hcmtlcntmcm9te29wYWNpdHk6MH10b3tvcGFjaXR5OjF9fUBrZXlmcmFtZXMgZGctY3VzdG9taXphdGlvbl9fc2hvdy1tYXJrZXJ7ZnJvbXtvcGFjaXR5OjB9dG97b3BhY2l0eToxfX0uZGctY3VzdG9taXphdGlvbl9fbWFya2VyX2FwcGVhcntiYWNrZ3JvdW5kLXBvc2l0aW9uOjk5OXB4fS5kZy1jdXN0b21pemF0aW9uX19tYXJrZXJfYXBwZWFyOmJlZm9yZXtjb250ZW50OicnfS5kZy1jdXN0b21pemF0aW9uX19tYXJrZXJfZGlzYXBwZWFye2JhY2tncm91bmQtcG9zaXRpb246OTk5cHg7cG9pbnRlci1ldmVudHM6bm9uZX0uZGctY3VzdG9taXphdGlvbl9fbWFya2VyX2Rpc2FwcGVhcjpiZWZvcmV7dmlzaWJpbGl0eTpoaWRkZW47Y29udGVudDonJztvcGFjaXR5OjA7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoMS4yLDEuOCk7LW1zLXRyYW5zZm9ybTpzY2FsZSgxLjIsMS44KTt0cmFuc2Zvcm06c2NhbGUoMS4yLDEuOCk7LXdlYmtpdC1hbmltYXRpb246ZGctY3VzdG9taXphdGlvbl9fbWFya2VyLXRvLWNhbGxvdXQgLjJzO2FuaW1hdGlvbjpkZy1jdXN0b21pemF0aW9uX19tYXJrZXItdG8tY2FsbG91dCAuMnN9QC13ZWJraXQta2V5ZnJhbWVzIGRnLWN1c3RvbWl6YXRpb25fX21hcmtlci10by1jYWxsb3V0ezAle3Zpc2liaWxpdHk6dmlzaWJsZTtvcGFjaXR5OjE7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoMSwxKTt0cmFuc2Zvcm06c2NhbGUoMSwxKX0xMDAle3Zpc2liaWxpdHk6dmlzaWJsZTtvcGFjaXR5OjA7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoMS4yLDEuOCk7dHJhbnNmb3JtOnNjYWxlKDEuMiwxLjgpfX1Aa2V5ZnJhbWVzIGRnLWN1c3RvbWl6YXRpb25fX21hcmtlci10by1jYWxsb3V0ezAle3Zpc2liaWxpdHk6dmlzaWJsZTtvcGFjaXR5OjE7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoMSwxKTt0cmFuc2Zvcm06c2NhbGUoMSwxKX0xMDAle3Zpc2liaWxpdHk6dmlzaWJsZTtvcGFjaXR5OjA7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoMS4yLDEuOCk7dHJhbnNmb3JtOnNjYWxlKDEuMiwxLjgpfX0uZGctZHJhZ2dpbmctZmFsc2V7dG91Y2gtYWN0aW9uOmF1dG87LW1zLXRvdWNoLWFjdGlvbjphdXRvfS5kZy16b29te3dpZHRoOjQwcHg7aGVpZ2h0Ojc0cHh9LmRnLXpvb21fX2lue3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6MH0ubGVhZmxldC10b3VjaCAuZGctem9vbV9faW46YmVmb3Jle3Bvc2l0aW9uOmFic29sdXRlO3RvcDotNXB4O3JpZ2h0Oi0xMHB4O2JvdHRvbTowO2xlZnQ6LTEwcHg7Y29udGVudDonJ30uZGctem9vbV9faW46YWZ0ZXJ7cG9zaXRpb246YWJzb2x1dGU7cmlnaHQ6MDtib3R0b206LTFweDtsZWZ0OjA7ei1pbmRleDotMTttYXJnaW46YXV0bzt3aWR0aDoxMnB4O2hlaWdodDoycHg7LXdlYmtpdC1ib3gtc2hhZG93OjAgMCAzcHggMnB4IHJnYmEoMCwwLDAsLjMpO2JveC1zaGFkb3c6MCAwIDNweCAycHggcmdiYSgwLDAsMCwuMyk7Y29udGVudDonJ30uZGctem9vbV9fYnV0dG9uX3R5cGVfaW46YWZ0ZXIsLmRnLXpvb21fX2J1dHRvbl90eXBlX2luOmJlZm9yZSwubGVhZmxldC10b3VjaCAuZGctem9vbV9fYnV0dG9uX3R5cGVfaW46YmVmb3Jle3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO3JpZ2h0OjA7Ym90dG9tOjA7bGVmdDowO21hcmdpbjphdXRvO3dpZHRoOjE0cHg7aGVpZ2h0OjJweDtiYWNrZ3JvdW5kLWNvbG9yOiM3YTdhN2E7LXdlYmtpdC1ib3gtc2hhZG93OjAgMXB4ICNmZmY7Ym94LXNoYWRvdzowIDFweCAjZmZmO2NvbnRlbnQ6Jyd9LmRnLXpvb21fX2J1dHRvbl90eXBlX2luOmFmdGVye3dpZHRoOjJweDtoZWlnaHQ6MTRweH0ubm8tdG91Y2ggLmRnLXpvb21fX2J1dHRvbl90eXBlX2luOmhvdmVyOmFmdGVyLC5uby10b3VjaCAuZGctem9vbV9fYnV0dG9uX3R5cGVfaW46aG92ZXI6YmVmb3Jle2JhY2tncm91bmQtY29sb3I6IzYxNjE2MX0uZGctem9vbV9fYnV0dG9uX3R5cGVfaW46YWN0aXZlOmFmdGVyLC5kZy16b29tX19idXR0b25fdHlwZV9pbjphY3RpdmU6YmVmb3JlLC5uby10b3VjaCAuZGctem9vbV9fYnV0dG9uX3R5cGVfaW46YWN0aXZlOmFmdGVyLC5uby10b3VjaCAuZGctem9vbV9fYnV0dG9uX3R5cGVfaW46YWN0aXZlOmJlZm9yZXtiYWNrZ3JvdW5kLWNvbG9yOiM1NzU3NTd9LmxlYWZsZXQtZGlzYWJsZWQgLmRnLXpvb21fX2J1dHRvbl90eXBlX2luOmFjdGl2ZTphZnRlciwubGVhZmxldC1kaXNhYmxlZCAuZGctem9vbV9fYnV0dG9uX3R5cGVfaW46YWN0aXZlOmJlZm9yZSwubGVhZmxldC1kaXNhYmxlZCAuZGctem9vbV9fYnV0dG9uX3R5cGVfaW46YWZ0ZXIsLmxlYWZsZXQtZGlzYWJsZWQgLmRnLXpvb21fX2J1dHRvbl90eXBlX2luOmJlZm9yZSwubm8tdG91Y2ggLmxlYWZsZXQtZGlzYWJsZWQgLmRnLXpvb21fX2J1dHRvbl90eXBlX2luOmhvdmVyOmFmdGVyLC5uby10b3VjaCAubGVhZmxldC1kaXNhYmxlZCAuZGctem9vbV9fYnV0dG9uX3R5cGVfaW46aG92ZXI6YmVmb3Jley13ZWJraXQtYm94LXNoYWRvdzpub25lO2JveC1zaGFkb3c6bm9uZX0uZGctem9vbV9fb3V0e3Bvc2l0aW9uOmFic29sdXRlO3RvcDo0MHB4O3JpZ2h0OjA7bGVmdDowO21hcmdpbjphdXRvO3dpZHRoOjIycHg7aGVpZ2h0OjIycHh9LmRnLXpvb21fX291dDphZnRlcntwb3NpdGlvbjphYnNvbHV0ZTt0b3A6LTFweDtyaWdodDowO2xlZnQ6MDttYXJnaW46YXV0bzt3aWR0aDoxMnB4O2hlaWdodDoycHg7Y29udGVudDonJ30uZGctem9vbV9fYnV0dG9uX3R5cGVfb3V0e3dpZHRoOjIycHg7aGVpZ2h0OjIycHh9LmxlYWZsZXQtdG91Y2ggLmRnLXpvb21fX2J1dHRvbl90eXBlX291dDpiZWZvcmV7dG9wOi01cHg7cmlnaHQ6LTE5cHg7Ym90dG9tOi0xOXB4O2xlZnQ6LTE5cHh9LmRnLXpvb21fX2J1dHRvbl90eXBlX291dDphZnRlcntwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtyaWdodDowO2JvdHRvbTowO2xlZnQ6MDttYXJnaW46YXV0bzt3aWR0aDoxMHB4O2hlaWdodDoycHg7YmFja2dyb3VuZDojN2E3YTdhOy13ZWJraXQtYm94LXNoYWRvdzowIDFweCAjZmZmO2JveC1zaGFkb3c6MCAxcHggI2ZmZjtjb250ZW50OicnfS5uby10b3VjaCAuZGctem9vbV9fYnV0dG9uX3R5cGVfb3V0OmhvdmVyOmFmdGVye2JhY2tncm91bmQ6IzYxNjE2MX0uZGctem9vbV9fYnV0dG9uX3R5cGVfb3V0OmFjdGl2ZTphZnRlciwubm8tdG91Y2ggLmRnLXpvb21fX2J1dHRvbl90eXBlX291dDphY3RpdmU6YWZ0ZXJ7YmFja2dyb3VuZDojNTc1NzU3fS5sZWFmbGV0LWRpc2FibGVkIC5kZy16b29tX19idXR0b25fdHlwZV9vdXQ6YWN0aXZlOmFmdGVyLC5sZWFmbGV0LWRpc2FibGVkIC5kZy16b29tX19idXR0b25fdHlwZV9vdXQ6YWZ0ZXIsLm5vLXRvdWNoIC5sZWFmbGV0LWRpc2FibGVkIC5kZy16b29tX19idXR0b25fdHlwZV9vdXQ6aG92ZXI6YWZ0ZXJ7LXdlYmtpdC1ib3gtc2hhZG93Om5vbmU7Ym94LXNoYWRvdzpub25lfS5kZy16b29tX19vdXR7LXdlYmtpdC1ib3gtc2hhZG93OjAgMnB4IDNweCAwIHJnYmEoMCwwLDAsLjMpO2JveC1zaGFkb3c6MCAycHggM3B4IDAgcmdiYSgwLDAsMCwuMyl9LmRnLXpvb21fX291dDphZnRlcntiYWNrZ3JvdW5kLWNvbG9yOiMzZDNkM2R9LmxlYWZsZXQtZGlzYWJsZWQgLmRnLXpvb21fX2J1dHRvbl90eXBlX2luOmFjdGl2ZTphZnRlciwubGVhZmxldC1kaXNhYmxlZCAuZGctem9vbV9fYnV0dG9uX3R5cGVfaW46YWN0aXZlOmJlZm9yZSwubGVhZmxldC1kaXNhYmxlZCAuZGctem9vbV9fYnV0dG9uX3R5cGVfaW46YWZ0ZXIsLmxlYWZsZXQtZGlzYWJsZWQgLmRnLXpvb21fX2J1dHRvbl90eXBlX2luOmJlZm9yZSwubGVhZmxldC1kaXNhYmxlZCAuZGctem9vbV9fYnV0dG9uX3R5cGVfb3V0OmFjdGl2ZTphZnRlciwubGVhZmxldC1kaXNhYmxlZCAuZGctem9vbV9fYnV0dG9uX3R5cGVfb3V0OmFmdGVyLC5uby10b3VjaCAubGVhZmxldC1kaXNhYmxlZCAuZGctem9vbV9fYnV0dG9uX3R5cGVfaW46aG92ZXI6YWZ0ZXIsLm5vLXRvdWNoIC5sZWFmbGV0LWRpc2FibGVkIC5kZy16b29tX19idXR0b25fdHlwZV9pbjpob3ZlcjpiZWZvcmUsLm5vLXRvdWNoIC5sZWFmbGV0LWRpc2FibGVkIC5kZy16b29tX19idXR0b25fdHlwZV9vdXQ6aG92ZXI6YWZ0ZXJ7YmFja2dyb3VuZC1jb2xvcjojNzA3MDcwfS5kZy1hdHRyaWJ1dGlvbntiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50IWltcG9ydGFudH0uZGctYXR0cmlidXRpb25fX2NvcHlyaWdodHttYXJnaW46MCA1NXB4IDVweCAwO3RleHQtYWxpZ246cmlnaHQ7d2hpdGUtc3BhY2U6bm93cmFwO2ZvbnQtc2l6ZTo5cHg7Zm9udC1mYW1pbHk6SGVsdmV0aWNhLEFyaWFsLHNhbnMtc2VyaWZ9LmRnLWF0dHJpYnV0aW9uX19saW5rc3tkaXNwbGF5OmlubGluZS1ibG9jazttYXJnaW46MDtwYWRkaW5nOjAgNXB4IDAgMH0uZGctYXR0cmlidXRpb25fX2xpbmstaXRlbXtwYWRkaW5nOjA7bGlzdC1zdHlsZS10eXBlOm5vbmV9LmxlYWZsZXQtY29udGFpbmVyIC5kZy1hdHRyaWJ1dGlvbl9fbGlua3tiYWNrZ3JvdW5kOi13ZWJraXQtZ3JhZGllbnQobGluZWFyLGxlZnQgdG9wLHJpZ2h0IHRvcCxmcm9tKHJnYmEoOCw4LDgsLjMpKSx0byhyZ2JhKDgsOCw4LC4zKSkpIDAgOTUlLzEwcHggMXB4IHJlcGVhdC14O2JhY2tncm91bmQ6LXdlYmtpdC1saW5lYXItZ3JhZGllbnQobGVmdCxyZ2JhKDgsOCw4LC4zKSxyZ2JhKDgsOCw4LC4zKSAxMDAlKSAwIDk1JS8xMHB4IDFweCByZXBlYXQteDtiYWNrZ3JvdW5kOmxpbmVhci1ncmFkaWVudCh0byByaWdodCxyZ2JhKDgsOCw4LC4zKSxyZ2JhKDgsOCw4LC4zKSAxMDAlKSAwIDk1JS8xMHB4IDFweCByZXBlYXQteDtjb2xvcjojMzMzO3RleHQtZGVjb3JhdGlvbjpub25lO2ZvbnQtc2l6ZTo5cHg7Zm9udC1mYW1pbHk6SGVsdmV0aWNhLEFyaWFsLHNhbnMtc2VyaWY7Y3Vyc29yOnBvaW50ZXJ9LmxlYWZsZXQtY29udGFpbmVyIC5kZy1hdHRyaWJ1dGlvbl9fbGluazpob3ZlcntiYWNrZ3JvdW5kLWltYWdlOi13ZWJraXQtZ3JhZGllbnQobGluZWFyLGxlZnQgdG9wLHJpZ2h0IHRvcCxmcm9tKCMwODA4MDgpLHRvKCMwODA4MDgpKTtiYWNrZ3JvdW5kLWltYWdlOi13ZWJraXQtbGluZWFyLWdyYWRpZW50KGxlZnQsIzA4MDgwOCwjMDgwODA4IDEwMCUpO2JhY2tncm91bmQtaW1hZ2U6bGluZWFyLWdyYWRpZW50KHRvIHJpZ2h0LCMwODA4MDgsIzA4MDgwOCAxMDAlKTtjb2xvcjojMzMzO3RleHQtZGVjb3JhdGlvbjpub25lfS5kZy1hdHRyaWJ1dGlvbl9fbG9nby11cmx7YmFja2dyb3VuZC1yZXBlYXQ6bm8tcmVwZWF0O2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnJTIweG1sbnMlM0QlMjJodHRwJTNBJTJGJTJGd3d3LnczLm9yZyUyRjIwMDAlMkZzdmclMjIlMjBoZWlnaHQlM0QlMjIyNCUyMiUyMHdpZHRoJTNEJTIyNTUlMjIlM0UlMEElMjAlM0NwYXRoJTIwZmlsbCUzRCUyMiUyM2EyYzEyNCUyMiUyMGQlM0QlMjJtMjQuMzk1JTIwMTJjMC0xLjQ1NDUtMC4yMjE3Ny0yLjY1NDUtMC42NjUzMi00LTAuMTQ3ODUlMjA0LjI1NDUtNC44NzklMjA3LjgxODItNy40NjY0JTIwMTBoNi43NjQxYzAuNzAyMjktMiUyMDEuMzY3Ni0zLjkyNzMlMjAxLjM2NzYtNm0tNC43MzEtOS4zNDU1Yy0yLjAzMy0xLjYtNC42Mi0yLjY1NDUtNy40NjYtMi42NTQ1LTYuNzI3NiUyMDAtMTIuMTk4JTIwNS40MTgyLTEyLjE5OCUyMDEyczUuNDcwNCUyMDEyJTIwMTIuMTk4JTIwMTJjMy4xMDQ4JTIwMCUyMDUuOTUwOS0xLjQ1NDUlMjA4LjEzMTctMy4zNDU1aC04Ljc5N3YtMi42NTQ1YzUuMzU5NS00LjU0NTUlMjA4Ljc5Ny03LjM0NTUlMjA4Ljc5Ny0xMCUyMDAtMS4xMjczLTAuODEzMTctMi42NTQ1LTIuNjk4My0yLjY1NDUtMS40Nzg1JTIwMC0yLjY5ODMlMjAxLjM0NTUtMi42OTgzJTIwNC42NTQ1aC0zLjQwMDVjLTAuNzM5MjUtNC4yMTgyJTIwMS44NDgxLTcuNjcyNyUyMDYuMjQ2Ni03LjY3MjclMjAwLjY2NTMyJTIwMCUyMDEuMjU2NyUyMDAuMjE4MTglMjAxLjg4NTElMjAwLjMyNzI3JTIyJTJGJTNFJTBBJTIwJTNDcGF0aCUyMGZpbGwlM0QlMjIlMjMzYzQzNDclMjIlMjBkJTNEJTIybTM2LjU5MyUyMDkuMzQ1NWgxLjM2NzZjMC0yLTAuNjY1MzItNS4xMjczLTQuNzMxMi01LjI3MjctNC43MzItMC4yMTgzLTYuMSUyMDIuNjE4MS02LjElMjA1LjkyNzJ2NS4zNDU1YzAlMjA0LjQlMjAzLjQzNzUlMjA1LjM0NTUlMjA2LjA5ODglMjA1LjM0NTUlMjAxLjU1MjQlMjAwJTIwMy40MDA1LTAuODcyNzMlMjA0LjczMTItMnYtNi42OTA5aC01LjQzMzV2Mi42NTQ1aDIuNjk4M3YyLjY1NDVjLTEuMzY3NiUyMDEuMzQ1NS01LjQzMzUlMjAxLjM0NTUtNS40MzM1LTIuNjU0NXYtNS4zMDkxYzAtNCUyMDUuOTUwOS00LjE0NTUlMjA1LjYxODMlMjAwaDEuMTgyOHptMTguMjk2JTIwNi42NTQ1YzAtNS44MTgyLTYuOTg1OS00LjA3MjctNi45ODU5LTcuNiUyMDAtMS4yJTIwMC44MTMxNy0yJTIwMi4xODA4LTIlMjAxLjQ0MTUlMjAwJTIwMi4yNTQ3JTIwMS4wMTgyJTIwMi4yNTQ3JTIwMi45ODE4aDIuNTg3NGMwLTItMC42NjUzMi01LjM0NTUtNC43MzEyLTUuMzQ1NS0yLjc3MjIlMjAwLTQuODc5JTIwMS40MTgyLTQuODc5JTIwNC4zMjczJTIwMCUyMDYuMDcyNyUyMDcuMTcwNyUyMDQuMDcyNyUyMDcuMDU5OCUyMDcuNjcyNy0wLjA3MzkyJTIwMS40NTQ1LTEuMTQ1OCUyMDIuMDcyNy0yLjM2NTYlMjAyLjA3MjctMS40NDE1JTIwMC0yLjY5ODMtMC43MjcyNy0yLjQzOTUtMy4zODE4aC0yLjY2MTNjLTAuMjU4NzQlMjAzLjM0NTUlMjAxLjQ0MTUlMjA2JTIwNS4zNTk1JTIwNiUyMDIuNjk5JTIwMCUyMDQuNzMyLTIuMTQ1JTIwNC43MzItNS4zNDVsLTAuMTExJTIwMC42MTh6bS0xMi4xOTglMjA0aC0yLjY5ODN2LTE2aDIuNjk4M3YxNnolMjIlMkYlM0UlMEElM0MlMkZzdmclM0UlMEFcXFwiKTt3aWR0aDo1NXB4O2hlaWdodDoyNHB4O2JhY2tncm91bmQtc2l6ZTo1NXB4IDI0cHg7cG9zaXRpb246YWJzb2x1dGU7bWFyZ2luOjAgM3B4IDAgMH0uZGctbG9jYXRpb25fX3BpbntiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXQ7d2lkdGg6MjBweDtoZWlnaHQ6MjBweDtiYWNrZ3JvdW5kLWltYWdlOnVybChodHRwczovL21hcHMuYXBpLjJnaXMucnUvMi4wL2ltZy9zcHJpdGUuYmFzaWMucG5nKTtiYWNrZ3JvdW5kLXBvc2l0aW9uOi01NXB4IDA7YmFja2dyb3VuZC1zaXplOjg3cHggNzRweH0ubGVhZmxldC1yZXRpbmEgLmRnLWxvY2F0aW9uX19waW57YmFja2dyb3VuZC1pbWFnZTp1cmwoaHR0cHM6Ly9tYXBzLmFwaS4yZ2lzLnJ1LzIuMC9pbWcvc3ByaXRlQDJ4LmJhc2ljLnBuZyk7YmFja2dyb3VuZC1wb3NpdGlvbjotNTVweCAwO2JhY2tncm91bmQtc2l6ZTo5MXB4IDcxLjVweH0uZGctbG9jYXRpb25fX3Bpbl9zdGF0ZV9mb2xsb3dpbmd7YmFja2dyb3VuZC1yZXBlYXQ6bm8tcmVwZWF0O3dpZHRoOjIwcHg7aGVpZ2h0OjIwcHg7YmFja2dyb3VuZC1pbWFnZTp1cmwoaHR0cHM6Ly9tYXBzLmFwaS4yZ2lzLnJ1LzIuMC9pbWcvc3ByaXRlLmJhc2ljLnBuZyk7YmFja2dyb3VuZC1wb3NpdGlvbjotMjJweCAtMjRweDtiYWNrZ3JvdW5kLXNpemU6ODdweCA3NHB4fS5sZWFmbGV0LXJldGluYSAuZGctbG9jYXRpb25fX3Bpbl9zdGF0ZV9mb2xsb3dpbmd7YmFja2dyb3VuZC1pbWFnZTp1cmwoaHR0cHM6Ly9tYXBzLmFwaS4yZ2lzLnJ1LzIuMC9pbWcvc3ByaXRlQDJ4LmJhc2ljLnBuZyk7YmFja2dyb3VuZC1wb3NpdGlvbjotMjFweCAtMjRweDtiYWNrZ3JvdW5kLXNpemU6OTFweCA3MS41cHh9LmRnLWNvbnRyb2wtcm91bmRfX2ljb25fbmFtZV9sb2NhdGU6YWZ0ZXJ7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7cmlnaHQ6MDtib3R0b206MDtsZWZ0OjA7bWFyZ2luOmF1dG87Y29udGVudDonJ30uZGctY29udHJvbC1yb3VuZF9faWNvbl9zdGF0ZV9hY3RpdmUuZGctY29udHJvbC1yb3VuZF9faWNvbl9uYW1lX2xvY2F0ZTphY3RpdmU6YWZ0ZXIsLmRnLWNvbnRyb2wtcm91bmRfX2ljb25fc3RhdGVfYWN0aXZlLmRnLWNvbnRyb2wtcm91bmRfX2ljb25fbmFtZV9sb2NhdGU6YWZ0ZXIsLm5vLXRvdWNoIC5kZy1jb250cm9sLXJvdW5kX19pY29uX3N0YXRlX2FjdGl2ZS5kZy1jb250cm9sLXJvdW5kX19pY29uX25hbWVfbG9jYXRlOmhvdmVyOmFmdGVye2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDtiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyUyMHhtbG5zJTNEJTIyaHR0cCUzQSUyRiUyRnd3dy53My5vcmclMkYyMDAwJTJGc3ZnJTIyJTIwd2lkdGglM0QlMjIxOCUyMiUyMGhlaWdodCUzRCUyMjE4JTIyJTNFJTBBJTIwJTIwJTIwJTIwJTNDZyUyMGZpbGwlM0QlMjIlMjMyM2E1ZDQlMjIlM0UlMEElMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlM0NwYXRoJTIwZCUzRCUyMk0lMjAxNyUyQzglMjBIJTIwMTUuOTIlMjBDJTIwMTUuNDglMkM0LjkzNyUyMDEzLjA2NCUyQzIuNTIlMjAxMCUyQzIuMDglMjBWJTIwMSUyMEMlMjAxMCUyQzAuNDQ4JTIwOS41NTMlMkMwJTIwOSUyQzAlMjA4LjQ0NyUyQzAlMjA4JTJDMC40NDglMjA4JTJDMSUyMFYlMjAyLjA4JTIwQyUyMDQuOTM2JTJDMi41MiUyMDIuNTIlMkM0LjkzNyUyMDIuMDglMkM4JTIwSCUyMDElMjBDJTIwMC40NDclMkM4JTIwMCUyQzguNDQ4JTIwMCUyQzklMjAwJTJDOS41NTMlMjAwLjQ0NyUyQzEwJTIwMSUyQzEwJTIwSCUyMDIuMDglMjBDJTIwMi41MiUyQzEzLjA2MyUyMDQuOTM2JTJDMTUuNDglMjA4JTJDMTUuOTIlMjBWJTIwMTclMjBjJTIwMCUyQzAuNTUzJTIwMC40NDclMkMxJTIwMSUyQzElMjAwLjU1MyUyQzAlMjAxJTJDLTAuNDQ3JTIwMSUyQy0xJTIwViUyMDE1LjkyJTIwQyUyMDEzLjA2NCUyQzE1LjQ4MSUyMDE1LjQ4JTJDMTMuMDY0JTIwMTUuOTIlMkMxMCUyMEglMjAxNyUyMEMlMjAxNy41NTMlMkMxMCUyMDE4JTJDOS41NTMlMjAxOCUyQzklMjAxOCUyQzguNDQ4JTIwMTcuNTUzJTJDOCUyMDE3JTJDOCUyMHolMjBNJTIwOSUyQzE0JTIwQyUyMDYuMjQlMkMxNCUyMDQlMkMxMS43NjIlMjA0JTJDOSUyMDQlMkM2LjIzOCUyMDYuMjQlMkM0JTIwOSUyQzQlMjBjJTIwMi43NjElMkMwJTIwNSUyQzIuMjM4JTIwNSUyQzUlMjAwJTJDMi43NjIlMjAtMi4yMzklMkM1JTIwLTUlMkM1JTIweiUyMiUyRiUzRSUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUzQ2NpcmNsZSUyMGN4JTNEJTIyOSUyMiUyMGN5JTNEJTIyOSUyMiUyMHIlM0QlMjIzJTIyJTJGJTNFJTBBJTIwJTIwJTIwJTIwJTNDJTJGZyUzRSUwQSUyMCUyMCUyMCUyMCUzQ3BhdGglMjBkJTNEJTIyTSUyMDE0JTJDMTAuMDA0JTIwQyUyMDE0JTJDOS44MzQlMjAxMy45OTElMkM5LjY2NyUyMDEzLjk3NSUyQzkuNTAyJTIwMTMuNzIzJTJDMTIuMDI3JTIwMTEuNTkyJTJDMTQlMjA5JTJDMTQlMjA2LjQwOCUyQzE0JTIwNC4yNzclMkMxMi4wMjclMjA0LjAyNSUyQzkuNTAyJTIwNC4wMDklMkM5LjY2NyUyMDQlMkM5LjgzNCUyMDQlMkMxMC4wMDQlMjBjJTIwMCUyQzIuNzYyJTIwMi4yNCUyQzUlMjA1JTJDNSUyMDIuNzYxJTJDMCUyMDUlMkMtMi4yMzglMjA1JTJDLTUlMjB6JTIwTSUyMDEwJTJDMy4wODMlMjBjJTIwMy4wNjQlMkMwLjQzOSUyMDUuNDglMkMyLjg1NiUyMDUuOTIlMkM1LjkyMSUyMEglMjAxNyUyMGMlMjAwLjM2OSUyQzAlMjAwLjY4OCUyQzAuMjAxJTIwMC44NiUyQzAuNDk4JTIwQyUyMDE3Ljk0NyUyQzkuMzU0JTIwMTglMkM5LjE4NCUyMDE4JTJDOSUyMDE4JTJDOC40NDglMjAxNy41NTMlMkM4JTIwMTclMkM4JTIwSCUyMDE1LjkyJTIwQyUyMDE1LjQ4JTJDNC45MzclMjAxMy4wNjQlMkMyLjUyJTIwMTAlMkMyLjA4JTIwViUyMDMuMDgzJTIweiUyME0lMjAxJTJDOS4wMDQlMjBIJTIwMi4wOCUyMEMlMjAyLjUyJTJDNS45MzklMjA0LjkzNiUyQzMuNTIyJTIwOCUyQzMuMDgzJTIwViUyMDIuMDglMjBDJTIwNC45MzYlMkMyLjUyJTIwMi41MiUyQzQuOTM3JTIwMi4wOCUyQzglMjBIJTIwMSUyMEMlMjAwLjQ0NyUyQzglMjAwJTJDOC40NDglMjAwJTJDOSUyMDAlMkM5LjE4NCUyMDAuMDUzJTJDOS4zNTQlMjAwLjE0JTJDOS41MDIlMjAwLjMxMiUyQzkuMjA1JTIwMC42MzElMkM5LjAwNCUyMDElMkM5LjAwNCUyMHolMjBtJTIwOCUyQy04JTIwYyUyMDAuNTUzJTJDMCUyMDElMkMwLjQ0NyUyMDElMkMxJTIwViUyMDElMjBDJTIwMTAlMkMwLjQ0OCUyMDkuNTUzJTJDMCUyMDklMkMwJTIwOC40NDclMkMwJTIwOCUyQzAuNDQ4JTIwOCUyQzElMjB2JTIwMS4wMDQlMjBjJTIwMCUyQy0wLjU1MyUyMDAuNDQ3JTJDLTElMjAxJTJDLTElMjB6JTIyJTIwZmlsbCUzRCUyMiUyMzI2ODVhYSUyMiUyRiUzRSUwQSUyMCUyMCUyMCUyMCUzQ3BhdGglMjBkJTNEJTIybSUyMDklMkM3JTIwYyUyMDEuNDg2JTJDMCUyMDIuNzE3JTJDMS4wODIlMjAyLjk1NSUyQzIuNSUyMEMlMjAxMS45ODIlMkM5LjMzNyUyMDEyJTJDOS4xNzElMjAxMiUyQzklMjAxMiUyQzcuMzQ0JTIwMTAuNjU2JTJDNiUyMDklMkM2JTIwNy4zNDQlMkM2JTIwNiUyQzcuMzQ0JTIwNiUyQzklMjA2JTJDOS4xNzElMjA2LjAxOCUyQzkuMzM3JTIwNi4wNDUlMkM5LjUlMjA2LjI4MyUyQzguMDgyJTIwNy41MTQlMkM3JTIwOSUyQzclMjB6JTIyJTIwZmlsbCUzRCUyMiUyMzFjODVhYiUyMiUyRiUzRSUwQSUzQyUyRnN2ZyUzRSUwQVxcXCIpfUAtd2Via2l0LWtleWZyYW1lcyBER0xvY2F0aW9uX19sb2NhdGVJY29uUmVxdWVzdGluZ0FuaW17dG97LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDM2MGRlZyk7dHJhbnNmb3JtOnJvdGF0ZSgzNjBkZWcpfX1Aa2V5ZnJhbWVzIERHTG9jYXRpb25fX2xvY2F0ZUljb25SZXF1ZXN0aW5nQW5pbXt0b3std2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoMzYwZGVnKTt0cmFuc2Zvcm06cm90YXRlKDM2MGRlZyl9fS5kZy1jb250cm9sLXJvdW5kX19pY29uX25hbWVfbG9jYXRlOmFmdGVye2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDtiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyUyMHhtbG5zJTNEJTIyaHR0cCUzQSUyRiUyRnd3dy53My5vcmclMkYyMDAwJTJGc3ZnJTIyJTIwd2lkdGglM0QlMjIxOCUyMiUyMGhlaWdodCUzRCUyMjE4JTIyJTNFJTBBJTIwJTIwJTIwJTIwJTNDZyUyMGZpbGwlM0QlMjIlMjM2MTYxNjElMjIlM0UlMEElMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlM0NwYXRoJTIwZCUzRCUyMk0lMjAxNyUyQzglMjBIJTIwMTUuOTIlMjBDJTIwMTUuNDglMkM0LjkzNyUyMDEzLjA2NCUyQzIuNTIlMjAxMCUyQzIuMDglMjBWJTIwMSUyMEMlMjAxMCUyQzAuNDQ4JTIwOS41NTMlMkMwJTIwOSUyQzAlMjA4LjQ0NyUyQzAlMjA4JTJDMC40NDglMjA4JTJDMSUyMFYlMjAyLjA4JTIwQyUyMDQuOTM2JTJDMi41MiUyMDIuNTIlMkM0LjkzNyUyMDIuMDglMkM4JTIwSCUyMDElMjBDJTIwMC40NDclMkM4JTIwMCUyQzguNDQ4JTIwMCUyQzklMjAwJTJDOS41NTMlMjAwLjQ0NyUyQzEwJTIwMSUyQzEwJTIwSCUyMDIuMDglMjBDJTIwMi41MiUyQzEzLjA2MyUyMDQuOTM2JTJDMTUuNDglMjA4JTJDMTUuOTIlMjBWJTIwMTclMjBjJTIwMCUyQzAuNTUzJTIwMC40NDclMkMxJTIwMSUyQzElMjAwLjU1MyUyQzAlMjAxJTJDLTAuNDQ3JTIwMSUyQy0xJTIwViUyMDE1LjkyJTIwQyUyMDEzLjA2NCUyQzE1LjQ4MSUyMDE1LjQ4JTJDMTMuMDY0JTIwMTUuOTIlMkMxMCUyMEglMjAxNyUyMEMlMjAxNy41NTMlMkMxMCUyMDE4JTJDOS41NTMlMjAxOCUyQzklMjAxOCUyQzguNDQ4JTIwMTcuNTUzJTJDOCUyMDE3JTJDOCUyMHolMjBNJTIwOSUyQzE0JTIwQyUyMDYuMjQlMkMxNCUyMDQlMkMxMS43NjIlMjA0JTJDOSUyMDQlMkM2LjIzOCUyMDYuMjQlMkM0JTIwOSUyQzQlMjBjJTIwMi43NjElMkMwJTIwNSUyQzIuMjM4JTIwNSUyQzUlMjAwJTJDMi43NjIlMjAtMi4yMzklMkM1JTIwLTUlMkM1JTIweiUyMiUyRiUzRSUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUzQ2NpcmNsZSUyMGN4JTNEJTIyOSUyMiUyMGN5JTNEJTIyOSUyMiUyMHIlM0QlMjIzJTIyJTJGJTNFJTBBJTIwJTIwJTIwJTIwJTNDJTJGZyUzRSUwQSUyMCUyMCUyMCUyMCUzQ2clMjBmaWxsJTNEJTIyJTIzNDQ0JTIyJTNFJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDcGF0aCUyMGQlM0QlMjJNJTIwMTQlMkMxMC4wMDQlMjBDJTIwMTQlMkM5LjgzNCUyMDEzLjk5MSUyQzkuNjY3JTIwMTMuOTc1JTJDOS41MDIlMjAxMy43MjMlMkMxMi4wMjclMjAxMS41OTIlMkMxNCUyMDklMkMxNCUyMDYuNDA4JTJDMTQlMjA0LjI3NyUyQzEyLjAyNyUyMDQuMDI1JTJDOS41MDIlMjA0LjAwOSUyQzkuNjY3JTIwNCUyQzkuODM0JTIwNCUyQzEwLjAwNCUyMGMlMjAwJTJDMi43NjIlMjAyLjI0JTJDNSUyMDUlMkM1JTIwMi43NjElMkMwJTIwNSUyQy0yLjIzOCUyMDUlMkMtNSUyMHolMjBNJTIwMTAlMkMzLjA4MyUyMGMlMjAzLjA2NCUyQzAuNDM5JTIwNS40OCUyQzIuODU2JTIwNS45MiUyQzUuOTIxJTIwSCUyMDE3JTIwYyUyMDAuMzY5JTJDMCUyMDAuNjg4JTJDMC4yMDElMjAwLjg2JTJDMC40OTglMjBDJTIwMTcuOTQ3JTJDOS4zNTQlMjAxOCUyQzkuMTg0JTIwMTglMkM5JTIwMTglMkM4LjQ0OCUyMDE3LjU1MyUyQzglMjAxNyUyQzglMjBIJTIwMTUuOTIlMjBDJTIwMTUuNDglMkM0LjkzNyUyMDEzLjA2NCUyQzIuNTIlMjAxMCUyQzIuMDglMjBWJTIwMy4wODMlMjB6JTIwTSUyMDElMkM5LjAwNCUyMEglMjAyLjA4JTIwQyUyMDIuNTIlMkM1LjkzOSUyMDQuOTM2JTJDMy41MjIlMjA4JTJDMy4wODMlMjBWJTIwMi4wOCUyMEMlMjA0LjkzNiUyQzIuNTIlMjAyLjUyJTJDNC45MzclMjAyLjA4JTJDOCUyMEglMjAxJTIwQyUyMDAuNDQ3JTJDOCUyMDAlMkM4LjQ0OCUyMDAlMkM5JTIwMCUyQzkuMTg0JTIwMC4wNTMlMkM5LjM1NCUyMDAuMTQlMkM5LjUwMiUyMDAuMzEyJTJDOS4yMDUlMjAwLjYzMSUyQzkuMDA0JTIwMSUyQzkuMDA0JTIweiUyMG0lMjA4JTJDLTglMjBjJTIwMC41NTMlMkMwJTIwMSUyQzAuNDQ3JTIwMSUyQzElMjBWJTIwMSUyMEMlMjAxMCUyQzAuNDQ4JTIwOS41NTMlMkMwJTIwOSUyQzAlMjA4LjQ0NyUyQzAlMjA4JTJDMC40NDglMjA4JTJDMSUyMHYlMjAxLjAwNCUyMGMlMjAwJTJDLTAuNTUzJTIwMC40NDclMkMtMSUyMDElMkMtMSUyMHolMjIlMkYlM0UlMEElMjAlMjAlMjAlMjAlM0MlMkZnJTNFJTBBJTIwJTIwJTIwJTIwJTNDcGF0aCUyMGQlM0QlMjJtJTIwOSUyQzclMjBjJTIwMS40ODYlMkMwJTIwMi43MTclMkMxLjA4MiUyMDIuOTU1JTJDMi41JTIwQyUyMDExLjk4MiUyQzkuMzM3JTIwMTIlMkM5LjE3MSUyMDEyJTJDOSUyMDEyJTJDNy4zNDQlMjAxMC42NTYlMkM2JTIwOSUyQzYlMjA3LjM0NCUyQzYlMjA2JTJDNy4zNDQlMjA2JTJDOSUyMDYlMkM5LjE3MSUyMDYuMDE4JTJDOS4zMzclMjA2LjA0NSUyQzkuNSUyMDYuMjgzJTJDOC4wODIlMjA3LjUxNCUyQzclMjA5JTJDNyUyMHolMjIlMjBmaWxsJTNEJTIyJTIzNDQ0JTIyJTJGJTNFJTBBJTNDJTJGc3ZnJTNFJTBBXFxcIik7d2lkdGg6MThweDtoZWlnaHQ6MThweDtiYWNrZ3JvdW5kLXNpemU6MThweCAxOHB4fS5kZy1jb250cm9sLXJvdW5kX19pY29uX25hbWVfbG9jYXRlOmFjdGl2ZTphZnRlciwubm8tdG91Y2ggLmRnLWNvbnRyb2wtcm91bmRfX2ljb25fbmFtZV9sb2NhdGU6aG92ZXI6YWZ0ZXJ7YmFja2dyb3VuZC1yZXBlYXQ6bm8tcmVwZWF0O2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnJTIweG1sbnMlM0QlMjJodHRwJTNBJTJGJTJGd3d3LnczLm9yZyUyRjIwMDAlMkZzdmclMjIlMjB3aWR0aCUzRCUyMjE4JTIyJTIwaGVpZ2h0JTNEJTIyMTglMjIlM0UlMEElMjAlMjAlMjAlMjAlM0NnJTIwZmlsbCUzRCUyMiUyMzQyNDI0MiUyMiUzRSUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUzQ3BhdGglMjBkJTNEJTIyTSUyMDE3JTJDOCUyMEglMjAxNS45MiUyMEMlMjAxNS40OCUyQzQuOTM3JTIwMTMuMDY0JTJDMi41MiUyMDEwJTJDMi4wOCUyMFYlMjAxJTIwQyUyMDEwJTJDMC40NDglMjA5LjU1MyUyQzAlMjA5JTJDMCUyMDguNDQ3JTJDMCUyMDglMkMwLjQ0OCUyMDglMkMxJTIwViUyMDIuMDglMjBDJTIwNC45MzYlMkMyLjUyJTIwMi41MiUyQzQuOTM3JTIwMi4wOCUyQzglMjBIJTIwMSUyMEMlMjAwLjQ0NyUyQzglMjAwJTJDOC40NDglMjAwJTJDOSUyMDAlMkM5LjU1MyUyMDAuNDQ3JTJDMTAlMjAxJTJDMTAlMjBIJTIwMi4wOCUyMEMlMjAyLjUyJTJDMTMuMDYzJTIwNC45MzYlMkMxNS40OCUyMDglMkMxNS45MiUyMFYlMjAxNyUyMGMlMjAwJTJDMC41NTMlMjAwLjQ0NyUyQzElMjAxJTJDMSUyMDAuNTUzJTJDMCUyMDElMkMtMC40NDclMjAxJTJDLTElMjBWJTIwMTUuOTIlMjBDJTIwMTMuMDY0JTJDMTUuNDgxJTIwMTUuNDglMkMxMy4wNjQlMjAxNS45MiUyQzEwJTIwSCUyMDE3JTIwQyUyMDE3LjU1MyUyQzEwJTIwMTglMkM5LjU1MyUyMDE4JTJDOSUyMDE4JTJDOC40NDglMjAxNy41NTMlMkM4JTIwMTclMkM4JTIweiUyME0lMjA5JTJDMTQlMjBDJTIwNi4yNCUyQzE0JTIwNCUyQzExLjc2MiUyMDQlMkM5JTIwNCUyQzYuMjM4JTIwNi4yNCUyQzQlMjA5JTJDNCUyMGMlMjAyLjc2MSUyQzAlMjA1JTJDMi4yMzglMjA1JTJDNSUyMDAlMkMyLjc2MiUyMC0yLjIzOSUyQzUlMjAtNSUyQzUlMjB6JTIyJTJGJTNFJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDY2lyY2xlJTIwY3glM0QlMjI5JTIyJTIwY3klM0QlMjI5JTIyJTIwciUzRCUyMjMlMjIlMkYlM0UlMEElMjAlMjAlMjAlMjAlM0MlMkZnJTNFJTBBJTIwJTIwJTIwJTIwJTNDZyUyMGZpbGwlM0QlMjIlMjMyZTJlMmUlMjIlM0UlMEElMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlM0NwYXRoJTIwZCUzRCUyMk0lMjAxNCUyQzEwLjAwNCUyMEMlMjAxNCUyQzkuODM0JTIwMTMuOTkxJTJDOS42NjclMjAxMy45NzUlMkM5LjUwMiUyMDEzLjcyMyUyQzEyLjAyNyUyMDExLjU5MiUyQzE0JTIwOSUyQzE0JTIwNi40MDglMkMxNCUyMDQuMjc3JTJDMTIuMDI3JTIwNC4wMjUlMkM5LjUwMiUyMDQuMDA5JTJDOS42NjclMjA0JTJDOS44MzQlMjA0JTJDMTAuMDA0JTIwYyUyMDAlMkMyLjc2MiUyMDIuMjQlMkM1JTIwNSUyQzUlMjAyLjc2MSUyQzAlMjA1JTJDLTIuMjM4JTIwNSUyQy01JTIweiUyME0lMjAxMCUyQzMuMDgzJTIwYyUyMDMuMDY0JTJDMC40MzklMjA1LjQ4JTJDMi44NTYlMjA1LjkyJTJDNS45MjElMjBIJTIwMTclMjBjJTIwMC4zNjklMkMwJTIwMC42ODglMkMwLjIwMSUyMDAuODYlMkMwLjQ5OCUyMEMlMjAxNy45NDclMkM5LjM1NCUyMDE4JTJDOS4xODQlMjAxOCUyQzklMjAxOCUyQzguNDQ4JTIwMTcuNTUzJTJDOCUyMDE3JTJDOCUyMEglMjAxNS45MiUyMEMlMjAxNS40OCUyQzQuOTM3JTIwMTMuMDY0JTJDMi41MiUyMDEwJTJDMi4wOCUyMFYlMjAzLjA4MyUyMHolMjBNJTIwMSUyQzkuMDA0JTIwSCUyMDIuMDglMjBDJTIwMi41MiUyQzUuOTM5JTIwNC45MzYlMkMzLjUyMiUyMDglMkMzLjA4MyUyMFYlMjAyLjA4JTIwQyUyMDQuOTM2JTJDMi41MiUyMDIuNTIlMkM0LjkzNyUyMDIuMDglMkM4JTIwSCUyMDElMjBDJTIwMC40NDclMkM4JTIwMCUyQzguNDQ4JTIwMCUyQzklMjAwJTJDOS4xODQlMjAwLjA1MyUyQzkuMzU0JTIwMC4xNCUyQzkuNTAyJTIwMC4zMTIlMkM5LjIwNSUyMDAuNjMxJTJDOS4wMDQlMjAxJTJDOS4wMDQlMjB6JTIwbSUyMDglMkMtOCUyMGMlMjAwLjU1MyUyQzAlMjAxJTJDMC40NDclMjAxJTJDMSUyMFYlMjAxJTIwQyUyMDEwJTJDMC40NDglMjA5LjU1MyUyQzAlMjA5JTJDMCUyMDguNDQ3JTJDMCUyMDglMkMwLjQ0OCUyMDglMkMxJTIwdiUyMDEuMDA0JTIwYyUyMDAlMkMtMC41NTMlMjAwLjQ0NyUyQy0xJTIwMSUyQy0xJTIweiUyMiUyRiUzRSUwQSUyMCUyMCUyMCUyMCUzQyUyRmclM0UlMEElMjAlMjAlMjAlMjAlM0NwYXRoJTIwZCUzRCUyMm0lMjA5JTJDNyUyMGMlMjAxLjQ4NiUyQzAlMjAyLjcxNyUyQzEuMDgyJTIwMi45NTUlMkMyLjUlMjBDJTIwMTEuOTgyJTJDOS4zMzclMjAxMiUyQzkuMTcxJTIwMTIlMkM5JTIwMTIlMkM3LjM0NCUyMDEwLjY1NiUyQzYlMjA5JTJDNiUyMDcuMzQ0JTJDNiUyMDYlMkM3LjM0NCUyMDYlMkM5JTIwNiUyQzkuMTcxJTIwNi4wMTglMkM5LjMzNyUyMDYuMDQ1JTJDOS41JTIwNi4yODMlMkM4LjA4MiUyMDcuNTE0JTJDNyUyMDklMkM3JTIweiUyMiUyMGZpbGwlM0QlMjIlMjMyZTJlMmUlMjIlMkYlM0UlMEElM0MlMkZzdmclM0UlMEFcXFwiKX0uZGctY29udHJvbC1yb3VuZF9faWNvbl9zdGF0ZV9yZXF1ZXN0aW5nLmRnLWNvbnRyb2wtcm91bmRfX2ljb25fbmFtZV9sb2NhdGU6YWN0aXZlOmFmdGVyLC5kZy1jb250cm9sLXJvdW5kX19pY29uX3N0YXRlX3JlcXVlc3RpbmcuZGctY29udHJvbC1yb3VuZF9faWNvbl9uYW1lX2xvY2F0ZTphZnRlciwubm8tdG91Y2ggLmRnLWNvbnRyb2wtcm91bmRfX2ljb25fc3RhdGVfcmVxdWVzdGluZy5kZy1jb250cm9sLXJvdW5kX19pY29uX25hbWVfbG9jYXRlOmhvdmVyOmFmdGVye2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDt3aWR0aDoyNHB4O2hlaWdodDoyNHB4O2JhY2tncm91bmQtaW1hZ2U6dXJsKGh0dHBzOi8vbWFwcy5hcGkuMmdpcy5ydS8yLjAvaW1nL3Nwcml0ZS5kYXJrLnBuZyk7YmFja2dyb3VuZC1wb3NpdGlvbjowIDA7YmFja2dyb3VuZC1zaXplOjc4cHggNjVweDstd2Via2l0LWFuaW1hdGlvbjpER0xvY2F0aW9uX19sb2NhdGVJY29uUmVxdWVzdGluZ0FuaW0gMXMgbGluZWFyIGluZmluaXRlO2FuaW1hdGlvbjpER0xvY2F0aW9uX19sb2NhdGVJY29uUmVxdWVzdGluZ0FuaW0gMXMgbGluZWFyIGluZmluaXRlO2ltYWdlLXJlbmRlcmluZzpvcHRpbWl6ZVF1YWxpdHl9LmxlYWZsZXQtcmV0aW5hIC5kZy1jb250cm9sLXJvdW5kX19pY29uX3N0YXRlX3JlcXVlc3RpbmcuZGctY29udHJvbC1yb3VuZF9faWNvbl9uYW1lX2xvY2F0ZTphY3RpdmU6YWZ0ZXIsLmxlYWZsZXQtcmV0aW5hIC5kZy1jb250cm9sLXJvdW5kX19pY29uX3N0YXRlX3JlcXVlc3RpbmcuZGctY29udHJvbC1yb3VuZF9faWNvbl9uYW1lX2xvY2F0ZTphZnRlciwubGVhZmxldC1yZXRpbmEgLm5vLXRvdWNoIC5kZy1jb250cm9sLXJvdW5kX19pY29uX3N0YXRlX3JlcXVlc3RpbmcuZGctY29udHJvbC1yb3VuZF9faWNvbl9uYW1lX2xvY2F0ZTpob3ZlcjphZnRlcntiYWNrZ3JvdW5kLWltYWdlOnVybChodHRwczovL21hcHMuYXBpLjJnaXMucnUvMi4wL2ltZy9zcHJpdGVAMnguZGFyay5wbmcpO2JhY2tncm91bmQtcG9zaXRpb246MCAwO2JhY2tncm91bmQtc2l6ZTo3OHB4IDY1cHh9LmRnLWNvbnRyb2wtcm91bmRfX2ljb25fbmFtZV9mdWxsc2NyZWVuOmFmdGVye3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO3JpZ2h0OjA7Ym90dG9tOjA7bGVmdDowO21hcmdpbjphdXRvO2NvbnRlbnQ6Jyd9LmRnLWNvbnRyb2wtcm91bmRfX2ljb25fc3RhdGVfYWN0aXZlLmRnLWNvbnRyb2wtcm91bmRfX2ljb25fbmFtZV9mdWxsc2NyZWVuOmFjdGl2ZTphZnRlciwuZGctY29udHJvbC1yb3VuZF9faWNvbl9zdGF0ZV9hY3RpdmUuZGctY29udHJvbC1yb3VuZF9faWNvbl9uYW1lX2Z1bGxzY3JlZW46YWZ0ZXIsLm5vLXRvdWNoIC5kZy1jb250cm9sLXJvdW5kX19pY29uX3N0YXRlX2FjdGl2ZS5kZy1jb250cm9sLXJvdW5kX19pY29uX25hbWVfZnVsbHNjcmVlbjpob3ZlcjphZnRlcntiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXQ7YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0NzdmclMjB4bWxucyUzRCUyMmh0dHAlM0ElMkYlMkZ3d3cudzMub3JnJTJGMjAwMCUyRnN2ZyUyMiUyMHdpZHRoJTNEJTIyMTYlMjIlMjBoZWlnaHQlM0QlMjIxNiUyMiUzRSUwQSUyMCUyMCUyMCUyMCUzQ3BhdGglMjBkJTNEJTIyTSUyMDYlMkMxJTIwSCUyMDElMjBWJTIwNiUyMEglMjAzJTIwViUyMDMlMjBoJTIwMyUyMHolMjBtJTIwNCUyQzE0JTIwaCUyMDUlMjB2JTIwLTUlMjBoJTIwLTIlMjB2JTIwMyUyMEglMjAxMCUyMHolMjBNJTIwMTUlMkM2JTIwViUyMDElMjBoJTIwLTUlMjB2JTIwMiUyMGglMjAzJTIwViUyMDYlMjB6JTIwTSUyMDElMkMxMCUyMHYlMjA1JTIwSCUyMDYlMjBWJTIwMTMlMjBIJTIwMyUyMHYlMjAtMyUyMHolMjIlMjBmaWxsJTNEJTIyJTIzMGRhNGQ0JTIyJTJGJTNFJTBBJTIwJTIwJTIwJTIwJTNDcGF0aCUyMGQlM0QlMjJNJTIwMSUyQzElMjBIJTIwNiUyMFYlMjAyJTIwSCUyMDElMjB6JTIwbSUyMDklMkMwJTIwaCUyMDUlMjB2JTIwMSUyMGglMjAtNSUyMHolMjBtJTIwMyUyQzklMjBoJTIwMiUyMHYlMjAxJTIwaCUyMC0yJTIweiUyMG0lMjAtMyUyQzMlMjBoJTIwMyUyMHYlMjAxJTIwaCUyMC0zJTIweiUyMG0lMjAtNyUyQzAlMjBoJTIwMyUyMHYlMjAxJTIwSCUyMDMlMjB6JTIwTSUyMDElMkMxMCUyMGglMjAyJTIwdiUyMDElMjBIJTIwMSUyMHolMjIlMjBmaWxsJTNEJTIyJTIzMGE4NGFiJTIyJTJGJTNFJTBBJTIwJTIwJTIwJTIwJTNDcGF0aCUyMGQlM0QlMjJNJTIwMSUyQzYlMjBIJTIwMyUyMFYlMjA3JTIwSCUyMDElMjB6JTIwbSUyMDEyJTJDMCUyMGglMjAyJTIwViUyMDclMjBIJTIwMTMlMjB6JTIwTSUyMDElMkMxNSUyMGglMjA1JTIwdiUyMDElMjBIJTIwMSUyMHolMjBtJTIwOSUyQzAlMjBoJTIwNSUyMHYlMjAxJTIwaCUyMC01JTIweiUyMiUyMGZpbGwlM0QlMjIlMjNmZmYlMjIlMkYlM0UlMEElM0MlMkZzdmclM0UlMEFcXFwiKX0uZGctY29udHJvbC1yb3VuZF9faWNvbl9uYW1lX2Z1bGxzY3JlZW46YWZ0ZXJ7YmFja2dyb3VuZC1yZXBlYXQ6bm8tcmVwZWF0O2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnJTIweG1sbnMlM0QlMjJodHRwJTNBJTJGJTJGd3d3LnczLm9yZyUyRjIwMDAlMkZzdmclMjIlMjB3aWR0aCUzRCUyMjE2JTIyJTIwaGVpZ2h0JTNEJTIyMTYlMjIlM0UlMEElMjAlMjAlMjAlMjAlM0NwYXRoJTIwZCUzRCUyMk0lMjAxJTJDMyUyMEglMjA2JTIwViUyMDQlMjBIJTIwMSUyMHolMjIlMjBmaWxsJTNEJTIyJTIzZmZmJTIyJTJGJTNFJTBBJTIwJTIwJTIwJTIwJTNDcGF0aCUyMGQlM0QlMjJNJTIwNiUyQzElMjBIJTIwMSUyMFYlMjA2JTIwSCUyMDMlMjBWJTIwMyUyMGglMjAzJTIweiUyMG0lMjA0JTJDMTQlMjBoJTIwNSUyMHYlMjAtNSUyMGglMjAtMiUyMHYlMjAzJTIwaCUyMC0zJTIweiUyMiUyMGZpbGwlM0QlMjIlMjM2YzZjNmMlMjIlMkYlM0UlMEElMjAlMjAlMjAlMjAlM0NwYXRoJTIwZCUzRCUyMm0lMjAxMCUyQzMlMjBoJTIwNSUyMHYlMjAxJTIwaCUyMC01JTIweiUyMiUyMGZpbGwlM0QlMjIlMjNmZmYlMjIlMkYlM0UlMEElMjAlMjAlMjAlMjAlM0NwYXRoJTIwZCUzRCUyMk0lMjAxNSUyQzYlMjBWJTIwMSUyMGglMjAtNSUyMHYlMjAyJTIwaCUyMDMlMjBWJTIwNiUyMHolMjBNJTIwMSUyQzEwJTIwdiUyMDUlMjBIJTIwNiUyMFYlMjAxMyUyMEglMjAzJTIwdiUyMC0zJTIweiUyMiUyMGZpbGwlM0QlMjIlMjM2YzZjNmMlMjIlMkYlM0UlMEElMjAlMjAlMjAlMjAlM0NwYXRoJTIwZCUzRCUyMk0lMjAxJTJDMSUyMEglMjA2JTIwViUyMDIlMjBIJTIwMSUyMHolMjBtJTIwOSUyQzAlMjBoJTIwNSUyMHYlMjAxJTIwaCUyMC01JTIweiUyMG0lMjAzJTJDOSUyMGglMjAyJTIwdiUyMDElMjBoJTIwLTIlMjB6JTIwbSUyMC0zJTJDMyUyMGglMjAzJTIwdiUyMDElMjBoJTIwLTMlMjB6JTIwbSUyMC03JTJDMCUyMGglMjAzJTIwdiUyMDElMjBIJTIwMyUyMHolMjBNJTIwMSUyQzEwJTIwaCUyMDIlMjB2JTIwMSUyMEglMjAxJTIweiUyMiUyMGZpbGwlM0QlMjIlMjM0YjRiNGIlMjIlMkYlM0UlMEElMjAlMjAlMjAlMjAlM0NwYXRoJTIwZCUzRCUyMk0lMjAxJTJDNiUyMEglMjAzJTIwViUyMDclMjBIJTIwMSUyMHolMjBtJTIwMTIlMkMwJTIwaCUyMDIlMjBWJTIwNyUyMEglMjAxMyUyMHolMjBNJTIwMSUyQzE1JTIwaCUyMDUlMjB2JTIwMSUyMEglMjAxJTIweiUyMG0lMjA5JTJDMCUyMGglMjA1JTIwdiUyMDElMjBoJTIwLTUlMjB6JTIyJTIwZmlsbCUzRCUyMiUyM2ZmZiUyMiUyRiUzRSUwQSUzQyUyRnN2ZyUzRSUwQVxcXCIpO3dpZHRoOjE2cHg7aGVpZ2h0OjE2cHg7YmFja2dyb3VuZC1zaXplOjE2cHggMTZweH0uZGctY29udHJvbC1yb3VuZF9faWNvbl9uYW1lX2Z1bGxzY3JlZW46YWN0aXZlOmFmdGVyLC5uby10b3VjaCAuZGctY29udHJvbC1yb3VuZF9faWNvbl9uYW1lX2Z1bGxzY3JlZW46aG92ZXI6YWZ0ZXJ7YmFja2dyb3VuZC1yZXBlYXQ6bm8tcmVwZWF0O2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnJTIweG1sbnMlM0QlMjJodHRwJTNBJTJGJTJGd3d3LnczLm9yZyUyRjIwMDAlMkZzdmclMjIlMjB3aWR0aCUzRCUyMjE2JTIyJTIwaGVpZ2h0JTNEJTIyMTYlMjIlM0UlMEElMjAlMjAlMjAlMjAlM0NwYXRoJTIwZCUzRCUyMm0lMjAxMiUyQzklMjBoJTIwNCUyMHYlMjA3JTIwaCUyMC00JTIweiUyMG0lMjAtMyUyQzMlMjBoJTIwNSUyMHYlMjA0JTIwSCUyMDklMjB6JTIyJTIwZmlsbCUzRCUyMiUyM2ZmZiUyMiUyRiUzRSUwQSUyMCUyMCUyMCUyMCUzQ3BhdGglMjBkJTNEJTIybSUyMDEwJTJDMTUlMjBoJTIwNSUyMHYlMjAtNSUyMGglMjAtMiUyMHYlMjAzJTIwaCUyMC0zJTIweiUyMiUyMGZpbGwlM0QlMjIlMjMyODI4MjglMjIlMkYlM0UlMEElMjAlMjAlMjAlMjAlM0NwYXRoJTIwZCUzRCUyMm0lMjAwJTJDOSUyMGglMjA0JTIwdiUyMDclMjBIJTIwMCUyMHolMjBtJTIwMiUyQzMlMjBoJTIwNSUyMHYlMjA0JTIwSCUyMDIlMjB6JTIyJTIwZmlsbCUzRCUyMiUyM2ZmZiUyMiUyRiUzRSUwQSUyMCUyMCUyMCUyMCUzQ3BhdGglMjBkJTNEJTIybSUyMDElMkMxMCUyMHYlMjA1JTIwSCUyMDYlMjBWJTIwMTMlMjBIJTIwMyUyMHYlMjAtMyUyMHolMjIlMjBmaWxsJTNEJTIyJTIzMjgyODI4JTIyJTJGJTNFJTBBJTIwJTIwJTIwJTIwJTNDcGF0aCUyMGQlM0QlMjJNJTIwMCUyQzAlMjBIJTIwNCUyMFYlMjA3JTIwSCUyMDAlMjB6JTIwbSUyMDklMkMwJTIwaCUyMDUlMjBWJTIwNCUyMEglMjA5JTIweiUyMG0lMjAzJTJDMCUyMGglMjA0JTIwdiUyMDclMjBoJTIwLTQlMjB6JTIyJTIwZmlsbCUzRCUyMiUyM2ZmZiUyMiUyRiUzRSUwQSUyMCUyMCUyMCUyMCUzQ3BhdGglMjBkJTNEJTIyTSUyMDE1JTJDNiUyMFYlMjAxJTIwaCUyMC01JTIwdiUyMDIlMjBoJTIwMyUyMHYlMjAzJTIweiUyMiUyMGZpbGwlM0QlMjIlMjMyODI4MjglMjIlMkYlM0UlMEElMjAlMjAlMjAlMjAlM0NwYXRoJTIwZCUzRCUyMk0lMjAyJTJDMCUyMEglMjA3JTIwViUyMDQlMjBIJTIwMiUyMHolMjIlMjBmaWxsJTNEJTIyJTIzZmZmJTIyJTJGJTNFJTBBJTIwJTIwJTIwJTIwJTNDcGF0aCUyMGQlM0QlMjJNJTIwNiUyQzElMjBIJTIwMSUyMFYlMjA2JTIwSCUyMDMlMjBWJTIwMyUyMGglMjAzJTIweiUyMiUyMGZpbGwlM0QlMjIlMjMyODI4MjglMjIlMkYlM0UlMEElM0MlMkZzdmclM0UlMEFcXFwiKX0uZGctYnVpbGRpbmctY2FsbG91dF9fYm9keXtwb3NpdGlvbjpyZWxhdGl2ZX0uZGctYnVpbGRpbmctY2FsbG91dF9fbGlzdHttYXJnaW4tYm90dG9tOjhweDtwYWRkaW5nLWxlZnQ6MjRweDtjb2xvcjojZmZlNmFhO2xpc3Qtc3R5bGU6bm9uZX0uZGctYnVpbGRpbmctY2FsbG91dF9fbGlzdC1pdGVte3Bvc2l0aW9uOnJlbGF0aXZlO21hcmdpbi1ib3R0b206NHB4O2ZvbnQtc2l6ZToxMnB4fS5kZy1idWlsZGluZy1jYWxsb3V0X19saXN0LWl0ZW06YmVmb3Jle3Bvc2l0aW9uOmFic29sdXRlO3RvcDo1cHg7bGVmdDotMjFweDtjb250ZW50OicnO2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDtiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyUyMHhtbG5zJTNEJTIyaHR0cCUzQSUyRiUyRnd3dy53My5vcmclMkYyMDAwJTJGc3ZnJTIyJTIwd2lkdGglM0QlMjI2JTIyJTIwaGVpZ2h0JTNEJTIyNiUyMiUzRSUwQSUyMCUyMCUyMCUyMCUzQ3BhdGglMjBkJTNEJTIyTSUyMDMlMkMtMC4wMDIlMjBDJTIwNC42NTQlMkMtMC4wMDIlMjA1Ljk5NCUyQzEuMzQyJTIwNS45OTQlMkMzJTIwNS45OTQlMkM0LjY1OCUyMDQuNjU1JTJDNi4wMDIlMjAzJTJDNi4wMDIlMjAxLjM0NSUyQzYuMDAyJTIwMC4wMDUlMkM0LjY1OCUyMDAuMDA1JTJDMyUyMDAuMDA1JTJDMS4zNDIlMjAxLjM0NiUyQy0wLjAwMiUyMDMlMkMtMC4wMDIlMjB6JTIyJTIwZmlsbCUzRCUyMiUyM2FhYSUyMiUyMGZpbGwtcnVsZSUzRCUyMmV2ZW5vZGQlMjIlMkYlM0UlMEElM0MlMkZzdmclM0UlMEFcXFwiKTt3aWR0aDo2cHg7aGVpZ2h0OjZweDtiYWNrZ3JvdW5kLXNpemU6NnB4IDZweH0uZGctbWFwLWdlb2NsaWNrZXJfX2FkZHJlc3N7bWFyZ2luLWJvdHRvbToxMHB4O2ZvbnQtc2l6ZToxNnB4fS5kZy1tYXAtZ2VvY2xpY2tlcl9fcHVycG9zZSsuZGctbWFwLWdlb2NsaWNrZXJfX2FkZHJlc3N7bWFyZ2luLXRvcDotNnB4fS5kZy1tYXAtZ2VvY2xpY2tlcl9fYWRkcmVzcy1oZWFkZXJ7cG9zaXRpb246cmVsYXRpdmU7bWFyZ2luLWJvdHRvbTo0cHg7cGFkZGluZy1sZWZ0OjI0cHh9LmRnLW1hcC1nZW9jbGlja2VyX19hZGRyZXNzLWhlYWRlcjpmaXJzdC1jaGlsZDpiZWZvcmV7cG9zaXRpb246YWJzb2x1dGU7dG9wOjVweDtsZWZ0OjFweDtjb250ZW50OicnfS5kZy1tYXAtZ2VvY2xpY2tlcl9fYWRkcmVzcy1kcmlsbGRvd257cG9zaXRpb246cmVsYXRpdmU7bWFyZ2luLWJvdHRvbTo0cHg7cGFkZGluZy1sZWZ0OjI0cHg7Y29sb3I6I2FhYTtmb250LXNpemU6MTJweH0uZGctbWFwLWdlb2NsaWNrZXJfX2FkZHJlc3MtZHJpbGxkb3duOmZpcnN0LWNoaWxkOmJlZm9yZXtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MnB4O2xlZnQ6MXB4O2NvbnRlbnQ6Jyd9LmRnLW1hcC1nZW9jbGlja2VyX19wdXJwb3Nle3Bvc2l0aW9uOnJlbGF0aXZlO21hcmdpbi1ib3R0b206MTBweDtwYWRkaW5nLWxlZnQ6MjRweDtmb250LXNpemU6MTZweH0uZGctbWFwLWdlb2NsaWNrZXJfX2FkZHJlc3MrLmRnLW1hcC1nZW9jbGlja2VyX19wdXJwb3Nle21hcmdpbi10b3A6LTZweH0uZGctbWFwLWdlb2NsaWNrZXJfX3B1cnBvc2U6YmVmb3Jle3Bvc2l0aW9uOmFic29sdXRlO3RvcDo0cHg7bGVmdDoycHg7Y29udGVudDonJ30uZGctbWFwLWdlb2NsaWNrZXJfX3B1cnBvc2VfdHlwZV9zdHJlZXQ6YmVmb3Jle3RvcDo0cHh9LmRnLW1hcC1nZW9jbGlja2VyX19zaWdodC1kZXNjcmlwdGlvbntvdmVyZmxvdzpoaWRkZW47cGFkZGluZzouNWVtIDAgMCAyNHB4O21heC1oZWlnaHQ6My42ZW19YS5kZy1tYXAtZ2VvY2xpY2tlcl9fc2hvdy1tb3JlLXNpZ2h0cy1saW5re3Bvc2l0aW9uOnJlbGF0aXZlO21hcmdpbi1sZWZ0OjI0cHg7Ym9yZGVyLWJvdHRvbToxcHggZG90dGVkO3RleHQtZGVjb3JhdGlvbjpub25lfWEuZGctbWFwLWdlb2NsaWNrZXJfX3Nob3ctbW9yZS1zaWdodHMtbGluazphZnRlcntwb3NpdGlvbjphYnNvbHV0ZTt0b3A6NHB4O21hcmdpbi1sZWZ0OjVweDt3aWR0aDo2cHg7aGVpZ2h0OjEwcHg7Y29udGVudDonJztmb250LXdlaWdodDo3MDB9LmRnLW1hcC1nZW9jbGlja2VyX19jbGFtcGVkLWxpbmV7ZGlzcGxheTpibG9jazt3aGl0ZS1zcGFjZTpub3dyYXB9LmRnLW1hcC1nZW9jbGlja2VyX19jbGFtcGVkLWxpbmVfbGFzdHtvdmVyZmxvdzpoaWRkZW47d2lkdGg6MTAwJTt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzfS5kZy1tYXAtZ2VvY2xpY2tlcl9fcHJlbG9hZGVyLXdyYXBwZXJ7ZGlzcGxheTp0YWJsZS1jZWxsO3ZlcnRpY2FsLWFsaWduOm1pZGRsZTt0ZXh0LWFsaWduOmNlbnRlcn0uZGctbWFwLWdlb2NsaWNrZXJfX2RyaWxsZG93bnttYXJnaW4tYm90dG9tOjEwcHh9LmRnLW1hcC1nZW9jbGlja2VyX19hZGRyZXNzLWRyaWxsZG93bjpmaXJzdC1jaGlsZDpiZWZvcmUsLmRnLW1hcC1nZW9jbGlja2VyX19hZGRyZXNzLWhlYWRlcjpmaXJzdC1jaGlsZDpiZWZvcmV7YmFja2dyb3VuZC1yZXBlYXQ6bm8tcmVwZWF0O2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnJTIweG1sbnMlM0QlMjJodHRwJTNBJTJGJTJGd3d3LnczLm9yZyUyRjIwMDAlMkZzdmclMjIlMjB3aWR0aCUzRCUyMjklMjIlMjBoZWlnaHQlM0QlMjIxMSUyMiUzRSUwQSUyMCUyMCUyMCUyMCUzQ3BhdGglMjBkJTNEJTIyTSUyMDQuOTU4JTJDMTElMjBDJTIwNC45NTglMkM5LjAzNiUyMDYuNzU2JTJDNi43NTElMjA4LjcxOSUyQzYuNzUxJTIwOC44ODUlMkM2LjIyMyUyMDklMkM1LjY1NiUyMDklMkM1LjA2MyUyMDklMkMyLjI2NyUyMDYuOTg1JTJDMCUyMDQuNSUyQzAlMjAyLjAxNSUyQzAlMjAwJTJDMi4yNjclMjAwJTJDNS4wNjMlMjAwJTJDNS42NTYlMjAwLjExNCUyQzYuMjIyJTIwMC4yOCUyQzYuNzUxJTIwMi4yNDMlMkM2Ljc1MSUyMDQuMDE4JTJDOS4wMTIlMjA0LjAxOCUyQzExJTIwaCUyMDAuOTQlMjB6JTIyJTIwZmlsbCUzRCUyMiUyM2EwYTBhMCUyMiUyRiUzRSUwQSUzQyUyRnN2ZyUzRSUwQVxcXCIpO3dpZHRoOjlweDtoZWlnaHQ6MTFweDtiYWNrZ3JvdW5kLXNpemU6OXB4IDExcHh9LmRnLW1hcC1nZW9jbGlja2VyX19wdXJwb3NlOmJlZm9yZXtiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXQ7YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0NzdmclMjB4bWxucyUzRCUyMmh0dHAlM0ElMkYlMkZ3d3cudzMub3JnJTJGMjAwMCUyRnN2ZyUyMiUyMHdpZHRoJTNEJTIyOCUyMiUyMGhlaWdodCUzRCUyMjEyJTIyJTNFJTBBJTIwJTIwJTIwJTIwJTNDcGF0aCUyMGQlM0QlMjJtJTIwMy41ODIlMkM4JTIwYyUyMDAuMjExJTJDMCUyMDAuNzk4JTJDMC4wMzUlMjAxJTJDMCUyMHYlMjA0JTIwbCUyMC0yJTJDLTElMjBWJTIwOCUyMGMlMjAwLjM3MiUyQzAuMDY2JTIwMC44NjElMkMwJTIwMSUyQzAlMjB6JTIwTSUyMDAuNDQlMkM1LjM4NCUyMEMlMjAwLjE2MyUyQzQuODY2JTIwMCUyQzQuMjc2JTIwMCUyQzMuNjQ2JTIwMCUyQzEuNjMzJTIwMS42MDQlMkMwLjAwMiUyMDMuNTgyJTJDMC4wMDIlMjBjJTIwMS45NzglMkMwJTIwMy41ODIlMkMxLjYzMSUyMDMuNTgyJTJDMy42NDQlMjAwJTJDMC42NDclMjAtMC4xNjklMkMxLjI1NCUyMC0wLjQ2MSUyQzEuNzgxJTIwTCUyMDYuNjQxJTJDNS40OTUlMjA2LjYxOCUyQzUuNTY3JTIwQyUyMDUuOTU0JTJDNi41NDklMjA0Ljg0NCUyQzcuMTkyJTIwMy41ODQlMkM3LjE5MiUyMDIuMjUlMkM3LjE5MiUyMDEuMDg0JTJDNi40NjclMjAwLjQ0JTJDNS4zODQlMjB6JTIwTSUyMDIuNjEzJTJDMS4yNzYlMjBjJTIwLTAuNTQ5JTJDMCUyMC0wLjk5NSUyQzAuNDUzJTIwLTAuOTk1JTJDMS4wMTMlMjAwJTJDMC41NTklMjAwLjQ0NiUyQzEuMDEzJTIwMC45OTUlMkMxLjAxMyUyMDAuNTUxJTJDMCUyMDAuOTk2JTJDLTAuNDU0JTIwMC45OTYlMkMtMS4wMTMlMjAwJTJDLTAuNTYlMjAtMC40NDUlMkMtMS4wMTMlMjAtMC45OTYlMkMtMS4wMTMlMjB6JTIyJTIwZmlsbCUzRCUyMiUyM2EwYTBhMCUyMiUyRiUzRSUwQSUzQyUyRnN2ZyUzRSUwQVxcXCIpO3dpZHRoOjhweDtoZWlnaHQ6MTJweDtiYWNrZ3JvdW5kLXNpemU6OHB4IDEycHh9LmRnLW1hcC1nZW9jbGlja2VyX19wdXJwb3NlX3R5cGVfc3RyZWV0OmJlZm9yZXtiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXQ7YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0NzdmclMjB4bWxucyUzRCUyMmh0dHAlM0ElMkYlMkZ3d3cudzMub3JnJTJGMjAwMCUyRnN2ZyUyMiUyMHdpZHRoJTNEJTIyMTIlMjIlMjBoZWlnaHQlM0QlMjIxMiUyMiUzRSUwQSUyMCUyMCUyMCUyMCUzQ3BhdGglMjBkJTNEJTIyTSUyMDguOCUyQzAlMjBIJTIwMy4xOTklMjBMJTIwMCUyQzEyJTIwSCUyMDEyJTIwTCUyMDguOCUyQzAlMjB6JTIwTSUyMDclMkMxMiUyMEglMjA1JTIwViUyMDklMjBoJTIwMiUyMHYlMjAzJTIweiUyME0lMjA3JTJDOCUyMEglMjA1JTIwViUyMDYlMjBIJTIwNyUyMFYlMjA4JTIweiUyME0lMjA3JTJDNSUyMEglMjA1JTIwViUyMDMlMjBIJTIwNyUyMFYlMjA1JTIweiUyME0lMjA3JTJDMiUyMEglMjA1JTIwViUyMDAlMjBoJTIwMiUyMHYlMjAyJTIweiUyMiUyMGZpbGwlM0QlMjIlMjNhMGEwYTAlMjIlMkYlM0UlMEElM0MlMkZzdmclM0UlMEFcXFwiKTt3aWR0aDoxMnB4O2hlaWdodDoxMnB4O2JhY2tncm91bmQtc2l6ZToxMnB4IDEycHh9LmRnLW1hcC1nZW9jbGlja2VyX19wdXJwb3NlX3R5cGVfc2lnaHQ6YmVmb3Jle2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDtiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyUyMHhtbG5zJTNEJTIyaHR0cCUzQSUyRiUyRnd3dy53My5vcmclMkYyMDAwJTJGc3ZnJTIyJTIwd2lkdGglM0QlMjI4JTIyJTIwaGVpZ2h0JTNEJTIyMTIlMjIlM0UlMEElMjAlMjAlMjAlMjAlM0NwYXRoJTIwZCUzRCUyMk0lMjA3JTJDMCUyMEglMjAyLjU0NyUyMEMlMjAwLjU0NyUyQzAlMjAwJTJDMC44MjglMjAwJTJDMi41JTIwMCUyQzMuNzM0JTIwMC41JTJDNSUyMDIlMkM1JTIwMy4zNTklMkM1JTIwNCUyQzMuODQ0JTIwNCUyQzMlMjA0JTJDMi4yODElMjAyLjg1OSUyQzIlMjAyJTJDMiUyMDIlMkMyLjc2NiUyMDIuMjM0JTJDMyUyMDMlMkMzJTIwMyUyQzMuNjklMjAyLjQ4JTJDNCUyMDIlMkM0JTIwMS4yMzQlMkM0JTIwMSUyQzMuMzI5JTIwMSUyQzIuNSUyMDElMkMxLjY5MyUyMDEuMzc1JTJDMSUyMDIuNSUyQzElMjA0LjM5MSUyQzElMjA1JTJDMS42NTYlMjA1JTJDMyUyMDUlMkM0LjYlMjA0LjMzOCUyQzUuMTE5JTIwMyUyQzYlMjB2JTIwNCUyMEglMjAyJTIwdiUyMDIlMjBIJTIwOCUyMFYlMjAxJTIwTCUyMDclMkMwJTIweiUyME0lMjA0JTJDMTAlMjBWJTIwNiUyMGwlMjAxJTJDMSUyMHYlMjAzJTIwSCUyMDQlMjB6JTIwbSUyMDIlMkMwJTIwViUyMDYlMjBsJTIwMSUyQzElMjB2JTIwMyUyMEglMjA2JTIweiUyMiUyMGZpbGwlM0QlMjIlMjNhYWElMjIlMjBmaWxsLXJ1bGUlM0QlMjJldmVub2RkJTIyJTJGJTNFJTBBJTNDJTJGc3ZnJTNFJTBBXFxcIik7d2lkdGg6OHB4O2hlaWdodDoxMnB4O2JhY2tncm91bmQtc2l6ZTo4cHggMTJweH0uZGctbWFwLWdlb2NsaWNrZXJfX3B1cnBvc2VfdHlwZV9zZXR0bGVtZW50OmJlZm9yZXtiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXQ7YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0NzdmclMjB4bWxucyUzRCUyMmh0dHAlM0ElMkYlMkZ3d3cudzMub3JnJTJGMjAwMCUyRnN2ZyUyMiUyMHdpZHRoJTNEJTIyMTIlMjIlMjBoZWlnaHQlM0QlMjIxMiUyMiUzRSUwQSUyMCUyMCUyMCUyMCUzQ3BhdGglMjBkJTNEJTIyTSUyMDklMkM5JTIwQyUyMDguMjM1JTJDOSUyMDcuNzYyJTJDOS41MjIlMjA3LjI1OSUyQzEwLjAyMiUyMDcuNzk1JTJDMTAuMzglMjA4LjA1MSUyQzExLjA1JTIwNy44NzklMkMxMiUyMEglMjAxMiUyMEMlMjAxMiUyQzEwLjQ2JTIwMTAuNTM1JTJDOSUyMDklMkM5JTIweiUyMG0lMjAtMi44NjglMkMxLjI0OCUyMGMlMjAtMC45NjUlMkMwJTIwLTEuNzQ3JTJDMC43ODQlMjAtMS43NDclMkMxLjc1MSUyMGglMjAzLjQ5NCUyMGMlMjAwJTJDLTAuOTY3JTIwLTAuNzgyJTJDLTEuNzUxJTIwLTEuNzQ3JTJDLTEuNzUxJTIweiUyME0lMjAxMCUyQzElMjBWJTIwMCUyMEglMjA3JTIwViUyMDElMjBIJTIwNSUyMFYlMjA2JTIwTCUyMDYlMkM3JTIwViUyMDIlMjBIJTIwNyUyMFYlMjA3JTIwTCUyMDglMkM4JTIwViUyMDIlMjBoJTIwMSUyMHYlMjA2JTIwaCUyMDElMjBWJTIwMiUyMGglMjAxJTIwdiUyMDclMjBsJTIwMSUyQzAuNjA3JTIwViUyMDElMjBIJTIwMTAlMjB6JTIwTSUyMDYuNjYlMkM5LjUzOSUyMDYuNzIxJTJDOS40NzklMjBDJTIwNi45MDMlMkM5LjI5NyUyMDcuMTA0JTJDOS4xNCUyMDcuMzE0JTJDOS4wMDQlMjBWJTIwOC40MTQlMjBMJTIwNi4xMzElMkM3LjE4NyUyMDMlMkM4JTIwdiUyMDQlMjBIJTIwMy42MiUyMEMlMjAzLjYyJTJDMTAuNjEyJTIwNC43NDclMkM5LjQ4MyUyMDYuMTMyJTJDOS40ODMlMjA2LjMxMiUyQzkuNDgyJTIwNi40OSUyQzkuNTAyJTIwNi42NiUyQzkuNTM5JTIweiUyME0lMjAyJTJDMTIlMjB6JTIwTSUyMDElMkMyJTIwMCUyQzUlMjB2JTIwNyUyMEglMjAyJTIwViUyMDUlMjBMJTIwMSUyQzIlMjB6JTIwTSUyMDEuMTExJTJDNi45NTUlMjBDJTIwMC44MDQlMkM2Ljk1NSUyMDAuNTU2JTJDNi43MDYlMjAwLjU1NiUyQzYuNCUyMGMlMjAwJTJDLTAuMzA3JTIwMC4yNDglMkMtMC41NTUlMjAwLjU1NSUyQy0wLjU1NSUyMDAuMzA3JTJDMCUyMDAuNTU0JTJDMC4yNDglMjAwLjU1NCUyQzAuNTU1JTIwMCUyQzAuMzA2JTIwLTAuMjQ3JTJDMC41NTUlMjAtMC41NTQlMkMwLjU1NSUyMHolMjIlMjBmaWxsJTNEJTIyJTIzYTBhMGEwJTIyJTJGJTNFJTBBJTNDJTJGc3ZnJTNFJTBBXFxcIik7d2lkdGg6MTJweDtoZWlnaHQ6MTJweDtiYWNrZ3JvdW5kLXNpemU6MTJweCAxMnB4fWEuZGctbWFwLWdlb2NsaWNrZXJfX3Nob3ctbW9yZS1zaWdodHMtbGlua3tjb2xvcjojZmZlNmFhfS5uby10b3VjaCBhLmRnLW1hcC1nZW9jbGlja2VyX19zaG93LW1vcmUtc2lnaHRzLWxpbms6aG92ZXJ7Y29sb3I6IzljZH1hLmRnLW1hcC1nZW9jbGlja2VyX19zaG93LW1vcmUtc2lnaHRzLWxpbms6YWZ0ZXJ7YmFja2dyb3VuZC1yZXBlYXQ6bm8tcmVwZWF0O2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnJTIweG1sbnMlM0QlMjJodHRwJTNBJTJGJTJGd3d3LnczLm9yZyUyRjIwMDAlMkZzdmclMjIlMjB3aWR0aCUzRCUyMjYlMjIlMjBoZWlnaHQlM0QlMjIxMCUyMiUyMHZpZXdCb3glM0QlMjIwJTIwMCUyMDYlMjAxMCUyMiUzRSUwQSUyMCUyMCUyMCUyMCUzQ3BhdGglMjBkJTNEJTIyTSUyMDYlMkM1JTIwViUyMDUuNCUyMEwlMjAxLjQlMkMxMCUyMEglMjAwJTIwTCUyMDAlMkM4LjYlMjAzLjYlMkM1JTIwMCUyQzEuNCUyMDAlMkMwJTIwMS40JTJDMCUyMDYlMkM0LjYlMjBWJTIwNSUyMGwlMjAwJTJDMCUyMDAlMkMwJTIwMCUyQzAlMjAwJTJDMCUyMDAlMkMwJTIweiUyMiUyMGZpbGwlM0QlMjIlMjNhYWElMjIlMjBmaWxsLXJ1bGUlM0QlMjJldmVub2RkJTIyJTJGJTNFJTBBJTNDJTJGc3ZnJTNFJTBBXFxcIil9LmRnLW1hcC1nZW9jbGlja2VyX19kcmlsbGRvd257Y29sb3I6I2FhYX0uZGctcHJlbG9hZGVye3Bvc2l0aW9uOnJlbGF0aXZlO21hcmdpbjowIGF1dG87d2lkdGg6MjAwcHg7aGVpZ2h0OjQ0cHg7dmVydGljYWwtYWxpZ246bWlkZGxlfS5kZy1wcmVsb2FkZXJfYW5pbWF0aW9uX2ZhbHNle2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDtiYWNrZ3JvdW5kLWltYWdlOnVybChodHRwczovL21hcHMuYXBpLjJnaXMucnUvMi4wL2ltZy9ER1ByZWxvYWRlcl9fcHJlbG9hZGVyLmdpZik7YmFja2dyb3VuZC1zaXplOjEwMHB4IDI2cHg7YmFja2dyb3VuZC1hdHRhY2htZW50OnNjcm9sbDtiYWNrZ3JvdW5kLXBvc2l0aW9uOjUwJSA1MCV9LmRnLXByZWxvYWRlcl9hbmltYXRpb25fdHJ1ZTpiZWZvcmV7cG9zaXRpb246YWJzb2x1dGU7dG9wOjUwJTtsZWZ0OjUwJTttYXJnaW46LTIycHggMCAwIC0yMnB4O3dpZHRoOjQ0cHg7aGVpZ2h0OjQ0cHg7b3V0bGluZTp0cmFuc3BhcmVudCBzb2xpZCAxcHg7Y29udGVudDonJzstd2Via2l0LWFuaW1hdGlvbjpkZy1wcmVsb2FkZXJfX291dGVyIDVzIGxpbmVhciBpbmZpbml0ZTthbmltYXRpb246ZGctcHJlbG9hZGVyX19vdXRlciA1cyBsaW5lYXIgaW5maW5pdGU7aW1hZ2UtcmVuZGVyaW5nOm9wdGltaXplUXVhbGl0eX0uZGctcHJlbG9hZGVyX2FuaW1hdGlvbl90cnVlLmRnLXByZWxvYWRlcl9zaXplX3NtYWxsOmJlZm9yZXttYXJnaW46LTEycHggMCAwIC0xMnB4O3dpZHRoOjI0cHg7aGVpZ2h0OjI0cHh9LmRnLXByZWxvYWRlcl9hbmltYXRpb25fdHJ1ZS5kZy1wcmVsb2FkZXJfc2NoZW1lX3JlZ3VsYXI6YmVmb3Jle2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDtiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyUyMHhtbG5zJTNEJTIyaHR0cCUzQSUyRiUyRnd3dy53My5vcmclMkYyMDAwJTJGc3ZnJTIyJTIwd2lkdGglM0QlMjI0NCUyMiUyMGhlaWdodCUzRCUyMjQ0JTIyJTNFJTBBJTIwJTIwJTIwJTIwJTNDcGF0aCUyMGQlM0QlMjJNJTIwMzUuNjglMkMxMC4zMiUyMEMlMjAzOC4zNjglMkMxMy40NjUlMjA0MCUyQzE3LjUzOSUyMDQwJTJDMjIlMjA0MCUyQzMxLjk0MSUyMDMxLjk0MSUyQzQwJTIwMjIlMkM0MCUyMDEyLjA1OSUyQzQwJTIwNCUyQzMxLjk0MSUyMDQlMkMyMiUyMDQlMkMxNy41MzklMjA1LjYzMiUyQzEzLjQ2NSUyMDguMzIlMkMxMC4zMiUyMEwlMjA1LjQ4JTJDNy40OCUyMEMlMjAyLjA3JTJDMTEuMzU0JTIwMCUyQzE2LjQzNCUyMDAlMkMyMiUyMDAlMkMzNC4xNSUyMDkuODUlMkM0NCUyMDIyJTJDNDQlMjAzNC4xNSUyQzQ0JTIwNDQlMkMzNC4xNSUyMDQ0JTJDMjIlMjA0NCUyQzE2LjQzNCUyMDQxLjkzJTJDMTEuMzU0JTIwMzguNTIlMkM3LjQ4JTIwbCUyMC0yLjg0JTJDMi44NCUyMHolMjIlMjBmaWxsJTNEJTIyJTIzMGRhNWQ1JTIyJTJGJTNFJTBBJTIwJTIwJTIwJTIwJTNDcGF0aCUyMGQlM0QlMjJNJTIwOS4yNzElMkM5LjI3MiUyMEMlMjAxMi41MjklMkM2LjAxNSUyMDE3LjAyOSUyQzQlMjAyMiUyQzQlMjAyNi45NzElMkM0JTIwMzEuNDcxJTJDNi4wMTUlMjAzNC43MjklMkM5LjI3MiUyMEwlMjAzNy41NTclMkM2LjQ0NCUyMEMlMjAzMy41NzUlMkMyLjQ2MiUyMDI4LjA3NSUyQzAlMjAyMiUyQzAlMjAxNS45MjUlMkMwJTIwMTAuNDI1JTJDMi40NjIlMjA2LjQ0MyUyQzYuNDQ0JTIwbCUyMDIuODI4JTJDMi44MjglMjB6JTIyJTIwZmlsbCUzRCUyMiUyM2E2Y2QyYSUyMiUyRiUzRSUwQSUzQyUyRnN2ZyUzRSUwQVxcXCIpO2JhY2tncm91bmQtc2l6ZTo0NHB4IDQ0cHh9LmRnLXByZWxvYWRlcl9hbmltYXRpb25fdHJ1ZS5kZy1wcmVsb2FkZXJfc2NoZW1lX3JlZ3VsYXIuZGctcHJlbG9hZGVyX3NpemVfc21hbGw6YmVmb3Jle2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDtiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyUyMHhtbG5zJTNEJTIyaHR0cCUzQSUyRiUyRnd3dy53My5vcmclMkYyMDAwJTJGc3ZnJTIyJTIwd2lkdGglM0QlMjIyNCUyMiUyMGhlaWdodCUzRCUyMjI0JTIyJTNFJTBBJTIwJTIwJTIwJTIwJTNDcGF0aCUyMGQlM0QlMjJNJTIwMTguNTY0JTJDNy40MzUlMjBDJTIwMTkuNDY3JTJDOC43MyUyMDIwJTJDMTAuMzAyJTIwMjAlMkMxMiUyMDIwJTJDMTYuNDE4JTIwMTYuNDE4JTJDMjAlMjAxMiUyQzIwJTIwNy41ODIlMkMyMCUyMDQlMkMxNi40MTglMjA0JTJDMTIlMjA0JTJDMTAuMzAyJTIwNC41MzMlMkM4LjczJTIwNS40MzYlMkM3LjQzNSUyMEwlMjAyLjU4MSUyQzQuNTgxJTIwQyUyMDAuOTY5JTJDNi42MjMlMjAwJTJDOS4xOTUlMjAwJTJDMTIlMjAwJTJDMTguNjI3JTIwNS4zNzMlMkMyNCUyMDEyJTJDMjQlMjAxOC42MjclMkMyNCUyMDI0JTJDMTguNjI3JTIwMjQlMkMxMiUyMDI0JTJDOS4xOTUlMjAyMy4wMzElMkM2LjYyMyUyMDIxLjQxOSUyQzQuNTgxJTIwbCUyMC0yLjg1NSUyQzIuODU0JTIweiUyMiUyMGZpbGwlM0QlMjIlMjMwZGE1ZDUlMjIlMkYlM0UlMEElMjAlMjAlMjAlMjAlM0NwYXRoJTIwZCUzRCUyMk0lMjAxMiUyQzAlMjBDJTIwOC42ODYlMkMwJTIwNS42ODYlMkMxLjM0MyUyMDMuNTE2JTJDMy41MTUlMjBMJTIwNi4zNDMlMkM2LjM0MyUyMEMlMjA3Ljc5MSUyQzQuODk1JTIwOS43OTElMkM0JTIwMTIlMkM0JTIwYyUyMDIuMjA5JTJDMCUyMDQuMjA5JTJDMC44OTUlMjA1LjY1NyUyQzIuMzQzJTIwTCUyMDIwLjQ4NCUyQzMuNTE1JTIwQyUyMDE4LjMxNCUyQzEuMzQzJTIwMTUuMzE0JTJDMCUyMDEyJTJDMCUyMHolMjIlMjBmaWxsJTNEJTIyJTIzYTZjZDJhJTIyJTJGJTNFJTBBJTNDJTJGc3ZnJTNFJTBBXFxcIik7YmFja2dyb3VuZC1zaXplOjI0cHggMjRweH0uZGctcHJlbG9hZGVyX2FuaW1hdGlvbl90cnVlOmFmdGVye3Bvc2l0aW9uOmFic29sdXRlO3RvcDo1MCU7bGVmdDo1MCU7bWFyZ2luOi0xNnB4IDAgMCAtMTZweDt3aWR0aDozMnB4O2hlaWdodDozMnB4O291dGxpbmU6dHJhbnNwYXJlbnQgc29saWQgMXB4O2NvbnRlbnQ6Jyc7LXdlYmtpdC1hbmltYXRpb246ZGctcHJlbG9hZGVyX19pbm5lciA0cyBsaW5lYXIgaW5maW5pdGU7YW5pbWF0aW9uOmRnLXByZWxvYWRlcl9faW5uZXIgNHMgbGluZWFyIGluZmluaXRlO2ltYWdlLXJlbmRlcmluZzpvcHRpbWl6ZVF1YWxpdHl9LmRnLXByZWxvYWRlcl9hbmltYXRpb25fdHJ1ZS5kZy1wcmVsb2FkZXJfc2l6ZV9zbWFsbDphZnRlcnttYXJnaW46LTZweCAwIDAgLTZweDt3aWR0aDoxMnB4O2hlaWdodDoxMnB4fS5kZy1wcmVsb2FkZXJfYW5pbWF0aW9uX3RydWUuZGctcHJlbG9hZGVyX3NjaGVtZV9yZWd1bGFyOmFmdGVye2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDtiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyUyMHhtbG5zJTNEJTIyaHR0cCUzQSUyRiUyRnd3dy53My5vcmclMkYyMDAwJTJGc3ZnJTIyJTIwd2lkdGglM0QlMjIzMiUyMiUyMGhlaWdodCUzRCUyMjMyJTIyJTNFJTBBJTIwJTIwJTIwJTIwJTNDcGF0aCUyMGQlM0QlMjJNJTIwNi41ODElMkMyMy40MTklMjBDJTIwNC45NjklMkMyMS4zNzclMjA0JTJDMTguODA0JTIwNCUyQzE2JTIwNCUyQzkuMzczJTIwOS4zNzMlMkM0JTIwMTYlMkM0JTIwYyUyMDYuNjI3JTJDMCUyMDEyJTJDNS4zNzMlMjAxMiUyQzEyJTIwMCUyQzIuODA0JTIwLTAuOTY5JTJDNS4zNzclMjAtMi41ODElMkM3LjQxOSUyMGwlMjAyLjg0NyUyQzIuODQ3JTIwQyUyMDMwLjU5NCUyQzIzLjQ4NyUyMDMyJTJDMTkuOTA5JTIwMzIlMkMxNiUyMDMyJTJDNy4xNjMlMjAyNC44MzclMkMwJTIwMTYlMkMwJTIwNy4xNjMlMkMwJTIwMCUyQzcuMTYzJTIwMCUyQzE2JTIwYyUyMDAlMkMzLjkwOSUyMDEuNDA2JTJDNy40ODclMjAzLjczNCUyQzEwLjI2NiUyMGwlMjAyLjg0NyUyQy0yLjg0NyUyMHolMjIlMjBmaWxsJTNEJTIyJTIzYTZjZDJhJTIyJTJGJTNFJTBBJTIwJTIwJTIwJTIwJTNDcGF0aCUyMGQlM0QlMjJNJTIwMjcuMzE0JTJDMjcuMzE0JTIwMjQuNDg2JTJDMjQuNDg2JTIwQyUyMDIyLjMxNCUyQzI2LjY1NyUyMDE5LjMxNCUyQzI4JTIwMTYlMkMyOCUyMDEyLjY4NiUyQzI4JTIwOS42ODYlMkMyNi42NTclMjA3LjUxNiUyQzI0LjQ4NSUyMEwlMjA0LjY4OCUyQzI3LjMxMyUyMEMlMjA3LjU4MiUyQzMwLjIwOSUyMDExLjU4MiUyQzMyJTIwMTYlMkMzMiUyMGMlMjA0LjQxOCUyQzAlMjA4LjQxOCUyQy0xLjc5MSUyMDExLjMxNCUyQy00LjY4NiUyMHolMjIlMjBmaWxsJTNEJTIyJTIzMGRhNWQ1JTIyJTJGJTNFJTBBJTNDJTJGc3ZnJTNFJTBBXFxcIik7YmFja2dyb3VuZC1zaXplOjMycHggMzJweH0uZGctcHJlbG9hZGVyX2FuaW1hdGlvbl90cnVlLmRnLXByZWxvYWRlcl9zY2hlbWVfcmVndWxhci5kZy1wcmVsb2FkZXJfc2l6ZV9zbWFsbDphZnRlcntiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXQ7YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0NzdmclMjB4bWxucyUzRCUyMmh0dHAlM0ElMkYlMkZ3d3cudzMub3JnJTJGMjAwMCUyRnN2ZyUyMiUyMHdpZHRoJTNEJTIyMTIlMjIlMjBoZWlnaHQlM0QlMjIxMiUyMiUzRSUwQSUyMCUyMCUyMCUyMCUzQ3BhdGglMjBkJTNEJTIyTSUyMDMuMTQxJTJDNi44NiUyMEMlMjAzLjA1OSUyQzYuNTg2JTIwMyUyQzYuMzAxJTIwMyUyQzYlMjAzJTJDNC4zNDMlMjA0LjM0MyUyQzMlMjA2JTJDMyUyMDcuNjU3JTJDMyUyMDklMkM0LjM0MyUyMDklMkM2JTIwOSUyQzYuMzAxJTIwOC45NDElMkM2LjU4NiUyMDguODU5JTJDNi44NiUyMGwlMjAyLjI2JTJDMi4yNTklMjBDJTIwMTEuNjc0JTJDOC4yMDklMjAxMiUyQzcuMTQ0JTIwMTIlMkM2JTIwMTIlMkMyLjY4NiUyMDkuMzE0JTJDMCUyMDYlMkMwJTIwMi42ODYlMkMwJTIwMCUyQzIuNjg2JTIwMCUyQzYlMjAwJTJDNy4xNDQlMjAwLjMyNiUyQzguMjA5JTIwMC44ODElMkM5LjExOSUyMEwlMjAzLjE0MSUyQzYuODYlMjB6JTIyJTIwZmlsbCUzRCUyMiUyM2E2Y2QyYSUyMiUyRiUzRSUwQSUyMCUyMCUyMCUyMCUzQ3BhdGglMjBkJTNEJTIybSUyMDYlMkMxMiUyMGMlMjAxLjY1NyUyQzAlMjAzLjE1NyUyQy0wLjY3MiUyMDQuMjQzJTJDLTEuNzU3JTIwTCUyMDguMTIyJTJDOC4xMjIlMjBDJTIwNy41NzglMkM4LjY2NCUyMDYuODI4JTJDOSUyMDYlMkM5JTIwNS4xNzIlMkM5JTIwNC40MjIlMkM4LjY2NCUyMDMuODc5JTJDOC4xMjElMjBMJTIwMS43NTglMkMxMC4yNDIlMjBDJTIwMi44NDMlMkMxMS4zMjglMjA0LjM0MyUyQzEyJTIwNiUyQzEyJTIweiUyMiUyMGZpbGwlM0QlMjIlMjMwZGE1ZDUlMjIlMkYlM0UlMEElM0MlMkZzdmclM0UlMEFcXFwiKTtiYWNrZ3JvdW5kLXNpemU6MTJweCAxMnB4fUAtd2Via2l0LWtleWZyYW1lcyBkZy1wcmVsb2FkZXJfX291dGVye3Rvey13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgzNjBkZWcpO3RyYW5zZm9ybTpyb3RhdGUoMzYwZGVnKX19QGtleWZyYW1lcyBkZy1wcmVsb2FkZXJfX291dGVye3Rvey13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgzNjBkZWcpO3RyYW5zZm9ybTpyb3RhdGUoMzYwZGVnKX19QC13ZWJraXQta2V5ZnJhbWVzIGRnLXByZWxvYWRlcl9faW5uZXJ7dG97LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKC0zNjBkZWcpO3RyYW5zZm9ybTpyb3RhdGUoLTM2MGRlZyl9fUBrZXlmcmFtZXMgZGctcHJlbG9hZGVyX19pbm5lcnt0b3std2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoLTM2MGRlZyk7dHJhbnNmb3JtOnJvdGF0ZSgtMzYwZGVnKX19LmRnLXBvcHVwX19mb290ZXItYnV0dG9uc3tkaXNwbGF5OnRhYmxlO21hcmdpbi10b3A6MTBweDt3aWR0aDoxMDAlfS5kZy1wb3B1cF9fZm9vdGVyLWJ1dHRvbi13cmFwcGVye2Rpc3BsYXk6dGFibGUtY2VsbH0uZGctcG9wdXBfX2Zvb3Rlci1idXR0b257cG9zaXRpb246cmVsYXRpdmU7ZGlzcGxheTppbmxpbmUtYmxvY2s7LXdlYmtpdC1ib3gtc2l6aW5nOmJvcmRlci1ib3g7Ym94LXNpemluZzpib3JkZXItYm94O21hcmdpbi1sZWZ0OjUlO3dpZHRoOjk1JTtib3JkZXItcmFkaXVzOjJweDt0ZXh0LWFsaWduOmNlbnRlcjt0ZXh0LWRlY29yYXRpb246bm9uZTtmb250OjEycHgvMjRweCBBcmlhbCxzYW5zLXNlcmlmO2N1cnNvcjpwb2ludGVyOy13ZWJraXQtdHJhbnNpdGlvbjphbGwgLjFzO3RyYW5zaXRpb246YWxsIC4xc30uZGctcG9wdXBfX2Zvb3Rlci1idXR0b24td3JhcHBlcjpmaXJzdC1jaGlsZCAuZGctcG9wdXBfX2Zvb3Rlci1idXR0b257bWFyZ2luOjA7d2lkdGg6MTAwJX0ubm8tdG91Y2ggLmRnLXBvcHVwX19mb290ZXItYnV0dG9uOmhvdmVyey13ZWJraXQtdHJhbnNpdGlvbjphbGwgLjJzO3RyYW5zaXRpb246YWxsIC4yc30uZGctcG9wdXBfX2Zvb3Rlci1pY29uLWJ1dHRvbjpiZWZvcmV7ZGlzcGxheTppbmxpbmUtYmxvY2s7bWFyZ2luOi0ycHggNXB4IDAgMDt3aWR0aDoxMnB4O2hlaWdodDoxMnB4O2JhY2tncm91bmQtc2l6ZTpjb250YWluO2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDtjb250ZW50OicnO3ZlcnRpY2FsLWFsaWduOm1pZGRsZX0uZGctcG9wdXBfX2J1dHRvbl9uYW1lX2JhY2s6YmVmb3JlLC5kZy1wb3B1cF9fYnV0dG9uX25hbWVfZmlybS1jYXJkLWJhY2s6YmVmb3JlLC5kZy1wb3B1cF9fYnV0dG9uX25hbWVfZmlybS1saXN0LWJhY2s6YmVmb3Jle3dpZHRoOjlweDtoZWlnaHQ6NnB4fS5kZy1wb3B1cF9fc2hvdy1sZXNzLWhvdXNlLWxpbmt7cG9zaXRpb246cmVsYXRpdmU7dG9wOjZweDttYXJnaW46MCAxNXB4IDEwcHg7Y29sb3I6IzAwNzBjMDt0ZXh0LWRlY29yYXRpb246bm9uZTtmb250LXNpemU6MTJweDtsaW5lLWhlaWdodDoyNHB4fS5kZy1wb3B1cF9faGVhZGVyLWxpbmtze21hcmdpbjo4cHggMThweCAwIDB9LmRnLXBvcHVwX19oZWFkZXItdGl0bGVfZm9yX2Zpcm1jYXJke3Bvc2l0aW9uOnJlbGF0aXZlO292ZXJmbG93OmhpZGRlbjttYXgtaGVpZ2h0OjMuNGVtfS5kZy1wb3B1cF9faGVhZGVyLXRlYXNlcntkaXNwbGF5Oi13ZWJraXQtYm94O2hlaWdodDozLjNlbTstd2Via2l0LWxpbmUtY2xhbXA6Mzstd2Via2l0LWJveC1vcmllbnQ6dmVydGljYWx9LmRnLXBvcHVwX19oZWFkZXItdGl0bGV7ZGlzcGxheTpibG9jazt3aGl0ZS1zcGFjZTpub3JtYWw7Zm9udDoyMnB4LzI0cHggJ0FyaWFsIG5hcnJvdycsQXJpYWwsc2Fucy1zZXJpZn0uZGctcG9wdXBfX2hlYWRlci1saW5re2Rpc3BsYXk6aW5saW5lLWJsb2NrO21hcmdpbi1sZWZ0OjIuNmVtO3ZlcnRpY2FsLWFsaWduOm1pZGRsZTt3aGl0ZS1zcGFjZTpub3dyYXB9LmRnLXBvcHVwX19oZWFkZXItbGluazpmaXJzdC1jaGlsZHttYXJnaW4tbGVmdDoxLjJlbX0uZGctcG9wdXBfX3JhdGluZ3tkaXNwbGF5OmlubGluZS1ibG9jazttYXJnaW46MCAuNGVtIDNweCAwO3dpZHRoOjcwcHg7aGVpZ2h0OjE0cHg7dmVydGljYWwtYWxpZ246bWlkZGxlfS5kZy1wb3B1cF9fcmF0aW5nLXN0YXJze2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnJTIweG1sbnMlM0QlMjJodHRwJTNBJTJGJTJGd3d3LnczLm9yZyUyRjIwMDAlMkZzdmclMjIlMjB3aWR0aCUzRCUyMjE0JTIyJTIwaGVpZ2h0JTNEJTIyMTQlMjIlM0UlMEElMjAlMjAlMjAlMjAlM0NwYXRoJTIwZCUzRCUyMk0lMjA2Ljk5OSUyQzAlMjA4Ljc0OCUyQzQuOTg5JTIwMTMuOTk3JTJDNC45OTElMjA5LjgzJTJDOC43MDglMjAxMS4zMjQlMkMxNC4wMDIlMjA2Ljk5OSUyQzEwLjg3MSUyMDIuNjc0JTJDMTQuMDAyJTIwNC4xNjglMkM4LjcwOCUyMDAlMkM0Ljk5MSUyMDUuMjQ5JTJDNC45ODklMjA2Ljk5OSUyQzAlMjB6JTIyJTIwZmlsbCUzRCUyMiUyM2ZmYzg0YiUyMiUyRiUzRSUwQSUzQyUyRnN2ZyUzRSUwQVxcXCIpO2Zsb2F0OmxlZnQ7aGVpZ2h0OjEwMCV9LmRnLXBvcHVwX19saW5re3Bvc2l0aW9uOnJlbGF0aXZlO2JhY2tncm91bmQtcG9zaXRpb246Y2VudGVyIGJvdHRvbTtiYWNrZ3JvdW5kLXNpemU6MTBweCAxcHg7YmFja2dyb3VuZC1yZXBlYXQ6cmVwZWF0LXg7dGV4dC1kZWNvcmF0aW9uOm5vbmU7LXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOnRyYW5zcGFyZW50fS5kZy1wb3B1cF9fbGlua190eXBlX2ZsYW1wX3Jldmlld3N7bWFyZ2luLWxlZnQ6LjFlbX0uZGctcG9wdXBfX2xpbmtfdHlwZV9waG90b3M6YmVmb3Jle3Bvc2l0aW9uOmFic29sdXRlO3RvcDoycHg7bGVmdDotMThweDtkaXNwbGF5OmluaGVyaXQ7Y29udGVudDonJ30uZGctcG9wdXBfX2xpbmtfdHlwZV9ib29rbGV0OmJlZm9yZXtiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXQ7YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0NzdmclMjB4bWxucyUzRCUyMmh0dHAlM0ElMkYlMkZ3d3cudzMub3JnJTJGMjAwMCUyRnN2ZyUyMiUyMHdpZHRoJTNEJTIyMTIlMjIlMjBoZWlnaHQlM0QlMjIxMCUyMiUzRSUwQSUyMCUyMCUyMCUyMCUzQ3BhdGglMjBkJTNEJTIybSUyMDAlMkM4JTIwMyUyQzIlMjBWJTIwMiUyMEwlMjAwJTJDMCUyMFYlMjA4JTIweiUyME0lMjA0JTJDMTAlMjA4JTJDOCUyMFYlMjAwJTIwTCUyMDQlMkMyJTIwdiUyMDglMjB6JTIwTSUyMDklMkMwJTIwdiUyMDglMjBsJTIwMyUyQzIlMjBWJTIwMiUyMEwlMjA5JTJDMCUyMHolMjIlMjBmaWxsJTNEJTIyJTIzN2RjODE0JTIyJTIwZmlsbC1ydWxlJTNEJTIyZXZlbm9kZCUyMiUyRiUzRSUwQSUzQyUyRnN2ZyUzRSUwQVxcXCIpO3dpZHRoOjEycHg7aGVpZ2h0OjEwcHg7YmFja2dyb3VuZC1zaXplOjEycHggMTBweDtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MnB4O2xlZnQ6LTE4cHg7ZGlzcGxheTppbmhlcml0O2NvbnRlbnQ6Jyd9YS5kZy1wb3B1cF9fbGlua3tiYWNrZ3JvdW5kLWltYWdlOi13ZWJraXQtZ3JhZGllbnQobGluZWFyLGxlZnQgdG9wLHJpZ2h0IHRvcCxmcm9tKHJnYmEoMjU1LDIzMCwxNzAsLjMpKSx0byhyZ2JhKDI1NSwyMzAsMTcwLC4zKSkpO2JhY2tncm91bmQtaW1hZ2U6LXdlYmtpdC1saW5lYXItZ3JhZGllbnQobGVmdCxyZ2JhKDI1NSwyMzAsMTcwLC4zKSxyZ2JhKDI1NSwyMzAsMTcwLC4zKSAxMDAlKTtiYWNrZ3JvdW5kLWltYWdlOmxpbmVhci1ncmFkaWVudCh0byByaWdodCxyZ2JhKDI1NSwyMzAsMTcwLC4zKSxyZ2JhKDI1NSwyMzAsMTcwLC4zKSAxMDAlKTtjb2xvcjojZmZlNmFhfS5uby10b3VjaCBhLmRnLXBvcHVwX19saW5rOmhvdmVye2JhY2tncm91bmQtaW1hZ2U6LXdlYmtpdC1ncmFkaWVudChsaW5lYXIsbGVmdCB0b3AscmlnaHQgdG9wLGZyb20ocmdiYSgxNTMsMjA0LDIyMSwuMykpLHRvKHJnYmEoMTUzLDIwNCwyMjEsLjMpKSk7YmFja2dyb3VuZC1pbWFnZTotd2Via2l0LWxpbmVhci1ncmFkaWVudChsZWZ0LHJnYmEoMTUzLDIwNCwyMjEsLjMpLHJnYmEoMTUzLDIwNCwyMjEsLjMpIDEwMCUpO2JhY2tncm91bmQtaW1hZ2U6bGluZWFyLWdyYWRpZW50KHRvIHJpZ2h0LHJnYmEoMTUzLDIwNCwyMjEsLjMpLHJnYmEoMTUzLDIwNCwyMjEsLjMpIDEwMCUpO2NvbG9yOiM5Y2R9LmRnLXBvcHVwX19oZWFkZXItdGl0bGV7Y29sb3I6I2ZmYzg0Yn0uZGctcG9wdXBfX2Zvb3Rlci1idXR0b24td3JhcHBlciAuZGctcG9wdXBfX2Zvb3Rlci1idXR0b24sLmRnLXBvcHVwX19mb290ZXItYnV0dG9uLXdyYXBwZXIgLmRnLXBvcHVwX19mb290ZXItYnV0dG9uOmhvdmVye2NvbG9yOiNlNmU2ZTZ9LmRnLXBvcHVwX19mb290ZXItYnV0dG9ue2JhY2tncm91bmQ6cmdiYSgwLDAsMCwuMik7LXdlYmtpdC1ib3gtc2hhZG93OjAgMXB4IHJnYmEoMCwwLDAsLjEpO2JveC1zaGFkb3c6MCAxcHggcmdiYSgwLDAsMCwuMSl9Lm5vLXRvdWNoIC5kZy1wb3B1cF9fZm9vdGVyLWJ1dHRvbjpob3ZlcntiYWNrZ3JvdW5kOiMyMjI7LXdlYmtpdC1ib3gtc2hhZG93OjAgMXB4IDNweCByZ2JhKDAsMCwwLC41KTtib3gtc2hhZG93OjAgMXB4IDNweCByZ2JhKDAsMCwwLC41KX0uZGctcG9wdXBfX3JhdGluZ3tiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyUyMHhtbG5zJTNEJTIyaHR0cCUzQSUyRiUyRnd3dy53My5vcmclMkYyMDAwJTJGc3ZnJTIyJTIwd2lkdGglM0QlMjIxNCUyMiUyMGhlaWdodCUzRCUyMjE0JTIyJTNFJTBBJTIwJTIwJTIwJTIwJTNDcGF0aCUyMGQlM0QlMjJNJTIwNy4wMDIlMkMwJTIwOC43NTElMkM0Ljk4OSUyMDE0JTJDNC45OTElMjA5LjgzMyUyQzguNzA4JTIwMTEuMzI3JTJDMTQuMDAyJTIwNy4wMDIlMkMxMC44NzElMjAyLjY3NyUyQzE0LjAwMiUyMDQuMTcxJTJDOC43MDglMjAwLjAwMyUyQzQuOTkxJTIwNS4yNTIlMkM0Ljk4OSUyMDcuMDAyJTJDMCUyMHolMjIlMjBmaWxsJTNEJTIyJTIzYWFhJTIyJTJGJTNFJTBBJTNDJTJGc3ZnJTNFJTBBXFxcIil9LmRnLXBvcHVwX19saW5rX3R5cGVfcGhvdG9zOmJlZm9yZXtiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXQ7YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0NzdmclMjB4bWxucyUzRCUyMmh0dHAlM0ElMkYlMkZ3d3cudzMub3JnJTJGMjAwMCUyRnN2ZyUyMiUyMHdpZHRoJTNEJTIyMTIlMjIlMjBoZWlnaHQlM0QlMjIxMCUyMiUzRSUwQSUyMCUyMCUyMCUyMCUzQ3BhdGglMjBkJTNEJTIyTSUyMDExJTJDMSUyMEglMjAxMCUyMEwlMjA5JTJDMCUyMEglMjA2JTIwTCUyMDUlMkMxJTIwSCUyMDElMjBMJTIwMCUyQzIlMjB2JTIwNyUyMGwlMjAxJTJDMSUyMEglMjAxMSUyMEwlMjAxMiUyQzklMjBWJTIwMiUyMEwlMjAxMSUyQzElMjB6JTIwTSUyMDMlMkM0JTIwSCUyMDIlMjBWJTIwMyUyMGglMjAxJTIwdiUyMDElMjB6JTIwbSUyMDQuNTE4JTJDMy45OTIlMjBjJTIwLTEuMzgxJTJDMCUyMC0yLjUlMkMtMS4xMTklMjAtMi41JTJDLTIuNSUyMDAlMkMtMS4zOCUyMDEuMTE5JTJDLTIuNSUyMDIuNSUyQy0yLjUlMjAxLjM4JTJDMCUyMDIuNSUyQzEuMTIlMjAyLjUlMkMyLjUlMjAwJTJDMS4zODElMjAtMS4xMjElMkMyLjUlMjAtMi41JTJDMi41JTIweiUyMiUyMGZpbGwlM0QlMjIlMjM3OWIwYmMlMjIlMjBmaWxsLXJ1bGUlM0QlMjJldmVub2RkJTIyJTJGJTNFJTBBJTNDJTJGc3ZnJTNFJTBBXFxcIik7d2lkdGg6MTJweDtoZWlnaHQ6MTBweDtiYWNrZ3JvdW5kLXNpemU6MTJweCAxMHB4fS5kZy1wb3B1cF9fYnV0dG9uX25hbWVfZmlybS1jYXJkLWJhY2s6YmVmb3JlLC5kZy1wb3B1cF9fYnV0dG9uX25hbWVfZmlybS1saXN0LWJhY2s6YmVmb3Jle2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDtiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyUyMHhtbG5zJTNEJTIyaHR0cCUzQSUyRiUyRnd3dy53My5vcmclMkYyMDAwJTJGc3ZnJTIyJTIwd2lkdGglM0QlMjI5JTIyJTIwaGVpZ2h0JTNEJTIyNiUyMiUzRSUwQSUyMCUyMCUyMCUyMCUzQ3BhdGglMjBkJTNEJTIyTSUyMDAlMkMzJTIwNCUyQzYlMjBWJTIwNCUyMEglMjA5JTIwViUyMDIlMjBIJTIwNCUyMFYlMjAwJTIweiUyMiUyMGZpbGwlM0QlMjIlMjM5ZjlmOWYlMjIlMkYlM0UlMEElM0MlMkZzdmclM0UlMEFcXFwiKX0uZGctcG9wdXBfX2J1dHRvbl9uYW1lX2JhY2s6YmVmb3Jle2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDtiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyUyMHhtbG5zJTNEJTIyaHR0cCUzQSUyRiUyRnd3dy53My5vcmclMkYyMDAwJTJGc3ZnJTIyJTIwd2lkdGglM0QlMjI5JTIyJTIwaGVpZ2h0JTNEJTIyNiUyMiUzRSUwQSUyMCUyMCUyMCUyMCUzQ3BhdGglMjBkJTNEJTIyTSUyMDAlMkMzJTIwNCUyQzYlMjBWJTIwNCUyMEglMjA5JTIwViUyMDIlMjBIJTIwNCUyMFYlMjAwJTIweiUyMiUyMGZpbGwlM0QlMjIlMjM5ZjlmOWYlMjIlMkYlM0UlMEElM0MlMkZzdmclM0UlMEFcXFwiKTt3aWR0aDo5cHg7aGVpZ2h0OjZweDtiYWNrZ3JvdW5kLXNpemU6OXB4IDZweH0uZGctcG9wdXBfX2J1dHRvbl9uYW1lX2dvdG86YmVmb3Jle2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDtiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyUyMHhtbG5zJTNEJTIyaHR0cCUzQSUyRiUyRnd3dy53My5vcmclMkYyMDAwJTJGc3ZnJTIyJTIwd2lkdGglM0QlMjIyMCUyMiUyMGhlaWdodCUzRCUyMjclMjIlM0UlMEElMjAlMjAlMjAlMjAlM0NwYXRoJTIwZCUzRCUyMk0lMjAxNi41JTJDMCUyMEMlMjAxNC43MzglMkMwJTIwMTMuMjk1JTJDMS4zMDYlMjAxMy4wNTElMkMzJTIwSCUyMDQuOTQ5JTIwQyUyMDQuNzE4JTJDMS44NTglMjAzLjcxJTJDMSUyMDIuNSUyQzElMjAxLjExOSUyQzElMjAwJTJDMi4xMTklMjAwJTJDMy41JTIwMCUyQzQuODgxJTIwMS4xMTklMkM2JTIwMi41JTJDNiUyMDMuNzElMkM2JTIwNC43MTglMkM1LjE0MiUyMDQuOTQ5JTJDNCUyMGglMjA4LjEwMiUyMEMlMjAxMy4yOTUlMkM1LjY5MyUyMDE0LjczOSUyQzclMjAxNi41JTJDNyUyMDE4LjQzMyUyQzclMjAyMCUyQzUuNDMzJTIwMjAlMkMzLjUlMjAyMCUyQzEuNTY2JTIwMTguNDMzJTJDMCUyMDE2LjUlMkMwJTIweiUyMiUyMGZpbGwlM0QlMjIlMjM5ZjlmOWYlMjIlMkYlM0UlMEElM0MlMkZzdmclM0UlMEFcXFwiKTt3aWR0aDoyMHB4O2hlaWdodDo3cHg7YmFja2dyb3VuZC1zaXplOjIwcHggN3B4fS5kZy1wb3B1cF9fYnV0dG9uX25hbWVfc2hvdy1lbnRyYW5jZTpiZWZvcmV7YmFja2dyb3VuZC1yZXBlYXQ6bm8tcmVwZWF0O2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnJTIweG1sbnMlM0QlMjJodHRwJTNBJTJGJTJGd3d3LnczLm9yZyUyRjIwMDAlMkZzdmclMjIlMjB3aWR0aCUzRCUyMjEyJTIyJTIwaGVpZ2h0JTNEJTIyMTIlMjIlM0UlMEElMjAlMjAlMjAlMjAlM0NwYXRoJTIwZCUzRCUyMk0lMjA1JTJDOSUyMDklMkM2JTIwNSUyQzMlMjBWJTIwNSUyMEglMjAwJTIwViUyMDclMjBIJTIwNSUyMFYlMjA5JTIweiUyME0lMjA5LjYlMkMwJTIwSCUyMDIuNCUyMEMlMjAxLjA3NCUyQzAlMjAwJTJDMS4wNzQlMjAwJTJDMi40JTIwViUyMDQlMjBIJTIwMiUyMFYlMjAzLjYlMjBDJTIwMiUyQzIuNzE2JTIwMi43MTYlMkMyJTIwMy42JTJDMiUyMEglMjA4LjQlMjBDJTIwOS4yODMlMkMyJTIwMTAlMkMyLjcxNiUyMDEwJTJDMy42JTIwViUyMDguNCUyMEMlMjAxMCUyQzkuMjg0JTIwOS4yODMlMkMxMCUyMDguNCUyQzEwJTIwSCUyMDMuNiUyMEMlMjAyLjcxNiUyQzEwJTIwMiUyQzkuMjg0JTIwMiUyQzguNCUyMFYlMjA4JTIwSCUyMDAlMjBWJTIwOS42JTIwQyUyMDAlMkMxMC45MjUlMjAxLjA3NCUyQzEyJTIwMi40JTJDMTIlMjBIJTIwOS42JTIwQyUyMDEwLjkyNiUyQzEyJTIwMTIlMkMxMC45MjUlMjAxMiUyQzkuNiUyMFYlMjAyLjQlMjBDJTIwMTIlMkMxLjA3NCUyMDEwLjkyNiUyQzAlMjA5LjYlMkMwJTIweiUyMiUyMGZpbGwlM0QlMjIlMjNhMGEwYTAlMjIlMjBmaWxsLXJ1bGUlM0QlMjJldmVub2RkJTIyJTJGJTNFJTBBJTNDJTJGc3ZnJTNFJTBBXFxcIil9LmRnLWZpcm0tY2FyZF9faWNvbntwb3NpdGlvbjpyZWxhdGl2ZTtwYWRkaW5nLWxlZnQ6MjRweH0uZGctZmlybS1jYXJkX19pY29uOmJlZm9yZXtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0OjA7bWFyZ2luOmF1dG87YmFja2dyb3VuZC1wb3NpdGlvbjowIDUwJTtiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXQ7Y29udGVudDonJ30uZGctZmlybS1jYXJkX19saW5re292ZXJmbG93OmhpZGRlbjttYXJnaW4tYm90dG9tOjRweDt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzO3doaXRlLXNwYWNlOm5vd3JhcDt3b3JkLXdyYXA6bm9ybWFsO2xpbmUtaGVpZ2h0OjE2cHh9LmRnLWZpcm0tY2FyZF9fbGluayBhe2JhY2tncm91bmQtcG9zaXRpb246Y2VudGVyIGJvdHRvbTtiYWNrZ3JvdW5kLXNpemU6MTBweCAxcHg7YmFja2dyb3VuZC1yZXBlYXQ6cmVwZWF0LXg7dGV4dC1kZWNvcmF0aW9uOm5vbmV9LmRnLWZpcm0tY2FyZF9fYWRkcmVzc3ttYXJnaW4tYm90dG9tOjEwcHg7Zm9udC1zaXplOjE2cHh9LmRnLWZpcm0tY2FyZF9fYWRkcmVzczpiZWZvcmV7cG9zaXRpb246YWJzb2x1dGU7dG9wOjVweDtsZWZ0OjFweDtjb250ZW50OicnfS5kZy1maXJtLWNhcmRfX2NvbW1lbnR7cG9zaXRpb246cmVsYXRpdmU7bWFyZ2luLWxlZnQ6NXB4O2ZvbnQtc2l6ZToxMnB4fS5kZy1maXJtLWNhcmRfX3Bob25le292ZXJmbG93OmhpZGRlbjttYXJnaW4tYm90dG9tOjRweDt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzO2xpbmUtaGVpZ2h0OjE2cHh9LmRnLWZpcm0tY2FyZF9fcGhvbmU6YmVmb3Jle3RvcDozcHg7bGVmdDoxcHh9LmRnLWZpcm0tY2FyZF9fc2l0ZTpiZWZvcmV7dG9wOjNweH0uZGctZmlybS1jYXJkX19lbWFpbDpiZWZvcmV7dG9wOjVweH0uZGctZmlybS1jYXJkX19ydWJyaWNze292ZXJmbG93OmhpZGRlbjttYXJnaW4tYm90dG9tOjRweDtmb250LXNpemU6MTJweDtsaW5lLWhlaWdodDoxNnB4fS5kZy1maXJtLWNhcmRfX3J1YnJpY3MtbGlzdHttYXJnaW46MDtwYWRkaW5nOjA7bGlzdC1zdHlsZTpub25lfS5kZy1maXJtLWNhcmRfX3J1YnJpY3MtbGlzdC1pdGVte2Rpc3BsYXk6aW5saW5lO2N1cnNvcjpkZWZhdWx0fS5kZy1maXJtLWNhcmRfX3J1YnJpY3MtbGlzdC1pdGVtOmJlZm9yZXtkaXNwbGF5OmlubGluZS1ibG9jazttYXJnaW46MCA0cHg7Y29udGVudDon4oCiJ30uZGctZmlybS1jYXJkX19ydWJyaWNzLWxpc3QtaXRlbTpmaXJzdC1jaGlsZDpiZWZvcmV7bWFyZ2luOjA7Y29udGVudDonJ30uZGctZmlybS1jYXJkX19hYXttYXJnaW46MCAwIDRweDtwYWRkaW5nOjAgMCAwIDI0cHg7Zm9udC1zaXplOjEycHh9LmRnLWZpcm0tY2FyZF9fYWEtbGlzdHtkaXNwbGF5OmlubGluZTttYXJnaW46MDtwYWRkaW5nOjA7bGlzdC1zdHlsZTpub25lO2xpbmUtaGVpZ2h0OjE2cHh9LmRnLWZpcm0tY2FyZF9fYWEtbGlzdC1pdGVte2Rpc3BsYXk6aW5saW5lOy13ZWJraXQtYm94LXNpemluZzpib3JkZXItYm94O2JveC1zaXppbmc6Ym9yZGVyLWJveDttYXgtd2lkdGg6MTAwJTtjdXJzb3I6ZGVmYXVsdH0uZGctZmlybS1jYXJkX19hYS1saXN0LWl0ZW06YmVmb3Jle2Rpc3BsYXk6aW5saW5lLWJsb2NrO21hcmdpbjowIDRweDtjb250ZW50OifigKInfS5kZy1maXJtLWNhcmRfX2FhLWxpc3QtaXRlbTpmaXJzdC1jaGlsZDpiZWZvcmV7bWFyZ2luOjA7Y29udGVudDonJ30uZGctZmlybS1jYXJkX19hYS1saXN0LWFkZGl0aW9uYWx7ZGlzcGxheTppbmxpbmU7bWFyZ2luOjA7cGFkZGluZzowO2xpc3Qtc3R5bGU6bm9uZTtsaW5lLWhlaWdodDoxNnB4fS5kZy1maXJtLWNhcmRfX3NjaGVkdWxle21hcmdpbi1ib3R0b206MTBweH0uZGctZmlybS1jYXJkX19saW5rIGF7YmFja2dyb3VuZC1pbWFnZTotd2Via2l0LWdyYWRpZW50KGxpbmVhcixsZWZ0IHRvcCxyaWdodCB0b3AsZnJvbShyZ2JhKDI1NSwyMzAsMTcwLC4zKSksdG8ocmdiYSgyNTUsMjMwLDE3MCwuMykpKTtiYWNrZ3JvdW5kLWltYWdlOi13ZWJraXQtbGluZWFyLWdyYWRpZW50KGxlZnQscmdiYSgyNTUsMjMwLDE3MCwuMykscmdiYSgyNTUsMjMwLDE3MCwuMykgMTAwJSk7YmFja2dyb3VuZC1pbWFnZTpsaW5lYXItZ3JhZGllbnQodG8gcmlnaHQscmdiYSgyNTUsMjMwLDE3MCwuMykscmdiYSgyNTUsMjMwLDE3MCwuMykgMTAwJSk7Y29sb3I6I2ZmZTZhYX0ubm8tdG91Y2ggLmRnLWZpcm0tY2FyZF9fbGluayBhOmhvdmVye2JhY2tncm91bmQtaW1hZ2U6LXdlYmtpdC1ncmFkaWVudChsaW5lYXIsbGVmdCB0b3AscmlnaHQgdG9wLGZyb20ocmdiYSgxNTMsMjA0LDIyMSwuMykpLHRvKHJnYmEoMTUzLDIwNCwyMjEsLjMpKSk7YmFja2dyb3VuZC1pbWFnZTotd2Via2l0LWxpbmVhci1ncmFkaWVudChsZWZ0LHJnYmEoMTUzLDIwNCwyMjEsLjMpLHJnYmEoMTUzLDIwNCwyMjEsLjMpIDEwMCUpO2JhY2tncm91bmQtaW1hZ2U6bGluZWFyLWdyYWRpZW50KHRvIHJpZ2h0LHJnYmEoMTUzLDIwNCwyMjEsLjMpLHJnYmEoMTUzLDIwNCwyMjEsLjMpIDEwMCUpO2NvbG9yOiM5Y2R9LmRnLWZpcm0tY2FyZF9fY29tbWVudCwuZGctZmlybS1jYXJkX19ydWJyaWNze2NvbG9yOiNhYWF9LmRnLWZpcm0tY2FyZF9fcnVicmljcy1saXN0LWl0ZW06YWZ0ZXJ7Y29sb3I6IzZlNjk2NH0uZGctZmlybS1jYXJkX19hYS1saXN0LWl0ZW06YWZ0ZXJ7Y29sb3I6I2U2ZTZlNn0uZGctZmlybS1jYXJkX19hZGRyZXNzOmJlZm9yZXtiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXQ7YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0NzdmclMjB4bWxucyUzRCUyMmh0dHAlM0ElMkYlMkZ3d3cudzMub3JnJTJGMjAwMCUyRnN2ZyUyMiUyMHdpZHRoJTNEJTIyOSUyMiUyMGhlaWdodCUzRCUyMjExJTIyJTNFJTBBJTIwJTIwJTIwJTIwJTNDcGF0aCUyMGQlM0QlMjJNJTIwNC45NTglMkMxMSUyMEMlMjA0Ljk1OCUyQzkuMDM2JTIwNi43NTYlMkM2Ljc1MSUyMDguNzE5JTJDNi43NTElMjA4Ljg4NSUyQzYuMjIzJTIwOSUyQzUuNjU2JTIwOSUyQzUuMDYzJTIwOSUyQzIuMjY3JTIwNi45ODUlMkMwJTIwNC41JTJDMCUyMDIuMDE1JTJDMCUyMDAlMkMyLjI2NyUyMDAlMkM1LjA2MyUyMDAlMkM1LjY1NiUyMDAuMTE0JTJDNi4yMjIlMjAwLjI4JTJDNi43NTElMjAyLjI0MyUyQzYuNzUxJTIwNC4wMTglMkM5LjAxMiUyMDQuMDE4JTJDMTElMjBoJTIwMC45NCUyMHolMjIlMjBmaWxsJTNEJTIyJTIzYTBhMGEwJTIyJTJGJTNFJTBBJTNDJTJGc3ZnJTNFJTBBXFxcIik7d2lkdGg6OXB4O2hlaWdodDoxMXB4O2JhY2tncm91bmQtc2l6ZTo5cHggMTFweH0uZGctZmlybS1jYXJkX19waG9uZTpiZWZvcmV7YmFja2dyb3VuZC1yZXBlYXQ6bm8tcmVwZWF0O2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnJTIweG1sbnMlM0QlMjJodHRwJTNBJTJGJTJGd3d3LnczLm9yZyUyRjIwMDAlMkZzdmclMjIlMjB3aWR0aCUzRCUyMjEwJTIyJTIwaGVpZ2h0JTNEJTIyMTAlMjIlM0UlMEElMjAlMjAlMjAlMjAlM0NwYXRoJTIwZCUzRCUyMk0lMjA5LjE4MSUyQzkuMDUlMjBDJTIwOC42NzMlMkM5LjU1NiUyMDguMDQ3JTJDOS44NzMlMjA3LjM5MSUyQzEwJTIwNi4xNTYlMkM5Ljg0MSUyMDUuMDA4JTJDOS40MTclMjAzLjk5OCUyQzguNzg4JTIwTCUyMDEuMjkzJTJDNi4wOTIlMjBDJTIwMC42MzklMkM1LjA1MyUyMDAuMjAzJTJDMy44NjUlMjAwLjA1MiUyQzIuNTg5JTIwMC4xOSUyQzEuOTY0JTIwMC40OTQlMkMxLjM2OCUyMDAuOTgzJTJDMC44ODIlMjBMJTIwMS44MDMlMkMwLjA2NSUyMDMuOTg3JTJDMi4yNDElMjBWJTIwMi43OSUyMEwlMjAzLjQ0MSUyQzMuMzMyJTIwYyUyMC0wLjQ1MiUyQzAuNDUxJTIwLTAuNDUzJTJDMS4xODMlMjAwJTJDMS42MzQlMjBMJTIwNS4wODIlMkM2LjYlMjBjJTIwMC40NTIlMkMwLjQ1MSUyMDEuMTg3JTJDMC40NTElMjAxLjYzOSUyQzAlMjBMJTIwNy4yNDQlMkM2LjA3OSUyMEglMjA3LjgzOCUyMEwlMjAxMCUyQzguMjMzJTIwOS4xODElMkM5LjA1JTIweiUyMiUyMGZpbGwlM0QlMjIlMjNhMGEwYTAlMjIlMjBmaWxsLXJ1bGUlM0QlMjJldmVub2RkJTIyJTJGJTNFJTBBJTNDJTJGc3ZnJTNFJTBBXFxcIik7d2lkdGg6MTBweDtoZWlnaHQ6MTBweDtiYWNrZ3JvdW5kLXNpemU6MTBweCAxMHB4fS5kZy1maXJtLWNhcmRfX3NpdGU6YmVmb3Jle2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDtiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyUyMHhtbG5zJTNEJTIyaHR0cCUzQSUyRiUyRnd3dy53My5vcmclMkYyMDAwJTJGc3ZnJTIyJTIwd2lkdGglM0QlMjIxMSUyMiUyMGhlaWdodCUzRCUyMjExJTIyJTNFJTBBJTIwJTIwJTIwJTIwJTNDcGF0aCUyMGQlM0QlMjJNJTIwNS41JTJDMTElMjBDJTIwMi40NjMlMkMxMSUyMDAlMkM4LjUzOCUyMDAlMkM1LjUlMjAwJTJDMi40NjIlMjAyLjQ2MyUyQzAlMjA1LjUlMkMwJTIwOC41MzclMkMwJTIwMTElMkMyLjQ2MiUyMDExJTJDNS41JTIwMTElMkM4LjUzOCUyMDguNTM3JTJDMTElMjA1LjUlMkMxMSUyMHolMjBtJTIwMCUyQy05JTIwQyUyMDMuNTY2JTJDMiUyMDIlMkMzLjU2NyUyMDIlMkM1LjUlMjAyJTJDNy40MzMlMjAzLjU2NiUyQzklMjA1LjUlMkM5JTIwNS42NTUlMkM5JTIwNS44MDQlMkM4Ljk3NCUyMDUuOTU0JTJDOC45NTQlMjBMJTIwMyUyQzYlMjBWJTIwNSUyMEwlMjA1LjU3MSUyQzMuMjg2JTIwNS45ODQlMkMyLjA0OSUyMEMlMjA1LjgyNCUyQzIuMDI2JTIwNS42NjYlMkMyJTIwNS41JTJDMiUyMHolMjBNJTIwOC45NDklMkM1JTIwSCUyMDcuMzc1JTIwQyUyMDcuMDIxJTJDNS41MDUlMjA2LjU0NSUyQzYuMDgyJTIwNiUyQzYuNDk3JTIwViUyMDguOTUlMjBDJTIwNy42OTMlMkM4LjcwNSUyMDklMkM3LjI2MiUyMDklMkM1LjUlMjA5JTJDNS4zMjklMjA4Ljk3NCUyQzUuMTY1JTIwOC45NDklMkM1JTIweiUyMiUyMGZpbGwlM0QlMjIlMjNhMGEwYTAlMjIlMjBmaWxsLXJ1bGUlM0QlMjJldmVub2RkJTIyJTJGJTNFJTBBJTNDJTJGc3ZnJTNFJTBBXFxcIik7d2lkdGg6MTFweDtoZWlnaHQ6MTFweDtiYWNrZ3JvdW5kLXNpemU6MTFweCAxMXB4fS5kZy1maXJtLWNhcmRfX2VtYWlsOmJlZm9yZXtiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXQ7YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0NzdmclMjB4bWxucyUzRCUyMmh0dHAlM0ElMkYlMkZ3d3cudzMub3JnJTJGMjAwMCUyRnN2ZyUyMiUyMHdpZHRoJTNEJTIyMTElMjIlMjBoZWlnaHQlM0QlMjI3JTIyJTNFJTBBJTIwJTIwJTIwJTIwJTNDcGF0aCUyMGQlM0QlMjJtJTIwMTElMkMxLjU1NSUyMHYlMjAzLjg5JTIwQyUyMDExJTJDNi4zMDMlMjAxMC4yNDIlMkM3JTIwOS4zMDklMkM3JTIwSCUyMDEuNjkyJTIwQyUyMDAuNzU4JTJDNyUyMDAlMkM2LjMwMyUyMDAlMkM1LjQ0NCUyMFYlMjAxLjU1NCUyMEwlMjA1LjUlMkM0LjgyNiUyMDExJTJDMS41NTUlMjB6JTIwTSUyMDAuMTkxJTJDMCUyMEglMjAxMC44MDglMjBMJTIwNS41JTJDMy4xMTElMjAwLjE5MSUyQzAlMjB6JTIyJTIwZmlsbCUzRCUyMiUyM2FhYSUyMiUyMGZpbGwtcnVsZSUzRCUyMmV2ZW5vZGQlMjIlMkYlM0UlMEElM0MlMkZzdmclM0UlMEFcXFwiKTt3aWR0aDoxMXB4O2hlaWdodDo3cHg7YmFja2dyb3VuZC1zaXplOjExcHggN3B4fS5kZy1zY2hlZHVsZV9fdG9kYXl7cG9zaXRpb246cmVsYXRpdmU7ZGlzcGxheTppbmxpbmUtYmxvY2s7bWFyZ2luLWxlZnQ6MjRweDttYXgtd2lkdGg6ODQlO2JhY2tncm91bmQtcG9zaXRpb246Y2VudGVyIGJvdHRvbTtiYWNrZ3JvdW5kLXNpemU6MnB4IDFweDtiYWNrZ3JvdW5kLXJlcGVhdDpyZXBlYXQteDtmb250LXNpemU6MTRweDtsaW5lLWhlaWdodDoxNnB4O2N1cnNvcjpwb2ludGVyfS5kZy1zY2hlZHVsZV9fdG9kYXk6YmVmb3Jle3Bvc2l0aW9uOmFic29sdXRlO3RvcDozcHg7bGVmdDotMjRweDtjb250ZW50OicnfS5kZy1zY2hlZHVsZV9fdG9kYXk6YWZ0ZXJ7cG9zaXRpb246YWJzb2x1dGU7cmlnaHQ6LTE1cHg7Ym90dG9tOjRweDtjb250ZW50OicnfS5kZy1zY2hlZHVsZV9fdG9kYXktaW5uZXJ7b3ZlcmZsb3c6aGlkZGVuO3dpZHRoOjEwMCU7dGV4dC1vdmVyZmxvdzplbGxpcHNpczt3aGl0ZS1zcGFjZTpub3dyYXB9LmRnLXNjaGVkdWxlX3dvcmtzLWV2ZXJ5ZGF5X3RydWUgLmRnLXNjaGVkdWxlX190b2RheXtiYWNrZ3JvdW5kLWltYWdlOm5vbmU7Y3Vyc29yOmRlZmF1bHR9LmRnLXNjaGVkdWxlX3dvcmtzLWV2ZXJ5ZGF5X3RydWUgLmRnLXNjaGVkdWxlX190b2RheTphZnRlcntiYWNrZ3JvdW5kLWltYWdlOm5vbmV9LmRnLXNjaGVkdWxlX29wZW5fdHJ1ZSAuZGctc2NoZWR1bGVfX3RvZGF5OmJlZm9yZXtiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXQ7YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0NzdmclMjB4bWxucyUzRCUyMmh0dHAlM0ElMkYlMkZ3d3cudzMub3JnJTJGMjAwMCUyRnN2ZyUyMiUyMHdpZHRoJTNEJTIyMTElMjIlMjBoZWlnaHQlM0QlMjIxMSUyMiUzRSUwQSUyMCUyMCUyMCUyMCUzQ3BhdGglMjBkJTNEJTIyTSUyMDUuNSUyQzExJTIwQyUyMDIuNDYzJTJDMTElMjAwJTJDOC41MzclMjAwJTJDNS41JTIwMCUyQzIuNDYyJTIwMi40NjMlMkMwJTIwNS41JTJDMCUyMDguNTM3JTJDMCUyMDExJTJDMi40NjIlMjAxMSUyQzUuNSUyMDExJTJDOC41MzclMjA4LjUzNyUyQzExJTIwNS41JTJDMTElMjB6JTIwTSUyMDYlMkM1LjI5MyUyMFYlMjAyJTIwSCUyMDUlMjBWJTIwNS43MDclMjBMJTIwNy42NDYlMkM4LjM1MyUyMDguMzUzJTJDNy42NDYlMjA2JTJDNS4yOTMlMjB6JTIyJTIwZmlsbCUzRCUyMiUyMzcwYmYwMCUyMiUyMGZpbGwtcnVsZSUzRCUyMmV2ZW5vZGQlMjIlMkYlM0UlMEElM0MlMkZzdmclM0UlMEFcXFwiKTt3aWR0aDoxMXB4O2hlaWdodDoxMXB4O2JhY2tncm91bmQtc2l6ZToxMXB4IDExcHh9LmRnLXNjaGVkdWxlX19ub3d7bWFyZ2luOjJweCA3cHggMCAzNnB4O2ZvbnQtc2l6ZToxMnB4fS5kZy1zY2hlZHVsZV9fc3RyaW5ne3BhZGRpbmc6M3B4IDE2cHggM3B4IDI0cHg7dGV4dC1hbGlnbjpsZWZ0O2ZvbnQtc2l6ZToxNHB4fS5kZy1zY2hlZHVsZV9fc3RyaW5nLXRpbWV7d2hpdGUtc3BhY2U6bm93cmFwfS5kZy1zY2hlZHVsZV9fdGFibGV7ZGlzcGxheTpub25lO3RleHQtYWxpZ246Y2VudGVyO2ZvbnQtc2l6ZTowfS5kZy1zY2hlZHVsZV9fdGFibGUtY2VsbC1ncm91cHt3aGl0ZS1zcGFjZTpub3dyYXB9LmRnLXNjaGVkdWxlX190Y3tkaXNwbGF5OmlubGluZS1ibG9jaztwYWRkaW5nOjJweCAwIDE1cHg7d2lkdGg6NDRweDt2ZXJ0aWNhbC1hbGlnbjp0b3A7d2hpdGUtc3BhY2U6bm9ybWFsO2ZvbnQtc2l6ZToxNHB4fS5kZy1zY2hlZHVsZV9fdGNfcHJle3dpZHRoOjE5cHh9LmRnLXNjaGVkdWxlX19kYXktbmFtZXttYXJnaW46MDtjb2xvcjojOGM4NzgyO3RleHQtdHJhbnNmb3JtOmNhcGl0YWxpemV9LmRnLXNjaGVkdWxlX190ZHttYXJnaW46MTBweCAwIDB9LmRnLXNjaGVkdWxlX3N0YXRlX2V4cGFuZGVkIC5kZy1zY2hlZHVsZV9fcG9wdXB7ZGlzcGxheTpibG9jazt2aXNpYmlsaXR5OnZpc2libGU7bWF4LWhlaWdodDoxMDAwcHg7b3BhY2l0eToxfS5kZy1zY2hlZHVsZV9fdGFibGUtY2xvY2t7bWFyZ2luOjEzcHggMCAwfS5kZy1zY2hlZHVsZV9fdGFibGUtbHVuY2h7bWFyZ2luOjMxcHggMCAwfS5kZy1zY2hlZHVsZV9fdG9kYXl7YmFja2dyb3VuZC1pbWFnZTotd2Via2l0LWdyYWRpZW50KGxpbmVhcixsZWZ0IHRvcCxyaWdodCB0b3AsZnJvbShyZ2JhKDIzMCwyMzAsMjMwLC41NSkpLGNvbG9yLXN0b3AoNTAlLHJnYmEoMjMwLDIzMCwyMzAsLjU1KSksY29sb3Itc3RvcCg1MSUscmdiYSgwLDAsMCwwKSksdG8ocmdiYSgwLDAsMCwwKSkpO2JhY2tncm91bmQtaW1hZ2U6LXdlYmtpdC1saW5lYXItZ3JhZGllbnQobGVmdCxyZ2JhKDIzMCwyMzAsMjMwLC41NSkscmdiYSgyMzAsMjMwLDIzMCwuNTUpIDUwJSxyZ2JhKDAsMCwwLDApIDUxJSxyZ2JhKDAsMCwwLDApIDEwMCUpO2JhY2tncm91bmQtaW1hZ2U6bGluZWFyLWdyYWRpZW50KHRvIHJpZ2h0LHJnYmEoMjMwLDIzMCwyMzAsLjU1KSxyZ2JhKDIzMCwyMzAsMjMwLC41NSkgNTAlLHJnYmEoMCwwLDAsMCkgNTElLHJnYmEoMCwwLDAsMCkgMTAwJSl9LmRnLXNjaGVkdWxlX19ub3d7Y29sb3I6I2FhYX0uZGctc2NoZWR1bGVfX3Rke2NvbG9yOiNlNmU2ZTZ9LmRnLXNjaGVkdWxlX190Y19hY3RpdmVfdHJ1ZXtiYWNrZ3JvdW5kOnJnYmEoMjU1LDI1NSwyNTUsLjEpfS5kZy1zY2hlZHVsZV9fc3RyaW5nLXRpbWV7Y29sb3I6I2U2ZTZlNn0uZGctc2NoZWR1bGVfX3RhYmxlLWNsb2Nre2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDtiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyUyMHhtbG5zJTNEJTIyaHR0cCUzQSUyRiUyRnd3dy53My5vcmclMkYyMDAwJTJGc3ZnJTIyJTIwd2lkdGglM0QlMjIxMSUyMiUyMGhlaWdodCUzRCUyMjExJTIyJTNFJTBBJTIwJTIwJTIwJTIwJTNDcGF0aCUyMGQlM0QlMjJNJTIwNS41JTJDMTElMjBDJTIwMi40NjMlMkMxMSUyMDAlMkM4LjUzNyUyMDAlMkM1LjUlMjAwJTJDMi40NjIlMjAyLjQ2MyUyQzAlMjA1LjUlMkMwJTIwOC41MzclMkMwJTIwMTElMkMyLjQ2MiUyMDExJTJDNS41JTIwMTElMkM4LjUzNyUyMDguNTM3JTJDMTElMjA1LjUlMkMxMSUyMHolMjBNJTIwNiUyQzUuMjkzJTIwViUyMDIlMjBIJTIwNSUyMFYlMjA1LjcwNyUyMEwlMjA3LjY0NiUyQzguMzUzJTIwOC4zNTMlMkM3LjY0NiUyMDYlMkM1LjI5MyUyMHolMjIlMjBmaWxsJTNEJTIyJTIzYTBhMGEwJTIyJTIwZmlsbC1ydWxlJTNEJTIyZXZlbm9kZCUyMiUyRiUzRSUwQSUzQyUyRnN2ZyUzRSUwQVxcXCIpO3dpZHRoOjExcHg7aGVpZ2h0OjExcHg7YmFja2dyb3VuZC1zaXplOjExcHggMTFweH0uZGctc2NoZWR1bGVfX3RhYmxlLWx1bmNoe2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDtiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyUyMHhtbG5zJTNEJTIyaHR0cCUzQSUyRiUyRnd3dy53My5vcmclMkYyMDAwJTJGc3ZnJTIyJTIwd2lkdGglM0QlMjIxMiUyMiUyMGhlaWdodCUzRCUyMjExJTIyJTNFJTBBJTIwJTIwJTIwJTIwJTNDcGF0aCUyMGQlM0QlMjJNJTIwNCUyQzclMjBIJTIwOCUyMEMlMjA4LjU4JTJDNyUyMDkuNDYxJTJDNi4wODQlMjA5LjgyNiUyQzQuOTc3JTIwViUyMDUlMjBDJTIwMTEuMDQ3JTJDNSUyMDEyJTJDMy40NTMlMjAxMiUyQzIuMDMxJTIwMTIlMkMxLjQ1MyUyMDExLjUzMSUyQzElMjAxMS4wMTYlMkMxJTIwSCUyMDEwJTIwQyUyMDEwJTJDMC4xODglMjA5Ljc4MSUyQzAlMjA5JTJDMCUyMEglMjAzJTIwQyUyMDIuMjk3JTJDMCUyMDIlMkMwLjE4OCUyMDIlMkMxJTIwdiUyMDMlMjBjJTIwMCUyQzEuNDklMjAxLjEzNyUyQzMlMjAyJTJDMyUyMHolMjBtJTIwNiUyQy01JTIwaCUyMDAuNSUyMEMlMjAxMC44NzUlMkMyJTIwMTElMkMyLjIxOSUyMDExJTJDMi41JTIwMTElMkMzLjYyNSUyMDEwLjU2MiUyQzQlMjAxMCUyQzQlMjBWJTIwMiUyMHolMjBNJTIwMCUyQzklMjBjJTIwMCUyQzAuNDQ4JTIwMS43OTElMkMxJTIwMyUyQzElMjAwJTJDMC40MDUlMjAwLjY0NiUyQzElMjAxJTJDMSUyMGglMjA0JTIwYyUyMDAuMzU0JTJDMCUyMDElMkMtMC41OTUlMjAxJTJDLTElMjAxLjIwOCUyQzAlMjAzJTJDLTAuNTUyJTIwMyUyQy0xJTIwViUyMDglMjBIJTIwMCUyMHYlMjAxJTIweiUyMiUyMGZpbGwlM0QlMjIlMjNhYWE1YTAlMjIlMkYlM0UlMEElM0MlMkZzdmclM0UlMEFcXFwiKTt3aWR0aDoxMnB4O2hlaWdodDoxMXB4O2JhY2tncm91bmQtc2l6ZToxMnB4IDExcHh9LmRnLXNjaGVkdWxlX29wZW5fZmFsc2UgLmRnLXNjaGVkdWxlX190b2RheTpiZWZvcmV7YmFja2dyb3VuZC1yZXBlYXQ6bm8tcmVwZWF0O2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnJTIweG1sbnMlM0QlMjJodHRwJTNBJTJGJTJGd3d3LnczLm9yZyUyRjIwMDAlMkZzdmclMjIlMjB3aWR0aCUzRCUyMjExJTIyJTIwaGVpZ2h0JTNEJTIyMTElMjIlM0UlMEElMjAlMjAlMjAlMjAlM0NwYXRoJTIwZCUzRCUyMk0lMjA1LjUlMkMxMSUyMEMlMjAyLjQ2MyUyQzExJTIwMCUyQzguNTM3JTIwMCUyQzUuNSUyMDAlMkMyLjQ2MiUyMDIuNDYzJTJDMCUyMDUuNSUyQzAlMjA4LjUzNyUyQzAlMjAxMSUyQzIuNDYyJTIwMTElMkM1LjUlMjAxMSUyQzguNTM3JTIwOC41MzclMkMxMSUyMDUuNSUyQzExJTIweiUyME0lMjA2JTJDNS4yOTMlMjBWJTIwMiUyMEglMjA1JTIwViUyMDUuNzA3JTIwTCUyMDcuNjQ2JTJDOC4zNTMlMjA4LjM1MyUyQzcuNjQ2JTIwNiUyQzUuMjkzJTIweiUyMiUyMGZpbGwlM0QlMjIlMjNhMGEwYTAlMjIlMjBmaWxsLXJ1bGUlM0QlMjJldmVub2RkJTIyJTJGJTNFJTBBJTNDJTJGc3ZnJTNFJTBBXFxcIik7d2lkdGg6MTFweDtoZWlnaHQ6MTFweDtiYWNrZ3JvdW5kLXNpemU6MTFweCAxMXB4fS5kZy1zY2hlZHVsZV9fdG9kYXk6YWZ0ZXJ7YmFja2dyb3VuZC1yZXBlYXQ6bm8tcmVwZWF0O2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnJTIweG1sbnMlM0QlMjJodHRwJTNBJTJGJTJGd3d3LnczLm9yZyUyRjIwMDAlMkZzdmclMjIlMjB3aWR0aCUzRCUyMjEwJTIyJTIwaGVpZ2h0JTNEJTIyNiUyMiUzRSUwQSUyMCUyMCUyMCUyMCUzQ3BhdGglMjBkJTNEJTIyTSUyMDUlMkM2JTIwSCUyMDQuNTg2JTIwTCUyMDAlMkMxLjQxNCUyMFYlMjAwJTIwSCUyMDEuNDE0JTIwTCUyMDUlMkMzLjU4NiUyMDguNTg2JTJDMCUyMEglMjAxMCUyMFYlMjAxLjQxNCUyMEwlMjA1LjQxNCUyQzYlMjBIJTIwNSUyMHolMjIlMjBmaWxsJTNEJTIyJTIzYTVhMDljJTIyJTIwZmlsbC1ydWxlJTNEJTIyZXZlbm9kZCUyMiUyRiUzRSUwQSUzQyUyRnN2ZyUzRSUwQVxcXCIpO3dpZHRoOjEwcHg7aGVpZ2h0OjZweDtiYWNrZ3JvdW5kLXNpemU6MTBweCA2cHh9LmRnLXNjaGVkdWxlX190b2RheV9zaG93bl90cnVlOmFmdGVye2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDtiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyUyMHhtbG5zJTNEJTIyaHR0cCUzQSUyRiUyRnd3dy53My5vcmclMkYyMDAwJTJGc3ZnJTIyJTIwd2lkdGglM0QlMjIxMCUyMiUyMGhlaWdodCUzRCUyMjYlMjIlM0UlMEElMjAlMjAlMjAlMjAlM0NwYXRoJTIwZCUzRCUyMk0lMjA1JTJDMCUyMEglMjA1LjQxNCUyMEwlMjAxMCUyQzQuNTg2JTIwViUyMDYlMjBIJTIwOC41ODYlMjBMJTIwNSUyQzIuNDE0JTIwMS40MTQlMkM2JTIwSCUyMDAlMjBWJTIwNC41ODYlMjBMJTIwNC41ODYlMkMwJTIwSCUyMDUlMjB6JTIyJTIwZmlsbCUzRCUyMiUyM2E1YTA5YyUyMiUyMGZpbGwtcnVsZSUzRCUyMmV2ZW5vZGQlMjIlMkYlM0UlMEElM0MlMkZzdmclM0UlMEFcXFwiKTt3aWR0aDoxMHB4O2hlaWdodDo2cHg7YmFja2dyb3VuZC1zaXplOjEwcHggNnB4fS5kZy1saW5rLC5kZy1saW5rOmhvdmVye2JhY2tncm91bmQtcG9zaXRpb246MCA5NSU7YmFja2dyb3VuZC1zaXplOjEwcHggMXB4O2JhY2tncm91bmQtcmVwZWF0OnJlcGVhdC14fS5kZy1saW5rX3R5cGVfbG9jYWx7YmFja2dyb3VuZDotd2Via2l0LWdyYWRpZW50KGxpbmVhcixsZWZ0IHRvcCxyaWdodCB0b3AsZnJvbSgjOWNkKSxjb2xvci1zdG9wKDUwJSwjOWNkKSxjb2xvci1zdG9wKDUwJSx0cmFuc3BhcmVudCkpO2JhY2tncm91bmQ6LXdlYmtpdC1saW5lYXItZ3JhZGllbnQobGVmdCwjOWNkLCM5Y2QgNTAlLHRyYW5zcGFyZW50IDUwJSk7YmFja2dyb3VuZDpsaW5lYXItZ3JhZGllbnQodG8gcmlnaHQsIzljZCwjOWNkIDUwJSx0cmFuc3BhcmVudCA1MCUpfS5uby10b3VjaCAuZGctbGlua190eXBlX2xvY2FsOmhvdmVye2JhY2tncm91bmQ6LXdlYmtpdC1ncmFkaWVudChsaW5lYXIsbGVmdCB0b3AscmlnaHQgdG9wLGZyb20oIzliYyksY29sb3Itc3RvcCg1MCUsIzliYyksY29sb3Itc3RvcCg1MCUsdHJhbnNwYXJlbnQpKTtiYWNrZ3JvdW5kOi13ZWJraXQtbGluZWFyLWdyYWRpZW50KGxlZnQsIzliYywjOWJjIDUwJSx0cmFuc3BhcmVudCA1MCUpO2JhY2tncm91bmQ6bGluZWFyLWdyYWRpZW50KHRvIHJpZ2h0LCM5YmMsIzliYyA1MCUsdHJhbnNwYXJlbnQgNTAlKX0uZGctbGluay5kZy1saW5rX3R5cGVfbG9jYWwsLmRnLWxpbmsuZGctbGlua190eXBlX2xvY2FsOmhvdmVye2JhY2tncm91bmQtc2l6ZTo2cHggMXB4fS5kZy1jb250cm9sLXJvdW5kX19pY29uX25hbWVfdHJhZmZpYzphZnRlcntiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXQ7YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0NzdmclMjB4bWxucyUzRCUyMmh0dHAlM0ElMkYlMkZ3d3cudzMub3JnJTJGMjAwMCUyRnN2ZyUyMiUyMHdpZHRoJTNEJTIyMjAlMjIlMjBoZWlnaHQlM0QlMjIxNCUyMiUyMHZpZXdCb3glM0QlMjIwJTIwMCUyMDIwJTIwMTQlMjIlM0UlMEElMjAlMjAlMjAlMjAlM0NwYXRoJTIwZCUzRCUyMk0lMjAxOCUyQzUlMjBDJTIwMTglMkM0JTIwMTclMkMxJTIwMTUlMkMxJTIwSCUyMDEyJTIwMTAlMjBDJTIwOCUyQzElMjA3JTJDNCUyMDclMkM1JTIwSCUyMDUlMjB2JTIwMiUyMGglMjAxJTIwdiUyMDQlMjBjJTIwMCUyQzAuNiUyMDAlMkMxJTIwMSUyQzElMjB2JTIwMiUyMGglMjAyJTIwdiUyMC0yJTIwaCUyMDclMjB2JTIwMiUyMGglMjAyJTIwdiUyMC0yJTIwYyUyMDElMkMwJTIwMSUyQy0wLjQlMjAxJTJDLTElMjBWJTIwNyUyMGglMjAxJTIwViUyMDUlMjBIJTIwMTglMjB6JTIwTSUyMDEwJTJDMyUyMGglMjAyJTIwMyUyMGMlMjAyJTJDMCUyMDIlMkMxJTIwMiUyQzMlMjBIJTIwOCUyMEMlMjA4JTJDNCUyMDglMkMzJTIwMTAlMkMzJTIweiUyME0lMjA5JTJDMTAlMjBIJTIwOCUyMEMlMjA3LjQlMkMxMCUyMDclMkM5LjYlMjA3JTJDOSUyMDclMkM4LjQlMjA3LjQlMkM4JTIwOCUyQzglMjBoJTIwMSUyMGMlMjAwLjYlMkMwJTIwMSUyQzAuNCUyMDElMkMxJTIwMCUyQzAuNiUyMC0wLjQlMkMxJTIwLTElMkMxJTIweiUyMG0lMjA4JTJDMCUyMEglMjAxNiUyMEMlMjAxNS40JTJDMTAlMjAxNSUyQzkuNiUyMDE1JTJDOSUyMDE1JTJDOC40JTIwMTUuNCUyQzglMjAxNiUyQzglMjBoJTIwMSUyMGMlMjAwLjYlMkMwJTIwMSUyQzAuNCUyMDElMkMxJTIwMCUyQzAuNiUyMC0wLjQlMkMxJTIwLTElMkMxJTIweiUyME0lMjA0JTJDNCUyMEglMjA2JTIwViUyMDMlMjBIJTIwNCUyMEMlMjAxJTJDMyUyMDElMkM2JTIwMSUyQzclMjBIJTIwMCUyMHYlMjAxJTIwaCUyMDElMjB2JTIwNCUyMEglMjAzJTIwViUyMDExJTIwSCUyMDUlMjBWJTIwNyUyMEglMjAyJTIwQyUyMDIlMkM2JTIwMiUyQzQlMjA0JTJDNCUyMHolMjBNJTIwMyUyQzklMjA0JTJDMTAlMjBIJTIwMiUyMFYlMjA5JTIwaCUyMDElMjB6JTIyJTIwZmlsbCUzRCUyMiUyMzYxNjE2MSUyMiUyMGZpbGwtcnVsZSUzRCUyMmV2ZW5vZGQlMjIlMkYlM0UlMEElMjAlMjAlMjAlMjAlM0NnJTIwZmlsbCUzRCUyMiUyM2ZmZiUyMiUzRSUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUzQ3BhdGglMjBkJTNEJTIybSUyMDE2JTJDOCUyMGglMjAxJTIwYyUyMDAuNCUyQzAlMjAwLjclMkMwLjIlMjAwLjglMkMwLjUlMjBDJTIwMTcuOSUyQzguNCUyMDE4JTJDOC4yJTIwMTglMkM4JTIwMTglMkM3LjQlMjAxNy42JTJDNyUyMDE3JTJDNyUyMGglMjAtMSUyMGMlMjAtMC42JTJDMCUyMC0xJTJDMC40JTIwLTElMkMxJTIwMCUyQzAuMiUyMDAuMSUyQzAuNCUyMDAuMiUyQzAuNSUyMEMlMjAxNS4zJTJDOC4yJTIwMTUuNiUyQzglMjAxNiUyQzglMjB6JTIyJTJGJTNFJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDcGF0aCUyMGQlM0QlMjJNJTIwOCUyQzglMjBIJTIwOSUyMEMlMjA5LjQlMkM4JTIwOS43JTJDOC4yJTIwOS44JTJDOC41JTIwOS45JTJDOC40JTIwMTAlMkM4LjIlMjAxMCUyQzglMjAxMCUyQzcuNCUyMDkuNiUyQzclMjA5JTJDNyUyMEglMjA4JTIwQyUyMDcuNCUyQzclMjA3JTJDNy40JTIwNyUyQzglMjA3JTJDOC4yJTIwNy4xJTJDOC40JTIwNy4yJTJDOC41JTIwNy4zJTJDOC4yJTIwNy42JTJDOCUyMDglMkM4JTIweiUyMiUyRiUzRSUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUzQ3BhdGglMjBkJTNEJTIyTSUyMDYlMkMzJTIwSCUyMDQlMjBDJTIwNCUyQzMlMjA0JTJDMyUyMDQlMkMzJTIwMiUyQzMlMjAyJTJDNSUyMDIlMkM2JTIwSCUyMDIlMjBDJTIwMi4xJTJDNSUyMDIuNSUyQzQlMjA0JTJDNCUyMEglMjA1JTIwNiUyMFYlMjAzJTIweiUyMiUyRiUzRSUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUzQ3BhdGglMjBkJTNEJTIyTTAlMjA3SDFWOEgweiUyMiUyRiUzRSUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUzQ3BhdGglMjBkJTNEJTIyTSUyMDE1JTJDMiUyMEglMjAxMiUyMDEwJTIwQyUyMDglMkMyJTIwOCUyQzMlMjA4JTJDNSUyMEglMjA4JTIwQyUyMDglMkMzLjclMjA4LjMlMkMzJTIwMTAlMkMzJTIwaCUyMDIlMjAzJTIwYyUyMDEuNyUyQzAlMjAxLjklMkMwLjclMjAyJTJDMiUyMGglMjAwJTIwQyUyMDE3JTJDMyUyMDE3JTJDMiUyMDE1JTJDMiUyMHolMjIlMkYlM0UlMEElMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlM0NwYXRoJTIwZCUzRCUyMk0zJTIwOUw0JTIwOSUyMDMlMjA4JTIwMiUyMDglMjAyJTIwOSUyMDIlMjA5JTIwMiUyMDklMjAzJTIwOXolMjIlMkYlM0UlMEElMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlM0NwYXRoJTIwZCUzRCUyMk0lMjA3JTJDMTElMjBDJTIwNiUyQzExJTIwNiUyQzEwLjYlMjA2JTJDMTAlMjB2JTIwMSUyMGMlMjAwJTJDMC42JTIwMCUyQzElMjAxJTJDMSUyMHYlMjAtMSUyMHolMjIlMkYlM0UlMEElMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlM0NwYXRoJTIwZCUzRCUyMm0lMjAxOCUyQzExJTIwdiUyMDElMjBjJTIwMSUyQzAlMjAxJTJDLTAuNCUyMDElMkMtMSUyMHYlMjAtMSUyMGMlMjAwJTJDMC42JTIwMCUyQzElMjAtMSUyQzElMjB6JTIyJTJGJTNFJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDcGF0aCUyMGQlM0QlMjJNMTklMjA2SDIwVjdIMTl6JTIyJTJGJTNFJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDcGF0aCUyMGQlM0QlMjJNMyUyMDExTDElMjAxMSUyMDElMjAxMiUyMDMlMjAxMiUyMDMlMjAxMSUyMDUlMjAxMSUyMDUlMjA3JTIwNSUyMDclMjA1JTIwMTAlMjAzJTIwMTB6JTIyJTJGJTNFJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDcGF0aCUyMGQlM0QlMjJNMTYlMjAxM0gxOFYxNEgxNnolMjIlMkYlM0UlMEElMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlM0NwYXRoJTIwZCUzRCUyMk01JTIwNkg2VjdINXolMjIlMkYlM0UlMEElMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlM0NwYXRoJTIwZCUzRCUyMk05JTIwMTNMNyUyMDEzJTIwNyUyMDE0JTIwOSUyMDE0JTIwOSUyMDEyJTIwMTYlMjAxMiUyMDE2JTIwMTElMjA5JTIwMTF6JTIyJTJGJTNFJTBBJTIwJTIwJTIwJTIwJTNDJTJGZyUzRSUwQSUyMCUyMCUyMCUyMCUzQ2clMjBmaWxsJTNEJTIyJTIzNDQ0JTIyJTNFJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDcGF0aCUyMGQlM0QlMjJNJTIwMiUyQzYlMjBDJTIwMiUyQzYuNCUyMDIlMkM2LjclMjAyJTJDNyUyMEglMjA1JTIwViUyMDYlMjBIJTIwMiUyMHolMjIlMkYlM0UlMEElMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlM0NwYXRoJTIwZCUzRCUyMk0yJTIwOUwyJTIwMTAlMjA0JTIwMTAlMjAzJTIwOXolMjIlMkYlM0UlMEElMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlM0NwYXRoJTIwZCUzRCUyMk0lMjA0JTJDMyUyMEglMjA2JTIwViUyMDIlMjBIJTIwNCUyMEMlMjAxJTJDMiUyMDElMkM1JTIwMSUyQzYlMjBIJTIwMCUyMFYlMjA3JTIwSCUyMDElMjBDJTIwMSUyQzYlMjAxJTJDMyUyMDQlMkMzJTIweiUyMiUyRiUzRSUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUzQ3BhdGglMjBkJTNEJTIyTSUyMDE4JTJDNCUyMEMlMjAxOCUyQzMlMjAxNyUyQzAlMjAxNSUyQzAlMjBIJTIwMTIlMjAxMCUyMEMlMjA4JTJDMCUyMDclMkMzJTIwNyUyQzQlMjBIJTIwNiUyMDUlMjBWJTIwNSUyMEglMjA3JTIwQyUyMDclMkM0JTIwOCUyQzElMjAxMCUyQzElMjBoJTIwMiUyMDMlMjBjJTIwMiUyQzAlMjAzJTJDMyUyMDMlMkM0JTIwaCUyMDIlMjBWJTIwNCUyMGglMjAtMiUyMHolMjIlMkYlM0UlMEElMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlM0NwYXRoJTIwZCUzRCUyMk0lMjA4JTJDMTAlMjBIJTIwOSUyMEMlMjA5LjYlMkMxMCUyMDEwJTJDOS42JTIwMTAlMkM5JTIwMTAlMkM4LjglMjA5LjklMkM4LjYlMjA5LjglMkM4LjUlMjA5LjclMkM4LjglMjA5LjQlMkM5JTIwOSUyQzklMjBIJTIwOCUyMEMlMjA3LjYlMkM5JTIwNy4zJTJDOC44JTIwNy4yJTJDOC41JTIwNy4xJTJDOC42JTIwNyUyQzguOCUyMDclMkM5JTIwYyUyMDAlMkMwLjYlMjAwLjQlMkMxJTIwMSUyQzElMjB6JTIyJTJGJTNFJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDcGF0aCUyMGQlM0QlMjJNJTIwMTclMkM2JTIwQyUyMDE3JTJDNS42JTIwMTclMkM1LjMlMjAxNyUyQzUlMjBIJTIwOCUyMGMlMjAwJTJDMC4zJTIwMCUyQzAuNiUyMDAlMkMxJTIwaCUyMDklMjB6JTIyJTJGJTNFJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDcGF0aCUyMGQlM0QlMjJNJTIwMTcuOCUyQzguNSUyMEMlMjAxNy43JTJDOC44JTIwMTcuNCUyQzklMjAxNyUyQzklMjBIJTIwMTYlMjBDJTIwMTUuNiUyQzklMjAxNS4zJTJDOC44JTIwMTUuMiUyQzguNSUyMDE1LjElMkM4LjYlMjAxNSUyQzguOCUyMDE1JTJDOSUyMGMlMjAwJTJDMC42JTIwMC40JTJDMSUyMDElMkMxJTIwaCUyMDElMjBjJTIwMC42JTJDMCUyMDElMkMtMC40JTIwMSUyQy0xJTIwMCUyQy0wLjIlMjAtMC4xJTJDLTAuNCUyMC0wLjIlMkMtMC41JTIweiUyMiUyRiUzRSUwQSUyMCUyMCUyMCUyMCUzQyUyRmclM0UlMEElM0MlMkZzdmclM0UlMEFcXFwiKTt3aWR0aDoyMHB4O2hlaWdodDoxNHB4O2JhY2tncm91bmQtc2l6ZToyMHB4IDE0cHg7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7cmlnaHQ6MDtib3R0b206MDtsZWZ0OjA7bWFyZ2luOmF1dG87Y29udGVudDonJ30uZGctY29udHJvbC1yb3VuZF9faWNvbl9uYW1lX3RyYWZmaWM6YWN0aXZlOmFmdGVyLC5uby10b3VjaCAuZGctY29udHJvbC1yb3VuZF9faWNvbl9uYW1lX3RyYWZmaWM6aG92ZXI6YWZ0ZXJ7YmFja2dyb3VuZC1yZXBlYXQ6bm8tcmVwZWF0O2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnJTIweG1sbnMlM0QlMjJodHRwJTNBJTJGJTJGd3d3LnczLm9yZyUyRjIwMDAlMkZzdmclMjIlMjB3aWR0aCUzRCUyMjIwJTIyJTIwaGVpZ2h0JTNEJTIyMTQlMjIlMjB2aWV3Qm94JTNEJTIyMCUyMDAlMjAyMCUyMDE0JTIyJTNFJTBBJTIwJTIwJTIwJTIwJTNDcGF0aCUyMGQlM0QlMjJNJTIwMTglMkM1JTIwQyUyMDE4JTJDNCUyMDE3JTJDMSUyMDE1JTJDMSUyMEglMjAxMiUyMDEwJTIwQyUyMDglMkMxJTIwNyUyQzQlMjA3JTJDNSUyMEglMjA1JTIwdiUyMDIlMjBoJTIwMSUyMHYlMjA0JTIwYyUyMDAlMkMwLjYlMjAwJTJDMSUyMDElMkMxJTIwdiUyMDIlMjBoJTIwMiUyMHYlMjAtMiUyMGglMjA3JTIwdiUyMDIlMjBoJTIwMiUyMHYlMjAtMiUyMGMlMjAxJTJDMCUyMDElMkMtMC40JTIwMSUyQy0xJTIwViUyMDclMjBoJTIwMSUyMFYlMjA1JTIwSCUyMDE4JTIweiUyME0lMjAxMCUyQzMlMjBoJTIwMiUyMDMlMjBjJTIwMiUyQzAlMjAyJTJDMSUyMDIlMkMzJTIwSCUyMDglMjBDJTIwOCUyQzQlMjA4JTJDMyUyMDEwJTJDMyUyMHolMjBNJTIwOSUyQzEwJTIwSCUyMDglMjBDJTIwNy40JTJDMTAlMjA3JTJDOS42JTIwNyUyQzklMjA3JTJDOC40JTIwNy40JTJDOCUyMDglMkM4JTIwaCUyMDElMjBjJTIwMC42JTJDMCUyMDElMkMwLjQlMjAxJTJDMSUyMDAlMkMwLjYlMjAtMC40JTJDMSUyMC0xJTJDMSUyMHolMjBtJTIwOCUyQzAlMjBIJTIwMTYlMjBDJTIwMTUuNCUyQzEwJTIwMTUlMkM5LjYlMjAxNSUyQzklMjAxNSUyQzguNCUyMDE1LjQlMkM4JTIwMTYlMkM4JTIwaCUyMDElMjBjJTIwMC42JTJDMCUyMDElMkMwLjQlMjAxJTJDMSUyMDAlMkMwLjYlMjAtMC40JTJDMSUyMC0xJTJDMSUyMHolMjBNJTIwNCUyQzQlMjBIJTIwNiUyMFYlMjAzJTIwSCUyMDQlMjBDJTIwMSUyQzMlMjAxJTJDNiUyMDElMkM3JTIwSCUyMDAlMjB2JTIwMSUyMGglMjAxJTIwdiUyMDQlMjBIJTIwMyUyMFYlMjAxMSUyMEglMjA1JTIwViUyMDclMjBIJTIwMiUyMEMlMjAyJTJDNiUyMDIlMkM0JTIwNCUyQzQlMjB6JTIwTSUyMDMlMkM5JTIwNCUyQzEwJTIwSCUyMDIlMjBWJTIwOSUyMGglMjAxJTIweiUyMiUyMGZpbGwlM0QlMjIlMjM0MjQyNDIlMjIlMjBmaWxsLXJ1bGUlM0QlMjJldmVub2RkJTIyJTJGJTNFJTBBJTIwJTIwJTIwJTIwJTNDZyUyMGZpbGwlM0QlMjIlMjNmZmYlMjIlM0UlMEElMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlM0NwYXRoJTIwZCUzRCUyMm0lMjAxNiUyQzglMjBoJTIwMSUyMGMlMjAwLjQlMkMwJTIwMC43JTJDMC4yJTIwMC44JTJDMC41JTIwQyUyMDE3LjklMkM4LjQlMjAxOCUyQzguMiUyMDE4JTJDOCUyMDE4JTJDNy40JTIwMTcuNiUyQzclMjAxNyUyQzclMjBoJTIwLTElMjBjJTIwLTAuNiUyQzAlMjAtMSUyQzAuNCUyMC0xJTJDMSUyMDAlMkMwLjIlMjAwLjElMkMwLjQlMjAwLjIlMkMwLjUlMjBDJTIwMTUuMyUyQzguMiUyMDE1LjYlMkM4JTIwMTYlMkM4JTIweiUyMiUyRiUzRSUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUzQ3BhdGglMjBkJTNEJTIyTSUyMDglMkM4JTIwSCUyMDklMjBDJTIwOS40JTJDOCUyMDkuNyUyQzguMiUyMDkuOCUyQzguNSUyMDkuOSUyQzguNCUyMDEwJTJDOC4yJTIwMTAlMkM4JTIwMTAlMkM3LjQlMjA5LjYlMkM3JTIwOSUyQzclMjBIJTIwOCUyMEMlMjA3LjQlMkM3JTIwNyUyQzcuNCUyMDclMkM4JTIwNyUyQzguMiUyMDcuMSUyQzguNCUyMDcuMiUyQzguNSUyMDcuMyUyQzguMiUyMDcuNiUyQzglMjA4JTJDOCUyMHolMjIlMkYlM0UlMEElMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlM0NwYXRoJTIwZCUzRCUyMk0lMjA2JTJDMyUyMEglMjA0JTIwQyUyMDQlMkMzJTIwNCUyQzMlMjA0JTJDMyUyMDIlMkMzJTIwMiUyQzUlMjAyJTJDNiUyMEglMjAyJTIwQyUyMDIuMSUyQzUlMjAyLjUlMkM0JTIwNCUyQzQlMjBIJTIwNSUyMDYlMjBWJTIwMyUyMHolMjIlMkYlM0UlMEElMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlM0NwYXRoJTIwZCUzRCUyMk0wJTIwN0gxVjhIMHolMjIlMkYlM0UlMEElMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlM0NwYXRoJTIwZCUzRCUyMk0lMjAxNSUyQzIlMjBIJTIwMTIlMjAxMCUyMEMlMjA4JTJDMiUyMDglMkMzJTIwOCUyQzUlMjBIJTIwOCUyMEMlMjA4JTJDMy43JTIwOC4zJTJDMyUyMDEwJTJDMyUyMGglMjAyJTIwMyUyMGMlMjAxLjclMkMwJTIwMS45JTJDMC43JTIwMiUyQzIlMjBoJTIwMCUyMEMlMjAxNyUyQzMlMjAxNyUyQzIlMjAxNSUyQzIlMjB6JTIyJTJGJTNFJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDcGF0aCUyMGQlM0QlMjJNMyUyMDlMNCUyMDklMjAzJTIwOCUyMDIlMjA4JTIwMiUyMDklMjAyJTIwOSUyMDIlMjA5JTIwMyUyMDl6JTIyJTJGJTNFJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDcGF0aCUyMGQlM0QlMjJNJTIwNyUyQzExJTIwQyUyMDYlMkMxMSUyMDYlMkMxMC42JTIwNiUyQzEwJTIwdiUyMDElMjBjJTIwMCUyQzAuNiUyMDAlMkMxJTIwMSUyQzElMjB2JTIwLTElMjB6JTIyJTJGJTNFJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDcGF0aCUyMGQlM0QlMjJtJTIwMTglMkMxMSUyMHYlMjAxJTIwYyUyMDElMkMwJTIwMSUyQy0wLjQlMjAxJTJDLTElMjB2JTIwLTElMjBjJTIwMCUyQzAuNiUyMDAlMkMxJTIwLTElMkMxJTIweiUyMiUyRiUzRSUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUzQ3BhdGglMjBkJTNEJTIyTTE5JTIwNkgyMFY3SDE5eiUyMiUyRiUzRSUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUzQ3BhdGglMjBkJTNEJTIyTTMlMjAxMUwxJTIwMTElMjAxJTIwMTIlMjAzJTIwMTIlMjAzJTIwMTElMjA1JTIwMTElMjA1JTIwNyUyMDUlMjA3JTIwNSUyMDEwJTIwMyUyMDEweiUyMiUyRiUzRSUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUzQ3BhdGglMjBkJTNEJTIyTTE2JTIwMTNIMThWMTRIMTZ6JTIyJTJGJTNFJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDcGF0aCUyMGQlM0QlMjJNNSUyMDZINlY3SDV6JTIyJTJGJTNFJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDcGF0aCUyMGQlM0QlMjJNOSUyMDEzTDclMjAxMyUyMDclMjAxNCUyMDklMjAxNCUyMDklMjAxMiUyMDE2JTIwMTIlMjAxNiUyMDExJTIwOSUyMDExeiUyMiUyRiUzRSUwQSUyMCUyMCUyMCUyMCUzQyUyRmclM0UlMEElMjAlMjAlMjAlMjAlM0NnJTIwZmlsbCUzRCUyMiUyMzJlMmUyZSUyMiUzRSUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUzQ3BhdGglMjBkJTNEJTIyTSUyMDIlMkM2JTIwQyUyMDIlMkM2LjQlMjAyJTJDNi43JTIwMiUyQzclMjBIJTIwNSUyMFYlMjA2JTIwSCUyMDIlMjB6JTIyJTJGJTNFJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDcGF0aCUyMGQlM0QlMjJNMiUyMDlMMiUyMDEwJTIwNCUyMDEwJTIwMyUyMDl6JTIyJTJGJTNFJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDcGF0aCUyMGQlM0QlMjJNJTIwNCUyQzMlMjBIJTIwNiUyMFYlMjAyJTIwSCUyMDQlMjBDJTIwMSUyQzIlMjAxJTJDNSUyMDElMkM2JTIwSCUyMDAlMjBWJTIwNyUyMEglMjAxJTIwQyUyMDElMkM2JTIwMSUyQzMlMjA0JTJDMyUyMHolMjIlMkYlM0UlMEElMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlM0NwYXRoJTIwZCUzRCUyMk0lMjAxOCUyQzQlMjBDJTIwMTglMkMzJTIwMTclMkMwJTIwMTUlMkMwJTIwSCUyMDEyJTIwMTAlMjBDJTIwOCUyQzAlMjA3JTJDMyUyMDclMkM0JTIwSCUyMDYlMjA1JTIwViUyMDUlMjBIJTIwNyUyMEMlMjA3JTJDNCUyMDglMkMxJTIwMTAlMkMxJTIwaCUyMDIlMjAzJTIwYyUyMDIlMkMwJTIwMyUyQzMlMjAzJTJDNCUyMGglMjAyJTIwViUyMDQlMjBoJTIwLTIlMjB6JTIyJTJGJTNFJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDcGF0aCUyMGQlM0QlMjJNJTIwOCUyQzEwJTIwSCUyMDklMjBDJTIwOS42JTJDMTAlMjAxMCUyQzkuNiUyMDEwJTJDOSUyMDEwJTJDOC44JTIwOS45JTJDOC42JTIwOS44JTJDOC41JTIwOS43JTJDOC44JTIwOS40JTJDOSUyMDklMkM5JTIwSCUyMDglMjBDJTIwNy42JTJDOSUyMDcuMyUyQzguOCUyMDcuMiUyQzguNSUyMDcuMSUyQzguNiUyMDclMkM4LjglMjA3JTJDOSUyMGMlMjAwJTJDMC42JTIwMC40JTJDMSUyMDElMkMxJTIweiUyMiUyRiUzRSUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUzQ3BhdGglMjBkJTNEJTIyTSUyMDE3JTJDNiUyMEMlMjAxNyUyQzUuNiUyMDE3JTJDNS4zJTIwMTclMkM1JTIwSCUyMDglMjBjJTIwMCUyQzAuMyUyMDAlMkMwLjYlMjAwJTJDMSUyMGglMjA5JTIweiUyMiUyRiUzRSUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUzQ3BhdGglMjBkJTNEJTIyTSUyMDE3LjglMkM4LjUlMjBDJTIwMTcuNyUyQzguOCUyMDE3LjQlMkM5JTIwMTclMkM5JTIwSCUyMDE2JTIwQyUyMDE1LjYlMkM5JTIwMTUuMyUyQzguOCUyMDE1LjIlMkM4LjUlMjAxNS4xJTJDOC42JTIwMTUlMkM4LjglMjAxNSUyQzklMjBjJTIwMCUyQzAuNiUyMDAuNCUyQzElMjAxJTJDMSUyMGglMjAxJTIwYyUyMDAuNiUyQzAlMjAxJTJDLTAuNCUyMDElMkMtMSUyMDAlMkMtMC4yJTIwLTAuMSUyQy0wLjQlMjAtMC4yJTJDLTAuNSUyMHolMjIlMkYlM0UlMEElMjAlMjAlMjAlMjAlM0MlMkZnJTNFJTBBJTNDJTJGc3ZnJTNFJTBBXFxcIil9LmRnLWNvbnRyb2wtcm91bmRfX2ljb25fc3RhdGVfYWN0aXZlLmRnLWNvbnRyb2wtcm91bmRfX2ljb25fbmFtZV90cmFmZmljOmFjdGl2ZTphZnRlciwuZGctY29udHJvbC1yb3VuZF9faWNvbl9zdGF0ZV9hY3RpdmUuZGctY29udHJvbC1yb3VuZF9faWNvbl9uYW1lX3RyYWZmaWM6YWZ0ZXIsLm5vLXRvdWNoIC5kZy1jb250cm9sLXJvdW5kX19pY29uX3N0YXRlX2FjdGl2ZS5kZy1jb250cm9sLXJvdW5kX19pY29uX25hbWVfdHJhZmZpYzpob3ZlcjphZnRlcntiYWNrZ3JvdW5kLWltYWdlOm5vbmV9YS5kZy10cmFmZmljLWNvbnRyb2x7ei1pbmRleDowO2NvbG9yOiNmMmYyZjI7dGV4dC1kZWNvcmF0aW9uOm5vbmU7dGV4dC1zaGFkb3c6MCAxcHggMnB4IHJnYmEoMCwwLDAsLjMpO2ZvbnQ6NDAwIDE1cHgvMzJweCAnQXJpYWwgbmFycm93JyxBcmlhbCxzYW5zLXNlcmlmfWEuZGctdHJhZmZpYy1jb250cm9sX2NvbG9yX2dyZWVuOmFmdGVyLGEuZGctdHJhZmZpYy1jb250cm9sX2NvbG9yX3JlZDphZnRlcixhLmRnLXRyYWZmaWMtY29udHJvbF9jb2xvcl95ZWxsb3c6YWZ0ZXJ7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7cmlnaHQ6MDtib3R0b206MDtsZWZ0OjA7ei1pbmRleDotMTttYXJnaW46YXV0bzt3aWR0aDoyMnB4O2hlaWdodDoyMnB4O2JvcmRlci1yYWRpdXM6NTAlOy13ZWJraXQtYm94LXNoYWRvdzppbnNldCAwIDFweCAwIDAgcmdiYSgwLDAsMCwuMiksMCAxcHggMCAwICNmZmY7Ym94LXNoYWRvdzppbnNldCAwIDFweCAwIDAgcmdiYSgwLDAsMCwuMiksMCAxcHggMCAwICNmZmZ9Lm5vLXRvdWNoIGEuZGctdHJhZmZpYy1jb250cm9sOmhvdmVye2NvbG9yOiNmMmYyZjJ9Lm5vLXRvdWNoIGEuZGctdHJhZmZpYy1jb250cm9sX2NvbG9yX2dyZWVuOmhvdmVyOmFmdGVyLC5uby10b3VjaCBhLmRnLXRyYWZmaWMtY29udHJvbF9jb2xvcl9yZWQ6aG92ZXI6YWZ0ZXIsLm5vLXRvdWNoIGEuZGctdHJhZmZpYy1jb250cm9sX2NvbG9yX3llbGxvdzpob3ZlcjphZnRlcnt3aWR0aDoyMnB4O2hlaWdodDoyMnB4fWEuZGctdHJhZmZpYy1jb250cm9sX2NvbG9yX2dyZWVuOmFmdGVye2JhY2tncm91bmQ6IzNmYzAzYn0ubm8tdG91Y2ggYS5kZy10cmFmZmljLWNvbnRyb2xfY29sb3JfZ3JlZW46aG92ZXI6YWZ0ZXIsYS5kZy10cmFmZmljLWNvbnRyb2xfY29sb3JfZ3JlZW46YWN0aXZlOmFmdGVye2JhY2tncm91bmQ6LXdlYmtpdC1ncmFkaWVudChsaW5lYXIsbGVmdCBib3R0b20sbGVmdCB0b3AsZnJvbSgjMmFhNzMxKSx0bygjNTNlMTNhKSkgIzNlYzQzNTtiYWNrZ3JvdW5kOi13ZWJraXQtbGluZWFyLWdyYWRpZW50KGJvdHRvbSwjMmFhNzMxLCM1M2UxM2EpICMzZWM0MzU7YmFja2dyb3VuZDpsaW5lYXItZ3JhZGllbnQodG8gdG9wLCMyYWE3MzEsIzUzZTEzYSkgIzNlYzQzNX1hLmRnLXRyYWZmaWMtY29udHJvbF9jb2xvcl95ZWxsb3c6YWZ0ZXJ7YmFja2dyb3VuZDojZjNiMjIzfS5uby10b3VjaCBhLmRnLXRyYWZmaWMtY29udHJvbF9jb2xvcl95ZWxsb3c6aG92ZXI6YWZ0ZXIsYS5kZy10cmFmZmljLWNvbnRyb2xfY29sb3JfeWVsbG93OmFjdGl2ZTphZnRlcntiYWNrZ3JvdW5kOi13ZWJraXQtZ3JhZGllbnQobGluZWFyLGxlZnQgYm90dG9tLGxlZnQgdG9wLGZyb20oI2VmOTMxYiksdG8oI2Y3YmUyNikpICNmNGE4MjA7YmFja2dyb3VuZDotd2Via2l0LWxpbmVhci1ncmFkaWVudChib3R0b20sI2VmOTMxYiwjZjdiZTI2KSAjZjRhODIwO2JhY2tncm91bmQ6bGluZWFyLWdyYWRpZW50KHRvIHRvcCwjZWY5MzFiLCNmN2JlMjYpICNmNGE4MjB9YS5kZy10cmFmZmljLWNvbnRyb2xfY29sb3JfcmVkOmFmdGVye2JhY2tncm91bmQ6I2ViMjQwY30ubm8tdG91Y2ggYS5kZy10cmFmZmljLWNvbnRyb2xfY29sb3JfcmVkOmhvdmVyOmFmdGVyLGEuZGctdHJhZmZpYy1jb250cm9sX2NvbG9yX3JlZDphY3RpdmU6YWZ0ZXJ7YmFja2dyb3VuZDotd2Via2l0LWdyYWRpZW50KGxpbmVhcixsZWZ0IGJvdHRvbSxsZWZ0IHRvcCxmcm9tKCNjMDFjMGEpLHRvKCNmNzM0MTYpKSAjZGIyODExO2JhY2tncm91bmQ6LXdlYmtpdC1saW5lYXItZ3JhZGllbnQoYm90dG9tLCNjMDFjMGEsI2Y3MzQxNikgI2RiMjgxMTtiYWNrZ3JvdW5kOmxpbmVhci1ncmFkaWVudCh0byB0b3AsI2MwMWMwYSwjZjczNDE2KSAjZGIyODExfS5sZWFmbGV0LXJ1bGVyTWFya2VyLXBhbmV7ei1pbmRleDo2MDB9LmRnLXJ1bGVyX19sYWJlbHtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0OjA7ei1pbmRleDoyMDA7LXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOnRyYW5zcGFyZW50fS5kZy1ydWxlcl9fbGFiZWwtc3BhY2Vye2Rpc3BsYXk6YmxvY2t9LmRnLXJ1bGVyX19sYWJlbC1jb250YWluZXJ7ZGlzcGxheTpub25lO3BhZGRpbmc6MnB4IDRweDtib3JkZXI6NHB4IHNvbGlkICNmZmY7Ym9yZGVyLXJhZGl1czoxM3B4O2JhY2tncm91bmQ6IzBkYTVkNTtiYWNrZ3JvdW5kLWNsaXA6cGFkZGluZy1ib3g7Y29sb3I6I2ZmZjt3aGl0ZS1zcGFjZTpub3dyYXA7Zm9udC1zaXplOjEycHh9LmRnLXJ1bGVyX19wb2ludHtkaXNwbGF5OmlubGluZS1ibG9jazttYXJnaW46MnB4IDRweCAwIDA7d2lkdGg6MTBweDtoZWlnaHQ6MTBweDtib3JkZXItcmFkaXVzOjVweDtiYWNrZ3JvdW5kOiNmZmZ9LmRnLXJ1bGVyX19sYWJlbC1yZW1vdmUtbGlua3tiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXQ7YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0NzdmclMjB4bWxucyUzRCUyMmh0dHAlM0ElMkYlMkZ3d3cudzMub3JnJTJGMjAwMCUyRnN2ZyUyMiUyMHdpZHRoJTNEJTIyMTIlMjIlMjBoZWlnaHQlM0QlMjIxMiUyMiUzRSUwQSUyMCUyMCUyMCUyMCUzQ3BhdGglMjBkJTNEJTIyTSUyMDYlMkMwJTIwQyUyMDIuNjg3JTJDMCUyMDAlMkMyLjY4NyUyMDAlMkM2JTIwMCUyQzkuMzEzJTIwMi42ODclMkMxMiUyMDYlMkMxMiUyMDkuMzEzJTJDMTIlMjAxMiUyQzkuMzEzJTIwMTIlMkM2JTIwMTIlMkMyLjY4NyUyMDkuMzEzJTJDMCUyMDYlMkMwJTIweiUyME0lMjA5LjQwMSUyQzkuMzk4JTIwOC44JTJDOS42JTIwNiUyQzYuOCUyMDMuMTk5JTJDOS42JTIwMi41OSUyQzkuNDE1JTIwMi4zNzUlMkM4Ljc3NCUyMDUuMTk5JTJDNiUyMDIuMzk5JTJDMy4xNzUlMjAyLjYyJTJDMi41OTElMjAzLjE3NSUyQzIuMzc1JTIwNS45NDklMkM1LjIyNSUyMDguNzc0JTJDMi4zNzUlMjA5LjQxNSUyQzIuNjA1JTIwOS41NjYlMkMzLjE5NiUyMDYuODI0JTJDNiUyMDkuNiUyQzguOCUyMDkuNDAxJTJDOS4zOTglMjB6JTIyJTIwZmlsbCUzRCUyMiUyM2ZmZiUyMiUyMGZpbGwtcnVsZSUzRCUyMmV2ZW5vZGQlMjIlMkYlM0UlMEElM0MlMkZzdmclM0UlMEFcXFwiKTt3aWR0aDoxMnB4O2hlaWdodDoxMnB4O2JhY2tncm91bmQtc2l6ZToxMnB4IDEycHg7ZGlzcGxheTpub25lO21hcmdpbjoxcHggMCAwIDRweDt2ZXJ0aWNhbC1hbGlnbjp0b3A7LXdlYmtpdC10cmFuc2l0aW9uOmFsbCAuMnMgZWFzZTt0cmFuc2l0aW9uOmFsbCAuMnMgZWFzZX0ubm8tdG91Y2ggLmRnLXJ1bGVyX19sYWJlbC1yZW1vdmUtbGluazpob3Zlcnstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoOTBkZWcpOy1tcy10cmFuc2Zvcm06cm90YXRlKDkwZGVnKTt0cmFuc2Zvcm06cm90YXRlKDkwZGVnKX0uZGctcnVsZXJfX3JlbW92ZS1saW5rLW92ZXJsYXl7cG9zaXRpb246YWJzb2x1dGU7dG9wOi03cHg7cmlnaHQ6LTdweDtib3R0b206LTdweDt3aWR0aDo0MHB4fS5uby10b3VjaCAuZGctcnVsZXJfX3JlbW92ZS1saW5rLW92ZXJsYXl7ZGlzcGxheTpub25lfS5kZy1jb250cm9sLXJvdW5kX19pY29uX25hbWVfcnVsZXI6YWZ0ZXJ7YmFja2dyb3VuZC1yZXBlYXQ6bm8tcmVwZWF0O2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnJTIweG1sbnMlM0QlMjJodHRwJTNBJTJGJTJGd3d3LnczLm9yZyUyRjIwMDAlMkZzdmclMjIlMjB3aWR0aCUzRCUyMjE2JTIyJTIwaGVpZ2h0JTNEJTIyOSUyMiUzRSUwQSUyMCUyMCUyMCUyMCUzQ3BhdGglMjBkJTNEJTIybSUyMDEyLjk5OSUyQzAlMjB2JTIwNC4wMDElMjBoJTIwLTElMjBWJTIwMCUyMGglMjAtMiUyMHYlMjAyJTIwaCUyMC0xJTIwViUyMDAlMjBoJTIwLTIlMjBWJTIwMiUyMEglMjA2JTIwViUyMDAlMjBIJTIwMy45OTglMjB2JTIwNC4wMDElMjBoJTIwLTElMjBWJTIwMCUyMGglMjAtMyUyMFYlMjA4JTIwSCUyMDE2JTIwViUyMDAlMjB6JTIyJTIwZmlsbCUzRCUyMiUyMzYxNjE2MSUyMiUyRiUzRSUwQSUyMCUyMCUyMCUyMCUzQ3BhdGglMjBkJTNEJTIybSUyMDIuOTk5JTJDNCUyMGglMjAxJTIwdiUyMDElMjBoJTIwLTElMjB6JTIwbSUyMDMlMkMtMiUyMGglMjAxJTIwdiUyMDElMjBoJTIwLTElMjB6JTIwbSUyMDMlMkMwJTIwaCUyMDElMjB2JTIwMSUyMGglMjAtMSUyMHolMjBtJTIwMyUyQzIlMjBoJTIwMSUyMHYlMjAxJTIwaCUyMC0xJTIweiUyMiUyMGZpbGwlM0QlMjIlMjM0NDQlMjIlMkYlM0UlMEElMjAlMjAlMjAlMjAlM0NwYXRoJTIwZCUzRCUyMk0lMjAwJTJDOCUyMEglMjAxNiUyMFYlMjA5JTIwSCUyMDAlMjB6JTIyJTIwZmlsbCUzRCUyMiUyM2ZmZiUyMiUyRiUzRSUwQSUyMCUyMCUyMCUyMCUzQ3BhdGglMjBkJTNEJTIyTSUyMDAlMkMwJTIwSCUyMDMlMjBWJTIwMSUyMEglMjAwJTIweiUyMG0lMjAxMyUyQzAlMjBoJTIwMyUyMHYlMjAxJTIwaCUyMC0zJTIweiUyMG0lMjAtMyUyQzAlMjBoJTIwMiUyMFYlMjAxJTIwSCUyMDEwJTIweiUyME0lMjA3JTJDMCUyMEglMjA5JTIwViUyMDElMjBIJTIwNyUyMHolMjBNJTIwNCUyQzAlMjBIJTIwNiUyMFYlMjAxJTIwSCUyMDQlMjB6JTIyJTIwZmlsbCUzRCUyMiUyMzQ0NCUyMiUyRiUzRSUwQSUzQyUyRnN2ZyUzRSUwQVxcXCIpO3dpZHRoOjE2cHg7aGVpZ2h0OjlweDtiYWNrZ3JvdW5kLXNpemU6MTZweCA5cHg7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7cmlnaHQ6MDtib3R0b206MDtsZWZ0OjA7bWFyZ2luOmF1dG87Y29udGVudDonJ30uZGctY29udHJvbC1yb3VuZF9faWNvbl9uYW1lX3J1bGVyOmFjdGl2ZTphZnRlciwubm8tdG91Y2ggLmRnLWNvbnRyb2wtcm91bmRfX2ljb25fbmFtZV9ydWxlcjpob3ZlcjphZnRlcntiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXQ7YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0NzdmclMjB4bWxucyUzRCUyMmh0dHAlM0ElMkYlMkZ3d3cudzMub3JnJTJGMjAwMCUyRnN2ZyUyMiUyMHdpZHRoJTNEJTIyMTYlMjIlMjBoZWlnaHQlM0QlMjI5JTIyJTNFJTBBJTIwJTIwJTIwJTIwJTNDcGF0aCUyMGQlM0QlMjJtJTIwMTIuOTk5JTJDMCUyMHYlMjA0LjAwMSUyMGglMjAtMSUyMFYlMjAwJTIwaCUyMC0yJTIwdiUyMDIlMjBoJTIwLTElMjBWJTIwMCUyMGglMjAtMiUyMFYlMjAyJTIwSCUyMDYlMjBWJTIwMCUyMEglMjAzLjk5OCUyMHYlMjA0LjAwMSUyMGglMjAtMSUyMFYlMjAwJTIwaCUyMC0zJTIwViUyMDglMjBIJTIwMTYlMjBWJTIwMCUyMHolMjIlMjBmaWxsJTNEJTIyJTIzNDI0MjQyJTIyJTJGJTNFJTBBJTIwJTIwJTIwJTIwJTNDcGF0aCUyMGQlM0QlMjJtJTIwMi45OTklMkM0JTIwaCUyMDElMjB2JTIwMSUyMGglMjAtMSUyMHolMjBtJTIwMyUyQy0yJTIwaCUyMDElMjB2JTIwMSUyMGglMjAtMSUyMHolMjBtJTIwMyUyQzAlMjBoJTIwMSUyMHYlMjAxJTIwaCUyMC0xJTIweiUyMG0lMjAzJTJDMiUyMGglMjAxJTIwdiUyMDElMjBoJTIwLTElMjB6JTIyJTIwZmlsbCUzRCUyMiUyMzJlMmUyZSUyMiUyRiUzRSUwQSUyMCUyMCUyMCUyMCUzQ3BhdGglMjBkJTNEJTIyTSUyMDAlMkM4JTIwSCUyMDE2JTIwViUyMDklMjBIJTIwMCUyMHolMjIlMjBmaWxsJTNEJTIyJTIzZmZmJTIyJTJGJTNFJTBBJTIwJTIwJTIwJTIwJTNDcGF0aCUyMGQlM0QlMjJNJTIwMCUyQzAlMjBIJTIwMyUyMFYlMjAxJTIwSCUyMDAlMjB6JTIwbSUyMDEzJTJDMCUyMGglMjAzJTIwdiUyMDElMjBoJTIwLTMlMjB6JTIwbSUyMC0zJTJDMCUyMGglMjAyJTIwViUyMDElMjBIJTIwMTAlMjB6JTIwTSUyMDclMkMwJTIwSCUyMDklMjBWJTIwMSUyMEglMjA3JTIweiUyME0lMjA0JTJDMCUyMEglMjA2JTIwViUyMDElMjBIJTIwNCUyMHolMjIlMjBmaWxsJTNEJTIyJTIzMmUyZTJlJTIyJTJGJTNFJTBBJTNDJTJGc3ZnJTNFJTBBXFxcIil9LmRnLWNvbnRyb2wtcm91bmRfX2ljb25fc3RhdGVfYWN0aXZlLmRnLWNvbnRyb2wtcm91bmRfX2ljb25fbmFtZV9ydWxlcjphY3RpdmU6YWZ0ZXIsLmRnLWNvbnRyb2wtcm91bmRfX2ljb25fc3RhdGVfYWN0aXZlLmRnLWNvbnRyb2wtcm91bmRfX2ljb25fbmFtZV9ydWxlcjphZnRlciwubm8tdG91Y2ggLmRnLWNvbnRyb2wtcm91bmRfX2ljb25fc3RhdGVfYWN0aXZlLmRnLWNvbnRyb2wtcm91bmRfX2ljb25fbmFtZV9ydWxlcjpob3ZlcjphZnRlcntiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXQ7YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0NzdmclMjB4bWxucyUzRCUyMmh0dHAlM0ElMkYlMkZ3d3cudzMub3JnJTJGMjAwMCUyRnN2ZyUyMiUyMHdpZHRoJTNEJTIyMTYlMjIlMjBoZWlnaHQlM0QlMjI5JTIyJTNFJTBBJTIwJTIwJTIwJTIwJTNDcGF0aCUyMGQlM0QlMjJtJTIwMTIuOTk5JTJDMCUyMHYlMjA0LjAwMSUyMGglMjAtMSUyMFYlMjAwJTIwaCUyMC0yJTIwdiUyMDIlMjBoJTIwLTElMjBWJTIwMCUyMGglMjAtMiUyMFYlMjAyJTIwSCUyMDYlMjBWJTIwMCUyMEglMjAzLjk5OSUyMHYlMjA0LjAwMSUyMGglMjAtMSUyMFYlMjAwJTIwaCUyMC0zJTIwViUyMDglMjBIJTIwMTYlMjBWJTIwMCUyMHolMjIlMjBmaWxsJTNEJTIyJTIzMjFhN2Q2JTIyJTJGJTNFJTBBJTIwJTIwJTIwJTIwJTNDcGF0aCUyMGQlM0QlMjJtJTIwMi45OTklMkM0JTIwaCUyMDElMjB2JTIwMSUyMGglMjAtMSUyMHolMjBtJTIwMyUyQy0yJTIwaCUyMDElMjB2JTIwMSUyMGglMjAtMSUyMHolMjBtJTIwMyUyQzAlMjBoJTIwMSUyMHYlMjAxJTIwaCUyMC0xJTIweiUyMG0lMjAzJTJDMiUyMGglMjAxJTIwdiUyMDElMjBoJTIwLTElMjB6JTIyJTIwZmlsbCUzRCUyMiUyMzE0NzU5NiUyMiUyRiUzRSUwQSUyMCUyMCUyMCUyMCUzQ3BhdGglMjBkJTNEJTIyTSUyMDAlMkM4JTIwSCUyMDE2JTIwViUyMDklMjBIJTIwMCUyMHolMjIlMjBmaWxsJTNEJTIyJTIzZmZmJTIyJTJGJTNFJTBBJTIwJTIwJTIwJTIwJTNDcGF0aCUyMGQlM0QlMjJNJTIwMCUyQzAlMjBIJTIwMyUyMFYlMjAxJTIwSCUyMDAlMjB6JTIwbSUyMDEzJTJDMCUyMGglMjAzJTIwdiUyMDElMjBoJTIwLTMlMjB6JTIwbSUyMC0zJTJDMCUyMGglMjAyJTIwViUyMDElMjBIJTIwMTAlMjB6JTIwTSUyMDclMkMwJTIwSCUyMDklMjBWJTIwMSUyMEglMjA3JTIweiUyME0lMjA0JTJDMCUyMEglMjA2JTIwViUyMDElMjBIJTIwNCUyMHolMjIlMjBmaWxsJTNEJTIyJTIzMTQ3NTk2JTIyJTJGJTNFJTBBJTNDJTJGc3ZnJTNFJTBBXFxcIil9XCI7IChyZXF1aXJlKFwiYnJvd3NlcmlmeS1jc3NcIikuY3JlYXRlU3R5bGUoY3NzLCB7IFwiaHJlZlwiOiBcImRpc3QvY3NzL3N0eWxlcy5mdWxsLmRhcmsuY3NzXCIgfSwgeyBcImluc2VydEF0XCI6IFwiYm90dG9tXCIgfSkpOyBtb2R1bGUuZXhwb3J0cyA9IGNzczsiLCIvKiByZWR1Y2UgaW1wbGVtaW50YXRpb24gYnkgTW96aWxhIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0FycmF5L1JlZHVjZT9yZWRpcmVjdGxvY2FsZT1lbi1VUyZyZWRpcmVjdHNsdWc9SmF2YVNjcmlwdCUyRlJlZmVyZW5jZSUyRkdsb2JhbF9PYmplY3RzJTJGQXJyYXklMkZSZWR1Y2UqL1xuaWYgKCdmdW5jdGlvbicgIT09IHR5cGVvZiBBcnJheS5wcm90b3R5cGUucmVkdWNlKSB7XG4gIEFycmF5LnByb3RvdHlwZS5yZWR1Y2UgPSBmdW5jdGlvbihjYWxsYmFjaywgb3B0X2luaXRpYWxWYWx1ZSl7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIGlmIChudWxsID09PSB0aGlzIHx8ICd1bmRlZmluZWQnID09PSB0eXBlb2YgdGhpcykge1xuICAgICAgLy8gQXQgdGhlIG1vbWVudCBhbGwgbW9kZXJuIGJyb3dzZXJzLCB0aGF0IHN1cHBvcnQgc3RyaWN0IG1vZGUsIGhhdmVcbiAgICAgIC8vIG5hdGl2ZSBpbXBsZW1lbnRhdGlvbiBvZiBBcnJheS5wcm90b3R5cGUucmVkdWNlLiBGb3IgaW5zdGFuY2UsIElFOFxuICAgICAgLy8gZG9lcyBub3Qgc3VwcG9ydCBzdHJpY3QgbW9kZSwgc28gdGhpcyBjaGVjayBpcyBhY3R1YWxseSB1c2VsZXNzLlxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgICAgICAnQXJyYXkucHJvdG90eXBlLnJlZHVjZSBjYWxsZWQgb24gbnVsbCBvciB1bmRlZmluZWQnKTtcbiAgICB9XG4gICAgaWYgKCdmdW5jdGlvbicgIT09IHR5cGVvZiBjYWxsYmFjaykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihjYWxsYmFjayArICcgaXMgbm90IGEgZnVuY3Rpb24nKTtcbiAgICB9XG4gICAgdmFyIGluZGV4LCB2YWx1ZSxcbiAgICAgICAgbGVuZ3RoID0gdGhpcy5sZW5ndGggPj4+IDAsXG4gICAgICAgIGlzVmFsdWVTZXQgPSBmYWxzZTtcbiAgICBpZiAoMSA8IGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgIHZhbHVlID0gb3B0X2luaXRpYWxWYWx1ZTtcbiAgICAgIGlzVmFsdWVTZXQgPSB0cnVlO1xuICAgIH1cbiAgICBmb3IgKGluZGV4ID0gMDsgbGVuZ3RoID4gaW5kZXg7ICsraW5kZXgpIHtcbiAgICAgIGlmICh0aGlzLmhhc093blByb3BlcnR5KGluZGV4KSkge1xuICAgICAgICBpZiAoaXNWYWx1ZVNldCkge1xuICAgICAgICAgIHZhbHVlID0gY2FsbGJhY2sodmFsdWUsIHRoaXNbaW5kZXhdLCBpbmRleCwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgdmFsdWUgPSB0aGlzW2luZGV4XTtcbiAgICAgICAgICBpc1ZhbHVlU2V0ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIWlzVmFsdWVTZXQpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1JlZHVjZSBvZiBlbXB0eSBhcnJheSB3aXRoIG5vIGluaXRpYWwgdmFsdWUnKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9O1xufVxuXG4vLyBGcm9tIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0FycmF5L2ZvckVhY2hcbi8vIFByb2R1Y3Rpb24gc3RlcHMgb2YgRUNNQS0yNjIsIEVkaXRpb24gNSwgMTUuNC40LjE4XG4vLyBSZWZlcmVuY2U6IGh0dHA6Ly9lczUuZ2l0aHViLmNvbS8jeDE1LjQuNC4xOFxuaWYgKCFBcnJheS5wcm90b3R5cGUuZm9yRWFjaCkge1xuXG4gIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gZm9yRWFjaChjYWxsYmFjaywgdGhpc0FyZykge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgVCwgaztcblxuICAgIGlmICh0aGlzID09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJ0aGlzIGlzIG51bGwgb3Igbm90IGRlZmluZWRcIik7XG4gICAgfVxuXG4gICAgdmFyIGtWYWx1ZSxcbiAgICAgICAgLy8gMS4gTGV0IE8gYmUgdGhlIHJlc3VsdCBvZiBjYWxsaW5nIFRvT2JqZWN0IHBhc3NpbmcgdGhlIHx0aGlzfCB2YWx1ZSBhcyB0aGUgYXJndW1lbnQuXG4gICAgICAgIE8gPSBPYmplY3QodGhpcyksXG5cbiAgICAgICAgLy8gMi4gTGV0IGxlblZhbHVlIGJlIHRoZSByZXN1bHQgb2YgY2FsbGluZyB0aGUgR2V0IGludGVybmFsIG1ldGhvZCBvZiBPIHdpdGggdGhlIGFyZ3VtZW50IFwibGVuZ3RoXCIuXG4gICAgICAgIC8vIDMuIExldCBsZW4gYmUgVG9VaW50MzIobGVuVmFsdWUpLlxuICAgICAgICBsZW4gPSBPLmxlbmd0aCA+Pj4gMDsgLy8gSGFjayB0byBjb252ZXJ0IE8ubGVuZ3RoIHRvIGEgVUludDMyXG5cbiAgICAvLyA0LiBJZiBJc0NhbGxhYmxlKGNhbGxiYWNrKSBpcyBmYWxzZSwgdGhyb3cgYSBUeXBlRXJyb3IgZXhjZXB0aW9uLlxuICAgIC8vIFNlZTogaHR0cDovL2VzNS5naXRodWIuY29tLyN4OS4xMVxuICAgIGlmICh7fS50b1N0cmluZy5jYWxsKGNhbGxiYWNrKSAhPT0gXCJbb2JqZWN0IEZ1bmN0aW9uXVwiKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGNhbGxiYWNrICsgXCIgaXMgbm90IGEgZnVuY3Rpb25cIik7XG4gICAgfVxuXG4gICAgLy8gNS4gSWYgdGhpc0FyZyB3YXMgc3VwcGxpZWQsIGxldCBUIGJlIHRoaXNBcmc7IGVsc2UgbGV0IFQgYmUgdW5kZWZpbmVkLlxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID49IDIpIHtcbiAgICAgIFQgPSB0aGlzQXJnO1xuICAgIH1cblxuICAgIC8vIDYuIExldCBrIGJlIDBcbiAgICBrID0gMDtcblxuICAgIC8vIDcuIFJlcGVhdCwgd2hpbGUgayA8IGxlblxuICAgIHdoaWxlIChrIDwgbGVuKSB7XG5cbiAgICAgIC8vIGEuIExldCBQayBiZSBUb1N0cmluZyhrKS5cbiAgICAgIC8vICAgVGhpcyBpcyBpbXBsaWNpdCBmb3IgTEhTIG9wZXJhbmRzIG9mIHRoZSBpbiBvcGVyYXRvclxuICAgICAgLy8gYi4gTGV0IGtQcmVzZW50IGJlIHRoZSByZXN1bHQgb2YgY2FsbGluZyB0aGUgSGFzUHJvcGVydHkgaW50ZXJuYWwgbWV0aG9kIG9mIE8gd2l0aCBhcmd1bWVudCBQay5cbiAgICAgIC8vICAgVGhpcyBzdGVwIGNhbiBiZSBjb21iaW5lZCB3aXRoIGNcbiAgICAgIC8vIGMuIElmIGtQcmVzZW50IGlzIHRydWUsIHRoZW5cbiAgICAgIGlmIChrIGluIE8pIHtcblxuICAgICAgICAvLyBpLiBMZXQga1ZhbHVlIGJlIHRoZSByZXN1bHQgb2YgY2FsbGluZyB0aGUgR2V0IGludGVybmFsIG1ldGhvZCBvZiBPIHdpdGggYXJndW1lbnQgUGsuXG4gICAgICAgIGtWYWx1ZSA9IE9ba107XG5cbiAgICAgICAgLy8gaWkuIENhbGwgdGhlIENhbGwgaW50ZXJuYWwgbWV0aG9kIG9mIGNhbGxiYWNrIHdpdGggVCBhcyB0aGUgdGhpcyB2YWx1ZSBhbmRcbiAgICAgICAgLy8gYXJndW1lbnQgbGlzdCBjb250YWluaW5nIGtWYWx1ZSwgaywgYW5kIE8uXG4gICAgICAgIGNhbGxiYWNrLmNhbGwoVCwga1ZhbHVlLCBrLCBPKTtcbiAgICAgIH1cbiAgICAgIC8vIGQuIEluY3JlYXNlIGsgYnkgMS5cbiAgICAgIGsrKztcbiAgICB9XG4gICAgLy8gOC4gcmV0dXJuIHVuZGVmaW5lZFxuICB9O1xufVxuXG4vLyBGcm9tIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9rZXlzXG5pZiAoIU9iamVjdC5rZXlzKSB7XG4gIE9iamVjdC5rZXlzID0gKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxcbiAgICAgICAgaGFzRG9udEVudW1CdWcgPSAhKHt0b1N0cmluZzogbnVsbH0pLnByb3BlcnR5SXNFbnVtZXJhYmxlKCd0b1N0cmluZycpLFxuICAgICAgICBkb250RW51bXMgPSBbXG4gICAgICAgICAgJ3RvU3RyaW5nJyxcbiAgICAgICAgICAndG9Mb2NhbGVTdHJpbmcnLFxuICAgICAgICAgICd2YWx1ZU9mJyxcbiAgICAgICAgICAnaGFzT3duUHJvcGVydHknLFxuICAgICAgICAgICdpc1Byb3RvdHlwZU9mJyxcbiAgICAgICAgICAncHJvcGVydHlJc0VudW1lcmFibGUnLFxuICAgICAgICAgICdjb25zdHJ1Y3RvcidcbiAgICAgICAgXSxcbiAgICAgICAgZG9udEVudW1zTGVuZ3RoID0gZG9udEVudW1zLmxlbmd0aDtcblxuICAgIHJldHVybiBmdW5jdGlvbiAob2JqKSB7XG4gICAgICBpZiAodHlwZW9mIG9iaiAhPT0gJ29iamVjdCcgJiYgKHR5cGVvZiBvYmogIT09ICdmdW5jdGlvbicgfHwgb2JqID09PSBudWxsKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdPYmplY3Qua2V5cyBjYWxsZWQgb24gbm9uLW9iamVjdCcpO1xuICAgICAgfVxuXG4gICAgICB2YXIgcmVzdWx0ID0gW10sIHByb3AsIGk7XG5cbiAgICAgIGZvciAocHJvcCBpbiBvYmopIHtcbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKHByb3ApO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChoYXNEb250RW51bUJ1Zykge1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgZG9udEVudW1zTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGRvbnRFbnVtc1tpXSkpIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKGRvbnRFbnVtc1tpXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gIH0oKSk7XG59XG5cbi8vIEZyb20gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvQXJyYXkvc29tZVxuaWYgKCFBcnJheS5wcm90b3R5cGUuc29tZSlcbntcbiAgQXJyYXkucHJvdG90eXBlLnNvbWUgPSBmdW5jdGlvbihmdW4gLyosIHRoaXNBcmcgKi8pXG4gIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBpZiAodGhpcyA9PT0gdm9pZCAwIHx8IHRoaXMgPT09IG51bGwpXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCk7XG5cbiAgICB2YXIgdCA9IE9iamVjdCh0aGlzKTtcbiAgICB2YXIgbGVuID0gdC5sZW5ndGggPj4+IDA7XG4gICAgaWYgKHR5cGVvZiBmdW4gIT09ICdmdW5jdGlvbicpXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCk7XG5cbiAgICB2YXIgdGhpc0FyZyA9IGFyZ3VtZW50cy5sZW5ndGggPj0gMiA/IGFyZ3VtZW50c1sxXSA6IHZvaWQgMDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKVxuICAgIHtcbiAgICAgIGlmIChpIGluIHQgJiYgZnVuLmNhbGwodGhpc0FyZywgdFtpXSwgaSwgdCkpXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcbn1cblxuLy8gRnJvbSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9tYXBcbmlmICghQXJyYXkucHJvdG90eXBlLm1hcClcbntcbiAgQXJyYXkucHJvdG90eXBlLm1hcCA9IGZ1bmN0aW9uKGZ1biAvKiwgdGhpc0FyZyAqLylcbiAge1xuICAgIFwidXNlIHN0cmljdFwiO1xuXG4gICAgaWYgKHRoaXMgPT09IHZvaWQgMCB8fCB0aGlzID09PSBudWxsKVxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuXG4gICAgdmFyIHQgPSBPYmplY3QodGhpcyk7XG4gICAgdmFyIGxlbiA9IHQubGVuZ3RoID4+PiAwO1xuICAgIGlmICh0eXBlb2YgZnVuICE9PSBcImZ1bmN0aW9uXCIpXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCk7XG5cbiAgICB2YXIgcmVzID0gbmV3IEFycmF5KGxlbik7XG4gICAgdmFyIHRoaXNBcmcgPSBhcmd1bWVudHMubGVuZ3RoID49IDIgPyBhcmd1bWVudHNbMV0gOiB2b2lkIDA7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKylcbiAgICB7XG4gICAgICAvLyBOT1RFOiBBYnNvbHV0ZSBjb3JyZWN0bmVzcyB3b3VsZCBkZW1hbmQgT2JqZWN0LmRlZmluZVByb3BlcnR5XG4gICAgICAvLyAgICAgICBiZSB1c2VkLiAgQnV0IHRoaXMgbWV0aG9kIGlzIGZhaXJseSBuZXcsIGFuZCBmYWlsdXJlIGlzXG4gICAgICAvLyAgICAgICBwb3NzaWJsZSBvbmx5IGlmIE9iamVjdC5wcm90b3R5cGUgb3IgQXJyYXkucHJvdG90eXBlXG4gICAgICAvLyAgICAgICBoYXMgYSBwcm9wZXJ0eSB8aXwgKHZlcnkgdW5saWtlbHkpLCBzbyB1c2UgYSBsZXNzLWNvcnJlY3RcbiAgICAgIC8vICAgICAgIGJ1dCBtb3JlIHBvcnRhYmxlIGFsdGVybmF0aXZlLlxuICAgICAgaWYgKGkgaW4gdClcbiAgICAgICAgcmVzW2ldID0gZnVuLmNhbGwodGhpc0FyZywgdFtpXSwgaSwgdCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlcztcbiAgfTtcbn1cblxuLy9Gcm9tIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0FycmF5L2ZpbHRlclxuaWYgKCFBcnJheS5wcm90b3R5cGUuZmlsdGVyKVxue1xuICBBcnJheS5wcm90b3R5cGUuZmlsdGVyID0gZnVuY3Rpb24oZnVuIC8qLCB0aGlzQXJnICovKVxuICB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgICBpZiAodGhpcyA9PT0gdm9pZCAwIHx8IHRoaXMgPT09IG51bGwpXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCk7XG5cbiAgICB2YXIgdCA9IE9iamVjdCh0aGlzKTtcbiAgICB2YXIgbGVuID0gdC5sZW5ndGggPj4+IDA7XG4gICAgaWYgKHR5cGVvZiBmdW4gIT0gXCJmdW5jdGlvblwiKVxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuXG4gICAgdmFyIHJlcyA9IFtdO1xuICAgIHZhciB0aGlzQXJnID0gYXJndW1lbnRzLmxlbmd0aCA+PSAyID8gYXJndW1lbnRzWzFdIDogdm9pZCAwO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspXG4gICAge1xuICAgICAgaWYgKGkgaW4gdClcbiAgICAgIHtcbiAgICAgICAgdmFyIHZhbCA9IHRbaV07XG5cbiAgICAgICAgLy8gTk9URTogVGVjaG5pY2FsbHkgdGhpcyBzaG91bGQgT2JqZWN0LmRlZmluZVByb3BlcnR5IGF0XG4gICAgICAgIC8vICAgICAgIHRoZSBuZXh0IGluZGV4LCBhcyBwdXNoIGNhbiBiZSBhZmZlY3RlZCBieVxuICAgICAgICAvLyAgICAgICBwcm9wZXJ0aWVzIG9uIE9iamVjdC5wcm90b3R5cGUgYW5kIEFycmF5LnByb3RvdHlwZS5cbiAgICAgICAgLy8gICAgICAgQnV0IHRoYXQgbWV0aG9kJ3MgbmV3LCBhbmQgY29sbGlzaW9ucyBzaG91bGQgYmVcbiAgICAgICAgLy8gICAgICAgcmFyZSwgc28gdXNlIHRoZSBtb3JlLWNvbXBhdGlibGUgYWx0ZXJuYXRpdmUuXG4gICAgICAgIGlmIChmdW4uY2FsbCh0aGlzQXJnLCB2YWwsIGksIHQpKVxuICAgICAgICAgIHJlcy5wdXNoKHZhbCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlcztcbiAgfTtcbn1cblxuLy9Gcm9tIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0Z1bmN0aW9uL2JpbmRcbmlmICghRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQpIHtcbiAgRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbiAob1RoaXMpIHtcbiAgICBpZiAodHlwZW9mIHRoaXMgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgLy8gY2xvc2VzdCB0aGluZyBwb3NzaWJsZSB0byB0aGUgRUNNQVNjcmlwdCA1IGludGVybmFsIElzQ2FsbGFibGUgZnVuY3Rpb25cbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJGdW5jdGlvbi5wcm90b3R5cGUuYmluZCAtIHdoYXQgaXMgdHJ5aW5nIHRvIGJlIGJvdW5kIGlzIG5vdCBjYWxsYWJsZVwiKTtcbiAgICB9XG5cbiAgICB2YXIgYUFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpLFxuICAgICAgICBmVG9CaW5kID0gdGhpcyxcbiAgICAgICAgZk5PUCA9IGZ1bmN0aW9uICgpIHt9LFxuICAgICAgICBmQm91bmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIGZUb0JpbmQuYXBwbHkodGhpcyBpbnN0YW5jZW9mIGZOT1AgJiYgb1RoaXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdGhpc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBvVGhpcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhQXJncy5jb25jYXQoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSkpO1xuICAgICAgICB9O1xuXG4gICAgZk5PUC5wcm90b3R5cGUgPSB0aGlzLnByb3RvdHlwZTtcbiAgICBmQm91bmQucHJvdG90eXBlID0gbmV3IGZOT1AoKTtcblxuICAgIHJldHVybiBmQm91bmQ7XG4gIH07XG59XG5cbi8vRnJvbSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9pbmRleE9mP3JlZGlyZWN0bG9jYWxlPWVuLVVTJnJlZGlyZWN0c2x1Zz1KYXZhU2NyaXB0JTJGUmVmZXJlbmNlJTJGR2xvYmFsX09iamVjdHMlMkZBcnJheSUyRmluZGV4T2ZcbmlmICghQXJyYXkucHJvdG90eXBlLmluZGV4T2YpIHtcbiAgQXJyYXkucHJvdG90eXBlLmluZGV4T2YgPSBmdW5jdGlvbiAoc2VhcmNoRWxlbWVudCwgZnJvbUluZGV4KSB7XG4gICAgaWYgKCB0aGlzID09PSB1bmRlZmluZWQgfHwgdGhpcyA9PT0gbnVsbCApIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoICdcInRoaXNcIiBpcyBudWxsIG9yIG5vdCBkZWZpbmVkJyApO1xuICAgIH1cblxuICAgIHZhciBsZW5ndGggPSB0aGlzLmxlbmd0aCA+Pj4gMDsgLy8gSGFjayB0byBjb252ZXJ0IG9iamVjdC5sZW5ndGggdG8gYSBVSW50MzJcblxuICAgIGZyb21JbmRleCA9ICtmcm9tSW5kZXggfHwgMDtcblxuICAgIGlmIChNYXRoLmFicyhmcm9tSW5kZXgpID09PSBJbmZpbml0eSkge1xuICAgICAgZnJvbUluZGV4ID0gMDtcbiAgICB9XG5cbiAgICBpZiAoZnJvbUluZGV4IDwgMCkge1xuICAgICAgZnJvbUluZGV4ICs9IGxlbmd0aDtcbiAgICAgIGlmIChmcm9tSW5kZXggPCAwKSB7XG4gICAgICAgIGZyb21JbmRleCA9IDA7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICg7ZnJvbUluZGV4IDwgbGVuZ3RoOyBmcm9tSW5kZXgrKykge1xuICAgICAgaWYgKHRoaXNbZnJvbUluZGV4XSA9PT0gc2VhcmNoRWxlbWVudCkge1xuICAgICAgICByZXR1cm4gZnJvbUluZGV4O1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiAtMTtcbiAgfTtcbn1cbiIsImlmICh0eXBlb2YgUHJvbWlzZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAoZnVuY3Rpb24oKSB7XG4gIHZhciBkZWZpbmUsIHJlcXVpcmVNb2R1bGUsIHJlcXVpcmUsIHJlcXVpcmVqcztcblxuICAoZnVuY3Rpb24oKSB7XG4gICAgdmFyIHJlZ2lzdHJ5ID0ge30sIHNlZW4gPSB7fTtcblxuICAgIGRlZmluZSA9IGZ1bmN0aW9uKG5hbWUsIGRlcHMsIGNhbGxiYWNrKSB7XG4gICAgICByZWdpc3RyeVtuYW1lXSA9IHsgZGVwczogZGVwcywgY2FsbGJhY2s6IGNhbGxiYWNrIH07XG4gICAgfTtcblxuICAgIHJlcXVpcmVqcyA9IHJlcXVpcmUgPSByZXF1aXJlTW9kdWxlID0gZnVuY3Rpb24obmFtZSkge1xuICAgIHJlcXVpcmVqcy5fZWFrX3NlZW4gPSByZWdpc3RyeTtcblxuICAgICAgaWYgKHNlZW5bbmFtZV0pIHsgcmV0dXJuIHNlZW5bbmFtZV07IH1cbiAgICAgIHNlZW5bbmFtZV0gPSB7fTtcblxuICAgICAgaWYgKCFyZWdpc3RyeVtuYW1lXSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZCBub3QgZmluZCBtb2R1bGUgXCIgKyBuYW1lKTtcbiAgICAgIH1cblxuICAgICAgdmFyIG1vZCA9IHJlZ2lzdHJ5W25hbWVdLFxuICAgICAgICAgIGRlcHMgPSBtb2QuZGVwcyxcbiAgICAgICAgICBjYWxsYmFjayA9IG1vZC5jYWxsYmFjayxcbiAgICAgICAgICByZWlmaWVkID0gW10sXG4gICAgICAgICAgZXhwb3J0cztcblxuICAgICAgZm9yICh2YXIgaT0wLCBsPWRlcHMubGVuZ3RoOyBpPGw7IGkrKykge1xuICAgICAgICBpZiAoZGVwc1tpXSA9PT0gJ2V4cG9ydHMnKSB7XG4gICAgICAgICAgcmVpZmllZC5wdXNoKGV4cG9ydHMgPSB7fSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVpZmllZC5wdXNoKHJlcXVpcmVNb2R1bGUocmVzb2x2ZShkZXBzW2ldKSkpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciB2YWx1ZSA9IGNhbGxiYWNrLmFwcGx5KHRoaXMsIHJlaWZpZWQpO1xuICAgICAgcmV0dXJuIHNlZW5bbmFtZV0gPSBleHBvcnRzIHx8IHZhbHVlO1xuXG4gICAgICBmdW5jdGlvbiByZXNvbHZlKGNoaWxkKSB7XG4gICAgICAgIGlmIChjaGlsZC5jaGFyQXQoMCkgIT09ICcuJykgeyByZXR1cm4gY2hpbGQ7IH1cbiAgICAgICAgdmFyIHBhcnRzID0gY2hpbGQuc3BsaXQoXCIvXCIpO1xuICAgICAgICB2YXIgcGFyZW50QmFzZSA9IG5hbWUuc3BsaXQoXCIvXCIpLnNsaWNlKDAsIC0xKTtcblxuICAgICAgICBmb3IgKHZhciBpPTAsIGw9cGFydHMubGVuZ3RoOyBpPGw7IGkrKykge1xuICAgICAgICAgIHZhciBwYXJ0ID0gcGFydHNbaV07XG5cbiAgICAgICAgICBpZiAocGFydCA9PT0gJy4uJykgeyBwYXJlbnRCYXNlLnBvcCgpOyB9XG4gICAgICAgICAgZWxzZSBpZiAocGFydCA9PT0gJy4nKSB7IGNvbnRpbnVlOyB9XG4gICAgICAgICAgZWxzZSB7IHBhcmVudEJhc2UucHVzaChwYXJ0KTsgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHBhcmVudEJhc2Uuam9pbihcIi9cIik7XG4gICAgICB9XG4gICAgfTtcbiAgfSkoKTtcblxuICBkZWZpbmUoXCJwcm9taXNlL2FsbFwiLFxuICAgIFtcIi4vdXRpbHNcIixcImV4cG9ydHNcIl0sXG4gICAgZnVuY3Rpb24oX19kZXBlbmRlbmN5MV9fLCBfX2V4cG9ydHNfXykge1xuICAgICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgICAvKiBnbG9iYWwgdG9TdHJpbmcgKi9cblxuICAgICAgdmFyIGlzQXJyYXkgPSBfX2RlcGVuZGVuY3kxX18uaXNBcnJheTtcbiAgICAgIHZhciBpc0Z1bmN0aW9uID0gX19kZXBlbmRlbmN5MV9fLmlzRnVuY3Rpb247XG5cbiAgICAgIC8qKlxuICAgICAgICBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IGlzIGZ1bGZpbGxlZCB3aGVuIGFsbCB0aGUgZ2l2ZW4gcHJvbWlzZXMgaGF2ZSBiZWVuXG4gICAgICAgIGZ1bGZpbGxlZCwgb3IgcmVqZWN0ZWQgaWYgYW55IG9mIHRoZW0gYmVjb21lIHJlamVjdGVkLiBUaGUgcmV0dXJuIHByb21pc2VcbiAgICAgICAgaXMgZnVsZmlsbGVkIHdpdGggYW4gYXJyYXkgdGhhdCBnaXZlcyBhbGwgdGhlIHZhbHVlcyBpbiB0aGUgb3JkZXIgdGhleSB3ZXJlXG4gICAgICAgIHBhc3NlZCBpbiB0aGUgYHByb21pc2VzYCBhcnJheSBhcmd1bWVudC5cblxuICAgICAgICBFeGFtcGxlOlxuXG4gICAgICAgIGBgYGphdmFzY3JpcHRcbiAgICAgICAgdmFyIHByb21pc2UxID0gUlNWUC5yZXNvbHZlKDEpO1xuICAgICAgICB2YXIgcHJvbWlzZTIgPSBSU1ZQLnJlc29sdmUoMik7XG4gICAgICAgIHZhciBwcm9taXNlMyA9IFJTVlAucmVzb2x2ZSgzKTtcbiAgICAgICAgdmFyIHByb21pc2VzID0gWyBwcm9taXNlMSwgcHJvbWlzZTIsIHByb21pc2UzIF07XG5cbiAgICAgICAgUlNWUC5hbGwocHJvbWlzZXMpLnRoZW4oZnVuY3Rpb24oYXJyYXkpe1xuICAgICAgICAgIC8vIFRoZSBhcnJheSBoZXJlIHdvdWxkIGJlIFsgMSwgMiwgMyBdO1xuICAgICAgICB9KTtcbiAgICAgICAgYGBgXG5cbiAgICAgICAgSWYgYW55IG9mIHRoZSBgcHJvbWlzZXNgIGdpdmVuIHRvIGBSU1ZQLmFsbGAgYXJlIHJlamVjdGVkLCB0aGUgZmlyc3QgcHJvbWlzZVxuICAgICAgICB0aGF0IGlzIHJlamVjdGVkIHdpbGwgYmUgZ2l2ZW4gYXMgYW4gYXJndW1lbnQgdG8gdGhlIHJldHVybmVkIHByb21pc2VzJ3NcbiAgICAgICAgcmVqZWN0aW9uIGhhbmRsZXIuIEZvciBleGFtcGxlOlxuXG4gICAgICAgIEV4YW1wbGU6XG5cbiAgICAgICAgYGBgamF2YXNjcmlwdFxuICAgICAgICB2YXIgcHJvbWlzZTEgPSBSU1ZQLnJlc29sdmUoMSk7XG4gICAgICAgIHZhciBwcm9taXNlMiA9IFJTVlAucmVqZWN0KG5ldyBFcnJvcihcIjJcIikpO1xuICAgICAgICB2YXIgcHJvbWlzZTMgPSBSU1ZQLnJlamVjdChuZXcgRXJyb3IoXCIzXCIpKTtcbiAgICAgICAgdmFyIHByb21pc2VzID0gWyBwcm9taXNlMSwgcHJvbWlzZTIsIHByb21pc2UzIF07XG5cbiAgICAgICAgUlNWUC5hbGwocHJvbWlzZXMpLnRoZW4oZnVuY3Rpb24oYXJyYXkpe1xuICAgICAgICAgIC8vIENvZGUgaGVyZSBuZXZlciBydW5zIGJlY2F1c2UgdGhlcmUgYXJlIHJlamVjdGVkIHByb21pc2VzIVxuICAgICAgICB9LCBmdW5jdGlvbihlcnJvcikge1xuICAgICAgICAgIC8vIGVycm9yLm1lc3NhZ2UgPT09IFwiMlwiXG4gICAgICAgIH0pO1xuICAgICAgICBgYGBcblxuICAgICAgICBAbWV0aG9kIGFsbFxuICAgICAgICBAZm9yIFJTVlBcbiAgICAgICAgQHBhcmFtIHtBcnJheX0gcHJvbWlzZXNcbiAgICAgICAgQHBhcmFtIHtTdHJpbmd9IGxhYmVsXG4gICAgICAgIEByZXR1cm4ge1Byb21pc2V9IHByb21pc2UgdGhhdCBpcyBmdWxmaWxsZWQgd2hlbiBhbGwgYHByb21pc2VzYCBoYXZlIGJlZW5cbiAgICAgICAgZnVsZmlsbGVkLCBvciByZWplY3RlZCBpZiBhbnkgb2YgdGhlbSBiZWNvbWUgcmVqZWN0ZWQuXG4gICAgICAqL1xuICAgICAgZnVuY3Rpb24gYWxsKHByb21pc2VzKSB7XG4gICAgICAgIC8qanNoaW50IHZhbGlkdGhpczp0cnVlICovXG4gICAgICAgIHZhciBQcm9taXNlID0gdGhpcztcblxuICAgICAgICBpZiAoIWlzQXJyYXkocHJvbWlzZXMpKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignWW91IG11c3QgcGFzcyBhbiBhcnJheSB0byBhbGwuJyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgdmFyIHJlc3VsdHMgPSBbXSwgcmVtYWluaW5nID0gcHJvbWlzZXMubGVuZ3RoLFxuICAgICAgICAgIHByb21pc2U7XG5cbiAgICAgICAgICBpZiAocmVtYWluaW5nID09PSAwKSB7XG4gICAgICAgICAgICByZXNvbHZlKFtdKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBmdW5jdGlvbiByZXNvbHZlcihpbmRleCkge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICAgIHJlc29sdmVBbGwoaW5kZXgsIHZhbHVlKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZnVuY3Rpb24gcmVzb2x2ZUFsbChpbmRleCwgdmFsdWUpIHtcbiAgICAgICAgICAgIHJlc3VsdHNbaW5kZXhdID0gdmFsdWU7XG4gICAgICAgICAgICBpZiAoLS1yZW1haW5pbmcgPT09IDApIHtcbiAgICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb21pc2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBwcm9taXNlID0gcHJvbWlzZXNbaV07XG5cbiAgICAgICAgICAgIGlmIChwcm9taXNlICYmIGlzRnVuY3Rpb24ocHJvbWlzZS50aGVuKSkge1xuICAgICAgICAgICAgICBwcm9taXNlLnRoZW4ocmVzb2x2ZXIoaSksIHJlamVjdCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXNvbHZlQWxsKGksIHByb21pc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIF9fZXhwb3J0c19fLmFsbCA9IGFsbDtcbiAgICB9KTtcbiAgZGVmaW5lKFwicHJvbWlzZS9hc2FwXCIsXG4gICAgW1wiZXhwb3J0c1wiXSxcbiAgICBmdW5jdGlvbihfX2V4cG9ydHNfXykge1xuICAgICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgICB2YXIgYnJvd3Nlckdsb2JhbCA9ICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykgPyB3aW5kb3cgOiB7fTtcbiAgICAgIHZhciBCcm93c2VyTXV0YXRpb25PYnNlcnZlciA9IGJyb3dzZXJHbG9iYWwuTXV0YXRpb25PYnNlcnZlciB8fCBicm93c2VyR2xvYmFsLldlYktpdE11dGF0aW9uT2JzZXJ2ZXI7XG4gICAgICB2YXIgbG9jYWwgPSB3aW5kb3c7XG5cbiAgICAgIC8vIG5vZGVcbiAgICAgIGZ1bmN0aW9uIHVzZU5leHRUaWNrKCkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcHJvY2Vzcy5uZXh0VGljayhmbHVzaCk7XG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHVzZU11dGF0aW9uT2JzZXJ2ZXIoKSB7XG4gICAgICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICAgICAgdmFyIG9ic2VydmVyID0gbmV3IEJyb3dzZXJNdXRhdGlvbk9ic2VydmVyKGZsdXNoKTtcbiAgICAgICAgdmFyIG5vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnJyk7XG4gICAgICAgIG9ic2VydmVyLm9ic2VydmUobm9kZSwgeyBjaGFyYWN0ZXJEYXRhOiB0cnVlIH0pO1xuXG4gICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBub2RlLmRhdGEgPSAoaXRlcmF0aW9ucyA9ICsraXRlcmF0aW9ucyAlIDIpO1xuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiB1c2VTZXRUaW1lb3V0KCkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgbG9jYWwuc2V0VGltZW91dChmbHVzaCwgMSk7XG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIHZhciBxdWV1ZSA9IFtdO1xuICAgICAgZnVuY3Rpb24gZmx1c2goKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcXVldWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB2YXIgdHVwbGUgPSBxdWV1ZVtpXTtcbiAgICAgICAgICB2YXIgY2FsbGJhY2sgPSB0dXBsZVswXSwgYXJnID0gdHVwbGVbMV07XG4gICAgICAgICAgY2FsbGJhY2soYXJnKTtcbiAgICAgICAgfVxuICAgICAgICBxdWV1ZSA9IFtdO1xuICAgICAgfVxuXG4gICAgICB2YXIgc2NoZWR1bGVGbHVzaDtcblxuICAgICAgLy8gRGVjaWRlIHdoYXQgYXN5bmMgbWV0aG9kIHRvIHVzZSB0byB0cmlnZ2VyaW5nIHByb2Nlc3Npbmcgb2YgcXVldWVkIGNhbGxiYWNrczpcbiAgICAgIGlmICh0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYge30udG9TdHJpbmcuY2FsbChwcm9jZXNzKSA9PT0gJ1tvYmplY3QgcHJvY2Vzc10nKSB7XG4gICAgICAgIHNjaGVkdWxlRmx1c2ggPSB1c2VOZXh0VGljaygpO1xuICAgICAgfSBlbHNlIGlmIChCcm93c2VyTXV0YXRpb25PYnNlcnZlcikge1xuICAgICAgICBzY2hlZHVsZUZsdXNoID0gdXNlTXV0YXRpb25PYnNlcnZlcigpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2NoZWR1bGVGbHVzaCA9IHVzZVNldFRpbWVvdXQoKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gYXNhcChjYWxsYmFjaywgYXJnKSB7XG4gICAgICAgIHZhciBsZW5ndGggPSBxdWV1ZS5wdXNoKFtjYWxsYmFjaywgYXJnXSk7XG4gICAgICAgIGlmIChsZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAvLyBJZiBsZW5ndGggaXMgMSwgdGhhdCBtZWFucyB0aGF0IHdlIG5lZWQgdG8gc2NoZWR1bGUgYW4gYXN5bmMgZmx1c2guXG4gICAgICAgICAgLy8gSWYgYWRkaXRpb25hbCBjYWxsYmFja3MgYXJlIHF1ZXVlZCBiZWZvcmUgdGhlIHF1ZXVlIGlzIGZsdXNoZWQsIHRoZXlcbiAgICAgICAgICAvLyB3aWxsIGJlIHByb2Nlc3NlZCBieSB0aGlzIGZsdXNoIHRoYXQgd2UgYXJlIHNjaGVkdWxpbmcuXG4gICAgICAgICAgc2NoZWR1bGVGbHVzaCgpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIF9fZXhwb3J0c19fLmFzYXAgPSBhc2FwO1xuICAgIH0pO1xuICBkZWZpbmUoXCJwcm9taXNlL2NvbmZpZ1wiLFxuICAgIFtcImV4cG9ydHNcIl0sXG4gICAgZnVuY3Rpb24oX19leHBvcnRzX18pIHtcbiAgICAgIFwidXNlIHN0cmljdFwiO1xuICAgICAgdmFyIGNvbmZpZyA9IHtcbiAgICAgICAgaW5zdHJ1bWVudDogZmFsc2VcbiAgICAgIH07XG5cbiAgICAgIGZ1bmN0aW9uIGNvbmZpZ3VyZShuYW1lLCB2YWx1ZSkge1xuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMikge1xuICAgICAgICAgIGNvbmZpZ1tuYW1lXSA9IHZhbHVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBjb25maWdbbmFtZV07XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgX19leHBvcnRzX18uY29uZmlnID0gY29uZmlnO1xuICAgICAgX19leHBvcnRzX18uY29uZmlndXJlID0gY29uZmlndXJlO1xuICAgIH0pO1xuICBkZWZpbmUoXCJwcm9taXNlL3BvbHlmaWxsXCIsXG4gICAgW1wiLi9wcm9taXNlXCIsXCIuL3V0aWxzXCIsXCJleHBvcnRzXCJdLFxuICAgIGZ1bmN0aW9uKF9fZGVwZW5kZW5jeTFfXywgX19kZXBlbmRlbmN5Ml9fLCBfX2V4cG9ydHNfXykge1xuICAgICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgICAvKmdsb2JhbCBzZWxmKi9cbiAgICAgIHZhciBSU1ZQUHJvbWlzZSA9IF9fZGVwZW5kZW5jeTFfXy5Qcm9taXNlO1xuICAgICAgdmFyIGlzRnVuY3Rpb24gPSBfX2RlcGVuZGVuY3kyX18uaXNGdW5jdGlvbjtcblxuICAgICAgZnVuY3Rpb24gcG9seWZpbGwoKSB7XG4gICAgICAgIHZhciBsb2NhbDtcblxuICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmRvY3VtZW50KSB7XG4gICAgICAgICAgbG9jYWwgPSB3aW5kb3c7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbG9jYWwgPSBzZWxmO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGVzNlByb21pc2VTdXBwb3J0ID1cbiAgICAgICAgICBcIlByb21pc2VcIiBpbiBsb2NhbCAmJlxuICAgICAgICAgIC8vIFNvbWUgb2YgdGhlc2UgbWV0aG9kcyBhcmUgbWlzc2luZyBmcm9tXG4gICAgICAgICAgLy8gRmlyZWZveC9DaHJvbWUgZXhwZXJpbWVudGFsIGltcGxlbWVudGF0aW9uc1xuICAgICAgICAgIFwicmVzb2x2ZVwiIGluIGxvY2FsLlByb21pc2UgJiZcbiAgICAgICAgICBcInJlamVjdFwiIGluIGxvY2FsLlByb21pc2UgJiZcbiAgICAgICAgICBcImFsbFwiIGluIGxvY2FsLlByb21pc2UgJiZcbiAgICAgICAgICBcInJhY2VcIiBpbiBsb2NhbC5Qcm9taXNlICYmXG4gICAgICAgICAgLy8gT2xkZXIgdmVyc2lvbiBvZiB0aGUgc3BlYyBoYWQgYSByZXNvbHZlciBvYmplY3RcbiAgICAgICAgICAvLyBhcyB0aGUgYXJnIHJhdGhlciB0aGFuIGEgZnVuY3Rpb25cbiAgICAgICAgICAoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgcmVzb2x2ZTtcbiAgICAgICAgICAgIG5ldyBsb2NhbC5Qcm9taXNlKGZ1bmN0aW9uKHIpIHsgcmVzb2x2ZSA9IHI7IH0pO1xuICAgICAgICAgICAgcmV0dXJuIGlzRnVuY3Rpb24ocmVzb2x2ZSk7XG4gICAgICAgICAgfSgpKTtcblxuICAgICAgICBpZiAoIWVzNlByb21pc2VTdXBwb3J0KSB7XG4gICAgICAgICAgbG9jYWwuUHJvbWlzZSA9IFJTVlBQcm9taXNlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIF9fZXhwb3J0c19fLnBvbHlmaWxsID0gcG9seWZpbGw7XG4gICAgfSk7XG4gIGRlZmluZShcInByb21pc2UvcHJvbWlzZVwiLFxuICAgIFtcIi4vY29uZmlnXCIsXCIuL3V0aWxzXCIsXCIuL2FsbFwiLFwiLi9yYWNlXCIsXCIuL3Jlc29sdmVcIixcIi4vcmVqZWN0XCIsXCIuL2FzYXBcIixcImV4cG9ydHNcIl0sXG4gICAgZnVuY3Rpb24oX19kZXBlbmRlbmN5MV9fLCBfX2RlcGVuZGVuY3kyX18sIF9fZGVwZW5kZW5jeTNfXywgX19kZXBlbmRlbmN5NF9fLCBfX2RlcGVuZGVuY3k1X18sIF9fZGVwZW5kZW5jeTZfXywgX19kZXBlbmRlbmN5N19fLCBfX2V4cG9ydHNfXykge1xuICAgICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgICB2YXIgY29uZmlnID0gX19kZXBlbmRlbmN5MV9fLmNvbmZpZztcbiAgICAgIHZhciBjb25maWd1cmUgPSBfX2RlcGVuZGVuY3kxX18uY29uZmlndXJlO1xuICAgICAgdmFyIG9iamVjdE9yRnVuY3Rpb24gPSBfX2RlcGVuZGVuY3kyX18ub2JqZWN0T3JGdW5jdGlvbjtcbiAgICAgIHZhciBpc0Z1bmN0aW9uID0gX19kZXBlbmRlbmN5Ml9fLmlzRnVuY3Rpb247XG4gICAgICB2YXIgbm93ID0gX19kZXBlbmRlbmN5Ml9fLm5vdztcbiAgICAgIHZhciBhbGwgPSBfX2RlcGVuZGVuY3kzX18uYWxsO1xuICAgICAgdmFyIHJhY2UgPSBfX2RlcGVuZGVuY3k0X18ucmFjZTtcbiAgICAgIHZhciBzdGF0aWNSZXNvbHZlID0gX19kZXBlbmRlbmN5NV9fLnJlc29sdmU7XG4gICAgICB2YXIgc3RhdGljUmVqZWN0ID0gX19kZXBlbmRlbmN5Nl9fLnJlamVjdDtcbiAgICAgIHZhciBhc2FwID0gX19kZXBlbmRlbmN5N19fLmFzYXA7XG5cbiAgICAgIHZhciBjb3VudGVyID0gMDtcblxuICAgICAgY29uZmlnLmFzeW5jID0gYXNhcDsgLy8gZGVmYXVsdCBhc3luYyBpcyBhc2FwO1xuXG4gICAgICBmdW5jdGlvbiBQcm9taXNlKHJlc29sdmVyKSB7XG4gICAgICAgIGlmICghaXNGdW5jdGlvbihyZXNvbHZlcikpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdZb3UgbXVzdCBwYXNzIGEgcmVzb2x2ZXIgZnVuY3Rpb24gYXMgdGhlIGZpcnN0IGFyZ3VtZW50IHRvIHRoZSBwcm9taXNlIGNvbnN0cnVjdG9yJyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgUHJvbWlzZSkpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRmFpbGVkIHRvIGNvbnN0cnVjdCAnUHJvbWlzZSc6IFBsZWFzZSB1c2UgdGhlICduZXcnIG9wZXJhdG9yLCB0aGlzIG9iamVjdCBjb25zdHJ1Y3RvciBjYW5ub3QgYmUgY2FsbGVkIGFzIGEgZnVuY3Rpb24uXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fc3Vic2NyaWJlcnMgPSBbXTtcblxuICAgICAgICBpbnZva2VSZXNvbHZlcihyZXNvbHZlciwgdGhpcyk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGludm9rZVJlc29sdmVyKHJlc29sdmVyLCBwcm9taXNlKSB7XG4gICAgICAgIGZ1bmN0aW9uIHJlc29sdmVQcm9taXNlKHZhbHVlKSB7XG4gICAgICAgICAgcmVzb2x2ZShwcm9taXNlLCB2YWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiByZWplY3RQcm9taXNlKHJlYXNvbikge1xuICAgICAgICAgIHJlamVjdChwcm9taXNlLCByZWFzb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXNvbHZlcihyZXNvbHZlUHJvbWlzZSwgcmVqZWN0UHJvbWlzZSk7XG4gICAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICAgIHJlamVjdFByb21pc2UoZSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gaW52b2tlQ2FsbGJhY2soc2V0dGxlZCwgcHJvbWlzZSwgY2FsbGJhY2ssIGRldGFpbCkge1xuICAgICAgICB2YXIgaGFzQ2FsbGJhY2sgPSBpc0Z1bmN0aW9uKGNhbGxiYWNrKSxcbiAgICAgICAgICAgIHZhbHVlLCBlcnJvciwgc3VjY2VlZGVkLCBmYWlsZWQ7XG5cbiAgICAgICAgaWYgKGhhc0NhbGxiYWNrKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhbHVlID0gY2FsbGJhY2soZGV0YWlsKTtcbiAgICAgICAgICAgIHN1Y2NlZWRlZCA9IHRydWU7XG4gICAgICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgICAgICBmYWlsZWQgPSB0cnVlO1xuICAgICAgICAgICAgZXJyb3IgPSBlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YWx1ZSA9IGRldGFpbDtcbiAgICAgICAgICBzdWNjZWVkZWQgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhhbmRsZVRoZW5hYmxlKHByb21pc2UsIHZhbHVlKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSBlbHNlIGlmIChoYXNDYWxsYmFjayAmJiBzdWNjZWVkZWQpIHtcbiAgICAgICAgICByZXNvbHZlKHByb21pc2UsIHZhbHVlKTtcbiAgICAgICAgfSBlbHNlIGlmIChmYWlsZWQpIHtcbiAgICAgICAgICByZWplY3QocHJvbWlzZSwgZXJyb3IpO1xuICAgICAgICB9IGVsc2UgaWYgKHNldHRsZWQgPT09IEZVTEZJTExFRCkge1xuICAgICAgICAgIHJlc29sdmUocHJvbWlzZSwgdmFsdWUpO1xuICAgICAgICB9IGVsc2UgaWYgKHNldHRsZWQgPT09IFJFSkVDVEVEKSB7XG4gICAgICAgICAgcmVqZWN0KHByb21pc2UsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgUEVORElORyAgID0gdm9pZCAwO1xuICAgICAgdmFyIFNFQUxFRCAgICA9IDA7XG4gICAgICB2YXIgRlVMRklMTEVEID0gMTtcbiAgICAgIHZhciBSRUpFQ1RFRCAgPSAyO1xuXG4gICAgICBmdW5jdGlvbiBzdWJzY3JpYmUocGFyZW50LCBjaGlsZCwgb25GdWxmaWxsbWVudCwgb25SZWplY3Rpb24pIHtcbiAgICAgICAgdmFyIHN1YnNjcmliZXJzID0gcGFyZW50Ll9zdWJzY3JpYmVycztcbiAgICAgICAgdmFyIGxlbmd0aCA9IHN1YnNjcmliZXJzLmxlbmd0aDtcblxuICAgICAgICBzdWJzY3JpYmVyc1tsZW5ndGhdID0gY2hpbGQ7XG4gICAgICAgIHN1YnNjcmliZXJzW2xlbmd0aCArIEZVTEZJTExFRF0gPSBvbkZ1bGZpbGxtZW50O1xuICAgICAgICBzdWJzY3JpYmVyc1tsZW5ndGggKyBSRUpFQ1RFRF0gID0gb25SZWplY3Rpb247XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHB1Ymxpc2gocHJvbWlzZSwgc2V0dGxlZCkge1xuICAgICAgICB2YXIgY2hpbGQsIGNhbGxiYWNrLCBzdWJzY3JpYmVycyA9IHByb21pc2UuX3N1YnNjcmliZXJzLCBkZXRhaWwgPSBwcm9taXNlLl9kZXRhaWw7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdWJzY3JpYmVycy5sZW5ndGg7IGkgKz0gMykge1xuICAgICAgICAgIGNoaWxkID0gc3Vic2NyaWJlcnNbaV07XG4gICAgICAgICAgY2FsbGJhY2sgPSBzdWJzY3JpYmVyc1tpICsgc2V0dGxlZF07XG5cbiAgICAgICAgICBpbnZva2VDYWxsYmFjayhzZXR0bGVkLCBjaGlsZCwgY2FsbGJhY2ssIGRldGFpbCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcm9taXNlLl9zdWJzY3JpYmVycyA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIFByb21pc2UucHJvdG90eXBlID0ge1xuICAgICAgICBjb25zdHJ1Y3RvcjogUHJvbWlzZSxcblxuICAgICAgICBfc3RhdGU6IHVuZGVmaW5lZCxcbiAgICAgICAgX2RldGFpbDogdW5kZWZpbmVkLFxuICAgICAgICBfc3Vic2NyaWJlcnM6IHVuZGVmaW5lZCxcblxuICAgICAgICB0aGVuOiBmdW5jdGlvbihvbkZ1bGZpbGxtZW50LCBvblJlamVjdGlvbikge1xuICAgICAgICAgIHZhciBwcm9taXNlID0gdGhpcztcblxuICAgICAgICAgIHZhciB0aGVuUHJvbWlzZSA9IG5ldyB0aGlzLmNvbnN0cnVjdG9yKGZ1bmN0aW9uKCkge30pO1xuXG4gICAgICAgICAgaWYgKHRoaXMuX3N0YXRlKSB7XG4gICAgICAgICAgICB2YXIgY2FsbGJhY2tzID0gYXJndW1lbnRzO1xuICAgICAgICAgICAgY29uZmlnLmFzeW5jKGZ1bmN0aW9uIGludm9rZVByb21pc2VDYWxsYmFjaygpIHtcbiAgICAgICAgICAgICAgaW52b2tlQ2FsbGJhY2socHJvbWlzZS5fc3RhdGUsIHRoZW5Qcm9taXNlLCBjYWxsYmFja3NbcHJvbWlzZS5fc3RhdGUgLSAxXSwgcHJvbWlzZS5fZGV0YWlsKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdWJzY3JpYmUodGhpcywgdGhlblByb21pc2UsIG9uRnVsZmlsbG1lbnQsIG9uUmVqZWN0aW9uKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gdGhlblByb21pc2U7XG4gICAgICAgIH0sXG5cbiAgICAgICAgJ2NhdGNoJzogZnVuY3Rpb24ob25SZWplY3Rpb24pIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy50aGVuKG51bGwsIG9uUmVqZWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgUHJvbWlzZS5hbGwgPSBhbGw7XG4gICAgICBQcm9taXNlLnJhY2UgPSByYWNlO1xuICAgICAgUHJvbWlzZS5yZXNvbHZlID0gc3RhdGljUmVzb2x2ZTtcbiAgICAgIFByb21pc2UucmVqZWN0ID0gc3RhdGljUmVqZWN0O1xuXG4gICAgICBmdW5jdGlvbiBoYW5kbGVUaGVuYWJsZShwcm9taXNlLCB2YWx1ZSkge1xuICAgICAgICB2YXIgdGhlbiA9IG51bGwsXG4gICAgICAgIHJlc29sdmVkO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKHByb21pc2UgPT09IHZhbHVlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQSBwcm9taXNlcyBjYWxsYmFjayBjYW5ub3QgcmV0dXJuIHRoYXQgc2FtZSBwcm9taXNlLlwiKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAob2JqZWN0T3JGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICAgICAgICAgIHRoZW4gPSB2YWx1ZS50aGVuO1xuXG4gICAgICAgICAgICBpZiAoaXNGdW5jdGlvbih0aGVuKSkge1xuICAgICAgICAgICAgICB0aGVuLmNhbGwodmFsdWUsIGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICAgICAgICAgIGlmIChyZXNvbHZlZCkgeyByZXR1cm4gdHJ1ZTsgfVxuICAgICAgICAgICAgICAgIHJlc29sdmVkID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdmFsKSB7XG4gICAgICAgICAgICAgICAgICByZXNvbHZlKHByb21pc2UsIHZhbCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIGZ1bGZpbGwocHJvbWlzZSwgdmFsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICAgICAgICAgIGlmIChyZXNvbHZlZCkgeyByZXR1cm4gdHJ1ZTsgfVxuICAgICAgICAgICAgICAgIHJlc29sdmVkID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgIHJlamVjdChwcm9taXNlLCB2YWwpO1xuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgaWYgKHJlc29sdmVkKSB7IHJldHVybiB0cnVlOyB9XG4gICAgICAgICAgcmVqZWN0KHByb21pc2UsIGVycm9yKTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gcmVzb2x2ZShwcm9taXNlLCB2YWx1ZSkge1xuICAgICAgICBpZiAocHJvbWlzZSA9PT0gdmFsdWUpIHtcbiAgICAgICAgICBmdWxmaWxsKHByb21pc2UsIHZhbHVlKTtcbiAgICAgICAgfSBlbHNlIGlmICghaGFuZGxlVGhlbmFibGUocHJvbWlzZSwgdmFsdWUpKSB7XG4gICAgICAgICAgZnVsZmlsbChwcm9taXNlLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gZnVsZmlsbChwcm9taXNlLCB2YWx1ZSkge1xuICAgICAgICBpZiAocHJvbWlzZS5fc3RhdGUgIT09IFBFTkRJTkcpIHsgcmV0dXJuOyB9XG4gICAgICAgIHByb21pc2UuX3N0YXRlID0gU0VBTEVEO1xuICAgICAgICBwcm9taXNlLl9kZXRhaWwgPSB2YWx1ZTtcblxuICAgICAgICBjb25maWcuYXN5bmMocHVibGlzaEZ1bGZpbGxtZW50LCBwcm9taXNlKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gcmVqZWN0KHByb21pc2UsIHJlYXNvbikge1xuICAgICAgICBpZiAocHJvbWlzZS5fc3RhdGUgIT09IFBFTkRJTkcpIHsgcmV0dXJuOyB9XG4gICAgICAgIHByb21pc2UuX3N0YXRlID0gU0VBTEVEO1xuICAgICAgICBwcm9taXNlLl9kZXRhaWwgPSByZWFzb247XG5cbiAgICAgICAgY29uZmlnLmFzeW5jKHB1Ymxpc2hSZWplY3Rpb24sIHByb21pc2UpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBwdWJsaXNoRnVsZmlsbG1lbnQocHJvbWlzZSkge1xuICAgICAgICBwdWJsaXNoKHByb21pc2UsIHByb21pc2UuX3N0YXRlID0gRlVMRklMTEVEKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gcHVibGlzaFJlamVjdGlvbihwcm9taXNlKSB7XG4gICAgICAgIHB1Ymxpc2gocHJvbWlzZSwgcHJvbWlzZS5fc3RhdGUgPSBSRUpFQ1RFRCk7XG4gICAgICB9XG5cbiAgICAgIF9fZXhwb3J0c19fLlByb21pc2UgPSBQcm9taXNlO1xuICAgIH0pO1xuICBkZWZpbmUoXCJwcm9taXNlL3JhY2VcIixcbiAgICBbXCIuL3V0aWxzXCIsXCJleHBvcnRzXCJdLFxuICAgIGZ1bmN0aW9uKF9fZGVwZW5kZW5jeTFfXywgX19leHBvcnRzX18pIHtcbiAgICAgIFwidXNlIHN0cmljdFwiO1xuICAgICAgLyogZ2xvYmFsIHRvU3RyaW5nICovXG4gICAgICB2YXIgaXNBcnJheSA9IF9fZGVwZW5kZW5jeTFfXy5pc0FycmF5O1xuXG4gICAgICAvKipcbiAgICAgICAgYFJTVlAucmFjZWAgYWxsb3dzIHlvdSB0byB3YXRjaCBhIHNlcmllcyBvZiBwcm9taXNlcyBhbmQgYWN0IGFzIHNvb24gYXMgdGhlXG4gICAgICAgIGZpcnN0IHByb21pc2UgZ2l2ZW4gdG8gdGhlIGBwcm9taXNlc2AgYXJndW1lbnQgZnVsZmlsbHMgb3IgcmVqZWN0cy5cblxuICAgICAgICBFeGFtcGxlOlxuXG4gICAgICAgIGBgYGphdmFzY3JpcHRcbiAgICAgICAgdmFyIHByb21pc2UxID0gbmV3IFJTVlAuUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3Qpe1xuICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHJlc29sdmUoXCJwcm9taXNlIDFcIik7XG4gICAgICAgICAgfSwgMjAwKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIHByb21pc2UyID0gbmV3IFJTVlAuUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3Qpe1xuICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHJlc29sdmUoXCJwcm9taXNlIDJcIik7XG4gICAgICAgICAgfSwgMTAwKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgUlNWUC5yYWNlKFtwcm9taXNlMSwgcHJvbWlzZTJdKS50aGVuKGZ1bmN0aW9uKHJlc3VsdCl7XG4gICAgICAgICAgLy8gcmVzdWx0ID09PSBcInByb21pc2UgMlwiIGJlY2F1c2UgaXQgd2FzIHJlc29sdmVkIGJlZm9yZSBwcm9taXNlMVxuICAgICAgICAgIC8vIHdhcyByZXNvbHZlZC5cbiAgICAgICAgfSk7XG4gICAgICAgIGBgYFxuXG4gICAgICAgIGBSU1ZQLnJhY2VgIGlzIGRldGVybWluaXN0aWMgaW4gdGhhdCBvbmx5IHRoZSBzdGF0ZSBvZiB0aGUgZmlyc3QgY29tcGxldGVkXG4gICAgICAgIHByb21pc2UgbWF0dGVycy4gRm9yIGV4YW1wbGUsIGV2ZW4gaWYgb3RoZXIgcHJvbWlzZXMgZ2l2ZW4gdG8gdGhlIGBwcm9taXNlc2BcbiAgICAgICAgYXJyYXkgYXJndW1lbnQgYXJlIHJlc29sdmVkLCBidXQgdGhlIGZpcnN0IGNvbXBsZXRlZCBwcm9taXNlIGhhcyBiZWNvbWVcbiAgICAgICAgcmVqZWN0ZWQgYmVmb3JlIHRoZSBvdGhlciBwcm9taXNlcyBiZWNhbWUgZnVsZmlsbGVkLCB0aGUgcmV0dXJuZWQgcHJvbWlzZVxuICAgICAgICB3aWxsIGJlY29tZSByZWplY3RlZDpcblxuICAgICAgICBgYGBqYXZhc2NyaXB0XG4gICAgICAgIHZhciBwcm9taXNlMSA9IG5ldyBSU1ZQLlByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXtcbiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICByZXNvbHZlKFwicHJvbWlzZSAxXCIpO1xuICAgICAgICAgIH0sIDIwMCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciBwcm9taXNlMiA9IG5ldyBSU1ZQLlByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXtcbiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICByZWplY3QobmV3IEVycm9yKFwicHJvbWlzZSAyXCIpKTtcbiAgICAgICAgICB9LCAxMDApO1xuICAgICAgICB9KTtcblxuICAgICAgICBSU1ZQLnJhY2UoW3Byb21pc2UxLCBwcm9taXNlMl0pLnRoZW4oZnVuY3Rpb24ocmVzdWx0KXtcbiAgICAgICAgICAvLyBDb2RlIGhlcmUgbmV2ZXIgcnVucyBiZWNhdXNlIHRoZXJlIGFyZSByZWplY3RlZCBwcm9taXNlcyFcbiAgICAgICAgfSwgZnVuY3Rpb24ocmVhc29uKXtcbiAgICAgICAgICAvLyByZWFzb24ubWVzc2FnZSA9PT0gXCJwcm9taXNlMlwiIGJlY2F1c2UgcHJvbWlzZSAyIGJlY2FtZSByZWplY3RlZCBiZWZvcmVcbiAgICAgICAgICAvLyBwcm9taXNlIDEgYmVjYW1lIGZ1bGZpbGxlZFxuICAgICAgICB9KTtcbiAgICAgICAgYGBgXG5cbiAgICAgICAgQG1ldGhvZCByYWNlXG4gICAgICAgIEBmb3IgUlNWUFxuICAgICAgICBAcGFyYW0ge0FycmF5fSBwcm9taXNlcyBhcnJheSBvZiBwcm9taXNlcyB0byBvYnNlcnZlXG4gICAgICAgIEBwYXJhbSB7U3RyaW5nfSBsYWJlbCBvcHRpb25hbCBzdHJpbmcgZm9yIGRlc2NyaWJpbmcgdGhlIHByb21pc2UgcmV0dXJuZWQuXG4gICAgICAgIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgICAgICAgQHJldHVybiB7UHJvbWlzZX0gYSBwcm9taXNlIHRoYXQgYmVjb21lcyBmdWxmaWxsZWQgd2l0aCB0aGUgdmFsdWUgdGhlIGZpcnN0XG4gICAgICAgIGNvbXBsZXRlZCBwcm9taXNlcyBpcyByZXNvbHZlZCB3aXRoIGlmIHRoZSBmaXJzdCBjb21wbGV0ZWQgcHJvbWlzZSB3YXNcbiAgICAgICAgZnVsZmlsbGVkLCBvciByZWplY3RlZCB3aXRoIHRoZSByZWFzb24gdGhhdCB0aGUgZmlyc3QgY29tcGxldGVkIHByb21pc2VcbiAgICAgICAgd2FzIHJlamVjdGVkIHdpdGguXG4gICAgICAqL1xuICAgICAgZnVuY3Rpb24gcmFjZShwcm9taXNlcykge1xuICAgICAgICAvKmpzaGludCB2YWxpZHRoaXM6dHJ1ZSAqL1xuICAgICAgICB2YXIgUHJvbWlzZSA9IHRoaXM7XG5cbiAgICAgICAgaWYgKCFpc0FycmF5KHByb21pc2VzKSkge1xuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1lvdSBtdXN0IHBhc3MgYW4gYXJyYXkgdG8gcmFjZS4nKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgdmFyIHJlc3VsdHMgPSBbXSwgcHJvbWlzZTtcblxuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvbWlzZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHByb21pc2UgPSBwcm9taXNlc1tpXTtcblxuICAgICAgICAgICAgaWYgKHByb21pc2UgJiYgdHlwZW9mIHByb21pc2UudGhlbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICBwcm9taXNlLnRoZW4ocmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJlc29sdmUocHJvbWlzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgX19leHBvcnRzX18ucmFjZSA9IHJhY2U7XG4gICAgfSk7XG4gIGRlZmluZShcInByb21pc2UvcmVqZWN0XCIsXG4gICAgW1wiZXhwb3J0c1wiXSxcbiAgICBmdW5jdGlvbihfX2V4cG9ydHNfXykge1xuICAgICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgICAvKipcbiAgICAgICAgYFJTVlAucmVqZWN0YCByZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHdpbGwgYmVjb21lIHJlamVjdGVkIHdpdGggdGhlIHBhc3NlZFxuICAgICAgICBgcmVhc29uYC4gYFJTVlAucmVqZWN0YCBpcyBlc3NlbnRpYWxseSBzaG9ydGhhbmQgZm9yIHRoZSBmb2xsb3dpbmc6XG5cbiAgICAgICAgYGBgamF2YXNjcmlwdFxuICAgICAgICB2YXIgcHJvbWlzZSA9IG5ldyBSU1ZQLlByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXtcbiAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdXSE9PUFMnKSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHByb21pc2UudGhlbihmdW5jdGlvbih2YWx1ZSl7XG4gICAgICAgICAgLy8gQ29kZSBoZXJlIGRvZXNuJ3QgcnVuIGJlY2F1c2UgdGhlIHByb21pc2UgaXMgcmVqZWN0ZWQhXG4gICAgICAgIH0sIGZ1bmN0aW9uKHJlYXNvbil7XG4gICAgICAgICAgLy8gcmVhc29uLm1lc3NhZ2UgPT09ICdXSE9PUFMnXG4gICAgICAgIH0pO1xuICAgICAgICBgYGBcblxuICAgICAgICBJbnN0ZWFkIG9mIHdyaXRpbmcgdGhlIGFib3ZlLCB5b3VyIGNvZGUgbm93IHNpbXBseSBiZWNvbWVzIHRoZSBmb2xsb3dpbmc6XG5cbiAgICAgICAgYGBgamF2YXNjcmlwdFxuICAgICAgICB2YXIgcHJvbWlzZSA9IFJTVlAucmVqZWN0KG5ldyBFcnJvcignV0hPT1BTJykpO1xuXG4gICAgICAgIHByb21pc2UudGhlbihmdW5jdGlvbih2YWx1ZSl7XG4gICAgICAgICAgLy8gQ29kZSBoZXJlIGRvZXNuJ3QgcnVuIGJlY2F1c2UgdGhlIHByb21pc2UgaXMgcmVqZWN0ZWQhXG4gICAgICAgIH0sIGZ1bmN0aW9uKHJlYXNvbil7XG4gICAgICAgICAgLy8gcmVhc29uLm1lc3NhZ2UgPT09ICdXSE9PUFMnXG4gICAgICAgIH0pO1xuICAgICAgICBgYGBcblxuICAgICAgICBAbWV0aG9kIHJlamVjdFxuICAgICAgICBAZm9yIFJTVlBcbiAgICAgICAgQHBhcmFtIHtBbnl9IHJlYXNvbiB2YWx1ZSB0aGF0IHRoZSByZXR1cm5lZCBwcm9taXNlIHdpbGwgYmUgcmVqZWN0ZWQgd2l0aC5cbiAgICAgICAgQHBhcmFtIHtTdHJpbmd9IGxhYmVsIG9wdGlvbmFsIHN0cmluZyBmb3IgaWRlbnRpZnlpbmcgdGhlIHJldHVybmVkIHByb21pc2UuXG4gICAgICAgIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgICAgICAgQHJldHVybiB7UHJvbWlzZX0gYSBwcm9taXNlIHRoYXQgd2lsbCBiZWNvbWUgcmVqZWN0ZWQgd2l0aCB0aGUgZ2l2ZW5cbiAgICAgICAgYHJlYXNvbmAuXG4gICAgICAqL1xuICAgICAgZnVuY3Rpb24gcmVqZWN0KHJlYXNvbikge1xuICAgICAgICAvKmpzaGludCB2YWxpZHRoaXM6dHJ1ZSAqL1xuICAgICAgICB2YXIgUHJvbWlzZSA9IHRoaXM7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICByZWplY3QocmVhc29uKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIF9fZXhwb3J0c19fLnJlamVjdCA9IHJlamVjdDtcbiAgICB9KTtcbiAgZGVmaW5lKFwicHJvbWlzZS9yZXNvbHZlXCIsXG4gICAgW1wiZXhwb3J0c1wiXSxcbiAgICBmdW5jdGlvbihfX2V4cG9ydHNfXykge1xuICAgICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgICBmdW5jdGlvbiByZXNvbHZlKHZhbHVlKSB7XG4gICAgICAgIC8qanNoaW50IHZhbGlkdGhpczp0cnVlICovXG4gICAgICAgIGlmICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlLmNvbnN0cnVjdG9yID09PSB0aGlzKSB7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIFByb21pc2UgPSB0aGlzO1xuXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlKSB7XG4gICAgICAgICAgcmVzb2x2ZSh2YWx1ZSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBfX2V4cG9ydHNfXy5yZXNvbHZlID0gcmVzb2x2ZTtcbiAgICB9KTtcbiAgZGVmaW5lKFwicHJvbWlzZS91dGlsc1wiLFxuICAgIFtcImV4cG9ydHNcIl0sXG4gICAgZnVuY3Rpb24oX19leHBvcnRzX18pIHtcbiAgICAgIFwidXNlIHN0cmljdFwiO1xuICAgICAgZnVuY3Rpb24gb2JqZWN0T3JGdW5jdGlvbih4KSB7XG4gICAgICAgIHJldHVybiBpc0Z1bmN0aW9uKHgpIHx8ICh0eXBlb2YgeCA9PT0gXCJvYmplY3RcIiAmJiB4ICE9PSBudWxsKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gaXNGdW5jdGlvbih4KSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgeCA9PT0gXCJmdW5jdGlvblwiO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBpc0FycmF5KHgpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh4KSA9PT0gXCJbb2JqZWN0IEFycmF5XVwiO1xuICAgICAgfVxuXG4gICAgICAvLyBEYXRlLm5vdyBpcyBub3QgYXZhaWxhYmxlIGluIGJyb3dzZXJzIDwgSUU5XG4gICAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9EYXRlL25vdyNDb21wYXRpYmlsaXR5XG4gICAgICB2YXIgbm93ID0gRGF0ZS5ub3cgfHwgZnVuY3Rpb24oKSB7IHJldHVybiBuZXcgRGF0ZSgpLmdldFRpbWUoKTsgfTtcblxuXG4gICAgICBfX2V4cG9ydHNfXy5vYmplY3RPckZ1bmN0aW9uID0gb2JqZWN0T3JGdW5jdGlvbjtcbiAgICAgIF9fZXhwb3J0c19fLmlzRnVuY3Rpb24gPSBpc0Z1bmN0aW9uO1xuICAgICAgX19leHBvcnRzX18uaXNBcnJheSA9IGlzQXJyYXk7XG4gICAgICBfX2V4cG9ydHNfXy5ub3cgPSBub3c7XG4gICAgfSk7XG4gIHJlcXVpcmVNb2R1bGUoJ3Byb21pc2UvcG9seWZpbGwnKS5wb2x5ZmlsbCgpO1xuICB9KCkpO1xufVxuIiwicmVxdWlyZSgnbGVhZmxldCcpO1xucmVxdWlyZSgnaHRtbDVzaGl2Jyk7XG5cbi8vIERHIGluaGVyaXRhbmNlXG52YXIgb2xkREcgPSB3aW5kb3cuREc7XG52YXIgREcgPSBuZXcgKFxuICAgIChmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIERnQXBpID0gZnVuY3Rpb24oKSB7fSxcbiAgICAgICAgICAgIERnQXBpQ29yZSA9IGZ1bmN0aW9uKCkge307XG5cbiAgICAgICAgRGdBcGlDb3JlLnByb3RvdHlwZSA9IEw7XG4gICAgICAgIERnQXBpLnByb3RvdHlwZSA9IG5ldyBEZ0FwaUNvcmUoKTtcblxuICAgICAgICByZXR1cm4gRGdBcGk7XG4gICAgfSkoKVxuKSgpO1xuXG5mb3IgKHZhciBwcm9wIGluIG9sZERHKSB7XG4gICAgaWYgKG9sZERHLmhhc093blByb3BlcnR5KHByb3ApICYmIHR5cGVvZiBER1twcm9wXSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgREdbcHJvcF0gPSBvbGRER1twcm9wXTtcbiAgICB9XG59XG5cbndpbmRvdy5fX2RnQXBpX18gPSB3aW5kb3cuX19kZ0FwaV9fIHx8IHt9O1xuREcudmVyc2lvbiA9IHdpbmRvdy5fX2RnQXBpX18udmVyc2lvbjtcbkRHLkljb24uRGVmYXVsdC5pbWFnZVBhdGggID0gJy4uL2ltZy92ZW5kb3JzL2xlYWZsZXQnO1xuXG5ERy5NYXAuYWRkSW5pdEhvb2soKGZ1bmN0aW9uKCkge1xuICAgIHZhciBpbml0ZWQgPSBmYWxzZTtcblxuICAgIC8vIEFuYWx5dGljcyBpbml0ZWQgb25jZVxuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCFpbml0ZWQpIHtcbiAgICAgICAgICAgIC8qZXNsaW50LWRpc2FibGUgKi9cbiAgICAgICAgICAgIChmdW5jdGlvbihpLHMsbyxnLHIsYSxtKXtpWydHb29nbGVBbmFseXRpY3NPYmplY3QnXT1yO2lbcl09aVtyXXx8ZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIChpW3JdLnE9aVtyXS5xfHxbXSkucHVzaChhcmd1bWVudHMpfSxpW3JdLmw9MSpuZXcgRGF0ZSgpO2E9cy5jcmVhdGVFbGVtZW50KG8pLFxuICAgICAgICAgICAgbT1zLmdldEVsZW1lbnRzQnlUYWdOYW1lKG8pWzBdO2EuYXN5bmM9MTthLnNyYz1nO20ucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoYSxtKVxuICAgICAgICAgICAgfSkod2luZG93LGRvY3VtZW50LCdzY3JpcHQnLERHLmNvbmZpZy5nb29nbGVBbmFseXRpY3MsJ2dhJyk7XG4gICAgICAgICAgICAvKmVzbGludC1lbmFibGUgKi9cblxuICAgICAgICAgICAgaW5pdGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qZXNsaW50LWRpc2FibGUgKi9cbiAgICAgICAgZ2EoJ2NyZWF0ZScsIERHLmNvbmZpZy5nYUNvZGUsIHtcbiAgICAgICAgICAgIHN0b3JhZ2U6ICdub25lJywgLy8gZG9uJ3Qgc3RvcmUgYW5kIHVzZSBjb29raWVzIHRoYW5rcyBHRFBSXG4gICAgICAgICAgICBuYW1lOiBERy5jb25maWcuZ2FOYW1lLFxuICAgICAgICAgICAgc2FtcGxlUmF0ZTogNTBcbiAgICAgICAgfSk7XG4gICAgICAgIGdhKERHLmNvbmZpZy5nYU5hbWUgKyAnLnNldCcsICdhbm9ueW1pemVJcCcsIHRydWUpO1xuICAgICAgICBnYShERy5jb25maWcuZ2FOYW1lICsgJy5zZW5kJywgJ3BhZ2V2aWV3Jyk7XG4gICAgICAgIC8qZXNsaW50LWVuYWJsZSAqL1xuXG4gICAgICAgIHZhciBuZXdJbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgbmV3SW1nLnNyYyA9IERHLmNvbmZpZy5wcm90b2NvbCArIERHLmNvbmZpZy5hbmFseXRpY3MgKyAnPycgK1xuICAgICAgICAgICAgJ3NyPScgKyB3aW5kb3cuc2NyZWVuLndpZHRoICsgJ3gnICsgd2luZG93LnNjcmVlbi5oZWlnaHQgKyAnJicgK1xuICAgICAgICAgICAgJ3Y9JyArIERHLnZlcnNpb247XG4gICAgfTtcbn0pKCkpO1xuXG4vLyBJbXByb3ZlIElIYW5kbGVyXG5ERy5NYXAuaW5jbHVkZSh7XG4gICAgYWRkSGFuZGxlcjogZnVuY3Rpb24obmFtZSwgSGFuZGxlckNsYXNzKSB7XG4gICAgICAgIGlmICghSGFuZGxlckNsYXNzKSB7IHJldHVybiB0aGlzOyB9XG5cbiAgICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnNbbmFtZV0sXG4gICAgICAgICAgICBwYXJhbSA9IChvcHRpb25zID09PSBPYmplY3Qob3B0aW9ucykpID8gb3B0aW9ucyA6IG51bGwsXG4gICAgICAgICAgICBoYW5kbGVyID0gdGhpc1tuYW1lXSA9IG5ldyBIYW5kbGVyQ2xhc3ModGhpcywgcGFyYW0pO1xuXG4gICAgICAgIHRoaXMuX2hhbmRsZXJzLnB1c2goaGFuZGxlcik7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMpIHtcbiAgICAgICAgICAgIGhhbmRsZXIuZW5hYmxlKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59KTtcblxuLy8gQXBwbHkgY2xhc3MgdG8gbWFwIGNvbnRhaW5lciBmb3IgZGV0ZWN0IHdoZW4gd2UgZG9udCBuZWVkIGhvdmVyIGVmZmVjdHNcbkRHLk1hcC5hZGRJbml0SG9vayhmdW5jdGlvbigpIHtcbiAgICBpZiAoIURHLkJyb3dzZXIudG91Y2hFbmFibGVkKSB7XG4gICAgICAgIERHLkRvbVV0aWwuYWRkQ2xhc3ModGhpcy5fY29udGFpbmVyLCAnbm8tdG91Y2gnKTtcbiAgICB9XG59KTtcblxud2luZG93LkRHID0gREc7XG5tb2R1bGUuZXhwb3J0cyA9IERHO1xuIiwidmFyIGhhbmRsZXJzID0gd2luZG93Ll9fZGdBcGlfXy5jYWxsYmFja3MgfHwgW10sXG4gICAgY2hhaW4gPSBQcm9taXNlLnJlc29sdmUoKTtcblxuaGFuZGxlcnMuZm9yRWFjaChmdW5jdGlvbihoYW5kbGVycykge1xuICAgIGNoYWluID0gY2hhaW4udGhlbihoYW5kbGVyc1swXSwgaGFuZGxlcnNbMV0pO1xufSk7XG5cbkRHLnRoZW4gPSBmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICByZXR1cm4gY2hhaW4udGhlbihyZXNvbHZlLCByZWplY3QpO1xufTtcblxuLy8gSUU4IHRocm93IGVycm9yIGlmIGBjaGFpbi5jYXRjaGBcbi8qIGVzbGludC1kaXNhYmxlIGRvdC1ub3RhdGlvbiwgbm8tY29uc29sZSAqL1xuY2hhaW5bJ2NhdGNoJ10oZnVuY3Rpb24oZXJyKSB7XG4gICAgY29uc29sZS5lcnJvcihlcnIpO1xufSk7XG4vKiBlc2xpbnQtZW5hYmxlIGRvdC1ub3RhdGlvbiwgbm8tY29uc29sZSAqL1xuIiwiREcucGx1Z2luID0gZnVuY3Rpb24ocGx1Z2lucykge1xuICAgIHZhciBjb3VudCxcbiAgICAgICAganNSZWcgPSBuZXcgUmVnRXhwKC8uanMkL2kpLFxuICAgICAgICBjc3NSZWcgPSBuZXcgUmVnRXhwKC8uY3NzJC9pKTtcblxuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlKSB7XG4gICAgICAgIGZ1bmN0aW9uIGNoZWNrTG9hZGluZygpIHtcbiAgICAgICAgICAgIGNvdW50LS07XG5cbiAgICAgICAgICAgIGlmIChjb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGFwcGVuZEpTKGxpbmspIHtcbiAgICAgICAgICAgIHZhciBqcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuICAgICAgICAgICAganMuc2V0QXR0cmlidXRlKCd0eXBlJywgJ3RleHQvamF2YXNjcmlwdCcpO1xuICAgICAgICAgICAganMuc2V0QXR0cmlidXRlKCdzcmMnLCBsaW5rKTtcbiAgICAgICAgICAgIGpzLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGNoZWNrTG9hZGluZygpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGpzLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBjaGVja0xvYWRpbmcoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvLyBsb2FkL2Vycm9yIGZvciBJRVxuICAgICAgICAgICAganMub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgaWYgKGpzLnJlYWR5U3RhdGUgPT09ICdjb21wbGV0ZScgfHwganMucmVhZHlTdGF0ZSA9PT0gJ2xvYWRlZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tMb2FkaW5nKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKVswXS5hcHBlbmRDaGlsZChqcyk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBhcHBlbmRDU1MobGluaykge1xuICAgICAgICAgICAgdmFyIGNzcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpbmsnKTtcbiAgICAgICAgICAgIGNzcy5zZXRBdHRyaWJ1dGUoJ3JlbCcsICdzdHlsZXNoZWV0Jyk7XG4gICAgICAgICAgICBjc3Muc2V0QXR0cmlidXRlKCd0eXBlJywgJ3RleHQvY3NzJyk7XG4gICAgICAgICAgICBjc3Muc2V0QXR0cmlidXRlKCdocmVmJywgbGluayk7XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZCcpWzBdLmFwcGVuZENoaWxkKGNzcyk7XG5cbiAgICAgICAgICAgIGNoZWNrTG9hZGluZygpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gaXNKcyh1cmwpIHtcbiAgICAgICAgICAgIHJldHVybiBqc1JlZy50ZXN0KHVybCk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBpc0Nzcyh1cmwpIHtcbiAgICAgICAgICAgIHJldHVybiBjc3NSZWcudGVzdCh1cmwpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gYXBwZW5kQXNzZXQoYXNzZXQpIHtcbiAgICAgICAgICAgIGlmIChpc0pzKGFzc2V0KSkge1xuICAgICAgICAgICAgICAgIGFwcGVuZEpTKGFzc2V0KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNDc3MoYXNzZXQpKSB7XG4gICAgICAgICAgICAgICAgYXBwZW5kQ1NTKGFzc2V0KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY291bnQtLTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChERy5VdGlsLmlzQXJyYXkocGx1Z2lucykpIHtcbiAgICAgICAgICAgIGNvdW50ID0gcGx1Z2lucy5sZW5ndGg7XG4gICAgICAgICAgICBwbHVnaW5zLmZvckVhY2goZnVuY3Rpb24ocGx1Z2luKSB7XG4gICAgICAgICAgICAgICAgYXBwZW5kQXNzZXQocGx1Z2luKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiBwbHVnaW5zID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgY291bnQgPSAxO1xuICAgICAgICAgICAgYXBwZW5kQXNzZXQocGx1Z2lucyk7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG4iLCJERy5hamF4ID0gKGZ1bmN0aW9uKCkge1xuXG4gICAgdmFyIHdpbiA9IHdpbmRvdyxcbiAgICAgICAgZG9jID0gZG9jdW1lbnQsXG5cbiAgICAgICAgcnVybCA9IC9eKFtcXHcuKy1dKzopPyg/OlxcL1xcLyhbXlxcLz8jOl0qKSg/OjooXFxkKyl8KXwpLyxcbiAgICAgICAgdHdvSHVuZG8gPSAvXjIwXFxkJC8sXG5cbiAgICAgICAgLy8gRG9jdW1lbnQgbG9jYXRpb25cbiAgICAgICAgYWpheExvY1BhcnRzLFxuICAgICAgICBhamF4TG9jYXRpb24sXG5cbiAgICAgICAgYnlUYWcgPSAnZ2V0RWxlbWVudHNCeVRhZ05hbWUnLFxuICAgICAgICByZWFkeVN0YXRlID0gJ3JlYWR5U3RhdGUnLFxuICAgICAgICBjb250ZW50VHlwZSA9ICdDb250ZW50LVR5cGUnLFxuICAgICAgICByZXF1ZXN0ZWRXaXRoID0gJ1gtUmVxdWVzdGVkLVdpdGgnLFxuICAgICAgICBoZWFkID0gZG9jW2J5VGFnXSgnaGVhZCcpWzBdLFxuICAgICAgICB1bmlxaWQgPSAwLFxuICAgICAgICBjYWxsYmFja1ByZWZpeCA9ICdsX2RnX2FqYXhfY2FsbGJhY2tfJyArICgrbmV3IERhdGUoKSksXG4gICAgICAgIGxhc3RWYWx1ZSwgLy8gZGF0YSBzdG9yZWQgYnkgdGhlIG1vc3QgcmVjZW50IEpTT05QIGNhbGxiYWNrXG4gICAgICAgIHhtbEh0dHBSZXF1ZXN0ID0gJ1hNTEh0dHBSZXF1ZXN0JyxcbiAgICAgICAgeERvbWFpblJlcXVlc3QgPSAnWERvbWFpblJlcXVlc3QnLCAvLyBJRSA4IGFuZCA5IG9ubHlcbiAgICAgICAgbm9vcCA9IGZ1bmN0aW9uKCkge30sXG4gICAgICAgIGRlZmF1bHRIZWFkZXJzID0ge1xuICAgICAgICAgICAgY29udGVudFR5cGU6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnLFxuICAgICAgICAgICAgcmVxdWVzdGVkV2l0aDogeG1sSHR0cFJlcXVlc3QsXG4gICAgICAgICAgICBhY2NlcHQ6IHtcbiAgICAgICAgICAgICAgICAnKic6ICAndGV4dC9qYXZhc2NyaXB0LCB0ZXh0L2h0bWwsIGFwcGxpY2F0aW9uL3htbCwgdGV4dC94bWwsICovKicsXG4gICAgICAgICAgICAgICAgeG1sOiAgJ2FwcGxpY2F0aW9uL3htbCwgdGV4dC94bWwnLFxuICAgICAgICAgICAgICAgIGh0bWw6ICd0ZXh0L2h0bWwnLFxuICAgICAgICAgICAgICAgIHRleHQ6ICd0ZXh0L3BsYWluJyxcbiAgICAgICAgICAgICAgICBqc29uOiAnYXBwbGljYXRpb24vanNvbiwgdGV4dC9qYXZhc2NyaXB0JyxcbiAgICAgICAgICAgICAgICBqczogICAnYXBwbGljYXRpb24vamF2YXNjcmlwdCwgdGV4dC9qYXZhc2NyaXB0J1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAvKmdsb2JhbCBYRG9tYWluUmVxdWVzdDpmYWxzZSAqL1xuICAgICAgICB4aHIgPSBmdW5jdGlvbihvKSB7XG4gICAgICAgICAgICAvLyBpcyBpdCB4LWRvbWFpblxuICAgICAgICAgICAgaWYgKG8uY3Jvc3NEb21haW4gPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICB2YXIgeGhyID0gd2luW3htbEh0dHBSZXF1ZXN0XSA/IG5ldyBYTUxIdHRwUmVxdWVzdCgpIDogbnVsbDtcbiAgICAgICAgICAgICAgICBpZiAoeGhyICYmICd3aXRoQ3JlZGVudGlhbHMnIGluIHhocikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4geGhyO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAod2luW3hEb21haW5SZXF1ZXN0XSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFhEb21haW5SZXF1ZXN0KCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdCcm93c2VyIGRvZXMgbm90IHN1cHBvcnQgY3Jvc3Mtb3JpZ2luIHJlcXVlc3RzJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgZ2xvYmFsU2V0dXBPcHRpb25zID0ge1xuICAgICAgICAgICAgZGF0YUZpbHRlcjogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgLy8gSUUgbWF5IHRocm93IGFuIGV4Y2VwdGlvbiB3aGVuIGFjY2Vzc2luZ1xuICAgIC8vIGEgZmllbGQgZnJvbSB3aW5kb3cubG9jYXRpb24gaWYgZG9jdW1lbnQuZG9tYWluIGhhcyBiZWVuIHNldFxuICAgIHRyeSB7XG4gICAgICAgIGFqYXhMb2NhdGlvbiA9IGxvY2F0aW9uLmhyZWY7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAvLyBVc2UgdGhlIGhyZWYgYXR0cmlidXRlIG9mIGFuIEEgZWxlbWVudFxuICAgICAgICAvLyBzaW5jZSBJRSB3aWxsIG1vZGlmeSBpdCBnaXZlbiBkb2N1bWVudC5sb2NhdGlvblxuICAgICAgICBhamF4TG9jYXRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgICAgIGFqYXhMb2NhdGlvbi5ocmVmID0gJyc7XG4gICAgICAgIGFqYXhMb2NhdGlvbiA9IGFqYXhMb2NhdGlvbi5ocmVmO1xuICAgIH1cblxuICAgIC8vIFNlZ21lbnQgbG9jYXRpb24gaW50byBwYXJ0c1xuICAgIGFqYXhMb2NQYXJ0cyA9IHJ1cmwuZXhlYyhhamF4TG9jYXRpb24udG9Mb3dlckNhc2UoKSkgfHwgW107XG5cbiAgICBmdW5jdGlvbiBoYW5kbGVSZWFkeVN0YXRlKHIsIHN1Y2Nlc3MsIGVycm9yKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIC8vIHVzZSBfYWJvcnRlZCB0byBtaXRpZ2F0ZSBhZ2FpbnN0IElFIGVyciBjMDBjMDIzZlxuICAgICAgICAgICAgLy8gKGNhbid0IHJlYWQgcHJvcHMgb24gYWJvcnRlZCByZXF1ZXN0IG9iamVjdHMpXG4gICAgICAgICAgICBpZiAoci5fYWJvcnRlZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvcihyLnJlcXVlc3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHIucmVxdWVzdCAmJiByLnJlcXVlc3RbcmVhZHlTdGF0ZV0gPT09IDQpIHtcbiAgICAgICAgICAgICAgICByLnJlcXVlc3Qub25yZWFkeXN0YXRlY2hhbmdlID0gbm9vcDtcbiAgICAgICAgICAgICAgICBpZiAodHdvSHVuZG8udGVzdChyLnJlcXVlc3Quc3RhdHVzKSkge1xuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzKHIucmVxdWVzdCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3Ioci5yZXF1ZXN0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0SGVhZGVycyhodHRwLCBvKSB7XG4gICAgICAgIHZhciBoZWFkZXJzID0gby5oZWFkZXJzIHx8IHt9LFxuICAgICAgICAgICAgaDtcblxuICAgICAgICBoZWFkZXJzLkFjY2VwdCA9IGhlYWRlcnMuQWNjZXB0IHx8IGRlZmF1bHRIZWFkZXJzLmFjY2VwdFtvLmRhdGFUeXBlXSB8fCBkZWZhdWx0SGVhZGVycy5hY2NlcHRbJyonXTtcblxuICAgICAgICAvLyBicmVha3MgY3Jvc3Mtb3JpZ2luIHJlcXVlc3RzIHdpdGggbGVnYWN5IGJyb3dzZXJzXG4gICAgICAgIGlmICghby5jcm9zc0RvbWFpbiAmJiAhaGVhZGVyc1tyZXF1ZXN0ZWRXaXRoXSkge1xuICAgICAgICAgICAgaGVhZGVyc1tyZXF1ZXN0ZWRXaXRoXSA9IGRlZmF1bHRIZWFkZXJzLnJlcXVlc3RlZFdpdGg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFoZWFkZXJzW2NvbnRlbnRUeXBlXSkge1xuICAgICAgICAgICAgaGVhZGVyc1tjb250ZW50VHlwZV0gPSBvLmNvbnRlbnRUeXBlIHx8IGRlZmF1bHRIZWFkZXJzLmNvbnRlbnRUeXBlO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoaCBpbiBoZWFkZXJzKSB7XG4gICAgICAgICAgICBpZiAoaGVhZGVycy5oYXNPd25Qcm9wZXJ0eShoKSAmJiAnc2V0UmVxdWVzdEhlYWRlcicgaW4gaHR0cCkge1xuICAgICAgICAgICAgICAgIGh0dHAuc2V0UmVxdWVzdEhlYWRlcihoLCBoZWFkZXJzW2hdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldENyZWRlbnRpYWxzKGh0dHAsIG8pIHtcbiAgICAgICAgaWYgKHR5cGVvZiBvLndpdGhDcmVkZW50aWFscyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGh0dHAud2l0aENyZWRlbnRpYWxzICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgaHR0cC53aXRoQ3JlZGVudGlhbHMgPSAhIW8ud2l0aENyZWRlbnRpYWxzO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2VuZXJhbENhbGxiYWNrKGRhdGEpIHtcbiAgICAgICAgbGFzdFZhbHVlID0gZGF0YTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB1cmxhcHBlbmQodXJsLCBzKSB7XG4gICAgICAgIHJldHVybiB1cmwgKyAoL1xcPy8udGVzdCh1cmwpID8gJyYnIDogJz8nKSArIHM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFuZGxlSnNvbnAobywgZm4sIGVyciwgdXJsKSB7XG4gICAgICAgIHZhciByZXFJZCA9IHVuaXFpZCsrLFxuICAgICAgICAgICAgY2JrZXkgPSBvLmpzb25wQ2FsbGJhY2sgfHwgJ2NhbGxiYWNrJywgLy8gdGhlICdjYWxsYmFjaycga2V5XG4gICAgICAgICAgICBjYnZhbCA9IG8uanNvbnBDYWxsYmFja05hbWUgfHwgY2FsbGJhY2tQcmVmaXgsXG4gICAgICAgICAgICBjYnJlZyA9IG5ldyBSZWdFeHAoJygoXnxcXFxcP3wmKScgKyBjYmtleSArICcpPShbXiZdKyknKSxcbiAgICAgICAgICAgIG1hdGNoID0gdXJsLm1hdGNoKGNicmVnKSxcbiAgICAgICAgICAgIHNjcmlwdCA9IGRvYy5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKSxcbiAgICAgICAgICAgIGxvYWRlZCA9IDAsXG4gICAgICAgICAgICBpc0lFMTAgPSBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ01TSUUgMTAuMCcpICE9PSAtMTtcblxuICAgICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgICAgIGlmIChtYXRjaFszXSA9PT0gJz8nKSB7XG4gICAgICAgICAgICAgICAgdXJsID0gdXJsLnJlcGxhY2UoY2JyZWcsICckMT0nICsgY2J2YWwpOyAvLyB3aWxkY2FyZCBjYWxsYmFjayBmdW5jIG5hbWVcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY2J2YWwgPSBtYXRjaFszXTsgLy8gcHJvdmlkZWQgY2FsbGJhY2sgZnVuYyBuYW1lXG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB1cmwgPSB1cmxhcHBlbmQodXJsLCBjYmtleSArICc9JyArIGNidmFsKTsgLy8gbm8gY2FsbGJhY2sgZGV0YWlscywgYWRkICdlbVxuICAgICAgICB9XG5cbiAgICAgICAgd2luW2NidmFsXSA9IGdlbmVyYWxDYWxsYmFjaztcblxuICAgICAgICBzY3JpcHQudHlwZSA9ICd0ZXh0L2phdmFzY3JpcHQnO1xuICAgICAgICBzY3JpcHQuc3JjID0gdXJsO1xuICAgICAgICBzY3JpcHQuYXN5bmMgPSB0cnVlO1xuICAgICAgICBpZiAodHlwZW9mIHNjcmlwdC5vbnJlYWR5c3RhdGVjaGFuZ2UgIT09ICd1bmRlZmluZWQnICYmICFpc0lFMTApIHtcbiAgICAgICAgICAgIC8vIG5lZWQgdGhpcyBmb3IgSUUgZHVlIHRvIG91dC1vZi1vcmRlciBvbnJlYWR5c3RhdGVjaGFuZ2UoKSwgYmluZGluZyBzY3JpcHRcbiAgICAgICAgICAgIC8vIGV4ZWN1dGlvbiB0byBhbiBldmVudCBsaXN0ZW5lciBnaXZlcyB1cyBjb250cm9sIG92ZXIgd2hlbiB0aGUgc2NyaXB0XG4gICAgICAgICAgICAvLyBpcyBleGVjdXRlZC4gU2VlIGh0dHA6Ly9qYXVib3VyZy5uZXQvMjAxMC8wNy9sb2FkaW5nLXNjcmlwdC1hcy1vbmNsaWNrLWhhbmRsZXItb2YuaHRtbFxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIGlmIHRoaXMgaGFjayBpcyB1c2VkIGluIElFMTAganNvbnAgY2FsbGJhY2sgYXJlIG5ldmVyIGNhbGxlZFxuICAgICAgICAgICAgc2NyaXB0LmV2ZW50ID0gJ29uY2xpY2snO1xuICAgICAgICAgICAgc2NyaXB0Lmh0bWxGb3IgPSBzY3JpcHQuaWQgPSAnX3JlcXVlc3RfJyArIHJlcUlkO1xuICAgICAgICB9XG5cbiAgICAgICAgc2NyaXB0Lm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNjcmlwdC5vbmVycm9yID0gc2NyaXB0Lm9ubG9hZCA9IHNjcmlwdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBudWxsO1xuICAgICAgICAgICAgZXJyKHt9LCAnUmVxdWVzdCB1bmtub3duIGVycm9yJywge30pO1xuICAgICAgICAgICAgbGFzdFZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgaGVhZC5yZW1vdmVDaGlsZChzY3JpcHQpO1xuICAgICAgICAgICAgbG9hZGVkID0gMTtcbiAgICAgICAgfTtcbiAgICAgICAgc2NyaXB0Lm9ubG9hZCA9IHNjcmlwdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmICgoc2NyaXB0W3JlYWR5U3RhdGVdICYmIHNjcmlwdFtyZWFkeVN0YXRlXSAhPT0gJ2NvbXBsZXRlJyAmJiBzY3JpcHRbcmVhZHlTdGF0ZV0gIT09ICdsb2FkZWQnKSB8fCBsb2FkZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzY3JpcHQub25lcnJvciA9IHNjcmlwdC5vbmxvYWQgPSBzY3JpcHQub25yZWFkeXN0YXRlY2hhbmdlID0gbnVsbDtcbiAgICAgICAgICAgIGlmIChzY3JpcHQub25jbGljaykge1xuICAgICAgICAgICAgICAgIHNjcmlwdC5vbmNsaWNrKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBDYWxsIHRoZSB1c2VyIGNhbGxiYWNrIHdpdGggdGhlIGxhc3QgdmFsdWUgc3RvcmVkIGFuZCBjbGVhbiB1cCB2YWx1ZXMgYW5kIHNjcmlwdHMuXG4gICAgICAgICAgICBmbihsYXN0VmFsdWUpO1xuICAgICAgICAgICAgbGFzdFZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgaGVhZC5yZW1vdmVDaGlsZChzY3JpcHQpO1xuICAgICAgICAgICAgbG9hZGVkID0gMTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBBZGQgdGhlIHNjcmlwdCB0byB0aGUgRE9NIGhlYWRcbiAgICAgICAgaGVhZC5hcHBlbmRDaGlsZChzY3JpcHQpO1xuXG4gICAgICAgIC8vIEVuYWJsZSBKU09OUCB0aW1lb3V0XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBhYm9ydDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgc2NyaXB0Lm9uZXJyb3IgPSBzY3JpcHQub25sb2FkID0gc2NyaXB0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgZXJyKHt9LCAnUmVxdWVzdCBpcyBhYm9ydGVkOiB0aW1lb3V0Jywge30pO1xuICAgICAgICAgICAgICAgIGxhc3RWYWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBoZWFkLnJlbW92ZUNoaWxkKHNjcmlwdCk7XG4gICAgICAgICAgICAgICAgbG9hZGVkID0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRSZXF1ZXN0KGZuLCBlcnIpIHtcbiAgICAgICAgdmFyIG8gPSB0aGlzLm9wdGlvbnMsXG4gICAgICAgICAgICBtZXRob2QgPSAoby50eXBlIHx8ICdHRVQnKS50b1VwcGVyQ2FzZSgpLFxuICAgICAgICAgICAgdXJsID0gdHlwZW9mIG8gPT09ICdzdHJpbmcnID8gbyA6IG8udXJsLFxuICAgICAgICAgICAgLy8gY29udmVydCBub24tc3RyaW5nIG9iamVjdHMgdG8gcXVlcnktc3RyaW5nIGZvcm0gdW5sZXNzIG8ucHJvY2Vzc0RhdGEgaXMgZmFsc2VcbiAgICAgICAgICAgIGRhdGEgPSAoby5wcm9jZXNzRGF0YSAhPT0gZmFsc2UgJiYgby5kYXRhICYmIHR5cGVvZiBvLmRhdGEgIT09ICdzdHJpbmcnKSA/IEFqYXgudG9RdWVyeVN0cmluZyhvLmRhdGEpIDogKG8uZGF0YSB8fCBudWxsKSxcbiAgICAgICAgICAgIGh0dHAsXG4gICAgICAgICAgICBzZW5kV2FpdCA9IGZhbHNlO1xuXG4gICAgICAgIC8vIGlmIHdlJ3JlIHdvcmtpbmcgb24gYSBHRVQgcmVxdWVzdCBhbmQgd2UgaGF2ZSBkYXRhIHRoZW4gd2Ugc2hvdWxkIGFwcGVuZFxuICAgICAgICAvLyBxdWVyeSBzdHJpbmcgdG8gZW5kIG9mIFVSTCBhbmQgbm90IHBvc3QgZGF0YVxuICAgICAgICBpZiAoKG8udHlwZSA9PT0gJ2pzb25wJyB8fCBtZXRob2QgPT09ICdHRVQnKSAmJiBkYXRhKSB7XG4gICAgICAgICAgICB1cmwgPSB1cmxhcHBlbmQodXJsLCBkYXRhKTtcbiAgICAgICAgICAgIGRhdGEgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG8udHlwZSA9PT0gJ2pzb25wJykge1xuICAgICAgICAgICAgcmV0dXJuIGhhbmRsZUpzb25wKG8sIGZuLCBlcnIsIHVybCk7XG4gICAgICAgIH1cblxuICAgICAgICBodHRwID0geGhyKG8pO1xuICAgICAgICBodHRwLm9wZW4obWV0aG9kLCB1cmwsIG8uYXN5bmMgIT09IGZhbHNlKTtcblxuICAgICAgICBzZXRIZWFkZXJzKGh0dHAsIG8pO1xuICAgICAgICBzZXRDcmVkZW50aWFscyhodHRwLCBvKTtcblxuICAgICAgICBpZiAod2luW3hEb21haW5SZXF1ZXN0XSAmJiBodHRwIGluc3RhbmNlb2Ygd2luW3hEb21haW5SZXF1ZXN0XSkge1xuICAgICAgICAgICAgaHR0cC5vbmxvYWQgPSBmbjtcbiAgICAgICAgICAgIGh0dHAub25wcm9ncmVzcyA9IGZ1bmN0aW9uKCkge307XG4gICAgICAgICAgICBodHRwLm9udGltZW91dCA9IGZ1bmN0aW9uKCkge307XG4gICAgICAgICAgICBodHRwLm9uZXJyb3IgPSBlcnI7XG4gICAgICAgICAgICBzZW5kV2FpdCA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBodHRwLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGhhbmRsZVJlYWR5U3RhdGUodGhpcywgZm4sIGVycik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNlbmRXYWl0KSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGh0dHAuc2VuZChkYXRhKTtcbiAgICAgICAgICAgIH0sIDIwMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBodHRwLnNlbmQoZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGh0dHA7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYnVpbGRQYXJhbXMocHJlZml4LCBvYmosIHRyYWRpdGlvbmFsLCBhZGQpIHtcbiAgICAgICAgdmFyIG5hbWUsIGksIHYsXG4gICAgICAgICAgICByYnJhY2tldCA9IC9cXFtcXF0kLztcblxuICAgICAgICBpZiAoREcuVXRpbC5pc0FycmF5KG9iaikpIHtcbiAgICAgICAgLy8gU2VyaWFsaXplIGFycmF5IGl0ZW0uXG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBvYmogJiYgaSA8IG9iai5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHYgPSBvYmpbaV07XG4gICAgICAgICAgICAgICAgaWYgKHRyYWRpdGlvbmFsIHx8IHJicmFja2V0LnRlc3QocHJlZml4KSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBUcmVhdCBlYWNoIGFycmF5IGl0ZW0gYXMgYSBzY2FsYXIuXG4gICAgICAgICAgICAgICAgICAgIGFkZChwcmVmaXgsIHYpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGJ1aWxkUGFyYW1zKHByZWZpeCArICdbJyArICh0eXBlb2YgdiA9PT0gJ29iamVjdCcgPyBpIDogJycpICsgJ10nLCB2LCB0cmFkaXRpb25hbCwgYWRkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAob2JqICYmIG9iai50b1N0cmluZygpID09PSAnW29iamVjdCBPYmplY3RdJykge1xuICAgICAgICAgICAgLy8gU2VyaWFsaXplIG9iamVjdCBpdGVtLlxuICAgICAgICAgICAgZm9yIChuYW1lIGluIG9iaikge1xuICAgICAgICAgICAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgYnVpbGRQYXJhbXMocHJlZml4ICsgJ1snICsgbmFtZSArICddJywgb2JqW25hbWVdLCB0cmFkaXRpb25hbCwgYWRkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBTZXJpYWxpemUgc2NhbGFyIGl0ZW0uXG4gICAgICAgICAgICBhZGQocHJlZml4LCBvYmopO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0VHlwZSh1cmwpIHtcbiAgICAgICAgdmFyIG0gPSB1cmwubWF0Y2goL1xcLihqc29ufGpzb25wfGh0bWx8eG1sKShcXD98JCkvKTtcbiAgICAgICAgcmV0dXJuIG0gPyBtWzFdIDogJ2pzJztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc0Nyb3NzRG9tYWluKHVybCkge1xuICAgICAgICB2YXIgcGFydHMgPSBydXJsLmV4ZWModXJsLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICByZXR1cm4gISEocGFydHMgJiZcbiAgICAgICAgICAgICAgICAocGFydHNbMV0gIT09IGFqYXhMb2NQYXJ0c1sxXSB8fCBwYXJ0c1syXSAhPT0gYWpheExvY1BhcnRzWzJdIHx8XG4gICAgICAgICAgICAgICAgICAgIChwYXJ0c1szXSB8fCAocGFydHNbMV0gPT09ICdodHRwOicgPyAnODAnIDogJzQ0MycpKSAhPT1cbiAgICAgICAgICAgICAgICAgICAgICAgIChhamF4TG9jUGFydHNbM10gfHwgKGFqYXhMb2NQYXJ0c1sxXSA9PT0gJ2h0dHA6JyA/ICc4MCcgOiAnNDQzJykpKVxuICAgICAgICAgICAgKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkb1JlcXVlc3Qobykge1xuXG4gICAgICAgIGlmICghKCdjcm9zc0RvbWFpbicgaW4gbykpIHtcbiAgICAgICAgICAgIG8uY3Jvc3NEb21haW4gPSBpc0Nyb3NzRG9tYWluKG8udXJsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzZWxmID0ge307XG4gICAgICAgIHNlbGYucHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgc2VsZi5hYm9ydCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHNlbGYuX2Fib3J0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJlamVjdCgnYWJvcnRlZCcpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgc2VsZi51cmwgPSBvLnVybDtcbiAgICAgICAgICAgIHNlbGYudGltZW91dCA9IG51bGw7XG4gICAgICAgICAgICBzZWxmLm9wdGlvbnMgPSBvO1xuXG4gICAgICAgICAgICBzZWxmLl9hYm9ydGVkID0gZmFsc2U7XG4gICAgICAgICAgICBzZWxmLl9lcnJlZCA9IGZhbHNlO1xuICAgICAgICAgICAgc2VsZi5fcmVzcG9uc2VBcmdzID0ge307XG5cbiAgICAgICAgICAgIHZhciB0eXBlID0gby50eXBlID09PSAnanNvbnAnID8gby50eXBlIDogKG8uZGF0YVR5cGUgfHwgc2V0VHlwZShzZWxmLnVybCkpO1xuXG4gICAgICAgICAgICBpZiAoby50aW1lb3V0KSB7XG4gICAgICAgICAgICAgICAgc2VsZi50aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5hYm9ydCgpO1xuICAgICAgICAgICAgICAgIH0sIG8udGltZW91dCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGNvbXBsZXRlKHJlc3ApIHtcbiAgICAgICAgICAgICAgICBpZiAoby50aW1lb3V0KSB7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChzZWxmLnRpbWVvdXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzZWxmLnRpbWVvdXQgPSBudWxsO1xuICAgICAgICAgICAgICAgIGlmIChzZWxmLl9lcnJlZCkge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QocmVzcCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXNwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcCkge1xuICAgICAgICAgICAgICAgIHJlc3AgPSAodHlwZSAhPT0gJ2pzb25wJykgPyBzZWxmLnJlcXVlc3QgOiByZXNwO1xuICAgICAgICAgICAgICAgIC8vIHVzZSBnbG9iYWwgZGF0YSBmaWx0ZXIgb24gcmVzcG9uc2UgdGV4dFxuICAgICAgICAgICAgICAgIHZhciBmaWx0ZXJlZFJlc3BvbnNlID0gZ2xvYmFsU2V0dXBPcHRpb25zLmRhdGFGaWx0ZXIocmVzcC5yZXNwb25zZVRleHQsIHR5cGUpLFxuICAgICAgICAgICAgICAgICAgICByID0gZmlsdGVyZWRSZXNwb25zZTtcblxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3AucmVzcG9uc2VUZXh0ID0gcjtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGNhbid0IGFzc2lnbiB0aGlzIGluIElFPD04LCBqdXN0IGlnbm9yZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1ldmFsICovXG4gICAgICAgICAgICAgICAgaWYgKHIpIHtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdqc29uJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwID0gd2luLkpTT04ucGFyc2Uocik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlcnJvcihyZXNwLCAnQ291bGQgbm90IHBhcnNlIEpTT04gaW4gcmVzcG9uc2UnLCBlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2pzJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwID0gZXZhbCgnKCcgKyByICsgJyknKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2h0bWwnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3AgPSByO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAneG1sJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwID0gcmVzcC5yZXNwb25zZVhNTCAmJiByZXNwLnJlc3BvbnNlWE1MLnBhcnNlRXJyb3IgJiYgcmVzcC5yZXNwb25zZVhNTC5wYXJzZUVycm9yLmVycm9yQ29kZSAmJiByZXNwLnJlc3BvbnNlWE1MLnBhcnNlRXJyb3IucmVhc29uID8gbnVsbCA6IHJlc3AucmVzcG9uc2VYTUw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLyogZXNsaW50LWVuYWJsZSBuby1ldmFsICovXG4gICAgICAgICAgICAgICAgc2VsZi5fcmVzcG9uc2VBcmdzLnJlc3AgPSByZXNwO1xuICAgICAgICAgICAgICAgIGNvbXBsZXRlKHJlc3ApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiBlcnJvcihyZXNwLCBtc2csIHQpIHtcbiAgICAgICAgICAgICAgICByZXNwID0gc2VsZi5yZXF1ZXN0O1xuICAgICAgICAgICAgICAgIHNlbGYuX3Jlc3BvbnNlQXJncy5yZXNwID0gcmVzcDtcbiAgICAgICAgICAgICAgICBzZWxmLl9yZXNwb25zZUFyZ3MubXNnID0gbXNnO1xuICAgICAgICAgICAgICAgIHNlbGYuX3Jlc3BvbnNlQXJncy50ID0gdDtcbiAgICAgICAgICAgICAgICBzZWxmLl9lcnJlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgY29tcGxldGUocmVzcCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNlbGYucmVxdWVzdCA9IGdldFJlcXVlc3QuY2FsbChzZWxmLCBzdWNjZXNzLCBlcnJvcik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIEFqYXgodXJsLCBvcHRpb25zKSB7XG5cbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh1cmwpID09PSAnW29iamVjdCBPYmplY3RdJykge1xuICAgICAgICAgICAgb3B0aW9ucyA9IHVybDtcbiAgICAgICAgICAgIHVybCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgb3B0aW9ucy51cmwgPSB1cmwgfHwgb3B0aW9ucy51cmw7XG5cbiAgICAgICAgdmFyIHJlcXVlc3RQcm9taXNlID0gZG9SZXF1ZXN0KG9wdGlvbnMpLFxuICAgICAgICAgICAgcmVzdWx0UHJvbWlzZSA9IHJlcXVlc3RQcm9taXNlLnByb21pc2U7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuc3VjY2VzcyB8fCBvcHRpb25zLmVycm9yIHx8IG9wdGlvbnMuY29tcGxldGUpIHtcbiAgICAgICAgICAgIHJlc3VsdFByb21pc2UudGhlbihvcHRpb25zLnN1Y2Nlc3MsIG9wdGlvbnMuZXJyb3IpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVzdWx0UHJvbWlzZS5hYm9ydCA9IHJlcXVlc3RQcm9taXNlLmFib3J0O1xuXG4gICAgICAgIHJldHVybiByZXN1bHRQcm9taXNlO1xuICAgIH1cblxuICAgIEFqYXguc2V0dXAgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICBmb3IgKHZhciBrIGluIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmhhc093blByb3BlcnR5KGspKSB7XG4gICAgICAgICAgICAgICAgZ2xvYmFsU2V0dXBPcHRpb25zW2tdID0gb3B0aW9uc1trXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBBamF4LnRvUXVlcnlTdHJpbmcgPSBmdW5jdGlvbihvLCB0cmFkKSB7XG4gICAgICAgIHZhciBwcmVmaXgsIGksXG4gICAgICAgICAgICB0cmFkaXRpb25hbCA9IHRyYWQgfHwgZmFsc2UsXG4gICAgICAgICAgICBzID0gW10sXG4gICAgICAgICAgICBlbmMgPSBlbmNvZGVVUklDb21wb25lbnQsXG4gICAgICAgICAgICBhZGQgPSBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgdmFsdWUgaXMgYSBmdW5jdGlvbiwgaW52b2tlIGl0IGFuZCByZXR1cm4gaXRzIHZhbHVlXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWUoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlIHx8ICcnO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHNbcy5sZW5ndGhdID0gZW5jKGtleSkgKyAnPScgKyBlbmModmFsdWUpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAvLyBJZiBhbiBhcnJheSB3YXMgcGFzc2VkIGluLCBhc3N1bWUgdGhhdCBpdCBpcyBhbiBhcnJheSBvZiBmb3JtIGVsZW1lbnRzLlxuICAgICAgICBpZiAoREcuVXRpbC5pc0FycmF5KG8pKSB7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBvICYmIGkgPCBvLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgYWRkKG9baV0ubmFtZSwgb1tpXS52YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBJZiB0cmFkaXRpb25hbCwgZW5jb2RlIHRoZSBcIm9sZFwiIHdheSAodGhlIHdheSAxLjMuMiBvciBvbGRlclxuICAgICAgICAgICAgLy8gZGlkIGl0KSwgb3RoZXJ3aXNlIGVuY29kZSBwYXJhbXMgcmVjdXJzaXZlbHkuXG4gICAgICAgICAgICBmb3IgKHByZWZpeCBpbiBvKSB7XG4gICAgICAgICAgICAgICAgaWYgKG8uaGFzT3duUHJvcGVydHkocHJlZml4KSkge1xuICAgICAgICAgICAgICAgICAgICBidWlsZFBhcmFtcyhwcmVmaXgsIG9bcHJlZml4XSwgdHJhZGl0aW9uYWwsIGFkZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gc3BhY2VzIHNob3VsZCBiZSArIGFjY29yZGluZyB0byBzcGVjXG4gICAgICAgIHJldHVybiBzLmpvaW4oJyYnKS5yZXBsYWNlKC8lMjAvZywgJysnKTtcbiAgICB9O1xuXG4gICAgdmFyIHRlc3R4aHIgPSB3aW5beG1sSHR0cFJlcXVlc3RdID8gbmV3IFhNTEh0dHBSZXF1ZXN0KCkgOiBudWxsO1xuXG4gICAgQWpheC5jb3JzU3VwcG9ydCA9ICEoISh0ZXN0eGhyICYmICd3aXRoQ3JlZGVudGlhbHMnIGluIHRlc3R4aHIpICYmICF3aW5beERvbWFpblJlcXVlc3RdKSAmJlxuICAgICAgICAvLyBjb3JzIG5vdCBhdmFpbGFibGUgaW4gSUUgYW5kIHdpdGggY3lyaWxsaWMgZG9tYWluXG4gICAgICAgICEoREcuQnJvd3Nlci5pZSAmJiBkb2N1bWVudC5sb2NhdGlvbi5ob3N0LnRvTG93ZXJDYXNlKCkuc2VhcmNoKC9b0LAt0Y9dLykgIT0gLTEpO1xuXG4gICAgcmV0dXJuIEFqYXg7XG59KSgpO1xuIiwiREcuV2t0ID0ge307XG5cbkRHLldrdC50b0dlb0pTT04gPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgIGlmIChERy5VdGlsLmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgZGF0YSA9IGRhdGFbMF07XG4gICAgfVxuICAgIHZhciBwYXJ0cyA9IGRhdGEuc3BsaXQoJzsnKTtcbiAgICBkYXRhID0gcGFydHMucG9wKCk7XG5cbiAgICB2YXIgaSA9IDAsXG4gICAgICAgIHNyaWQgPSAocGFydHMuc2hpZnQoKSB8fCAnJykuc3BsaXQoJz0nKS5wb3AoKTtcblxuICAgIGZ1bmN0aW9uICQocmUpIHtcbiAgICAgICAgdmFyIG1hdGNoID0gZGF0YS5zdWJzdHJpbmcoaSkubWF0Y2gocmUpO1xuICAgICAgICBpZiAoIW1hdGNoKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGkgKz0gbWF0Y2hbMF0ubGVuZ3RoO1xuICAgICAgICAgICAgcmV0dXJuIG1hdGNoWzBdO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JzKG9iaikge1xuICAgICAgICBpZiAob2JqICYmIHNyaWQubWF0Y2goL1xcZCsvKSkge1xuICAgICAgICAgICAgb2JqLmNycyA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnbmFtZScsXG4gICAgICAgICAgICAgICAgJ3Byb3BlcnRpZXMnOiB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICd1cm46b2djOmRlZjpjcnM6RVBTRzo6JyArIHNyaWRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB3aGl0ZSgpIHsgJCgvXlxccyovKTsgfVxuXG4gICAgZnVuY3Rpb24gbXVsdGljb29yZHMoKSB7XG4gICAgICAgIHdoaXRlKCk7XG4gICAgICAgIHZhciBkZXB0aCA9IDAsIHJpbmdzID0gW10sIHN0YWNrID0gW3JpbmdzXSxcbiAgICAgICAgICAgIHBvaW50ZXIgPSByaW5ncywgZWxlbTtcbiAgICAgICAgd2hpbGUgKGVsZW0gPVxuICAgICAgICAgICAgJCgvXihcXCgpLykgfHxcbiAgICAgICAgICAgICQoL14oXFwpKS8pIHx8XG4gICAgICAgICAgICAkKC9eKFxcLCkvKSB8fFxuICAgICAgICAgICAgJCgvXlstK10/KFswLTldKlxcLlswLTldK3xbMC05XSspLykpIHtcbiAgICAgICAgICAgIGlmIChlbGVtID09PSAnKCcpIHtcbiAgICAgICAgICAgICAgICBzdGFjay5wdXNoKHBvaW50ZXIpO1xuICAgICAgICAgICAgICAgIHBvaW50ZXIgPSBbXTtcbiAgICAgICAgICAgICAgICBzdGFja1tzdGFjay5sZW5ndGggLSAxXS5wdXNoKHBvaW50ZXIpO1xuICAgICAgICAgICAgICAgIGRlcHRoKys7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGVsZW0gPT09ICcpJykge1xuICAgICAgICAgICAgICAgIHBvaW50ZXIgPSBzdGFjay5wb3AoKTtcbiAgICAgICAgICAgICAgICBkZXB0aC0tO1xuICAgICAgICAgICAgICAgIGlmIChkZXB0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGVsZW0gPT09ICcsJykge1xuICAgICAgICAgICAgICAgIHBvaW50ZXIgPSBbXTtcbiAgICAgICAgICAgICAgICBzdGFja1tzdGFjay5sZW5ndGggLSAxXS5wdXNoKHBvaW50ZXIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwb2ludGVyLnB1c2gocGFyc2VGbG9hdChlbGVtKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3aGl0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHN0YWNrLmxlbmd0aCA9IDA7XG4gICAgICAgIGlmIChkZXB0aCAhPT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJpbmdzO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNvb3JkcygpIHtcbiAgICAgICAgdmFyIGxpc3QgPSBbXSwgaXRlbSwgcHQ7XG4gICAgICAgIHdoaWxlIChwdCA9XG4gICAgICAgICAgICAkKC9eWy0rXT8oWzAtOV0qXFwuWzAtOV0rfFswLTldKykvKSB8fFxuICAgICAgICAgICAgJCgvXihcXCwpLykpIHtcbiAgICAgICAgICAgIGlmIChwdCA9PT0gJywnKSB7XG4gICAgICAgICAgICAgICAgbGlzdC5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgICAgIGl0ZW0gPSBbXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKCFpdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW0gPSBbXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaXRlbS5wdXNoKHBhcnNlRmxvYXQocHQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdoaXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGl0ZW0pIHtcbiAgICAgICAgICAgIGxpc3QucHVzaChpdGVtKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbGlzdC5sZW5ndGggPyBsaXN0IDogbnVsbDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwb2ludCgpIHtcbiAgICAgICAgaWYgKCEkKC9eKHBvaW50KS9pKSkgeyByZXR1cm4gbnVsbDsgfVxuICAgICAgICB3aGl0ZSgpO1xuICAgICAgICBpZiAoISQoL14oXFwoKS8pKSB7IHJldHVybiBudWxsOyB9XG4gICAgICAgIHZhciBjID0gY29vcmRzKCk7XG4gICAgICAgIHdoaXRlKCk7XG4gICAgICAgIGlmICghJCgvXihcXCkpLykpIHsgcmV0dXJuIG51bGw7IH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6ICdQb2ludCcsXG4gICAgICAgICAgICBjb29yZGluYXRlczogY1swXVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG11bHRpcG9pbnQoKSB7XG4gICAgICAgIGlmICghJCgvXihtdWx0aXBvaW50KS9pKSkgeyByZXR1cm4gbnVsbDsgfVxuICAgICAgICB3aGl0ZSgpO1xuICAgICAgICB2YXIgYyA9IG11bHRpY29vcmRzKCk7XG4gICAgICAgIHdoaXRlKCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiAnTXVsdGlQb2ludCcsXG4gICAgICAgICAgICBjb29yZGluYXRlczogY1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG11bHRpbGluZXN0cmluZygpIHtcbiAgICAgICAgaWYgKCEkKC9eKG11bHRpbGluZXN0cmluZykvaSkpIHsgcmV0dXJuIG51bGw7IH1cbiAgICAgICAgd2hpdGUoKTtcbiAgICAgICAgdmFyIGMgPSBtdWx0aWNvb3JkcygpO1xuICAgICAgICB3aGl0ZSgpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogJ011bHRpTGluZVN0cmluZycsXG4gICAgICAgICAgICBjb29yZGluYXRlczogY1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpbmVzdHJpbmcoKSB7XG4gICAgICAgIGlmICghJCgvXihsaW5lc3RyaW5nKS9pKSkgeyByZXR1cm4gbnVsbDsgfVxuICAgICAgICB3aGl0ZSgpO1xuICAgICAgICBpZiAoISQoL14oXFwoKS8pKSB7IHJldHVybiBudWxsOyB9XG4gICAgICAgIHZhciBjID0gY29vcmRzKCk7XG4gICAgICAgIGlmICghJCgvXihcXCkpLykpIHsgcmV0dXJuIG51bGw7IH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6ICdMaW5lU3RyaW5nJyxcbiAgICAgICAgICAgIGNvb3JkaW5hdGVzOiBjXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcG9seWdvbigpIHtcbiAgICAgICAgaWYgKCEkKC9eKHBvbHlnb24pL2kpKSB7IHJldHVybiBudWxsOyB9XG4gICAgICAgIHdoaXRlKCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiAnUG9seWdvbicsXG4gICAgICAgICAgICBjb29yZGluYXRlczogbXVsdGljb29yZHMoKVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG11bHRpcG9seWdvbigpIHtcbiAgICAgICAgaWYgKCEkKC9eKG11bHRpcG9seWdvbikvaSkpIHsgcmV0dXJuIG51bGw7IH1cbiAgICAgICAgd2hpdGUoKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6ICdNdWx0aVBvbHlnb24nLFxuICAgICAgICAgICAgY29vcmRpbmF0ZXM6IG11bHRpY29vcmRzKClcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZW9tZXRyeWNvbGxlY3Rpb24oKSB7XG4gICAgICAgIHZhciBnZW9tZXRyaWVzID0gW10sIGdlb21ldHJ5O1xuXG4gICAgICAgIGlmICghJCgvXihnZW9tZXRyeWNvbGxlY3Rpb24pL2kpKSB7IHJldHVybiBudWxsOyB9XG4gICAgICAgIHdoaXRlKCk7XG5cbiAgICAgICAgaWYgKCEkKC9eKFxcKCkvKSkgeyByZXR1cm4gbnVsbDsgfVxuICAgICAgICB3aGlsZSAoZ2VvbWV0cnkgPSByb290KCkpIHtcbiAgICAgICAgICAgIGdlb21ldHJpZXMucHVzaChnZW9tZXRyeSk7XG4gICAgICAgICAgICB3aGl0ZSgpO1xuICAgICAgICAgICAgJCgvXihcXCwpLyk7XG4gICAgICAgICAgICB3aGl0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghJCgvXihcXCkpLykpIHsgcmV0dXJuIG51bGw7IH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogJ0dlb21ldHJ5Q29sbGVjdGlvbicsXG4gICAgICAgICAgICBnZW9tZXRyaWVzOiBnZW9tZXRyaWVzXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcm9vdCgpIHtcbiAgICAgICAgcmV0dXJuIHBvaW50KCkgfHxcbiAgICAgICAgICAgIGxpbmVzdHJpbmcoKSB8fFxuICAgICAgICAgICAgcG9seWdvbigpIHx8XG4gICAgICAgICAgICBtdWx0aXBvaW50KCkgfHxcbiAgICAgICAgICAgIG11bHRpbGluZXN0cmluZygpIHx8XG4gICAgICAgICAgICBtdWx0aXBvbHlnb24oKSB8fFxuICAgICAgICAgICAgZ2VvbWV0cnljb2xsZWN0aW9uKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNycyhyb290KCkpO1xufTtcblxuREcuV2t0Lmdlb0pzb25MYXllciA9IGZ1bmN0aW9uIChkYXRhLCBvcHRzKSB7XG4gICAgcmV0dXJuIERHLmdlb0pzb24oREcuV2t0LnRvR2VvSlNPTihkYXRhKSwgb3B0cyk7XG59O1xuXG5ERy5Xa3QuX2Nvb3Jkc1RvTGF0TG5ncyA9IGZ1bmN0aW9uIChjb29yZHMpIHtcbiAgICBpZiAoREcuVXRpbC5pc0FycmF5KGNvb3JkcykgJiYgIURHLlV0aWwuaXNBcnJheShjb29yZHNbMF0pKSB7XG4gICAgICAgIHJldHVybiBbREcuR2VvSlNPTi5jb29yZHNUb0xhdExuZyhjb29yZHMpXTtcbiAgICB9XG5cbiAgICByZXR1cm4gY29vcmRzLm1hcChmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgICAgIHJldHVybiBERy5Xa3QuX2Nvb3Jkc1RvTGF0TG5ncyhlbCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5yZWR1Y2UoZnVuY3Rpb24gKGFyciwgY29vcmQpIHtcbiAgICAgICAgICAgIHJldHVybiBhcnIuY29uY2F0KGNvb3JkKTtcbiAgICAgICAgfSk7XG59O1xuXG5ERy5Xa3QudG9MYXRMbmdzID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICBpZiAoIURHLlV0aWwuaXNBcnJheShkYXRhKSkge1xuICAgICAgICBkYXRhID0gW2RhdGFdO1xuICAgIH1cblxuICAgIHJldHVybiBkYXRhLm1hcChmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgdmFyIGNvb3JkcyA9IERHLldrdC50b0dlb0pTT04oZWwpLmNvb3JkaW5hdGVzO1xuXG4gICAgICAgIHJldHVybiBERy5Xa3QuX2Nvb3Jkc1RvTGF0TG5ncyhjb29yZHMpO1xuICAgIH0pLnJlZHVjZShmdW5jdGlvbiAoYXJyLCBjb29yZCkge1xuICAgICAgICByZXR1cm4gYXJyLmNvbmNhdChjb29yZCk7XG4gICAgfSk7XG59O1xuXG5ERy5Xa3QudG9Qb2ludHMgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgIHJldHVybiBERy5Xa3QudG9HZW9KU09OKGRhdGEpLmNvb3JkaW5hdGVzO1xufTtcblxuREcuV2t0LnBvaW50c1RvTGF0TG5nT25NYXAgPSBmdW5jdGlvbiAod2t0LCBtYXApIHtcbiAgICByZXR1cm4gKGZ1bmN0aW9uIHBhcnNlUG9pbnRzKHBvaW50cykge1xuICAgICAgICByZXR1cm4gKEFycmF5LmlzQXJyYXkocG9pbnRzKSAmJiBBcnJheS5pc0FycmF5KHBvaW50c1swXSkpID9cbiAgICAgICAgICAgIHBvaW50cy5tYXAocGFyc2VQb2ludHMpIDpcbiAgICAgICAgICAgIG1hcC5jb250YWluZXJQb2ludFRvTGF0TG5nKHBvaW50cyk7XG4gICAgfSkoREcuV2t0LnRvUG9pbnRzKHdrdCkpO1xufTtcbiIsIkRHLlByb2plY3REZXRlY3RvciA9IERHLkhhbmRsZXIuZXh0ZW5kKHtcbiAgICBpbml0aWFsaXplOiBmdW5jdGlvbihtYXApIHsgLy8gKE9iamVjdClcbiAgICAgICAgdGhpcy5fbWFwID0gbWFwO1xuICAgICAgICB0aGlzLl9vc21WaWV3cG9ydCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9wcm9qZWN0ID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9sb2FkUHJvamVjdExpc3QoKTtcbiAgICB9LFxuXG4gICAgYWRkSG9va3M6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLl9wcm9qZWN0V2F0Y2goKTtcbiAgICAgICAgdGhpcy5fbWFwLm9uKCdtb3ZlJywgdGhpcy5fcHJvamVjdFdhdGNoLCB0aGlzKTtcbiAgICB9LFxuXG4gICAgcmVtb3ZlSG9va3M6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLl9tYXAub2ZmKCdtb3ZlJywgdGhpcy5fcHJvamVjdFdhdGNoLCB0aGlzKTtcbiAgICB9LFxuXG4gICAgZ2V0UHJvamVjdDogZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICghdGhpcy5fcHJvamVjdCkgeyByZXR1cm4gZmFsc2U7IH1cblxuICAgICAgICByZXR1cm4gREcuVXRpbC5leHRlbmQoe30sIHRoaXMuX3Byb2plY3QpO1xuICAgIH0sXG5cbiAgICBnZXRQcm9qZWN0c0xpc3Q6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcHJvamVjdExpc3Quc2xpY2UoMCk7XG4gICAgfSxcblxuICAgIGlzUHJvamVjdEhlcmU6IGZ1bmN0aW9uKGNvb3JkcywgcHJvamVjdCwgY2hlY2tNZXRob2QpIHtcbiAgICAgICAgaWYgKCFjb29yZHMpIHsgcmV0dXJuIG51bGw7IH1cblxuICAgICAgICBpZiAoIShjb29yZHMgaW5zdGFuY2VvZiBERy5MYXRMbmcpICYmICEoY29vcmRzIGluc3RhbmNlb2YgREcuTGF0TG5nQm91bmRzKSkge1xuICAgICAgICAgICAgY29vcmRzID0gREcubGF0TG5nKGNvb3Jkcyk7XG4gICAgICAgIH1cblxuICAgICAgICBjb29yZHMgPSAoY29vcmRzIGluc3RhbmNlb2YgREcuTGF0TG5nQm91bmRzKSA/XG4gICAgICAgICAgICBERy5sYXRMbmdCb3VuZHMoY29vcmRzLmdldFNvdXRoV2VzdCgpLndyYXAoKSwgY29vcmRzLmdldE5vcnRoRWFzdCgpLndyYXAoKSkgOiBjb29yZHMud3JhcCgpO1xuXG4gICAgICAgIGNoZWNrTWV0aG9kID0gY2hlY2tNZXRob2QgfHwgKChjb29yZHMgaW5zdGFuY2VvZiBERy5MYXRMbmdCb3VuZHMpID8gICdpbnRlcnNlY3RzJyA6ICdjb250YWlucycpO1xuXG4gICAgICAgIHZhciBtZXRob2QgPSBjaGVja01ldGhvZCA9PSAnaW50ZXJzZWN0cycgPyB0aGlzLl90ZXN0UHJvamVjdEludGVyc2VjdHMgOiB0aGlzLl90ZXN0UHJvamVjdENvbnRhaW5zO1xuICAgICAgICBtZXRob2QgPSBtZXRob2QuYmluZCh0aGlzLCBjb29yZHMpO1xuXG4gICAgICAgIGlmIChwcm9qZWN0KSB7XG4gICAgICAgICAgICByZXR1cm4gbWV0aG9kKHByb2plY3QpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Byb2plY3RMaXN0LmZpbHRlcihtZXRob2QpWzBdO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIF9wcm9qZWN0V2F0Y2g6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoIXRoaXMuX21hcC5fbG9hZGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fb3NtVmlld3BvcnQgPT09ICh0aGlzLl9wcm9qZWN0ICYmIHRoaXMuX2NlbnRlckluUHJvamVjdCh0aGlzLl9wcm9qZWN0LCAnY29udGFpbnMnKSkpIHtcbiAgICAgICAgICAgIHRoaXMuX29zbVZpZXdwb3J0ID0gIXRoaXMuX29zbVZpZXdwb3J0O1xuICAgICAgICAgICAgdGhpcy5fbWFwLmF0dHJpYnV0aW9uQ29udHJvbC5fdXBkYXRlKG51bGwsIHRoaXMuX29zbVZpZXdwb3J0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9wcm9qZWN0ICYmIHRoaXMuX3pvb21JblByb2plY3QodGhpcy5fcHJvamVjdCkgJiYgdGhpcy5fY2VudGVySW5Qcm9qZWN0KHRoaXMuX3Byb2plY3QpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9zZWFyY2hQcm9qZWN0KCk7XG5cbiAgICAgICAgaWYgKHRoaXMuX3Byb2plY3QpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9vc21WaWV3cG9ydCA9PT0gKHRoaXMuX3Byb2plY3QgJiYgdGhpcy5fY2VudGVySW5Qcm9qZWN0KHRoaXMuX3Byb2plY3QsICdjb250YWlucycpKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX29zbVZpZXdwb3J0ID0gIXRoaXMuX29zbVZpZXdwb3J0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fbWFwLmF0dHJpYnV0aW9uQ29udHJvbC5fdXBkYXRlKG51bGwsIHRoaXMuX29zbVZpZXdwb3J0LCB0aGlzLl9wcm9qZWN0LmNvdW50cnlfY29kZSk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgX2NoZWNrUHJvamVjdERhdGE6IGZ1bmN0aW9uKHByb2plY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gY2hlY2sodmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZSAhPT0gdW5kZWZpbmVkICYmIHZhbHVlICE9PSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHByb2plY3QgJiZcbiAgICAgICAgICAgICAgICBwcm9qZWN0LmJvdW5kcyAmJlxuICAgICAgICAgICAgICAgIGNoZWNrKHByb2plY3QuY29kZSkgJiZcbiAgICAgICAgICAgICAgICBjaGVjayhwcm9qZWN0LmRvbWFpbikgJiZcbiAgICAgICAgICAgICAgICBjaGVjayhwcm9qZWN0LmNvdW50cnlfY29kZSkgJiZcbiAgICAgICAgICAgICAgICBwcm9qZWN0Lnpvb21fbGV2ZWwgJiZcbiAgICAgICAgICAgICAgICAgICAgY2hlY2socHJvamVjdC56b29tX2xldmVsLm1pbikgJiZcbiAgICAgICAgICAgICAgICAgICAgY2hlY2socHJvamVjdC56b29tX2xldmVsLm1heCkgJiZcbiAgICAgICAgICAgICAgICBwcm9qZWN0LnRpbWVfem9uZSAmJlxuICAgICAgICAgICAgICAgICAgICBjaGVjayhwcm9qZWN0LnRpbWVfem9uZS5vZmZzZXQpO1xuICAgIH0sXG5cbiAgICBfbG9hZFByb2plY3RMaXN0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgREcuZmFsbGJhY2tQcm9qZWN0c0xpc3QgPSBERy5mYWxsYmFja1Byb2plY3RzTGlzdCB8fCBbXTtcblxuICAgICAgICBpZiAoIURHLnByb2plY3RzTGlzdCkge1xuICAgICAgICAgICAgREcucHJvamVjdHNMaXN0ID0gREcuZmFsbGJhY2tQcm9qZWN0c0xpc3Q7XG4gICAgICAgIH1cbiAgICAgICAgZGVsZXRlIERHLmZhbGxiYWNrUHJvamVjdHNMaXN0O1xuXG4gICAgICAgIHRoaXMuX3Byb2plY3RMaXN0ID0gREcucHJvamVjdHNMaXN0XG4gICAgICAgICAgICAuZmlsdGVyKHRoaXMuX2NoZWNrUHJvamVjdERhdGEpXG4gICAgICAgICAgICAubWFwKGZ1bmN0aW9uKHByb2plY3QpIHtcbiAgICAgICAgICAgICAgICB2YXIgYm91bmQgPSBERy5Xa3QudG9HZW9KU09OKHByb2plY3QuYm91bmRzKTtcbiAgICAgICAgICAgICAgICB2YXIgbGF0TG5nQm91bmRzID0gREcuZ2VvSlNPTihib3VuZCkuZ2V0Qm91bmRzKCk7XG4gICAgICAgICAgICAgICAgdmFyIGRlZmF1bHRQb3MgPSBwcm9qZWN0LmRlZmF1bHRfcG9zID8gREcubGF0TG5nKHByb2plY3QuZGVmYXVsdF9wb3MubGF0LCBwcm9qZWN0LmRlZmF1bHRfcG9zLmxvbikgOiBudWxsO1xuXG5cbiAgICAgICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBjYW1lbGNhc2UgKi9cbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBpZDogcHJvamVjdC5pZCxcbiAgICAgICAgICAgICAgICAgICAgY29kZTogcHJvamVjdC5jb2RlLFxuICAgICAgICAgICAgICAgICAgICBtaW5ab29tOiBwcm9qZWN0Lnpvb21fbGV2ZWwubWluLFxuICAgICAgICAgICAgICAgICAgICBtYXhab29tOiBwcm9qZWN0Lnpvb21fbGV2ZWwubWF4LFxuICAgICAgICAgICAgICAgICAgICB0aW1lT2Zmc2V0OiBwcm9qZWN0LnRpbWVfem9uZS5vZmZzZXQsXG4gICAgICAgICAgICAgICAgICAgIGJvdW5kOiBib3VuZCxcbiAgICAgICAgICAgICAgICAgICAgbGF0TG5nQm91bmRzOiBsYXRMbmdCb3VuZHMsXG4gICAgICAgICAgICAgICAgICAgIHRyYWZmaWM6ICEhcHJvamVjdC5mbGFncy50cmFmZmljLFxuICAgICAgICAgICAgICAgICAgICB0cmFuc3BvcnQ6ICEhcHJvamVjdC5mbGFncy5wdWJsaWNfdHJhbnNwb3J0LFxuICAgICAgICAgICAgICAgICAgICByb2FkczogISFwcm9qZWN0LmZsYWdzLnJvYWRfbmV0d29yayxcbiAgICAgICAgICAgICAgICAgICAgY291bnRyeV9jb2RlOiBwcm9qZWN0LmNvdW50cnlfY29kZSxcbiAgICAgICAgICAgICAgICAgICAgZG9tYWluOiBwcm9qZWN0LmRvbWFpbixcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFBvczogZGVmYXVsdFBvc1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgLyogZXNsaW50LWVuYWJsZSBjYW1lbGNhc2UgKi9cbiAgICAgICAgICAgIH0pO1xuICAgIH0sXG5cbiAgICBfc2VhcmNoUHJvamVjdDogZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vINCS0L3QsNGH0LDQu9C1INC+0YLRgdC10LjQstCw0LXQvCDRgNC10LPQuNC+0L3RiyDQv9C+INC30YPQvNGDXG4gICAgICAgIHZhciBmaWx0ZXJlZEJ5Wm9vbSA9IHRoaXMuX3Byb2plY3RMaXN0LmZpbHRlcih0aGlzLl96b29tSW5Qcm9qZWN0LCB0aGlzKTtcblxuICAgICAgICAvLyDQndCw0YXQvtC00LjQvCDQv9GA0L7QtdC60YIg0LIg0LPRgNCw0L3QuNGG0Ysg0LrQvtGC0L7RgNC+0LPQviDQv9C+0L/QsNC00LDQtdGCINGG0LXQvdGC0YAg0LrQsNGA0YLRi1xuICAgICAgICB2YXIgZm91bmRQcm9qZWN0cyA9IGZpbHRlcmVkQnlab29tLmZpbHRlcih0aGlzLl9jZW50ZXJJblByb2plY3QsIHRoaXMpO1xuXG4gICAgICAgIC8vINCV0YHQu9C4INGC0LDQutC+0Lkg0L/RgNC+0LXQutGCINC90LUg0L3QsNC50LTQtdC9LCDRgtC+INC40YnQtdC8INC/0YDQvtC10LrRgtGLINCx0LDRg9C90LQg0LHQvtC60YHRiyDQutC+0YLQvtGA0YvRhSDQv9C10YDQtdGB0LXQutCw0Y7RgtGB0Y8g0YEg0Y3QutGA0LDQvdC+0LxcbiAgICAgICAgaWYgKGZvdW5kUHJvamVjdHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB2YXIgbWFwQm91bmRzID0gdGhpcy5fbWFwLmdldEJvdW5kcygpO1xuICAgICAgICAgICAgZm91bmRQcm9qZWN0cyA9IGZpbHRlcmVkQnlab29tLmZpbHRlcihERy5iaW5kKHRoaXMuX3Rlc3RQcm9qZWN0SW50ZXJzZWN0cywgdGhpcywgbWFwQm91bmRzKSk7XG5cbiAgICAgICAgICAgIGlmIChmb3VuZFByb2plY3RzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICB2YXIgbWFwQ2VudGVyID0gdGhpcy5fbWFwLmdldENlbnRlcigpO1xuICAgICAgICAgICAgICAgIHZhciBuZWFyZWFzdFByb2plY3QgPSBmb3VuZFByb2plY3RzWzBdO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgZm91bmRQcm9qZWN0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY3VycmVudFByb2plY3QgPSBmb3VuZFByb2plY3RzW2ldO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFByb2plY3QuZGVmYXVsdFBvcyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgbWFwQ2VudGVyLmRpc3RhbmNlVG8obmVhcmVhc3RQcm9qZWN0LmRlZmF1bHRQb3MpID5cbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcENlbnRlci5kaXN0YW5jZVRvKGN1cnJlbnRQcm9qZWN0LmRlZmF1bHRQb3MpXG4gICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmVhcmVhc3RQcm9qZWN0ID0gY3VycmVudFByb2plY3Q7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm91bmRQcm9qZWN0cyA9IFtuZWFyZWFzdFByb2plY3RdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG5ld1Byb2plY3QgPSBmb3VuZFByb2plY3RzWzBdIHx8IG51bGw7XG5cbiAgICAgICAgaWYgKHRoaXMuX3Byb2plY3QgPT09IG5ld1Byb2plY3QpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgICBpZiAodGhpcy5fcHJvamVjdCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fcHJvamVjdCA9IG51bGw7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHNlbGYuX21hcC5maXJlKCdwcm9qZWN0bGVhdmUnKTtcbiAgICAgICAgICAgIH0sIDEpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG5ld1Byb2plY3QpIHtcbiAgICAgICAgICAgIHRoaXMuX3Byb2plY3QgPSBuZXdQcm9qZWN0O1xuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBzZWxmLl9tYXAuZmlyZSgncHJvamVjdGNoYW5nZScsIHtnZXRQcm9qZWN0OiBzZWxmLmdldFByb2plY3QuYmluZChzZWxmKX0pO1xuICAgICAgICAgICAgfSwgMSk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgX3Rlc3RQcm9qZWN0SW50ZXJzZWN0czogZnVuY3Rpb24oYm91bmRzLCBwcm9qZWN0KSB7XG4gICAgICAgIHJldHVybiBwcm9qZWN0LmxhdExuZ0JvdW5kcy5pbnRlcnNlY3RzKGJvdW5kcyk7XG4gICAgfSxcblxuICAgIF90ZXN0UHJvamVjdENvbnRhaW5zOiBmdW5jdGlvbihsYXRsbmcsIHByb2plY3QpIHtcbiAgICAgICAgcmV0dXJuIERHLlBvbHlVdGlsLmluc2lkZShbbGF0bG5nLmxuZywgbGF0bG5nLmxhdF0sIHByb2plY3QuYm91bmQpO1xuICAgIH0sXG5cbiAgICBfY2VudGVySW5Qcm9qZWN0OiBmdW5jdGlvbihwcm9qZWN0LCBjaGVja01ldGhvZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pc1Byb2plY3RIZXJlKHRoaXMuX21hcC5nZXRDZW50ZXIoKSwgcHJvamVjdCwgY2hlY2tNZXRob2QpO1xuICAgIH0sXG5cbiAgICBfem9vbUluUHJvamVjdDogZnVuY3Rpb24ocHJvamVjdCkge1xuICAgICAgICByZXR1cm4gKHRoaXMuX21hcC5nZXRab29tKCkgPj0gcHJvamVjdC5taW5ab29tKTtcbiAgICB9XG59KTtcblxuREcuTWFwLm1lcmdlT3B0aW9ucyh7XG4gICAgcHJvamVjdERldGVjdG9yOiB0cnVlXG59KTtcblxuREcuTWFwLmFkZEluaXRIb29rKCdhZGRIYW5kbGVyJywgJ3Byb2plY3REZXRlY3RvcicsIERHLlByb2plY3REZXRlY3Rvcik7XG4iLCIvKlxuICogVXRpbGl0eSBmdW5jdGlvbnNcbiAqL1xuXG5ERy5NZXRyaWMgPSBmdW5jdGlvbigpIHt9O1xuXG4vKlxuICogREcuTWV0cmljLlNlZ21lbnRzIGNsYXNzIGNhbiBjYWxjdWxhdGUgdG90YWwgcHVzaGVkIHNlZ21lbnRzIGxlbmd0aCBhbmQgdXNlZCB0byBzaG9ydGN1dFxuICogJ2dldCBTb21ldGhpbmcgYnkgcHJvdmlkZWQgTGVuZ3RoJyBjYWxjdWxhdGlvbnMgKHNlZ21lbnQncyBJbmRleCwgc2VnbWVudCdzIExlbmd0aCwgZXRjLi4uKVxuICovXG5ERy5NZXRyaWMuU2VnbWVudHMgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmxlbmd0aCA9IDA7XG59O1xuXG5ERy5NZXRyaWMuU2VnbWVudHMucHJvdG90eXBlID0ge1xuICAgIHB1c2g6IGZ1bmN0aW9uKGxlbikge1xuICAgICAgICB0aGlzW3RoaXMubGVuZ3RoXSA9IHRoaXMubGVuZ3RoID4gMCA/IHRoaXNbdGhpcy5sZW5ndGggLSAxXSArIGxlbiA6IGxlbjtcbiAgICAgICAgdGhpcy5sZW5ndGggKz0gMTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgZ2V0TGVuZ3RoOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXNbdGhpcy5sZW5ndGggLSAxXTtcbiAgICB9LFxuXG4gICAgZ2V0UmV2ZXJzZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBzZWdtZW50cyA9IG5ldyBERy5NZXRyaWMuU2VnbWVudHMoKTtcbiAgICAgICAgdmFyIGkgPSB0aGlzLmxlbmd0aCAtIDE7XG5cbiAgICAgICAgaWYgKGkgPCAwKSB7IHJldHVybiBzZWdtZW50czsgfVxuXG4gICAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgICAgIHNlZ21lbnRzLnB1c2godGhpc1tpICsgMV0gLSB0aGlzW2ldKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzZWdtZW50cy5wdXNoKHRoaXNbMF0pO1xuICAgIH0sXG5cbiAgICBnZXRJbmRleDogZnVuY3Rpb24obGVuKSB7XG4gICAgICAgIHZhciBpID0gdGhpcy5sZW5ndGggLSAxO1xuXG4gICAgICAgIGlmIChpIDwgMCkgeyByZXR1cm4gaTsgfVxuXG4gICAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgICAgIGlmICh0aGlzW2ldIDw9IGxlbikgeyBicmVhazsgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGkgKyAxO1xuICAgIH0sXG5cbiAgICBnZXRTZWdSYXRpbzogZnVuY3Rpb24obGVuKSB7XG4gICAgICAgIHZhciBpID0gdGhpcy5nZXRJbmRleChsZW4pO1xuICAgICAgICB2YXIgc3ViID0gaSA+IDAgPyB0aGlzW2kgLSAxXSA6IDA7XG5cbiAgICAgICAgcmV0dXJuIChsZW4gLSBzdWIpIC8gKHRoaXNbaV0gLSBzdWIpO1xuICAgIH0sXG5cbiAgICBnZXRTZWdMZW5ndGg6IGZ1bmN0aW9uKGxlbikge1xuICAgICAgICB2YXIgaSA9IHRoaXMuZ2V0SW5kZXgobGVuKTtcbiAgICAgICAgdmFyIHN1YiA9IGkgPiAwID8gdGhpc1tpIC0gMV0gOiAwO1xuXG4gICAgICAgIHJldHVybiBsZW4gLSBzdWI7XG4gICAgfVxufTtcbiIsIi8qXG4gKiBERy5WZXJ0ZXhUcmFuc2Zvcm0gaXMgYSBjbGFzc2ljIDJEIG1hdHJpeCB0cmFuc2Zvcm1hdGlvbiBjbGFzc1xuICpcbiAqIFByb3RvdHlwZSBtZXRob2RzIGNhbiBzY2FsZS9yb3RhdGUvdHJhbnNsYXRlIHZlcnRpY2VzXG4gKlxuICogU3RhdGljIG1ldGhvZHMgZG8gdGhlIHNhbWUgYnV0IHJldHVybiBzaW1wbGUgYXJyYXkgaW5zdGFuY2VzIHdpdGggYXR0YWNoZWRcbiAqIC5jbG9uZSgpIG1ldGhvZCB3aGljaCBjYW4gcmVjb25zdHJ1Y3QgZnVsbCBERy5WZXJ0ZXhUcmFuc2Zvcm0gb2JqZWN0XG4gKi9cblxuREcuVmVydGV4VHJhbnNmb3JtID0gREcuQ2xhc3MuZXh0ZW5kKHtcbiAgICBpbml0aWFsaXplOiBmdW5jdGlvbih2ZXJ0aWNlcykge1xuICAgICAgICB0aGlzLl92ZXJ0aWNlcyA9IHZlcnRpY2VzO1xuXG4gICAgICAgIHRoaXMuX3NjYWxlID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYW5nbGUgPSBudWxsO1xuICAgICAgICB0aGlzLl90cmFucyA9IG51bGw7XG4gICAgICAgIHRoaXMuX21hdHJpeCA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5sb2FkKCk7XG4gICAgfSxcblxuICAgIGxvYWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLnZlcnRpY2VzID0gdGhpcy5fdmVydGljZXMubWFwKGZ1bmN0aW9uKHZlcnRleCkgeyByZXR1cm4gdmVydGV4LmNsb25lKCk7IH0pO1xuICAgICAgICB0aGlzLnZlcnRpY2VzLmNsb25lID0gREcuVmVydGV4VHJhbnNmb3JtLmNsb25lO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICBzYXZlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5fdmVydGljZXMgPSB0aGlzLnZlcnRpY2VzLm1hcChmdW5jdGlvbih2ZXJ0ZXgpIHsgcmV0dXJuIHZlcnRleC5jbG9uZSgpOyB9KTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgc2V0U2NhbGU6IGZ1bmN0aW9uKHNjYWxlKSB7XG4gICAgICAgIHRoaXMuX3NjYWxlID0gc2NhbGU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICBnZXRTY2FsZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zY2FsZTtcbiAgICB9LFxuXG4gICAgc2V0QW5nbGU6IGZ1bmN0aW9uKGFuZ2xlKSB7XG4gICAgICAgIHRoaXMuX2FuZ2xlID0gYW5nbGU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICBnZXRBbmdsZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hbmdsZTtcbiAgICB9LFxuXG4gICAgc2V0VHJhbnNsYXRpb246IGZ1bmN0aW9uKHRyYW5zKSB7XG4gICAgICAgIHRoaXMuX3RyYW5zID0gdHJhbnM7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICBnZXRUcmFuc2xhdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90cmFucztcbiAgICB9LFxuXG4gICAgc2V0TWF0cml4OiBmdW5jdGlvbihtYXRyaXgpIHtcbiAgICAgICAgdGhpcy5fbWF0cml4ID0gbWF0cml4O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgZ2V0TWF0cml4OiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21hdHJpeDtcbiAgICB9LFxuXG4gICAgc2NhbGU6IGZ1bmN0aW9uKHNjYWxlKSB7XG4gICAgICAgIHZhciB2ID0gdGhpcy52ZXJ0aWNlcztcbiAgICAgICAgdmFyIGkgPSB2Lmxlbmd0aDtcblxuICAgICAgICBzY2FsZSA9IHNjYWxlIHx8IHRoaXMuX3NjYWxlIHx8IDE7XG4gICAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgICAgIHZbaV0ueCAqPSBzY2FsZTtcbiAgICAgICAgICAgIHZbaV0ueSAqPSBzY2FsZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICB1blNjYWxlOiBmdW5jdGlvbihzY2FsZSkge1xuICAgICAgICBzY2FsZSA9IHNjYWxlIHx8IHRoaXMuX3NjYWxlIHx8IDE7ICAgICAgLy8gIEFsc28gc2FmZWd1YXJkIGFnYWluc3QgemVybyBzY2FsZVxuICAgICAgICByZXR1cm4gdGhpcy5zY2FsZSgxIC8gc2NhbGUpO1xuICAgIH0sXG5cbiAgICByb3RhdGU6IGZ1bmN0aW9uKGFuZ2xlKSB7XG4gICAgICAgIHZhciBjb3MgPSBhbmdsZSA/IGFuZ2xlLmNvcyA6ICh0aGlzLl9hbmdsZSA/IHRoaXMuX2FuZ2xlLmNvcyA6IDEpO1xuICAgICAgICB2YXIgc2luID0gYW5nbGUgPyBhbmdsZS5zaW4gOiAodGhpcy5fYW5nbGUgPyB0aGlzLl9hbmdsZS5zaW4gOiAwKTtcbiAgICAgICAgdmFyIHYgPSB0aGlzLnZlcnRpY2VzO1xuICAgICAgICB2YXIgaSA9IHYubGVuZ3RoO1xuICAgICAgICB2YXIgeCwgeTtcblxuICAgICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgICAgICB4ID0gdltpXS54O1xuICAgICAgICAgICAgeSA9IHZbaV0ueTtcbiAgICAgICAgICAgIHZbaV0ueCA9IHggKiBjb3MgLSB5ICogc2luO1xuICAgICAgICAgICAgdltpXS55ID0geCAqIHNpbiArIHkgKiBjb3M7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgdW5Sb3RhdGU6IGZ1bmN0aW9uKGFuZ2xlKSB7XG4gICAgICAgIHZhciBjb3MgPSBhbmdsZSA/IGFuZ2xlLmNvcyA6ICh0aGlzLl9hbmdsZSA/IHRoaXMuX2FuZ2xlLmNvcyA6IDEpO1xuICAgICAgICB2YXIgc2luID0gYW5nbGUgPyBhbmdsZS5zaW4gOiAodGhpcy5fYW5nbGUgPyB0aGlzLl9hbmdsZS5zaW4gOiAwKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5yb3RhdGUoe2NvczogY29zLCBzaW46IC1zaW59KTtcbiAgICB9LFxuXG4gICAgdHJhbnNsYXRlOiBmdW5jdGlvbih0cmFucykge1xuICAgICAgICB2YXIgZHggPSB0cmFucyA/IHRyYW5zLnggOiAodGhpcy5fdHJhbnMgPyB0aGlzLl90cmFucy54IDogMCk7XG4gICAgICAgIHZhciBkeSA9IHRyYW5zID8gdHJhbnMueSA6ICh0aGlzLl90cmFucyA/IHRoaXMuX3RyYW5zLnkgOiAwKTtcbiAgICAgICAgdmFyIHYgPSB0aGlzLnZlcnRpY2VzO1xuICAgICAgICB2YXIgaSA9IHYubGVuZ3RoO1xuXG4gICAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgICAgIHZbaV0ueCArPSBkeDtcbiAgICAgICAgICAgIHZbaV0ueSArPSBkeTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICB1blRyYW5zbGF0ZTogZnVuY3Rpb24odHJhbnMpIHtcbiAgICAgICAgdmFyIGR4ID0gdHJhbnMgPyB0cmFucy54IDogKHRoaXMuX3RyYW5zID8gdGhpcy5fdHJhbnMueCA6IDApO1xuICAgICAgICB2YXIgZHkgPSB0cmFucyA/IHRyYW5zLnkgOiAodGhpcy5fdHJhbnMgPyB0aGlzLl90cmFucy55IDogMCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNsYXRlKHt4OiAtZHgsIHk6IC1keX0pO1xuICAgIH0sXG5cbiAgICB0cmFuc2Zvcm06IGZ1bmN0aW9uKG1hdHJpeCkge1xuICAgICAgICB2YXIgYSwgYiwgYywgZCwgZHgsIGR5O1xuICAgICAgICB2YXIgdiA9IHRoaXMudmVydGljZXM7XG4gICAgICAgIHZhciBpID0gdi5sZW5ndGg7XG4gICAgICAgIHZhciB4LCB5O1xuXG4gICAgICAgIGlmIChtYXRyaXgpIHtcbiAgICAgICAgICAgIGEgPSBtYXRyaXhbMF07IGIgPSBtYXRyaXhbMV07IGR4ID0gbWF0cml4WzJdO1xuICAgICAgICAgICAgYyA9IG1hdHJpeFszXTsgZCA9IG1hdHJpeFs0XTsgZHkgPSBtYXRyaXhbNV07XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5fbWF0cml4KSB7XG4gICAgICAgICAgICBhID0gdGhpcy5fbWF0cml4WzBdOyBiID0gdGhpcy5fbWF0cml4WzFdOyBkeCA9IHRoaXMuX21hdHJpeFsyXTtcbiAgICAgICAgICAgIGMgPSB0aGlzLl9tYXRyaXhbM107IGQgPSB0aGlzLl9tYXRyaXhbNF07IGR5ID0gdGhpcy5fbWF0cml4WzVdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYSA9IDE7IGIgPSAwOyBkeCA9IDA7XG4gICAgICAgICAgICBjID0gMDsgZCA9IDE7IGR5ID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgICAgIHggPSB2W2ldLng7XG4gICAgICAgICAgICB5ID0gdltpXS55O1xuICAgICAgICAgICAgdltpXS54ID0geCAqIGEgKyB5ICogYiArIGR4O1xuICAgICAgICAgICAgdltpXS55ID0geCAqIGMgKyB5ICogZCArIGR5O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIHN0YXRpY3M6IHtcbiAgICAgICAgc2NhbGU6IGZ1bmN0aW9uKHZ0LCBzY2FsZSkge1xuICAgICAgICAgICAgdmFyIHYgPSB2dC52ZXJ0aWNlcztcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgICAgICAgIHZhciB4LCB5O1xuXG4gICAgICAgICAgICBzY2FsZSA9IHNjYWxlIHx8IDE7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHYubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB4ID0gdltpXS54ICogc2NhbGU7XG4gICAgICAgICAgICAgICAgeSA9IHZbaV0ueSAqIHNjYWxlO1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG5ldyBERy5Qb2ludCh4LCB5KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXN1bHQuY2xvbmUgPSBERy5WZXJ0ZXhUcmFuc2Zvcm0uY2xvbmU7XG5cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH0sXG5cbiAgICAgICAgdW5TY2FsZTogZnVuY3Rpb24odnQsIHNjYWxlKSB7XG4gICAgICAgICAgICBzY2FsZSA9IHNjYWxlIHx8IDE7ICAgICAgICAgLy8gIEFsc28gc2FmZWd1YXJkIGFnYWluc3QgemVybyBzY2FsZVxuICAgICAgICAgICAgcmV0dXJuIERHLlZlcnRleFRyYW5zZm9ybS5zY2FsZSh2dCwgMSAvIHNjYWxlKTtcbiAgICAgICAgfSxcblxuICAgICAgICByb3RhdGU6IGZ1bmN0aW9uKHZ0LCBhbmdsZSkge1xuICAgICAgICAgICAgdmFyIGNvcyA9IGFuZ2xlID8gYW5nbGUuY29zIDogMTtcbiAgICAgICAgICAgIHZhciBzaW4gPSBhbmdsZSA/IGFuZ2xlLnNpbiA6IDA7XG4gICAgICAgICAgICB2YXIgdiA9IHZ0LnZlcnRpY2VzO1xuICAgICAgICAgICAgdmFyIHgsIHksIHJ4LCByeTtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcnggPSB2W2ldLng7XG4gICAgICAgICAgICAgICAgcnkgPSB2W2ldLnk7XG4gICAgICAgICAgICAgICAgeCA9IHJ4ICogY29zIC0gcnkgKiBzaW47XG4gICAgICAgICAgICAgICAgeSA9IHJ4ICogc2luICsgcnkgKiBjb3M7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gobmV3IERHLlBvaW50KHgsIHkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc3VsdC5jbG9uZSA9IERHLlZlcnRleFRyYW5zZm9ybS5jbG9uZTtcblxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfSxcblxuICAgICAgICB1blJvdGF0ZTogZnVuY3Rpb24odnQsIGFuZ2xlKSB7XG4gICAgICAgICAgICB2YXIgY29zID0gYW5nbGUgPyBhbmdsZS5jb3MgOiAxO1xuICAgICAgICAgICAgdmFyIHNpbiA9IGFuZ2xlID8gYW5nbGUuc2luIDogMDtcblxuICAgICAgICAgICAgcmV0dXJuIERHLlZlcnRleFRyYW5zZm9ybS5yb3RhdGUodnQsIHtjb3M6IGNvcywgc2luOiAtc2lufSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgdHJhbnNsYXRlOiBmdW5jdGlvbih2dCwgdHJhbnMpIHtcbiAgICAgICAgICAgIHZhciBkeCA9IHRyYW5zID8gdHJhbnMueCA6IDA7XG4gICAgICAgICAgICB2YXIgZHkgPSB0cmFucyA/IHRyYW5zLnkgOiAwO1xuICAgICAgICAgICAgdmFyIHYgPSB2dC52ZXJ0aWNlcztcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgICAgICAgIHZhciB4LCB5O1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHYubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB4ID0gdltpXS54ICsgZHg7XG4gICAgICAgICAgICAgICAgeSA9IHZbaV0ueSArIGR5O1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG5ldyBERy5Qb2ludCh4LCB5KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXN1bHQuY2xvbmUgPSBERy5WZXJ0ZXhUcmFuc2Zvcm0uY2xvbmU7XG5cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH0sXG5cbiAgICAgICAgdW5UcmFuc2xhdGU6IGZ1bmN0aW9uKHZ0LCB0cmFucykge1xuICAgICAgICAgICAgdmFyIGR4ID0gdHJhbnMgPyB0cmFucy54IDogMDtcbiAgICAgICAgICAgIHZhciBkeSA9IHRyYW5zID8gdHJhbnMueSA6IDA7XG5cbiAgICAgICAgICAgIHJldHVybiBERy5WZXJ0ZXhUcmFuc2Zvcm0udHJhbnNsYXRlKHZ0LCB7eDogLWR4LCB5OiAtZHl9KTtcbiAgICAgICAgfSxcblxuICAgICAgICBjbG9uZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAvLyAgJ3RoaXMnIGlzIGFuIGFycmF5XG4gICAgICAgICAgICByZXR1cm4gbmV3IERHLlZlcnRleFRyYW5zZm9ybSh0aGlzKS5zYXZlKCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZ2V0TGVuZ3RoOiBmdW5jdGlvbih2ZWMxLCB2ZWMyKSB7XG4gICAgICAgICAgICB2YXIgZHgsIGR5O1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIHZlYzEgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgLy8gICd2ZWMxJyBhbmQgJ3ZlYzInIGFyZSBhYnNvbHV0ZSBjb29yZGluYXRlcyBvZiB2ZWN0b3JcbiAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KHZlYzEgKiB2ZWMxICsgdmVjMiAqIHZlYzIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyAgJ3ZlYzEnIGFuZCAndmVjMicgYXJlIHZlY3RvciBvYmplY3RzXG4gICAgICAgICAgICAgICAgZHggPSB2ZWMyLnggLSB2ZWMxLng7XG4gICAgICAgICAgICAgICAgZHkgPSB2ZWMyLnkgLSB2ZWMxLnk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE1hdGguc3FydChkeCAqIGR4ICsgZHkgKiBkeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgZ2V0U2NhbGVkOiBmdW5jdGlvbih2ZWMxLCB2ZWMyLCBzY2FsZSkge1xuICAgICAgICAgICAgdmFyIGR4LCBkeTtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiB2ZWMxID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgIC8vICAndmVjMScgYW5kICd2ZWMyJyBhcmUgYWJzb2x1dGUgY29vcmRpbmF0ZXMgb2YgdmVjdG9yXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBERy5Qb2ludCh2ZWMxICogc2NhbGUsIHZlYzIgKiBzY2FsZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vICAndmVjMScgYW5kICd2ZWMyJyBhcmUgdmVjdG9yIG9iamVjdHNcbiAgICAgICAgICAgICAgICBkeCA9ICh2ZWMyLnggLSB2ZWMxLngpICogc2NhbGU7XG4gICAgICAgICAgICAgICAgZHkgPSAodmVjMi55IC0gdmVjMS55KSAqIHNjYWxlO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgREcuUG9pbnQodmVjMS54ICsgZHgsIHZlYzEueSArIGR5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBnZXRBbmdsZTogZnVuY3Rpb24odmVjMSwgdmVjMiwgb3JpZ2luKSB7XG4gICAgICAgICAgICB2YXIgbCwgc3AsIHgxLCB5MSwgeDIsIHkyO1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIHZlYzEgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgLy8gICd2ZWMxJyBhbmQgJ3ZlYzInIGFyZSBhYnNvbHV0ZSBjb29yZGluYXRlcyBvZiB2ZWN0b3JcbiAgICAgICAgICAgICAgICBsID0gTWF0aC5zcXJ0KHZlYzEgKiB2ZWMxICsgdmVjMiAqIHZlYzIpO1xuICAgICAgICAgICAgICAgIGlmIChsID4gMCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge2NvczogdmVjMSAvIGwsIHNpbjogdmVjMiAvIGx9O1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7Y29zOiAxLCBzaW46IDB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gICd2ZWMxJyBhbmQgJ3ZlYzInIGFyZSB2ZWN0b3Igb2JqZWN0c1xuICAgICAgICAgICAgICAgIHgxID0gdmVjMS54OyB5MSA9IHZlYzEueTtcbiAgICAgICAgICAgICAgICB4MiA9IHZlYzIueDsgeTIgPSB2ZWMyLnk7XG4gICAgICAgICAgICAgICAgaWYgKG9yaWdpbikge1xuICAgICAgICAgICAgICAgICAgICB4MSAtPSBvcmlnaW4ueDsgeTEgLT0gb3JpZ2luLnk7XG4gICAgICAgICAgICAgICAgICAgIHgyIC09IG9yaWdpbi54OyB5MiAtPSBvcmlnaW4ueTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc3AgPSBNYXRoLnNxcnQoeDEgKiB4MSArIHkxICogeTEpICogTWF0aC5zcXJ0KHgyICogeDIgKyB5MiAqIHkyKTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBjb3M6ICh4MSAqIHgyICsgeTEgKiB5MikgLyBzcCxcbiAgICAgICAgICAgICAgICAgICAgc2luOiAoeDEgKiB5MiAtIHgyICogeTEpIC8gc3BcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIGdldEFuZ2xlc1N1bTogZnVuY3Rpb24oYW5nbGUxLCBhbmdsZTIpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgY29zOiBhbmdsZTEuY29zICogYW5nbGUyLmNvcyAtIGFuZ2xlMS5zaW4gKiBhbmdsZTIuc2luLFxuICAgICAgICAgICAgICAgIHNpbjogYW5nbGUxLnNpbiAqIGFuZ2xlMi5jb3MgKyBhbmdsZTEuY29zICogYW5nbGUyLnNpblxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcblxuICAgICAgICBnZXRBbmdsZXNEaWY6IGZ1bmN0aW9uKGFuZ2xlMSwgYW5nbGUyKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGNvczogYW5nbGUxLmNvcyAqIGFuZ2xlMi5jb3MgKyBhbmdsZTEuc2luICogYW5nbGUyLnNpbixcbiAgICAgICAgICAgICAgICBzaW46IGFuZ2xlMS5zaW4gKiBhbmdsZTIuY29zIC0gYW5nbGUxLmNvcyAqIGFuZ2xlMi5zaW5cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG59KTtcbiIsIi8qXG4gKiBERy5BcnJvd1BhdGhUcmFuc2Zvcm0gY2xhc3MgaXMgYSBjb3JlIG9mIGFycm93J3MgYm9keSBjYWxjdWxhdGlvbnNcbiAqXG4gKiBHZW5lcmFsIGlkZWFzIGFyZTpcbiAqICAgICAgV2UgY29uc3RydWN0IGFycm93IGJvZHkgd2l0aCBzdHJva2UgcG9pbnRzIG1ha2luZyBhcmNzIG9uIG91dGVyIHBhdGggdHVybnNcbiAqICAgICAgUHJvY2Vzc2luZyBpcyBkb25lIHNlZ21lbnQgYnkgc2VnbWVudCBhcm91bmQgezAsIDB9IHZpcnR1YWwgcG9pbnRcbiAqICAgICAgICAgIGFuZCByZXN1bHRpbmcgJ3BhdGgnIGZpbmFsbHkgcm90YXRlZCB0byBpdCdzIG9yaWdpbmFsIG1hcCdzIGFuZ2xlICguZnVsbEFuZ2xlKVxuICogICAgICBTdWJzZXQgb2YgdGhpcyB2ZXJ0aWNlcyBsYXRlbHkgdXNlZCBpbiAuc3ViUGF0aCgpIGNhbGN1bGF0aW9ucyB3aGljaCBjYW4gYmUgdXNlZFxuICogICAgICAgICAgaW4gYW5pbWF0aW9ucyBmb3IgZXguXG4gKlxuICogIEZpbmFsIHRyYW5zbGF0aW9uIChzZWUgREcuRW50cmFuY2UuQXJyb3cpIG1vdmVzIGFycm93IG9iamVjdHMgdG8gdGhlaXIgb3JpZ2luYWwgcG9zaXRpb25zXG4gKi9cblxuREcuQXJyb3dQYXRoVHJhbnNmb3JtID0gREcuVmVydGV4VHJhbnNmb3JtLmV4dGVuZCh7XG4gICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24ocGF0aCkge1xuICAgICAgICAvLyAgJ3BhdGgub2Zmc2V0JyBpcyBpbml0aWFsIHBvaW50cyBvZmZzZXQgKC14IC8gK3gpIHRvIGNvbXBlbnNhdGUgYXJyb3cgdGlwIGxlbmd0aFxuXG4gICAgICAgIC8vICBTa2lwIHN1cGVyIGluaXRpYWxpemF0aW9uIGFzIHdlIG5lZWQgb25seSBzdWJzZXQgb2YgREcuVmVydGV4VHJhbnNmb3JtIHBvd2VyXG4gICAgICAgIHRoaXMuX2xlbmd0aHMgPSBuZXcgREcuTWV0cmljLlNlZ21lbnRzKCk7XG4gICAgICAgIHRoaXMuX3ZlcnRpY2VzID0gW1tdLCBbXV07XG4gICAgICAgIHRoaXMuX2RyYXdpbmdzID0gW1tdLCBbXV07XG4gICAgICAgIC8vICB0aGlzLl9hcmNzID0gW107ICAgIC8vICBpbml0aWFsaXplZCBpbiBfc2V0UGF0aCgpXG5cbiAgICAgICAgdGhpcy5fc2V0UGF0aChwYXRoKTtcbiAgICAgICAgdGhpcy5zdWJQYXRoKDEpO1xuICAgIH0sXG5cbiAgICBsb2FkOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3ViUGF0aCgxKTtcbiAgICB9LFxuXG4gICAgc2F2ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzOyAgICAvLyAgTm9PcFxuICAgIH0sXG5cbiAgICAvLyAgTWV0aG9kIGNvbnN0cnVjdHMgbmV3IHBhdGggcG9pbnRzIHdpdGggc29tZSBkaXNwbGFjZW1lbnQgZnJvbSBvcmlnaW5hbCAncGF0aCdcbiAgICAvLyAgT3V0ZXIgY29ybmVycyB3aWxsIGJlIHNtb290aGVkIGJ5IGFyY3MgKGN1YmljIELDqXppZXIgY3VydmVzKVxuICAgIF9zZXRQYXRoOiBmdW5jdGlvbihwYXRoKSB7XG4gICAgICAgIHZhciB0cmFuc2Zvcm0gPSBERy5BcnJvd1BhdGhUcmFuc2Zvcm0udHJhbnNmb3JtO1xuICAgICAgICB2YXIgdmVydGljZXMgPSB0aGlzLl92ZXJ0aWNlcztcbiAgICAgICAgdmFyIGRyYXdpbmdzID0gdGhpcy5fZHJhd2luZ3M7XG4gICAgICAgIHZhciBQb2ludCA9IERHLlBvaW50O1xuICAgICAgICB2YXIgd2lkdGggPSBwYXRoLndpZHRoO1xuICAgICAgICB2YXIgYXJjcyA9IFtbXSwgW10sIFtdXTtcbiAgICAgICAgdmFyIGxlbmd0aHMgPSBbXTtcblxuICAgICAgICB2YXIgaSwgeCxcbiAgICAgICAgICAgIGF4LCBieCwgY3gsXG4gICAgICAgICAgICBhbmdsZXMsIGFuZ2xlO1xuXG4gICAgICAgIHZlcnRpY2VzLnB1c2gocGF0aC52ZXJ0aWNlcyk7ICAgLy8gIGV4cGVjdCAucG9wKCkgaW4gZmluYWwgdHJhbnNmb3JtXG4gICAgICAgIHZlcnRpY2VzWzBdLnB1c2gobmV3IERHLlBvaW50KHBhdGgub2Zmc2V0LCArd2lkdGgpKTtcbiAgICAgICAgdmVydGljZXNbMV0ucHVzaChuZXcgREcuUG9pbnQocGF0aC5vZmZzZXQsIC13aWR0aCkpO1xuICAgICAgICBhbmdsZXMgPSBERy5BcnJvd1BhdGhUcmFuc2Zvcm0uZ2V0QW5nbGVzKHBhdGgpO1xuXG4gICAgICAgIGN4ID0gLXBhdGgub2Zmc2V0O1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYW5nbGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB4ID0gcGF0aC52ZXJ0aWNlc1tpICsgMV0ueDtcbiAgICAgICAgICAgIGF4ID0gd2lkdGggKiBhbmdsZXNbaV0uY290O1xuXG4gICAgICAgICAgICAvLyAgaHR0cDovL3BvbWF4LmdpdGh1Yi5pby9iZXppZXJpbmZvLyNjaXJjbGVzX2N1YmljXG4gICAgICAgICAgICAvLyAgYWN0dWFsIGVxdWF0aW9uIGlzICg0LzMgKiB0YW4ozrEvNCkgKiByYWRpdXMpXG4gICAgICAgICAgICBieCA9IGFuZ2xlc1tpXS50YW4gKiB3aWR0aCAqIDggLyAzO1xuXG4gICAgICAgICAgICAvLyAgTmV4dCBjb2RlIGNhbiBiZSBjb21iaW5lZCBieSAtLysgaW52ZXJzaW9uIGJ1dCBmb3Igc2ltcGxpY2l0eSBpdCBpcyBsZWZ0IGFzIGlzXG4gICAgICAgICAgICBpZiAoYXggPiAwKSB7XG4gICAgICAgICAgICAgICAgdmVydGljZXNbMF0ucHVzaChuZXcgUG9pbnQoeCArIGF4LCAgICAgICt3aWR0aCkpO1xuICAgICAgICAgICAgICAgIGRyYXdpbmdzWzBdLnB1c2goJ0wnKTtcblxuICAgICAgICAgICAgICAgIGFyY3NbMl0ucHVzaCgxKTtcbiAgICAgICAgICAgICAgICBhcmNzWzFdLnB1c2godmVydGljZXNbMV0ubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICB2ZXJ0aWNlc1sxXS5wdXNoKG5ldyBQb2ludCh4ICsgYXgsICAgICAgLXdpZHRoKSk7XG4gICAgICAgICAgICAgICAgdmVydGljZXNbMV0ucHVzaChuZXcgUG9pbnQoeCArIGF4IC0gYngsIC13aWR0aCkpO1xuXG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtKHZlcnRpY2VzLCBhbmdsZXNbaV0sIHt4OiB4LCB5OiAwfSk7XG5cbiAgICAgICAgICAgICAgICB2ZXJ0aWNlc1sxXS5wdXNoKG5ldyBQb2ludCgwIC0gYXggKyBieCwgLXdpZHRoKSk7XG4gICAgICAgICAgICAgICAgdmVydGljZXNbMV0ucHVzaChuZXcgUG9pbnQoMCAtIGF4LCAgICAgIC13aWR0aCkpO1xuICAgICAgICAgICAgICAgIGRyYXdpbmdzWzFdLnB1c2goJ0wnLCAnQycpO1xuXG4gICAgICAgICAgICAgICAgbGVuZ3Rocy5wdXNoKE1hdGguYWJzKHggKyBheCkgLSBjeCk7IGN4ID0gK2F4O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2ZXJ0aWNlc1sxXS5wdXNoKG5ldyBQb2ludCh4IC0gYXgsICAgICAgLXdpZHRoKSk7XG4gICAgICAgICAgICAgICAgZHJhd2luZ3NbMV0ucHVzaCgnTCcpO1xuXG4gICAgICAgICAgICAgICAgYXJjc1syXS5wdXNoKDApO1xuICAgICAgICAgICAgICAgIGFyY3NbMF0ucHVzaCh2ZXJ0aWNlc1swXS5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIHZlcnRpY2VzWzBdLnB1c2gobmV3IFBvaW50KHggLSBheCwgICAgICArd2lkdGgpKTtcbiAgICAgICAgICAgICAgICB2ZXJ0aWNlc1swXS5wdXNoKG5ldyBQb2ludCh4IC0gYXggKyBieCwgK3dpZHRoKSk7XG5cbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm0odmVydGljZXMsIGFuZ2xlc1tpXSwge3g6IHgsIHk6IDB9KTtcblxuICAgICAgICAgICAgICAgIHZlcnRpY2VzWzBdLnB1c2gobmV3IFBvaW50KDAgKyBheCAtIGJ4LCArd2lkdGgpKTtcbiAgICAgICAgICAgICAgICB2ZXJ0aWNlc1swXS5wdXNoKG5ldyBQb2ludCgwICsgYXgsICAgICAgK3dpZHRoKSk7XG4gICAgICAgICAgICAgICAgZHJhd2luZ3NbMF0ucHVzaCgnTCcsICdDJyk7XG5cbiAgICAgICAgICAgICAgICBsZW5ndGhzLnB1c2goTWF0aC5hYnMoeCAtIGF4KSAtIGN4KTsgY3ggPSAtYXg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyAgRmluYWwgc2VnbWVudHMgYW5kIHRhaWwgYXJjXG4gICAgICAgIGF4ID0gcGF0aC52ZXJ0aWNlc1tpICsgMV0ueDtcbiAgICAgICAgYnggPSB3aWR0aCAqIDQgLyAzOyAvLyB0YW4oUEkvNCkgPSAxXG5cbiAgICAgICAgdmVydGljZXNbMF0ucHVzaChuZXcgUG9pbnQoYXgsICt3aWR0aCkpO1xuICAgICAgICB2ZXJ0aWNlc1sxXS5wdXNoKG5ldyBQb2ludChheCwgLXdpZHRoKSk7XG5cbiAgICAgICAgdmVydGljZXNbMF0ucHVzaChuZXcgUG9pbnQoYXggLSBieCwgK3dpZHRoKSk7XG4gICAgICAgIHZlcnRpY2VzWzFdLnB1c2gobmV3IFBvaW50KGF4IC0gYngsIC13aWR0aCkpO1xuXG4gICAgICAgIGRyYXdpbmdzWzBdLnB1c2goJ0wnKTtcbiAgICAgICAgZHJhd2luZ3NbMV0ucHVzaCgnTCcpO1xuXG4gICAgICAgIGxlbmd0aHMucHVzaChNYXRoLmFicyhheCkgLSBjeCk7XG5cbiAgICAgICAgLy8gIFJldmVyc2UgcmlnaHQgcGF0aFxuICAgICAgICB2ZXJ0aWNlc1sxXS5yZXZlcnNlKCk7XG4gICAgICAgIGRyYXdpbmdzWzFdLnJldmVyc2UoKTtcblxuICAgICAgICAvLyAgTW92ZSB2ZXJ0aWNlcyBpbnRvIG9yaWdpbmFsIHBvc2l0aW9uIChiZWZvcmUgbGFzdCB0cmFuc2xhdGlvbilcbiAgICAgICAgYW5nbGUgPSBERy5WZXJ0ZXhUcmFuc2Zvcm0uZ2V0QW5nbGVzU3VtKGFuZ2xlcy5mdWxsQW5nbGUsIHBhdGguZ2V0QW5nbGUoKSk7XG4gICAgICAgIHRyYW5zZm9ybSh2ZXJ0aWNlcywgYW5nbGUsIHZlcnRpY2VzLnBvcCgpWzBdKTsgIC8vICBwYXRoLnZlcnRpY2VzWzBdXG5cbiAgICAgICAgLy8gIFdlIG5lZWQgdG8gcmVjb25zdHJ1Y3QgYXJjJ3MgaW5kZXhlcyBidXQgdG9vIG1hbnkgdmFyaWFibGVzIGFscmVhZHkgdG91Y2hlZCwgcmV1c2Ugc29tZSBvZiB0aGVtXG4gICAgICAgIGF4ID0gdmVydGljZXNbMF0ubGVuZ3RoO1xuICAgICAgICBieCA9IHZlcnRpY2VzWzFdLmxlbmd0aDtcbiAgICAgICAgdGhpcy5fYXJjcyA9IGFyY3NbMl0ubWFwKGZ1bmN0aW9uKGkpIHtcbiAgICAgICAgICAgIGN4ID0gYXJjc1tpXS5zaGlmdCgpO1xuICAgICAgICAgICAgaWYgKGkgPiAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBERy5BcmNCZXppZXIodmVydGljZXNbMV0uc2xpY2UoYnggLSBjeCAtIDQsIGJ4IC0gY3gpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBERy5BcmNCZXppZXIodmVydGljZXNbMF0uc2xpY2UoY3gsIGN4ICsgNCkucmV2ZXJzZSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkucmV2ZXJzZSgpO1xuXG4gICAgICAgIHRoaXMuX2xlbmd0aHMucHVzaChsZW5ndGhzLnBvcCgpKTtcbiAgICAgICAgbGVuZ3Rocy5yZXZlcnNlKCkuZm9yRWFjaChmdW5jdGlvbihsLCBpKSB7XG4gICAgICAgICAgICB0aGlzLl9sZW5ndGhzLnB1c2godGhpcy5fYXJjc1tpXS5nZXRMZW5ndGgoKSkucHVzaChsKTtcbiAgICAgICAgfSwgdGhpcyk7XG5cbiAgICAgICAgLy8gIFNob3J0Y3V0IGJvcmRlciBjYXNlcyAoMCUtbGVuZ3RoIHN1Yi1wYXRoIGFuZCBmdWxsLXBhdGgpXG4gICAgICAgIHRoaXNbMF0gPSB7XG4gICAgICAgICAgICB2ZXJ0aWNlczogW3ZlcnRpY2VzWzBdW2F4IC0gMl0sIHZlcnRpY2VzWzBdW2F4IC0gMV0sIHZlcnRpY2VzWzFdWzBdLCB2ZXJ0aWNlc1sxXVsxXV0sXG4gICAgICAgICAgICBkcmF3aW5nczogWydNJywgJ0MnXVxuICAgICAgICB9O1xuICAgICAgICB0aGlzWzFdID0ge1xuICAgICAgICAgICAgdmVydGljZXM6IHZlcnRpY2VzWzBdLmNvbmNhdCh2ZXJ0aWNlc1sxXSksXG4gICAgICAgICAgICBkcmF3aW5nczogWydNJ10uY29uY2F0KGRyYXdpbmdzWzBdLCAnQycsIGRyYXdpbmdzWzFdKVxuICAgICAgICB9O1xuICAgIH0sXG5cbiAgICBfc2V0QW5nbGVBbmREaXNwbGFjZW1lbnQ6IGZ1bmN0aW9uKHZMLCB2UikgeyAvLyBVc2VkIGluIERHLkFycm93VGlwVHJhbnNmb3JtLnN1YlNoYXBlKClcbiAgICAgICAgdGhpcy5hbmdsZSA9IERHLlZlcnRleFRyYW5zZm9ybS5nZXRBbmdsZSh7eDogdkwueCAtIHZSLngsIHk6IHZMLnkgLSB2Ui55fSwge3g6IDAsIHk6IDF9KTtcbiAgICAgICAgdGhpcy5kaXNwbCA9IHZSLmNsb25lKCk7XG4gICAgfSxcblxuICAgIHN1YlBhdGg6IGZ1bmN0aW9uKHBhdGhSYXRpbykge1xuICAgICAgICBwYXRoUmF0aW8gPSBwYXRoUmF0aW8gPiAxID8gMSA6IHBhdGhSYXRpbztcblxuICAgICAgICAvLyAgU2hvcnRjdXQgYm9yZGVyIGNhc2VzICgwJS1sZW5ndGggc3ViLXBhdGggYW5kIGZ1bGwtcGF0aClcbiAgICAgICAgaWYgKHBhdGhSYXRpbyA9PT0gMCB8fCBwYXRoUmF0aW8gPT09IDEpIHtcbiAgICAgICAgICAgIHRoaXMudmVydGljZXMgPSB0aGlzW3BhdGhSYXRpb10udmVydGljZXMubWFwKGZ1bmN0aW9uKHZlcnRleCkgeyByZXR1cm4gdmVydGV4LmNsb25lKCk7IH0pO1xuICAgICAgICAgICAgdGhpcy5kcmF3aW5ncyA9IHRoaXNbcGF0aFJhdGlvXS5kcmF3aW5ncztcbiAgICAgICAgICAgIHRoaXMuX3NldEFuZ2xlQW5kRGlzcGxhY2VtZW50KHRoaXMudmVydGljZXNbMF0sIHRoaXMudmVydGljZXNbdGhpcy52ZXJ0aWNlcy5sZW5ndGggLSAxXSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBnZXRTY2FsZWQgPSBERy5WZXJ0ZXhUcmFuc2Zvcm0uZ2V0U2NhbGVkO1xuICAgICAgICB2YXIgdmVydGljZXMgPSB0aGlzLl92ZXJ0aWNlcztcbiAgICAgICAgdmFyIGRyYXdpbmdzID0gdGhpcy5fZHJhd2luZ3M7XG4gICAgICAgIHZhciBsZW5ndGhzID0gdGhpcy5fbGVuZ3RocztcbiAgICAgICAgdmFyIGxlbiA9IGxlbmd0aHMuZ2V0TGVuZ3RoKCkgKiBwYXRoUmF0aW87XG4gICAgICAgIHZhciBzZWdJbmRleCA9IGxlbmd0aHMuZ2V0SW5kZXgobGVuKTtcbiAgICAgICAgdmFyIHNlZ1JhdGlvID0gbGVuZ3Rocy5nZXRTZWdSYXRpbyhsZW4pO1xuICAgICAgICB2YXIgdmVydGV4SW5kZXhMZWZ0ID0gdmVydGljZXNbMF0ubGVuZ3RoIC0gMjtcbiAgICAgICAgdmFyIHZlcnRleEluZGV4UmlnaHQgPSAxO1xuICAgICAgICB2YXIgZHJhd2luZ0luZGV4TGVmdCA9IGRyYXdpbmdzWzBdLmxlbmd0aCAtIDE7XG4gICAgICAgIHZhciBkcmF3aW5nSW5kZXhSaWdodCA9IDA7XG4gICAgICAgIHZhciB2ZXJ0ZXhMZWZ0LCB2ZXJ0ZXhSaWdodDtcbiAgICAgICAgdmFyIGFyYyA9IDAsIGFlZCA9IDA7XG5cbiAgICAgICAgd2hpbGUgKGFlZCsrIDwgc2VnSW5kZXgpIHtcbiAgICAgICAgICAgIGlmIChhZWQgJSAyID09IDEpIHtcbiAgICAgICAgICAgICAgICB2ZXJ0ZXhJbmRleExlZnQtLTtcbiAgICAgICAgICAgICAgICBkcmF3aW5nSW5kZXhMZWZ0LS07XG4gICAgICAgICAgICAgICAgdmVydGV4SW5kZXhSaWdodCsrO1xuICAgICAgICAgICAgICAgIGRyYXdpbmdJbmRleFJpZ2h0Kys7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChkcmF3aW5nc1swXVtkcmF3aW5nSW5kZXhMZWZ0XSA9PT0gJ0MnKSB7XG4gICAgICAgICAgICAgICAgICAgIHZlcnRleEluZGV4TGVmdCAtPSAzO1xuICAgICAgICAgICAgICAgICAgICBkcmF3aW5nSW5kZXhMZWZ0IC09IDE7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmVydGV4SW5kZXhSaWdodCArPSAzO1xuICAgICAgICAgICAgICAgICAgICBkcmF3aW5nSW5kZXhSaWdodCArPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhcmMrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzZWdJbmRleCAlIDIgPT0gMSkge1xuICAgICAgICAgICAgLy8gIE9uZSBwYXRoIGVuZHMgd2l0aCBhbiBhcmNcbiAgICAgICAgICAgIGFyYyA9IHRoaXMuX2FyY3NbYXJjXTtcbiAgICAgICAgICAgIGlmIChkcmF3aW5nc1swXVtkcmF3aW5nSW5kZXhMZWZ0XSA9PT0gJ0MnKSB7XG4gICAgICAgICAgICAgICAgYXJjID0gYXJjLmdldEN1cnZlQmVmb3JlKGFyYy5nZXRUYnlMKGxlbmd0aHMuZ2V0U2VnTGVuZ3RoKGxlbikpKTtcbiAgICAgICAgICAgICAgICB2ZXJ0ZXhMZWZ0ID0gYXJjLnBvaW50c1szXTtcbiAgICAgICAgICAgICAgICB2ZXJ0ZXhSaWdodCA9IHZlcnRpY2VzWzFdW3ZlcnRleEluZGV4UmlnaHRdO1xuICAgICAgICAgICAgICAgIHRoaXMudmVydGljZXMgPSBhcmMucG9pbnRzLnNsaWNlKDEpLnJldmVyc2UoKVxuICAgICAgICAgICAgICAgICAgICAuY29uY2F0KHZlcnRpY2VzWzBdLnNsaWNlKHZlcnRleEluZGV4TGVmdCksIHZlcnRpY2VzWzFdLnNsaWNlKDAsIHZlcnRleEluZGV4UmlnaHQgKyAxKSlcbiAgICAgICAgICAgICAgICAgICAgLm1hcChmdW5jdGlvbih2ZXJ0ZXgpIHsgcmV0dXJuIHZlcnRleC5jbG9uZSgpOyB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdpbmdzID0gWydNJ10uY29uY2F0KGRyYXdpbmdzWzBdLnNsaWNlKGRyYXdpbmdJbmRleExlZnQpLCAnQycsIGRyYXdpbmdzWzFdLnNsaWNlKDAsIGRyYXdpbmdJbmRleFJpZ2h0KSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGFyYyA9IGFyYy5nZXRDdXJ2ZUJlZm9yZShhcmMuZ2V0VGJ5TChsZW5ndGhzLmdldFNlZ0xlbmd0aChsZW4pKSk7XG4gICAgICAgICAgICAgICAgdmVydGV4TGVmdCA9IHZlcnRpY2VzWzBdW3ZlcnRleEluZGV4TGVmdF07XG4gICAgICAgICAgICAgICAgdmVydGV4UmlnaHQgPSBhcmMucG9pbnRzWzNdO1xuICAgICAgICAgICAgICAgIHRoaXMudmVydGljZXMgPSB2ZXJ0aWNlc1swXS5zbGljZSh2ZXJ0ZXhJbmRleExlZnQpXG4gICAgICAgICAgICAgICAgICAgIC5jb25jYXQodmVydGljZXNbMV0uc2xpY2UoMCwgdmVydGV4SW5kZXhSaWdodCArIDEpLCBhcmMucG9pbnRzLnNsaWNlKDEpKVxuICAgICAgICAgICAgICAgICAgICAubWFwKGZ1bmN0aW9uKHZlcnRleCkgeyByZXR1cm4gdmVydGV4LmNsb25lKCk7IH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuZHJhd2luZ3MgPSBbJ00nXS5jb25jYXQoZHJhd2luZ3NbMF0uc2xpY2UoZHJhd2luZ0luZGV4TGVmdCArIDEpLCAnQycsIGRyYXdpbmdzWzFdLnNsaWNlKDAsIGRyYXdpbmdJbmRleFJpZ2h0ICsgMSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gIEJvdGggcGF0aHMgZW5kIHdpdGggbGluZXNcbiAgICAgICAgICAgIHZlcnRleExlZnQgPSBnZXRTY2FsZWQodmVydGljZXNbMF1bdmVydGV4SW5kZXhMZWZ0XSwgdmVydGljZXNbMF1bdmVydGV4SW5kZXhMZWZ0IC0gMV0sIHNlZ1JhdGlvKTtcbiAgICAgICAgICAgIHZlcnRleFJpZ2h0ID0gZ2V0U2NhbGVkKHZlcnRpY2VzWzFdW3ZlcnRleEluZGV4UmlnaHRdLCB2ZXJ0aWNlc1sxXVt2ZXJ0ZXhJbmRleFJpZ2h0ICsgMV0sIHNlZ1JhdGlvKTtcbiAgICAgICAgICAgIHRoaXMudmVydGljZXMgPSBbdmVydGV4TGVmdF1cbiAgICAgICAgICAgICAgICAuY29uY2F0KHZlcnRpY2VzWzBdLnNsaWNlKHZlcnRleEluZGV4TGVmdCksIHZlcnRpY2VzWzFdLnNsaWNlKDAsIHZlcnRleEluZGV4UmlnaHQgKyAxKSwgdmVydGV4UmlnaHQpXG4gICAgICAgICAgICAgICAgLm1hcChmdW5jdGlvbih2ZXJ0ZXgpIHsgcmV0dXJuIHZlcnRleC5jbG9uZSgpOyB9KTtcbiAgICAgICAgICAgIHRoaXMuZHJhd2luZ3MgPSBbJ00nXS5jb25jYXQoZHJhd2luZ3NbMF0uc2xpY2UoZHJhd2luZ0luZGV4TGVmdCksICdDJywgZHJhd2luZ3NbMV0uc2xpY2UoMCwgZHJhd2luZ0luZGV4UmlnaHQgKyAxKSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9zZXRBbmdsZUFuZERpc3BsYWNlbWVudCh2ZXJ0ZXhMZWZ0LCB2ZXJ0ZXhSaWdodCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICBzdGF0aWNzOiB7XG4gICAgICAgIGdldEFuZ2xlczogZnVuY3Rpb24ocGF0aCkge1xuICAgICAgICAgICAgdmFyIGdldEFuZ2xlID0gREcuVmVydGV4VHJhbnNmb3JtLmdldEFuZ2xlO1xuICAgICAgICAgICAgdmFyIGZ1bGxBbmdsZSA9IHtjb3M6IDEsIHNpbjogMH07XG4gICAgICAgICAgICB2YXIgdmVydGljZXMgPSBwYXRoLnZlcnRpY2VzO1xuICAgICAgICAgICAgdmFyIGFuZ2xlcyA9IFtdO1xuXG4gICAgICAgICAgICB2YXIgYWJzU2luLCBhbmdsZSxcbiAgICAgICAgICAgICAgICBjb3MsIHNpbiwgY290LCB0ZW1wLCBzaWduO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMSwgbGVuID0gdmVydGljZXMubGVuZ3RoIC0gMTsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgYW5nbGUgPSBnZXRBbmdsZSh2ZXJ0aWNlc1tpIC0gMV0sIHZlcnRpY2VzW2kgKyAxXSwgdmVydGljZXNbaV0pO1xuXG4gICAgICAgICAgICAgICAgYWJzU2luID0gTWF0aC5hYnMoYW5nbGUuc2luKTtcbiAgICAgICAgICAgICAgICBpZiAoYWJzU2luIDwgMC4wMDAwMDEpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gIEV4Y2x1ZGUgMTgwwrAgYW5nbGUgZnJvbSB2ZXJ0aWNlcyBhcnJheVxuICAgICAgICAgICAgICAgICAgICB2ZXJ0aWNlcy5zcGxpY2UodmVydGljZXMubGVuZ3RoIC0gaSAtIDEsIDEpO1xuICAgICAgICAgICAgICAgICAgICBsZW4tLTtcbiAgICAgICAgICAgICAgICAgICAgaS0tO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vICBUaGlzIGlzIGhhbGYg4oiizrEgY290YW5nZW50LCBzaWduIGRlc2NyaWJlcyBhbmdsZSBkaXJlY3Rpb24gYW5kIHVzZWQgdG8gc2hvcnRjdXQgc3Ryb2tlIGNhbGN1bGF0aW9uc1xuICAgICAgICAgICAgICAgICAgICAvLyAgJy0xJyAtIHJpZ2h0IGFuZ2xlIGlzIGlubmVyIGFuZ2xlLCAnMScgLSBsZWZ0IGFuZ2xlIGlzIGlubmVyIGFuZ2xlIChpZiBzZWVuIGZyb20gWzAsIDBdIHRvIFstMSwgMF0pXG4gICAgICAgICAgICAgICAgICAgIGFuZ2xlLmNvdCA9ICgxICsgYW5nbGUuY29zKSAvIGFuZ2xlLnNpbjtcblxuICAgICAgICAgICAgICAgICAgICAvLyAgV2UgbmVlZCB0byByb3RhdGUgbmV4dCBzZWdtZW50IHRvIFstMSwgMF0gYXhpcywgc28gd2UgbmVlZCBjb21wbGVtZW50YXJ5IGFuZ2xlIGFjdHVhbGx5XG4gICAgICAgICAgICAgICAgICAgIGFuZ2xlLmNvcyA9IC1hbmdsZS5jb3M7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gIENvbXBsaW1lbnRhcnkgYW5nbGUgYWxzbyB1c2VkIHRvIGNhbGN1bGF0ZSBpdCdzIHF1YXRlcm5hcnkg4oiizrIgdGFuZ2VudFxuICAgICAgICAgICAgICAgICAgICAvLyAg4oiizrIgdGFuZ2VudCB1c2VkIGluIGFwcHJveGltYXRpb24gb2Ygb3V0ZXIgYXJjIHNlZ21lbnQgYnkgQsOpemllciBjdXJ2ZVxuICAgICAgICAgICAgICAgICAgICBjb3QgPSAoMSArIGFuZ2xlLmNvcykgLyBhbmdsZS5zaW47XG4gICAgICAgICAgICAgICAgICAgIHNpZ24gPSBjb3QgPCAwID8gLTEgOiAxO1xuICAgICAgICAgICAgICAgICAgICB0ZW1wID0gc2lnbiAqIE1hdGguc3FydCg0ICogY290ICogY290ICsgNCk7XG4gICAgICAgICAgICAgICAgICAgIGFuZ2xlLnRhbiA9IC0wLjUgKiAoY290ICsgY290IC0gdGVtcCk7XG5cbiAgICAgICAgICAgICAgICAgICAgYW5nbGVzLnB1c2goYW5nbGUpO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvcyA9IGZ1bGxBbmdsZS5jb3MgKiBhbmdsZS5jb3MgLSBmdWxsQW5nbGUuc2luICogYW5nbGUuc2luO1xuICAgICAgICAgICAgICAgICAgICBzaW4gPSBmdWxsQW5nbGUuc2luICogYW5nbGUuY29zICsgZnVsbEFuZ2xlLmNvcyAqIGFuZ2xlLnNpbjtcblxuICAgICAgICAgICAgICAgICAgICBmdWxsQW5nbGUgPSB7Y29zOiBjb3MsIHNpbjogc2lufTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vICBVc2VkIGluIGZpbmFsIHN0cm9rZSBwb2ludHMgdHJhbnNsYXRpb25cbiAgICAgICAgICAgIGFuZ2xlcy5mdWxsQW5nbGUgPSAge2NvczogZnVsbEFuZ2xlLmNvcywgc2luOiAtZnVsbEFuZ2xlLnNpbn07XG4gICAgICAgICAgICByZXR1cm4gYW5nbGVzO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8vICBUT0RPIC0gaWYgbGVuZ3RoIG9mICdsYXRsbmdzJyBhcnJheSBpcyBsZXNzIHRoYW4gMiBvciBpdCBpcyB1bmRlZmluZWQgbmV4dCBmdW5jdGlvbiBwcm9kdWNlcyBleGNlcHRpb25cbiAgICAgICAgLy8gIGNoZWNrIHRoaXMgY29uZGl0aW9uIGluIG91dGVyIHJvdXRpbmVzPyFcbiAgICAgICAgZ2V0VHJhbnNsYXRlZFBhdGg6IGZ1bmN0aW9uKG1hcCwgbGF0bG5ncykge1xuICAgICAgICAgICAgdmFyIHBhdGggPSBuZXcgREcuVmVydGV4VHJhbnNmb3JtKFtdKTtcbiAgICAgICAgICAgIHZhciBpID0gbGF0bG5ncy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgdmFyIHYgPSBtYXAucHJvamVjdChsYXRsbmdzW2ldKTtcbiAgICAgICAgICAgIHZhciBkeCA9IHYueCwgZHkgPSB2Lnk7XG5cbiAgICAgICAgICAgIHBhdGgudmVydGljZXMucHVzaChuZXcgREcuUG9pbnQoMCwgMCkpO1xuICAgICAgICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICAgICAgICAgIHYgPSBtYXAucHJvamVjdChsYXRsbmdzW2ldKTtcbiAgICAgICAgICAgICAgICBwYXRoLnZlcnRpY2VzLnB1c2gobmV3IERHLlBvaW50KHYueCAtIGR4LCB2LnkgLSBkeSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHBhdGhcbiAgICAgICAgICAgICAgICAuc2V0QW5nbGUoREcuVmVydGV4VHJhbnNmb3JtLmdldEFuZ2xlKC1wYXRoLnZlcnRpY2VzWzFdLngsIC1wYXRoLnZlcnRpY2VzWzFdLnkpKVxuICAgICAgICAgICAgICAgIC51blJvdGF0ZSgpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHRyYW5zZm9ybTogZnVuY3Rpb24ocmluZ3MsIGFuZ2xlLCB2ZWN0b3IpIHtcbiAgICAgICAgICAgIHZhciBpID0gcmluZ3MubGVuZ3RoO1xuICAgICAgICAgICAgdmFyIGNvcyA9IGFuZ2xlLmNvcztcbiAgICAgICAgICAgIHZhciBzaW4gPSBhbmdsZS5zaW47XG4gICAgICAgICAgICB2YXIgZHggPSB2ZWN0b3IueDtcbiAgICAgICAgICAgIHZhciBkeSA9IHZlY3Rvci55O1xuICAgICAgICAgICAgdmFyIHJpbmcsIHgsIHksIGo7XG5cbiAgICAgICAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgICAgICAgICByaW5nID0gcmluZ3NbaV07XG4gICAgICAgICAgICAgICAgaiA9IHJpbmcubGVuZ3RoO1xuICAgICAgICAgICAgICAgIHdoaWxlIChqLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgeCA9IHJpbmdbal0ueCAtIGR4O1xuICAgICAgICAgICAgICAgICAgICB5ID0gcmluZ1tqXS55IC0gZHk7XG4gICAgICAgICAgICAgICAgICAgIHJpbmdbal0ueCA9IHggKiBjb3MgLSB5ICogc2luO1xuICAgICAgICAgICAgICAgICAgICByaW5nW2pdLnkgPSB4ICogc2luICsgeSAqIGNvcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59KTtcbiIsIi8qXG4gKiBERy5BcnJvd1RpcFRyYW5zZm9ybSBjbGFzcyBpcyBhIGNvcmUgb2YgYXJyb3cncyB0aXAgY2FsY3VsYXRpb25zXG4gKlxuICogLnN1YlNoYXBlKCkgcm91dGluZSAnYm91bmQnIGFycm93J3MgdGlwIHRvIHRoZSBlbmRpbmcgcG9pbnRzIG9mIC5zdWJQYXRoKClcbiAqIGNhbGN1bGF0ZWQgc2VwYXJhdGVseSBpbiBERy5BcnJvd1BhdGhUcmFuc2Zvcm1cbiAqXG4gKiAgRmluYWwgdHJhbnNsYXRpb24gKHNlZSBERy5FbnRyYW5jZS5BcnJvdykgbW92ZXMgYXJyb3cgb2JqZWN0cyB0byB0aGVpciBvcmlnaW5hbCBwb3NpdGlvbnNcbiAqL1xuXG5ERy5BcnJvd1RpcFRyYW5zZm9ybSA9IERHLlZlcnRleFRyYW5zZm9ybS5leHRlbmQoe1xuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKHBhdGgsIHNoYXBlKSB7XG4gICAgICAgIHRoaXMuZHJhd2luZ3MgPSBzaGFwZS5kcmF3aW5nczsgLy8gIHN0YXRpYyBtYXBwaW5nXG4gICAgICAgIHRoaXMuX3ZlcnRpY2VzID0gc2hhcGUudmVydGljZXM7XG5cbiAgICAgICAgdGhpcy5fc2V0U2hhcGUocGF0aCwgc2hhcGUpO1xuICAgIH0sXG5cbiAgICBfc2V0U2hhcGU6IGZ1bmN0aW9uKHBhdGgsIHNoYXBlKSB7XG4gICAgICAgIHZhciBzcCA9IHNoYXBlLnZlcnRpY2VzWzBdO1xuICAgICAgICB2YXIgd2lkdGggPSBNYXRoLmFicyhzcC55KTtcbiAgICAgICAgdmFyIHBsID0gcGF0aC52ZXJ0aWNlc1sxXS54OyAgICAvLyAgbmVnYXRpdmUgdmFsdWVcbiAgICAgICAgdmFyIGxlbmd0aCA9IHNwLng7ICAgICAgICAgICAgICAvLyAgbmVnYXRpdmUgdmFsdWVcbiAgICAgICAgdmFyIG9mZnNldCA9IHBsIC0gbGVuZ3RoICsgd2lkdGggKyB3aWR0aDtcblxuICAgICAgICBwYXRoLndpZHRoID0gd2lkdGg7XG4gICAgICAgIHBhdGgub2Zmc2V0ID0gbGVuZ3RoICsgKG9mZnNldCA+IDAgPyBvZmZzZXQgOiAwKTtcbiAgICAgICAgaWYgKHBhdGgudmVydGljZXMubGVuZ3RoIDwgMyAmJiBsZW5ndGggPiAtMTApIHtcbiAgICAgICAgICAgIHBhdGgub2Zmc2V0ICs9IDIuNTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3ZlcnRpY2VzID0gdGhpcy5sb2FkKCkudW5UcmFuc2xhdGUoc3ApLnZlcnRpY2VzO1xuICAgIH0sXG5cbiAgICBzdWJTaGFwZTogZnVuY3Rpb24odHJhbnNmb3JtKSB7XG4gICAgICAgIHRoaXMubG9hZCgpLnVuUm90YXRlKHRyYW5zZm9ybS5hbmdsZSkudHJhbnNsYXRlKHRyYW5zZm9ybS5kaXNwbCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn0pO1xuIiwiLypcbiAqIERHLkNvbXBsZXhQYXRoIGlzIGEgc2ltcGxlIHZlY3RvciBsYXllciBjbGFzcyB3aXRoIGVtcHR5IC5nZXRFdmVudHMoKSBvYmplY3QoISlcbiAqIEl0J3MgZHJhd2luZyBsb2dpYyBpcyBtYWludGFpbmVkIGluIERHLkVudHJhbmNlLkFycm93IGNsYXNzXG4gKlxuICogX3B4Qm91bmRzIGlzIGEgcGl4ZWwgYm91bmRzIG9mIHRoaXMgZHJhd2luZ3MgYW5kIHRoZXkgYXJlIHVzZWQgaW4gTC5DYW52YXNcbiAqL1xuXG5ERy5Db21wbGV4UGF0aCA9IERHLlBhdGguZXh0ZW5kKHtcbiAgICBvcHRpb25zOiB7XG4gICAgICAgIGZpbGw6IHRydWUsXG4gICAgICAgIGZpbGxPcGFjaXR5OiAxLFxuICAgICAgICBpbnRlcmFjdGl2ZTogZmFsc2VcbiAgICB9LFxuXG4gICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgICBERy5zZXRPcHRpb25zKHRoaXMsIG9wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMuX2VtcHR5ID0gW107XG5cbiAgICAgICAgdGhpcy5fcHhFbXB0eSA9IERHLmJvdW5kcyhcbiAgICAgICAgICAgIERHLnBvaW50KDAsIDApLCBERy5wb2ludCgwLCAwKVxuICAgICAgICApO1xuICAgICAgICB0aGlzLl9weEJvdW5kcyA9IHRoaXMuX3B4RW1wdHk7XG5cbiAgICAgICAgdGhpcy5fdmVydGljZXMgPSBbdGhpcy5fZW1wdHldO1xuICAgICAgICB0aGlzLl9kcmF3aW5ncyA9IFt0aGlzLl9lbXB0eV07XG4gICAgfSxcblxuICAgIGdldEV2ZW50czogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9LFxuXG4gICAgX3Byb2plY3Q6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgb3B0cyA9IHRoaXMub3B0aW9ucyxcbiAgICAgICAgICAgIHpvb20sIHdlaWdodDtcblxuICAgICAgICBpZiAodGhpcy5fbWFwKSB7XG4gICAgICAgICAgICB6b29tID0gdGhpcy5fbWFwLmdldFpvb20oKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcHRzLnZpc2liaWxpdHkuaXNTaG93biAmJiBvcHRzLnRyYW5zZm9ybVt6b29tXSkge1xuICAgICAgICAgICAgLy8gIE5leHQgbnVtYmVycyB3YXMgZW1waXJpY2FsbHkgc2VsZWN0ZWQgaW4gb3JkZXIgdG8gcHJvdmlkZSB2aXN1YWwgY29tcGxpYW5jZVxuICAgICAgICAgICAgLy8gIHRvIHRoZSBvcmlnaW5hbCBhcnJvdydzIGltcGxlbWVudGF0aW9uXG4gICAgICAgICAgICB3ZWlnaHQgPSAyLjIgLSAoKDE5IC0gem9vbSkgKiAwLjIpO1xuICAgICAgICAgICAgaWYgKG9wdHMud2VpZ2h0ICE9PSB3ZWlnaHQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0eWxlKHt3ZWlnaHQ6ICt3ZWlnaHQudG9GaXhlZCgyKX0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl92ZXJ0aWNlc1swXSA9IG9wdHMudHJhbnNmb3JtW3pvb21dLnZlcnRpY2VzO1xuICAgICAgICAgICAgdGhpcy5fZHJhd2luZ3NbMF0gPSBvcHRzLnRyYW5zZm9ybVt6b29tXS5kcmF3aW5ncztcblxuICAgICAgICAgICAgdGhpcy5fcHhCb3VuZHMgPSBvcHRzLnRyYW5zZm9ybVt6b29tXS5fcHhCb3VuZHM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl92ZXJ0aWNlc1swXSA9IHRoaXMuX2VtcHR5O1xuICAgICAgICAgICAgdGhpcy5fZHJhd2luZ3NbMF0gPSB0aGlzLl9lbXB0eTtcblxuICAgICAgICAgICAgdGhpcy5fcHhCb3VuZHMgPSB0aGlzLl9weEVtcHR5O1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIF91cGRhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5fbWFwKSB7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVQYXRoKCk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgX3VwZGF0ZVBhdGg6IGZ1bmN0aW9uKCkgeyAgLy8gIHVzZWQgaW4gQ2FudmFzIHJlbmRlcmVyXG4gICAgICAgIHRoaXMuX3JlbmRlcmVyLl91cGRhdGVDb21wbGV4UGF0aCh0aGlzKTtcbiAgICB9XG59KTtcbiIsIi8qXG4gKiBBY3R1YWwgcGFpbnRpbmcgbWV0aG9kcyB0aGF0IGNhbiBkcmF3IGNvbXBsZXggb2JqZWN0cyB3aXRoIGN1cnZlc1xuICpcbiAqIFBvaW50IGNvb3JkaW5hdGVzIG11c3QgYmUgcHJvdmlkZWQgaW4gbGF5ZXIuX3ZlcnRpY2VzIG9iamVjdFxuICogQW5kIHR5cGVzIG9mIGxpbmUgbXVzdCBiZSBwcm92aWRlZCBpbiBsYXllci5fZHJhd2luZ3Mgb2JqZWN0XG4gKi9cblxuREcuZXh0ZW5kKEwuQ2FudmFzLnByb3RvdHlwZSwge1xuICAgIF91cGRhdGVDb21wbGV4UGF0aDogZnVuY3Rpb24obGF5ZXIsIGNsb3NlZCkge1xuICAgICAgICB2YXIgaSwgaiwgaywgZCwgeCwgeSwgX3gsIF95LCAkeCwgJHksIHBvaW50cztcbiAgICAgICAgdmFyIGRyYXdpbmdzID0gbGF5ZXIuX2RyYXdpbmdzO1xuICAgICAgICB2YXIgdmVydGljZXMgPSBsYXllci5fdmVydGljZXM7XG4gICAgICAgIHZhciBjdHggPSB0aGlzLl9jdHg7XG5cbiAgICAgICAgdGhpcy5fZHJhd25MYXllcnNbbGF5ZXIuX2xlYWZsZXRfaWRdID0gbGF5ZXI7XG5cbiAgICAgICAgLy8gIFRPRE86IERvIHdlIG5lZWQgdG8gZG8gYSAnYmVnaW5QYXRoKCknIGFuZCBwb3NzaWJsZSAnY2xvc2VQYXRoKCknIHBlciByaW5nPyFcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCB2ZXJ0aWNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcG9pbnRzID0gdmVydGljZXNbaV07XG4gICAgICAgICAgICB4ID0geSA9IDA7XG4gICAgICAgICAgICBqID0gayA9IDA7XG4gICAgICAgICAgICB3aGlsZSAoaiA8IHBvaW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBkID0gZHJhd2luZ3NbaV1baysrXTtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGQpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnTSc6XG4gICAgICAgICAgICAgICAgICAgICAgICB4ID0gcG9pbnRzW2pdLng7XG4gICAgICAgICAgICAgICAgICAgICAgICB5ID0gcG9pbnRzW2pdLnk7XG4gICAgICAgICAgICAgICAgICAgICAgICBqICs9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdHgubW92ZVRvKHgsIHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnbSc6XG4gICAgICAgICAgICAgICAgICAgICAgICB4ICs9IHBvaW50c1tqXS54O1xuICAgICAgICAgICAgICAgICAgICAgICAgeSArPSBwb2ludHNbal0ueTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGogKz0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5tb3ZlVG8oeCwgeSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICBjYXNlICdMJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHggPSBwb2ludHNbal0ueDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHkgPSBwb2ludHNbal0ueTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGogKz0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5saW5lVG8oeCwgeSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICBjYXNlICdsJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHggKz0gcG9pbnRzW2pdLng7XG4gICAgICAgICAgICAgICAgICAgICAgICB5ICs9IHBvaW50c1tqXS55O1xuICAgICAgICAgICAgICAgICAgICAgICAgaiArPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3R4LmxpbmVUbyh4LCB5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ0MnOlxuICAgICAgICAgICAgICAgICAgICAgICAgX3ggPSBwb2ludHNbal0ueDtcbiAgICAgICAgICAgICAgICAgICAgICAgIF95ID0gcG9pbnRzW2pdLnk7XG4gICAgICAgICAgICAgICAgICAgICAgICBqICs9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAkeCA9IHBvaW50c1tqXS54O1xuICAgICAgICAgICAgICAgICAgICAgICAgJHkgPSBwb2ludHNbal0ueTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGogKz0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHggPSBwb2ludHNbal0ueDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHkgPSBwb2ludHNbal0ueTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGogKz0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5iZXppZXJDdXJ2ZVRvKF94LCBfeSwgJHgsICR5LCB4LCB5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2MnOlxuICAgICAgICAgICAgICAgICAgICAgICAgX3ggPSB4ICsgcG9pbnRzW2pdLng7XG4gICAgICAgICAgICAgICAgICAgICAgICBfeSA9IHkgKyBwb2ludHNbal0ueTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGogKz0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICR4ID0geCArIHBvaW50c1tqXS54O1xuICAgICAgICAgICAgICAgICAgICAgICAgJHkgPSB5ICsgcG9pbnRzW2pdLnk7XG4gICAgICAgICAgICAgICAgICAgICAgICBqICs9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICB4ID0geCArIHBvaW50c1tqXS54O1xuICAgICAgICAgICAgICAgICAgICAgICAgeSA9IHkgKyBwb2ludHNbal0ueTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGogKz0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5iZXppZXJDdXJ2ZVRvKF94LCBfeSwgJHgsICR5LCB4LCB5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ1EnOlxuICAgICAgICAgICAgICAgICAgICAgICAgX3ggPSBwb2ludHNbal0ueDtcbiAgICAgICAgICAgICAgICAgICAgICAgIF95ID0gcG9pbnRzW2pdLnk7XG4gICAgICAgICAgICAgICAgICAgICAgICBqICs9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICB4ID0gcG9pbnRzW2pdLng7XG4gICAgICAgICAgICAgICAgICAgICAgICB5ID0gcG9pbnRzW2pdLnk7XG4gICAgICAgICAgICAgICAgICAgICAgICBqICs9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdHgucXVhZHJhdGljQ3VydmVUbyhfeCwgX3ksIHgsIHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSAncSc6XG4gICAgICAgICAgICAgICAgICAgICAgICBfeCA9IHggKyBwb2ludHNbal0ueDtcbiAgICAgICAgICAgICAgICAgICAgICAgIF95ID0geSArIHBvaW50c1tqXS55O1xuICAgICAgICAgICAgICAgICAgICAgICAgaiArPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgeCA9IHggKyBwb2ludHNbal0ueDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHkgPSB5ICsgcG9pbnRzW2pdLnk7XG4gICAgICAgICAgICAgICAgICAgICAgICBqICs9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdHgucXVhZHJhdGljQ3VydmVUbyhfeCwgX3ksIHgsIHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNsb3NlZCkge1xuICAgICAgICAgICAgICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2ZpbGxTdHJva2UoY3R4LCBsYXllcik7XG4gICAgfVxufSk7XG5cblxuREcuZXh0ZW5kKEwuU1ZHLnByb3RvdHlwZSwge1xuICAgIF91cGRhdGVDb21wbGV4UGF0aDogZnVuY3Rpb24obGF5ZXIsIGNsb3NlZCkge1xuICAgICAgICB0aGlzLl9zZXRQYXRoKGxheWVyLCBMLlNWRy5jb21wbGV4UG9pbnRzVG9QYXRoKGxheWVyLl92ZXJ0aWNlcywgbGF5ZXIuX2RyYXdpbmdzLCBjbG9zZWQpKTtcbiAgICB9XG59KTtcblxuXG5ERy5leHRlbmQoTC5TVkcsIHtcbiAgICBjb21wbGV4UG9pbnRzVG9QYXRoOiBmdW5jdGlvbih2ZXJ0aWNlcywgZHJhd2luZ3MsIGNsb3NlZCkge1xuICAgICAgICB2YXIgc3RyID0gJyc7XG4gICAgICAgIHZhciBzdmcgPSBERy5Ccm93c2VyLnN2ZztcbiAgICAgICAgdmFyIGksIGosIGssIG4sIGQsIHBvaW50cztcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdmVydGljZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHBvaW50cyA9IHZlcnRpY2VzW2ldO1xuXG4gICAgICAgICAgICAvLyAgU3BlZWR1cCBob3QgcGF0aCBieSByZW1vdmluZyBpZi90ZXJuYXJ5IGNvbmRpdGlvbiBjaGVja3MgYnV0IGR1cGxpY2F0aW5nIGxvb3BzXG4gICAgICAgICAgICBpZiAoc3ZnKSB7XG4gICAgICAgICAgICAgICAgaiA9IGsgPSAwO1xuICAgICAgICAgICAgICAgIHdoaWxlIChqIDwgcG9pbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBkID0gZHJhd2luZ3NbaV1baysrXTtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdDJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2MnOiAgIG4gPSAzOyBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ1EnOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAncSc6ICAgbiA9IDI7IGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiAgICBuID0gMTsgIC8vICAnTScsICdtJywgJ0wnLCAnbCcsIC4uLlxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHN0ciArPSBkO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAobi0tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHIgKz0gcG9pbnRzW2pdLngudG9GaXhlZCg0KSArICcsJyArIHBvaW50c1tqXS55LnRvRml4ZWQoNCkgKyAnICc7XG4gICAgICAgICAgICAgICAgICAgICAgICBqICs9IDE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vICB2bWwgaW4gSUU4IGNhbiBzdXBwb3J0IG9ubHkgaW50ZWdlciB2YWx1ZXMgaW4gJ3BhdGgnLCBzb3JyeSBhYm91dCBsb3NzIG9mIHByZWNpc2lvblxuICAgICAgICAgICAgICAgIGogPSBrID0gMDtcbiAgICAgICAgICAgICAgICB3aGlsZSAoaiA8IHBvaW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgZCA9IGRyYXdpbmdzW2ldW2srK107XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnTSc6ICAgZCA9ICdtJzsgbiA9IDE7IGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnbSc6ICAgZCA9ICd0JzsgbiA9IDE7IGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnTCc6ICAgZCA9ICdsJzsgbiA9IDE7IGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnbCc6ICAgZCA9ICdyJzsgbiA9IDE7IGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnQyc6ICAgZCA9ICdjJzsgbiA9IDM7IGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnYyc6ICAgZCA9ICd2JzsgbiA9IDM7IGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnUSc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gIFZNTCBzcGVjIGhhcyAncWInIGNvbW1hbmQgaW4gJ3YnIGF0dHJpYnV0ZSBzdHJpbmcgYnV0IG5vICdyZWxhdGl2ZVRvJyBjb21wbGltZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gIFNvIHdlJ2xsIGVtdWxhdGUgQ3ViaWMgQsOpemllciBjdXJ2ZSBieSBhcHBseWluZyBRdWFkcmF0aWMgdmFyaWFudCBpbiBib3RoIGNhc2VzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gIFRPRE86IEJvdGggY29udHJvbCBwb2ludHMgd2lsbCB1c2UgdGhlIHNhbWUgdmFsdWUgYnV0IHRoaXMgaXMgbm90IHRydWUgc29sdXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHIgKz0gJ0MnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9pbnRzW2pdLngudG9GaXhlZCgwKSArICcsJyArIHBvaW50c1tqXS55LnRvRml4ZWQoMCkgKyAnICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb2ludHNbal0ueC50b0ZpeGVkKDApICsgJywnICsgcG9pbnRzW2pdLnkudG9GaXhlZCgwKSArICcgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50c1tqICsgMV0ueC50b0ZpeGVkKDApICsgJywnICsgcG9pbnRzW2ogKyAxXS55LnRvRml4ZWQoMCkgKyAnICc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaiArPSAyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3EnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ciArPSAnYycgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb2ludHNbal0ueC50b0ZpeGVkKDApICsgJywnICsgcG9pbnRzW2pdLnkudG9GaXhlZCgwKSArICcgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50c1tqXS54LnRvRml4ZWQoMCkgKyAnLCcgKyBwb2ludHNbal0ueS50b0ZpeGVkKDApICsgJyAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9pbnRzW2ogKyAxXS54LnRvRml4ZWQoMCkgKyAnLCcgKyBwb2ludHNbaiArIDFdLnkudG9GaXhlZCgwKSArICcgJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqICs9IDI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZCA9ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG4gPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiAgICBuID0gMTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzdHIgKz0gZDtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKG4tLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RyICs9IHBvaW50c1tqXS54LnRvRml4ZWQoMCkgKyAnLCcgKyBwb2ludHNbal0ueS50b0ZpeGVkKDApICsgJyAnO1xuICAgICAgICAgICAgICAgICAgICAgICAgaiArPSAxO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzdHIgKz0gY2xvc2VkID8gKHN2ZyA/ICd6JyA6ICd4JykgOiAnJztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNWRyBjb21wbGFpbnMgYWJvdXQgZW1wdHkgcGF0aCBzdHJpbmdzXG4gICAgICAgIHJldHVybiBzdHIgfHwgJ20wLDAnO1xuICAgIH1cbn0pO1xuIiwiLypcbiAqIERHQmV6aWVyQ3VydmVzIGlzIGEgY29sbGVjdGlvbiBvZiB0aHJlZSBjbGFzc2VzOlxuICogT3JpZ2luYWwgREcuQmV6aWVyIGNsYXNzIHByb3ZpZGVzIGJhc2ljIG1hdGggZm9yIEN1YmljIGFuZCBRdWFkcmF0aWMgQsOpemllciBjdXJ2ZXNcbiAqIERHLlRpbWVCZXppZXIgdXNlZCBpbiBhbmltYXRpb24gZWZmZWN0cyBpdCBjYW4gcmV0dXJuICdEaXN0YW5jZScgKFkpIGJ5IFRpbWUgKFgpIHZhbHVlXG4gKiBERy5BcmNCZXppZXIgY2FuIHJldHVybiAndCcgdmFsdWUgYnkgY3VydmUncyBzZWdtZW50IGxlbmd0aFxuICogQWN0dWFsIGNhbGN1bGF0aW9ucyBjYW4gYmUgdmVyeSBoYXJkIChpbiBtYXRoIHRlcm1zKSBzbyB3ZSB1c2UgTFVUJ3MgdG8gb3B0aW1pemUgdGhlbVxuICpcbiAqIE9yaWdpbmFsIGlkZWFzIGNvbWUgZnJvbSB0aGlzIHNvdXJjZTogICBodHRwczovL3BvbWF4LmdpdGh1Yi5pby9iZXppZXJpbmZvL1xuICovXG5cbkRHLkJlemllciA9IERHLkNsYXNzLmV4dGVuZCh7XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSBjdXJ2ZSBvYmplY3QgYnkgcHJvdmlkZWQgY29udHJvbCBwb2ludHNcbiAgICAgKiBAcGFyYW0ge0FycmF5PERHLlBvaW50Pn0gY29vcmRzIEN1cnZlJ3MgY29udHJvbCBwb2ludHMgaW4gREcuUG9pbnQgZm9ybWF0ICh1cCB0byBmb3VyIGNvbnRyb2wgcG9pbnRzIHN1cHBvcnRlZClcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtjbG9uZV0gQ2xvbmUgb3JpZ2luYWwgcG9pbnRzIG9yIG5vdCAoRGVmYXVsdClcbiAgICAgKi9cbiAgICBpbml0aWFsaXplOiBmdW5jdGlvbihjb29yZHMsIGNsb25lKSB7XG4gICAgICAgIGlmIChjbG9uZSkge1xuICAgICAgICAgICAgdGhpcy5wb2ludHMgPSBjb29yZHMubWFwKGZ1bmN0aW9uKGNvb3JkKSB7IHJldHVybiBjb29yZC5jbG9uZSgpOyB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucG9pbnRzID0gY29vcmRzO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZHBvaW50cyA9IHRoaXMuX2dldERlcml2YXRpdmVzKCk7XG4gICAgICAgIHRoaXMub3JkZXIgPSB0aGlzLnBvaW50cy5sZW5ndGggLSAxO1xuICAgICAgICB0aGlzLl9sdXQgPSBbXTtcbiAgICB9LFxuXG4gICAgZ2V0UG9pbnQ6IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgdmFyIHAgPSB0aGlzLnBvaW50cztcbiAgICAgICAgdmFyIG10LCBtdDIsIHQyO1xuICAgICAgICB2YXIgYSwgYiwgYywgZDtcblxuICAgICAgICBpZiAodCA9PT0gMCkgeyByZXR1cm4gcFswXTsgfVxuICAgICAgICBpZiAodCA9PT0gMSkgeyByZXR1cm4gcFt0aGlzLm9yZGVyXTsgfVxuXG4gICAgICAgIG10ID0gMSAtIHQ7XG4gICAgICAgIG10MiA9IG10ICogbXQ7XG4gICAgICAgIHQyID0gdCAqIHQ7XG5cbiAgICAgICAgaWYgKHRoaXMub3JkZXIgPiAyKSB7XG4gICAgICAgICAgICBhID0gbXQyICogbXQ7XG4gICAgICAgICAgICBiID0gbXQyICogdCAqIDM7XG4gICAgICAgICAgICBjID0gbXQgKiB0MiAqIDM7XG4gICAgICAgICAgICBkID0gdCAqIHQyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcCA9IFtwWzBdLCBwWzFdLCBwWzJdLCB7eDogMCwgeTogMH1dO1xuICAgICAgICAgICAgYSA9IG10MjtcbiAgICAgICAgICAgIGIgPSBtdCAqIHQgKiAyO1xuICAgICAgICAgICAgYyA9IHQyO1xuICAgICAgICAgICAgZCA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IERHLlBvaW50KFxuICAgICAgICAgICAgYSAqIHBbMF0ueCArIGIgKiBwWzFdLnggKyBjICogcFsyXS54ICsgZCAqIHBbM10ueCxcbiAgICAgICAgICAgIGEgKiBwWzBdLnkgKyBiICogcFsxXS55ICsgYyAqIHBbMl0ueSArIGQgKiBwWzNdLnlcbiAgICAgICAgKTtcbiAgICB9LFxuXG4gICAgZGVyaXZhdGl2ZTogZnVuY3Rpb24odCkge1xuICAgICAgICB2YXIgcCA9IHRoaXMuZHBvaW50c1swXTtcbiAgICAgICAgdmFyIG10ID0gMSAtIHQ7XG4gICAgICAgIHZhciBhLCBiLCBjO1xuXG4gICAgICAgIGlmICh0aGlzLm9yZGVyID4gMikge1xuICAgICAgICAgICAgYSA9IG10ICogbXQ7XG4gICAgICAgICAgICBiID0gbXQgKiB0ICogMjtcbiAgICAgICAgICAgIGMgPSB0ICogdDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHAgPSBbcFswXSwgcFsxXSwge3g6IDAsIHk6IDB9XTtcbiAgICAgICAgICAgIGEgPSBtdDsgYiA9IHQ7IGMgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBERy5Qb2ludChcbiAgICAgICAgICAgIGEgKiBwWzBdLnggKyBiICogcFsxXS54ICsgYyAqIHBbMl0ueCxcbiAgICAgICAgICAgIGEgKiBwWzBdLnkgKyBiICogcFsxXS55ICsgYyAqIHBbMl0ueVxuICAgICAgICApO1xuICAgIH0sXG5cbiAgICBnZXRMZW5ndGg6IGZ1bmN0aW9uKCkge1xuICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBjYW1lbGNhc2UgKi9cbiAgICAgICAgdmFyIHdfaSA9IERHLkJlemllci5XRUlHSFQ7XG4gICAgICAgIHZhciB4X2kgPSBERy5CZXppZXIuQUJTQ0lTU0E7XG4gICAgICAgIHZhciB6ID0gMC41O1xuICAgICAgICB2YXIgc3VtID0gMDtcbiAgICAgICAgdmFyIGQsIGwsIHQ7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB4X2kubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHQgPSB6ICogeF9pW2ldICsgejtcbiAgICAgICAgICAgIGQgPSB0aGlzLmRlcml2YXRpdmUodCk7XG4gICAgICAgICAgICBsID0gZC54ICogZC54ICsgZC55ICogZC55O1xuICAgICAgICAgICAgc3VtICs9IHdfaVtpXSAqIE1hdGguc3FydChsKTtcbiAgICAgICAgfVxuICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIGNhbWVsY2FzZSAqL1xuXG4gICAgICAgIHJldHVybiB6ICogc3VtO1xuICAgIH0sXG5cbiAgICBnZXRDdXJ2ZUJlZm9yZTogZnVuY3Rpb24oeikge1xuICAgICAgICB2YXIgcCA9IHRoaXMucG9pbnRzO1xuICAgICAgICB2YXIgejIsIHozLCBteiwgbXoyLCBtejM7XG4gICAgICAgIHZhciBiJDMsIGIkNCwgYyQ0O1xuICAgICAgICB2YXIgY3VydmU7XG5cbiAgICAgICAgaWYgKHogPT09IDEpIHsgcmV0dXJuIHRoaXMuY2xvbmUoKTsgfVxuXG4gICAgICAgIGN1cnZlID0gW107XG4gICAgICAgIHoyID0geiAqIHo7XG4gICAgICAgIG16ID0geiAtIDE7XG4gICAgICAgIG16MiA9IG16ICogbXo7XG5cbiAgICAgICAgY3VydmVbMF0gPSBuZXcgREcuUG9pbnQoXG4gICAgICAgICAgICBwWzBdLngsXG4gICAgICAgICAgICBwWzBdLnlcbiAgICAgICAgKTtcblxuICAgICAgICBjdXJ2ZVsxXSA9IG5ldyBERy5Qb2ludChcbiAgICAgICAgICAgIHogKiBwWzFdLnggLSBteiAqIHBbMF0ueCxcbiAgICAgICAgICAgIHogKiBwWzFdLnkgLSBteiAqIHBbMF0ueVxuICAgICAgICApO1xuXG4gICAgICAgIGIkMyA9IHogKiBteiAqIDI7XG4gICAgICAgIGN1cnZlWzJdID0gbmV3IERHLlBvaW50KFxuICAgICAgICAgICAgejIgKiBwWzJdLnggLSBiJDMgKiBwWzFdLnggKyBtejIgKiBwWzBdLngsXG4gICAgICAgICAgICB6MiAqIHBbMl0ueSAtIGIkMyAqIHBbMV0ueSArIG16MiAqIHBbMF0ueVxuICAgICAgICApO1xuXG4gICAgICAgIGlmICh0aGlzLm9yZGVyID4gMikge1xuICAgICAgICAgICAgejMgPSB6MiAqIHo7XG4gICAgICAgICAgICBtejMgPSBtejIgKiBtejtcbiAgICAgICAgICAgIGIkNCA9IHoyICogbXogKiAzO1xuICAgICAgICAgICAgYyQ0ID0geiAqIG16MiAqIDM7XG4gICAgICAgICAgICBjdXJ2ZVszXSA9IG5ldyBERy5Qb2ludChcbiAgICAgICAgICAgICAgICB6MyAqIHBbM10ueCAtIGIkNCAqIHBbMl0ueCArIGMkNCAqIHBbMV0ueCAtIG16MyAqIHBbMF0ueCxcbiAgICAgICAgICAgICAgICB6MyAqIHBbM10ueSAtIGIkNCAqIHBbMl0ueSArIGMkNCAqIHBbMV0ueSAtIG16MyAqIHBbMF0ueVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgREcuQmV6aWVyKGN1cnZlKTtcbiAgICB9LFxuXG4gICAgZ2V0Q3VydmVBZnRlcjogZnVuY3Rpb24oeikge1xuICAgICAgICB2YXIgcCA9IHRoaXMucG9pbnRzO1xuICAgICAgICB2YXIgbiA9IHRoaXMub3JkZXI7XG4gICAgICAgIHZhciB6MiwgejMsIG16LCBtejIsIG16MztcbiAgICAgICAgdmFyIGIkMywgYiQ0LCBjJDQ7XG4gICAgICAgIHZhciBjdXJ2ZTtcblxuICAgICAgICBpZiAoeiA9PT0gMSkgeyByZXR1cm4gdGhpcy5jbG9uZSgpOyB9XG5cbiAgICAgICAgY3VydmUgPSBbXTtcbiAgICAgICAgejIgPSB6ICogejtcbiAgICAgICAgbXogPSB6IC0gMTtcbiAgICAgICAgbXoyID0gbXogKiBtejtcblxuICAgICAgICBjdXJ2ZVtuXSA9IG5ldyBERy5Qb2ludChcbiAgICAgICAgICAgIHBbbl0ueCxcbiAgICAgICAgICAgIHBbbl0ueVxuICAgICAgICApO1xuXG4gICAgICAgIGN1cnZlWy0tbl0gPSBuZXcgREcuUG9pbnQoXG4gICAgICAgICAgICB6ICogcFtuICsgMV0ueCAtIG16ICogcFtuXS54LFxuICAgICAgICAgICAgeiAqIHBbbiArIDFdLnkgLSBteiAqIHBbbl0ueVxuICAgICAgICApO1xuXG4gICAgICAgIGIkMyA9IHogKiBteiAqIDI7XG4gICAgICAgIGN1cnZlWy0tbl0gPSBuZXcgREcuUG9pbnQoXG4gICAgICAgICAgICB6MiAqIHBbbiArIDJdLnggLSBiJDMgKiBwW24gKyAxXS54ICsgbXoyICogcFtuXS54LFxuICAgICAgICAgICAgejIgKiBwW24gKyAyXS55IC0gYiQzICogcFtuICsgMV0ueSArIG16MiAqIHBbbl0ueVxuICAgICAgICApO1xuXG4gICAgICAgIGlmICh0aGlzLm9yZGVyID4gMikge1xuICAgICAgICAgICAgejMgPSB6MiAqIHo7XG4gICAgICAgICAgICBtejMgPSBtejIgKiBtejtcbiAgICAgICAgICAgIGIkNCA9IHoyICogbXogKiAzO1xuICAgICAgICAgICAgYyQ0ID0geiAqIG16MiAqIDM7XG4gICAgICAgICAgICBjdXJ2ZVstLW5dID0gbmV3IERHLlBvaW50KFxuICAgICAgICAgICAgICAgIHozICogcFtuICsgM10ueCAtIGIkNCAqIHBbbiArIDJdLnggKyBjJDQgKiBwW24gKyAxXS54IC0gbXozICogcFtuXS54LFxuICAgICAgICAgICAgICAgIHozICogcFtuICsgM10ueSAtIGIkNCAqIHBbbiArIDJdLnkgKyBjJDQgKiBwW24gKyAxXS55IC0gbXozICogcFtuXS55XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBERy5CZXppZXIoY3VydmUpO1xuICAgIH0sXG5cbiAgICBfZ2V0RGVyaXZhdGl2ZXM6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcCA9IHRoaXMucG9pbnRzO1xuICAgICAgICB2YXIgZCwgYywgaiwgbGlzdDtcbiAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuXG4gICAgICAgIGZvciAoZCA9IHAubGVuZ3RoLCBjID0gZCAtIDE7IGQgPiAxOyBkLS0sIGMtLSkge1xuICAgICAgICAgICAgbGlzdCA9IFtdO1xuICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IGM7IGorKykge1xuICAgICAgICAgICAgICAgIGxpc3QucHVzaChuZXcgREcuUG9pbnQoXG4gICAgICAgICAgICAgICAgICAgIGMgKiAocFtqICsgMV0ueCAtIHBbal0ueCksXG4gICAgICAgICAgICAgICAgICAgIGMgKiAocFtqICsgMV0ueSAtIHBbal0ueSlcbiAgICAgICAgICAgICAgICApKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKGxpc3QpO1xuICAgICAgICAgICAgcCA9IGxpc3Q7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0sXG5cbiAgICBnZXRMVVQ6IGZ1bmN0aW9uKHN0ZXBzKSB7XG4gICAgICAgIHN0ZXBzID0gc3RlcHMgfHwgMTI1O1xuXG4gICAgICAgIGlmICh0aGlzLl9sdXQubGVuZ3RoICE9PSBzdGVwcyArIDEpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm9yZGVyID4gMikge1xuICAgICAgICAgICAgICAgIHRoaXMuX3NldExVVDMoc3RlcHMpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zZXRMVVQyKHN0ZXBzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLl9sdXQ7XG4gICAgfSxcblxuICAgIF9zZXRMVVQyOiBmdW5jdGlvbihzdGVwcykge1xuICAgICAgICB2YXIgbHV0ID0gdGhpcy5fbHV0ID0gW107XG4gICAgICAgIHZhciBwID0gdGhpcy5wb2ludHM7XG4gICAgICAgIHZhciB0LCBtdDtcbiAgICAgICAgdmFyIGEsIGIsIGM7XG5cbiAgICAgICAgbHV0LnB1c2goe3g6IHBbMF0ueCwgeTogcFswXS55LCBsOiAwfSk7XG4gICAgICAgIGZvciAodmFyIHMgPSAxOyBzIDwgc3RlcHM7IHMrKykge1xuICAgICAgICAgICAgdCA9IHMgLyBzdGVwcztcbiAgICAgICAgICAgIG10ID0gMSAtIHQ7XG4gICAgICAgICAgICBhID0gbXQgKiBtdDtcbiAgICAgICAgICAgIGIgPSBtdCAqIHQgKiAyO1xuICAgICAgICAgICAgYyA9IHQgKiB0O1xuICAgICAgICAgICAgbHV0LnB1c2goe1xuICAgICAgICAgICAgICAgIHg6IGEgKiBwWzBdLnggKyBiICogcFsxXS54ICsgYyAqIHBbMl0ueCxcbiAgICAgICAgICAgICAgICB5OiBhICogcFswXS55ICsgYiAqIHBbMV0ueSArIGMgKiBwWzJdLnlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGx1dC5wdXNoKHt4OiBwWzJdLngsIHk6IHBbMl0ueSwgbDogMH0pO1xuICAgIH0sXG5cbiAgICBfc2V0TFVUMzogZnVuY3Rpb24oc3RlcHMpIHtcbiAgICAgICAgdmFyIGx1dCA9IHRoaXMuX2x1dCA9IFtdO1xuICAgICAgICB2YXIgcCA9IHRoaXMucG9pbnRzO1xuICAgICAgICB2YXIgdCwgdDIsIG10LCBtdDI7XG4gICAgICAgIHZhciBhLCBiLCBjLCBkO1xuXG4gICAgICAgIGx1dC5wdXNoKHt4OiBwWzBdLngsIHk6IHBbMF0ueSwgbDogMH0pO1xuICAgICAgICBmb3IgKHZhciBzID0gMTsgcyA8IHN0ZXBzOyBzKyspIHtcbiAgICAgICAgICAgIHQgPSBzIC8gc3RlcHM7XG4gICAgICAgICAgICBtdCA9IDEgLSB0O1xuICAgICAgICAgICAgbXQyID0gbXQgKiBtdDtcbiAgICAgICAgICAgIHQyID0gdCAqIHQ7XG4gICAgICAgICAgICBhID0gbXQyICogbXQ7XG4gICAgICAgICAgICBiID0gbXQyICogdCAqIDM7XG4gICAgICAgICAgICBjID0gbXQgKiB0MiAqIDM7XG4gICAgICAgICAgICBkID0gdCAqIHQyO1xuICAgICAgICAgICAgbHV0LnB1c2goe1xuICAgICAgICAgICAgICAgIHg6IGEgKiBwWzBdLnggKyBiICogcFsxXS54ICsgYyAqIHBbMl0ueCArIGQgKiBwWzNdLngsXG4gICAgICAgICAgICAgICAgeTogYSAqIHBbMF0ueSArIGIgKiBwWzFdLnkgKyBjICogcFsyXS55ICsgZCAqIHBbM10ueVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgbHV0LnB1c2goe3g6IHBbM10ueCwgeTogcFszXS55LCBsOiAwfSk7XG4gICAgfSxcblxuICAgIGNsb25lOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBERy5CZXppZXIodGhpcy5wb2ludHMsIHRydWUpO1xuICAgIH1cbn0pO1xuXG5ERy5iZXppZXIgPSBmdW5jdGlvbihjb29yZHMpIHtcbiAgICBpZiAodHlwZW9mIGNvb3JkcyA9PT0gJ251bWJlcicgfHwgY29vcmRzIGluc3RhbmNlb2YgREcuUG9pbnQpIHtcbiAgICAgICAgY29vcmRzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGNvb3Jkc1swXSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgaWYgKGNvb3Jkcy5sZW5ndGggPCA3KSB7XG4gICAgICAgICAgICBjb29yZHMgPSBbXG4gICAgICAgICAgICAgICAgbmV3IERHLlBvaW50KGNvb3Jkc1swXSwgY29vcmRzWzFdKSxcbiAgICAgICAgICAgICAgICBuZXcgREcuUG9pbnQoY29vcmRzWzJdLCBjb29yZHNbM10pLFxuICAgICAgICAgICAgICAgIG5ldyBERy5Qb2ludChjb29yZHNbNF0sIGNvb3Jkc1s1XSlcbiAgICAgICAgICAgIF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb29yZHMgPSBbXG4gICAgICAgICAgICAgICAgbmV3IERHLlBvaW50KGNvb3Jkc1swXSwgY29vcmRzWzFdKSxcbiAgICAgICAgICAgICAgICBuZXcgREcuUG9pbnQoY29vcmRzWzJdLCBjb29yZHNbM10pLFxuICAgICAgICAgICAgICAgIG5ldyBERy5Qb2ludChjb29yZHNbNF0sIGNvb3Jkc1s1XSksXG4gICAgICAgICAgICAgICAgbmV3IERHLlBvaW50KGNvb3Jkc1s2XSwgY29vcmRzWzddKVxuICAgICAgICAgICAgXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IERHLkJlemllcihjb29yZHMpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBuZXcgREcuQmV6aWVyKGNvb3JkcywgdHJ1ZSk7XG4gICAgfVxufTtcblxuLyogZXNsaW50LWRpc2FibGUgaW5kZW50ICovXG5ERy5CZXppZXIuV0VJR0hUID0gW1xuICAgIDAuMzYyNjgzNzgzMzc4MzYyMCxcbiAgICAwLjM2MjY4Mzc4MzM3ODM2MjAsXG4gICAgMC4zMTM3MDY2NDU4Nzc4ODczLFxuICAgIDAuMzEzNzA2NjQ1ODc3ODg3MyxcbiAgICAwLjIyMjM4MTAzNDQ1MzM3NDUsXG4gICAgMC4yMjIzODEwMzQ0NTMzNzQ1LFxuICAgIDAuMTAxMjI4NTM2MjkwMzc2MyxcbiAgICAwLjEwMTIyODUzNjI5MDM3NjNcbl07XG5ERy5CZXppZXIuQUJTQ0lTU0EgPSBbXG4gICAtMC4xODM0MzQ2NDI0OTU2NDk4LFxuICAgIDAuMTgzNDM0NjQyNDk1NjQ5OCxcbiAgIC0wLjUyNTUzMjQwOTkxNjMyOTAsXG4gICAgMC41MjU1MzI0MDk5MTYzMjkwLFxuICAgLTAuNzk2NjY2NDc3NDEzNjI2NyxcbiAgICAwLjc5NjY2NjQ3NzQxMzYyNjcsXG4gICAtMC45NjAyODk4NTY0OTc1MzYzLFxuICAgIDAuOTYwMjg5ODU2NDk3NTM2M1xuXTtcbi8qIGVzbGludC1lbmFibGUgaW5kZW50ICovXG5cblxuLy8gIFRoaXMgY3VydmUgaXMgbW9ub3RvbmljYWxseSBvcmRlcmVkIGJ5ICdYJyBjb29yZGluYXRlIGFuZCBoYXMgUFswXSA9IHswLCAwfSBhbmQgUFszXSA9IHsxLCAxfVxuLy8gIFdlIGNhbiB1dGlsaXplIHRoaXMgZmFjdHMgdG8gc2hvcnRjdXQgY2FsY3VsYXRpb25zXG5ERy5UaW1lQmV6aWVyID0gREcuQmV6aWVyLmV4dGVuZCh7XG4gICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oY29udHJvbFBvaW50MSwgY29udHJvbFBvaW50MiwgY2xvbmUpIHtcbiAgICAgICAgREcuQmV6aWVyLnByb3RvdHlwZS5pbml0aWFsaXplLmNhbGwoXG4gICAgICAgICAgICB0aGlzLFxuICAgICAgICAgICAgW0RHLlRpbWVCZXppZXIuU1RBUlQsIGNvbnRyb2xQb2ludDEsIGNvbnRyb2xQb2ludDIsIERHLlRpbWVCZXppZXIuRU5EXSxcbiAgICAgICAgICAgIGNsb25lXG4gICAgICAgICk7XG4gICAgfSxcblxuICAgIGdldFlieVg6IGZ1bmN0aW9uKHgpIHtcbiAgICAgICAgdmFyIGx1dCA9IHRoaXMuZ2V0TFVUKCk7XG4gICAgICAgIHZhciBtYXggPSBsdXQubGVuZ3RoIC0gMTtcbiAgICAgICAgdmFyIG1pbiA9IDA7XG4gICAgICAgIHZhciBtaWQ7XG5cbiAgICAgICAgaWYgKHggPD0gMCkgeyByZXR1cm4gMDsgfVxuICAgICAgICBpZiAoeCA+PSAxKSB7IHJldHVybiAxOyB9XG5cbiAgICAgICAgLy8gICdYJyBpcyBtb25vdG9uaWNhbGx5IGluY3JlYXNpbmcgc28gd2UgY2FuIGRvIGEgc2ltcGxlIGJpbmFyeSBzZWFyY2ggKExVVClcbiAgICAgICAgLy8gIGFuZCB0aGVuIGZpbmUtdHVuZSB0aGUgcmVzdWx0IGJ5IGxpbmVhciBpbnRlcnBvbGF0aW9uIGFzc3VtaW5nICdZJyBpcyBub3QgY2hhbmdlZCBzbyByYWRpY2FsbHlcbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgIG1pZCA9IG1pbiArIChtYXggLSBtaW4gPj4gMSk7XG4gICAgICAgICAgICBpZiAoeCA8IGx1dFttaWRdLngpIHtcbiAgICAgICAgICAgICAgICBtYXggPSBtaWQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG1pbiA9IG1pZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChtYXggLSBtaW4gPCAyKSB7IGJyZWFrOyB9XG4gICAgICAgIH1cbiAgICAgICAgeCA9ICh4IC0gbHV0W21pbl0ueCkgLyAobHV0W21heF0ueCAtIGx1dFttaW5dLngpO1xuXG4gICAgICAgIHJldHVybiAobHV0W21pbl0ueSArIChsdXRbbWF4XS55IC0gbHV0W21pbl0ueSkgKiB4KTtcbiAgICB9LFxuXG4gICAgZ2V0TFVUOiBmdW5jdGlvbihzdGVwcykge1xuICAgICAgICB2YXIgcCA9IHRoaXMucG9pbnRzO1xuICAgICAgICB2YXIgdCwgdDIsIG10O1xuICAgICAgICB2YXIgYiwgYywgZDtcbiAgICAgICAgdmFyIGx1dDtcblxuICAgICAgICBzdGVwcyA9IHN0ZXBzIHx8IDI0MDtcbiAgICAgICAgaWYgKHRoaXMuX2x1dC5sZW5ndGggPT09IHN0ZXBzICsgMSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2x1dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2x1dCA9IGx1dCA9IFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgbHV0LnB1c2goe3g6IDAsIHk6IDB9KTtcbiAgICAgICAgZm9yICh2YXIgcyA9IDE7IHMgPCBzdGVwczsgcysrKSB7XG4gICAgICAgICAgICB0ID0gcyAvIHN0ZXBzO1xuICAgICAgICAgICAgbXQgPSAxIC0gdDtcbiAgICAgICAgICAgIHQyID0gdCAqIHQ7XG4gICAgICAgICAgICAvLyAgV2UgZG9uJ3QgbmVlZCAnYScgY29lZmZpY2llbnQgYmVjYXVzZSBwWzBdIGlzIHswLCAwfVxuICAgICAgICAgICAgYiA9IG10ICogbXQgKiB0ICogMztcbiAgICAgICAgICAgIGMgPSBtdCAqIHQyICogMztcbiAgICAgICAgICAgIGQgPSB0ICogdDI7XG4gICAgICAgICAgICBsdXQucHVzaCh7XG4gICAgICAgICAgICAgICAgeDogYiAqIHBbMV0ueCArIGMgKiBwWzJdLnggKyBkLFxuICAgICAgICAgICAgICAgIHk6IGIgKiBwWzFdLnkgKyBjICogcFsyXS55ICsgZFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgbHV0LnB1c2goe3g6IDEsIHk6IDF9KTtcblxuICAgICAgICByZXR1cm4gbHV0O1xuICAgIH0sXG5cbiAgICBjbG9uZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBuZXcgREcuVGltZUJlemllcih0aGlzLnBvaW50cywgdHJ1ZSk7XG4gICAgfVxufSk7XG5cbkRHLlRpbWVCZXppZXIuU1RBUlQgPSBERy5wb2ludCgwLCAwKTtcbkRHLlRpbWVCZXppZXIuRU5EID0gREcucG9pbnQoMSwgMSk7XG5cblxuLy8gIFRoaXMgaXMgY3ViaWMgQmV6aWVyIGRlc2NyaWJpbmcgY2lyY3VsYXIgYXJjXG5ERy5BcmNCZXppZXIgPSBERy5CZXppZXIuZXh0ZW5kKHtcbiAgICBpbml0aWFsaXplOiBmdW5jdGlvbihjb29yZHMsIGNsb25lKSB7XG4gICAgICAgIERHLkJlemllci5wcm90b3R5cGUuaW5pdGlhbGl6ZS5jYWxsKHRoaXMsIGNvb3JkcywgY2xvbmUpO1xuICAgICAgICB0aGlzLmdldExVVCgpO1xuICAgICAgICB0aGlzLl9zZXRMdXRMZW5ndGhzKCk7XG4gICAgfSxcblxuICAgIGdldFRieUw6IGZ1bmN0aW9uKGwpIHtcbiAgICAgICAgdmFyIGx1dCA9IHRoaXMuZ2V0TFVUKCk7XG4gICAgICAgIHZhciBtYXggPSBsdXQubGVuZ3RoIC0gMTtcbiAgICAgICAgdmFyIG1pbiA9IDA7XG4gICAgICAgIHZhciBtaWQ7XG4gICAgICAgIHZhciB4LCB5O1xuXG4gICAgICAgIGlmIChsIDw9IDApIHsgcmV0dXJuIDA7IH1cbiAgICAgICAgaWYgKGwgPj0gbHV0W21heF0ubCkgeyByZXR1cm4gMTsgfVxuXG4gICAgICAgIC8vICAnTCcgaXMgbW9ub3RvbmljYWxseSBpbmNyZWFzaW5nIHNvIHdlIGNhbiBkbyBhIGJpbmFyeSBzZWFyY2ggKExVVClcbiAgICAgICAgLy8gIGFuZCB0aGVuIGZpbmUtdHVuZSB0aGUgcmVzdWx0IGJ5IGxpbmVhciBpbnRlcnBvbGF0aW9uXG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICBtaWQgPSBtaW4gKyAobWF4IC0gbWluID4+IDEpO1xuICAgICAgICAgICAgaWYgKGwgPCBsdXRbbWlkXS5sKSB7XG4gICAgICAgICAgICAgICAgbWF4ID0gbWlkO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBtaW4gPSBtaWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobWF4IC0gbWluIDwgMikgeyBicmVhazsgfVxuICAgICAgICB9XG4gICAgICAgIGwgPSAobCAtIGx1dFttaW5dLmwpIC8gKGx1dFttYXhdLmwgLSBsdXRbbWluXS5sKTtcblxuICAgICAgICB4ID0gKGx1dFttaW5dLnggKyAobHV0W21heF0ueCAtIGx1dFttaW5dLngpICogbCk7XG4gICAgICAgIHkgPSAobHV0W21pbl0ueSArIChsdXRbbWF4XS55IC0gbHV0W21pbl0ueSkgKiBsKTtcblxuICAgICAgICAvLyAgQlVUIHRoaXMgaXMgYSBwYXJ0IG9mIHN0b3J5LCB3ZSBuZWVkIGEgcHJvamVjdGlvbiBvZiB0aGlzIHBvaW50IHRvIHRoZSBhY3R1YWwgY3VydmUgYW5kIGl0J3MgcmV2ZXJzZSAndCcgdmFsXG4gICAgICAgIHZhciBwLCBkeCwgZHksIHQ7XG4gICAgICAgIHZhciBldCA9IG1heCAvIGx1dC5sZW5ndGg7XG4gICAgICAgIHZhciBkdCA9IG1pbiAvIGx1dC5sZW5ndGg7XG4gICAgICAgIHZhciBzID0gMSAvIGx1dC5sZW5ndGggLyAxMDsgICAgLy8gIFRPRE9cbiAgICAgICAgdmFyIGQgPSBNYXRoLnBvdygyLCA1MykgLSAxO1xuXG4gICAgICAgIGZvciAodCA9IGR0OyBkdCA8IGV0OyBkdCArPSBzKSB7XG4gICAgICAgICAgICBwID0gdGhpcy5nZXRQb2ludChkdCk7XG4gICAgICAgICAgICBkeCA9IHAueCAtIHg7IGR5ID0gcC55IC0geTtcbiAgICAgICAgICAgIGwgPSBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkpO1xuICAgICAgICAgICAgaWYgKGwgPCBkKSB7XG4gICAgICAgICAgICAgICAgZCA9IGw7XG4gICAgICAgICAgICAgICAgdCA9IGR0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfSxcblxuICAgIF9zZXRMdXRMZW5ndGhzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGx1dCA9IHRoaXMuX2x1dDtcbiAgICAgICAgdmFyIGR4LCBkeTtcblxuICAgICAgICBsdXRbMF0ubCA9IDA7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgbHV0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBkeCA9IGx1dFtpXS54IC0gbHV0W2kgLSAxXS54O1xuICAgICAgICAgICAgZHkgPSBsdXRbaV0ueSAtIGx1dFtpIC0gMV0ueTtcbiAgICAgICAgICAgIGx1dFtpXS5sID0gbHV0W2kgLSAxXS5sICsgTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBnZXRMZW5ndGg6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbHV0W3RoaXMuX2x1dC5sZW5ndGggLSAxXS5sO1xuICAgIH0sXG5cbiAgICBjbG9uZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBuZXcgREcuQXJjQmV6aWVyKHRoaXMucG9pbnRzLCB0cnVlKTtcbiAgICB9XG59KTtcbiIsIi8qXG4gKiBERy5BbmltYXRpb24gcHJvdmlkZXMgdGljayAoc3RlcCkgbG9naWMgcmV0dXJuaW5nIHByb2dyZXNzaW9uIHZhbHVlc1xuICogY2FsY3VsYXRlZCBvdmVyIHByb3ZpZGVkIG9yIGN1c3RvbSBCw6l6aWVyIGN1cnZlc1xuICogT3JpZ2luYWwgaW5wdXQgY2FuIGJlIGFycmF5IG9iamVjdCBidHcuLi5cbiAqL1xuXG5ERy5BbmltYXRpb24gPSBERy5FdmVudGVkLmV4dGVuZCh7XG4gICAgb3B0aW9uczoge1xuICAgICAgICAvLyBhbmltYXRpb246IHsgICAgLy8gIE9yIGFycmF5IG9mIG9iamVjdHNcbiAgICAgICAgLy8gICAgIGZ1bmN0aW9uOiBERy5BbmltYXRpb24uRUFTRSxcbiAgICAgICAgLy8gICAgIGR1cmF0aW9uOiAyMDAwLFxuICAgICAgICAvLyAgICAgZnJhbWVzOiBudWxsXG4gICAgICAgIC8vIH1cblxuICAgICAgICAvL29mZnNldDogMFxuICAgICAgICAvL3JlcGVhdDogMFxuICAgIH0sXG5cbiAgICBpbml0aWFsaXplOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICAgIERHLnNldE9wdGlvbnModGhpcywgb3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy5fYW5pbUlEID0gLTE7XG4gICAgICAgIHRoaXMuX3N0YXJ0VGltZSA9IDA7XG4gICAgICAgIHRoaXMuX3J1bm5pbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fYW5pbWF0aW9uID0gbnVsbDtcbiAgICAgICAgdGhpcy5fZHVyYXRpb25zID0gbnVsbDtcbiAgICB9LFxuXG4gICAgc3RhcnQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLnN0b3AoKTtcbiAgICAgICAgdGhpcy5fcHJlcGFyZSgpO1xuXG4gICAgICAgIHRoaXMuX3J1bm5pbmcgPSB0cnVlO1xuXG4gICAgICAgIHRoaXMuZmlyZSgnc3RhcnQnKTtcblxuICAgICAgICAvLyAgRGF0ZS5ub3coKSwgYnV0Li4uIElFOStcbiAgICAgICAgdGhpcy5fc3RhcnRUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG5cbiAgICAgICAgdGhpcy5fYW5pbWF0ZSgpO1xuICAgIH0sXG5cbiAgICBzdG9wOiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuX3J1bm5pbmcpIHtcbiAgICAgICAgICAgIHRoaXMuX3J1bih0aGlzLl9kdXJhdGlvbnMuZ2V0TGVuZ3RoKCkpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIF9wcmVwYXJlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5fYW5pbWF0aW9uID0gREcuVXRpbC5pc0FycmF5KHRoaXMub3B0aW9ucy5hbmltYXRpb24pID8gdGhpcy5vcHRpb25zLmFuaW1hdGlvbiA6IFt0aGlzLm9wdGlvbnMuYW5pbWF0aW9uXTtcblxuICAgICAgICB0aGlzLl9kdXJhdGlvbnMgPSBuZXcgREcuTWV0cmljLlNlZ21lbnRzKCk7XG4gICAgICAgIHRoaXMuX2FuaW1hdGlvbi5mb3JFYWNoKGZ1bmN0aW9uKGFuaW1hdGlvbikge1xuICAgICAgICAgICAgdGhpcy5wdXNoKGFuaW1hdGlvbi5kdXJhdGlvbik7XG4gICAgICAgIH0sIHRoaXMuX2R1cmF0aW9ucyk7XG4gICAgfSxcblxuICAgIF9hbmltYXRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5fYW5pbUlEID0gREcuVXRpbC5yZXF1ZXN0QW5pbUZyYW1lKHRoaXMuX2FuaW1hdGUsIHRoaXMpO1xuICAgICAgICB0aGlzLl9ydW4oKTtcbiAgICB9LFxuXG4gICAgX3J1bjogZnVuY3Rpb24oZWxhcHNlZCkge1xuICAgICAgICB2YXIgZWwsIGluZGV4LCBwcm9ncmVzcztcbiAgICAgICAgLy8gIFBvc3NpYmxlIHNraXAgemVybyBkZWx0YSB0aW1lIGJ1dCB3aG8gY2FyZXM/IVxuICAgICAgICBlbGFwc2VkID0gZWxhcHNlZCA/IGVsYXBzZWQgOiBuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIHRoaXMuX3N0YXJ0VGltZTtcblxuICAgICAgICBpZiAoZWxhcHNlZCA8IHRoaXMuX2R1cmF0aW9ucy5nZXRMZW5ndGgoKSkge1xuICAgICAgICAgICAgaW5kZXggPSB0aGlzLl9kdXJhdGlvbnMuZ2V0SW5kZXgoZWxhcHNlZCk7XG4gICAgICAgICAgICBlbCA9IHRoaXMuX2R1cmF0aW9ucy5nZXRTZWdSYXRpbyhlbGFwc2VkKTtcbiAgICAgICAgICAgIHByb2dyZXNzID0gdGhpcy5fYW5pbWF0aW9uW2luZGV4XVsnZnVuY3Rpb24nXS5nZXRZYnlYKGVsKTtcbiAgICAgICAgICAgIHRoaXMuX3N0ZXAodGhpcy5fZ2V0RnJhbWVWYWx1ZXMoaW5kZXgsIHByb2dyZXNzKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpbmRleCA9IHRoaXMuX2R1cmF0aW9ucy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgdGhpcy5fc3RlcCh0aGlzLl9nZXRGcmFtZVZhbHVlcyhpbmRleCwgMSkpO1xuICAgICAgICAgICAgdGhpcy5fY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBfc3RlcDogZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgIHRoaXMuZmlyZSgnc3RlcCcsIG9iaik7XG4gICAgfSxcblxuICAgIF9jb21wbGV0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIERHLlV0aWwuY2FuY2VsQW5pbUZyYW1lKHRoaXMuX2FuaW1JRCk7XG5cbiAgICAgICAgdGhpcy5fZHVyYXRpb25zID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYW5pbWF0aW9uID0gbnVsbDtcbiAgICAgICAgdGhpcy5fcnVubmluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmZpcmUoJ2VuZCcpO1xuICAgIH0sXG5cbiAgICBfZ2V0RnJhbWVWYWx1ZXM6IGZ1bmN0aW9uKGluZGV4LCBwcm9ncmVzcykge1xuICAgICAgICB2YXIgZnJhbWVzID0gdGhpcy5fYW5pbWF0aW9uW2luZGV4XS5mcmFtZXM7XG4gICAgICAgIHZhciBvYmogPSB7cHJvZ3Jlc3M6IHByb2dyZXNzfTtcbiAgICAgICAgdmFyIGZyLCB0bztcblxuICAgICAgICBpZiAoZnJhbWVzKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gZnJhbWVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGZyYW1lc1trZXldLnByb2dyZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgIG9ialtrZXldID0gZnJhbWVzW2tleV0ucHJvZ3Jlc3MocHJvZ3Jlc3MpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGZyID0gZnJhbWVzW2tleV0uZnJvbTtcbiAgICAgICAgICAgICAgICAgICAgdG8gPSBmcmFtZXNba2V5XS50bztcbiAgICAgICAgICAgICAgICAgICAgb2JqW2tleV0gPSBmciArICh0byAtIGZyKSAqIHByb2dyZXNzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH1cbn0pO1xuXG5ERy5hbmltYXRpb24gPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgcmV0dXJuIG5ldyBERy5BbmltYXRpb24ob3B0aW9ucyk7XG59O1xuXG5ERy5BbmltYXRpb24uTElORUFSICAgICAgICAgPSBuZXcgREcuVGltZUJlemllcihERy5wb2ludCgwLjAwLCAwLjApLCBERy5wb2ludCgxLjAwLCAxLjApKTtcbkRHLkFuaW1hdGlvbi5FQVNFICAgICAgICAgICA9IG5ldyBERy5UaW1lQmV6aWVyKERHLnBvaW50KDAuMjUsIDAuMSksIERHLnBvaW50KDAuMjUsIDEuMCkpO1xuREcuQW5pbWF0aW9uLkVBU0VfSU4gICAgICAgID0gbmV3IERHLlRpbWVCZXppZXIoREcucG9pbnQoMC40MiwgMC4wKSwgREcucG9pbnQoMS4wMCwgMS4wKSk7XG5ERy5BbmltYXRpb24uRUFTRV9JTl9PVVQgICAgPSBuZXcgREcuVGltZUJlemllcihERy5wb2ludCgwLjQyLCAwLjApLCBERy5wb2ludCgwLjU4LCAxLjApKTtcbkRHLkFuaW1hdGlvbi5FQVNFX09VVCAgICAgICA9IG5ldyBERy5UaW1lQmV6aWVyKERHLnBvaW50KDAuMDAsIDAuMCksIERHLnBvaW50KDAuNTgsIDEuMCkpO1xuIiwiLypcbiAqIERHLkVudHJhbmNlIGlzIGEgbWFpbiBjbGFzcyB0aGF0IGhvc3RzIGFjdHVhbCBhcnJvdyBsYXllcnNcbiAqIEl0IG9yY2hlc3RyYXRlcyBhbmltYXRpb24gYW5kIHByb3ZpZGVzIHVzZXIgc3BhY2UgbWV0aG9kcyBsaWtlIC5zaG93KCkgYW5kIC5oaWRlKClcbiAqL1xuXG5ERy5FbnRyYW5jZSA9IERHLkZlYXR1cmVHcm91cC5leHRlbmQoe1xuXG4gICAgb3B0aW9uczoge1xuICAgICAgICB2ZWN0b3JzOiBbXSxcblxuICAgICAgICBmaWxsQ29sb3I6ICcjMDA4NWEwJyxcbiAgICAgICAgc3Ryb2tlQ29sb3I6ICcjZmZmJyxcblxuICAgICAgICBlbmFibGVBbmltYXRpb246IHRydWUsXG4gICAgICAgIGludGVyYWN0aXZlOiBmYWxzZSxcblxuICAgICAgICBhdXRvQ2xvc2U6IHRydWVcbiAgICB9LFxuXG4gICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgICBERy5MYXllckdyb3VwLnByb3RvdHlwZS5pbml0aWFsaXplLmNhbGwodGhpcyk7XG5cbiAgICAgICAgREcuc2V0T3B0aW9ucyh0aGlzLCBvcHRpb25zKTtcblxuICAgICAgICB0aGlzLl9ib3VuZHMgPVxuICAgICAgICAgICAgbmV3IERHLkxhdExuZ0JvdW5kcygpO1xuICAgICAgICB0aGlzLl9hbmltYXRpb25zID0ge1xuICAgICAgICAgICAgYm91bmNlOiBERy5hbmltYXRpb24oREcuRW50cmFuY2UuQk9VTkNFX0FOSU1BVElPTiksXG4gICAgICAgICAgICBwYXRoOiBERy5hbmltYXRpb24oREcuRW50cmFuY2UuUEFUSF9BTklNQVRJT04pXG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5faW5pdEFycm93cygpO1xuXG4gICAgICAgIHRoaXMuX2lzU2hvd24gPSBmYWxzZTtcbiAgICB9LFxuXG4gICAgb25BZGQ6IGZ1bmN0aW9uKG1hcCkge1xuICAgICAgICBERy5MYXllckdyb3VwLnByb3RvdHlwZS5vbkFkZC5jYWxsKHRoaXMsIG1hcCk7XG4gICAgICAgIHRoaXMuc2hvdygpO1xuICAgIH0sXG5cbiAgICBvblJlbW92ZTogZnVuY3Rpb24obWFwKSB7XG4gICAgICAgIHRoaXMuaGlkZSgpO1xuICAgICAgICBERy5MYXllckdyb3VwLnByb3RvdHlwZS5vblJlbW92ZS5jYWxsKHRoaXMsIG1hcCk7XG4gICAgfSxcblxuICAgIGdldEV2ZW50czogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBldmVudHMgPSB7fTtcblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmF1dG9DbG9zZSkge1xuICAgICAgICAgICAgZXZlbnRzWydsYXllcmFkZCddID0gdGhpcy5fcmVtb3ZlRW50cmFuY2U7ICAvLyAgZXNsaW50LWRpc2FibGUtbGluZSBkb3Qtbm90YXRpb25cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmVuYWJsZUFuaW1hdGlvbikge1xuICAgICAgICAgICAgZXZlbnRzWyd6b29tZW5kJ10gPSB0aGlzLl9hbmltYXRlOyAgICAgICAgICAvLyAgZXNsaW50LWRpc2FibGUtbGluZSBkb3Qtbm90YXRpb25cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBldmVudHM7XG4gICAgfSxcblxuICAgIHNob3c6IGZ1bmN0aW9uKGZpdEJvdW5kcykge1xuICAgICAgICBpZiAodGhpcy5fbGF5ZXJzKSB7XG4gICAgICAgICAgICBpZiAoZml0Qm91bmRzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5maXRCb3VuZHMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdGhpcy5faXNTaG93bikge1xuICAgICAgICAgICAgICAgIHRoaXMuX2lzU2hvd24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuZWFjaExheWVyKGZ1bmN0aW9uKGFycm93KSB7XG4gICAgICAgICAgICAgICAgICAgIGFycm93LnNldFZpc2liaWxpdHkodHJ1ZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5lbmFibGVBbmltYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYW5pbWF0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLl9tYXAuZmlyZSgnZW50cmFuY2VzaG93Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgaGlkZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLl9sYXllcnMgJiYgdGhpcy5faXNTaG93bikge1xuICAgICAgICAgICAgdGhpcy5faXNTaG93biA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5lYWNoTGF5ZXIoZnVuY3Rpb24oYXJyb3cpIHtcbiAgICAgICAgICAgICAgICBhcnJvdy5zZXRWaXNpYmlsaXR5KGZhbHNlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5fbWFwLmZpcmUoJ2VudHJhbmNlaGlkZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIGlzU2hvd246IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNTaG93bjtcbiAgICB9LFxuXG4gICAgZ2V0Qm91bmRzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2JvdW5kcztcbiAgICB9LFxuXG4gICAgc2V0RmlsbENvbG9yOiBmdW5jdGlvbihjb2xvcikge1xuICAgICAgICB0aGlzLmVhY2hMYXllcihmdW5jdGlvbihhcnJvdykge1xuICAgICAgICAgICAgYXJyb3cuc2V0U3R5bGUoe2ZpbGxDb2xvcjogY29sb3J9KTtcbiAgICAgICAgfSk7XG4gICAgfSxcblxuICAgIHNldFN0cm9rZUNvbG9yOiBmdW5jdGlvbihjb2xvcikge1xuICAgICAgICB0aGlzLmVhY2hMYXllcihmdW5jdGlvbihhcnJvdykge1xuICAgICAgICAgICAgYXJyb3cuc2V0U3R5bGUoe2NvbG9yOiBjb2xvcn0pO1xuICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgX2luaXRBcnJvd3M6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYmFzZSA9IHtcbiAgICAgICAgICAgIGNvbG9yOiB0aGlzLm9wdGlvbnMuc3Ryb2tlQ29sb3IsXG4gICAgICAgICAgICBmaWxsQ29sb3I6IHRoaXMub3B0aW9ucy5maWxsQ29sb3IsXG4gICAgICAgICAgICBpbnRlcmFjdGl2ZTogdGhpcy5vcHRpb25zLmludGVyYWN0aXZlXG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5vcHRpb25zLnZlY3RvcnNcbiAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24odmVjdG9yKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIERHLldrdC50b0xhdExuZ3ModmVjdG9yKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuZm9yRWFjaChmdW5jdGlvbihsYXRsbmdzKSB7XG4gICAgICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSBERy5VdGlsLmNyZWF0ZShiYXNlKSxcbiAgICAgICAgICAgICAgICAgICAgYm91bmRzID0gREcubGF0TG5nQm91bmRzKGxhdGxuZ3MpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fYm91bmRzLmV4dGVuZChib3VuZHMpO1xuXG4gICAgICAgICAgICAgICAgb3B0aW9ucy5sYXRsbmdzID0gbGF0bG5ncztcbiAgICAgICAgICAgICAgICBvcHRpb25zLmJvdW5kcyA9IGJvdW5kcztcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmVuYWJsZUFuaW1hdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBpZiAobGF0bG5ncy5sZW5ndGggPiAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmFuaW1hdGlvbiA9IHRoaXMuX2FuaW1hdGlvbnMucGF0aDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuYW5pbWF0aW9uID0gdGhpcy5fYW5pbWF0aW9ucy5ib3VuY2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmRpc3RhbmNlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuYWRkTGF5ZXIoREcuZW50cmFuY2UuYXJyb3cob3B0aW9ucykpO1xuICAgICAgICAgICAgfSwgdGhpcyk7XG4gICAgfSxcblxuXG4gICAgX2FuaW1hdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5faXNTaG93bikge1xuICAgICAgICAgICAgdGhpcy5fYW5pbWF0aW9ucy5ib3VuY2Uuc3RhcnQoKTtcbiAgICAgICAgICAgIHRoaXMuX2FuaW1hdGlvbnMucGF0aC5zdGFydCgpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8vICBDdXJyZW50IGxvZ2ljIG9mIG5leHQgZm91ciBtZXRob2RzIGV4dHJhY3RlZCBmcm9tIG9yaWdpbmFsIGFycm93J3MgaW1wbGVtZW50YXRpb25cbiAgICBmaXRCb3VuZHM6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgbWFwID0gdGhpcy5fbWFwLCBmaXRab29tLFxuICAgICAgICAgICAgYm91bmRzID0gdGhpcy5nZXRCb3VuZHMoKTtcblxuICAgICAgICBpZiAoIW1hcC5nZXRCb3VuZHMoKS5jb250YWlucyhib3VuZHMpIHx8ICF0aGlzLl9pc0FsbG93ZWRab29tKCkpIHtcbiAgICAgICAgICAgIGZpdFpvb20gPSB0aGlzLl9nZXRGaXRab29tKCk7XG4gICAgICAgICAgICBpZiAoIW1hcC5wcm9qZWN0RGV0ZWN0b3IuZ2V0UHJvamVjdCgpKSB7XG4gICAgICAgICAgICAgICAgbWFwLm9uY2UoJ21vdmVlbmQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgbWFwLnNldFpvb20odGhpcy5fZ2V0Rml0Wm9vbSgpKTtcbiAgICAgICAgICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1hcC5zZXRWaWV3KGJvdW5kcy5nZXRDZW50ZXIoKSwgZml0Wm9vbSwge2FuaW1hdGU6IHRydWV9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICBfZ2V0Rml0Wm9vbTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tYXAucHJvamVjdERldGVjdG9yLmdldFByb2plY3QoKS5tYXhab29tIHx8IERHLkVudHJhbmNlLlNIT1dfRlJPTV9aT09NO1xuICAgIH0sXG5cbiAgICBfaXNBbGxvd2VkWm9vbTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tYXAuZ2V0Wm9vbSgpID49IERHLkVudHJhbmNlLlNIT1dfRlJPTV9aT09NO1xuICAgIH0sXG5cbiAgICBfcmVtb3ZlRW50cmFuY2U6IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgaWYgKGUubGF5ZXIgaW5zdGFuY2VvZiBERy5Qb3B1cCB8fFxuICAgICAgICAgICAgKGUubGF5ZXIgaW5zdGFuY2VvZiBERy5FbnRyYW5jZSAmJiBlLmxheWVyICE9PSB0aGlzKSkge1xuXG4gICAgICAgICAgICB0aGlzLnJlbW92ZSgpO1xuICAgICAgICB9XG4gICAgfVxufSk7XG5cbkRHLmVudHJhbmNlID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIHJldHVybiBuZXcgREcuRW50cmFuY2Uob3B0aW9ucyk7XG59O1xuXG5ERy5FbnRyYW5jZS5TSE9XX0ZST01fWk9PTSA9IDE2O1xuREcuRW50cmFuY2UuUEFUSF9BTklNQVRJT04gPSB7XG4gICAgYW5pbWF0aW9uOiB7XG4gICAgICAgICdmdW5jdGlvbic6IERHLkFuaW1hdGlvbi5FQVNFX0lOX09VVCxcbiAgICAgICAgJ2R1cmF0aW9uJzogNzUwXG4gICAgfVxufTtcbkRHLkVudHJhbmNlLkJPVU5DRV9BTklNQVRJT04gPSB7XG4gICAgYW5pbWF0aW9uOiBbXG4gICAgICAgIHsnZnVuY3Rpb24nOiBERy5BbmltYXRpb24uRUFTRV9JTl9PVVQsICdkdXJhdGlvbic6IDI1MCwgJ2ZyYW1lcyc6IHsnZGlzdGFuY2UnOiB7J2Zyb20nOiAwLCAndG8nOiAwLjZ9fX0sXG4gICAgICAgIHsnZnVuY3Rpb24nOiBERy5BbmltYXRpb24uRUFTRV9JTiwgJ2R1cmF0aW9uJzogMTM1LCAnZnJhbWVzJzogeydkaXN0YW5jZSc6IHsnZnJvbSc6IDAuNiwgJ3RvJzogMH19fSxcbiAgICAgICAgeydmdW5jdGlvbic6IERHLkFuaW1hdGlvbi5FQVNFX09VVCwgJ2R1cmF0aW9uJzogMTM1LCAnZnJhbWVzJzogeydkaXN0YW5jZSc6IHsnZnJvbSc6IDAsICd0byc6IDAuMTZ9fX0sXG4gICAgICAgIHsnZnVuY3Rpb24nOiBERy5BbmltYXRpb24uRUFTRV9JTiwgJ2R1cmF0aW9uJzogOTAsICdmcmFtZXMnOiB7J2Rpc3RhbmNlJzogeydmcm9tJzogMC4xNiwgJ3RvJzogMH19fSxcbiAgICAgICAgeydmdW5jdGlvbic6IERHLkFuaW1hdGlvbi5FQVNFX09VVCwgJ2R1cmF0aW9uJzogOTAsICdmcmFtZXMnOiB7J2Rpc3RhbmNlJzogeydmcm9tJzogMCwgJ3RvJzogMC4wNn19fSxcbiAgICAgICAgeydmdW5jdGlvbic6IERHLkFuaW1hdGlvbi5FQVNFX0lOLCAnZHVyYXRpb24nOiA1MCwgJ2ZyYW1lcyc6IHsnZGlzdGFuY2UnOiB7J2Zyb20nOiAwLjA2LCAndG8nOiAwfX19XG4gICAgXVxufTtcbiIsIi8qXG4gKiBERy5FbnRyYW5jZS5BcnJvdyBjbGFzcyBob3N0cyB0d28gbGF5ZXJzLCBvbmUgZm9yIGFycm93IGJvZHkgKHBhdGgpIGFuZCBvbmUgZm9yIGFycm93IHRpcFxuICogSXQgb3ZlcnJpZGVzIHByb2plY3Rpb24gZXZlbnRzIGZyb20gaG9zdGVkIGxheWVycyB0byBtaW5pbWl6ZSB0b3RhbCBvdmVyaGVhZFxuICogQWN0dWFsIGNhbGN1bGF0aW9ucyBwcm9kdWNlZCBpbiBERy5BcnJvd1BhdGhUcmFuc2Zvcm0gYW5kIERHLkFycm93VGlwVHJhbnNmb3JtIGNsYXNzZXNcbiAqL1xuXG5ERy5FbnRyYW5jZS5BcnJvdyA9IERHLkZlYXR1cmVHcm91cC5leHRlbmQoe1xuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgICAgREcuTGF5ZXJHcm91cC5wcm90b3R5cGUuaW5pdGlhbGl6ZS5jYWxsKHRoaXMpO1xuXG4gICAgICAgIERHLnNldE9wdGlvbnModGhpcywgb3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy5fcHJvZ3Jlc3MgPSAxO1xuICAgICAgICB0aGlzLl9kaXN0YW5jZSA9IDA7XG4gICAgICAgIHRoaXMuX3Zpc2liaWxpdHkgPSB7XG4gICAgICAgICAgICBpc1Nob3duOiBmYWxzZVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9wb3NpdGlvbiA9XG4gICAgICAgICAgICBvcHRpb25zLmxhdGxuZ3Nbb3B0aW9ucy5sYXRsbmdzLmxlbmd0aCAtIDFdO1xuICAgICAgICB0aGlzLl9zaGFwZSA9XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMuc2hhcGUgfHxcbiAgICAgICAgICAgIERHLkVudHJhbmNlLkFycm93LlNIQVBFO1xuXG4gICAgICAgIHRoaXMuX2FwdCA9IHt9OyAvLyBERy5BcnJvd1BhdGhUcmFuc2Zvcm0gb2JqZWN0cyBieSB6b29tIGxldmVsc1xuICAgICAgICB0aGlzLl9hdHQgPSB7fTsgLy8gREcuQXJyb3dUaXBUcmFuc2Zvcm0gb2JqZWN0cyBieSB6b29tIGxldmVsc1xuICAgIH0sXG5cbiAgICBiZWZvcmVBZGQ6IGZ1bmN0aW9uKG1hcCkge1xuICAgICAgICAvLyAgdGhpcy5fbWFwIGlzIG5vdCBpbml0aWFsaXplZCB5ZXQsIHNvIHdlIGNhbiBmcmVlbHkgYWRkTGF5ZXIocylcbiAgICAgICAgdmFyIG9wdHMgPSB0aGlzLm9wdGlvbnM7XG5cbiAgICAgICAgLy8gIFRPRE86IENoZWNrIENhbnZhcyBwcm9jZXNzaW5nIG9yZGVyXG4gICAgICAgIC8vICBBZGRpdGlvbmFsIGxvZ2ljIHRvIERJU0FCTEUgYW5pbWF0aW9uIG9uIENhbnZhcyBmb3Igbm93IVxuICAgICAgICBpZiAob3B0cy5hbmltYXRpb24gJiYgIW1hcC5vcHRpb25zLnByZWZlckNhbnZhcyAmJiAhREcuQnJvd3Nlci5pZWx0OSkge1xuICAgICAgICAgICAgb3B0cy5hbmltYXRpb24ub24oJ3N0ZXAnLCB0aGlzLl9hbmltYXRpb24sIHRoaXMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb3B0cy5hbmltYXRpb24gPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5wcm9qZWN0aW9uKCk7XG5cbiAgICAgICAgdGhpcy5hZGRMYXllcihuZXcgREcuQ29tcGxleFBhdGgoe1xuICAgICAgICAgICAgbGluZUNhcDogJ2J1dHQnLFxuICAgICAgICAgICAgY29sb3I6IG9wdHMuY29sb3IsXG4gICAgICAgICAgICBmaWxsQ29sb3I6IG9wdHMuZmlsbENvbG9yLFxuICAgICAgICAgICAgaW50ZXJhY3RpdmU6IG9wdHMuaW50ZXJhY3RpdmUsXG4gICAgICAgICAgICB2aXNpYmlsaXR5OiB0aGlzLl92aXNpYmlsaXR5LFxuICAgICAgICAgICAgdHJhbnNmb3JtOiB0aGlzLl9hcHRcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIHRoaXMuYWRkTGF5ZXIobmV3IERHLkNvbXBsZXhQYXRoKHtcbiAgICAgICAgICAgIGxpbmVKb2luOiAnbWl0ZXInLFxuICAgICAgICAgICAgY29sb3I6IG9wdHMuY29sb3IsXG4gICAgICAgICAgICBmaWxsQ29sb3I6IG9wdHMuZmlsbENvbG9yLFxuICAgICAgICAgICAgaW50ZXJhY3RpdmU6IG9wdHMuaW50ZXJhY3RpdmUsXG4gICAgICAgICAgICB2aXNpYmlsaXR5OiB0aGlzLl92aXNpYmlsaXR5LFxuICAgICAgICAgICAgdHJhbnNmb3JtOiB0aGlzLl9hdHRcbiAgICAgICAgfSkpO1xuICAgIH0sXG5cbiAgICBnZXRFdmVudHM6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgem9vbWVuZDogdGhpcy5fcHJvamVjdCxcbiAgICAgICAgICAgIG1vdmVlbmQ6IHRoaXMuX3VwZGF0ZSxcbiAgICAgICAgICAgIHZpZXdyZXNldDogdGhpcy5fcmVzZXRcbiAgICAgICAgfTtcbiAgICB9LFxuXG4gICAgc2V0VmlzaWJpbGl0eTogZnVuY3Rpb24oaXNTaG93bikge1xuICAgICAgICBpZiAodGhpcy5fdmlzaWJpbGl0eS5pc1Nob3duICE9PSBpc1Nob3duKSB7XG4gICAgICAgICAgICB0aGlzLl92aXNpYmlsaXR5LmlzU2hvd24gPSBpc1Nob3duO1xuICAgICAgICAgICAgaWYgKGlzU2hvd24pIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5hbmltYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmVzZXQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX3Jlc2V0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgZ2V0Qm91bmRzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5ib3VuZHM7XG4gICAgfSxcblxuICAgIHByb2plY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgbWFwID0gdGhpcy5fbWFwIHx8IHRoaXMuX21hcFRvQWRkO1xuICAgICAgICB2YXIgem9vbSA9IG1hcCA/IG1hcC5nZXRab29tKCkgOiAwO1xuICAgICAgICB2YXIgdmVydGljZXMgPSB0aGlzLl9zaGFwZS52ZXJ0aWNlc1t6b29tXTtcbiAgICAgICAgdmFyIGRyYXdpbmdzID0gdGhpcy5fc2hhcGUuZHJhd2luZ3Nbem9vbV07XG4gICAgICAgIHZhciBsYXRsbmdzID0gdGhpcy5vcHRpb25zLmxhdGxuZ3M7XG4gICAgICAgIHZhciBzaGFwZSwgcGF0aCwgbGFzdFBvaW50LCBwcmV2UG9pbnQ7XG5cbiAgICAgICAgaWYgKHpvb20gJiYgdmVydGljZXMgJiYgZHJhd2luZ3MpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fYXR0W3pvb21dKSB7XG4gICAgICAgICAgICAgICAgcGF0aCA9IERHLkFycm93UGF0aFRyYW5zZm9ybS5nZXRUcmFuc2xhdGVkUGF0aChtYXAsIGxhdGxuZ3MpO1xuICAgICAgICAgICAgICAgIHNoYXBlID0ge3ZlcnRpY2VzOiB2ZXJ0aWNlcywgZHJhd2luZ3M6IGRyYXdpbmdzfTtcbiAgICAgICAgICAgICAgICB0aGlzLl9hdHRbem9vbV0gPSBuZXcgREcuQXJyb3dUaXBUcmFuc2Zvcm0ocGF0aCwgc2hhcGUpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2FwdFt6b29tXSA9IG5ldyBERy5BcnJvd1BhdGhUcmFuc2Zvcm0ocGF0aCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxhc3RQb2ludCA9IG1hcC5sYXRMbmdUb0xheWVyUG9pbnQodGhpcy5fcG9zaXRpb24pO1xuICAgICAgICAgICAgcHJldlBvaW50ID0gbWFwLmxhdExuZ1RvTGF5ZXJQb2ludChsYXRsbmdzW2xhdGxuZ3MubGVuZ3RoIC0gMl0pO1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9hcHRbem9vbV0uX3B4Qm91bmRzKSB7XG4gICAgICAgICAgICAgICAgLy8gIE9uZS10aW1lIGFjdGlvbiBwZXIgJ3ZpZXdyZXNldCcgZXZlbnRcbiAgICAgICAgICAgICAgICAvLyAgQ2FjaGluZyBfcHhCb3VuZHMgZm9yIHVzaW5nIHdpdGggQ2FudmFzIHJlbmRlcmVyXG4gICAgICAgICAgICAgICAgdGhpcy5fc2V0Qm91bmRzKGxhc3RQb2ludCwgcHJldlBvaW50LCB0aGlzLl9hcHRbem9vbV0sIHRoaXMuX2F0dFt6b29tXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmRpc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgLy8gIEFycm93IHBvc2l0aW9uIHJlY2FsY3VsYXRlZCBmb3IgQm91bmNlIGFuaW1hdGlvbiBlZmZlY3RcbiAgICAgICAgICAgICAgICBsYXN0UG9pbnQgPSBERy5WZXJ0ZXhUcmFuc2Zvcm0uZ2V0U2NhbGVkKGxhc3RQb2ludCwgcHJldlBvaW50LCB0aGlzLl9kaXN0YW5jZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vICBNYWluIGNhbGN1bGF0aW9uc1xuICAgICAgICAgICAgLy8gIEdldCBwYXJ0IG9mIHRoZSBhcnJvdyBwYXRoIGFuZCBtb3ZlIChib3VuZCkgYXJyb3cgdGlwIHRvIGl0XG4gICAgICAgICAgICB0aGlzLl9hcHRbem9vbV0uc3ViUGF0aCh0aGlzLl9wcm9ncmVzcykudHJhbnNsYXRlKGxhc3RQb2ludCk7XG4gICAgICAgICAgICB0aGlzLl9hdHRbem9vbV0uc3ViU2hhcGUodGhpcy5fYXB0W3pvb21dKS50cmFuc2xhdGUobGFzdFBvaW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICBfYW5pbWF0aW9uOiBmdW5jdGlvbihlKSB7XG4gICAgICAgIGlmIChlLmRpc3RhbmNlICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5fZGlzdGFuY2UgPSBlLmRpc3RhbmNlOyAgICAvLyAgYm91bmNlIGFuaW1hdGlvbiBlZmZlY3RcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3Byb2dyZXNzID0gZS5wcm9ncmVzczsgICAgLy8gIHBhdGggYW5pbWF0aW9uIGVmZmVjdFxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl92aXNpYmlsaXR5LmlzU2hvd24pIHtcbiAgICAgICAgICAgIC8vICBUT0RPOiBBZGRpdGlvbmFsIGxvZ2ljIGZvciBhbmltYXRpb24gb24gQ2FudmFzXG4gICAgICAgICAgICAvLyB0aGlzLnByb2plY3Rpb24oKS5pbnZva2UoJ3JlZHJhdycpO1xuXG4gICAgICAgICAgICB0aGlzLl9wcm9qZWN0KCk7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGUoKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBfcHJvamVjdDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMucHJvamVjdGlvbigpLmludm9rZSgnX3Byb2plY3QnKTtcbiAgICB9LFxuXG4gICAgX3VwZGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuaW52b2tlKCdfdXBkYXRlJyk7XG4gICAgfSxcblxuICAgIF9yZXNldDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuX3Jlc2V0Qm91bmRzKCk7XG5cbiAgICAgICAgdGhpcy5fcHJvamVjdCgpO1xuICAgICAgICB0aGlzLl91cGRhdGUoKTtcbiAgICB9LFxuXG4gICAgX3Jlc2V0Qm91bmRzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gIENhbnZhcyByZW5kZXJlciBzcGVjaWZpY1xuICAgICAgICB2YXIgejtcblxuICAgICAgICBmb3IgKHogaW4gdGhpcy5fYXB0KSB7XG4gICAgICAgICAgICB0aGlzLl9hcHRbel0uX3B4Qm91bmRzID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoeiBpbiB0aGlzLl9hdHQpIHtcbiAgICAgICAgICAgIHRoaXMuX2F0dFt6XS5fcHhCb3VuZHMgPSBudWxsO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIF9zZXRCb3VuZHM6IGZ1bmN0aW9uKHBsLCBwcCwgYXB0LCBhdHQpIHtcbiAgICAgICAgdmFyIF9hcHQgPSBhcHQuc3ViUGF0aCgxKS50cmFuc2xhdGUocGwpLnZlcnRpY2VzLFxuICAgICAgICAgICAgX2F0dCA9IGF0dC5zdWJTaGFwZShhcHQpLnRyYW5zbGF0ZShwbCkudmVydGljZXM7XG5cbi8qXG4gICAgICAgIC8vICBUT0RPOiBBZGRpdGlvbmFsIGxvZ2ljIGZvciBhbmltYXRpb24gb24gQ2FudmFzXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuZGlzdGFuY2UpIHtcbiAgICAgICAgICAgIHBsID0gREcuVmVydGV4VHJhbnNmb3JtLmdldFNjYWxlZChwbCwgcHAsIDEpO1xuICAgICAgICAgICAgX2FwdCA9IF9hcHQuY29uY2F0KGFwdC5zdWJQYXRoKDEpLnRyYW5zbGF0ZShwbCkudmVydGljZXMpO1xuICAgICAgICAgICAgX2F0dCA9IF9hdHQuY29uY2F0KGF0dC5zdWJTaGFwZShhcHQpLnRyYW5zbGF0ZShwbCkudmVydGljZXMpO1xuICAgICAgICB9XG4qL1xuICAgICAgICBhcHQuX3B4Qm91bmRzID0gbmV3IERHLkJvdW5kcyhfYXB0KTtcbiAgICAgICAgYXR0Ll9weEJvdW5kcyA9IG5ldyBERy5Cb3VuZHMoX2F0dCk7XG4gICAgfVxufSk7XG5cbkRHLmVudHJhbmNlLmFycm93ID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIHJldHVybiBuZXcgREcuRW50cmFuY2UuQXJyb3cob3B0aW9ucyk7XG59O1xuIiwiLypcbiAqIFByZWRlZmluZWQgYXJyb3cgdGlwc1xuICovXG5cbi8qIGVzbGludC1kaXNhYmxlIGFycmF5LWJyYWNrZXQtc3BhY2luZyAqL1xuREcuRW50cmFuY2UuQXJyb3cuU0hBUEUgPSB7XG4gICAgdmVydGljZXM6IHtcbiAgICAgICAgMTY6IFtcbiAgICAgICAgICAgIFsgLTYuNTAwMCwgIC0xLjgwMDBdLFxuICAgICAgICAgICAgWyAtNi4wNTIyLCAgLTEuODAwMF0sXG4gICAgICAgICAgICBbIC03LjA5NzUsICAtNS4yNTM3XSxcbiAgICAgICAgICAgIFsgLTYuNjYxOSwgIC02LjI1NjVdLCBbIC02LjU5ODAsICAtNi4zNTUwXSwgWyAtNi4xNzU3LCAgLTYuMTQ3MF0sXG4gICAgICAgICAgICBbICAwLjgzNzEsICAtMC4zNTUyXSxcbiAgICAgICAgICAgIFsgIDAuOTI3NSwgIC0wLjE3NjRdLCBbICAwLjkyNzUsICAgMC4xNzY0XSwgWyAgMC44MzcxLCAgIDAuMzU1Ml0sXG4gICAgICAgICAgICBbIC02LjE3NTcsICAgNi4xNDcwXSxcbiAgICAgICAgICAgIFsgLTYuNTk4MCwgICA2LjM1NTBdLCBbIC02LjY2MTksICAgNi4yNTY1XSwgWyAtNy4wOTc1LCAgIDUuMjUzN10sXG4gICAgICAgICAgICBbIC02LjA1MjIsICAgMS44MDAwXSxcbiAgICAgICAgICAgIFsgLTYuNTAwMCwgICAxLjgwMDBdXG4gICAgICAgIF0sXG4gICAgICAgIDE3OiBbXG4gICAgICAgICAgICBbIC05LjAwMDAsICAtMi40MDAwXSxcbiAgICAgICAgICAgIFsgLTcuODg5MCwgIC0yLjQwMDBdLFxuICAgICAgICAgICAgWyAtOS45MjQ1LCAgLTcuMjU0OF0sXG4gICAgICAgICAgICBbIC05LjMzNjMsICAtOC42NDA0XSwgWyAtOS4zNDQ4LCAgLTguNjQ0OF0sIFsgLTguODcxNywgIC04LjM1MDhdLFxuICAgICAgICAgICAgWyAgMS4wMjg1LCAgLTAuMzU1Ml0sXG4gICAgICAgICAgICBbICAxLjExOTAsICAtMC4xNzY0XSwgWyAgMS4xMTkwLCAgIDAuMTc2NF0sIFsgIDEuMDI4NSwgICAwLjM1NTJdLFxuICAgICAgICAgICAgWyAtOC44NzE3LCAgIDguMzUwOF0sXG4gICAgICAgICAgICBbIC05LjM0NDgsICAgOC42NDQ4XSwgWyAtOS4zMzYzLCAgIDguNjQwNF0sIFsgLTkuOTI0NSwgICA3LjI1NDhdLFxuICAgICAgICAgICAgWyAtNy44ODkwLCAgIDIuNDAwMF0sXG4gICAgICAgICAgICBbIC05LjAwMDAsICAgMi40MDAwXVxuICAgICAgICBdLFxuICAgICAgICAxODogW1xuICAgICAgICAgICAgWy0xMS41MDAwLCAgLTMuMDAwMF0sXG4gICAgICAgICAgICBbLTEwLjA3OTUsICAtMy4wMDAwXSxcbiAgICAgICAgICAgIFstMTIuNDkwOSwgIC05LjMxNzNdLFxuICAgICAgICAgICAgWy0xMS44NDAyLCAtMTAuNzY1NF0sIFstMTEuNTk4NiwgLTEwLjcwNzNdLCBbLTEwLjkzODAsIC0xMC4yMjU4XSxcbiAgICAgICAgICAgIFsgIDEuMTQ5NywgIC0wLjM1NTJdLFxuICAgICAgICAgICAgWyAgMS4yNDAyLCAgLTAuMTc2NF0sIFsgIDEuMjQwMiwgICAwLjE3NjRdLCBbICAxLjE0OTcsICAgMC4zNTUyXSxcbiAgICAgICAgICAgIFstMTAuOTM4MCwgIDEwLjIyNThdLFxuICAgICAgICAgICAgWy0xMS41OTg2LCAgMTAuNzA3M10sIFstMTEuODQwMiwgIDEwLjc2NTRdLCBbLTEyLjQ5MDksICAgOS4zMTczXSxcbiAgICAgICAgICAgIFstMTAuMDc5NSwgICAzLjAwMDBdLFxuICAgICAgICAgICAgWy0xMS41MDAwLCAgIDMuMDAwMF1cbiAgICAgICAgXSxcbiAgICAgICAgMTk6IFtcbiAgICAgICAgICAgIFstMTMuMDAwMCwgIC0zLjYwMDBdLFxuICAgICAgICAgICAgWy0xMS42NjAwLCAgLTMuNjAwMF0sXG4gICAgICAgICAgICBbLTE0LjE2OTYsIC0xMC44MzUxXSxcbiAgICAgICAgICAgIFstMTMuNTE4OSwgLTEyLjI4MzJdLCBbLTEzLjI3NzMsIC0xMi4yMjUxXSwgWy0xMi42MTY3LCAtMTEuNzQzNl0sXG4gICAgICAgICAgICBbICAxLjMwNjEsICAtMC4zNTUyXSxcbiAgICAgICAgICAgIFsgIDEuMzk2NiwgIC0wLjE3NjRdLCBbICAxLjM5NjYsICAgMC4xNzY0XSwgWyAgMS4zMDYxLCAgIDAuMzU1Ml0sXG4gICAgICAgICAgICBbLTEyLjYxNjcsICAxMS43NDM2XSxcbiAgICAgICAgICAgIFstMTMuMjc3MywgIDEyLjIyNTFdLCBbLTEzLjUxODksICAxMi4yODMyXSwgWy0xNC4xNjk2LCAgMTAuODM1MV0sXG4gICAgICAgICAgICBbLTExLjY2MDAsICAgMy42MDAwXSxcbiAgICAgICAgICAgIFstMTMuMDAwMCwgICAzLjYwMDBdXG4gICAgICAgIF1cbiAgICB9LFxuICAgIGRyYXdpbmdzOiB7XG4gICAgICAgIDE2OiBbJ00nLCAnTCcsICdMJywgJ0MnLCAnTCcsICdDJywgJ0wnLCAnQycsICdMJywgJ0wnXSxcbiAgICAgICAgMTc6IFsnTScsICdMJywgJ0wnLCAnQycsICdMJywgJ0MnLCAnTCcsICdDJywgJ0wnLCAnTCddLFxuICAgICAgICAxODogWydNJywgJ0wnLCAnTCcsICdDJywgJ0wnLCAnQycsICdMJywgJ0MnLCAnTCcsICdMJ10sXG4gICAgICAgIDE5OiBbJ00nLCAnTCcsICdMJywgJ0MnLCAnTCcsICdDJywgJ0wnLCAnQycsICdMJywgJ0wnXVxuICAgIH1cbn07XG4vKiBlc2xpbnQtZW5hYmxlIGFycmF5LWJyYWNrZXQtc3BhY2luZyAqL1xuXG5cbihmdW5jdGlvbih2ZXJ0aWNlcykge1xuICAgIGZvciAodmFyIGkgaW4gdmVydGljZXMpIHtcbiAgICAgICAgdmVydGljZXNbaV0gPSB2ZXJ0aWNlc1tpXS5tYXAoZnVuY3Rpb24odmVydGV4KSB7IHJldHVybiBERy5wb2ludCh2ZXJ0ZXgpOyB9KTtcbiAgICB9XG59KShERy5FbnRyYW5jZS5BcnJvdy5TSEFQRS52ZXJ0aWNlcyk7XG4iLCJERy5MYWJlbCA9IERHLkxheWVyLmV4dGVuZCh7XG5cbiAgICBvcHRpb25zOiB7XG4gICAgICAgIG9mZnNldDogbmV3IERHLlBvaW50KDEyLCAxNSksXG4gICAgICAgIGNsYXNzTmFtZTogJ2RnLWxhYmVsJyxcbiAgICAgICAgekluZGV4T2Zmc2V0OiAwLFxuICAgICAgICB0ZXh0RGlyZWN0aW9uOiAnYXV0bycgLy8gJ2F1dG8nIHwgJ2x0cicgfCAncnRsXG4gICAgfSxcblxuICAgIF90eXBlT2ZTdHJpbmcgOiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoJ3MnKSxcbiAgICBfZGVmYXVsdFpJbmRleDogMTAwLFxuXG4gICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oY29udGVudCwgb3B0aW9ucykge1xuICAgICAgICBERy5VdGlsLnNldE9wdGlvbnModGhpcywgb3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy5fYW5pbWF0ZWQgPSBERy5Ccm93c2VyLmFueTNkO1xuICAgICAgICB0aGlzLl9jb250ZW50ID0gY29udGVudDtcbiAgICB9LFxuXG4gICAgb25BZGQ6IGZ1bmN0aW9uKG1hcCkge1xuICAgICAgICB0aGlzLl9tYXAgPSBtYXA7XG5cbiAgICAgICAgaWYgKCF0aGlzLl9lbCkge1xuICAgICAgICAgICAgdGhpcy5faW5pdERPTSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fdmlzaWJsZSA9IHRydWU7XG5cbiAgICAgICAgdGhpc1xuICAgICAgICAgICAgLnNldENvbnRlbnQodGhpcy5fY29udGVudClcbiAgICAgICAgICAgIC5fb25WaWV3UmVzZXQoKTtcblxuICAgICAgICBtYXBcbiAgICAgICAgICAgIC5vbigndmlld3Jlc2V0JywgdGhpcy5fb25WaWV3UmVzZXQsIHRoaXMpXG4gICAgICAgICAgICAub24oJ3pvb21hbmltJywgdGhpcy5fb25ab29tQW5pbWF0aW9uLCB0aGlzKTtcbiAgICB9LFxuXG4gICAgb25SZW1vdmU6IGZ1bmN0aW9uKG1hcCkge1xuICAgICAgICBtYXBcbiAgICAgICAgICAgIC5vZmYoJ3ZpZXdyZXNldCcsIHRoaXMuX29uVmlld1Jlc2V0LCB0aGlzKVxuICAgICAgICAgICAgLm9mZignem9vbWFuaW0nLCB0aGlzLl9vblpvb21BbmltYXRpb24sIHRoaXMpO1xuXG4gICAgICAgIHRoaXMuX3Zpc2libGUgPSBmYWxzZTtcblxuICAgICAgICB0aGlzLl9lbC5yZW1vdmVDaGlsZCh0aGlzLl9jb250YWluZXIpO1xuICAgICAgICBERy5VdGlsLmZhbHNlRm4odGhpcy5fY29udGFpbmVyLm9mZnNldFdpZHRoKTsgLy8gd2UgbmVlZCByZWZsb3cgaGVyZVxuICAgICAgICB0aGlzLl9jb250YWluZXIgPSBudWxsO1xuXG4gICAgICAgIG1hcC5nZXRQYW5lcygpLnRvb2x0aXBQYW5lLnJlbW92ZUNoaWxkKHRoaXMuX2VsKTtcbiAgICAgICAgdGhpcy5fZWwgPSBudWxsO1xuICAgIH0sXG5cbiAgICBfaW5pdERPTTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuX2VsID0gREcuRG9tVXRpbC5jcmVhdGUoXG4gICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5jbGFzc05hbWUgKyAnIGxlYWZsZXQtem9vbS0nICsgKHRoaXMuX2FuaW1hdGVkID8gJ2FuaW1hdGVkJyA6ICdoaWRlJyksXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9tYXAuZ2V0UGFuZXMoKS50b29sdGlwUGFuZSk7XG4gICAgICAgIHRoaXMuX2VsLnN0eWxlLnpJbmRleCA9IHRoaXMuX2RlZmF1bHRaSW5kZXggKyB0aGlzLm9wdGlvbnMuekluZGV4T2Zmc2V0O1xuXG4gICAgICAgIHRoaXMuX2NvbnRhaW5lciA9IERHLkRvbVV0aWwuY3JlYXRlKCdkaXYnLCB0aGlzLm9wdGlvbnMuY2xhc3NOYW1lICsgJ19fY29udGVudCcsIHRoaXMuX2VsKTtcbiAgICAgICAgdGhpcy5fY29udGFpbmVyLnNldEF0dHJpYnV0ZSgnZGlyJywgdGhpcy5vcHRpb25zLnRleHREaXJlY3Rpb24pO1xuXG4gICAgICAgIERHLkRvbUV2ZW50XG4gICAgICAgICAgICAuZGlzYWJsZUNsaWNrUHJvcGFnYXRpb24odGhpcy5fZWwpXG4gICAgICAgICAgICAub24odGhpcy5fY29udGFpbmVyLCAnbW91c2V3aGVlbCcsIERHLkRvbUV2ZW50LnN0b3BQcm9wYWdhdGlvbilcbiAgICAgICAgICAgIC5vbih0aGlzLl9jb250YWluZXIsICdjb250ZXh0bWVudScsIERHLkRvbUV2ZW50LnN0b3BQcm9wYWdhdGlvbik7XG4gICAgfSxcblxuICAgIF9vblZpZXdSZXNldDogZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLl92aXNpYmxlICYmIHRoaXMuX2xhdGxuZykge1xuICAgICAgICAgICAgREcuRG9tVXRpbC5zZXRQb3NpdGlvbih0aGlzLl9lbCwgdGhpcy5fbWFwLmxhdExuZ1RvTGF5ZXJQb2ludCh0aGlzLl9sYXRsbmcpLmFkZCh0aGlzLm9wdGlvbnMub2Zmc2V0KSwgREcuQnJvd3Nlci5pZSk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgX29uWm9vbUFuaW1hdGlvbjogZnVuY3Rpb24ob3B0KSB7XG4gICAgICAgIGlmICh0aGlzLl9sYXRsbmcpIHtcbiAgICAgICAgICAgIERHLkRvbVV0aWwuc2V0UG9zaXRpb24odGhpcy5fZWwsIHRoaXMuX21hcC5fbGF0TG5nVG9OZXdMYXllclBvaW50KHRoaXMuX2xhdGxuZywgb3B0Lnpvb20sIG9wdC5jZW50ZXIpLmFkZCh0aGlzLm9wdGlvbnMub2Zmc2V0KSk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgc2V0T2Zmc2V0OiBmdW5jdGlvbihwb2ludCkge1xuICAgICAgICBpZiAocG9pbnQgaW5zdGFuY2VvZiBERy5Qb2ludCkge1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zLm9mZnNldCA9IHBvaW50O1xuICAgICAgICAgICAgdGhpcy5fb25WaWV3UmVzZXQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgc2V0WkluZGV4T2Zmc2V0OiBmdW5jdGlvbih6SW5kZXgpIHtcbiAgICAgICAgaWYgKCFpc05hTigrekluZGV4KSkge1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zLnpJbmRleE9mZnNldCA9ICt6SW5kZXg7XG4gICAgICAgICAgICBpZiAodGhpcy5fdmlzaWJsZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2VsLnN0eWxlLnpJbmRleCA9IHRoaXMuX2RlZmF1bHRaSW5kZXggKyB0aGlzLm9wdGlvbnMuekluZGV4T2Zmc2V0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICBzZXRDb250ZW50OiBmdW5jdGlvbihjb250ZW50KSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoY29udGVudCkgIT09IHRoaXMuX3R5cGVPZlN0cmluZykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fY29udGVudCA9IGNvbnRlbnQ7XG4gICAgICAgIGlmICh0aGlzLl92aXNpYmxlKSB7XG4gICAgICAgICAgICB0aGlzLl9jb250YWluZXIuaW5uZXJIVE1MID0gY29udGVudDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgc2V0UG9zaXRpb246IGZ1bmN0aW9uKGxhdGxuZykge1xuICAgICAgICBpZiAoIShsYXRsbmcgaW5zdGFuY2VvZiBERy5MYXRMbmcpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2xhdGxuZyA9IGxhdGxuZztcbiAgICAgICAgdGhpcy5fb25WaWV3UmVzZXQoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufSk7XG5cbkRHLmxhYmVsID0gZnVuY3Rpb24oY29udGVudCwgb3B0aW9ucykge1xuICAgIHJldHVybiBuZXcgREcuTGFiZWwoY29udGVudCwgb3B0aW9ucyk7XG59O1xuIiwiREcuTWFya2VyLmluY2x1ZGUoe1xuXG4gICAgYmluZExhYmVsOiBmdW5jdGlvbihjb250ZW50LCBvcHRpb25zKSB7XG4gICAgICAgIGlmICh0aGlzLl9sYWJlbCkge1xuICAgICAgICAgICAgdGhpcy5fbGFiZWwuc2V0Q29udGVudChjb250ZW50KTtcbiAgICAgICAgICAgIGlmIChvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5vZmZzZXQgIT09IG9wdGlvbnMub2Zmc2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2xhYmVsLnNldE9mZnNldCh0aGlzLm9wdGlvbnMub2Zmc2V0ID0gb3B0aW9ucy5vZmZzZXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnN0YXRpYyAhPT0gb3B0aW9ucy5zdGF0aWMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51bmJpbmRMYWJlbCgpLmJpbmRMYWJlbChjb250ZW50LCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvcHRpb25zID0gREcuZXh0ZW5kKHtcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IG5ldyBERy5Qb2ludCg1LCA1KVxuICAgICAgICAgICAgfSwgb3B0aW9ucyk7XG5cbiAgICAgICAgICAgIHRoaXMuX2xhYmVsID0gREcubGFiZWwoY29udGVudCwgb3B0aW9ucyk7XG5cbiAgICAgICAgICAgIHRoaXMub25jZSgncmVtb3ZlJywgdGhpcy5fb25NYXJrZXJSZW1vdmUpO1xuXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5zdGF0aWMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNob3dMYWJlbCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzXG4gICAgICAgICAgICAgICAgICAgIC5vbignbW91c2VvdmVyJywgdGhpcy5fbW91c2VPdmVyTGFiZWwpXG4gICAgICAgICAgICAgICAgICAgIC5vbignbW91c2VvdXQnLCB0aGlzLl9tb3VzZU91dExhYmVsKVxuICAgICAgICAgICAgICAgICAgICAub24oJ2RyYWdzdGFydCcsIHRoaXMuX2RyYWdTdGFydExhYmVsKVxuICAgICAgICAgICAgICAgICAgICAub24oJ2RyYWdlbmQnLCB0aGlzLl9kcmFnRW5kTGFiZWwpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMuX21hcCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVMYWJlbFpJbmRleCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uY2UoJ2FkZCcsIHRoaXMuX3VwZGF0ZUxhYmVsWkluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgdW5iaW5kTGFiZWw6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5fbGFiZWwpIHtcbiAgICAgICAgICAgIHRoaXNcbiAgICAgICAgICAgICAgICAuaGlkZUxhYmVsKClcbiAgICAgICAgICAgICAgICAub2ZmKCdyZW1vdmUnLCB0aGlzLnVuYmluZExhYmVsKVxuICAgICAgICAgICAgICAgIC5vZmYoJ21vdXNlb3ZlcicsIHRoaXMuX21vdXNlT3ZlckxhYmVsKVxuICAgICAgICAgICAgICAgIC5vZmYoJ21vdXNlb3V0JywgdGhpcy5fbW91c2VPdXRMYWJlbClcbiAgICAgICAgICAgICAgICAub2ZmKCdkcmFnc3RhcnQnLCB0aGlzLl9kcmFnU3RhcnRMYWJlbClcbiAgICAgICAgICAgICAgICAub2ZmKCdkcmFnZW5kJywgdGhpcy5fZHJhZ0VuZExhYmVsKVxuICAgICAgICAgICAgICAgIC5vZmYoJ21vdmUnLCB0aGlzLl91cGRhdGVQb3NpdGlvbilcbiAgICAgICAgICAgICAgICAub2ZmKCdhZGQnLCB0aGlzLl91cGRhdGVMYWJlbFpJbmRleCk7XG5cbiAgICAgICAgICAgIHRoaXMuX2xhYmVsID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgX29uTWFya2VyUmVtb3ZlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuX2xhYmVsKSB7XG4gICAgICAgICAgICB2YXIgY29udGVudCA9IHRoaXMuX2xhYmVsLl9jb250ZW50O1xuICAgICAgICAgICAgdGhpcy5vbmNlKCdhZGQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fbGFiZWwpIHsgcmV0dXJuOyB9IC8vIG5ldyBsYWJlbCBhZGRlZCBhZnRlciByZW1vdmluZyBtYXJrZXJcbiAgICAgICAgICAgICAgICB0aGlzLmJpbmRMYWJlbChjb250ZW50KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy51bmJpbmRMYWJlbCgpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIGdldExhYmVsOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xhYmVsID8gdGhpcy5fbGFiZWwgOiBudWxsO1xuICAgIH0sXG5cbiAgICBfb3JpZ2luYWxVcGRhdGVaSW5kZXg6IERHLk1hcmtlci5wcm90b3R5cGUuX3VwZGF0ZVpJbmRleCxcbiAgICBfdXBkYXRlWkluZGV4OiBmdW5jdGlvbihvZmZzZXQpIHtcbiAgICAgICAgaWYgKCF0aGlzLl96SW5kZXgpIHtcbiAgICAgICAgICAgIHRoaXMuX3pJbmRleCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fb3JpZ2luYWxVcGRhdGVaSW5kZXgob2Zmc2V0KTtcbiAgICAgICAgdGhpcy5fdXBkYXRlTGFiZWxaSW5kZXgoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIF91cGRhdGVMYWJlbFpJbmRleDogZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLl9sYWJlbCAmJiB0aGlzLl9pY29uKSB7XG4gICAgICAgICAgICB0aGlzLl9sYWJlbC5zZXRaSW5kZXhPZmZzZXQodGhpcy5faWNvbi5zdHlsZS56SW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICBzaG93TGFiZWwgOiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuX2xhYmVsKSB7XG4gICAgICAgICAgICB0aGlzXG4gICAgICAgICAgICAgICAgLm9uKCdtb3ZlJywgdGhpcy5fdXBkYXRlUG9zaXRpb24pXG4gICAgICAgICAgICAgICAgLl9tYXAuYWRkTGF5ZXIodGhpcy5fbGFiZWwuc2V0UG9zaXRpb24odGhpcy5nZXRMYXRMbmcoKSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIGhpZGVMYWJlbCA6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5fbGFiZWwpIHtcbiAgICAgICAgICAgIHRoaXNcbiAgICAgICAgICAgICAgICAub2ZmKCdtb3ZlJywgdGhpcy5fdXBkYXRlUG9zaXRpb24pXG4gICAgICAgICAgICAgICAgLl9tYXAucmVtb3ZlTGF5ZXIodGhpcy5fbGFiZWwpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICBfdXBkYXRlUG9zaXRpb24gOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5fbGFiZWwuc2V0UG9zaXRpb24odGhpcy5nZXRMYXRMbmcoKSk7XG4gICAgfSxcblxuICAgIF9kcmFnU3RhcnRMYWJlbDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuX2xhYmVsLmlzTWFya2VyRHJhZ2dpbmcgPSB0cnVlO1xuXG4gICAgICAgIHRoaXMuaGlkZUxhYmVsKCk7XG4gICAgfSxcblxuICAgIF9kcmFnRW5kTGFiZWw6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLl9sYWJlbC5pc01hcmtlckRyYWdnaW5nID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKHRoaXMuX2xhYmVsLmlzTW91c2VPdmVyTWFya2VyKSB7XG4gICAgICAgICAgICB0aGlzLnNob3dMYWJlbCgpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIF9tb3VzZU92ZXJMYWJlbDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuX2xhYmVsLmlzTW91c2VPdmVyTWFya2VyID0gdHJ1ZTtcblxuICAgICAgICBpZiAoIXRoaXMuX2xhYmVsLmlzTWFya2VyRHJhZ2dpbmcpIHtcbiAgICAgICAgICAgIHRoaXMuc2hvd0xhYmVsKCk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgX21vdXNlT3V0TGFiZWw6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLl9sYWJlbC5pc01vdXNlT3Zlck1hcmtlciA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMuaGlkZUxhYmVsKCk7XG4gICAgfVxufSk7XG5cbkRHLk1hcmtlci5hZGRJbml0SG9vayhmdW5jdGlvbigpIHtcbiAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5sYWJlbCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdGhpcy5iaW5kTGFiZWwodGhpcy5vcHRpb25zLmxhYmVsKTtcbiAgICB9XG59KTtcbiIsIkRHLlBhdGguaW5jbHVkZSh7XG4gICAgYmluZExhYmVsOiBmdW5jdGlvbihjb250ZW50LCBvcHRpb25zKSB7XG5cbiAgICAgICAgaWYgKCF0aGlzLl9sYWJlbCkge1xuICAgICAgICAgICAgdGhpcy5fbGFiZWwgPSBERy5sYWJlbChjb250ZW50LCBvcHRpb25zKTtcbiAgICAgICAgICAgIHRoaXMub24odGhpcy5fbGFiZWxFdmVudHMsIHRoaXMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fbGFiZWwuc2V0Q29udGVudChjb250ZW50KTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuX2xhYmVsLm9wdGlvbnMub2Zmc2V0ICE9PSBvcHRpb25zLm9mZnNldCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xhYmVsLnNldE9mZnNldChvcHRpb25zLm9mZnNldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIHVuYmluZExhYmVsOiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuX2xhYmVsKSB7XG4gICAgICAgICAgICB0aGlzLm9mZih0aGlzLl9sYWJlbEV2ZW50cywgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLl9tYXAucmVtb3ZlTGF5ZXIodGhpcy5fbGFiZWwpO1xuICAgICAgICAgICAgdGhpcy5fbGFiZWwgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICBnZXRMYWJlbDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9sYWJlbCA/IHRoaXMuX2xhYmVsIDogbnVsbDtcbiAgICB9LFxuXG4gICAgX2xhYmVsRXZlbnRzIDoge1xuICAgICAgICBtb3VzZW92ZXI6IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICB0aGlzLl9tYXAuYWRkTGF5ZXIodGhpcy5fbGFiZWwuc2V0UG9zaXRpb24oZXZlbnQubGF0bG5nKSk7XG4gICAgICAgICAgICBERy5Eb21FdmVudC5zdG9wKGV2ZW50KTtcbiAgICAgICAgfSxcbiAgICAgICAgbW91c2Vtb3ZlOiBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgdGhpcy5fbGFiZWwuc2V0UG9zaXRpb24oZXZlbnQubGF0bG5nKTtcbiAgICAgICAgICAgIERHLkRvbUV2ZW50LnN0b3AoZXZlbnQpO1xuICAgICAgICB9LFxuICAgICAgICBtb3VzZW91dDogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIHRoaXMuX21hcC5yZW1vdmVMYXllcih0aGlzLl9sYWJlbCk7XG4gICAgICAgICAgICBERy5Eb21FdmVudC5zdG9wKGV2ZW50KTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVtb3ZlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRoaXMuX21hcC5yZW1vdmVMYXllcih0aGlzLl9sYWJlbCk7XG4gICAgICAgIH1cbiAgICB9XG59KTtcblxuREcuUGF0aC5hZGRJbml0SG9vayhmdW5jdGlvbigpIHtcbiAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5sYWJlbCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdGhpcy5iaW5kTGFiZWwodGhpcy5vcHRpb25zLmxhYmVsKTtcbiAgICB9XG59KTtcbiIsIkRHLkVudHJhbmNlLmluY2x1ZGUoe1xuICAgIGJpbmRMYWJlbDogZnVuY3Rpb24oY29udGVudCwgb3B0aW9ucykge1xuXG4gICAgICAgIGlmICghdGhpcy5fbGFiZWwpIHtcbiAgICAgICAgICAgIHRoaXMuX2xhYmVsID0gREcubGFiZWwoY29udGVudCwgb3B0aW9ucyk7XG4gICAgICAgICAgICB0aGlzLm9uKHRoaXMuX2xhYmVsRXZlbnRzLCB0aGlzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2xhYmVsLnNldENvbnRlbnQoY29udGVudCk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9sYWJlbC5vcHRpb25zLm9mZnNldCAhPT0gb3B0aW9ucy5vZmZzZXQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sYWJlbC5zZXRPZmZzZXQob3B0aW9ucy5vZmZzZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICB1bmJpbmRMYWJlbDogZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLl9sYWJlbCkge1xuICAgICAgICAgICAgdGhpcy5vZmYodGhpcy5fbGFiZWxFdmVudHMsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5fbWFwLnJlbW92ZUxheWVyKHRoaXMuX2xhYmVsKTtcbiAgICAgICAgICAgIHRoaXMuX2xhYmVsID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgZ2V0TGFiZWw6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbGFiZWwgPyB0aGlzLl9sYWJlbCA6IG51bGw7XG4gICAgfSxcblxuICAgIF9sYWJlbEV2ZW50cyA6IHtcbiAgICAgICAgbW91c2VvdmVyOiBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgdGhpcy5fbWFwLmFkZExheWVyKHRoaXMuX2xhYmVsLnNldFBvc2l0aW9uKGV2ZW50LmxhdGxuZykpO1xuICAgICAgICAgICAgREcuRG9tRXZlbnQuc3RvcChldmVudCk7XG4gICAgICAgIH0sXG4gICAgICAgIG1vdXNlbW92ZTogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIHRoaXMuX2xhYmVsLnNldFBvc2l0aW9uKGV2ZW50LmxhdGxuZyk7XG4gICAgICAgICAgICBERy5Eb21FdmVudC5zdG9wKGV2ZW50KTtcbiAgICAgICAgfSxcbiAgICAgICAgbW91c2VvdXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy5fbGFiZWwucmVtb3ZlKCk7XG4gICAgICAgIH0sXG4gICAgICAgIHJlbW92ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0aGlzLl9sYWJlbC5yZW1vdmUoKTtcbiAgICAgICAgfVxuICAgIH1cbn0pO1xuXG5ERy5FbnRyYW5jZS5hZGRJbml0SG9vayhmdW5jdGlvbigpIHtcbiAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5sYWJlbCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdGhpcy5iaW5kTGFiZWwodGhpcy5vcHRpb25zLmxhYmVsKTtcbiAgICB9XG59KTtcbiIsIkRHLmNvbmZpZ1RoZW1lID0gREcuY29uZmlnVGhlbWUgfHwge307XG5cbkRHLmNvbmZpZ1RoZW1lLmJhbGxvb25PcHRpb25zID0ge1xuICAgIG9mZnNldDoge1xuICAgICAgICB4OiAxLFxuICAgICAgICB5OiAtNDNcbiAgICB9XG59O1xuIiwicmVxdWlyZSgnLi4vLi4vLi4vdmVuZG9ycy9iYXJvbicpO1xuXG4vLyAyR0lTLXJlbGF0ZWQgcG9wdXAgY29udGVudCB3cmFwcGVyIGFuZCBvZmZzZXRcbihmdW5jdGlvbigpIHtcbiAgICB2YXIgb2Zmc2V0WCA9IERHLmNvbmZpZ1RoZW1lLmJhbGxvb25PcHRpb25zLm9mZnNldC54LFxuICAgICAgICBvZmZzZXRZID0gREcuY29uZmlnVGhlbWUuYmFsbG9vbk9wdGlvbnMub2Zmc2V0LnksXG4gICAgICAgIG9yaWdpbmFsSW5pdGlhbGl6ZSA9IERHLlBvcHVwLnByb3RvdHlwZS5pbml0aWFsaXplLFxuICAgICAgICBvcmlnaW5hbEluaXRMYXlvdXQgPSBERy5Qb3B1cC5wcm90b3R5cGUuX2luaXRMYXlvdXQsXG4gICAgICAgIG9yaWdpbmFsT25BZGQgPSBERy5Qb3B1cC5wcm90b3R5cGUub25BZGQsXG4gICAgICAgIGdyYWYgPSBiYXJvbi5ub0NvbmZsaWN0KCk7XG5cbiAgICB2YXIgQmFyb25Eb21IZWxwZXIgPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICAgIHRoaXNbMF0gPSBlbGVtZW50O1xuICAgICAgICB0aGlzLmxlbmd0aCA9IDE7XG4gICAgfTtcbiAgICBCYXJvbkRvbUhlbHBlci5wcm90b3R5cGUgPSB7XG4gICAgICAgIHNldEF0dHJpYnV0ZTogZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXNbMF0uc2V0QXR0cmlidXRlKG5hbWUsIHZhbHVlKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuICAgICAgICBnZXRBdHRyaWJ1dGU6IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzWzBdLmdldEF0dHJpYnV0ZShuYW1lKTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVtb3ZlQXR0cmlidXRlOiBmdW5jdGlvbihuYW1lKSB7XG4gICAgICAgICAgICB0aGlzWzBdLnJlbW92ZUF0dHJpYnV0ZShuYW1lKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuICAgICAgICBjc3M6IGZ1bmN0aW9uKHN0eWxlLCB2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpc1swXS5zdHlsZVtzdHlsZV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIERHLkRvbVV0aWwuZ2V0U3R5bGUodGhpc1swXSwgc3R5bGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIERHLlBvcHVwLnByb3RvdHlwZS5vcHRpb25zLm9mZnNldCA9IERHLnBvaW50KG9mZnNldFgsIG9mZnNldFkpO1xuXG4gICAgREcuUG9wdXAubWVyZ2VPcHRpb25zKHtcbiAgICAgICAgYm9yZGVyOiAxNixcbiAgICAgICAgbWFwQ29udHJvbHNXaWR0aDogNjAsXG4gICAgICAgIHRleHREaXJlY3Rpb246ICdhdXRvJyAvLyAnYXV0bycgfCAnbHRyJyB8ICdydGxcbiAgICB9KTtcblxuICAgIERHLlBvcHVwLmluY2x1ZGUoe1xuICAgICAgICBfaGVhZGVyQ29udGVudDogbnVsbCxcbiAgICAgICAgX2Zvb3RlckNvbnRlbnQ6IG51bGwsXG5cbiAgICAgICAgLy9iYXJvbiBlbGVtZW50cyByZWZlcmVuY2VzXG4gICAgICAgIF9zY3JvbGxlcjogbnVsbCxcbiAgICAgICAgX3Njcm9sbGVyQmFyOiBudWxsLFxuICAgICAgICBfYmFyV3JhcHBlcjogbnVsbCxcbiAgICAgICAgX2Jhcm9uOiBudWxsLFxuICAgICAgICBfaXNCYXJvbkV4aXN0OiBmYWxzZSxcblxuICAgICAgICBfcG9wdXBTaG93Q2xhc3M6ICdsZWFmbGV0LXBvcHVwX3Nob3dfdHJ1ZScsXG4gICAgICAgIF9wb3B1cEhpZGVDbGFzczogJ2xlYWZsZXQtcG9wdXBfc2hvd19mYWxzZScsXG5cbiAgICAgICAgX3BvcHVwVGlwQ2xhc3M6ICdsZWFmbGV0LXBvcHVwLXRpcC1jb250YWluZXInLFxuICAgICAgICBfdGlwU1ZHUGF0aDogJ00wIDBjMTIuNjQzIDAgMjggNy4xMTUgMjggNDRoMmMwLTM2Ljg4NSAxNS4zNTgtNDQgMjgtNDRoLTU4eicsXG5cbiAgICAgICAgX2lzQXV0b1BhblBhZGRpbmdVc2VyRGVmaW5lZDogZmFsc2UsXG5cbiAgICAgICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24ob3B0aW9ucywgc291cmNlKSB7IC8vIChPYmplY3QsIE9iamVjdClcbiAgICAgICAgICAgIHRoaXMuX3BvcHVwU3RydWN0dXJlID0ge307XG4gICAgICAgICAgICB0aGlzLl9pc0F1dG9QYW5QYWRkaW5nVXNlckRlZmluZWQgPSBvcHRpb25zICYmIG9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ2F1dG9QYW5QYWRkaW5nJyk7XG4gICAgICAgICAgICBvcmlnaW5hbEluaXRpYWxpemUuY2FsbCh0aGlzLCBvcHRpb25zLCBzb3VyY2UpO1xuICAgICAgICB9LFxuXG4gICAgICAgIG9uQWRkOiBmdW5jdGlvbihtYXApIHsgLy8gKE1hcClcbiAgICAgICAgICAgIG1hcC5vbih7XG4gICAgICAgICAgICAgICAgZW50cmFuY2VzaG93OiB0aGlzLl9jbG9zZVBvcHVwLFxuICAgICAgICAgICAgICAgIHJlc2l6ZTogdGhpcy5yZXNpemVcbiAgICAgICAgICAgIH0sIHRoaXMpO1xuICAgICAgICAgICAgb3JpZ2luYWxPbkFkZC5jYWxsKHRoaXMsIG1hcCk7XG4gICAgICAgICAgICB0aGlzLl9hbmltYXRlT3BlbmluZygpO1xuICAgICAgICB9LFxuXG4gICAgICAgIG9uUmVtb3ZlOiBmdW5jdGlvbihtYXApIHsgLy8gKE1hcClcbiAgICAgICAgICAgIHRoaXMuX2FuaW1hdGVDbG9zaW5nKCk7XG4gICAgICAgICAgICBtYXAub2ZmKHtcbiAgICAgICAgICAgICAgICBlbnRyYW5jZXNob3c6IHRoaXMuX2Nsb3NlUG9wdXAsXG4gICAgICAgICAgICAgICAgcmVzaXplOiB0aGlzLnJlc2l6ZVxuICAgICAgICAgICAgfSwgdGhpcyk7XG5cbiAgICAgICAgICAgIGlmIChERy5Eb21VdGlsLlRSQU5TSVRJT04pIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZW1vdmVUaW1lb3V0ID0gc2V0VGltZW91dChMLmJpbmQoTC5Eb21VdGlsLnJlbW92ZSwgTC5Eb21VdGlsLCB0aGlzLl9jb250YWluZXIpLCAyMDApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBMLkRvbVV0aWwucmVtb3ZlKHRoaXMuX2NvbnRhaW5lcik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG1hcC5maXJlKCdwb3B1cGNsb3NlJywge3BvcHVwOiB0aGlzfSk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9zb3VyY2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zb3VyY2UuZmlyZSgncG9wdXBjbG9zZScsIHtwb3B1cDogdGhpc30sIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIHNldENvbnRlbnQ6IGZ1bmN0aW9uKGNvbnRlbnQpIHsgLy8gKERPTUVsZW1lbnQgfCBPYmplY3QgfCBIVE1MKSAtPiBQb3B1cFxuICAgICAgICAgICAgaWYgKCF0aGlzLl9pc05vZGUoY29udGVudCkgJiYgdHlwZW9mIGNvbnRlbnQgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmtleXMoY29udGVudCkuZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXNbJ18nICsgaXRlbSArICdDb250ZW50J10gPSBjb250ZW50W2l0ZW1dO1xuICAgICAgICAgICAgICAgIH0sIHRoaXMpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9ib2R5Q29udGVudCA9IGNvbnRlbnQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuXG4gICAgICAgIHNldEhlYWRlckNvbnRlbnQ6IGZ1bmN0aW9uKGNvbnRlbnQpIHsgLy8gKEhUTUwpIC0+IFBvcHVwXG4gICAgICAgICAgICB0aGlzLl9oZWFkZXJDb250ZW50ID0gY29udGVudDtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuXG4gICAgICAgIHNldEZvb3RlckNvbnRlbnQ6IGZ1bmN0aW9uKGNvbnRlbnQpIHsgLy8gKEhUTUwpIC0+IFBvcHVwXG4gICAgICAgICAgICB0aGlzLl9mb290ZXJDb250ZW50ID0gY29udGVudDtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuXG4gICAgICAgIGdldENvbnRlbnQ6IGZ1bmN0aW9uKCkgeyAvLyAoKSAtPiBIVE1MXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYm9keUNvbnRlbnQ7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZ2V0SGVhZGVyQ29udGVudDogZnVuY3Rpb24oKSB7IC8vICgpIC0+IEhUTUxcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9oZWFkZXJDb250ZW50O1xuICAgICAgICB9LFxuXG4gICAgICAgIGdldEZvb3RlckNvbnRlbnQ6IGZ1bmN0aW9uKCkgeyAvLyAoKSAtPiBIVE1MXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZm9vdGVyQ29udGVudDtcbiAgICAgICAgfSxcblxuICAgICAgICBjbGVhcjogZnVuY3Rpb24oKSB7IC8vICgpIC0+IFBvcHVwXG4gICAgICAgICAgICBPYmplY3Qua2V5cyh0aGlzLl9wb3B1cFN0cnVjdHVyZSkuZm9yRWFjaCh0aGlzLl9jbGVhckVsZW1lbnQsIHRoaXMpO1xuXG4gICAgICAgICAgICAvLyB0aGluayBhYm91dCBtb3ZlIHRoaXMgc2V0IHRvIGFub3RoZXIgcHVibGljIG1ldGhvZFxuICAgICAgICAgICAgdGhpcy5faXNCYXJvbkV4aXN0ID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcblxuICAgICAgICBjbGVhckhlYWRlcjogZnVuY3Rpb24oKSB7IC8vICgpIC0+IFBvcHVwXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY2xlYXJFbGVtZW50KCdoZWFkZXInKTtcbiAgICAgICAgfSxcblxuICAgICAgICBjbGVhckZvb3RlcjogZnVuY3Rpb24oKSB7IC8vICgpIC0+IFBvcHVwXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY2xlYXJFbGVtZW50KCdmb290ZXInKTtcbiAgICAgICAgfSxcblxuICAgICAgICBmaW5kRWxlbWVudDogZnVuY3Rpb24oZWxlbWVudCkgeyAvLyAoU3RyaW5nKSAtPiBET01FbGVtZW50XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY29udGVudE5vZGUucXVlcnlTZWxlY3RvcihlbGVtZW50KTtcbiAgICAgICAgfSxcblxuICAgICAgICBfYW5pbWF0ZU9wZW5pbmc6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgREcuRG9tVXRpbC5hZGRDbGFzcyh0aGlzLl9pbm5lckNvbnRhaW5lciwgdGhpcy5fcG9wdXBTaG93Q2xhc3MpO1xuICAgICAgICAgICAgREcuRG9tVXRpbC5yZW1vdmVDbGFzcyh0aGlzLl9pbm5lckNvbnRhaW5lciwgdGhpcy5fcG9wdXBIaWRlQ2xhc3MpO1xuICAgICAgICB9LFxuXG4gICAgICAgIF9hbmltYXRlQ2xvc2luZzogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBERy5Eb21VdGlsLmFkZENsYXNzKHRoaXMuX2lubmVyQ29udGFpbmVyLCB0aGlzLl9wb3B1cEhpZGVDbGFzcyk7XG4gICAgICAgICAgICBERy5Eb21VdGlsLnJlbW92ZUNsYXNzKHRoaXMuX2lubmVyQ29udGFpbmVyLCB0aGlzLl9wb3B1cFNob3dDbGFzcyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX2Nsb3NlUG9wdXA6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy5fbWFwLmNsb3NlUG9wdXAodGhpcyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX2lzTm9kZTogZnVuY3Rpb24obykgeyAvLyAoT2JqZWN0KSAtPiBCb29sZWFuXG4gICAgICAgICAgICByZXR1cm4gKG8ubm9kZU5hbWUgPyB0cnVlIDogZmFsc2UpO1xuICAgICAgICB9LFxuXG4gICAgICAgIF9vbkNsb3NlQnV0dG9uQ2xpY2s6IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9tYXApIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9tYXAuY2xvc2VQb3B1cCh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIEwuRG9tRXZlbnQuc3RvcChlKTtcbiAgICAgICAgfSxcblxuICAgICAgICBfY2xvc2U6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX21hcCkge1xuICAgICAgICAgICAgICAgIGlmIChERy5Ccm93c2VyLm1vYmlsZSAmJiB0aGlzLl9tYXAuZ2VvY2xpY2tlciAmJlxuICAgICAgICAgICAgICAgICAgICAodGhpcy5vcHRpb25zLmNsb3NlT25DbGljayB8fCB0aGlzLl9tYXAub3B0aW9ucy5jbG9zZVBvcHVwT25DbGljaykpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gIFdlIG5lZWQgdG8gc2lnbmFsIGdlb2NsaWNrZXIgdGhhdCBwb3B1cCB3YXMgb3BlbiBiZWZvcmUgJ2NsaWNrJyBldmVudFxuICAgICAgICAgICAgICAgICAgICAvLyAgQnV0IGJ5IHRpbWUgaXQgd2lsbCBnZXQgaXQncyBldmVudCB0aGUgcG9wdXAgd2lsbCBiZSBhbHJlYWR5IGNsb3NlZFxuICAgICAgICAgICAgICAgICAgICAvLyAgU2VlICdER0dlb2NsaWNrZXInIGZvciAnX21hcEV2ZW50c0xpc3RlbmVycycgYW5kICdfc2luZ2xlQ2xpY2snIG1ldGhvZFxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9tYXAuZ2VvY2xpY2tlci5wb3B1cFdhc09wZW4gPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuX21hcC5jbG9zZVBvcHVwKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIF9pbml0TGF5b3V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIG9yaWdpbmFsSW5pdExheW91dC5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5faW5uZXJDb250YWluZXIgPSBERy5Eb21VdGlsLmNyZWF0ZSgnZGl2JywgJ2xlYWZsZXQtcG9wdXAtaW5uZXIgJyArIHRoaXMuX3BvcHVwSGlkZUNsYXNzLCB0aGlzLl9jb250YWluZXIpO1xuXG4gICAgICAgICAgICAvLyBQcmV2ZW50cyBtb3VzZSBldmVudHMgZnJvbSBsZWFraW5nIHRocm91Z2ggY2xvc2UgYnV0dG9uXG4gICAgICAgICAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tLzJnaXMvbWFwc2FwaS9wdWxsLzE1My9cbiAgICAgICAgICAgIERHLkRvbUV2ZW50LmRpc2FibGVDbGlja1Byb3BhZ2F0aW9uKHRoaXMuX2lubmVyQ29udGFpbmVyKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5jbG9zZUJ1dHRvbikge1xuICAgICAgICAgICAgICAgIHRoaXMuX2lubmVyQ29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuX2RldGFjaEVsKHRoaXMuX2Nsb3NlQnV0dG9uKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2lubmVyQ29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuX2RldGFjaEVsKHRoaXMuX3dyYXBwZXIpKTtcblxuICAgICAgICAgICAgdmFyIHRpcCA9IHRoaXMuX2RldGFjaEVsKHRoaXMuX3RpcENvbnRhaW5lcik7XG5cbiAgICAgICAgICAgIGlmIChERy5Ccm93c2VyLnN2Zykge1xuICAgICAgICAgICAgICAgIHZhciBwYXRoID0gREcuU1ZHLmNyZWF0ZSgncGF0aCcpO1xuICAgICAgICAgICAgICAgIHZhciBzdmdDbGFzcyA9IHRoaXMuX3BvcHVwVGlwQ2xhc3MgKyAnICcgKyB0aGlzLl9wb3B1cFRpcENsYXNzICsgJ19zdmcnO1xuXG4gICAgICAgICAgICAgICAgcGF0aC5zZXRBdHRyaWJ1dGUoJ2QnLCB0aGlzLl90aXBTVkdQYXRoKTtcblxuICAgICAgICAgICAgICAgIHRpcCA9IERHLlNWRy5jcmVhdGUoJ3N2ZycpO1xuICAgICAgICAgICAgICAgIHRpcC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgc3ZnQ2xhc3MpO1xuXG4gICAgICAgICAgICAgICAgdGlwLmFwcGVuZENoaWxkKHBhdGgpO1xuICAgICAgICAgICAgICAgIERHLkRvbUV2ZW50LmRpc2FibGVDbGlja1Byb3BhZ2F0aW9uKHBhdGgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBERy5Eb21VdGlsLmFkZENsYXNzKHRpcCwgdGhpcy5fcG9wdXBUaXBDbGFzcyArICdfaW1hZ2UnKTtcbiAgICAgICAgICAgICAgICBERy5Eb21FdmVudC5kaXNhYmxlQ2xpY2tQcm9wYWdhdGlvbih0aXApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9pbm5lckNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aXApO1xuICAgICAgICB9LFxuXG4gICAgICAgIF9jbGVhckVsZW1lbnQ6IGZ1bmN0aW9uKGVsZW0pIHsgLy8gKERPTUVsZW1lbnQpIC0+IFBvcHVwXG4gICAgICAgICAgICB0aGlzWydfJyArIGVsZW0gKyAnQ29udGVudCddID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX2RldGFjaEVsKHRoaXMuX3BvcHVwU3RydWN0dXJlW2VsZW1dKTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9wb3B1cFN0cnVjdHVyZVtlbGVtXTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuXG4gICAgICAgIF91cGRhdGVTY3JvbGxQb3NpdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fYmFyb24pIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9iYXJvbi51cGRhdGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICByZXNpemU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHNjcm9sbGVkID0gdGhpcy5fdXBkYXRlTGF5b3V0KCk7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVQb3NpdGlvbigpO1xuXG4gICAgICAgICAgICBpZiAoIXNjcm9sbGVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2lzQmFyb25FeGlzdCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zY3JvbGxlcldyYXBwZXIuc3R5bGUuaGVpZ2h0ID0gJyc7XG4gICAgICAgICAgICAgICAgICAgIERHLkRvbVV0aWwucmVtb3ZlQ2xhc3ModGhpcy5fc2Nyb2xsZXIsICdkZy1zY3JvbGxlcicpO1xuXG4gICAgICAgICAgICAgICAgICAgIERHLkRvbVV0aWwuYWRkQ2xhc3ModGhpcy5fc2Nyb2xsZXIsICdkZy1zY3JvbGxlcl9oaWRkZW5fdHJ1ZScpO1xuICAgICAgICAgICAgICAgICAgICBERy5Eb21VdGlsLnJlbW92ZUNsYXNzKHRoaXMuX3Njcm9sbGVyLCAnZGctc2Nyb2xsZXInKTtcbiAgICAgICAgICAgICAgICAgICAgREcuRG9tRXZlbnQub2ZmKHRoaXMuX3Njcm9sbGVyLCAnc2Nyb2xsJywgdGhpcy5fb25TY3JvbGwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5faXNCYXJvbkV4aXN0KSB7XG4gICAgICAgICAgICAgICAgREcuRG9tVXRpbC5yZW1vdmVDbGFzcyh0aGlzLl9zY3JvbGxlciwgJ2RnLXNjcm9sbGVyX2hpZGRlbl90cnVlJyk7XG4gICAgICAgICAgICAgICAgREcuRG9tVXRpbC5hZGRDbGFzcyh0aGlzLl9zY3JvbGxlciwgJ2RnLXNjcm9sbGVyJyk7XG5cbiAgICAgICAgICAgICAgICB2YXIgc2Nyb2xsVG9wID0gdGhpcy5faXNCYXJvbkV4aXN0ID8gdGhpcy5fc2Nyb2xsZXIuc2Nyb2xsVG9wIDogZmFsc2U7XG5cbiAgICAgICAgICAgICAgICBpZiAoc2Nyb2xsVG9wKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3Njcm9sbGVyLnNjcm9sbFRvcCA9IHNjcm9sbFRvcDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB2YXIgaW5uZXJIZWlnaHQgPSB0aGlzLm9wdGlvbnMubWF4SGVpZ2h0IC0gdGhpcy5vcHRpb25zLmJvcmRlciAqIDIgLSB0aGlzLl9nZXREZWx0YSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3Njcm9sbGVyV3JhcHBlci5zdHlsZS5oZWlnaHQgPSBpbm5lckhlaWdodCArICdweCc7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVTY3JvbGxQb3NpdGlvbigpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICghdGhpcy5faXNDb250ZW50SGVpZ2h0RW5vdWdoKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9pbml0QmFyb25TY3JvbGxlcigpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2luaXRCYXJvbigpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9hZGp1c3RQYW4oKTtcbiAgICAgICAgICAgIHRoaXMuX2JpbmRBZGp1c3RQYW5PblRyYW5zaXRpb25FbmQoKTtcbiAgICAgICAgfSxcblxuICAgICAgICBfYWRqdXN0UGFuOiBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX21hcCkgeyByZXR1cm47IH1cblxuICAgICAgICAgICAgaWYgKGUpIHsgLy8gYW5pbWF0ZWQgcG9wdXAgaXMgb3BlbmluZyAoaGVpZ2h0IGZyb20gMCB0byBtYXgpXG4gICAgICAgICAgICAgICAgaWYgKGUucHJvcGVydHlOYW1lID09PSAnbWF4LWhlaWdodCcpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gd2hlbiBpdCdzIGZpbmlzaGVkIHdlIGFyZSBoZXJlXG4gICAgICAgICAgICAgICAgICAgIERHLkRvbUV2ZW50Lm9mZih0aGlzLl93cmFwcGVyLCBERy5Eb21VdGlsLlRSQU5TSVRJT05fRU5ELCB0aGlzLl9hZGp1c3RQYW4pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGhlcmUncyBpbnRlcm1lZGlhdGUgc3RlcHMgLSB3ZSBkb24ndCBuZWVkIHRvIHByb2Nlc3MgdGhlbVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblxuICAgICAgICAgICAgaWYgKCFvcHRpb25zLmF1dG9QYW4pIHsgcmV0dXJuOyB9XG5cbiAgICAgICAgICAgIHZhciBtYXAgPSB0aGlzLl9tYXAsXG4gICAgICAgICAgICAgICAgY29udGFpbmVySGVpZ2h0ID0gdGhpcy5fY29udGFpbmVyLm9mZnNldEhlaWdodCxcbiAgICAgICAgICAgICAgICBjb250YWluZXJXaWR0aCA9IHRoaXMuX2NvbnRhaW5lcldpZHRoLFxuICAgICAgICAgICAgICAgIGxheWVyUG9zID0gbmV3IEwuUG9pbnQodGhpcy5fY29udGFpbmVyTGVmdCwgLWNvbnRhaW5lckhlaWdodCAtIHRoaXMuX2NvbnRhaW5lckJvdHRvbSk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl96b29tQW5pbWF0ZWQpIHtcbiAgICAgICAgICAgICAgICBsYXllclBvcy5fYWRkKEwuRG9tVXRpbC5nZXRQb3NpdGlvbih0aGlzLl9jb250YWluZXIpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGF1dG9QYW5QYWRkaW5nID0gW29wdGlvbnMuYXV0b1BhblBhZGRpbmdbMF0sIG9wdGlvbnMuYXV0b1BhblBhZGRpbmdbMV1dO1xuXG4gICAgICAgICAgICAvLyBpZiB3aWR0aCBvZiBtYXAgaXMgbW9yZSB0aGVuIHdpZHRoIG9mIHBvcHVwIGFuZCBjb250cm9sc1xuICAgICAgICAgICAgLy8gc2V0IGRlZmF1bHQgYXV0b1BhblBhZGRpbmcgdG8gd2lkdGggY29udHJvbHNcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAhdGhpcy5faXNBdXRvUGFuUGFkZGluZ1VzZXJEZWZpbmVkICYmXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX21hcC5fY29udGFpbmVyLm9mZnNldFdpZHRoID49IG9wdGlvbnMubWF4V2lkdGggKyBvcHRpb25zLm1hcENvbnRyb2xzV2lkdGggKiAyXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBhdXRvUGFuUGFkZGluZ1swXSA9IG9wdGlvbnMubWFwQ29udHJvbHNXaWR0aDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGNvbnRhaW5lclBvcyA9IG1hcC5sYXllclBvaW50VG9Db250YWluZXJQb2ludChsYXllclBvcyksXG4gICAgICAgICAgICAgICAgcGFkZGluZyA9IEwucG9pbnQoYXV0b1BhblBhZGRpbmcpLFxuICAgICAgICAgICAgICAgIHBhZGRpbmdUTCA9IEwucG9pbnQob3B0aW9ucy5hdXRvUGFuUGFkZGluZ1RvcExlZnQgfHwgcGFkZGluZyksXG4gICAgICAgICAgICAgICAgcGFkZGluZ0JSID0gTC5wb2ludChvcHRpb25zLmF1dG9QYW5QYWRkaW5nQm90dG9tUmlnaHQgfHwgcGFkZGluZyksXG4gICAgICAgICAgICAgICAgc2l6ZSA9IG1hcC5nZXRTaXplKCksXG4gICAgICAgICAgICAgICAgZHggPSAwLFxuICAgICAgICAgICAgICAgIGR5ID0gMDtcblxuICAgICAgICAgICAgaWYgKHNpemUueCA9PT0gMCB8fCBzaXplLnkgPT09IDApIHtcbiAgICAgICAgICAgICAgICAvLyBtYXAgaXNuJ3QgdmlzaWJsZVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGNvbnRhaW5lclBvcy54ICsgY29udGFpbmVyV2lkdGggKyBwYWRkaW5nQlIueCA+IHNpemUueCkgeyAvLyByaWdodFxuICAgICAgICAgICAgICAgIGR4ID0gY29udGFpbmVyUG9zLnggKyBjb250YWluZXJXaWR0aCAtIHNpemUueCArIHBhZGRpbmdCUi54O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNvbnRhaW5lclBvcy54IC0gZHggLSBwYWRkaW5nVEwueCA8IDApIHsgLy8gbGVmdFxuICAgICAgICAgICAgICAgIGR4ID0gY29udGFpbmVyUG9zLnggLSBwYWRkaW5nVEwueDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjb250YWluZXJQb3MueSArIGNvbnRhaW5lckhlaWdodCArIHBhZGRpbmdCUi55ID4gc2l6ZS55KSB7IC8vIGJvdHRvbVxuICAgICAgICAgICAgICAgIGR5ID0gY29udGFpbmVyUG9zLnkgKyBjb250YWluZXJIZWlnaHQgLSBzaXplLnkgKyBwYWRkaW5nQlIueTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjb250YWluZXJQb3MueSAtIGR5IC0gcGFkZGluZ1RMLnkgPCAwKSB7IC8vIHRvcFxuICAgICAgICAgICAgICAgIGR5ID0gY29udGFpbmVyUG9zLnkgLSBwYWRkaW5nVEwueTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGR4IHx8IGR5KSB7XG4gICAgICAgICAgICAgICAgbWFwXG4gICAgICAgICAgICAgICAgICAgIC5maXJlKCdhdXRvcGFuc3RhcnQnKVxuICAgICAgICAgICAgICAgICAgICAucGFuQnkoW2R4LCBkeV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIF9iaW5kQWRqdXN0UGFuT25UcmFuc2l0aW9uRW5kOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmIChERy5Eb21VdGlsLlRSQU5TSVRJT04pIHtcbiAgICAgICAgICAgICAgICBERy5Eb21FdmVudC5vbih0aGlzLl93cmFwcGVyLCBERy5Eb21VdGlsLlRSQU5TSVRJT05fRU5ELCB0aGlzLl9hZGp1c3RQYW4sIHRoaXMpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9hZGp1c3RQYW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBfaXNDb250ZW50SGVpZ2h0RW5vdWdoOiBmdW5jdGlvbigpIHsgLy8gKCkgLT4gQm9vbGVhblxuICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cbiAgICAgICAgICAgIGlmICghb3B0aW9ucy5tYXhIZWlnaHQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHBvcHVwSGVpZ2h0ID0gdGhpcy5fcG9wdXBTdHJ1Y3R1cmUuYm9keSA/XG4gICAgICAgICAgICAgICAgdGhpcy5fcG9wdXBTdHJ1Y3R1cmUuYm9keS5vZmZzZXRIZWlnaHQgKyB0aGlzLl9nZXREZWx0YSgpIDpcbiAgICAgICAgICAgICAgICB0aGlzLl9jb250ZW50Tm9kZS5vZmZzZXRIZWlnaHQ7XG5cbiAgICAgICAgICAgIHBvcHVwSGVpZ2h0ICs9IG9wdGlvbnMuYm9yZGVyICogMjtcblxuICAgICAgICAgICAgcmV0dXJuIHBvcHVwSGVpZ2h0IDw9IG9wdGlvbnMubWF4SGVpZ2h0O1xuICAgICAgICB9LFxuXG4gICAgICAgIF9pbml0QmFyb25TY3JvbGxlcjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgY29udGVudE5vZGUgPSB0aGlzLl9wb3B1cFN0cnVjdHVyZS5ib2R5LnBhcmVudE5vZGUsXG4gICAgICAgICAgICAgICAgc2Nyb2xsZXJXcmFwcGVyID0gdGhpcy5fc2Nyb2xsZXJXcmFwcGVyID0gREcuRG9tVXRpbC5jcmVhdGUoJ2RpdicsICdkZy1zY3JvbGxlcl9fd3JhcHBlcicsIGNvbnRlbnROb2RlKSxcbiAgICAgICAgICAgICAgICBzY3JvbGxlciA9IHRoaXMuX3Njcm9sbGVyID0gREcuRG9tVXRpbC5jcmVhdGUoJ2RpdicsICdkZy1zY3JvbGxlcicsIHNjcm9sbGVyV3JhcHBlciksXG4gICAgICAgICAgICAgICAgYmFyV3JhcHBlciA9IHRoaXMuX2JhcldyYXBwZXIgPSBERy5Eb21VdGlsLmNyZWF0ZSgnZGl2JywgJ2RnLXNjcm9sbGVyX19iYXItd3JhcHBlcicsIHNjcm9sbGVyKSxcbiAgICAgICAgICAgICAgICBpbm5lckhlaWdodCA9IHRoaXMub3B0aW9ucy5tYXhIZWlnaHQgLSB0aGlzLm9wdGlvbnMuYm9yZGVyICogMjtcblxuICAgICAgICAgICAgdGhpcy5fc2Nyb2xsZXJCYXIgPSBERy5Eb21VdGlsLmNyZWF0ZSgnZGl2JywgJ2RnLXNjcm9sbGVyX19iYXInLCBiYXJXcmFwcGVyKTtcbiAgICAgICAgICAgIHNjcm9sbGVyLmFwcGVuZENoaWxkKHRoaXMuX2RldGFjaEVsKHRoaXMuX3BvcHVwU3RydWN0dXJlLmJvZHkpKTtcblxuICAgICAgICAgICAgaW5uZXJIZWlnaHQgLT0gdGhpcy5fZ2V0RGVsdGEoKTtcbiAgICAgICAgICAgIHNjcm9sbGVyV3JhcHBlci5zdHlsZS5oZWlnaHQgPSBNYXRoLm1heCgxOCwgaW5uZXJIZWlnaHQpICsgJ3B4JztcbiAgICAgICAgICAgIHNjcm9sbGVyV3JhcHBlci5zdHlsZS53aWR0aCA9IGNvbnRlbnROb2RlLm9mZnNldFdpZHRoICsgNSArICdweCc7IC8vVE9ET1xuXG4gICAgICAgICAgICB0aGlzLl9pc0Jhcm9uRXhpc3QgPSB0cnVlO1xuXG4gICAgICAgICAgICB0aGlzLl9zd2l0Y2hFdmVudHMoKTtcbiAgICAgICAgfSxcblxuICAgICAgICBfb25TY3JvbGw6IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZSgnc2Nyb2xsJywge29yaWdpbmFsRXZlbnQ6IGV9KTtcbiAgICAgICAgfSxcblxuICAgICAgICBfb25DbGljazogZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgZS50YXJnZXQgPSBlLnRhcmdldCB8fCBlLnNyY0VsZW1lbnQ7XG5cbiAgICAgICAgICAgIGlmICghdGhpcy5fbW92aW5nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5maXJlKCdjbGljaycsIHtvcmlnaW5hbEV2ZW50OiBlfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgX29uU3RhcnQ6IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIHRoaXMuX21vdmVkID0gZmFsc2U7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9tb3ZpbmcpIHsgcmV0dXJuOyB9XG5cbiAgICAgICAgICAgIHZhciBmaXJzdCA9IGUudG91Y2hlcyA/IGUudG91Y2hlc1swXSA6IGU7XG5cbiAgICAgICAgICAgIHRoaXMuX3N0YXJ0UG9pbnQgPSBuZXcgREcuUG9pbnQoZmlyc3QuY2xpZW50WCwgZmlyc3QuY2xpZW50WSk7XG5cbiAgICAgICAgICAgIHRoaXMuX3RvZ2dsZVRvdWNoRXZlbnRzKCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX29uRW5kOiBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICB0aGlzLl90b2dnbGVUb3VjaEV2ZW50cyh0cnVlKTtcblxuICAgICAgICAgICAgdGhpcy5fb25DbGljayhlKTtcblxuICAgICAgICAgICAgdGhpcy5fbW92aW5nID0gZmFsc2U7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX29uTW92ZTogZnVuY3Rpb24oZSkge1xuXG4gICAgICAgICAgICBpZiAoZS50b3VjaGVzICYmIGUudG91Y2hlcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbW92ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGZpcnN0ID0gKGUudG91Y2hlcyAmJiBlLnRvdWNoZXMubGVuZ3RoID09PSAxID8gZS50b3VjaGVzWzBdIDogZSksXG4gICAgICAgICAgICAgICAgbmV3UG9pbnQgPSBERy5wb2ludChmaXJzdC5jbGllbnRYLCBmaXJzdC5jbGllbnRZKSxcbiAgICAgICAgICAgICAgICBvZmZzZXQgPSBNYXRoLmFicyhuZXdQb2ludC5zdWJ0cmFjdCh0aGlzLl9zdGFydFBvaW50KS55KTtcblxuICAgICAgICAgICAgaWYgKCFvZmZzZXQgfHwgb2Zmc2V0IDwgMTApIHsgcmV0dXJuOyB9XG5cbiAgICAgICAgICAgIHRoaXMuX21vdmluZyA9IHRoaXMuX21vdmVkID0gdHJ1ZTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIF9pbml0QmFyb246IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLl9zY3JvbGxlcldyYXBwZXI7XG4gICAgICAgICAgICB0aGlzLl9iYXJvbiA9IGdyYWYoe1xuICAgICAgICAgICAgICAgIHNjcm9sbGVyOiAnLmRnLXNjcm9sbGVyJyxcbiAgICAgICAgICAgICAgICBiYXI6ICcuZGctc2Nyb2xsZXJfX2JhcicsXG4gICAgICAgICAgICAgICAgdHJhY2s6ICcuZGctc2Nyb2xsZXJfX2Jhci13cmFwcGVyJyxcbiAgICAgICAgICAgICAgICAkOiBmdW5jdGlvbihzZWxlY3Rvcikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbm9kZSA9IHt9LnRvU3RyaW5nLmNhbGwoc2VsZWN0b3IpID09PSAnW29iamVjdCBTdHJpbmddJyA/XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpIDogc2VsZWN0b3I7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBCYXJvbkRvbUhlbHBlcihub2RlKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGV2ZW50OiBmdW5jdGlvbihlbGVtLCBldmVudCwgZnVuYywgbW9kZSkge1xuICAgICAgICAgICAgICAgICAgICBldmVudC5zcGxpdCgnICcpLmZvckVhY2goZnVuY3Rpb24odHlwZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgREcuRG9tRXZlbnRbbW9kZSB8fCAnb24nXShlbGVtLCB0eXBlLCBmdW5jKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX2luaXRIZWFkZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy5fcG9wdXBTdHJ1Y3R1cmUuaGVhZGVyID0gREcuRG9tVXRpbC5jcmVhdGUoJ2hlYWRlcicsICdkZy1wb3B1cF9faGVhZGVyJywgdGhpcy5fY29udGVudE5vZGUpO1xuICAgICAgICAgICAgdGhpcy5fcG9wdXBTdHJ1Y3R1cmUuaGVhZGVyLnNldEF0dHJpYnV0ZSgnZGlyJywgdGhpcy5vcHRpb25zLnRleHREaXJlY3Rpb24pO1xuICAgICAgICB9LFxuXG4gICAgICAgIF9pbml0Rm9vdGVyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRoaXMuX3BvcHVwU3RydWN0dXJlLmZvb3RlciA9IERHLkRvbVV0aWwuY3JlYXRlKCdmb290ZXInLCAnZGctcG9wdXBfX2Zvb3RlcicsIHRoaXMuX2NvbnRlbnROb2RlKTtcbiAgICAgICAgICAgIHRoaXMuX3BvcHVwU3RydWN0dXJlLmZvb3Rlci5zZXRBdHRyaWJ1dGUoJ2RpcicsIHRoaXMub3B0aW9ucy50ZXh0RGlyZWN0aW9uKTtcbiAgICAgICAgfSxcblxuICAgICAgICBfaW5pdEJvZHlDb250YWluZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy5fcG9wdXBTdHJ1Y3R1cmUud3JhcHBlciA9IERHLkRvbVV0aWwuY3JlYXRlKCdkaXYnLCAnZGctcG9wdXBfX2NvbnRhaW5lci13cmFwcGVyJywgdGhpcy5fY29udGVudE5vZGUpO1xuICAgICAgICAgICAgdGhpcy5fcG9wdXBTdHJ1Y3R1cmUuYm9keSA9IERHLkRvbVV0aWwuY3JlYXRlKCdkaXYnLCAnZGctcG9wdXBfX2NvbnRhaW5lcicsIHRoaXMuX3BvcHVwU3RydWN0dXJlLndyYXBwZXIpO1xuICAgICAgICAgICAgdGhpcy5fcG9wdXBTdHJ1Y3R1cmUuYm9keS5zZXRBdHRyaWJ1dGUoJ2RpcicsIHRoaXMub3B0aW9ucy50ZXh0RGlyZWN0aW9uKTtcbiAgICAgICAgfSxcblxuICAgICAgICB1cGRhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9tYXApIHsgcmV0dXJuOyB9XG5cbiAgICAgICAgICAgIGlmICghREcuQnJvd3Nlci5pZWx0OSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbic7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9zd2l0Y2hFdmVudHModHJ1ZSk7XG5cbiAgICAgICAgICAgIHRoaXMuX2NsZWFyTm9kZSh0aGlzLl9jb250ZW50Tm9kZSk7XG4gICAgICAgICAgICB0aGlzLl9pc0Jhcm9uRXhpc3QgPSBmYWxzZTtcblxuICAgICAgICAgICAgLy8gaW5pdCBwb3B1cCBjb250ZW50IGRvbSBzdHJ1Y3R1cmVcbiAgICAgICAgICAgIGlmICh0aGlzLl9oZWFkZXJDb250ZW50KSB7IHRoaXMuX2luaXRIZWFkZXIoKTsgfVxuICAgICAgICAgICAgaWYgKHRoaXMuX2JvZHlDb250ZW50KSB7IHRoaXMuX2luaXRCb2R5Q29udGFpbmVyKCk7IH1cbiAgICAgICAgICAgIGlmICh0aGlzLl9mb290ZXJDb250ZW50KSB7IHRoaXMuX2luaXRGb290ZXIoKTsgfVxuXG4gICAgICAgICAgICB0aGlzLl91cGRhdGVQb3B1cFN0cnVjdHVyZSgpO1xuICAgICAgICAgICAgdGhpcy5yZXNpemUoKTtcblxuICAgICAgICAgICAgREcuRG9tRXZlbnQub24odGhpcy5fd3JhcHBlciwgJ2NsaWNrJywgREcuRG9tRXZlbnQuc3RvcFByb3BhZ2F0aW9uKTtcbiAgICAgICAgICAgIHRoaXMuX3N3aXRjaEV2ZW50cygpO1xuXG4gICAgICAgICAgICBpZiAoREcuQnJvd3Nlci5pZWx0OSkge1xuICAgICAgICAgICAgICAgIHZhciBlbGVtID0gdGhpcy5fcG9wdXBTdHJ1Y3R1cmUuZm9vdGVyO1xuICAgICAgICAgICAgICAgIGlmIChlbGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW0uY2xhc3NOYW1lICs9ICcgaWU4JztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghREcuQnJvd3Nlci5pZWx0OSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5ID0gJyc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgX2dldERlbHRhOiBmdW5jdGlvbigpIHsgLy8gKCkgLT4gTnVtYmVyXG4gICAgICAgICAgICB2YXIgZGVsdGEgPSAwLFxuICAgICAgICAgICAgICAgIHBvcHVwID0gdGhpcy5fcG9wdXBTdHJ1Y3R1cmU7XG5cbiAgICAgICAgICAgIGlmIChwb3B1cC5oZWFkZXIpIHtcbiAgICAgICAgICAgICAgICBkZWx0YSArPSBwb3B1cC5oZWFkZXIub2Zmc2V0SGVpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHBvcHVwLmZvb3Rlcikge1xuICAgICAgICAgICAgICAgIGRlbHRhICs9IHBvcHVwLmZvb3Rlci5vZmZzZXRIZWlnaHQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBkZWx0YTtcbiAgICAgICAgfSxcblxuICAgICAgICBfdXBkYXRlTGF5b3V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBvcHRzID0gdGhpcy5vcHRpb25zLFxuICAgICAgICAgICAgICAgIGNvbnRlbnQgPSB0aGlzLl9jb250ZW50Tm9kZSwgLy8gbGVhZmxldC1wb3B1cC1jb250ZW50XG4gICAgICAgICAgICAgICAgd3JhcHBlciA9IHRoaXMuX3dyYXBwZXIsIC8vIGxlYWZsZXQtcG9wdXAtY29udGVudC13cmFwcGVyXG4gICAgICAgICAgICAgICAgc3R5bGUgPSBjb250ZW50LnN0eWxlLFxuICAgICAgICAgICAgICAgIHdyYXBwZXJTdHlsZSA9IHdyYXBwZXIuc3R5bGUsXG4gICAgICAgICAgICAgICAgd2lkdGgsXG4gICAgICAgICAgICAgICAgc2Nyb2xsZWRDbGFzcyA9ICdsZWFmbGV0LXBvcHVwLXNjcm9sbGVkJyxcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcblxuICAgICAgICAgICAgc3R5bGUubWFyZ2luID0gb3B0cy5ib3JkZXIgKyAncHgnO1xuXG4gICAgICAgICAgICBERy5Eb21VdGlsLnJlbW92ZUNsYXNzKGNvbnRlbnQsIHNjcm9sbGVkQ2xhc3MpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5faXNDb250ZW50SGVpZ2h0RW5vdWdoKCkpIHtcbiAgICAgICAgICAgICAgICB3cmFwcGVyU3R5bGUubWF4SGVpZ2h0ID0gY29udGVudC5vZmZzZXRIZWlnaHQgKyBvcHRzLmJvcmRlciAqIDIgKyAncHgnO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB3cmFwcGVyU3R5bGUubWF4SGVpZ2h0ID0gb3B0cy5tYXhIZWlnaHQgKyAncHgnO1xuICAgICAgICAgICAgICAgIERHLkRvbVV0aWwuYWRkQ2xhc3MoY29udGVudCwgc2Nyb2xsZWRDbGFzcyk7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGF2YWlsYWJsZVdpZHRoID0gb3B0cy5hdXRvUGFuUGFkZGluZ1swXSAqIDI7XG5cbiAgICAgICAgICAgIGlmIChvcHRzLnNwcmF3bGluZykge1xuICAgICAgICAgICAgICAgIHdpZHRoID0gb3B0cy5tYXhXaWR0aDtcblxuICAgICAgICAgICAgICAgIHdpZHRoID0gTWF0aC5taW4od2lkdGgsIHRoaXMuX21hcC5fY29udGFpbmVyLm9mZnNldFdpZHRoIC0gYXZhaWxhYmxlV2lkdGgpO1xuICAgICAgICAgICAgICAgIHdpZHRoID0gTWF0aC5tYXgod2lkdGgsIG9wdHMubWluV2lkdGgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB3cmFwcGVyU3R5bGUud2lkdGggPSAnJztcblxuICAgICAgICAgICAgICAgIHN0eWxlLndoaXRlU3BhY2UgPSAnbm93cmFwJztcbiAgICAgICAgICAgICAgICB3aWR0aCA9IHdyYXBwZXIub2Zmc2V0V2lkdGg7XG4gICAgICAgICAgICAgICAgc3R5bGUud2hpdGVTcGFjZSA9ICcnO1xuXG4gICAgICAgICAgICAgICAgd2lkdGggPSBNYXRoLm1pbih3aWR0aCwgdGhpcy5fbWFwLl9jb250YWluZXIub2Zmc2V0V2lkdGggLSBhdmFpbGFibGVXaWR0aCk7XG4gICAgICAgICAgICAgICAgd2lkdGggPSBNYXRoLm1pbihNYXRoLm1heCh3aWR0aCwgb3B0cy5taW5XaWR0aCksIG9wdHMubWF4V2lkdGgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB3cmFwcGVyU3R5bGUud2lkdGggPSB3aWR0aCArICdweCc7XG5cbiAgICAgICAgICAgIHRoaXMuX2NvbnRhaW5lcldpZHRoID0gdGhpcy5fY29udGFpbmVyLm9mZnNldFdpZHRoO1xuXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9LFxuXG4gICAgICAgIF91cGRhdGVQb3B1cFN0cnVjdHVyZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBPYmplY3Qua2V5cyh0aGlzLl9wb3B1cFN0cnVjdHVyZSkuZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5faW5zZXJ0Q29udGVudCh0aGlzWydfJyArIGl0ZW0gKyAnQ29udGVudCddLCB0aGlzLl9wb3B1cFN0cnVjdHVyZVtpdGVtXSk7XG4gICAgICAgICAgICB9LCB0aGlzKTtcblxuICAgICAgICAgICAgdGhpcy5maXJlKCdjb250ZW50dXBkYXRlJyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX2luc2VydENvbnRlbnQ6IGZ1bmN0aW9uKGNvbnRlbnQsIG5vZGUpIHsgLy8gKFN0cmluZyB8IERPTUVsZW1lbnQsIERPTUVsZW1lbnQpXG4gICAgICAgICAgICBpZiAoIWNvbnRlbnQgfHwgIW5vZGUpIHsgcmV0dXJuOyB9XG5cbiAgICAgICAgICAgIGNvbnRlbnQgPSAodHlwZW9mIGNvbnRlbnQgPT09ICdmdW5jdGlvbicpID8gY29udGVudCh0aGlzLl9zb3VyY2UgfHwgdGhpcykgOiBjb250ZW50O1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgbm9kZS5pbm5lckhUTUwgPSBjb250ZW50O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jbGVhck5vZGUobm9kZSk7XG4gICAgICAgICAgICAgICAgbm9kZS5hcHBlbmRDaGlsZChjb250ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBfY2xlYXJOb2RlOiBmdW5jdGlvbihub2RlKSB7IC8vIChET01FbGVtZW50KVxuICAgICAgICAgICAgd2hpbGUgKG5vZGUuaGFzQ2hpbGROb2RlcygpKSB7XG4gICAgICAgICAgICAgICAgbm9kZS5yZW1vdmVDaGlsZChub2RlLmZpcnN0Q2hpbGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIF9kZXRhY2hFbDogZnVuY3Rpb24oZWxlbSkgeyAvLyAoRE9NRWxlbWVudCkgLT4gRE9NRWxlbWVudFxuICAgICAgICAgICAgaWYgKGVsZW0ucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgICAgIGVsZW0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlbGVtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBlbGVtO1xuICAgICAgICB9LFxuXG4gICAgICAgIF9zd2l0Y2hFdmVudHM6IGZ1bmN0aW9uKG9uKSB7IC8vIChCb29sZWFuKVxuICAgICAgICAgICAgdmFyIHN3aXRjaGVyID0gb24gPyAnb2ZmJyA6ICdvbic7XG5cbiAgICAgICAgICAgIGlmICghREcuQnJvd3Nlci50b3VjaCkge1xuICAgICAgICAgICAgICAgIERHLkRvbUV2ZW50W3N3aXRjaGVyXSh0aGlzLl9jb250ZW50Tm9kZSwgJ2NsaWNrJywgdGhpcy5fb25DbGljaywgdGhpcyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIERHLkRvbUV2ZW50W3N3aXRjaGVyXSh0aGlzLl9jb250ZW50Tm9kZSwgJ3RvdWNoc3RhcnQgbW91c2Vkb3duIG1vdXNlbW92ZScsIHRoaXMuX29uU3RhcnQsIHRoaXMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5faXNCYXJvbkV4aXN0KSB7XG4gICAgICAgICAgICAgICAgREcuRG9tRXZlbnRbc3dpdGNoZXJdKHRoaXMuX3Njcm9sbGVyLCAnc2Nyb2xsJywgdGhpcy5fb25TY3JvbGwsIHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIF90b2dnbGVUb3VjaEV2ZW50czogZnVuY3Rpb24ob24pIHtcbiAgICAgICAgICAgIHZhciBzd2l0Y2hlciA9IG9uID8gJ29mZicgOiAnb24nO1xuXG4gICAgICAgICAgICBERy5Eb21FdmVudFtzd2l0Y2hlcl0odGhpcy5fY29udGVudE5vZGUsICd0b3VjaG1vdmUnLCB0aGlzLl9vbk1vdmUsIHRoaXMpO1xuICAgICAgICAgICAgREcuRG9tRXZlbnRbc3dpdGNoZXJdKHRoaXMuX2NvbnRlbnROb2RlLCAndG91Y2hlbmQnLCB0aGlzLl9vbkVuZCwgdGhpcyk7XG4gICAgICAgIH1cblxuICAgIH0pO1xufSgpKTtcblxuXG5ERy5NYXAuaW5jbHVkZSh7XG4gICAgX21hcmtlckNsYXNzOiAnZGctY3VzdG9taXphdGlvbl9fbWFya2VyX3R5cGVfbXVzaHJvb20nLFxuICAgIF9tYXJrZXJTaG93Q2xhc3M6ICdkZy1jdXN0b21pemF0aW9uX19tYXJrZXJfYXBwZWFyJyxcbiAgICBfbWFya2VySGlkZUNsYXNzOiAnZGctY3VzdG9taXphdGlvbl9fbWFya2VyX2Rpc2FwcGVhcicsXG4gICAgX2RnSGlkZUNsYXNzOiAnZGctcG9wdXBfaGlkZGVuX3RydWUnLFxuICAgIG9wZW5Qb3B1cDogZnVuY3Rpb24ocG9wdXAsIGxhdGxuZywgb3B0aW9ucykgeyAvLyAoUG9wdXApIG9yIChTdHJpbmcgfHwgSFRNTEVsZW1lbnQsIExhdExuZ1ssIE9iamVjdF0pXG4gICAgICAgIGlmICghKHBvcHVwIGluc3RhbmNlb2YgTC5Qb3B1cCkpIHtcbiAgICAgICAgICAgIHZhciBjb250ZW50ID0gcG9wdXA7XG5cbiAgICAgICAgICAgIHBvcHVwID0gbmV3IEwuUG9wdXAob3B0aW9ucykuc2V0Q29udGVudChjb250ZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChsYXRsbmcpIHtcbiAgICAgICAgICAgIHBvcHVwLnNldExhdExuZyhsYXRsbmcpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuaGFzTGF5ZXIocG9wdXApKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9wb3B1cCAmJiB0aGlzLl9wb3B1cC5vcHRpb25zLmF1dG9DbG9zZSkge1xuICAgICAgICAgICAgdGhpcy5jbG9zZVBvcHVwKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9wb3B1cCA9IHBvcHVwO1xuXG4gICAgICAgIGlmIChwb3B1cC5fc291cmNlICYmIHBvcHVwLl9zb3VyY2UuX2ljb24pIHtcbiAgICAgICAgICAgIGlmIChwb3B1cC5fc291cmNlLl9pY29uLmNsYXNzTmFtZS5pbmRleE9mKHRoaXMuX21hcmtlckNsYXNzKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICBERy5Eb21VdGlsLnJlbW92ZUNsYXNzKHBvcHVwLl9zb3VyY2UuX2ljb24sIHRoaXMuX21hcmtlclNob3dDbGFzcyk7XG4gICAgICAgICAgICAgICAgREcuRG9tVXRpbC5hZGRDbGFzcyhwb3B1cC5fc291cmNlLl9pY29uLCB0aGlzLl9tYXJrZXJIaWRlQ2xhc3MpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBERy5Eb21VdGlsLmFkZENsYXNzKHBvcHVwLl9zb3VyY2UuX2ljb24sIHRoaXMuX2RnSGlkZUNsYXNzKTtcbiAgICAgICAgICAgICAgICBpZiAocG9wdXAuX3NvdXJjZS5fc2hhZG93KSB7XG4gICAgICAgICAgICAgICAgICAgIERHLkRvbVV0aWwuYWRkQ2xhc3MocG9wdXAuX3NvdXJjZS5fc2hhZG93LCB0aGlzLl9kZ0hpZGVDbGFzcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkTGF5ZXIocG9wdXApO1xuICAgIH0sXG5cbiAgICBjbG9zZVBvcHVwOiBmdW5jdGlvbihwb3B1cCkgeyAgLy8gKFBvcHVwKSAtPiBQb3B1cFxuICAgICAgICBpZiAoIXBvcHVwIHx8IHBvcHVwID09PSB0aGlzLl9wb3B1cCkge1xuICAgICAgICAgICAgcG9wdXAgPSB0aGlzLl9wb3B1cDtcbiAgICAgICAgICAgIHRoaXMuX3BvcHVwID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAocG9wdXApIHtcbiAgICAgICAgICAgIGlmIChwb3B1cC5fc291cmNlICYmIHBvcHVwLl9zb3VyY2UuX2ljb24pIHtcbiAgICAgICAgICAgICAgICBpZiAocG9wdXAuX3NvdXJjZS5faWNvbi5jbGFzc05hbWUuaW5kZXhPZih0aGlzLl9tYXJrZXJDbGFzcykgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIERHLkRvbVV0aWwucmVtb3ZlQ2xhc3MocG9wdXAuX3NvdXJjZS5faWNvbiwgdGhpcy5fbWFya2VySGlkZUNsYXNzKTtcbiAgICAgICAgICAgICAgICAgICAgREcuRG9tVXRpbC5hZGRDbGFzcyhwb3B1cC5fc291cmNlLl9pY29uLCB0aGlzLl9tYXJrZXJTaG93Q2xhc3MpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIERHLkRvbVV0aWwucmVtb3ZlQ2xhc3MocG9wdXAuX3NvdXJjZS5faWNvbiwgdGhpcy5fZGdIaWRlQ2xhc3MpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocG9wdXAuX3NvdXJjZS5fc2hhZG93KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBERy5Eb21VdGlsLnJlbW92ZUNsYXNzKHBvcHVwLl9zb3VyY2UuX3NoYWRvdywgdGhpcy5fZGdIaWRlQ2xhc3MpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5yZW1vdmVMYXllcihwb3B1cCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59KTtcbiIsIkRHLkRpY3Rpb25hcnkgPSB7fTtcblxuREcuRGljdGlvbmFyeS5ydSA9IHtcbiAgICBwbHVyYWxSdWxlczogZnVuY3Rpb24obikgeyAvLyAoTnVtYmVyKVxuICAgICAgICBpZiAobiAlIDEwID09PSAxICYmIG4gJSAxMDAgIT09IDExKSB7IC8vIDEsIDIxXG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKG4gJSAxMCA+PSAyICYmIG4gJSAxMCA8PSA0ICYmIChuICUgMTApICUgMSA9PT0gMCkgJiYgKG4gJSAxMDAgPCAxMiB8fCBuICUgMTAwID4gMTQpKSB7IC8vIDIsIDNcbiAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKChuICUgMTAgPT09IDApIHx8IChuICUgMTAgPj0gNSAmJiBuICUgMTAgPD0gOSAmJiAobiAlIDEwKSAlIDEgPT09IDApIHx8IChuICUgMTAwID49IDExICYmIChuICUgMTAwKSA8PSAxNCAmJiAobiAlIDEwMCkgJSAxID09PSAwKSkgeyAvLyAxMywgMTdcbiAgICAgICAgICAgIHJldHVybiAyO1xuICAgICAgICB9XG4gICAgfVxufTtcblxuREcuRGljdGlvbmFyeS5lbiA9IHtcbiAgICBwbHVyYWxSdWxlczogZnVuY3Rpb24obikgeyAvLyAoTnVtYmVyKVxuICAgICAgICBpZiAobiA9PT0gMSkgeyAvLyAxXG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAxOyAvLzAsIDIsIDMsIDQgLi5cbiAgICAgICAgfVxuICAgIH1cbn07XG5cbkRHLkRpY3Rpb25hcnkuaXQgPSB7XG4gICAgcGx1cmFsUnVsZXM6IGZ1bmN0aW9uKG4pIHsgLy8gKE51bWJlcilcbiAgICAgICAgaWYgKG4gPT09IDEpIHsgLy8gMVxuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gMTsgLy8wLCAyLCAzLCA0IC4uXG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5ERy5EaWN0aW9uYXJ5LmNzID0ge1xuICAgIHBsdXJhbFJ1bGVzOiBmdW5jdGlvbihuKSB7IC8vIChOdW1iZXIpXG4gICAgICAgIHJldHVybiAobiA9PT0gMSkgPyAwIDogKG4gPj0gMiAmJiBuIDw9IDQpID8gMSA6IDI7XG4gICAgfVxufTtcblxuREcuRGljdGlvbmFyeS5lcyA9IHtcbiAgICBwbHVyYWxSdWxlczogZnVuY3Rpb24obikgeyAvLyAoTnVtYmVyKVxuICAgICAgICByZXR1cm4gKG4gPj0gMikgPyAxIDogMDtcbiAgICB9XG59O1xuXG4vLyBTdHViIGZvciBBcmFiaWMgbGFuZ3VhZ2UsIHdlIGRvbid0IGhhdmUgY2FzZXMgd2l0aCBwbHVyYWwgZm9ybSB1c2FnZVxuLy8gQWN0dWFsbHkgQXJhYmljIGhhcyA2IHBsdXJhbCBmb3Jtc1xuREcuRGljdGlvbmFyeS5hciA9IHtcbiAgICBwbHVyYWxSdWxlczogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cbn07XG4iLCJERy5Mb2NhbGUgPSB7XG4gICAgdDogZnVuY3Rpb24obXNnLCBhcmd1bWVudCkgeyAvLyAoU3RyaW5nLCBOdW1iZXIpIC0+IFN0cmluZ1xuICAgICAgICB2YXIgcmVzdWx0LFxuICAgICAgICAgICAgbGFuZyA9IHRoaXMuX21hcC5nZXRMYW5nKCksXG4gICAgICAgICAgICBtc2dJc3NldCA9IGZhbHNlLFxuICAgICAgICAgICAgZGljdGlvbmFyeU1zZyxcbiAgICAgICAgICAgIGV4cDtcblxuICAgICAgICBpZiAodHlwZW9mIHRoaXMuY29uc3RydWN0b3IuRGljdGlvbmFyeVtsYW5nXSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIGlmIChsYW5nID09PSAnYXInKSB7XG4gICAgICAgICAgICAgICAgbGFuZyA9ICdlbic7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGxhbmcgPSBERy5jb25maWcuZGVmYXVsdExhbmc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZGljdGlvbmFyeU1zZyA9IHRoaXMuY29uc3RydWN0b3IuRGljdGlvbmFyeVtsYW5nXVttc2ddO1xuICAgICAgICBtc2dJc3NldCA9IHR5cGVvZiBkaWN0aW9uYXJ5TXNnICE9PSAndW5kZWZpbmVkJztcbiAgICAgICAgaWYgKCFtc2dJc3NldCkge1xuICAgICAgICAgICAgcmV0dXJuIG1zZztcbiAgICAgICAgfVxuICAgICAgICByZXN1bHQgPSBtc2dJc3NldCA/IGRpY3Rpb25hcnlNc2cgOiBtc2c7XG5cbiAgICAgICAgaWYgKGFyZ3VtZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGFyZ3VtZW50ID0gcGFyc2VJbnQoYXJndW1lbnQsIDEwKTtcbiAgICAgICAgICAgIGFyZ3VtZW50ID0gaXNOYU4oYXJndW1lbnQpID8gMCA6IGFyZ3VtZW50O1xuICAgICAgICAgICAgZXhwID0gdGhpcy5jb25zdHJ1Y3Rvci5EaWN0aW9uYXJ5W2xhbmddLnBsdXJhbFJ1bGVzKGFyZ3VtZW50KTtcbiAgICAgICAgICAgIHJlc3VsdCA9IGRpY3Rpb25hcnlNc2dbZXhwXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlc3VsdCA9IERHLlV0aWwudGVtcGxhdGUocmVzdWx0LCB7bjogYXJndW1lbnR9KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG59O1xuXG5ERy5NYXAuaW5jbHVkZSh7XG4gICAgc2V0TGFuZzogZnVuY3Rpb24obGFuZykgeyAvLyAoU3RyaW5nKVxuICAgICAgICBpZiAobGFuZyAmJiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobGFuZykgPT09ICdbb2JqZWN0IFN0cmluZ10nKSB7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMuY3VycmVudExhbmcgPSBsYW5nO1xuICAgICAgICAgICAgdGhpcy5maXJlKCdsYW5nY2hhbmdlJywgeydsYW5nJzogbGFuZ30pO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIGdldExhbmc6IGZ1bmN0aW9uKCkgeyAvLyAoKSAtPiBTdHJpbmdcbiAgICAgICAgLy8gSWYgdGhlIGxhbmd1YWdlIGhhc24ndCBiZWVuIHNldCBiZWZvcmUsIHNldCBpdCB0byBwYWdlIGxhbmd1YWdlIG9yXG4gICAgICAgIC8vIGRlZmF1bHQgbGFuZ3VhZ2UgZnJvbSBjb25maWdcbiAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMuY3VycmVudExhbmcpIHtcbiAgICAgICAgICAgIHZhciByb290ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICAgICAgICAgICAgdmFyIGxhbmcgPSByb290LmxhbmcgfHwgKHJvb3QuZ2V0QXR0cmlidXRlTlMgJiYgcm9vdC5nZXRBdHRyaWJ1dGVOUygnaHR0cDovL3d3dy53My5vcmcvWE1MLzE5OTgvbmFtZXNwYWNlJywgJ2xhbmcnKSkgfHwgREcuY29uZmlnLmRlZmF1bHRMYW5nO1xuXG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMuY3VycmVudExhbmcgPSBsYW5nO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5jdXJyZW50TGFuZztcbiAgICB9XG59KTtcbiIsIkRHLlJvdW5kQ29udHJvbCA9IERHLkNvbnRyb2wuZXh0ZW5kKHtcbiAgICBpbmNsdWRlczogREcuTWl4aW4uRXZlbnRzLFxuXG4gICAgb3B0aW9uczoge1xuICAgICAgICBwb3NpdGlvbjogJ3RvcHJpZ2h0JyxcbiAgICAgICAgaWNvbkNsYXNzOiAnZGVmYXVsdCdcbiAgICB9LFxuXG4gICAgb25BZGQ6IGZ1bmN0aW9uKG1hcCkge1xuICAgICAgICB2YXIgY29udHJvbENsYXNzID0gdGhpcy5fY29udHJvbENMYXNzID0gJ2RnLWNvbnRyb2wtcm91bmQnLFxuICAgICAgICAgICAgY29udHJvbEljb25DbGFzcyA9IHRoaXMuX2NvbnRyb2xJY29uQ0xhc3MgPSB0aGlzLl9jb250cm9sQ0xhc3MgKyAnX19pY29uJyxcbiAgICAgICAgICAgIGNvbnRhaW5lciA9IERHLkRvbVV0aWwuY3JlYXRlKCdkaXYnLCAnJyk7XG5cbiAgICAgICAgaWYgKHRoaXMuX2Rpc2FibGUpIHtcbiAgICAgICAgICAgIHJldHVybiBjb250YWluZXI7XG4gICAgICAgIH1cbiAgICAgICAgREcuRG9tVXRpbC5hZGRDbGFzcyhjb250YWluZXIsIGNvbnRyb2xDbGFzcyk7XG5cbiAgICAgICAgdmFyIGxpbmsgPSB0aGlzLl9saW5rID0gREcuRG9tVXRpbC5jcmVhdGUoXG4gICAgICAgICAgICAnYScsXG4gICAgICAgICAgICBjb250cm9sSWNvbkNsYXNzICsgJyAnICsgY29udHJvbEljb25DbGFzcyArICdfbmFtZV8nICsgdGhpcy5vcHRpb25zLmljb25DbGFzcyxcbiAgICAgICAgICAgIGNvbnRhaW5lclxuICAgICAgICApO1xuXG4gICAgICAgIGxpbmsuaHJlZiA9ICcjJztcblxuICAgICAgICB0aGlzLl9yZW5kZXJUcmFuc2xhdGlvbigpO1xuXG4gICAgICAgIHRoaXMuX21hcCA9IG1hcDtcblxuICAgICAgICBERy5Eb21FdmVudFxuICAgICAgICAgICAgLm9uKGNvbnRhaW5lciwgJ2NsaWNrJywgdGhpcy5fdG9nZ2xlQ29udHJvbCwgdGhpcylcbiAgICAgICAgICAgIC5vbihjb250YWluZXIsICdkYmxjbGljaycsIERHLkRvbUV2ZW50LnN0b3BQcm9wYWdhdGlvbilcbiAgICAgICAgICAgIC5vbihsaW5rLCAnbW91c2Vkb3duJywgREcuRG9tRXZlbnQuc3RvcFByb3BhZ2F0aW9uKTtcblxuICAgICAgICB0aGlzLmZpcmVFdmVudCgnYWRkJyk7XG5cbiAgICAgICAgcmV0dXJuIGNvbnRhaW5lcjtcbiAgICB9LFxuXG4gICAgb25SZW1vdmU6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLmZpcmVFdmVudCgncmVtb3ZlJyk7XG4gICAgICAgIERHLkRvbUV2ZW50Lm9mZih0aGlzLl9saW5rLCAnY2xpY2snLCB0aGlzLl90b2dnbGVDb250cm9sKTtcbiAgICB9LFxuXG4gICAgc2V0U3RhdGU6IGZ1bmN0aW9uKHN0YXRlKSB7XG4gICAgICAgIGlmICghdGhpcy5fbGluayB8fCAhdGhpcy5fY29udGFpbmVyKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9zdGF0ZSkge1xuICAgICAgICAgICAgREcuRG9tVXRpbC5yZW1vdmVDbGFzcyh0aGlzLl9jb250YWluZXIsIHRoaXMuX2NvbnRyb2xDTGFzcyArICdfc3RhdGVfJyArIHRoaXMuX3N0YXRlKTtcbiAgICAgICAgICAgIERHLkRvbVV0aWwucmVtb3ZlQ2xhc3ModGhpcy5fbGluaywgdGhpcy5fY29udHJvbEljb25DTGFzcyArICdfc3RhdGVfJyArIHRoaXMuX3N0YXRlKTtcblxuICAgICAgICAgICAgdGhpcy5fc3RhdGUgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHN0YXRlKSB7XG4gICAgICAgICAgICB0aGlzLl9zdGF0ZSA9IHN0YXRlO1xuXG4gICAgICAgICAgICBERy5Eb21VdGlsLmFkZENsYXNzKHRoaXMuX2NvbnRhaW5lciwgdGhpcy5fY29udHJvbENMYXNzICsgJ19zdGF0ZV8nICsgdGhpcy5fc3RhdGUpO1xuICAgICAgICAgICAgREcuRG9tVXRpbC5hZGRDbGFzcyh0aGlzLl9saW5rLCB0aGlzLl9jb250cm9sSWNvbkNMYXNzICsgJ19zdGF0ZV8nICsgdGhpcy5fc3RhdGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIF90b2dnbGVDb250cm9sOiBmdW5jdGlvbihlKSB7XG4gICAgICAgIERHLkRvbUV2ZW50LnN0b3AoZSk7XG4gICAgICAgIHRoaXMuZmlyZUV2ZW50KCdjbGljaycpO1xuICAgIH1cbn0pO1xuXG5ERy5Sb3VuZENvbnRyb2wuaW5jbHVkZShERy5Mb2NhbGUpO1xuXG5ERy5yb3VuZENvbnRyb2wgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgcmV0dXJuIG5ldyBERy5Sb3VuZENvbnRyb2wob3B0aW9ucyk7XG59O1xuIiwidmFyIGllOSA9IChmdW5jdGlvbigpIHtcbiAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIGFsbCA9IGRpdi5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaScpO1xuICAgIGRpdi5pbm5lckhUTUwgPSAnPCEtLVtpZiBJRSA5XT48aT48L2k+PCFbZW5kaWZdLS0+JztcbiAgICByZXR1cm4gQm9vbGVhbihhbGxbMF0pO1xufSkoKTtcblxudmFyIHNhZmFyaTUxID0gREcuQnJvd3Nlci5zYWZhcmkgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdWZXJzaW9uLzUuMScpICE9PSAtMTtcblxudmFyIHdhc1ByZXZpb3VzbHlEaXNhYmxlZCA9IGZhbHNlO1xuXG4vLyBPbGQgU2FmYXJpIHRocm93cyBlcnJvciB3aGVuIGxvY2FsU3RvcmFnZS5nZXRJdGVtIGlzIGNhbGxlZCBpbiBwcml2YXRlIG1vZGVcbnRyeSB7XG4gICAgd2FzUHJldmlvdXNseURpc2FibGVkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ0RHTXVzZXVtJykgPT09ICdmYWxzZSc7XG59IGNhdGNoIChlcnIpIHtcbiAgICAvLyBkbyBub3RoaW5nXG59XG5cbkRHLk1hcC5tZXJnZU9wdGlvbnMoe1xuICAgIG11c2V1bTogIXdhc1ByZXZpb3VzbHlEaXNhYmxlZCAmJiAoREcuQnJvd3Nlci5pZWx0OSB8fCBpZTkgfHwgREcuQnJvd3Nlci5vcGVyYTEyIHx8IHNhZmFyaTUxKVxufSk7XG5cbkRHLk1hcC5NdXNldW0gPSBERy5IYW5kbGVyLmV4dGVuZCh7XG4gICAgc3RhdGljczoge1xuICAgICAgICBEaWN0aW9uYXJ5OiB7XG4gICAgICAgICAgICBhcjoge1xuICAgICAgICAgICAgICAgIHdlYXJlc29ycnk6ICfZhNinINmG2LbZhdmGINmE2YMg2KrYtNi62YrZhCDYq9in2KjYqiDZhNmE2KrYt9io2YrZgiDYudmE2Ykg2YXYqti12YHYrdmDLiDYrdin2YjZhCDYp9mE2KrYrdiv2YrYqzonXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY3M6IHtcbiAgICAgICAgICAgICAgICB3ZWFyZXNvcnJ5OiAnTmV6YXJ1xI11amVtZSBzdGFiaWxuw60gZnVuZ292w6Fuw60gYXBsaWthY2UgdmUgVmHFoWVtIHByb2hsw63FvmXEjWkuIFprdXN0ZSBwcm92w6lzdCBha3R1YWxpemFjaTonXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZW46IHtcbiAgICAgICAgICAgICAgICB3ZWFyZXNvcnJ5OiAnV2UgZG8gbm90IGd1YXJhbnRlZSBzdGFibGUgb3BlcmF0aW9uIG9mIHRoZSBhcHBsaWNhdGlvbiBpbiB5b3VyIGJyb3dzZXIuIFRyeSB1cGRhdGluZzonXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXM6IHtcbiAgICAgICAgICAgICAgICB3ZWFyZXNvcnJ5OiAnTm8gZ2FyYW50aXphbW9zIHVuIGZ1bmNpb25hbWllbnRvIGVzdGFibGUgZGUgbGEgYXBsaWNhY2nDs24gZW4gc3UgYnVzY2Fkb3IuIEludGVudGUgYWN0dWFsaXphcmxvOidcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpdDoge1xuICAgICAgICAgICAgICAgIHdlYXJlc29ycnk6ICdOb24gZ2FyYW50aWFtbyBpbCBmdW56aW9uYW1lbnRvIHN0YWJpbGUgZGVsbFxcJ2FwcGxpY2F6aW9uZSBuZWwgdHVvIGJyb3dzZXIuIFByb3ZhIGFkIGFnZ2lvcm5hcmU6J1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJ1OiB7XG4gICAgICAgICAgICAgICAgd2VhcmVzb3JyeTogJ9Cc0Ysg0L3QtSDQs9Cw0YDQsNC90YLQuNGA0YPQtdC8INGB0YLQsNCx0LjQu9GM0L3Rg9GOINGA0LDQsdC+0YLRgyDQv9GA0LjQu9C+0LbQtdC90LjRjyDQsiDQstCw0YjQtdC8INCx0YDQsNGD0LfQtdGA0LUuINCf0L7Qv9GA0L7QsdGD0LnRgtC1INC+0LHQvdC+0LLQuNGC0YzRgdGPOidcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBpbmNsdWRlczogW0RHLkxvY2FsZV0sXG5cbiAgICBpbml0aWFsaXplOiBmdW5jdGlvbihtYXApIHtcbiAgICAgICAgdGhpcy5fbWFwID0gbWFwO1xuXG4gICAgICAgIHRoaXMuX2VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdGhpcy5fZWxlbWVudC5jbGFzc05hbWUgPSAnZGctbXVzZXVtJztcbiAgICAgICAgdGhpcy5fZWxlbWVudC5pbm5lckhUTUwgPSAnPHNwYW4+PC9zcGFuPicgK1xuICAgICAgICAgICAgJzxhIGNsYXNzPVwiZGctbXVzZXVtLWJyb3dzZXIgZGctbXVzZXVtX19jaHJvbWVcIiB0YXJnZXQ9XCJfYmxhbmtcIiBocmVmPVwiaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9jaHJvbWUvXCI+PC9hPicgK1xuICAgICAgICAgICAgJzxhIGNsYXNzPVwiZGctbXVzZXVtLWJyb3dzZXIgZGctbXVzZXVtX19maXJlZm94XCIgdGFyZ2V0PVwiX2JsYW5rXCIgaHJlZj1cImh0dHBzOi8vd3d3Lm1vemlsbGEub3JnL2ZpcmVmb3gvbmV3L1wiPjwvYT4nICtcbiAgICAgICAgICAgICc8YSBjbGFzcz1cImRnLW11c2V1bS1icm93c2VyIGRnLW11c2V1bV9fc2FmYXJpXCIgdGFyZ2V0PVwiX2JsYW5rXCIgaHJlZj1cImh0dHBzOi8vc3VwcG9ydC5hcHBsZS5jb20vZG93bmxvYWRzL3NhZmFyaVwiPjwvYT4nICtcbiAgICAgICAgICAgICc8YSBjbGFzcz1cImRnLW11c2V1bS1icm93c2VyIGRnLW11c2V1bV9fb3BlcmFcIiB0YXJnZXQ9XCJfYmxhbmtcIiBocmVmPVwiaHR0cHM6Ly93d3cub3BlcmEuY29tL1wiPjwvYT4nICtcbiAgICAgICAgICAgICc8YSBjbGFzcz1cImRnLW11c2V1bS1icm93c2VyIGRnLW11c2V1bV9faWVcIiB0YXJnZXQ9XCJfYmxhbmtcIiBocmVmPVwiaHR0cHM6Ly93aW5kb3dzLm1pY3Jvc29mdC5jb20vaW50ZXJuZXQtZXhwbG9yZXIvZG93bmxvYWQtaWVcIj48L2E+JztcblxuICAgICAgICB0aGlzLl90ZXh0ID0gdGhpcy5fZWxlbWVudC5jaGlsZHJlblswXTtcblxuICAgICAgICB0aGlzLl9jbG9zZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgdGhpcy5fY2xvc2VCdXR0b24uY2xhc3NOYW1lID0gJ2RnLW11c2V1bV9fY2xvc2UnO1xuICAgICAgICB0aGlzLl9lbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuX2Nsb3NlQnV0dG9uKTtcblxuICAgICAgICB0aGlzLl9yZW5kZXJUcmFuc2xhdGlvbigpO1xuICAgIH0sXG5cbiAgICBhZGRIb29rczogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuX21hcC5nZXRDb250YWluZXIoKS5hcHBlbmRDaGlsZCh0aGlzLl9lbGVtZW50KTtcbiAgICAgICAgdGhpcy5fbWFwLm9uKCdsYW5nY2hhbmdlJywgdGhpcy5fcmVuZGVyVHJhbnNsYXRpb24sIHRoaXMpO1xuICAgICAgICBERy5Eb21FdmVudC5vbih0aGlzLl9jbG9zZUJ1dHRvbiwgJ2NsaWNrJywgdGhpcy5fb25DbG9zZUJ1dHRvbkNsaWNrLCB0aGlzKTtcbiAgICB9LFxuXG4gICAgcmVtb3ZlSG9va3M6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLl9tYXAuZ2V0Q29udGFpbmVyKCkucmVtb3ZlQ2hpbGQodGhpcy5fZWxlbWVudCk7XG4gICAgICAgIHRoaXMuX21hcC5vZmYoJ2xhbmdjaGFuZ2UnLCB0aGlzLl9yZW5kZXJUcmFuc2xhdGlvbiwgdGhpcyk7XG4gICAgICAgIERHLkRvbUV2ZW50Lm9mZih0aGlzLl9jbG9zZUJ1dHRvbiwgJ2NsaWNrJywgdGhpcy5fb25DbG9zZUJ1dHRvbkNsaWNrLCB0aGlzKTtcbiAgICB9LFxuXG4gICAgX29uQ2xvc2VCdXR0b25DbGljazogZnVuY3Rpb24oZSkge1xuICAgICAgICBERy5Eb21FdmVudC5zdG9wKGUpO1xuXG4gICAgICAgIC8vIE9sZCBTYWZhcmkgdGhyb3dzIGVycm9yIHdoZW4gbG9jYWxTdG9yYWdlLmdldEl0ZW0gaXMgY2FsbGVkIGluIHByaXZhdGUgbW9kZVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ0RHTXVzZXVtJywgJ2ZhbHNlJyk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgLy8gZG8gbm90aGluZ1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5kaXNhYmxlKCk7XG4gICAgfSxcblxuICAgIF9yZW5kZXJUcmFuc2xhdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBsYW5nID0gdGhpcy5fbWFwLmdldExhbmcoKTtcbiAgICAgICAgdGhpcy5fdGV4dC5pbm5lckhUTUwgPSB0aGlzLnQoJ3dlYXJlc29ycnknKTtcbiAgICAgICAgdGhpcy5fZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2RpcicsIGxhbmcgPT09ICdhcicgPyAncnRsJzogJ2x0cicpO1xuICAgIH1cbn0pO1xuXG5ERy5NYXAuYWRkSW5pdEhvb2soJ2FkZEhhbmRsZXInLCAnbXVzZXVtJywgREcuTWFwLk11c2V1bSk7XG4iLCJERy5jb25maWdUaGVtZSA9IERHLmNvbmZpZ1RoZW1lIHx8IHt9O1xuXG5ERy5jb25maWdUaGVtZS5tYXJrZXJzRGF0YSA9IHtcbiAgICBpY29uU2l6ZTogWzIyLCAzNF0sXG4gICAgY2xhc3NOYW1lOiAnZGctY3VzdG9taXphdGlvbl9fbWFya2VyIGRnLWN1c3RvbWl6YXRpb25fX21hcmtlcl90eXBlX211c2hyb29tJyxcbiAgICBpY29uQW5jaG9yOiBbMTAsIDMyXVxufTtcbiIsIi8vIEZpeCBhIGxvdCBvZiBidWdzIHdpdGggcGluY2gtem9vbWluZ1xuLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS8yZ2lzL21hcHNhcGkvaXNzdWVzLzMyN1xuREcuTWFwLm1lcmdlT3B0aW9ucyh7XG4gICAgYm91bmNlQXRab29tTGltaXRzOiBmYWxzZVxufSk7XG5cbi8vSW5qZWN0IG9ic2VydmluZyBsb2NhbGl6YXRpb24gY2hhbmdlXG52YXIgY29udHJvbEFkZFRvID0gREcuQ29udHJvbC5wcm90b3R5cGUuYWRkVG87XG5cbkRHLkNvbnRyb2wuaW5jbHVkZSh7XG4gICAgYWRkVG86IGZ1bmN0aW9uKG1hcCkge1xuICAgICAgICBtYXAub24oJ2xhbmdjaGFuZ2UnLCB0aGlzLl9yZW5kZXJUcmFuc2xhdGlvbiwgdGhpcyk7XG5cbiAgICAgICAgcmV0dXJuIGNvbnRyb2xBZGRUby5jYWxsKHRoaXMsIG1hcCk7XG4gICAgfSxcbiAgICBfcmVuZGVyVHJhbnNsYXRpb246IGZ1bmN0aW9uKCkge31cbn0pO1xuXG4vLyBBZGQgc29tZSBicm93c2VyIGRldGVjdGlvblxuREcuQnJvd3Nlci5zYWZhcmk1MSA9IERHLkJyb3dzZXIuc2FmYXJpICYmIG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignVmVyc2lvbi81LjEnKSAhPT0gLTE7XG5cbi8vIERHLkJyb3dzZXIudG91Y2ggY2hlY2tzIHdoZXRoZXIgdG91Y2ggZXZlbnRzIHN1cHBvcnRlZCBvciBub3Q7IHRvdWNoRW5hYmxlZCBjaGVja3MgaWYgaXQncyBhIHRvdWNoIGRldmljZVxudmFyIG1zUG9pbnRlciA9IG5hdmlnYXRvci5tc1BvaW50ZXJFbmFibGVkICYmIG5hdmlnYXRvci5tc01heFRvdWNoUG9pbnRzICYmICF3aW5kb3cuUG9pbnRlckV2ZW50O1xudmFyIHBvaW50ZXIgPSAod2luZG93LlBvaW50ZXJFdmVudCAmJiBuYXZpZ2F0b3IucG9pbnRlckVuYWJsZWQgJiYgbmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzKSB8fCBtc1BvaW50ZXI7XG52YXIgZG9jdW1lbnRUb3VjaCA9IHdpbmRvdy5Eb2N1bWVudFRvdWNoICYmIGRvY3VtZW50IGluc3RhbmNlb2Ygd2luZG93LkRvY3VtZW50VG91Y2g7XG5ERy5Ccm93c2VyLnRvdWNoRW5hYmxlZCA9IHBvaW50ZXIgfHwgJ29udG91Y2hzdGFydCcgaW4gd2luZG93IHx8IGRvY3VtZW50VG91Y2g7XG5cbi8vIEFwcGxpZXMgMkdJUyBkaXZJY29uIHRvIG1hcmtlclxuREcuTWFya2VyLnByb3RvdHlwZS5vcHRpb25zLmljb24gPSBERy5kaXZJY29uKERHLmNvbmZpZ1RoZW1lLm1hcmtlcnNEYXRhKTtcblxuLy8gc3VwcG9ydCBvbGQgb3B0aW9uIGNsaWNrYWJsZVxudmFyIHV0aWxTZXRPcHRpb25zID0gREcuVXRpbC5zZXRPcHRpb25zO1xuXG5ERy5zZXRPcHRpb25zID0gTC5zZXRPcHRpb25zID0gREcuVXRpbC5zZXRPcHRpb25zID0gZnVuY3Rpb24ob2JqLCBvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgJiYgdHlwZW9mIG9wdGlvbnMuY2xpY2thYmxlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBvcHRpb25zLmludGVyYWN0aXZlID0gb3B0aW9ucy5jbGlja2FibGU7XG4gICAgfVxuXG4gICAgcmV0dXJuIHV0aWxTZXRPcHRpb25zLmNhbGwodGhpcywgb2JqLCBvcHRpb25zKTtcbn07XG5cbkRHLkxheWVyLm1lcmdlT3B0aW9ucyh7XG4gICAgbm9uQnViYmxpbmdFdmVudHM6IFsnY2xpY2snLCAnZGJsY2xpY2snLCAnbW91c2VvdmVyJywgJ21vdXNlb3V0JywgJ2NvbnRleHRtZW51J11cbn0pO1xuXG5MLkNhbnZhcy5pbmNsdWRlKHtcbiAgICAvLyBvdmVyd3JpdGUgdGhlIGZ1bmN0aW9uIHdpdGhvdXQgbW91c2Vtb3ZlIGRlYm91bmNlIGFzIGl0IGJyZWFrcyBtZXRhbGF5ZXJzIGV2ZW50c1xuICAgIF9pbml0Q29udGFpbmVyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGNvbnRhaW5lciA9IHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuXG4gICAgICAgIEwuRG9tRXZlbnRcbiAgICAgICAgICAgIC5vbihjb250YWluZXIsICdtb3VzZW1vdmUnLCB0aGlzLl9vbk1vdXNlTW92ZSwgdGhpcylcbiAgICAgICAgICAgIC5vbihjb250YWluZXIsICdjbGljayBkYmxjbGljayBtb3VzZWRvd24gbW91c2V1cCBjb250ZXh0bWVudScsIHRoaXMuX29uQ2xpY2ssIHRoaXMpXG4gICAgICAgICAgICAub24oY29udGFpbmVyLCAnbW91c2VvdXQnLCB0aGlzLl9oYW5kbGVNb3VzZU91dCwgdGhpcyk7XG5cbiAgICAgICAgdGhpcy5fY3R4ID0gY29udGFpbmVyLmdldENvbnRleHQoJzJkJyk7XG4gICAgfVxufSk7XG4iLCJ2YXIgaW5pdE1hcCA9IERHLk1hcC5wcm90b3R5cGUuaW5pdGlhbGl6ZSxcbiAgICBwYW5CeSA9IERHLk1hcC5wcm90b3R5cGUucGFuQnksXG4gICAgZ2V0Qm91bmRzWm9vbSA9IERHLk1hcC5wcm90b3R5cGUuZ2V0Qm91bmRzWm9vbSxcbiAgICBzZXRNYXhab29tID0gREcuTWFwLnByb3RvdHlwZS5zZXRNYXhab29tO1xuXG4vLyBSZXN0cmljdCB6b29tIGxldmVsIGFjY29yZGluZyB0byAyZ2lzIHByb2plY3RzLCBpbiBjYXNlIGlmIGRnVGlsZUxheWVyIGlzIG9ubHkgb25lXG5ERy5NYXAuaW5jbHVkZSh7XG5cbiAgICAvLyBudW1iZXIgb2YgdGlsZUxheWVycyB3aXRob3V0IDJnaXMgbGF5ZXJzXG4gICAgX3RpbGVMYXllcnNOdW1iZXI6IDAsXG5cbiAgICBfbWFwTWF4Wm9vbUNhY2hlOiBudWxsLFxuXG4gICAgLy9UT0RPIHRyeSByZWZhY3RvciBpdCBhZnRlciB1cCBvbiBuZXcgbGVhZmxldCAoPiAwLjcpXG4gICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oaWQsIG9wdGlvbnMpIHsgLy8gKEhUTUxFbGVtZW50IG9yIFN0cmluZywgT2JqZWN0KVxuICAgICAgICAvLyBPdmVycmlkZSBkZWZhdWx0IHdoZWVsUHhQZXJab29tTGV2ZWwgdmFsdWUgdG8gYXZvaWQgem9vbWluZyB0b28gZmFzdFxuICAgICAgICAvLyBvbiBtb3VzZSB3aGVlbCByb3RhdGlvblxuICAgICAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tLzJnaXMvbWFwc2FwaS9pc3N1ZXMvMzQzXG4gICAgICAgIG9wdGlvbnMgPSBERy5leHRlbmQoe3doZWVsUHhQZXJab29tTGV2ZWw6IDEwMDAwfSwgb3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy5tZXRhTGF5ZXJzID0gW107XG5cbiAgICAgICAgaW5pdE1hcC5jYWxsKHRoaXMsIGlkLCBvcHRpb25zKTtcblxuICAgICAgICAvLyAgUHJvamVjdCBtdXN0IGJlIGNoZWNrZWQgYWZ0ZXIgQmFzZUxheWVyIGluaXQgd2hpY2ggb2NjdXJzIGluIEluaXRIb29rIChzZWUgb3JpZyBtZXRob2QgZGVmaW5pdGlvbilcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5jZW50ZXIgJiYgdGhpcy5vcHRpb25zLnpvb20gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5zZXRWaWV3KERHLmxhdExuZyh0aGlzLm9wdGlvbnMuY2VudGVyKSwgdGhpcy5vcHRpb25zLnpvb20sIHtyZXNldDogdHJ1ZX0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fbGFzdE1ldGFsYXllciA9IHtcbiAgICAgICAgICAgIGxheWVyOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBlbnRpdHk6IHVuZGVmaW5lZFxuICAgICAgICB9O1xuICAgIH0sXG5cbiAgICBzZXRWaWV3OiBmdW5jdGlvbihjZW50ZXIsIHpvb20sIG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5fcmVzdHJpY3Rab29tKGNlbnRlciwgem9vbSk7XG5cbiAgICAgICAgem9vbSA9IHpvb20gPT09IHVuZGVmaW5lZCA/IHRoaXMuX3pvb20gOiB0aGlzLl9saW1pdFpvb20oem9vbSk7XG4gICAgICAgIGNlbnRlciA9IHRoaXMuX2xpbWl0Q2VudGVyKERHLmxhdExuZyhjZW50ZXIpLCB6b29tLCB0aGlzLm9wdGlvbnMubWF4Qm91bmRzKTtcbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuYW5pbWF0ZSkge1xuICAgICAgICAgICAgb3B0aW9ucy5hbmltYXRlID0gdGhpcy5fdGVzdEFuaW1hdGlvbihjZW50ZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fc3RvcCgpO1xuXG4gICAgICAgIGlmICh0aGlzLl9sb2FkZWQgJiYgIW9wdGlvbnMucmVzZXQgJiYgb3B0aW9ucyAhPT0gdHJ1ZSkge1xuXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5hbmltYXRlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zLnpvb20gPSBERy5leHRlbmQoe1xuICAgICAgICAgICAgICAgICAgICBhbmltYXRlOiBvcHRpb25zLmFuaW1hdGUsXG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBvcHRpb25zLmR1cmF0aW9uXG4gICAgICAgICAgICAgICAgfSwgb3B0aW9ucy56b29tKTtcbiAgICAgICAgICAgICAgICBvcHRpb25zLnBhbiA9IERHLmV4dGVuZCh7XG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGU6IG9wdGlvbnMuYW5pbWF0ZSxcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IG9wdGlvbnMuZHVyYXRpb25cbiAgICAgICAgICAgICAgICB9LCBvcHRpb25zLnBhbik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHRyeSBhbmltYXRpbmcgcGFuIG9yIHpvb21cbiAgICAgICAgICAgIHZhciBhbmltYXRlZCA9ICh0aGlzLl96b29tICE9PSB6b29tKSA/XG4gICAgICAgICAgICB0aGlzLl90cnlBbmltYXRlZFpvb20gJiYgdGhpcy5fdHJ5QW5pbWF0ZWRab29tKGNlbnRlciwgem9vbSwgb3B0aW9ucy56b29tKSA6XG4gICAgICAgICAgICAgICAgdGhpcy5fdHJ5QW5pbWF0ZWRQYW4oY2VudGVyLCBvcHRpb25zLnBhbik7XG5cbiAgICAgICAgICAgIGlmIChhbmltYXRlZCkge1xuICAgICAgICAgICAgICAgIC8vIHByZXZlbnQgcmVzaXplIGhhbmRsZXIgY2FsbCwgdGhlIHZpZXcgd2lsbCByZWZyZXNoIGFmdGVyIGFuaW1hdGlvbiBhbnl3YXlcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fc2l6ZVRpbWVyKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGFuaW1hdGlvbiBkaWRuJ3Qgc3RhcnQsIGp1c3QgcmVzZXQgdGhlIG1hcCB2aWV3XG4gICAgICAgIHRoaXMuX3Jlc2V0VmlldyhjZW50ZXIsIHpvb20pO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICBwYW5CeTogZnVuY3Rpb24ob2Zmc2V0LCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBtYXAgPSBwYW5CeS5jYWxsKHRoaXMsIG9mZnNldCwgb3B0aW9ucyk7XG5cbiAgICAgICAgdmFyIHpvb20gPSB0aGlzLl9yZXN0cmljdFpvb20odGhpcy5nZXRDZW50ZXIoKSk7XG4gICAgICAgIGlmICh0aGlzLmdldFpvb20oKSA+IHpvb20pIHtcbiAgICAgICAgICAgIHRoaXMuc2V0Wm9vbSh6b29tKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBtYXA7XG4gICAgfSxcblxuICAgIGdldEJvdW5kc1pvb206IGZ1bmN0aW9uKGJvdW5kcywgaW5zaWRlLCBwYWRkaW5nKSB7XG4gICAgICAgIGJvdW5kcyA9IERHLmxhdExuZ0JvdW5kcyhib3VuZHMpO1xuICAgICAgICB0aGlzLl9yZXN0cmljdFpvb20oYm91bmRzKTtcbiAgICAgICAgcmV0dXJuIGdldEJvdW5kc1pvb20uY2FsbCh0aGlzLCBib3VuZHMsIGluc2lkZSwgcGFkZGluZyk7XG4gICAgfSxcblxuICAgIGdldFRpbGVMYXllcnNOdW1iZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGlsZUxheWVyc051bWJlcjtcbiAgICB9LFxuXG4gICAgc2V0TWF4Wm9vbTogZnVuY3Rpb24oem9vbSkge1xuICAgICAgICB0aGlzLl9tYXBNYXhab29tQ2FjaGUgPSBudWxsO1xuICAgICAgICByZXR1cm4gc2V0TWF4Wm9vbS5jYWxsKHRoaXMsIHpvb20pO1xuICAgIH0sXG5cbiAgICBfdGVzdEFuaW1hdGlvbjogZnVuY3Rpb24oY29vcmRzKSB7Ly9pZiB3ZSBqdW1wIHRvIG90aGVyIHByb2plY3QgLSBkaXNhYmxlIGFuaW1hdGlvblxuICAgICAgICBpZiAodGhpcy5wcm9qZWN0RGV0ZWN0b3IuZW5hYmxlZCgpKSB7XG4gICAgICAgICAgICB2YXIgcHJvamVjdEZyb20gPSB0aGlzLnByb2plY3REZXRlY3Rvci5nZXRQcm9qZWN0KCksXG4gICAgICAgICAgICAgICAgcHJvamVjdFRvID0gdGhpcy5wcm9qZWN0RGV0ZWN0b3IuaXNQcm9qZWN0SGVyZShjb29yZHMpO1xuXG4gICAgICAgICAgICBpZiAocHJvamVjdEZyb20gJiYgcHJvamVjdFRvKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHByb2plY3RGcm9tLmNvZGUgPT09IHByb2plY3RUby5jb2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcblxuICAgIF91cGRhdGVUaWxlTGF5ZXJzOiBmdW5jdGlvbihlKSB7XG4gICAgICAgIGlmICghKGUubGF5ZXIgaW5zdGFuY2VvZiBERy5UaWxlTGF5ZXIpIHx8IGUubGF5ZXIuX2lzRGcpIHsgcmV0dXJuOyB9XG5cbiAgICAgICAgaWYgKGUudHlwZSA9PT0gJ2xheWVyYWRkJykge1xuICAgICAgICAgICAgdGhpcy5fdGlsZUxheWVyc051bWJlcisrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fdGlsZUxheWVyc051bWJlci0tO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIF9nZXROZXdCb3VuZHM6IGZ1bmN0aW9uKGNvb3Jkcywgem9vbSkge1xuICAgICAgICBpZiAoY29vcmRzIGluc3RhbmNlb2YgREcuTGF0TG5nQm91bmRzKSB7XG4gICAgICAgICAgICByZXR1cm4gY29vcmRzO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHBvaW50ID0gdGhpcy5wcm9qZWN0KGNvb3Jkcywgem9vbSk7XG4gICAgICAgIHZhciBzY3JlZW5TaXplID0gdGhpcy5nZXRTaXplKCkuZGl2aWRlQnkoMik7XG5cbiAgICAgICAgdmFyIHN3ID0gdGhpcy51bnByb2plY3QocG9pbnQuc3VidHJhY3Qoc2NyZWVuU2l6ZSksIHpvb20pO1xuICAgICAgICB2YXIgbmUgPSB0aGlzLnVucHJvamVjdChwb2ludC5hZGQoc2NyZWVuU2l6ZSksIHpvb20pO1xuXG4gICAgICAgIHJldHVybiBERy5sYXRMbmdCb3VuZHMoc3csIG5lKTtcbiAgICB9LFxuXG4gICAgX3Jlc3RyaWN0Wm9vbTogZnVuY3Rpb24oY29vcmRzLCB6b29tKSB7XG4gICAgICAgIGlmICh0aGlzLl9sYXllcnMgJiZcbiAgICAgICAgICAgIHRoaXMucHJvamVjdERldGVjdG9yLmVuYWJsZWQoKSAmJlxuICAgICAgICAgICAgKHRoaXMuX3RpbGVMYXllcnNOdW1iZXIgPT09IDApKSB7XG5cbiAgICAgICAgICAgIHZhciBtYXBPcHRpb25zID0gdGhpcy5vcHRpb25zLFxuICAgICAgICAgICAgICAgIGlzTWFwTWF4Wm9vbSA9ICEhbWFwT3B0aW9ucy5tYXhab29tLFxuICAgICAgICAgICAgICAgIGRnVGlsZUxheWVyID0gdGhpcy5iYXNlTGF5ZXIsXG4gICAgICAgICAgICAgICAgYm91bmRzID0gdGhpcy5fZ2V0TmV3Qm91bmRzKGNvb3Jkcywgem9vbSksXG4gICAgICAgICAgICAgICAgcHJvamVjdCA9IHRoaXMucHJvamVjdERldGVjdG9yLmlzUHJvamVjdEhlcmUoYm91bmRzKTtcblxuICAgICAgICAgICAgaWYgKGlzTWFwTWF4Wm9vbSkge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fbWFwTWF4Wm9vbUNhY2hlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmJhc2VMYXllci5vcHRpb25zLmRldGVjdFJldGluYSAmJiBERy5Ccm93c2VyLnJldGluYSAmJiBtYXBPcHRpb25zLm1heFpvb20gPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXBPcHRpb25zLm1heFpvb20tLTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX21hcE1heFpvb21DYWNoZSA9IG1hcE9wdGlvbnMubWF4Wm9vbTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbWFwT3B0aW9ucy5tYXhab29tID0gKHRoaXMuX21hcE1heFpvb21DYWNoZSAmJiBwcm9qZWN0KSA/IHRoaXMuX21hcE1heFpvb21DYWNoZSA6ICBERy5jb25maWcucHJvamVjdExlYXZlTWF4Wm9vbTtcbiAgICAgICAgICAgICAgICBpZiAocHJvamVjdCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9tYXBNYXhab29tQ2FjaGUgPSBtYXBPcHRpb25zLm1heFpvb207XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIG1hcE9wdGlvbnMubWF4Wm9vbTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHByb2plY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRnVGlsZUxheWVyLm9wdGlvbnMuZGV0ZWN0UmV0aW5hICYmIERHLkJyb3dzZXIucmV0aW5hICYmIHByb2plY3QubWF4Wm9vbSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRnVGlsZUxheWVyLm9wdGlvbnMubWF4Wm9vbSA9IHByb2plY3QubWF4Wm9vbSAtIDE7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZ1RpbGVMYXllci5vcHRpb25zLm1heFpvb20gPSBwcm9qZWN0Lm1heFpvb207XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBkZ1RpbGVMYXllci5vcHRpb25zLm1heFpvb20gPSBERy5jb25maWcucHJvamVjdExlYXZlTWF4Wm9vbTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBkZ1RpbGVMYXllci5vcHRpb25zLm1heE5hdGl2ZVpvb20gPSBkZ1RpbGVMYXllci5vcHRpb25zLm1heFpvb207XG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlWm9vbUxldmVscygpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRnVGlsZUxheWVyLm9wdGlvbnMubWF4Wm9vbTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvLyBBZGRlZCBtZXRhIGxheWVycyBldmVudHMgcHJvY2Vzc2luZyBiZWZvcmUgbWFwIGV2ZW50c1xuICAgIF9maXJlRE9NRXZlbnQ6IGZ1bmN0aW9uKGUsIHR5cGUsIHRhcmdldHMpIHtcbiAgICAgICAgaWYgKGUua2V5Q29kZSA9PT0gMTMpIHtcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9MZWFmbGV0L0xlYWZsZXQvaXNzdWVzLzU0OTlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZS50eXBlID09PSAnY2xpY2snKSB7XG4gICAgICAgICAgICAvLyBGaXJlIGEgc3ludGhldGljICdwcmVjbGljaycgZXZlbnQgd2hpY2ggcHJvcGFnYXRlcyB1cCAobWFpbmx5IGZvciBjbG9zaW5nIHBvcHVwcykuXG4gICAgICAgICAgICAvLyBAZXZlbnQgcHJlY2xpY2s6IE1vdXNlRXZlbnRcbiAgICAgICAgICAgIC8vIEZpcmVkIGJlZm9yZSBtb3VzZSBjbGljayBvbiB0aGUgbWFwIChzb21ldGltZXMgdXNlZnVsIHdoZW4geW91XG4gICAgICAgICAgICAvLyB3YW50IHNvbWV0aGluZyB0byBoYXBwZW4gb24gY2xpY2sgYmVmb3JlIGFueSBleGlzdGluZyBjbGlja1xuICAgICAgICAgICAgLy8gaGFuZGxlcnMgc3RhcnQgcnVubmluZykuXG4gICAgICAgICAgICB2YXIgc3ludGggPSBMLlV0aWwuZXh0ZW5kKHt9LCBlKTtcbiAgICAgICAgICAgIHN5bnRoLnR5cGUgPSAncHJlY2xpY2snO1xuICAgICAgICAgICAgdGhpcy5fZmlyZURPTUV2ZW50KHN5bnRoLCBzeW50aC50eXBlLCB0YXJnZXRzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlLl9zdG9wcGVkKSB7IHJldHVybjsgfVxuXG4gICAgICAgIC8vIEZpbmQgdGhlIGxheWVyIHRoZSBldmVudCBpcyBwcm9wYWdhdGluZyBmcm9tIGFuZCBpdHMgcGFyZW50cy5cbiAgICAgICAgdGFyZ2V0cyA9ICh0YXJnZXRzIHx8IFtdKS5jb25jYXQodGhpcy5fZmluZEV2ZW50VGFyZ2V0cyhlLCB0eXBlKSk7XG5cbiAgICAgICAgaWYgKCF0YXJnZXRzLmxlbmd0aCkgeyByZXR1cm47IH1cblxuICAgICAgICB2YXIgdGFyZ2V0ID0gdGFyZ2V0c1swXTtcbiAgICAgICAgaWYgKHR5cGUgPT09ICdjb250ZXh0bWVudScgJiYgdGFyZ2V0Lmxpc3RlbnModHlwZSwgdHJ1ZSkpIHtcbiAgICAgICAgICAgIEwuRG9tRXZlbnQucHJldmVudERlZmF1bHQoZSk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZGF0YSA9IHtcbiAgICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IGVcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoZS50eXBlICE9PSAna2V5cHJlc3MnKSB7XG4gICAgICAgICAgICB2YXIgaXNNYXJrZXIgPSB0YXJnZXQgaW5zdGFuY2VvZiBMLk1hcmtlcjtcbiAgICAgICAgICAgIGRhdGEuY29udGFpbmVyUG9pbnQgPSBpc01hcmtlciA/XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGF0TG5nVG9Db250YWluZXJQb2ludCh0YXJnZXQuZ2V0TGF0TG5nKCkpIDogdGhpcy5tb3VzZUV2ZW50VG9Db250YWluZXJQb2ludChlKTtcbiAgICAgICAgICAgIGRhdGEubGF5ZXJQb2ludCA9IHRoaXMuY29udGFpbmVyUG9pbnRUb0xheWVyUG9pbnQoZGF0YS5jb250YWluZXJQb2ludCk7XG4gICAgICAgICAgICBkYXRhLmxhdGxuZyA9IGlzTWFya2VyID8gdGFyZ2V0LmdldExhdExuZygpIDogdGhpcy5sYXllclBvaW50VG9MYXRMbmcoZGF0YS5sYXllclBvaW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGFyZ2V0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgLy8gQ2hlY2sgbWV0YWxheWVycyBiZWZvcmUgZGlzcGF0Y2ggdGhlIGV2ZW50IHRvIHRoZSBtYXBcbiAgICAgICAgICAgIGlmICh0YXJnZXRzW2ldID09PSB0aGlzKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1ldGFsYXllciA9IHRoaXMuX2dldEN1cnJlbnRNZXRhTGF5ZXIoZGF0YSk7XG5cbiAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gJ21vdXNlbW92ZScpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2xhc3RNZXRhbGF5ZXIuZW50aXR5ICYmIG1ldGFsYXllci5lbnRpdHkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2xhc3RNZXRhbGF5ZXIuZW50aXR5LmlkID09PSBtZXRhbGF5ZXIuZW50aXR5LmlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9maXJlTWV0YWxheWVyRXZlbnQoJ21vdXNlbW92ZScsIG1ldGFsYXllciwgZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9maXJlTWV0YWxheWVyRXZlbnQoJ21vdXNlb3V0JywgdGhpcy5fbGFzdE1ldGFsYXllciwgZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9maXJlTWV0YWxheWVyRXZlbnQoJ21vdXNlb3ZlcicsIG1ldGFsYXllciwgZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9maXJlTWV0YWxheWVyRXZlbnQoJ21vdXNlbW92ZScsIG1ldGFsYXllciwgZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9sYXN0TWV0YWxheWVyID0gbWV0YWxheWVyO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZmlyZU1ldGFsYXllckV2ZW50KHR5cGUsIG1ldGFsYXllciwgZGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIGV2ZW50IHdhc24ndCBzdG9wcGVkIGluIG1ldGFsYXllcnMsIGRpc3BhdGNoIGl0IHRvIHRoZSBtYXBcbiAgICAgICAgICAgICAgICBpZiAoIWRhdGEub3JpZ2luYWxFdmVudC5fc3RvcHBlZCkge1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXRzW2ldLmZpcmUodHlwZSwgZGF0YSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0YXJnZXRzW2ldLmZpcmUodHlwZSwgZGF0YSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2xhc3RNZXRhbGF5ZXIuZW50aXR5ICYmIGRhdGEub3JpZ2luYWxFdmVudC5fc3RvcHBlZCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBmaXhlcyBMLmNpcmNsZShbNTQuOTgzMTM2ODMxNDU1LCA4Mi44OTc0NDA3MjUwOTRdLCAyMDApLmFkZFRvKG1hcCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2ZpcmVNZXRhbGF5ZXJFdmVudCgnbW91c2VvdXQnLCB0aGlzLl9sYXN0TWV0YWxheWVyLCBkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbGFzdE1ldGFsYXllciA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBlbnRpdHk6IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGRhdGEub3JpZ2luYWxFdmVudC5fc3RvcHBlZCB8fFxuICAgICAgICAgICAgICAgICh0YXJnZXRzW2ldLm9wdGlvbnMubm9uQnViYmxpbmdFdmVudHMgJiYgTC5VdGlsLmluZGV4T2YodGFyZ2V0c1tpXS5vcHRpb25zLm5vbkJ1YmJsaW5nRXZlbnRzLCB0eXBlKSAhPT0gLTEpKSB7IHJldHVybjsgfVxuICAgICAgICB9XG4gICAgfSxcblxuICAgIF9nZXRDdXJyZW50TWV0YUxheWVyOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgIC8vIE5vdCBmb3JnZXQgZm9yIElFOCB3aXRoIHNyY0VsZW1lbnRcbiAgICAgICAgdmFyIGV2ZW50VGFyZ2V0ID0gZGF0YS5vcmlnaW5hbEV2ZW50LnRhcmdldCB8fCBkYXRhLm9yaWdpbmFsRXZlbnQuc3JjRWxlbWVudDtcblxuICAgICAgICAvLyBTdXBwb3NlIHRoYXQgdXNlciBjYW4gaW50ZXJhY3Qgd2l0aCB0aGUgbWV0YWxheWVyIG9ubHkgaWYgdGhlcmUgYXJlIG5vIGxheWVycyBiZXR3ZWVuIGN1cnNvciBhbmQgbWFwXG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIC8vIEZvciBhbGwgYnJvd3NlcnMgd2hpY2ggc3VwcG9ydCBwb2ludGVyLWV2ZW50czogbm9uZSBvbiB0aWxlc1xuICAgICAgICAgICAgZXZlbnRUYXJnZXQgPT09IHRoaXMuX2NvbnRhaW5lciB8fFxuICAgICAgICAgICAgLy8gQW5kIGZvciBJRTEwIG9yIGxlc3Mgd2hlcmUgdGFyZ2V0cyBhcmUgdGlsZXNcbiAgICAgICAgICAgIERHLkJyb3dzZXIuaWUgJiYgZXZlbnRUYXJnZXQuY2xhc3NOYW1lID09PSAnbGVhZmxldC10aWxlIGxlYWZsZXQtdGlsZS1sb2FkZWQnIHx8XG4gICAgICAgICAgICAvLyBUaGUgb25seSBleGNlcHRpb24gaXMgY2FudmFzLCBiZWNhdXNlIGEgY2FudmFzIGxheWVyIG9jY3VwaWVzIHRoZSB3aG9sZSBzY3JlZW5cbiAgICAgICAgICAgIGV2ZW50VGFyZ2V0LnRhZ05hbWUgPT09ICdDQU5WQVMnXG4gICAgICAgICkge1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IHRoaXMubWV0YUxheWVycy5sZW5ndGggLSAxOyBqID49IDA7IGotLSkge1xuICAgICAgICAgICAgICAgIHZhciBtZXRhRW50aXR5ID0gdGhpcy5tZXRhTGF5ZXJzW2pdLmdldEhvdmVyZWRPYmplY3QoZGF0YSk7XG4gICAgICAgICAgICAgICAgaWYgKG1ldGFFbnRpdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyOiB0aGlzLm1ldGFMYXllcnNbal0sXG4gICAgICAgICAgICAgICAgICAgICAgICBlbnRpdHk6IG1ldGFFbnRpdHlcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGxheWVyOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBlbnRpdHk6IHVuZGVmaW5lZFxuICAgICAgICB9O1xuICAgIH0sXG5cbiAgICBfZmlyZU1ldGFsYXllckV2ZW50OiBmdW5jdGlvbih0eXBlLCBtZXRhbGF5ZXIsIGRhdGEpIHtcbiAgICAgICAgaWYgKCFtZXRhbGF5ZXIuZW50aXR5KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGxpc3RlbmVyID0gbWV0YWxheWVyLmxheWVyLm1hcEV2ZW50c1t0eXBlXTtcbiAgICAgICAgaWYgKCFsaXN0ZW5lcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGRhdGEuZW50aXR5ID0gbWV0YWxheWVyLmVudGl0eTtcbiAgICAgICAgbGlzdGVuZXIuY2FsbChtZXRhbGF5ZXIubGF5ZXIsIGRhdGEpO1xuICAgIH1cbn0pO1xuXG5ERy5NYXAuYWRkSW5pdEhvb2soZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5vbignbGF5ZXJhZGQgbGF5ZXJyZW1vdmUnLCB0aGlzLl91cGRhdGVUaWxlTGF5ZXJzKTtcbn0pO1xuXG4vLyBTZXQgY3NzIHByb3BlcnR5IHRvdWNoLWFjdGlvbiB0byBhdXRvIGlmIGRyYWdnaW5nIGlzIGZhbHNlLlxuLy8gTmVlZCBmb3Igc2Nyb2xsaW5nIHBhZ2UgaW4gbW9iaWxlIHVzaW5nIG91ciBtYXAgZG9tIGVsZW1lbnQuXG4vLyB0b2RvOiBJIG1hZGUgaXNzdWUgaW4gbGVhZmxldCBodHRwczovL2dpdGh1Yi5jb20vTGVhZmxldC9MZWFmbGV0L2lzc3Vlcy80NDE1XG5ERy5NYXAuYWRkSW5pdEhvb2soZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5kcmFnZ2luZyA9PSBmYWxzZSAmJiB0aGlzLm9wdGlvbnMudGFwID09IGZhbHNlKSB7XG4gICAgICAgIERHLkRvbVV0aWwuYWRkQ2xhc3ModGhpcy5fY29udGFpbmVyLCAnZGctZHJhZ2dpbmctZmFsc2UnKTtcbiAgICB9XG59KTtcbiIsIkRHLk1hcC5hZGRJbml0SG9vayhmdW5jdGlvbigpIHtcbiAgICB2YXIgZXJyb3JVcmwgPSAnZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFRQUFBQUVBQVFNQUFBQm12RG9sQUFBQUExQk1WRVgyOHQ1UjBrNVVBQUFBSDBsRVFWUjRYdTNBQVFrQUFBRENNUHVuTnNkaFd4d0FBQUFBQUFBQXdBRWhBQUFCZzJVUDVBQUFBQUJKUlU1RXJrSmdnZz09JztcbiAgICB2YXIgZXJyb3JSdVVybCA9IERHLmNvbmZpZy5wcm90b2NvbCArIERHLmNvbmZpZy5iYXNlVXJsICsgJy9pbWcvbm9tYXBfcnUucG5nJztcblxuICAgIHZhciBUaWxlTGF5ZXIgPSBERy5Ccm93c2VyLm1vYmlsZSA/IERHLk1vYmlsZVRpbGVMYXllciA6IERHLlRpbGVMYXllcjtcblxuICAgIHZhciBCYXNlTGF5ZXIgPSBUaWxlTGF5ZXIuZXh0ZW5kKHtcbiAgICAgICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24odXJsLCBvcHRpb25zKSB7XG4gICAgICAgICAgICB0aGlzLl9pc0RnID0gdHJ1ZTtcbiAgICAgICAgICAgIFRpbGVMYXllci5wcm90b3R5cGUuaW5pdGlhbGl6ZS5jYWxsKHRoaXMsIHVybCwgb3B0aW9ucyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZ2V0VGlsZXM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RpbGVzO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB2YXIgdGlsZVVybCA9IERHLmNvbmZpZy5wcm90b2NvbCArIChERy5Ccm93c2VyLnJldGluYSA/IERHLmNvbmZpZy5yZXRpbmFUaWxlU2VydmVyIDogREcuY29uZmlnLnRpbGVTZXJ2ZXIpO1xuICAgIHZhciBhcmFiaWNUaWxlVXJsID0gREcuY29uZmlnLnByb3RvY29sICtcbiAgICAgICAgKERHLkJyb3dzZXIucmV0aW5hID8gREcuY29uZmlnLmFyYWJpY1JldGluYVRpbGVTZXJ2ZXIgOiBERy5jb25maWcuYXJhYmljVGlsZVNlcnZlcik7XG5cbiAgICB2YXIgcHJldmlld1RpbGVVcmwgPSBERy5jb25maWcucHJvdG9jb2wgK1xuICAgICAgICAoREcuQnJvd3Nlci5yZXRpbmEgPyBERy5jb25maWcucHJldmlld1JldGluYVRpbGVTZXJ2ZXIgOiBERy5jb25maWcucHJldmlld1RpbGVTZXJ2ZXIpO1xuICAgIHZhciBhcmFiaWNQcmV2aWV3VGlsZVVybCA9IERHLmNvbmZpZy5wcm90b2NvbCArXG4gICAgICAgIChERy5Ccm93c2VyLnJldGluYSA/IERHLmNvbmZpZy5hcmFiaWNQcmV2aWV3UmV0aW5hVGlsZVNlcnZlciA6IERHLmNvbmZpZy5hcmFiaWNQcmV2aWV3VGlsZVNlcnZlcik7XG5cbiAgICB0aGlzLmJhc2VMYXllciA9IG5ldyBCYXNlTGF5ZXIodGlsZVVybCwge1xuICAgICAgICBzdWJkb21haW5zOiAnMDEyMycsXG4gICAgICAgIGVycm9yVGlsZVVybDogdGhpcy5nZXRMYW5nKCkgPT09ICdydScgPyBlcnJvclJ1VXJsIDogZXJyb3JVcmwsXG4gICAgICAgIGRldGVjdFJldGluYTogREcuY29uZmlnLmRldGVjdFJldGluYSxcbiAgICAgICAgbWF4Wm9vbTogMTksXG4gICAgICAgIG1heE5hdGl2ZVpvb206IDE5LFxuICAgICAgICB6SW5kZXg6IDAsXG4gICAgICAgIHVwZGF0ZVdoZW5JZGxlOiBmYWxzZSwgLy8gaXQncyBva2F5IHdpdGggcHJldmlldyB0aWxlc1xuICAgICAgICBwcmV2aWV3VXJsOiBwcmV2aWV3VGlsZVVybCxcbiAgICB9KTtcblxuICAgIHZhciBjdXJyZW50VGlsZXNMYW5nID0gJyc7IC8vICdhcicgfCAnJ1xuXG4gICAgZnVuY3Rpb24gdXBkYXRlVGlsZVVybCgpIHtcbiAgICAgICAgdmFyIGxhbmcgPSB0aGlzLmdldExhbmcoKTtcbiAgICAgICAgdmFyIHByb2plY3QgPSB0aGlzLnByb2plY3REZXRlY3RvciAmJiB0aGlzLnByb2plY3REZXRlY3Rvci5nZXRQcm9qZWN0KCk7XG5cbiAgICAgICAgaWYgKGxhbmcgPT09ICdydScgJiYgIXByb2plY3QpIHtcbiAgICAgICAgICAgIHRoaXMuYmFzZUxheWVyLm9wdGlvbnMuZXJyb3JUaWxlVXJsID0gZXJyb3JSdVVybDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYmFzZUxheWVyLm9wdGlvbnMuZXJyb3JUaWxlVXJsID0gZXJyb3JVcmw7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDaGFuZ2UgMkdJUyB0aWxlcyBmb3IgQXJhYmljIGxhbmd1YWdlIGluIER1YmFpIHByb2plY3RcbiAgICAgICAgaWYgKGN1cnJlbnRUaWxlc0xhbmcgPT09ICcnICYmIGxhbmcgPT09ICdhcicgJiYgcHJvamVjdCAmJiBwcm9qZWN0LmNvdW50cnlfY29kZSA9PT0gJ2FlJykge1xuICAgICAgICAgICAgY3VycmVudFRpbGVzTGFuZyA9ICdhcic7XG4gICAgICAgICAgICB0aGlzLmJhc2VMYXllci5zZXRVcmwoYXJhYmljVGlsZVVybCk7XG4gICAgICAgICAgICBpZiAodGhpcy5iYXNlTGF5ZXIuc2V0UHJldmlld1VybCkge1xuICAgICAgICAgICAgICAgIHRoaXMuYmFzZUxheWVyLnNldFByZXZpZXdVcmwoYXJhYmljUHJldmlld1RpbGVVcmwpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0gZWxzZSBpZiAoY3VycmVudFRpbGVzTGFuZyA9PT0gJ2FyJyAmJiAobGFuZyAhPT0gJ2FyJyB8fCAoIXByb2plY3QgfHwgcHJvamVjdC5jb3VudHJ5X2NvZGUgIT09ICdhZScpKSkge1xuICAgICAgICAgICAgY3VycmVudFRpbGVzTGFuZyA9ICcnO1xuICAgICAgICAgICAgdGhpcy5iYXNlTGF5ZXIuc2V0VXJsKHRpbGVVcmwpO1xuICAgICAgICAgICAgaWYgKHRoaXMuYmFzZUxheWVyLnNldFByZXZpZXdVcmwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJhc2VMYXllci5zZXRQcmV2aWV3VXJsKHByZXZpZXdUaWxlVXJsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHVwZGF0ZVRpbGVVcmwuY2FsbCh0aGlzKTtcblxuICAgIHRoaXMuYmFzZUxheWVyLmFkZFRvKHRoaXMpO1xuXG4gICAgdGhpcy5vbih7XG4gICAgICAgIGxhbmdjaGFuZ2U6IHVwZGF0ZVRpbGVVcmwsXG4gICAgICAgIHByb2plY3RjaGFuZ2U6IHVwZGF0ZVRpbGVVcmwsXG4gICAgICAgIHByb2plY3RsZWF2ZTogdXBkYXRlVGlsZVVybFxuICAgIH0sIHRoaXMpO1xufSk7XG4iLCJERy5NYXAubWVyZ2VPcHRpb25zKHtcbiAgICB0aWxlc0NoZWNrOiB0cnVlXG59KTtcblxuREcuTWFwLlRpbGVzQ2hlY2sgPSBERy5IYW5kbGVyLmV4dGVuZCh7XG4gICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24obWFwKSB7XG4gICAgICAgIHRoaXMuX21hcCA9IG1hcDtcbiAgICAgICAgdGhpcy5fbGF5ZXIgPSBtYXAuYmFzZUxheWVyO1xuXG4gICAgICAgIHRoaXMuX21vdmVTdGFydEV2ZW50Q291bnRlciA9IDA7XG4gICAgICAgIHRoaXMuX21vdmVFbmRFdmVudENvdW50ZXIgPSAwO1xuXG4gICAgICAgIHRoaXMuX2xvYWRpbmdFdmVudENvdW50ZXIgPSAwO1xuICAgICAgICB0aGlzLl9sb2FkRXZlbnRDb3VudGVyID0gMDtcbiAgICB9LFxuXG4gICAgYWRkSG9va3M6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLl9tYXAub24odGhpcy5fbWFwRXZlbnRzLCB0aGlzKTtcbiAgICAgICAgdGhpcy5fbGF5ZXIub24odGhpcy5fbGF5ZXJFdmVudHMsIHRoaXMpO1xuICAgIH0sXG5cbiAgICByZW1vdmVIb29rczogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuX21hcC5vZmYodGhpcy5fbWFwRXZlbnRzLCB0aGlzKTtcbiAgICAgICAgdGhpcy5fbGF5ZXIub2ZmKHRoaXMuX2xheWVyRXZlbnRzLCB0aGlzKTtcbiAgICB9LFxuXG4gICAgX21hcEV2ZW50czoge1xuICAgICAgICBsYXllcmFkZDogZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgaWYgKGUubGF5ZXIgPT0gdGhpcy5fbGF5ZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVuYWJsZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIGxheWVycmVtb3ZlOiBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBpZiAoZS5sYXllciA9PSB0aGlzLl9sYXllcikge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzYWJsZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIG1vdmVzdGFydDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0aGlzLl9zdG9wV2FpdGluZygpO1xuXG4gICAgICAgICAgICB0aGlzLl9tb3ZlU3RhcnRFdmVudENvdW50ZXIrKztcbiAgICAgICAgICAgIHRoaXMuX2lzV2FpdGluZyA9IHRydWU7XG4gICAgICAgIH0sXG5cbiAgICAgICAgbW92ZWVuZDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0aGlzLl9tb3ZlRW5kRXZlbnRDb3VudGVyKys7XG5cbiAgICAgICAgICAgIGlmICghdGhpcy5faXNXYWl0aW5nICYmIHRoaXMuX21vdmVTdGFydEV2ZW50Q291bnRlciAhPT0gdGhpcy5fbW92ZUVuZEV2ZW50Q291bnRlcikgeyByZXR1cm47IH1cblxuICAgICAgICAgICAgdGhpcy5faXNNb3ZlRW5kID0gdHJ1ZTtcblxuICAgICAgICAgICAgdGhpcy5fY2hlY2tXYWl0aW5nKCk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgX2xheWVyRXZlbnRzOiB7XG4gICAgICAgIGxvYWRpbmc6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy5fbG9hZGluZ0V2ZW50Q291bnRlcisrO1xuICAgICAgICB9LFxuXG4gICAgICAgIGxvYWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy5fbG9hZEV2ZW50Q291bnRlcisrO1xuXG4gICAgICAgICAgICBpZiAoIXRoaXMuX2lzV2FpdGluZyAmJiB0aGlzLl9sb2FkaW5nRXZlbnRDb3VudGVyICE9PSB0aGlzLl9sb2FkRXZlbnRDb3VudGVyKSB7IHJldHVybjsgfVxuXG4gICAgICAgICAgICB0aGlzLl9pc0xvYWQgPSB0cnVlO1xuXG4gICAgICAgICAgICB0aGlzLl9jaGVja1dhaXRpbmcoKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBfc3RvcFdhaXRpbmc6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLl9pc1dhaXRpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5faXNNb3ZlRW5kID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2lzTG9hZCA9IGZhbHNlO1xuICAgIH0sXG5cbiAgICBfY2hlY2tXYWl0aW5nOiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuX2lzV2FpdGluZyAmJiB0aGlzLl9pc0xvYWQgJiYgdGhpcy5faXNNb3ZlRW5kKSB7XG4gICAgICAgICAgICB0aGlzLl9zdG9wV2FpdGluZygpO1xuICAgICAgICAgICAgdGhpcy5fcmVzZXRDb3VudGVycygpO1xuICAgICAgICAgICAgdGhpcy5fY2hlY2tUaWxlcygpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIF9jaGVja1RpbGVzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuX21hcC5nZXRUaWxlTGF5ZXJzTnVtYmVyKCkgIT09IDAgfHwgIXRoaXMuX21hcC5fbG9hZGVkKSB7IHJldHVybjsgfVxuXG4gICAgICAgIHZhciB6b29tID0gdGhpcy5fbWFwLmdldFpvb20oKTtcbiAgICAgICAgdmFyIGVycm9yVXJsID0gdGhpcy5fbGF5ZXIub3B0aW9ucy5lcnJvclRpbGVVcmw7XG4gICAgICAgIHZhciB0aWxlcyA9IHRoaXMuX2xheWVyLmdldFRpbGVzKCk7XG5cbiAgICAgICAgZm9yICh2YXIgaSBpbiB0aWxlcykge1xuICAgICAgICAgICAgaWYgKHRpbGVzW2ldLmNvb3Jkcy56ID09PSB6b29tICYmIHRpbGVzW2ldLmVsLnNyYyAhPT0gZXJyb3JVcmwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9tYXAuem9vbU91dCgpO1xuICAgIH0sXG5cbiAgICBfcmVzZXRDb3VudGVyczogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuX21vdmVTdGFydEV2ZW50Q291bnRlciA9IDA7XG4gICAgICAgIHRoaXMuX21vdmVFbmRFdmVudENvdW50ZXIgPSAwO1xuXG4gICAgICAgIHRoaXMuX2xvYWRpbmdFdmVudENvdW50ZXIgPSAwO1xuICAgICAgICB0aGlzLl9sb2FkRXZlbnRDb3VudGVyID0gMDtcbiAgICB9XG59KTtcblxuREcuTWFwLmFkZEluaXRIb29rKCdhZGRIYW5kbGVyJywgJ3RpbGVzQ2hlY2snLCBERy5NYXAuVGlsZXNDaGVjayk7XG4iLCIvKipcbiAqIFRoaXMgY3VzdG9taXphdGlvbiBmaXhlcyB1bndhbnRlZCBpbmVydGlhIG1vdmVtZW50IGFmdGVyIHN1ZGRlbiBkcmFnIHN0b3BzXG4gKiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL0xlYWZsZXQvTGVhZmxldC9wdWxsLzQwNDguXG4gKiBJZiB0aGlzIFBSIGV2ZXIgZ2V0cyBtZXJnZWQsIHRoaXMgZmlsZSBjYW4gYmUgcmVtb3ZlZC5cbiAqL1xudmFyIG9uRHJhZ0VuZCA9IERHLk1hcC5EcmFnLnByb3RvdHlwZS5fb25EcmFnRW5kO1xuXG5ERy5NYXAuRHJhZy5pbmNsdWRlKHtcbiAgICBfcmVtZW1iZXJUaW1lQW5kUG9zaXRpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgdGltZSA9IHRoaXMuX2xhc3RUaW1lID0gK25ldyBEYXRlKCksXG4gICAgICAgICAgICBwb3MgPSB0aGlzLl9sYXN0UG9zID0gdGhpcy5fZHJhZ2dhYmxlLl9hYnNQb3MgfHwgdGhpcy5fZHJhZ2dhYmxlLl9uZXdQb3M7XG5cbiAgICAgICAgdGhpcy5fcG9zaXRpb25zLnB1c2gocG9zKTtcbiAgICAgICAgdGhpcy5fdGltZXMucHVzaCh0aW1lKTtcblxuICAgICAgICAvLyBSZW1vdmUgYWxsIGRhdGEgcG9pbnRzIG9sZGVyIHRoYW4gNTAgbXNcbiAgICAgICAgd2hpbGUgKHRpbWUgLSB0aGlzLl90aW1lc1swXSA+IDUwKSB7XG4gICAgICAgICAgICB0aGlzLl9wb3NpdGlvbnMuc2hpZnQoKTtcbiAgICAgICAgICAgIHRoaXMuX3RpbWVzLnNoaWZ0KCk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgX29uRHJhZzogZnVuY3Rpb24oZSkge1xuICAgICAgICBpZiAodGhpcy5fbWFwLm9wdGlvbnMuaW5lcnRpYSkge1xuICAgICAgICAgICAgdGhpcy5fcmVtZW1iZXJUaW1lQW5kUG9zaXRpb24oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX21hcFxuICAgICAgICAgICAgLmZpcmUoJ21vdmUnLCBlKVxuICAgICAgICAgICAgLmZpcmUoJ2RyYWcnLCBlKTtcbiAgICB9LFxuXG4gICAgX29uRHJhZ0VuZDogZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLl9tYXAub3B0aW9ucy5pbmVydGlhICYmICFERy5Ccm93c2VyLnRvdWNoKSB7XG4gICAgICAgICAgICB0aGlzLl9yZW1lbWJlclRpbWVBbmRQb3NpdGlvbigpO1xuICAgICAgICB9XG5cbiAgICAgICAgb25EcmFnRW5kLmNhbGwodGhpcyk7XG4gICAgfVxufSk7XG4iLCIvLyBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9UdXJmanMvdHVyZi1pbnNpZGUvYmxvYi9tYXN0ZXIvaW5kZXguanNcbkRHLlBvbHlVdGlsLmluc2lkZSA9IGZ1bmN0aW9uKHBvaW50LCBwb2x5Z29uLCBwb2ludFJlZHVjZSkge1xuICAgIHBvaW50UmVkdWNlID0gcG9pbnRSZWR1Y2UgfHwgREcuUG9seVV0aWwuX2RlZmF1bHRQb2ludFJlZHVjZTtcbiAgICB2YXIgcG9seXMgPSBwb2x5Z29uLmNvb3JkaW5hdGVzO1xuICAgIHZhciBwdCA9IHBvaW50UmVkdWNlKHBvaW50KTtcblxuICAgIC8vIG5vcm1hbGl6ZSB0byBtdWx0aXBvbHlnb25cbiAgICBpZiAocG9seWdvbi50eXBlID09PSAnUG9seWdvbicpIHtcbiAgICAgICAgcG9seXMgPSBbcG9seXNdO1xuICAgIH1cblxuICAgIHZhciBpbnNpZGVQb2x5ID0gZmFsc2U7XG4gICAgdmFyIGkgPSAwO1xuICAgIHdoaWxlIChpIDwgcG9seXMubGVuZ3RoICYmICFpbnNpZGVQb2x5KSB7XG4gICAgICAgIC8vIGNoZWNrIGlmIGl0IGlzIGluIHRoZSBvdXRlciByaW5nIGZpcnN0XG4gICAgICAgIGlmICh0aGlzLl9pblJpbmcocHQsIHBvbHlzW2ldWzBdLCBwb2ludFJlZHVjZSkpIHtcbiAgICAgICAgICAgIHZhciBpbkhvbGUgPSBmYWxzZTtcbiAgICAgICAgICAgIHZhciBrID0gMTtcbiAgICAgICAgICAgIC8vIGNoZWNrIGZvciB0aGUgcG9pbnQgaW4gYW55IG9mIHRoZSBob2xlc1xuICAgICAgICAgICAgd2hpbGUgKGsgPCBwb2x5c1tpXS5sZW5ndGggJiYgIWluSG9sZSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9pblJpbmcocHQsIHBvbHlzW2ldW2tdLCBwb2ludFJlZHVjZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5Ib2xlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaysrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFpbkhvbGUpICB7XG4gICAgICAgICAgICAgICAgaW5zaWRlUG9seSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaSsrO1xuICAgIH1cbiAgICByZXR1cm4gaW5zaWRlUG9seTtcbn07XG5cbi8vIHB0IGlzIFt4LHldIGFuZCByaW5nIGlzIFtbeCx5XSwgW3gseV0sLi5dXG5ERy5Qb2x5VXRpbC5faW5SaW5nID0gZnVuY3Rpb24ocHQsIHJpbmcsIHBvaW50UmVkdWNlKSB7XG4gICAgdmFyIGlzSW5zaWRlID0gZmFsc2U7XG4gICAgZm9yICh2YXIgaSA9IDAsIGogPSByaW5nLmxlbmd0aCAtIDE7IGkgPCByaW5nLmxlbmd0aDsgaiA9IGkrKykge1xuICAgICAgICB2YXIgcGkgPSBwb2ludFJlZHVjZShyaW5nW2ldKTtcbiAgICAgICAgdmFyIHBqID0gcG9pbnRSZWR1Y2UocmluZ1tqXSk7XG4gICAgICAgIHZhciB4aSA9IHBpWzBdLCB5aSA9IHBpWzFdO1xuICAgICAgICB2YXIgeGogPSBwalswXSwgeWogPSBwalsxXTtcbiAgICAgICAgdmFyIGludGVyc2VjdCA9ICgoeWkgPiBwdFsxXSkgIT09ICh5aiA+IHB0WzFdKSkgJiZcbiAgICAgICAgICAgIChwdFswXSA8ICh4aiAtIHhpKSAqIChwdFsxXSAtIHlpKSAvICh5aiAtIHlpKSArIHhpKTtcblxuICAgICAgICBpZiAoaW50ZXJzZWN0KSB7XG4gICAgICAgICAgICBpc0luc2lkZSA9ICFpc0luc2lkZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaXNJbnNpZGU7XG59O1xuXG5ERy5Qb2x5VXRpbC5fZGVmYXVsdFBvaW50UmVkdWNlID0gZnVuY3Rpb24ocG9pbnQpIHtcbiAgICByZXR1cm4gcG9pbnQ7XG59O1xuIiwiLyoqXG4gKiDQkiDRhNCw0LnQu9C1INGB0L7QtNC10LbQsNGC0YHRjyDQuNC30LzQtdC90LXQvdC40Y8g0LTQu9GPINGD0YHQutC+0YDQtdC90LjRjyDQu9C40YTQu9C10YLQsCDQvdCwINC80L7QsdC40LvRjNC90YvRhSDQtNC10LLQsNC50YHQsNGFXG4gKi9cblxuaWYgKERHLkJyb3dzZXIubW9iaWxlKSB7XG4gICAgKGZ1bmN0aW9uKCkge1xuICAgICAgICAvKipcbiAgICAgICAgICog0KXQsNC60LDQtdC8IGFkZENsYXNzINC4IHJlbW92ZUNsYXNzLCDRh9GC0L7QsdGLINC+0L3QuCDQvdC1INGA0LDQsdC+0YLQsNC70Lgg0LTQu9GPINC+0L/RgNC10LTQtdC70ZHQvdC90YvRhSDQutC70LDRgdGB0L7QslxuICAgICAgICAgKiDQodC00LXQu9Cw0L3QviDRgtCw0LosINGH0YLQvtCx0Ysg0L3QtSDQvNC10L3Rj9GC0Ywg0LrRg9GH0YMg0LzQtdGC0L7QtNC+0LIg0LIg0LrQuNGI0LrQsNGFINC70LjRhNC70LXRgtCwXG4gICAgICAgICAqXG4gICAgICAgICAqIGxlYWZsZXQtZHJhZ2dpbmcg0LggbGVhZmxldC1kcmFnLXRhcmdldCDQstGL0LfRi9Cy0LDQtdGCINC00LvQuNC90L3Ri9C5IHJlY2FsY3VsYXRlIHN0eWxlXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgYWRkQ2xhc3MgPSBMLkRvbVV0aWwuYWRkQ2xhc3M7XG4gICAgICAgIEwuRG9tVXRpbC5hZGRDbGFzcyA9IGZ1bmN0aW9uKGVsLCBuYW1lKSB7XG4gICAgICAgICAgICBpZiAobmFtZSA9PT0gJ2xlYWZsZXQtZHJhZ2dpbmcnIHx8XG4gICAgICAgICAgICAgICAgbmFtZSA9PT0gJ2xlYWZsZXQtZHJhZy10YXJnZXQnXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGFkZENsYXNzKGVsLCBuYW1lKTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgcmVtb3ZlQ2xhc3MgPSBMLkRvbVV0aWwucmVtb3ZlQ2xhc3M7XG4gICAgICAgIEwuRG9tVXRpbC5yZW1vdmVDbGFzcyA9IGZ1bmN0aW9uKGVsLCBuYW1lKSB7XG4gICAgICAgICAgICBpZiAobmFtZSA9PT0gJ2xlYWZsZXQtZHJhZ2dpbmcnIHx8XG4gICAgICAgICAgICAgICAgbmFtZSA9PT0gJ2xlYWZsZXQtZHJhZy10YXJnZXQnXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJlbW92ZUNsYXNzKGVsLCBuYW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIEwuRHJhZ2dhYmxlLmluY2x1ZGUoe1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiDQlNC+0LHQsNCy0LvQtdC90L4g0L7QutGA0YPQs9C70LXQvdC40LUg0L/QvtC30LjRhtC40LggdGhpcy5fc3RhcnRQb3MuYWRkKG9mZnNldCkuX3JvdW5kKClcbiAgICAgICAgICAgICAqINCYINGB0YDQsNCy0L3QtdC90LjQtSDRgSDQv9GA0LXQtNGD0LTRi9GJ0LXQuSBpZiAodGhpcy5fbmV3UG9zICYmIHRoaXMuX25ld1Bvcy54ID09IHBvcy54ICYmIHRoaXMuX25ld1Bvcy55ID09IHBvcy55KSB7XG4gICAgICAgICAgICAgKiDQp9GC0L7QsdGLINC+0LHQvdC+0LLQu9C10L3QuNC1IGRvbSDQv9GA0L7QuNGB0YXQvtC00LjQu9C+INGC0L7Qu9GM0LrQviDQv9GA0Lgg0YDQtdCw0LvRjNC90L7QvCDQuNC30LzQtdC90LXQvdC40LhcbiAgICAgICAgICAgICAqINCj0LHRgNCw0L3RiyDQutC70LDRgdGB0YsgbGVhZmxldC1kcmFnZ2luZyDQuCBsZWFmbGV0LWRyYWctdGFyZ2V0XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIF9vbk1vdmU6IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAvLyBJZ25vcmUgc2ltdWxhdGVkIGV2ZW50cywgc2luY2Ugd2UgaGFuZGxlIGJvdGggdG91Y2ggYW5kXG4gICAgICAgICAgICAgICAgLy8gbW91c2UgZXhwbGljaXRseTsgb3RoZXJ3aXNlIHdlIHJpc2sgZ2V0dGluZyBkdXBsaWNhdGVzIG9mXG4gICAgICAgICAgICAgICAgLy8gdG91Y2ggZXZlbnRzLCBzZWUgIzQzMTUuXG4gICAgICAgICAgICAgICAgLy8gQWxzbyBpZ25vcmUgdGhlIGV2ZW50IGlmIGRpc2FibGVkOyB0aGlzIGhhcHBlbnMgaW4gSUUxMVxuICAgICAgICAgICAgICAgIC8vIHVuZGVyIHNvbWUgY2lyY3Vtc3RhbmNlcywgc2VlICMzNjY2LlxuICAgICAgICAgICAgICAgIGlmIChlLl9zaW11bGF0ZWQgfHwgIXRoaXMuX2VuYWJsZWQpIHsgcmV0dXJuOyB9XG5cbiAgICAgICAgICAgICAgICBpZiAoZS50b3VjaGVzICYmIGUudG91Y2hlcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX21vdmVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciBmaXJzdCA9IChlLnRvdWNoZXMgJiYgZS50b3VjaGVzLmxlbmd0aCA9PT0gMSA/IGUudG91Y2hlc1swXSA6IGUpLFxuICAgICAgICAgICAgICAgICAgICBuZXdQb2ludCA9IG5ldyBMLlBvaW50KGZpcnN0LmNsaWVudFgsIGZpcnN0LmNsaWVudFkpLFxuICAgICAgICAgICAgICAgICAgICBvZmZzZXQgPSBuZXdQb2ludC5zdWJ0cmFjdCh0aGlzLl9zdGFydFBvaW50KTtcblxuICAgICAgICAgICAgICAgIGlmICghb2Zmc2V0LnggJiYgIW9mZnNldC55KSB7IHJldHVybjsgfVxuICAgICAgICAgICAgICAgIGlmIChNYXRoLmFicyhvZmZzZXQueCkgKyBNYXRoLmFicyhvZmZzZXQueSkgPCB0aGlzLm9wdGlvbnMuY2xpY2tUb2xlcmFuY2UpIHsgcmV0dXJuOyB9XG5cbiAgICAgICAgICAgICAgICBMLkRvbUV2ZW50LnByZXZlbnREZWZhdWx0KGUpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9tb3ZlZCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBAZXZlbnQgZHJhZ3N0YXJ0OiBFdmVudFxuICAgICAgICAgICAgICAgICAgICAvLyBGaXJlZCB3aGVuIGEgZHJhZyBzdGFydHNcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5maXJlKCdkcmFnc3RhcnQnKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9tb3ZlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3N0YXJ0UG9zID0gTC5Eb21VdGlsLmdldFBvc2l0aW9uKHRoaXMuX2VsZW1lbnQpLnN1YnRyYWN0KG9mZnNldCk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbGFzdFRhcmdldCA9IGUudGFyZ2V0IHx8IGUuc3JjRWxlbWVudDtcbiAgICAgICAgICAgICAgICAgICAgLy8gSUUgYW5kIEVkZ2UgZG8gbm90IGdpdmUgdGhlIDx1c2U+IGVsZW1lbnQsIHNvIGZldGNoIGl0XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIG5lY2Vzc2FyeVxuICAgICAgICAgICAgICAgICAgICBpZiAoKHdpbmRvdy5TVkdFbGVtZW50SW5zdGFuY2UpICYmICh0aGlzLl9sYXN0VGFyZ2V0IGluc3RhbmNlb2YgU1ZHRWxlbWVudEluc3RhbmNlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fbGFzdFRhcmdldCA9IHRoaXMuX2xhc3RUYXJnZXQuY29ycmVzcG9uZGluZ1VzZUVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB2YXIgcG9zID0gdGhpcy5fc3RhcnRQb3MuYWRkKG9mZnNldCkuX3JvdW5kKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fbW92aW5nID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgIEwuVXRpbC5jYW5jZWxBbmltRnJhbWUodGhpcy5fYW5pbVJlcXVlc3QpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2xhc3RFdmVudCA9IGU7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fbmV3UG9zICYmIHRoaXMuX25ld1Bvcy54ID09IHBvcy54ICYmIHRoaXMuX25ld1Bvcy55ID09IHBvcy55KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9uZXdQb3MgPSBwb3M7XG4gICAgICAgICAgICAgICAgdGhpcy5fYW5pbVJlcXVlc3QgPSBMLlV0aWwucmVxdWVzdEFuaW1GcmFtZSh0aGlzLl91cGRhdGVQb3NpdGlvbiwgdGhpcywgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiDQlNC70LjRgtC10LvRjNC90L7RgdGC0Ywg0LLRgdC10YUg0LjQvdC10YDRhtC40Lkg0L/RgNC4INC00LLQuNC20LXQvdC40Lgg0LrQsNGA0YLRiyDRgtC10L/QtdGA0YwgMSDRgdC10LrRg9C90LTQsFxuICAgICAgICAgKi9cbiAgICAgICAgTC5NYXAuRHJhZy5pbmNsdWRlKHtcbiAgICAgICAgICAgIF9vbkRyYWdFbmQ6IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgbWFwID0gdGhpcy5fbWFwLFxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zID0gbWFwLm9wdGlvbnMsXG5cbiAgICAgICAgICAgICAgICAgICAgbm9JbmVydGlhID0gIW9wdGlvbnMuaW5lcnRpYSB8fCB0aGlzLl90aW1lcy5sZW5ndGggPCAyO1xuXG4gICAgICAgICAgICAgICAgbWFwLmZpcmUoJ2RyYWdlbmQnLCBlKTtcblxuICAgICAgICAgICAgICAgIGlmIChub0luZXJ0aWEpIHtcbiAgICAgICAgICAgICAgICAgICAgbWFwLmZpcmUoJ21vdmVlbmQnKTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGRpcmVjdGlvbiA9IHRoaXMuX2xhc3RQb3Muc3VidHJhY3QodGhpcy5fcG9zaXRpb25zWzBdKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uID0gKHRoaXMuX2xhc3RUaW1lIC0gdGhpcy5fdGltZXNbMF0pIC8gMTAwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVhc2UgPSBvcHRpb25zLmVhc2VMaW5lYXJpdHksXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHNwZWVkVmVjdG9yID0gZGlyZWN0aW9uLm11bHRpcGx5QnkoZWFzZSAvIGR1cmF0aW9uKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwZWVkID0gc3BlZWRWZWN0b3IuZGlzdGFuY2VUbyhbMCwgMF0pLFxuXG4gICAgICAgICAgICAgICAgICAgICAgICBsaW1pdGVkU3BlZWQgPSBNYXRoLm1pbihvcHRpb25zLmluZXJ0aWFNYXhTcGVlZCwgc3BlZWQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGltaXRlZFNwZWVkVmVjdG9yID0gc3BlZWRWZWN0b3IubXVsdGlwbHlCeShsaW1pdGVkU3BlZWQgLyBzcGVlZCksXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGRlY2VsZXJhdGlvbkR1cmF0aW9uID0gMSwgLy8gbGltaXRlZFNwZWVkIC8gKG9wdGlvbnMuaW5lcnRpYURlY2VsZXJhdGlvbiAqIGVhc2UpLFxuICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ID0gbGltaXRlZFNwZWVkVmVjdG9yLm11bHRpcGx5QnkoLWRlY2VsZXJhdGlvbkR1cmF0aW9uIC8gMikucm91bmQoKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoIW9mZnNldC54ICYmICFvZmZzZXQueSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWFwLmZpcmUoJ21vdmVlbmQnKTtcblxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ID0gbWFwLl9saW1pdE9mZnNldChvZmZzZXQsIG1hcC5vcHRpb25zLm1heEJvdW5kcyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIEwuVXRpbC5yZXF1ZXN0QW5pbUZyYW1lKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcC5wYW5CeShvZmZzZXQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IGRlY2VsZXJhdGlvbkR1cmF0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlYXNlTGluZWFyaXR5OiBlYXNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub01vdmVTdGFydDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0ZTogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfSkoKTtcbn1cblxuTC5Nb2JpbGVUaWxlTGF5ZXIgPSBMLlRpbGVMYXllci5leHRlbmQoe1xuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKHVybCwgb3B0aW9ucykge1xuICAgICAgICBMLlRpbGVMYXllci5wcm90b3R5cGUuaW5pdGlhbGl6ZS5jYWxsKHRoaXMsIHVybCwgb3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy5fcHJldmlld1VybCA9IG9wdGlvbnMucHJldmlld1VybDtcbiAgICB9LFxuXG4gICAgc2V0UHJldmlld1VybDogZnVuY3Rpb24odXJsKSB7XG4gICAgICAgIHRoaXMuX3ByZXZpZXdVcmwgPSB1cmw7XG4gICAgICAgIHRoaXMucmVkcmF3KCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqINCR0YvRgdGC0YDQvtC1INC90LDQstC10YjQuNCy0LDQvdC40LUg0YHQvtCx0YvRgtC40LksINCy0LzQtdGB0YLQviBMLkRvbVV0aWwub24g0LjRgdC/0L7Qu9GM0LfRg9C10Lwg0L/RgNC+0YHRgtC+0LUg0L/RgNC40YHQstCw0LjQstCw0L3QuNC1XG4gICAgICovXG4gICAgY3JlYXRlVGlsZTogZnVuY3Rpb24oY29vcmRzLCBkb25lLCB1cmwpIHtcbiAgICAgICAgdmFyIHRpbGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgICAgICAgdGlsZS5vbmxvYWQgPSBMLmJpbmQodGhpcy5fdGlsZU9uTG9hZCwgdGhpcywgZG9uZSwgdGlsZSk7XG4gICAgICAgIHRpbGUub25lcnJvciA9IEwuYmluZCh0aGlzLl90aWxlT25FcnJvciwgdGhpcywgZG9uZSwgdGlsZSk7XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5jcm9zc09yaWdpbikge1xuICAgICAgICAgICAgdGlsZS5jcm9zc09yaWdpbiA9ICcnO1xuICAgICAgICB9XG5cbiAgICAgICAgLypcbiAgICAgICAgIEFsdCB0YWcgaXMgc2V0IHRvIGVtcHR5IHN0cmluZyB0byBrZWVwIHNjcmVlbiByZWFkZXJzIGZyb20gcmVhZGluZyBVUkwgYW5kIGZvciBjb21wbGlhbmNlIHJlYXNvbnNcbiAgICAgICAgIGh0dHA6Ly93d3cudzMub3JnL1RSL1dDQUcyMC1URUNIUy9INjdcbiAgICAgICAgKi9cbiAgICAgICAgdGlsZS5hbHQgPSAnJztcbiAgICAgICAgdGlsZS5zcmMgPSB0aGlzLmdldFRpbGVVcmwoY29vcmRzLCB1cmwpO1xuXG4gICAgICAgIHJldHVybiB0aWxlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiDQo9Cx0YDQsNC9INC60LvQsNGB0YEgbGVhZmxldC10aWxlXG4gICAgICog0JTQvtCx0LDQstC70LXQvSDRhdCw0Log0LTQu9GPINC/0YDQtdCy0YzRjiDRgtCw0LnQu9C+0LJcbiAgICAgKi9cbiAgICBfaW5pdFRpbGU6IGZ1bmN0aW9uKHRpbGUpIHtcbiAgICAgICAgdGlsZS5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG5cbiAgICAgICAgdmFyIHRpbGVTaXplID0gdGhpcy5nZXRUaWxlU2l6ZSgpO1xuICAgICAgICB0aWxlLnN0eWxlLndpZHRoID0gdGlsZVNpemUueCArICdweCc7XG4gICAgICAgIHRpbGUuc3R5bGUuaGVpZ2h0ID0gdGlsZVNpemUueSArICdweCc7XG5cbiAgICAgICAgdGlsZS5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbic7XG4gICAgICAgIHRpbGUuc3R5bGUucG9pbnRlckV2ZW50cyA9ICdub25lJztcblxuICAgICAgICB0aWxlLm9uc2VsZWN0c3RhcnQgPSBMLlV0aWwuZmFsc2VGbjtcbiAgICAgICAgdGlsZS5vbm1vdXNlbW92ZSA9IEwuVXRpbC5mYWxzZUZuO1xuXG4gICAgICAgIC8vIHdpdGhvdXQgdGhpcyBoYWNrLCB0aWxlcyBkaXNhcHBlYXIgYWZ0ZXIgem9vbSBvbiBDaHJvbWUgZm9yIEFuZHJvaWRcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL0xlYWZsZXQvTGVhZmxldC9pc3N1ZXMvMjA3OFxuICAgICAgICBpZiAoTC5Ccm93c2VyLmFuZHJvaWQgJiYgIUwuQnJvd3Nlci5hbmRyb2lkMjMpIHtcbiAgICAgICAgICAgIHRpbGUuc3R5bGUuV2Via2l0QmFja2ZhY2VWaXNpYmlsaXR5ID0gJ2hpZGRlbic7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGlsZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICog0KPQsdGA0LDQvSDQutC70LDRgdGBIGxlYWZsZXQtdGlsZS1jb250YWluZXJcbiAgICAgKi9cbiAgICBfdXBkYXRlTGV2ZWxzOiBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgem9vbSA9IHRoaXMuX3RpbGVab29tLFxuICAgICAgICAgICAgbWF4Wm9vbSA9IHRoaXMub3B0aW9ucy5tYXhab29tO1xuXG4gICAgICAgIGlmICh6b29tID09PSB1bmRlZmluZWQpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfVxuXG4gICAgICAgIGZvciAodmFyIHogaW4gdGhpcy5fbGV2ZWxzKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbGV2ZWxzW3pdLmVsLmNoaWxkcmVuLmxlbmd0aCB8fCB6ID09PSB6b29tKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbGV2ZWxzW3pdLmVsLnN0eWxlLnpJbmRleCA9IG1heFpvb20gLSBNYXRoLmFicyh6b29tIC0geik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIEwuRG9tVXRpbC5yZW1vdmUodGhpcy5fbGV2ZWxzW3pdLmVsKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZW1vdmVUaWxlc0F0Wm9vbSh6KTtcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5fbGV2ZWxzW3pdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGxldmVsID0gdGhpcy5fbGV2ZWxzW3pvb21dLFxuICAgICAgICAgICAgbWFwID0gdGhpcy5fbWFwO1xuXG4gICAgICAgIGlmICghbGV2ZWwpIHtcbiAgICAgICAgICAgIGxldmVsID0gdGhpcy5fbGV2ZWxzW3pvb21dID0ge307XG5cbiAgICAgICAgICAgIGxldmVsLmVsID0gTC5Eb21VdGlsLmNyZWF0ZSgnZGl2JywgJ2xlYWZsZXQtem9vbS1hbmltYXRlZCcsIHRoaXMuX2NvbnRhaW5lcik7XG5cbiAgICAgICAgICAgIGxldmVsLmVsLnN0eWxlLnpJbmRleCA9IG1heFpvb207XG5cbiAgICAgICAgICAgIGxldmVsLm9yaWdpbiA9IG1hcC5wcm9qZWN0KG1hcC51bnByb2plY3QobWFwLmdldFBpeGVsT3JpZ2luKCkpLCB6b29tKS5yb3VuZCgpO1xuICAgICAgICAgICAgbGV2ZWwuem9vbSA9IHpvb207XG5cbiAgICAgICAgICAgIHRoaXMuX3NldFpvb21UcmFuc2Zvcm0obGV2ZWwsIG1hcC5nZXRDZW50ZXIoKSwgbWFwLmdldFpvb20oKSk7XG5cbiAgICAgICAgICAgIC8vIGZvcmNlIHRoZSBicm93c2VyIHRvIGNvbnNpZGVyIHRoZSBuZXdseSBhZGRlZCBlbGVtZW50IGZvciB0cmFuc2l0aW9uXG4gICAgICAgICAgICBMLlV0aWwuZmFsc2VGbihsZXZlbC5lbC5vZmZzZXRXaWR0aCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9sZXZlbCA9IGxldmVsO1xuXG4gICAgICAgIHJldHVybiBsZXZlbDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICog0KPQsdGA0LDQvdC+INC00L7QsdCw0LLQu9C10L3QuNC1INGC0LDQudC70L7QsiDRh9C10YDQtdC3IGRvY3VtZW50RnJhZ21lbnRcbiAgICAgKi9cbiAgICBfdXBkYXRlOiBmdW5jdGlvbihjZW50ZXIpIHtcbiAgICAgICAgdmFyIG1hcCA9IHRoaXMuX21hcDtcbiAgICAgICAgaWYgKCFtYXApIHsgcmV0dXJuOyB9XG4gICAgICAgIHZhciB6b29tID0gbWFwLmdldFpvb20oKTtcblxuICAgICAgICBpZiAoY2VudGVyID09PSB1bmRlZmluZWQpIHsgY2VudGVyID0gbWFwLmdldENlbnRlcigpOyB9XG4gICAgICAgIGlmICh0aGlzLl90aWxlWm9vbSA9PT0gdW5kZWZpbmVkKSB7IHJldHVybjsgfVx0Ly8gaWYgb3V0IG9mIG1pbnpvb20vbWF4em9vbVxuXG4gICAgICAgIHZhciBwaXhlbEJvdW5kcyA9IHRoaXMuX2dldFRpbGVkUGl4ZWxCb3VuZHMoY2VudGVyKSxcbiAgICAgICAgICAgIHRpbGVSYW5nZSA9IHRoaXMuX3B4Qm91bmRzVG9UaWxlUmFuZ2UocGl4ZWxCb3VuZHMpLFxuICAgICAgICAgICAgdGlsZUNlbnRlciA9IHRpbGVSYW5nZS5nZXRDZW50ZXIoKSxcbiAgICAgICAgICAgIHF1ZXVlID0gW10sXG4gICAgICAgICAgICBtYXJnaW4gPSB0aGlzLm9wdGlvbnMua2VlcEJ1ZmZlcixcbiAgICAgICAgICAgIG5vUHJ1bmVSYW5nZSA9IG5ldyBMLkJvdW5kcyh0aWxlUmFuZ2UuZ2V0Qm90dG9tTGVmdCgpLnN1YnRyYWN0KFttYXJnaW4sIC1tYXJnaW5dKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGlsZVJhbmdlLmdldFRvcFJpZ2h0KCkuYWRkKFttYXJnaW4sIC1tYXJnaW5dKSk7XG5cbiAgICAgICAgZm9yICh2YXIga2V5IGluIHRoaXMuX3RpbGVzKSB7XG4gICAgICAgICAgICB2YXIgYyA9IHRoaXMuX3RpbGVzW2tleV0uY29vcmRzO1xuICAgICAgICAgICAgaWYgKGMueiAhPT0gdGhpcy5fdGlsZVpvb20gfHwgIW5vUHJ1bmVSYW5nZS5jb250YWlucyhMLnBvaW50KGMueCwgYy55KSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90aWxlc1trZXldLmN1cnJlbnQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIF91cGRhdGUganVzdCBsb2FkcyBtb3JlIHRpbGVzLiBJZiB0aGUgdGlsZSB6b29tIGxldmVsIGRpZmZlcnMgdG9vIG11Y2hcbiAgICAgICAgLy8gZnJvbSB0aGUgbWFwJ3MsIGxldCBfc2V0VmlldyByZXNldCBsZXZlbHMgYW5kIHBydW5lIG9sZCB0aWxlcy5cbiAgICAgICAgaWYgKE1hdGguYWJzKHpvb20gLSB0aGlzLl90aWxlWm9vbSkgPiAxKSB7IHRoaXMuX3NldFZpZXcoY2VudGVyLCB6b29tKTsgcmV0dXJuOyB9XG5cbiAgICAgICAgLy8gY3JlYXRlIGEgcXVldWUgb2YgY29vcmRpbmF0ZXMgdG8gbG9hZCB0aWxlcyBmcm9tXG4gICAgICAgIGZvciAodmFyIGogPSB0aWxlUmFuZ2UubWluLnk7IGogPD0gdGlsZVJhbmdlLm1heC55OyBqKyspIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSB0aWxlUmFuZ2UubWluLng7IGkgPD0gdGlsZVJhbmdlLm1heC54OyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgY29vcmRzID0gbmV3IEwuUG9pbnQoaSwgaik7XG4gICAgICAgICAgICAgICAgY29vcmRzLnogPSB0aGlzLl90aWxlWm9vbTtcblxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5faXNWYWxpZFRpbGUoY29vcmRzKSkgeyBjb250aW51ZTsgfVxuXG4gICAgICAgICAgICAgICAgdmFyIHRpbGUgPSB0aGlzLl90aWxlc1t0aGlzLl90aWxlQ29vcmRzVG9LZXkoY29vcmRzKV07XG4gICAgICAgICAgICAgICAgaWYgKHRpbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGlsZS5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBxdWV1ZS5wdXNoKGNvb3Jkcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gc29ydCB0aWxlIHF1ZXVlIHRvIGxvYWQgdGlsZXMgaW4gb3JkZXIgb2YgdGhlaXIgZGlzdGFuY2UgdG8gY2VudGVyXG4gICAgICAgIHF1ZXVlLnNvcnQoZnVuY3Rpb24oYSwgYikge1xuICAgICAgICAgICAgcmV0dXJuIGEuZGlzdGFuY2VUbyh0aWxlQ2VudGVyKSAtIGIuZGlzdGFuY2VUbyh0aWxlQ2VudGVyKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHF1ZXVlLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgLy8gaWYgaXQncyB0aGUgZmlyc3QgYmF0Y2ggb2YgdGlsZXMgdG8gbG9hZFxuICAgICAgICAgICAgaWYgKCF0aGlzLl9sb2FkaW5nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbG9hZGluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgLy8gQGV2ZW50IGxvYWRpbmc6IEV2ZW50XG4gICAgICAgICAgICAgICAgLy8gRmlyZWQgd2hlbiB0aGUgZ3JpZCBsYXllciBzdGFydHMgbG9hZGluZyB0aWxlcy5cbiAgICAgICAgICAgICAgICB0aGlzLmZpcmUoJ2xvYWRpbmcnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHF1ZXVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYWRkVGlsZShxdWV1ZVtpXSwgdGhpcy5fbGV2ZWwuZWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFdlIGRvbid0IGxvYWQgcHJldmlldyB0aWxlOlxuICAgICAqIC0gYWZ0ZXIgem9vbS1pbiBpZiBhIHRpbGUgZnJvbSBhIGxvd2VyIHpvb20gaXMgYWxyZWFkeSBzaG93blxuICAgICAqIC0gYWZ0ZXIgem9vbS1vdXQgaWYgZm91ciB0aWxlcyBmcm9tIGEgaGlnaGVyIHpvb20gaXMgYWxyZWFkeSBzaG93blxuICAgICAqL1xuICAgIF9uZWVkUHJldmlld1RpbGU6IGZ1bmN0aW9uKGNvb3Jkcykge1xuICAgICAgICBpZiAodGhpcy5fdGlsZVpvb20gLSB0aGlzLl9tYXAuZ2V0Wm9vbSgpID4gMCkge1xuICAgICAgICAgICAgLy8gem9vbSBpblxuICAgICAgICAgICAgcmV0dXJuICF0aGlzLl9leGlzdFRpbGVGcm9tTG93ZXJab29tKGNvb3Jkcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyB6b29tIG91dFxuICAgICAgICAgICAgcmV0dXJuICF0aGlzLl9leGlzdFRpbGVzRnJvbUhpZ2hlclpvb20oY29vcmRzKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBfZXhpc3RUaWxlRnJvbUxvd2VyWm9vbTogZnVuY3Rpb24oY29vcmRzKSB7XG4gICAgICAgIHZhciBjb29yZHMyID0gTC5wb2ludChjb29yZHMueCAvIDIsIGNvb3Jkcy55IC8gMikuX2Zsb29yKCk7XG5cbiAgICAgICAgY29vcmRzMi56ID0gY29vcmRzLnogLSAxO1xuXG4gICAgICAgIHZhciBrZXkgPSB0aGlzLl90aWxlQ29vcmRzVG9LZXkoY29vcmRzMik7XG4gICAgICAgIHZhciB0aWxlID0gdGhpcy5fdGlsZXNba2V5XTtcbiAgICAgICAgcmV0dXJuIHRpbGUgJiYgIXRpbGUucHJldmlldztcbiAgICB9LFxuXG4gICAgX2V4aXN0VGlsZXNGcm9tSGlnaGVyWm9vbTogZnVuY3Rpb24oY29vcmRzKSB7XG4gICAgICAgIHZhciB4ID0gY29vcmRzLng7XG4gICAgICAgIHZhciB5ID0gY29vcmRzLnk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDIgKiB4OyBpIDwgMiAqIHggKyAyOyBpKyspIHtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAyICogeTsgaiA8IDIgKiB5ICsgMjsgaisrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGMgPSBuZXcgTC5Qb2ludChpLCBqKTtcbiAgICAgICAgICAgICAgICBjLnogPSBjb29yZHMueiArIDE7XG4gICAgICAgICAgICAgICAgdmFyIGtleSA9IHRoaXMuX3RpbGVDb29yZHNUb0tleShjKTtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX3RpbGVzW2tleV0pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiDQlNC+0LHQsNCy0LvQtdC90LAg0LvQvtCz0LjQutCwINGBINC/0YDQtdCy0YzRjiDRgtCw0LnQu9Cw0LzQuFxuICAgICAqL1xuICAgIF9hZGRUaWxlOiBmdW5jdGlvbihjb29yZHMsIGNvbnRhaW5lcikge1xuICAgICAgICB2YXIgdGlsZVBvcyA9IHRoaXMuX2dldFRpbGVQb3MoY29vcmRzKSxcbiAgICAgICAgICAgIGtleSA9IHRoaXMuX3RpbGVDb29yZHNUb0tleShjb29yZHMpO1xuXG4gICAgICAgIHZhciB3cmFwQ29vcmRzID0gdGhpcy5fd3JhcENvb3Jkcyhjb29yZHMpO1xuICAgICAgICB2YXIgbmVlZFByZXZpZXcgPSB0aGlzLl9uZWVkUHJldmlld1RpbGUod3JhcENvb3Jkcyk7XG5cbiAgICAgICAgdmFyIHVybCA9IG5lZWRQcmV2aWV3ID8gdGhpcy5fcHJldmlld1VybCA6IHRoaXMuX3VybDtcbiAgICAgICAgdmFyIHRpbGUgPSB0aGlzLmNyZWF0ZVRpbGUod3JhcENvb3JkcywgTC5iaW5kKHRoaXMuX3RpbGVSZWFkeSwgdGhpcywgY29vcmRzKSwgdXJsKTtcblxuICAgICAgICB0aGlzLl9pbml0VGlsZSh0aWxlKTtcblxuICAgICAgICBMLkRvbVV0aWwuc2V0UG9zaXRpb24odGlsZSwgdGlsZVBvcyk7XG5cbiAgICAgICAgLy8gc2F2ZSB0aWxlIGluIGNhY2hlXG4gICAgICAgIHRoaXMuX3RpbGVzW2tleV0gPSB7XG4gICAgICAgICAgICBlbDogdGlsZSxcbiAgICAgICAgICAgIHByZXZpZXc6IG5lZWRQcmV2aWV3LFxuICAgICAgICAgICAgY29vcmRzOiBjb29yZHMsXG4gICAgICAgICAgICBjdXJyZW50OiB0cnVlXG4gICAgICAgIH07XG5cbiAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHRpbGUpO1xuICAgICAgICAvLyBAZXZlbnQgdGlsZWxvYWRzdGFydDogVGlsZUV2ZW50XG4gICAgICAgIC8vIEZpcmVkIHdoZW4gYSB0aWxlIGlzIHJlcXVlc3RlZCBhbmQgc3RhcnRzIGxvYWRpbmcuXG4gICAgICAgIHRoaXMuZmlyZSgndGlsZWxvYWRzdGFydCcsIHtcbiAgICAgICAgICAgIHRpbGU6IHRpbGUsXG4gICAgICAgICAgICBjb29yZHM6IGNvb3Jkc1xuICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICog0KPQsdGA0LDQvSBmYWRlQW5pbWF0ZWQg0Lgg0LrQu9Cw0YHRgSBsZWFmbGV0LXRpbGUtbG9hZGVkXG4gICAgICovXG4gICAgX3RpbGVSZWFkeTogZnVuY3Rpb24oY29vcmRzLCBlcnIsIHRpbGUpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9tYXApIHsgcmV0dXJuOyB9XG5cbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgLy8gQGV2ZW50IHRpbGVlcnJvcjogVGlsZUVycm9yRXZlbnRcbiAgICAgICAgICAgIC8vIEZpcmVkIHdoZW4gdGhlcmUgaXMgYW4gZXJyb3IgbG9hZGluZyBhIHRpbGUuXG4gICAgICAgICAgICB0aGlzLmZpcmUoJ3RpbGVlcnJvcicsIHtcbiAgICAgICAgICAgICAgICBlcnJvcjogZXJyLFxuICAgICAgICAgICAgICAgIHRpbGU6IHRpbGUsXG4gICAgICAgICAgICAgICAgY29vcmRzOiBjb29yZHNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGtleSA9IHRoaXMuX3RpbGVDb29yZHNUb0tleShjb29yZHMpO1xuXG4gICAgICAgIHRpbGUgPSB0aGlzLl90aWxlc1trZXldO1xuICAgICAgICBpZiAoIXRpbGUpIHsgcmV0dXJuOyB9XG5cbiAgICAgICAgLy8g0JXRgdC70Lgg0YMg0YLQsNC50LvQsCDRg9C20LUg0LXRgdGC0Ywg0L7RgNC40LPQuNC90LDQu9GM0L3QsNGPICjQvdC1INC/0L7QttCw0YLQsNGPKSDQutCw0YDRgtC40L3QutCwLFxuICAgICAgICAvLyDRgtC+INC30LDQvNC10L3QuNC8INC/0YDQtdCy0YzRjiDQvdCwINC90LXQtVxuICAgICAgICBpZiAodGlsZS5vcmlnaW5hbEVsICYmIHRpbGUuZWwucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgdGlsZS5lbC5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZCh0aWxlLm9yaWdpbmFsRWwsIHRpbGUuZWwpO1xuICAgICAgICAgICAgdGlsZS5lbCA9IHRpbGUub3JpZ2luYWxFbDtcblxuICAgICAgICAgICAgdGlsZS5vcmlnaW5hbEVsID0gbnVsbDtcbiAgICAgICAgICAgIHRpbGUucHJldmlldyA9IGZhbHNlO1xuXG4gICAgICAgIC8vINCV0YHQu9C4INGDINGC0LDQudC70LAg0LXRgdGC0Ywg0YLQvtC70YzQutC+INC/0YDQtdCy0YzRjiwg0YLQviDQtNC+0LHQsNCy0LjQvCDQtdCz0L4g0L3QsCDQutCw0YDRgtGDXG4gICAgICAgIC8vINCYINC90LDRh9C90LXQvCDQs9GA0YPQt9C40YLRjCDQvtGA0LjQs9C40L3QsNC70YzQvdGL0LlcbiAgICAgICAgfSBlbHNlIGlmICh0aWxlLnByZXZpZXcpIHtcbiAgICAgICAgICAgIHRpbGUub3JpZ2luYWxFbCA9IHRoaXMuY3JlYXRlVGlsZSh0aGlzLl93cmFwQ29vcmRzKGNvb3JkcyksIEwuYmluZCh0aGlzLl90aWxlUmVhZHksIHRoaXMsIGNvb3JkcyksIHRoaXMuX3VybCk7XG4gICAgICAgICAgICB0aGlzLl9pbml0VGlsZSh0aWxlLm9yaWdpbmFsRWwpO1xuICAgICAgICAgICAgTC5Eb21VdGlsLnNldFBvc2l0aW9uKHRpbGUub3JpZ2luYWxFbCwgdGhpcy5fZ2V0VGlsZVBvcyhjb29yZHMpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRpbGUubG9hZGVkID0gK25ldyBEYXRlKCk7XG4gICAgICAgIHRpbGUuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fcHJ1bmVUaWxlcygpO1xuXG4gICAgICAgIGlmICghZXJyKSB7XG4gICAgICAgICAgICB0aWxlLmVsLnN0eWxlLnZpc2liaWxpdHkgPSAnJztcblxuICAgICAgICAgICAgLy8gQGV2ZW50IHRpbGVsb2FkOiBUaWxlRXZlbnRcbiAgICAgICAgICAgIC8vIEZpcmVkIHdoZW4gYSB0aWxlIGxvYWRzLlxuICAgICAgICAgICAgdGhpcy5maXJlKCd0aWxlbG9hZCcsIHtcbiAgICAgICAgICAgICAgICB0aWxlOiB0aWxlLmVsLFxuICAgICAgICAgICAgICAgIHByZXZpZXc6IHRpbGUucHJldmlldyxcbiAgICAgICAgICAgICAgICBjb29yZHM6IGNvb3Jkc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fbm9UaWxlc1RvTG9hZCgpKSB7XG4gICAgICAgICAgICB0aGlzLl9sb2FkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAvLyBAZXZlbnQgbG9hZDogRXZlbnRcbiAgICAgICAgICAgIC8vIEZpcmVkIHdoZW4gdGhlIGdyaWQgbGF5ZXIgbG9hZGVkIGFsbCB2aXNpYmxlIHRpbGVzLlxuICAgICAgICAgICAgdGhpcy5maXJlKCdsb2FkJyk7XG5cbiAgICAgICAgICAgIGlmIChMLkJyb3dzZXIuaWVsdDkgfHwgIXRoaXMuX21hcC5fZmFkZUFuaW1hdGVkKSB7XG4gICAgICAgICAgICAgICAgTC5VdGlsLnJlcXVlc3RBbmltRnJhbWUodGhpcy5fcHJ1bmVUaWxlcywgdGhpcyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFdhaXQgYSBiaXQgbW9yZSB0aGFuIDAuMiBzZWNzICh0aGUgZHVyYXRpb24gb2YgdGhlIHRpbGUgZmFkZS1pbilcbiAgICAgICAgICAgICAgICAvLyB0byB0cmlnZ2VyIGEgcHJ1bmluZy5cbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KEwuYmluZCh0aGlzLl9wcnVuZVRpbGVzLCB0aGlzKSwgMjUwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiDQkiDQvtGC0LvQuNGH0LjQtSDQvtGCINC+0YDQuNCz0LjQvdCw0LvRjNC90L7Qs9C+INC80LXRgtC+0LTQsCwg0LfQtNC10YHRjCB1cmwg0L/RgNC+0LrQuNC00YvQstCw0LXRgtGB0Y8g0L/QsNGA0LDQvNC10YLRgNC+0LxcbiAgICAgKi9cbiAgICBnZXRUaWxlVXJsOiBmdW5jdGlvbihjb29yZHMsIHVybCkge1xuICAgICAgICB2YXIgZGF0YSA9IHtcbiAgICAgICAgICAgIHI6IEwuQnJvd3Nlci5yZXRpbmEgPyAnQDJ4JyA6ICcnLFxuICAgICAgICAgICAgczogdGhpcy5fZ2V0U3ViZG9tYWluKGNvb3JkcyksXG4gICAgICAgICAgICB4OiBjb29yZHMueCxcbiAgICAgICAgICAgIHk6IGNvb3Jkcy55LFxuICAgICAgICAgICAgejogdGhpcy5fZ2V0Wm9vbUZvclVybCgpXG4gICAgICAgIH07XG4gICAgICAgIGlmICh0aGlzLl9tYXAgJiYgIXRoaXMuX21hcC5vcHRpb25zLmNycy5pbmZpbml0ZSkge1xuICAgICAgICAgICAgdmFyIGludmVydGVkWSA9IHRoaXMuX2dsb2JhbFRpbGVSYW5nZS5tYXgueSAtIGNvb3Jkcy55O1xuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy50bXMpIHtcbiAgICAgICAgICAgICAgICBkYXRhWyd5J10gPSBpbnZlcnRlZFk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkYXRhWycteSddID0gaW52ZXJ0ZWRZO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIEwuVXRpbC50ZW1wbGF0ZSh1cmwsIEwuZXh0ZW5kKGRhdGEsIHRoaXMub3B0aW9ucykpO1xuICAgIH0sXG59KTtcbiIsIkRHLkNvbnRyb2wuWm9vbS5pbmNsdWRlKERHLkxvY2FsZSk7XG5ERy5Db250cm9sLlpvb20uRGljdGlvbmFyeSA9IHt9O1xuXG5ERy5Db250cm9sLlpvb20uaW5jbHVkZSh7XG4gICAgb25BZGQ6IGZ1bmN0aW9uKG1hcCkge1xuICAgICAgICB2YXIgem9vbU5hbWUgPSAnZGctem9vbScsXG4gICAgICAgICAgICBidXR0b25UZW1wbGF0ZSA9ICc8ZGl2IGNsYXNzPVwiZGctY29udHJvbC1yb3VuZF9faWNvbiAnICsgem9vbU5hbWUgKyAnX19jb250cm9sICcgKyB6b29tTmFtZSArICdfX2J1dHRvbiAnICsgem9vbU5hbWUgKyAnX19idXR0b25fdHlwZV97dHlwZX1cIj48L2Rpdj4nLFxuICAgICAgICAgICAgY29udGFpbmVyID0gREcuRG9tVXRpbC5jcmVhdGUoJ2RpdicsIHpvb21OYW1lKTtcblxuICAgICAgICB0aGlzLl9tYXAgPSBtYXA7XG5cbiAgICAgICAgdGhpcy5fem9vbUluQnV0dG9uID0gdGhpcy5fY3JlYXRlQnV0dG9uKERHLlV0aWwudGVtcGxhdGUoYnV0dG9uVGVtcGxhdGUsIHt0eXBlIDogJ2luJ30pLCB0aGlzLnQoJ3pvb21faW4nKSwgJ2RnLWNvbnRyb2wtcm91bmQgJyArIHpvb21OYW1lICsgJ19faW4nLCBjb250YWluZXIsIHRoaXMuX3pvb21JbiwgdGhpcyk7XG4gICAgICAgIHRoaXMuX3pvb21PdXRCdXR0b24gPSB0aGlzLl9jcmVhdGVCdXR0b24oREcuVXRpbC50ZW1wbGF0ZShidXR0b25UZW1wbGF0ZSwge3R5cGUgOiAnb3V0J30pLCB0aGlzLnQoJ3pvb21fb3V0JyksICdkZy1jb250cm9sLXJvdW5kICcgKyB6b29tTmFtZSArICdfX291dCcsIGNvbnRhaW5lciwgdGhpcy5fem9vbU91dCwgdGhpcyk7XG5cbiAgICAgICAgdGhpcy5fdXBkYXRlRGlzYWJsZWQoKTtcbiAgICAgICAgbWFwLm9uKCd6b29tZW5kIHpvb21sZXZlbHNjaGFuZ2UnLCB0aGlzLl91cGRhdGVEaXNhYmxlZCwgdGhpcyk7XG5cbiAgICAgICAgcmV0dXJuIGNvbnRhaW5lcjtcbiAgICB9LFxuXG4gICAgX29yaWdpbmFsQ3JlYXRlQnV0dG9uOiBERy5Db250cm9sLlpvb20ucHJvdG90eXBlLl9jcmVhdGVCdXR0b24sXG5cbiAgICAvLyBzZXQgYWN0aXZlIHN0YXRlIGNvbnRyb2wgb24gbW9iaWxlIGRldmljZXNcbiAgICBfY3JlYXRlQnV0dG9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO1xuICAgICAgICB2YXIgbGluayA9IHRoaXMuX29yaWdpbmFsQ3JlYXRlQnV0dG9uLmFwcGx5KHRoaXMsIGFyZ3MpO1xuXG4gICAgICAgIHZhciBpY29uID0gbGluay5jaGlsZHJlblswXTtcbiAgICAgICAgdmFyIGxpbmtBY3RpdmVDbGFzcyA9ICdkZy1jb250cm9sLXJvdW5kX3N0YXRlX2FjdGl2ZSc7XG4gICAgICAgIHZhciBpY29uQWN0aXZlQ2xhc3MgPSAnZGctY29udHJvbC1yb3VuZF9faWNvbl9zdGF0ZV9hY3RpdmUnO1xuXG4gICAgICAgIERHLkRvbUV2ZW50XG4gICAgICAgICAgICAub24obGluaywgJ3RvdWNoc3RhcnQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBERy5Eb21VdGlsLmFkZENsYXNzKGxpbmssIGxpbmtBY3RpdmVDbGFzcyk7XG4gICAgICAgICAgICAgICAgREcuRG9tVXRpbC5hZGRDbGFzcyhpY29uLCBpY29uQWN0aXZlQ2xhc3MpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5vbihsaW5rLCAndG91Y2hlbmQgdG91Y2hjYW5jZWwnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBERy5Eb21VdGlsLnJlbW92ZUNsYXNzKGxpbmssIGxpbmtBY3RpdmVDbGFzcyk7XG4gICAgICAgICAgICAgICAgREcuRG9tVXRpbC5yZW1vdmVDbGFzcyhpY29uLCBpY29uQWN0aXZlQ2xhc3MpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIGxpbms7XG4gICAgfSxcblxuICAgIF9yZW5kZXJUcmFuc2xhdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICghdGhpcy5fem9vbUluQnV0dG9uIHx8ICF0aGlzLl96b29tT3V0QnV0dG9uKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl96b29tSW5CdXR0b24udGl0bGUgPSB0aGlzLnQoJ3pvb21faW4nKTtcbiAgICAgICAgdGhpcy5fem9vbU91dEJ1dHRvbi50aXRsZSA9IHRoaXMudCgnem9vbV9vdXQnKTtcbiAgICB9XG59KTtcbiIsIkRHLkNvbnRyb2wuWm9vbS5EaWN0aW9uYXJ5LnJ1ID0ge1xuICAgIHpvb21faW4gOiAn0J/RgNC40LHQu9C40LfQuNGC0YwnLFxuICAgIHpvb21fb3V0IDogJ9Ce0YLQtNCw0LvQuNGC0YwnXG59O1xuIiwiREcuQ29udHJvbC5ab29tLkRpY3Rpb25hcnkuaXQgPSB7XG4gICAgem9vbV9pbiA6ICdab29tIGF2YW50aScsXG4gICAgem9vbV9vdXQgOiAnWm9vbSBpbmRpZXRybydcbn07XG4iLCJERy5Db250cm9sLlpvb20uRGljdGlvbmFyeS5jcyA9IHtcbiAgICB6b29tX2luIDogJ1DFmWlibMOtxb5pdCcsXG4gICAgem9vbV9vdXQgOiAnT2Rkw6FsaXQnXG59O1xuIiwiREcuQ29udHJvbC5ab29tLkRpY3Rpb25hcnkuZW4gPSB7XG4gICAgem9vbV9pbiA6ICdab29tIGluJyxcbiAgICB6b29tX291dCA6ICdab29tIG91dCdcbn07XG4iLCJERy5Db250cm9sLlpvb20uRGljdGlvbmFyeS5lcyA9IHtcbiAgICB6b29tX2luIDogJ0FjZXJjYXInLFxuICAgIHpvb21fb3V0IDogJ0FsZWphcidcbn07XG4iLCJERy5Db250cm9sLlpvb20uRGljdGlvbmFyeS5hciA9IHtcbiAgICB6b29tX2luIDogJycsXG4gICAgem9vbV9vdXQgOiAnJ1xufTtcbiIsInZhciBkdXN0ID0gcmVxdWlyZSgnZHVzdGpzLWxpbmtlZGluJyk7XG5yZXF1aXJlKCdkdXN0anMtaGVscGVycycpO1xuXG5ERy5kdXN0ID0gZnVuY3Rpb24obmFtZSwgZGF0YSkge1xuICAgIHZhciByZXN1bHQ7XG5cbiAgICAvLyBUaGUgY2FsbGJhY2sgaXMgY2FsbGVkIHN5bmNocm9ub3VzbHksIHNvIHRoaXMgd29ya3NcbiAgICBkdXN0LnJlbmRlcihuYW1lLCBkYXRhLCBmdW5jdGlvbihlcnIsIGh0bWwpIHtcbiAgICAgICAgcmVzdWx0ID0gaHRtbDtcbiAgICB9KTtcblxuICAgIHJldHVybiByZXN1bHQ7XG59O1xuIiwiREcuQ29udHJvbC5BdHRyaWJ1dGlvbi5pbmNsdWRlKERHLkxvY2FsZSk7XG5ERy5Db250cm9sLkF0dHJpYnV0aW9uLkRpY3Rpb25hcnkgPSB7fTtcbkRHLkNvbnRyb2wuQXR0cmlidXRpb24uaW5jbHVkZSh7XG4gICAgb3B0aW9uczoge1xuICAgICAgICBwb3NpdGlvbjogJ2JvdHRvbXJpZ2h0J1xuICAgIH0sXG5cbiAgICBfZ2V0TGluazogZnVuY3Rpb24obGlua1R5cGUpIHtcbiAgICAgICAgLyogZXNsaW50LWRpc2FibGUgY2FtZWxjYXNlICovXG4gICAgICAgIHZhciBkaWN0aW9uYXJ5ID0ge1xuICAgICAgICAgICAgcnU6IHtcbiAgICAgICAgICAgICAgICBjb3B5cmlnaHRfbG9nbzogJ2h0dHA6Ly9pbmZvLjJnaXMucnUvP3V0bV9zb3VyY2U9Y29weXJpZ2h0JnV0bV9tZWRpdW09bWFwJnV0bV9jYW1wYWlnbj1wYXJ0bmVycycsXG4gICAgICAgICAgICAgICAgY29weXJpZ2h0X2FwaWxpbms6ICdodHRwOi8vYXBpLjJnaXMucnUvP3V0bV9zb3VyY2U9Y29weXJpZ2h0JnV0bV9tZWRpdW09bWFwJnV0bV9jYW1wYWlnbj1wYXJ0bmVycycsXG4gICAgICAgICAgICAgICAgY29weXJpZ2h0X2xpY2Vuc2U6ICdodHRwOi8vbGF3LjJnaXMucnUvYXBpLXJ1bGVzLydcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGl0OiB7XG4gICAgICAgICAgICAgICAgY29weXJpZ2h0X2xvZ286ICdodHRwOi8vMmdpcy5pdC8/dXRtX3NvdXJjZT1jb3B5cmlnaHQmdXRtX21lZGl1bT1tYXAmdXRtX2NhbXBhaWduPXBhcnRuZXJzJyxcbiAgICAgICAgICAgICAgICBjb3B5cmlnaHRfYXBpbGluazogJ2h0dHA6Ly8yZ2lzLml0Lz91dG1fc291cmNlPWNvcHlyaWdodCZ1dG1fbWVkaXVtPW1hcCZ1dG1fY2FtcGFpZ249cGFydG5lcnMnLFxuICAgICAgICAgICAgICAgIGNvcHlyaWdodF9saWNlbnNlOiAnaHR0cDovL2xhdy4yZ2lzLml0L2xpY2Vuc2luZy1hZ3JlZW1lbnQvJ1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgY3o6IHtcbiAgICAgICAgICAgICAgICBjb3B5cmlnaHRfbG9nbzogJ2h0dHA6Ly9wcmFoYS4yZ2lzLmN6Lz91dG1fc291cmNlPWNvcHlyaWdodCZ1dG1fbWVkaXVtPW1hcCZ1dG1fY2FtcGFpZ249cGFydG5lcnMnLFxuICAgICAgICAgICAgICAgIGNvcHlyaWdodF9hcGlsaW5rOiAnaHR0cDovL3ByYWhhLjJnaXMuY3ovP3V0bV9zb3VyY2U9Y29weXJpZ2h0JnV0bV9tZWRpdW09bWFwJnV0bV9jYW1wYWlnbj1wYXJ0bmVycycsXG4gICAgICAgICAgICAgICAgY29weXJpZ2h0X2xpY2Vuc2U6ICdodHRwOi8vbGF3LjJnaXMuY3ovYXBpLXJ1bGVzLydcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGNsOiB7XG4gICAgICAgICAgICAgICAgY29weXJpZ2h0X2xvZ286ICdodHRwOi8vc2FudGlhZ28uMmdpcy5jbC8/dXRtX3NvdXJjZT1jb3B5cmlnaHQmdXRtX21lZGl1bT1tYXAmdXRtX2NhbXBhaWduPXBhcnRuZXJzJyxcbiAgICAgICAgICAgICAgICBjb3B5cmlnaHRfYXBpbGluazogJ2h0dHA6Ly9zYW50aWFnby4yZ2lzLmNsLz91dG1fc291cmNlPWNvcHlyaWdodCZ1dG1fbWVkaXVtPW1hcCZ1dG1fY2FtcGFpZ249cGFydG5lcnMnLFxuICAgICAgICAgICAgICAgIGNvcHlyaWdodF9saWNlbnNlOiAnaHR0cDovL2xhdy4yZ2lzLmNsL2FwaS1ydWxlcy8nXG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBjeToge1xuICAgICAgICAgICAgICAgIGNvcHlyaWdodF9sb2dvOiAnaHR0cDovL2luZm8uMmdpcy5jb20uY3kvbGVtZXNvcz91dG1fc291cmNlPWNvcHlyaWdodCZ1dG1fbWVkaXVtPW1hcCZ1dG1fY2FtcGFpZ249cGFydG5lcnMnLFxuICAgICAgICAgICAgICAgIGNvcHlyaWdodF9hcGlsaW5rOiAnaHR0cDovL2luZm8uMmdpcy5jb20uY3kvbGVtZXNvcz91dG1fc291cmNlPWNvcHlyaWdodCZ1dG1fbWVkaXVtPW1hcCZ1dG1fY2FtcGFpZ249cGFydG5lcnMnLFxuICAgICAgICAgICAgICAgIGNvcHlyaWdodF9saWNlbnNlOiAnaHR0cDovL2xhdy4yZ2lzLmNvbS5jeS9hcGktcnVsZXMvJ1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgYWU6IHtcbiAgICAgICAgICAgICAgICBjb3B5cmlnaHRfbG9nbzogJ2h0dHA6Ly9pbmZvLjJnaXMuYWUvZHViYWk/dXRtX3NvdXJjZT1jb3B5cmlnaHQmdXRtX21lZGl1bT1tYXAmdXRtX2NhbXBhaWduPXBhcnRuZXJzJyxcbiAgICAgICAgICAgICAgICBjb3B5cmlnaHRfYXBpbGluazogJ2h0dHA6Ly9pbmZvLjJnaXMuYWUvZHViYWk/dXRtX3NvdXJjZT1jb3B5cmlnaHQmdXRtX21lZGl1bT1tYXAmdXRtX2NhbXBhaWduPXBhcnRuZXJzJyxcbiAgICAgICAgICAgICAgICBjb3B5cmlnaHRfbGljZW5zZTogJ2h0dHA6Ly9sYXcuMmdpcy5hZS9hcGktcnVsZXMvJ1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIGNhbWVsY2FzZSAqL1xuXG4gICAgICAgIHZhciBjb3VudHJ5Q29kZSA9ICh0aGlzLl9jb3VudHJ5Q29kZSBpbiBkaWN0aW9uYXJ5KSA/IHRoaXMuX2NvdW50cnlDb2RlIDogJ3J1JztcblxuICAgICAgICByZXR1cm4gZGljdGlvbmFyeVtjb3VudHJ5Q29kZV1bbGlua1R5cGVdO1xuICAgIH0sXG5cbiAgICBvbkFkZDogZnVuY3Rpb24obWFwKSB7XG4gICAgICAgIGlmICghbWFwLl9jb3B5cmlnaHQpIHtcbiAgICAgICAgICAgIG1hcC5fY29weXJpZ2h0ID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX2ZpcnN0ID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIG1hcC5hdHRyaWJ1dGlvbkNvbnRyb2wgPSB0aGlzO1xuICAgICAgICB0aGlzLl9jb250YWluZXIgPSBERy5Eb21VdGlsLmNyZWF0ZSgnZGl2JywgJ2RnLWF0dHJpYnV0aW9uJyk7XG4gICAgICAgIERHLkRvbUV2ZW50LmRpc2FibGVDbGlja1Byb3BhZ2F0aW9uKHRoaXMuX2NvbnRhaW5lcik7XG5cbiAgICAgICAgZm9yICh2YXIgaSBpbiBtYXAuX2xheWVycykge1xuICAgICAgICAgICAgaWYgKG1hcC5fbGF5ZXJzW2ldLmdldEF0dHJpYnV0aW9uKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRBdHRyaWJ1dGlvbihtYXAuX2xheWVyc1tpXS5nZXRBdHRyaWJ1dGlvbigpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3VwZGF0ZSgpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9jb250YWluZXI7XG4gICAgfSxcblxuICAgIF91cGRhdGU6IGZ1bmN0aW9uKGxhbmcsIG9zbSwgY291bnRyeUNvZGUpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9tYXApIHsgcmV0dXJuOyB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiBvc20gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB0aGlzLl9vc20gPSBvc207XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIGNvdW50cnlDb2RlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdGhpcy5fY291bnRyeUNvZGUgPSBjb3VudHJ5Q29kZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBhdHRyaWJzID0gW107XG5cbiAgICAgICAgZm9yICh2YXIgaSBpbiB0aGlzLl9hdHRyaWJ1dGlvbnMpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9hdHRyaWJ1dGlvbnNbaV0pIHtcbiAgICAgICAgICAgICAgICBhdHRyaWJzLnB1c2goaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcHJlZml4QW5kQXR0cmlicyA9IFtdLFxuICAgICAgICAgICAgY29weXJpZ2h0ID0gJyc7XG5cbiAgICAgICAgaWYgKHRoaXMuX2ZpcnN0KSB7XG4gICAgICAgICAgICBjb3B5cmlnaHQgPSB0aGlzLl9nZXRBdHRyaWJ1dGlvbkhUTUwobGFuZyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnByZWZpeCkge1xuICAgICAgICAgICAgcHJlZml4QW5kQXR0cmlicy5wdXNoKHRoaXMub3B0aW9ucy5wcmVmaXgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhdHRyaWJzLmxlbmd0aCkge1xuICAgICAgICAgICAgcHJlZml4QW5kQXR0cmlicy5wdXNoKGF0dHJpYnMuam9pbignLCAnKSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9jb250YWluZXIuaW5uZXJIVE1MID0gY29weXJpZ2h0ICsgcHJlZml4QW5kQXR0cmlicy5qb2luKCcgfCAnKTtcbiAgICB9LFxuICAgIF9nZXREYXRhOiBmdW5jdGlvbihsYW5nKSB7XG4gICAgICAgIGxhbmcgPSBsYW5nIHx8IHRoaXMuX21hcC5nZXRMYW5nKCk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICdvc20nOiB0aGlzLl9vc20sXG4gICAgICAgICAgICAnd29ya19vbic6IHRoaXMudCgnd29ya19vbicpLFxuICAgICAgICAgICAgJ3dvcmtfb25fd2l0aF9vc20nOiB0aGlzLnQoJ3dvcmtfb25fd2l0aF9vc20nKSxcbiAgICAgICAgICAgICdsYW5nJzogbGFuZyxcbiAgICAgICAgICAgICdjb3B5cmlnaHRfYXBpbGluayc6IHRoaXMuX2dldExpbmsoJ2NvcHlyaWdodF9hcGlsaW5rJyksXG4gICAgICAgICAgICAnY29weXJpZ2h0X2xpY2Vuc2UnOiB0aGlzLl9nZXRMaW5rKCdjb3B5cmlnaHRfbGljZW5zZScpLFxuICAgICAgICAgICAgJ2NvcHlyaWdodF9sb2dvJzogdGhpcy5fZ2V0TGluaygnY29weXJpZ2h0X2xvZ28nKSxcbiAgICAgICAgICAgICdsaWNlbnNlX2FncmVlbWVudCc6IHRoaXMudCgnbGljZW5zZV9hZ3JlZW1lbnQnKSxcbiAgICAgICAgICAgICdkaXInOiBsYW5nICE9PSAnYXInID8gJ2x0cicgOiAncnRsJyxcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIF9nZXRBdHRyaWJ1dGlvbkhUTUw6IGZ1bmN0aW9uKGxhbmcpIHtcbiAgICAgICAgcmV0dXJuIERHLmR1c3QoJ0RHQXR0cmlidXRpb24vY29weXJpZ2h0JywgdGhpcy5fZ2V0RGF0YShsYW5nKSk7XG4gICAgfSxcbiAgICBfcmVuZGVyVHJhbnNsYXRpb246IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgdGhpcy5fdXBkYXRlKGUubGFuZyk7XG4gICAgfVxufSk7XG5cbkRHLk1hcC5hZGRJbml0SG9vayhmdW5jdGlvbigpIHtcbiAgICBpZiAoIXRoaXMuX2NvcHlyaWdodCkge1xuICAgICAgICBERy5jb250cm9sLmF0dHJpYnV0aW9uKCkuYWRkVG8odGhpcyk7XG4gICAgfVxufSk7XG4iLCJERy5Db250cm9sLkF0dHJpYnV0aW9uLkRpY3Rpb25hcnkucnUgPSB7XG4gICAgbGljZW5zZV9hZ3JlZW1lbnQ6ICfQm9C40YbQtdC90LfQuNC+0L3QvdC+0LUg0YHQvtCz0LvQsNGI0LXQvdC40LUnLFxuICAgIHdvcmtfb246ICfQoNCw0LHQvtGC0LDQtdGCINC90LAgQVBJIDLQk9CY0KEnLFxuICAgIHdvcmtfb25fd2l0aF9vc206ICdBUEkgMtCT0JjQoSdcbn07XG4iLCJERy5Db250cm9sLkF0dHJpYnV0aW9uLkRpY3Rpb25hcnkuaXQgPSB7XG4gICAgbGljZW5zZV9hZ3JlZW1lbnQgOiAnQWNjb3JkbyBkaSBsaWNlbnphJyxcbiAgICB3b3JrX29uOiAnMkdJUyBBUEknLFxuICAgIHdvcmtfb25fd2l0aF9vc206ICcyR0lTIEFQSSdcbn07XG4iLCJERy5Db250cm9sLkF0dHJpYnV0aW9uLkRpY3Rpb25hcnkuY3MgPSB7XG4gICAgbGljZW5zZV9hZ3JlZW1lbnQ6ICdMaWNlbsSNbsOtIHNtbG91dmEnLFxuICAgIHdvcmtfb246ICdQcmFjdWplIG5hIEFQSSAyR0lTJyxcbiAgICB3b3JrX29uX3dpdGhfb3NtOiAnQVBJIDJHSVMnXG59O1xuIiwiREcuQ29udHJvbC5BdHRyaWJ1dGlvbi5EaWN0aW9uYXJ5LmVuID0ge1xuICAgIGxpY2Vuc2VfYWdyZWVtZW50OiAnTGljZW5zZSBhZ3JlZW1lbnQnLFxuICAgIHdvcmtfb246ICdVc2VzIDJHSVMgQVBJJyxcbiAgICB3b3JrX29uX3dpdGhfb3NtOiAnMkdJUyBBUEknXG59O1xuIiwiREcuQ29udHJvbC5BdHRyaWJ1dGlvbi5EaWN0aW9uYXJ5LmVzID0ge1xuICAgIGxpY2Vuc2VfYWdyZWVtZW50IDogJ0FjdWVyZG8gZGUgbGljZW5jaWEnLFxuICAgIHdvcmtfb246ICcyR0lTIEFQSScsXG4gICAgd29ya19vbl93aXRoX29zbTogJzJHSVMgQVBJJ1xufTtcbiIsIkRHLkNvbnRyb2wuQXR0cmlidXRpb24uRGljdGlvbmFyeS5hciA9IHtcbiAgICBsaWNlbnNlX2FncmVlbWVudDogJ9il2KrZgdin2YLZitipINiq2LHYrtmK2LUnLFxuICAgIHdvcmtfb246ICfZiti52YXZhCDYqNiq2LfYqNmK2YIgMkdJUycsXG4gICAgd29ya19vbl93aXRoX29zbTogJ0FQSSAyR0lTJ1xufTtcbiIsIkRHLkNvbnRyb2wuTG9jYXRpb24gPSBERy5Sb3VuZENvbnRyb2wuZXh0ZW5kKHtcblxuICAgIHN0YXRpY3M6IHtcbiAgICAgICAgRGljdGlvbmFyeToge31cbiAgICB9LFxuXG4gICAgb3B0aW9uczoge1xuICAgICAgICBpY29uQ2xhc3M6ICdsb2NhdGUnLFxuICAgICAgICBwb3NpdGlvbjogREcuQnJvd3Nlci5tb2JpbGUgPyAnYm90dG9tcmlnaHQnIDogJ3RvcGxlZnQnLFxuICAgICAgICBkcmF3Q2lyY2xlOiB0cnVlLFxuICAgICAgICBmb2xsb3c6IHRydWUsICAvLyBmb2xsb3cgd2l0aCB6b29tIGFuZCBwYW4gdGhlIHVzZXIncyBsb2NhdGlvblxuICAgICAgICBzdG9wRm9sbG93aW5nT25EcmFnOiBmYWxzZSwgLy8gaWYgZm9sbG93IGlzIHRydWUsIHN0b3AgZm9sbG93aW5nIHdoZW4gbWFwIGlzIGRyYWdnZWRcbiAgICAgICAgbWV0cmljOiB0cnVlLFxuICAgICAgICBvbkxvY2F0aW9uRXJyb3I6IGZ1bmN0aW9uKC8qZXJyKi8pIHtcbiAgICAgICAgICAgIC8vIHRoaXMgZXZlbnQgaXMgY2FsbGVkIGluIGNhc2Ugb2YgYW55IGxvY2F0aW9uIGVycm9yXG4gICAgICAgICAgICAvLyB0aGF0IGlzIG5vdCBhIHRpbWUgb3V0IGVycm9yLlxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZXJyLm1lc3NhZ2UpO1xuICAgICAgICB9LFxuICAgICAgICBvbkxvY2F0aW9uT3V0c2lkZU1hcEJvdW5kczogZnVuY3Rpb24oLypjb250ZXh0Ki8pIHtcbiAgICAgICAgICAgIC8vIHRoaXMgZXZlbnQgaXMgcmVwZWF0ZWRseSBjYWxsZWQgd2hlbiB0aGUgbG9jYXRpb24gY2hhbmdlc1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coY29udGV4dC50KCdvdXRzaWRlTWFwQm91bmRzTXNnJykpO1xuICAgICAgICB9LFxuICAgICAgICBsb2NhdGVPcHRpb25zOiB7fVxuICAgIH0sXG5cbiAgICBpbml0aWFsaXplOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICAgIERHLlV0aWwuc2V0T3B0aW9ucyh0aGlzLCBvcHRpb25zKTtcblxuICAgICAgICBpZiAoIW5hdmlnYXRvci5nZW9sb2NhdGlvbikge1xuICAgICAgICAgICAgdGhpcy5fZGlzYWJsZSA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9ldmVudCA9IHVuZGVmaW5lZDtcblxuICAgICAgICB0aGlzLl9sb2NhdGVPcHRpb25zID0ge1xuICAgICAgICAgICAgd2F0Y2g6IHRydWUsICAvLyBpZiB5b3Ugb3ZlcndyaXRlIHRoaXMsIHZpc3VhbGl6YXRpb24gY2Fubm90IGJlIHVwZGF0ZWRcbiAgICAgICAgICAgIHNldFZpZXc6IHRydWUsXG4gICAgICAgICAgICBtYXhpbXVtQWdlOiBJbmZpbml0eSxcbiAgICAgICAgICAgIG1heFpvb206IEluZmluaXR5XG4gICAgICAgIH07XG4gICAgICAgIERHLmV4dGVuZCh0aGlzLl9sb2NhdGVPcHRpb25zLCB0aGlzLm9wdGlvbnMubG9jYXRlT3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy5fcmVzZXRWYXJpYWJsZXMoKTtcblxuICAgICAgICB0aGlzLm9uKHtcbiAgICAgICAgICAgICdjbGljayc6IHRoaXMuX2hhbmRsZUxvY2F0ZSxcbiAgICAgICAgICAgICdhZGQnOiB0aGlzLl9pbml0TG9jYXRlXG4gICAgICAgIH0pO1xuICAgIH0sXG5cbiAgICBfaW5pdExvY2F0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuX2xheWVyID0gbmV3IERHLkxheWVyR3JvdXAoKTtcbiAgICAgICAgdGhpcy5fbGF5ZXIuYWRkVG8odGhpcy5fbWFwKTtcblxuICAgICAgICAvLyBldmVudCBob29rc1xuICAgICAgICB0aGlzLl9tYXAub24oe1xuICAgICAgICAgICAgJ2xvY2F0aW9uZm91bmQnOiB0aGlzLl9vbkxvY2F0aW9uRm91bmQsXG4gICAgICAgICAgICAnbG9jYXRpb25lcnJvcic6IHRoaXMuX29uTG9jYXRpb25FcnJvclxuICAgICAgICB9LCB0aGlzKTtcbiAgICB9LFxuXG4gICAgX2hhbmRsZUxvY2F0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLl9hY3RpdmUgJiYgKCF0aGlzLl9ldmVudCB8fFxuICAgICAgICAgICAgKHRoaXMuX21hcC5nZXRCb3VuZHMoKS5jb250YWlucyh0aGlzLl9ldmVudC5sYXRsbmcpIHx8XG4gICAgICAgICAgICB0aGlzLl9pc091dHNpZGVNYXBCb3VuZHMoKSkpKSB7XG4gICAgICAgICAgICB0aGlzLl9zdG9wTG9jYXRlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9sb2NhdGVPbk5leHRMb2NhdGlvbkZvdW5kID0gdHJ1ZTtcblxuICAgICAgICAgICAgaWYgKCF0aGlzLl9hY3RpdmUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9tYXAubG9jYXRlKHRoaXMuX2xvY2F0ZU9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9hY3RpdmUgPSB0cnVlO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmZvbGxvdykge1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0YXJ0Rm9sbG93aW5nKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2NsZWFyRXJyb3IoKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuX2V2ZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdmlzdWFsaXplTG9jYXRpb24oKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSgncmVxdWVzdGluZycpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcblxuICAgIF9vbkxvY2F0aW9uRm91bmQ6IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgLy8gbm8gbmVlZCB0byBkbyBhbnl0aGluZyBpZiB0aGUgbG9jYXRpb24gaGFzIG5vdCBjaGFuZ2VkXG4gICAgICAgIGlmICh0aGlzLl9ldmVudCAmJlxuICAgICAgICAgICAgKHRoaXMuX2V2ZW50LmxhdGxuZy5sYXQgPT09IGUubGF0bG5nLmxhdCAmJlxuICAgICAgICAgICAgIHRoaXMuX2V2ZW50LmxhdGxuZy5sbmcgPT09IGUubGF0bG5nLmxuZyAmJlxuICAgICAgICAgICAgIHRoaXMuX2V2ZW50LmFjY3VyYWN5ID09PSBlLmFjY3VyYWN5KSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLl9hY3RpdmUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2V2ZW50ID0gZTtcblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmZvbGxvdyAmJiB0aGlzLl9mb2xsb3dpbmcpIHtcbiAgICAgICAgICAgIHRoaXMuX2xvY2F0ZU9uTmV4dExvY2F0aW9uRm91bmQgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fdmlzdWFsaXplTG9jYXRpb24oKTtcbiAgICB9LFxuXG4gICAgX3N0YXJ0Rm9sbG93aW5nOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5fZm9sbG93aW5nID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zdG9wRm9sbG93aW5nT25EcmFnKSB7XG4gICAgICAgICAgICB0aGlzLl9tYXAub24oJ2RyYWdzdGFydCcsIHRoaXMuX3N0b3BGb2xsb3dpbmcpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIF9zdG9wRm9sbG93aW5nOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5fZm9sbG93aW5nID0gZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc3RvcEZvbGxvd2luZ09uRHJhZykge1xuICAgICAgICAgICAgdGhpcy5fbWFwLm9mZignZHJhZ3N0YXJ0JywgdGhpcy5fc3RvcEZvbGxvd2luZyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdmlzdWFsaXplTG9jYXRpb24oKTtcbiAgICB9LFxuXG4gICAgX2lzT3V0c2lkZU1hcEJvdW5kczogZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLl9ldmVudCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX21hcC5vcHRpb25zLm1heEJvdW5kcyAmJlxuICAgICAgICAgICAgIXRoaXMuX21hcC5vcHRpb25zLm1heEJvdW5kcy5jb250YWlucyh0aGlzLl9ldmVudC5sYXRsbmcpO1xuICAgIH0sXG5cbiAgICBfdmlzdWFsaXplTG9jYXRpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5fZXZlbnQuYWNjdXJhY3kgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5fZXZlbnQuYWNjdXJhY3kgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJhZGl1cyA9IHRoaXMuX2V2ZW50LmFjY3VyYWN5O1xuXG4gICAgICAgIGlmICh0aGlzLl9sb2NhdGVPbk5leHRMb2NhdGlvbkZvdW5kKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5faXNPdXRzaWRlTWFwQm91bmRzKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMub25Mb2NhdGlvbk91dHNpZGVNYXBCb3VuZHModGhpcyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2xvY2F0ZU9wdGlvbnMuc2V0Vmlldykge1xuICAgICAgICAgICAgICAgIHZhciB6b29tID0gdGhpcy5fbWFwLnByb2plY3REZXRlY3Rvci5nZXRQcm9qZWN0KCkubWF4Wm9vbSB8fCBERy5jb25maWcucHJvamVjdExlYXZlTWF4Wm9vbTtcbiAgICAgICAgICAgICAgICB6b29tID0gTWF0aC5taW4odGhpcy5fbG9jYXRlT3B0aW9ucy5tYXhab29tLCB6b29tKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9tYXAuc2V0Vmlldyh0aGlzLl9ldmVudC5sYXRsbmcsIHpvb20pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fbG9jYXRlT25OZXh0TG9jYXRpb25Gb3VuZCA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY2lyY2xlIHdpdGggdGhlIHJhZGl1cyBvZiB0aGUgbG9jYXRpb24ncyBhY2N1cmFjeVxuICAgICAgICB2YXIgc3R5bGUgPSB7XG4gICAgICAgICAgICBjbGlja2FibGU6IGZhbHNlLFxuICAgICAgICAgICAgY29sb3I6ICcjRkZGJyxcbiAgICAgICAgICAgIGZpbGxDb2xvcjogJyNGRkYnLFxuICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDAuNCxcbiAgICAgICAgICAgIHdlaWdodDogMCxcbiAgICAgICAgICAgIG9wYWNpdHk6IDAuM1xuICAgICAgICB9O1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmRyYXdDaXJjbGUpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fY2lyY2xlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2lyY2xlID0gREcuY2lyY2xlKHRoaXMuX2V2ZW50LmxhdGxuZywgcmFkaXVzLCBzdHlsZSlcbiAgICAgICAgICAgICAgICAgICAgLmFkZFRvKHRoaXMuX2xheWVyKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2lyY2xlLnNldExhdExuZyh0aGlzLl9ldmVudC5sYXRsbmcpLnNldFJhZGl1cyhyYWRpdXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG1hcmtlckNsYXNzID0gJ2RnLWxvY2F0aW9uX19waW4nO1xuXG4gICAgICAgIG1hcmtlckNsYXNzICs9IHRoaXMuX2ZvbGxvd2luZyA/ICgnICcgKyBtYXJrZXJDbGFzcyArICdzdGF0ZV9mb2xsb3dpbmcnKSA6ICcnO1xuICAgICAgICAvLyBzbWFsbCBpbm5lciBtYXJrZXJcbiAgICAgICAgdmFyIG0gPSB7XG4gICAgICAgICAgICBpY29uOiBERy5kaXZJY29uKHtcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6IG1hcmtlckNsYXNzLFxuICAgICAgICAgICAgICAgIGljb25TaXplOiBbMjAsIDIwXVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoIXRoaXMuX21hcmtlcikge1xuICAgICAgICAgICAgdGhpcy5fbWFya2VyID0gREcubWFya2VyKHRoaXMuX2V2ZW50LmxhdGxuZywgbSlcbiAgICAgICAgICAgICAgICAuYmluZExhYmVsKHRoaXMudCgneW91X2FyZV9oZXJlJykpXG4gICAgICAgICAgICAgICAgLmFkZFRvKHRoaXMuX2xheWVyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX21hcmtlci5zZXRMYXRMbmcodGhpcy5fZXZlbnQubGF0bG5nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIERHLkRvbUV2ZW50Lm9uKHRoaXMuX21hcmtlciwgJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0aGlzLl9tYXAuZmlyZUV2ZW50KCdkZ0xvY2F0ZUNsaWNrJyk7XG4gICAgICAgIH0sIHRoaXMpO1xuXG4gICAgICAgIGlmICghdGhpcy5fY29udGFpbmVyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNldFN0YXRlKCdhY3RpdmUnKTtcbiAgICB9LFxuXG4gICAgX3Jlc2V0VmFyaWFibGVzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5fYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2ZvbGxvd2luZyA9IGZhbHNlO1xuICAgIH0sXG5cblxuICAgIF9zdG9wTG9jYXRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5fbWFwLnN0b3BMb2NhdGUoKTtcbiAgICAgICAgdGhpcy5fbWFwLm9mZignZHJhZ3N0YXJ0JywgdGhpcy5fc3RvcEZvbGxvd2luZyk7XG5cbiAgICAgICAgdGhpcy5zZXRTdGF0ZSgpO1xuICAgICAgICB0aGlzLl9yZXNldFZhcmlhYmxlcygpO1xuXG4gICAgICAgIHRoaXMuX2xheWVyLmNsZWFyTGF5ZXJzKCk7XG4gICAgICAgIHRoaXMuX21hcmtlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fY2lyY2xlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9ldmVudCA9IHVuZGVmaW5lZDtcbiAgICB9LFxuXG4gICAgX29uTG9jYXRpb25FcnJvcjogZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgIC8vIGlnbm9yZSB0aW1lIG91dCBlcnJvciBpZiB0aGUgbG9jYXRpb24gaXMgd2F0Y2hlZFxuICAgICAgICBpZiAoZXJyLmNvZGUgPT09IDMgJiYgdGhpcy5fbG9jYXRlT3B0aW9ucy53YXRjaCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fc3RvcExvY2F0ZSgpO1xuICAgICAgICB0aGlzLl9lcnJvciA9IERHLkRvbVV0aWwuY3JlYXRlKCdkaXYnLCAnZGctbGFiZWwgZGctbGFiZWxfbmFtZV9sb2NhdGlvbi1lcnJvcicsIHRoaXMuX2NvbnRhaW5lcik7XG4gICAgICAgIHRoaXMuX2Vycm9yVGV4dCA9IERHLkRvbVV0aWwuY3JlYXRlKCdkaXYnLCAnZGctbGFiZWxfX2NvbnRlbnQnLCB0aGlzLl9lcnJvcik7XG4gICAgICAgIHRoaXMuX2Vycm9yVGV4dC5pbm5lckhUTUwgPSB0aGlzLnQoJ2NhbnRfZmluZCcpO1xuXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNlbGYuX2NsZWFyRXJyb3IoKTtcbiAgICAgICAgfSwgMzAwMCk7XG5cbiAgICAgICAgLy9zaG93IGxvY2F0aW9uIGVycm9yXG4gICAgICAgIHRoaXMub3B0aW9ucy5vbkxvY2F0aW9uRXJyb3IoZXJyKTtcbiAgICB9LFxuXG4gICAgX2NsZWFyRXJyb3I6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5fZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRhaW5lci5yZW1vdmVDaGlsZCh0aGlzLl9lcnJvcik7XG4gICAgICAgICAgICB0aGlzLl9lcnJvciA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHRoaXMuX2Vycm9yVGV4dCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBfcmVuZGVyVHJhbnNsYXRpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5fbGluaykge1xuICAgICAgICAgICAgdGhpcy5fbGluay50aXRsZSA9IHRoaXMudCgnYnV0dG9uX3RpdGxlJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX21hcmtlcikge1xuICAgICAgICAgICAgdGhpcy5fbWFya2VyLmJpbmRMYWJlbCh0aGlzLnQoJ3lvdV9hcmVfaGVyZScpKTtcbiAgICAgICAgfVxuICAgIH1cbn0pO1xuXG5ERy5jb250cm9sLmxvY2F0aW9uID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIHJldHVybiBuZXcgREcuQ29udHJvbC5Mb2NhdGlvbihvcHRpb25zKTtcbn07XG5cbkRHLk1hcC5hZGRJbml0SG9vayhmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5vcHRpb25zLmxvY2F0aW9uQ29udHJvbCkge1xuICAgICAgICB0aGlzLmxvY2F0aW9uQ29udHJvbCA9IERHLmNvbnRyb2wubG9jYXRpb24odGhpcy5vcHRpb25zLmxvY2F0aW9uQ29udHJvbCk7XG4gICAgICAgIHRoaXMuYWRkQ29udHJvbCh0aGlzLmxvY2F0aW9uQ29udHJvbCk7XG4gICAgfVxufSk7XG4iLCJERy5Db250cm9sLkxvY2F0aW9uLkRpY3Rpb25hcnkucnUgPSB7XG4gICAgY2FudF9maW5kIDogJ9Cc0Ysg0L3QtSDRgdC80L7Qs9C70Lgg0JLQsNGBINC90LDQudGC0LgnLFxuICAgIHlvdV9hcmVfaGVyZSA6ICfQktGLINC30LTQtdGB0YwnLFxuICAgIGJ1dHRvbl90aXRsZSA6ICfQndCw0LnRgtC4INCS0LDRgSDQvdCwINC60LDRgNGC0LUnXG59O1xuIiwiREcuQ29udHJvbC5Mb2NhdGlvbi5EaWN0aW9uYXJ5Lml0ID0ge1xuICAgIGNhbnRfZmluZCA6ICdOb24gc2lhbW8gcml1c2NpdGkgYSBsb2NhbGl6emFydGknLFxuICAgIHlvdV9hcmVfaGVyZSA6ICdWb2kgc2lldGUgcXVpJyxcbiAgICBidXR0b25fdGl0bGUgOiAnVHJvdmEgbGEgdHVhIHBvc2l6aW9uZSBzdWxsYSBtYXBwYSdcbn07XG4iLCJERy5Db250cm9sLkxvY2F0aW9uLkRpY3Rpb25hcnkuY3MgPSB7XG4gICAgY2FudF9maW5kIDogJ05lcG9kYcWZaWxvIHNlIG7DoW0gdXLEjWl0IFZhxaFpIHBvbG9odScsXG4gICAgeW91X2FyZV9oZXJlIDogJ0pzdGUgdGFkeScsXG4gICAgYnV0dG9uX3RpdGxlIDogJ1VyxI1pdCBWYcWhaSBwb2xvaHUgbmEgbWFwxJsnXG59O1xuIiwiREcuQ29udHJvbC5Mb2NhdGlvbi5EaWN0aW9uYXJ5LmVuID0ge1xuICAgIGNhbnRfZmluZCA6ICdXZSBjYW5cXCd0IGZpbmQgeW91JyxcbiAgICB5b3VfYXJlX2hlcmUgOiAnWW91IGFyZSBoZXJlJyxcbiAgICBidXR0b25fdGl0bGUgOiAnU2hvdyB5b3VyIGxvY2F0aW9uJ1xufTtcbiIsIkRHLkNvbnRyb2wuTG9jYXRpb24uRGljdGlvbmFyeS5lcyA9IHtcbiAgICBjYW50X2ZpbmQgOiAnTm8gcHVkaW1vcyBlbmNvbnRyYXJ0ZScsXG4gICAgeW91X2FyZV9oZXJlIDogJ1TDuiBlc3TDoXMgYXF1w60nLFxuICAgIGJ1dHRvbl90aXRsZSA6ICdFbmNvbnRyYXJ0ZSBlbiBlbCBtYXBhJ1xufTtcbiIsIkRHLkNvbnRyb2wuTG9jYXRpb24uRGljdGlvbmFyeS5hciA9IHtcbiAgICBjYW50X2ZpbmQgOiAn2YTZhSDZhtiz2KrYt9i5INiq2K3Yr9mK2K8g2YXZiNmC2LnZgycsXG4gICAgeW91X2FyZV9oZXJlIDogJ9ij2YbYqiDZh9mG2KcnLFxuICAgIGJ1dHRvbl90aXRsZSA6ICfZhdmI2YLYudmKJ1xufTtcbiIsIi8vIEluc3BpcmVkIGJ5IFNpbmRyZSBTb3JodXMgc2NyZWVuZnVsbFxuLypnbG9iYWwgRWxlbWVudCAqL1xuREcuU2NyZWVuZnVsbCA9IERHLkNsYXNzLmV4dGVuZCh7XG4gICAgX2FwaU1hcDogW1xuICAgICAgICBbXG4gICAgICAgICAgICAncmVxdWVzdEZ1bGxzY3JlZW4nLFxuICAgICAgICAgICAgJ2V4aXRGdWxsc2NyZWVuJyxcbiAgICAgICAgICAgICdmdWxsc2NyZWVuRWxlbWVudCcsXG4gICAgICAgICAgICAnZnVsbHNjcmVlbkVuYWJsZWQnLFxuICAgICAgICAgICAgJ2Z1bGxzY3JlZW5jaGFuZ2UnLFxuICAgICAgICAgICAgJ2Z1bGxzY3JlZW5lcnJvcidcbiAgICAgICAgXSxcbiAgICAgICAgW1xuICAgICAgICAgICAgJ3dlYmtpdFJlcXVlc3RGdWxsc2NyZWVuJyxcbiAgICAgICAgICAgICd3ZWJraXRFeGl0RnVsbHNjcmVlbicsXG4gICAgICAgICAgICAnd2Via2l0RnVsbHNjcmVlbkVsZW1lbnQnLFxuICAgICAgICAgICAgJ3dlYmtpdEZ1bGxzY3JlZW5FbmFibGVkJyxcbiAgICAgICAgICAgICd3ZWJraXRmdWxsc2NyZWVuY2hhbmdlJyxcbiAgICAgICAgICAgICd3ZWJraXRmdWxsc2NyZWVuZXJyb3InXG5cbiAgICAgICAgXSxcbiAgICAgICAgW1xuICAgICAgICAgICAgJ21velJlcXVlc3RGdWxsU2NyZWVuJyxcbiAgICAgICAgICAgICdtb3pDYW5jZWxGdWxsU2NyZWVuJyxcbiAgICAgICAgICAgICdtb3pGdWxsU2NyZWVuRWxlbWVudCcsXG4gICAgICAgICAgICAnbW96RnVsbFNjcmVlbkVuYWJsZWQnLFxuICAgICAgICAgICAgJ21vemZ1bGxzY3JlZW5jaGFuZ2UnLFxuICAgICAgICAgICAgJ21vemZ1bGxzY3JlZW5lcnJvcidcbiAgICAgICAgXSxcbiAgICAgICAgW1xuICAgICAgICAgICAgJ21zUmVxdWVzdEZ1bGxzY3JlZW4nLFxuICAgICAgICAgICAgJ21zRXhpdEZ1bGxzY3JlZW4nLFxuICAgICAgICAgICAgJ21zRnVsbHNjcmVlbkVsZW1lbnQnLFxuICAgICAgICAgICAgJ21zRnVsbHNjcmVlbkVuYWJsZWQnLFxuICAgICAgICAgICAgJ01TRnVsbHNjcmVlbkNoYW5nZScsXG4gICAgICAgICAgICAnTVNGdWxsc2NyZWVuRXJyb3InXG4gICAgICAgIF1cbiAgICBdLFxuXG4gICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuYXBpID0gdGhpcy5fYXBpKCk7XG4gICAgfSxcblxuICAgIHJlcXVlc3Q6IGZ1bmN0aW9uKGVsZW0pIHtcbiAgICAgICAgdmFyIHJlcXVlc3QgPSB0aGlzLmFwaS5yZXF1ZXN0RnVsbHNjcmVlbjtcblxuICAgICAgICBlbGVtID0gZWxlbSB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gICAgICAgIGVsZW1bcmVxdWVzdF0oRWxlbWVudC5BTExPV19LRVlCT0FSRF9JTlBVVCk7XG4gICAgfSxcblxuICAgIGV4aXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICBkb2N1bWVudFt0aGlzLmFwaS5leGl0RnVsbHNjcmVlbl0oKTtcbiAgICB9LFxuXG4gICAgaXNGdWxsc2NyZWVuOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuICEhZG9jdW1lbnRbdGhpcy5hcGkuZnVsbHNjcmVlbkVsZW1lbnRdO1xuICAgIH0sXG5cbiAgICBpc0F2YWlsYWJsZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBCb29sZWFuKHRoaXMuYXBpKTtcbiAgICB9LFxuXG4gICAgX2FwaTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBhcGkgPSB7fSxcbiAgICAgICAgICAgIGFwaU1hcCA9IHRoaXMuX2FwaU1hcDtcblxuICAgICAgICBhcGlNYXAuZm9yRWFjaChmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgICAgIGlmICh2YWwgJiYgdmFsWzFdIGluIGRvY3VtZW50KSB7XG4gICAgICAgICAgICAgICAgdmFsLmZvckVhY2goZnVuY3Rpb24obWV0aG9kLCBpKSB7XG4gICAgICAgICAgICAgICAgICAgIGFwaVthcGlNYXBbMF1baV1dID0gbWV0aG9kO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gYXBpLnJlcXVlc3RGdWxsc2NyZWVuID8gYXBpIDogZmFsc2U7XG4gICAgfVxufSk7XG5cbkRHLnNjcmVlbmZ1bGwgPSBuZXcgREcuU2NyZWVuZnVsbCgpO1xuIiwiREcuQ29udHJvbC5GdWxsc2NyZWVuID0gREcuUm91bmRDb250cm9sLmV4dGVuZCh7XG5cbiAgICBzdGF0aWNzOiB7XG4gICAgICAgIERpY3Rpb25hcnk6IHt9XG4gICAgfSxcblxuICAgIG9wdGlvbnM6IHtcbiAgICAgICAgcG9zaXRpb246ICd0b3ByaWdodCcsXG4gICAgICAgIGljb25DbGFzczogJ2Z1bGxzY3JlZW4nXG4gICAgfSxcblxuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgICAgREcuVXRpbC5zZXRPcHRpb25zKHRoaXMsIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLl9pc0Z1bGxzY3JlZW4gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5vbignY2xpY2snLCB0aGlzLl90b2dnbGVGdWxsc2NyZWVuKTtcbiAgICB9LFxuXG4gICAgX3RvZ2dsZUZ1bGxzY3JlZW46IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoIXRoaXMuX2lzRnVsbHNjcmVlbikge1xuICAgICAgICAgICAgdGhpcy5fdG9nZ2xlKHRydWUsICdyZXF1ZXN0JywgJ29uJywgJ3JlcXVlc3RmdWxsc2NyZWVuJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl90b2dnbGUoZmFsc2UsICdleGl0JywgJ29uJywgJ2NhbmNlbGZ1bGxzY3JlZW4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3JlbmRlclRyYW5zbGF0aW9uKCk7XG4gICAgICAgIHRoaXMuX21hcC5pbnZhbGlkYXRlU2l6ZSgpO1xuICAgIH0sXG5cbiAgICBfcmVuZGVyVHJhbnNsYXRpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLl9saW5rLnRpdGxlID0gdGhpcy50KHRoaXMuX2lzRnVsbHNjcmVlbiA/ICd0aXRsZV9taW4nIDogJ3RpdGxlX21heCcpO1xuICAgIH0sXG5cbiAgICBfdG9nZ2xlOiBmdW5jdGlvbihpc0VuYWJsZWQsIG1ldGhvZCwgbGlzdCwgZXZlbnQpIHtcbiAgICAgICAgdmFyIGNvbnRhaW5lciA9IHRoaXMuX21hcC5fY29udGFpbmVyO1xuXG4gICAgICAgIHRoaXMuX2lzRnVsbHNjcmVlbiA9IGlzRW5hYmxlZDtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZShpc0VuYWJsZWQgPyAnYWN0aXZlJyA6ICcnKTtcblxuICAgICAgICBERy5zY3JlZW5mdWxsW21ldGhvZF0oY29udGFpbmVyKTtcbiAgICAgICAgREcuRG9tRXZlbnRbbGlzdF0oZG9jdW1lbnQsIERHLnNjcmVlbmZ1bGwuYXBpLmZ1bGxzY3JlZW5jaGFuZ2UsIHRoaXMuX29uRnVsbFNjcmVlblN0YXRlQ2hhbmdlLCB0aGlzKTtcbiAgICAgICAgdGhpcy5fbWFwLmZpcmUoZXZlbnQpO1xuICAgIH0sXG5cbiAgICBfb25GdWxsU2NyZWVuU3RhdGVDaGFuZ2U6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoIURHLnNjcmVlbmZ1bGwuaXNGdWxsc2NyZWVuKCkpIHtcbiAgICAgICAgICAgIHRoaXMuX3RvZ2dsZShmYWxzZSwgJ2V4aXQnLCAnb24nLCAnY2FuY2VsZnVsbHNjcmVlbicpO1xuICAgICAgICB9XG4gICAgfVxufSk7XG5cbkRHLmNvbnRyb2wuZnVsbHNjcmVlbiA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gbmV3IERHLkNvbnRyb2wuRnVsbHNjcmVlbihvcHRpb25zKTtcbn07XG5cbkRHLk1hcC5tZXJnZU9wdGlvbnMoe1xuICAgIGZ1bGxzY3JlZW5Db250cm9sOiB0cnVlXG59KTtcblxuREcuTWFwLmFkZEluaXRIb29rKGZ1bmN0aW9uKCkge1xuICAgIGlmICh0aGlzLm9wdGlvbnMuZnVsbHNjcmVlbkNvbnRyb2wpIHtcbiAgICAgICAgdGhpcy5mdWxsc2NyZWVuQ29udHJvbCA9IERHLmNvbnRyb2wuZnVsbHNjcmVlbih0aGlzLm9wdGlvbnMuZnVsbHNjcmVlbkNvbnRyb2wpO1xuXG4gICAgICAgIGlmIChERy5zY3JlZW5mdWxsLmlzQXZhaWxhYmxlKCkpIHtcbiAgICAgICAgICAgIHRoaXMuYWRkQ29udHJvbCh0aGlzLmZ1bGxzY3JlZW5Db250cm9sKTtcbiAgICAgICAgfVxuICAgIH1cbn0pO1xuIiwiREcuQ29udHJvbC5GdWxsc2NyZWVuLkRpY3Rpb25hcnkucnUgPSB7XG4gICAgdGl0bGVfbWF4IDogJ9Cg0LDQt9Cy0LXRgNC90YPRgtGMJyxcbiAgICB0aXRsZV9taW4gOiAn0JLQvtGB0YHRgtCw0L3QvtCy0LjRgtGMJ1xufTtcbiIsIkRHLkNvbnRyb2wuRnVsbHNjcmVlbi5EaWN0aW9uYXJ5Lml0ID0ge1xuICAgIHRpdGxlX21heCA6ICdFc3BhbmRpJyxcbiAgICB0aXRsZV9taW4gOiAnUmlwcmlzdGluYSdcbn07XG4iLCJERy5Db250cm9sLkZ1bGxzY3JlZW4uRGljdGlvbmFyeS5jcyA9IHtcbiAgICB0aXRsZV9tYXggOiAnUm96YmFsaXQnLFxuICAgIHRpdGxlX21pbiA6ICdPYm5vdml0J1xufTtcbiIsIkRHLkNvbnRyb2wuRnVsbHNjcmVlbi5EaWN0aW9uYXJ5LmVuID0ge1xuICAgIHRpdGxlX21heCA6ICdFeHBhbmQnLFxuICAgIHRpdGxlX21pbiA6ICdSZXN0b3JlJ1xufTtcbiIsIkRHLkNvbnRyb2wuRnVsbHNjcmVlbi5EaWN0aW9uYXJ5LmVzID0ge1xuICAgIHRpdGxlX21heCA6ICdNYXhpbWl6YXInLFxuICAgIHRpdGxlX21pbiA6ICdSZXN0YXVyYXInXG59O1xuIiwiREcuQ29udHJvbC5GdWxsc2NyZWVuLkRpY3Rpb25hcnkuYXIgPSB7XG4gICAgdGl0bGVfbWF4IDogJycsXG4gICAgdGl0bGVfbWluIDogJydcbn07XG4iLCJERy5NZXRhID0ge307XG5cbkRHLk1ldGEuTGF5ZXIgPSBERy5MYXllci5leHRlbmQoe1xuXG4gICAgb3B0aW9uczoge1xuICAgICAgICB0aWxlU2l6ZTogMjU2LFxuXG4gICAgICAgIG1pblpvb206IDAsXG4gICAgICAgIG1heFpvb206IDE5LFxuICAgICAgICB6b29tT2Zmc2V0OiAwLFxuICAgICAgICBldmVudEJ1YmJsaW5nOiAndHJhbnNwYXJlbnQnXG4gICAgICAgIC8vIG1heE5hdGl2ZVpvb206IDxOdW1iZXI+LFxuICAgICAgICAvLyBkZXRlY3RSZXRpbmE6IDxOdW1iZXI+LFxuICAgICAgICAvLyB6b29tUmV2ZXJzZTogPE51bWJlcj5cbiAgICAgICAgLy8gYXR0cmlidXRpb246IDxTdHJpbmc+LFxuICAgICAgICAvLyB6SW5kZXg6IDxOdW1iZXI+LFxuICAgICAgICAvLyBib3VuZHM6IDxMYXRMbmdCb3VuZHM+XG4gICAgfSxcblxuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKHNvdXJjZSwgb3B0aW9ucykgeyAvLyAoU3RyaW5nLCBPYmplY3QpXG4gICAgICAgIERHLlRpbGVMYXllci5wcm90b3R5cGUuaW5pdGlhbGl6ZS5jYWxsKHRoaXMsIG51bGwsIG9wdGlvbnMpO1xuICAgICAgICBkZWxldGUgdGhpcy5fdXJsO1xuXG4gICAgICAgIHRoaXMuX2N1cnJlbnRUaWxlS2V5ID0gJyc7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRUaWxlRGF0YSA9IFtdO1xuICAgICAgICB0aGlzLl9sYXN0RW50aXR5ID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9kaXNwYXRjaE1vdXNlRXZlbnRzID0gdHJ1ZTtcblxuICAgICAgICB0aGlzLl9vcmlnaW4gPSBERy5NZXRhLm9yaWdpbihzb3VyY2UsIHtcbiAgICAgICAgICAgIGRhdGFGaWx0ZXI6IHRoaXMub3B0aW9ucy5kYXRhRmlsdGVyXG4gICAgICAgIH0pO1xuICAgIH0sXG5cbiAgICBnZXRPcmlnaW46IGZ1bmN0aW9uKCkgeyAvLyAoKSAtPiBPYmplY3RcbiAgICAgICAgcmV0dXJuIHRoaXMuX29yaWdpbjtcbiAgICB9LFxuXG4gICAgb25BZGQ6IGZ1bmN0aW9uKG1hcCkge1xuICAgICAgICB0aGlzLl9yZXNldFZpZXcoKTtcblxuICAgICAgICBtYXAubWV0YUxheWVycy5wdXNoKHRoaXMpO1xuXG4gICAgICAgIG1hcC5vbigncnVsZXJzdGFydCcsIHRoaXMuX2Rpc2FibGVEaXNwYXRjaE1vdXNlRXZlbnRzLCB0aGlzKTtcbiAgICAgICAgbWFwLm9uKCdydWxlcmVuZCcsIHRoaXMuX2VuYWJsZURpc3BhdGNoTW91c2VFdmVudHMsIHRoaXMpO1xuXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgICBpZiAoREcuQnJvd3Nlci50b3VjaEVuYWJsZWQgJiYgdGhpcy5vcHRpb25zLmlzUG9pKSB7XG4gICAgICAgICAgICBtYXAuZWFjaExheWVyKGZ1bmN0aW9uKGxheWVyKSB7XG4gICAgICAgICAgICAgICAgaWYgKGxheWVyIGluc3RhbmNlb2YgTC5UaWxlTGF5ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gT24gZXZlcnkgdGlsZSB3aWxsIGJlIGxvYWQgbWV0YSB0aWxlLlxuICAgICAgICAgICAgICAgICAgICBsYXllci5vbigndGlsZWxvYWRzdGFydCcsIHNlbGYuX29uVGlsZUxvYWRTdGFydCwgc2VsZik7XG4gICAgICAgICAgICAgICAgICAgIC8vIExvYWQgbWV0YXRpbGVzIGZvciBhbHJlYWR5IGxvYWRlZCB0aWxlcy5cbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgdGlsZSBpbiBsYXllci5fdGlsZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX29uVGlsZUxvYWRTdGFydCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29vcmRzOiBsYXllci5fdGlsZXNbdGlsZV0uY29vcmRzXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIG9uUmVtb3ZlOiBmdW5jdGlvbihtYXApIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgIGlmIChERy5Ccm93c2VyLnRvdWNoRW5hYmxlZCAmJiB0aGlzLm9wdGlvbnMuaXNQb2kpIHtcbiAgICAgICAgICAgIG1hcC5lYWNoTGF5ZXIoZnVuY3Rpb24obGF5ZXIpIHtcbiAgICAgICAgICAgICAgICBpZiAobGF5ZXIgaW5zdGFuY2VvZiBMLlRpbGVMYXllcikge1xuICAgICAgICAgICAgICAgICAgICAvLyBPbiBldmVyeSB0aWxlIHdpbGwgYmUgbG9hZCBtZXRhIHRpbGUuXG4gICAgICAgICAgICAgICAgICAgIGxheWVyLm9mZigndGlsZWxvYWRzdGFydCcsIHNlbGYuX29uVGlsZUxvYWRTdGFydCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl90aWxlWm9vbSA9IG51bGw7XG5cbiAgICAgICAgdmFyIGluZGV4ID0gbWFwLm1ldGFMYXllcnMuaW5kZXhPZih0aGlzKTtcbiAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgbWFwLm1ldGFMYXllcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG1hcC5vZmYoJ3J1bGVyc3RhcnQnLCB0aGlzLl9kaXNhYmxlRGlzcGF0Y2hNb3VzZUV2ZW50cywgdGhpcyk7XG4gICAgICAgIG1hcC5vZmYoJ3J1bGVyZW5kJywgdGhpcy5fZW5hYmxlRGlzcGF0Y2hNb3VzZUV2ZW50cywgdGhpcyk7XG4gICAgfSxcblxuICAgIGdldEV2ZW50czogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB2aWV3cHJlcmVzZXQ6IHRoaXMuX2ludmFsaWRhdGVBbGwsXG4gICAgICAgICAgICB2aWV3cmVzZXQ6IHRoaXMuX3Jlc2V0VmlldyxcbiAgICAgICAgICAgIHpvb206IHRoaXMuX3Jlc2V0VmlldyxcbiAgICAgICAgICAgIG1vdmVlbmQ6IHRoaXMuX29uTW92ZUVuZFxuICAgICAgICB9O1xuICAgIH0sXG5cbiAgICBzZXRVcmw6IGZ1bmN0aW9uKHVybCkge1xuICAgICAgICB0aGlzLl9jdXJyZW50VGlsZUtleSA9ICcnO1xuICAgICAgICB0aGlzLl9jdXJyZW50VGlsZURhdGEgPSBbXTtcbiAgICAgICAgdGhpcy5fbGFzdEVudGl0eSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fZGlzcGF0Y2hNb3VzZUV2ZW50cyA9IHRydWU7XG4gICAgICAgIHRoaXMuX29yaWdpbi5zZXRVUkwodXJsLCB0cnVlKTtcbiAgICB9LFxuXG4gICAgZ2V0SG92ZXJlZE9iamVjdDogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgdmFyIHRpbGVTaXplID0gdGhpcy5nZXRUaWxlU2l6ZSgpLFxuICAgICAgICAgICAgbGF5ZXJQb2ludCA9IHRoaXMuX21hcC5tb3VzZUV2ZW50VG9MYXllclBvaW50KGV2ZW50Lm9yaWdpbmFsRXZlbnQpLFxuICAgICAgICAgICAgdGlsZU9yaWdpblBvaW50ID0gdGhpcy5fbWFwLmdldFBpeGVsT3JpZ2luKCkuYWRkKGxheWVyUG9pbnQpLFxuICAgICAgICAgICAgdGlsZUNvb3JkID0gdGlsZU9yaWdpblBvaW50LnVuc2NhbGVCeSh0aWxlU2l6ZSkuZmxvb3IoKSxcbiAgICAgICAgICAgIG1vdXNlVGlsZU9mZnNldCA9IERHLnBvaW50KHRpbGVPcmlnaW5Qb2ludC54ICUgdGlsZVNpemUueCwgdGlsZU9yaWdpblBvaW50LnkgJSB0aWxlU2l6ZS55KSxcbiAgICAgICAgICAgIHRpbGVLZXksXG4gICAgICAgICAgICB6b29tID0gdGhpcy5fbWFwLmdldFpvb20oKSxcbiAgICAgICAgICAgIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgIGlmICh6b29tID4gKHRoaXMub3B0aW9ucy5tYXhab29tICsgdGhpcy5vcHRpb25zLnpvb21PZmZzZXQpIHx8XG4gICAgICAgICAgICB6b29tIDwgKHRoaXMub3B0aW9ucy5taW5ab29tIC0gdGhpcy5vcHRpb25zLnpvb21PZmZzZXQpIHx8XG4gICAgICAgICAgICAhdGhpcy5faXNWYWxpZFRpbGUodGlsZUNvb3JkKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fd3JhcENvb3Jkcyh0aWxlQ29vcmQpO1xuXG4gICAgICAgIHRpbGVDb29yZC56ID0gdGhpcy5fZ2V0Wm9vbUZvclVybCgpO1xuICAgICAgICB0aWxlQ29vcmQua2V5ID0gdGlsZVNpemUueCArICd4JyArIHRpbGVTaXplLnk7XG4gICAgICAgIHRpbGVLZXkgPSB0aGlzLl9vcmlnaW4uZ2V0VGlsZUtleSh0aWxlQ29vcmQpO1xuXG4gICAgICAgIGlmICh0aWxlS2V5ID09PSB0aGlzLl9jdXJyZW50VGlsZUtleSkge1xuICAgICAgICAgICAgc2VsZi5fbGFzdEVudGl0eSA9IHNlbGYuX2dldEhvdmVyZWRPYmplY3QobW91c2VUaWxlT2Zmc2V0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX29yaWdpbi5nZXRUaWxlRGF0YSh0aWxlQ29vcmQsIGZ1bmN0aW9uKHRpbGVEYXRhKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5fY3VycmVudFRpbGVLZXkgPSB0aWxlS2V5O1xuICAgICAgICAgICAgICAgIHNlbGYuX2N1cnJlbnRUaWxlRGF0YSA9IHRpbGVEYXRhO1xuICAgICAgICAgICAgICAgIHNlbGYuX2xhc3RFbnRpdHkgPSBzZWxmLl9nZXRIb3ZlcmVkT2JqZWN0KG1vdXNlVGlsZU9mZnNldCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLl9sYXN0RW50aXR5O1xuICAgIH0sXG5cbiAgICBfcmVtb3ZlQWxsVGlsZXM6IERHLkdyaWRMYXllci5wcm90b3R5cGUuX3JlbW92ZUFsbFRpbGVzLFxuICAgIF9nZXRab29tRm9yVXJsOiBERy5UaWxlTGF5ZXIucHJvdG90eXBlLl9nZXRab29tRm9yVXJsLFxuICAgIGdldFRpbGVTaXplOiBERy5UaWxlTGF5ZXIucHJvdG90eXBlLmdldFRpbGVTaXplLFxuICAgIF9pc1ZhbGlkVGlsZTogREcuR3JpZExheWVyLnByb3RvdHlwZS5faXNWYWxpZFRpbGUsXG4gICAgX3dyYXBDb29yZHM6IERHLkdyaWRMYXllci5wcm90b3R5cGUuX3dyYXBDb29yZHMsXG4gICAgX3Jlc2V0VmlldzogREcuR3JpZExheWVyLnByb3RvdHlwZS5fcmVzZXRWaWV3LFxuICAgIF9yZXNldEdyaWQ6IERHLkdyaWRMYXllci5wcm90b3R5cGUuX3Jlc2V0R3JpZCxcbiAgICBfaW52YWxpZGF0ZUFsbDogREcuR3JpZExheWVyLnByb3RvdHlwZS5faW52YWxpZGF0ZUFsbCxcbiAgICBfcHhCb3VuZHNUb1RpbGVSYW5nZTogREcuR3JpZExheWVyLnByb3RvdHlwZS5fcHhCb3VuZHNUb1RpbGVSYW5nZSxcblxuICAgIC8vIEZpeCBmb3IgaHR0cHM6Ly9naXRodWIuY29tL0xlYWZsZXQvTGVhZmxldC9jb21wYXJlLzA3MjZmMTJiYmYzM2ZjYjE4ZmU4YmI1NDFkNWUzMjEyYmIxZjVhYjIuLi5jMjYzZjJkOGIxYmQ5NjJiNjA0NzQzNzZjYzQ4MTZhNjg4MDUyNTEzI2RpZmYtZjFlNmJlNjc1OTljNTk0NzMxZmZmNjE5MWM3MTA0MjBMNTc5XG4gICAgX29uTW92ZUVuZDogZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICghdGhpcy5fbWFwIHx8IHRoaXMuX21hcC5fYW5pbWF0aW5nWm9vbSkgeyByZXR1cm47IH1cblxuICAgICAgICB0aGlzLl9yZXNldFZpZXcoKTtcbiAgICB9LFxuXG4gICAgX29uVGlsZUxvYWRTdGFydDogZnVuY3Rpb24oZSkge1xuICAgICAgICB2YXIgdGlsZVNpemUgPSB0aGlzLmdldFRpbGVTaXplKCk7XG4gICAgICAgIGUuY29vcmRzLmtleSA9IHRpbGVTaXplLnggKyAneCcgKyB0aWxlU2l6ZS55O1xuICAgICAgICB0aGlzLl9vcmlnaW4uZ2V0VGlsZURhdGEoZS5jb29yZHMpO1xuICAgIH0sXG5cbiAgICBfZW5hYmxlRGlzcGF0Y2hNb3VzZUV2ZW50czogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuX2Rpc3BhdGNoTW91c2VFdmVudHMgPSB0cnVlO1xuICAgIH0sXG5cbiAgICBfZGlzYWJsZURpc3BhdGNoTW91c2VFdmVudHM6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLl9kaXNwYXRjaE1vdXNlRXZlbnRzID0gZmFsc2U7XG4gICAgfSxcblxuICAgIG1hcEV2ZW50czoge1xuICAgICAgICBtb3VzZW1vdmU6IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICB0aGlzLl9maXJlTWV0YWxheWVyRXZlbnQoJ21vdXNlbW92ZScsIGV2ZW50KTtcbiAgICAgICAgfSxcblxuICAgICAgICBtb3VzZW92ZXI6IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICB0aGlzLl9maXJlTWV0YWxheWVyRXZlbnQoJ21vdXNlb3ZlcicsIGV2ZW50KTtcbiAgICAgICAgfSxcblxuICAgICAgICBtb3VzZW91dDogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIHRoaXMuX2ZpcmVNZXRhbGF5ZXJFdmVudCgnbW91c2VvdXQnLCBldmVudCk7XG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50VGlsZUtleSA9ICcnO1xuICAgICAgICB9LFxuXG4gICAgICAgIGNsaWNrOiBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgdmFyIHRpbGVTaXplID0gdGhpcy5nZXRUaWxlU2l6ZSgpLFxuICAgICAgICAgICAgICAgIGxheWVyUG9pbnQgPSB0aGlzLl9tYXAubW91c2VFdmVudFRvTGF5ZXJQb2ludChldmVudC5vcmlnaW5hbEV2ZW50KSxcbiAgICAgICAgICAgICAgICB0aWxlT3JpZ2luUG9pbnQgPSB0aGlzLl9tYXAuZ2V0UGl4ZWxPcmlnaW4oKS5hZGQobGF5ZXJQb2ludCksXG4gICAgICAgICAgICAgICAgdGlsZUNvb3JkID0gdGlsZU9yaWdpblBvaW50LnVuc2NhbGVCeSh0aWxlU2l6ZSkuZmxvb3IoKSxcbiAgICAgICAgICAgICAgICBtb3VzZVRpbGVPZmZzZXQgPSBERy5wb2ludCh0aWxlT3JpZ2luUG9pbnQueCAlIHRpbGVTaXplLngsIHRpbGVPcmlnaW5Qb2ludC55ICUgdGlsZVNpemUueSksXG4gICAgICAgICAgICAgICAgdGlsZUtleSA9IHRoaXMuX29yaWdpbi5nZXRUaWxlS2V5KHRpbGVDb29yZCk7XG4gICAgICAgICAgICB0aWxlQ29vcmQueiA9IHRoaXMuX2dldFpvb21Gb3JVcmwoKTtcbiAgICAgICAgICAgIHRpbGVDb29yZC5rZXkgPSB0aWxlU2l6ZS54ICsgJ3gnICsgdGlsZVNpemUueTtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgICAgIHRoaXMuX29yaWdpbi5nZXRUaWxlRGF0YSh0aWxlQ29vcmQsIGZ1bmN0aW9uKHRpbGVEYXRhKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5fY3VycmVudFRpbGVEYXRhID0gdGlsZURhdGE7XG4gICAgICAgICAgICAgICAgc2VsZi5fY3VycmVudFRpbGVLZXkgPSB0aWxlS2V5O1xuICAgICAgICAgICAgICAgIHNlbGYuX2xhc3RFbnRpdHkgPSBzZWxmLl9nZXRIb3ZlcmVkT2JqZWN0KG1vdXNlVGlsZU9mZnNldCk7XG4gICAgICAgICAgICAgICAgc2VsZi5fbW91c2VEb3duID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICBldmVudC5lbnRpdHkgPSBzZWxmLl9sYXN0RW50aXR5O1xuICAgICAgICAgICAgICAgIHNlbGYuX2ZpcmVNZXRhbGF5ZXJFdmVudCgnY2xpY2snLCBldmVudCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICBkYmxjbGljazogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIHRoaXMuX2ZpcmVNZXRhbGF5ZXJFdmVudCgnZGJsY2xpY2snLCBldmVudCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgbW91c2Vkb3duOiBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgdGhpcy5fbW91c2VEb3duID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX2ZpcmVNZXRhbGF5ZXJFdmVudCgnbW91c2Vkb3duJywgZXZlbnQpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGNvbnRleHRtZW51OiBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgdGhpcy5fZmlyZU1ldGFsYXllckV2ZW50KCdjb250ZXh0bWVudScsIGV2ZW50KTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBfZmlyZU1ldGFsYXllckV2ZW50OiBmdW5jdGlvbih0eXBlLCBtb3VzZUV2ZW50KSB7XG4gICAgICAgIGlmICghbW91c2VFdmVudC5lbnRpdHkgfHwgIXRoaXMuX2Rpc3BhdGNoTW91c2VFdmVudHMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmZpcmUodHlwZSwge1xuICAgICAgICAgICAgbWV0YTogbW91c2VFdmVudC5lbnRpdHksXG4gICAgICAgICAgICBsYXRsbmc6IHRoaXMuX21hcC5tb3VzZUV2ZW50VG9MYXRMbmcobW91c2VFdmVudC5vcmlnaW5hbEV2ZW50KVxuICAgICAgICB9KTtcbiAgICAgICAgdmFyIGlzRHJhZ2dpbmcgPSB0eXBlID09PSAnbW91c2Vkb3duJyB8fCAodGhpcy5fbW91c2VEb3duICYmIHR5cGUgPT09ICdtb3VzZW1vdmUnKTtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5ldmVudEJ1YmJsaW5nID09PSAnbGF5ZXInICYmICFpc0RyYWdnaW5nKSB7XG4gICAgICAgICAgICBERy5Eb21FdmVudC5zdG9wKG1vdXNlRXZlbnQpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIF9nZXRIb3ZlcmVkT2JqZWN0OiBmdW5jdGlvbihtb3VzZVRpbGVPZmZzZXQpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9jdXJyZW50VGlsZURhdGEpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fY3VycmVudFRpbGVEYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoREcuUG9seVV0aWwuaW5zaWRlKG1vdXNlVGlsZU9mZnNldCwgdGhpcy5fY3VycmVudFRpbGVEYXRhW2ldLmdlb21ldHJ5LCB0aGlzLl9wb2ludFJlZHVjZUhlbHBlcikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fY3VycmVudFRpbGVEYXRhW2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcblxuICAgIF9wb2ludFJlZHVjZUhlbHBlcjogZnVuY3Rpb24ocG9pbnQpIHtcbiAgICAgICAgcmV0dXJuIFtwb2ludC54LCBwb2ludC55XTtcbiAgICB9LFxuXG4gICAgX3NldFZpZXc6IGZ1bmN0aW9uKGNlbnRlciwgem9vbSwgbm9QcnVuZSwgbm9VcGRhdGUpIHtcbiAgICAgICAgdmFyIHRpbGVab29tID0gTWF0aC5yb3VuZCh6b29tKSxcbiAgICAgICAgICAgIHRpbGVab29tQ2hhbmdlZCA9IHRoaXMuX3RpbGVab29tICE9PSB0aWxlWm9vbTtcblxuICAgICAgICBpZiAoIW5vVXBkYXRlICYmIHRpbGVab29tQ2hhbmdlZCkge1xuICAgICAgICAgICAgdGhpcy5fdGlsZVpvb20gPSB0aWxlWm9vbTtcbiAgICAgICAgICAgIHRoaXMuX3Jlc2V0R3JpZCgpO1xuICAgICAgICB9XG4gICAgfVxufSk7XG5cbkRHLk1ldGEubGF5ZXIgPSBmdW5jdGlvbihzb3VyY2UsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gbmV3IERHLk1ldGEuTGF5ZXIoc291cmNlLCBvcHRpb25zKTtcbn07XG4iLCJERy5NZXRhLk9yaWdpbiA9IERHLkNsYXNzLmV4dGVuZCh7XG5cbiAgICBvcHRpb25zOiB7XG4gICAgICAgIHN1YmRvbWFpbnM6ICcwMTIzJyxcbiAgICAgICAgZGF0YUZpbHRlcjogbnVsbFxuICAgIH0sXG5cbiAgICBfdXJsOiBmYWxzZSxcblxuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKHVybCwgb3B0aW9ucykgeyAvLyAoU3RyaW5nLCBPYmplY3QpXG4gICAgICAgIHRoaXMuX3VybCA9IHVybDtcbiAgICAgICAgdGhpcy5fcmVxdWVzdHMgPSB7fTtcblxuICAgICAgICB0aGlzLl90aWxlU3RvcmFnZSA9IHt9O1xuXG4gICAgICAgIG9wdGlvbnMgPSBERy5zZXRPcHRpb25zKHRoaXMsIG9wdGlvbnMpO1xuXG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5zdWJkb21haW5zID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgb3B0aW9ucy5zdWJkb21haW5zID0gb3B0aW9ucy5zdWJkb21haW5zLnNwbGl0KCcnKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBnZXRUaWxlRGF0YTogZnVuY3Rpb24oY29vcmQsIGNsYikgeyAvLyAoT2JqZWN0KSAtPiBPYmplY3RcbiAgICAgICAgdmFyIHRpbGVLZXkgPSB0aGlzLmdldFRpbGVLZXkoY29vcmQpLFxuICAgICAgICAgICAgc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBjYWxsYmFjayA9IHR5cGVvZiBjbGIgPT09ICdmdW5jdGlvbicgPyBjbGIgOiBmdW5jdGlvbigpIHt9O1xuXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5fdGlsZVN0b3JhZ2VbdGlsZUtleV0gPT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiB0aGlzLl9yZXF1ZXN0c1t0aWxlS2V5XSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHRoaXMuX3RpbGVTdG9yYWdlW3RpbGVLZXldID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgY3VycmVudFJlcXVlc3QgPSB0aGlzLl9yZXF1ZXN0c1t0aWxlS2V5XSA9IHRoaXMuX3JlcXVlc3REYXRhKGNvb3JkKS50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi5fcmVxdWVzdHNbdGlsZUtleV0gIT09IGN1cnJlbnRSZXF1ZXN0KSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzZWxmLnNldFRpbGVEYXRhKHRpbGVLZXksIHNlbGYub3B0aW9ucy5kYXRhRmlsdGVyID8gc2VsZi5vcHRpb25zLmRhdGFGaWx0ZXIoZGF0YSwgY29vcmQpIDogZGF0YSk7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHNlbGYuX3JlcXVlc3RzW3RpbGVLZXldO1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKHNlbGYuX3RpbGVTdG9yYWdlW3RpbGVLZXldKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FsbGJhY2sodGhpcy5fdGlsZVN0b3JhZ2VbdGlsZUtleV0pO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIHNldFRpbGVEYXRhOiBmdW5jdGlvbihrZXksIGRhdGEpIHsgLy8gKE9iamVjdC9TdHJpbmcsIE9iamVjdCkgLT4gT2JqZWN0XG4gICAgICAgIGlmICh0eXBlb2Yga2V5ICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAga2V5ID0gdGhpcy5nZXRUaWxlS2V5KGtleSk7XG4gICAgICAgIH1cblxuICAgICAgICBkYXRhLmZvckVhY2goZnVuY3Rpb24oZW50aXR5KSB7XG4gICAgICAgICAgICBpZiAoZW50aXR5Lmdlb21ldHJ5LmNvbnN0cnVjdG9yICE9PSBPYmplY3QpIHtcbiAgICAgICAgICAgICAgICBlbnRpdHkuZ2VvbWV0cnkgPSBERy5Xa3QudG9HZW9KU09OKGVudGl0eS5nZW9tZXRyeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRoaXMuX3RpbGVTdG9yYWdlW2tleV0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90aWxlU3RvcmFnZVtrZXldID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl90aWxlU3RvcmFnZVtrZXldLnB1c2goZW50aXR5KTtcbiAgICAgICAgfSwgdGhpcyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIGZsdXNoOiBmdW5jdGlvbigpIHsgLy8gKCkgLT4gT2JqZWN0XG4gICAgICAgIHRoaXMuX3RpbGVTdG9yYWdlID0ge307XG4gICAgICAgIE9iamVjdC5rZXlzKHRoaXMuX3JlcXVlc3RzKS5mb3JFYWNoKGZ1bmN0aW9uKHRpbGVLZXkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzW3RpbGVLZXldLmFib3J0KSB7XG4gICAgICAgICAgICAgICAgdGhpc1t0aWxlS2V5XS5hYm9ydCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB0aGlzLl9yZXF1ZXN0cyk7XG4gICAgICAgIHRoaXMuX3JlcXVlc3RzID0ge307XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIHNldFVSTDogZnVuY3Rpb24odXJsLCBmbHVzaCkgeyAvLyAoU3RyaW5nLCBCb29sZWFuKSAtPiBPYmplY3RcbiAgICAgICAgdGhpcy5fdXJsID0gdXJsO1xuICAgICAgICBpZiAoZmx1c2gpIHtcbiAgICAgICAgICAgIHRoaXMuZmx1c2goKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICBnZXRUaWxlS2V5OiBmdW5jdGlvbihjb29yZCkgeyAvLyAoT2JqZWN0KS0+IFN0cmluZ1xuICAgICAgICByZXR1cm4gW2Nvb3JkLngsIGNvb3JkLnksIGNvb3JkLnosIGNvb3JkLmtleV0uam9pbignOicpO1xuICAgIH0sXG5cbiAgICBfcmVxdWVzdERhdGE6IGZ1bmN0aW9uKGtleSkgeyAvLyAoU3RyaW5nKVxuICAgICAgICBpZiAodGhpcy5fdXJsKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcGVyZm9ybVJlcXVlc3Qoa2V5KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoW10pO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIF9wZXJmb3JtUmVxdWVzdDogZnVuY3Rpb24oY29vcmRzKSB7IC8vIChPYmplY3QpIC0+IFByb21pc2VcbiAgICAgICAgcmV0dXJuIERHLmFqYXgodGhpcy5fcHJlcGFyZVVSTChjb29yZHMpLCB7XG4gICAgICAgICAgICB0eXBlOiAnZ2V0JyxcbiAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbidcbiAgICAgICAgfSk7XG4gICAgfSxcblxuICAgIF9wcmVwYXJlVVJMOiBmdW5jdGlvbihjb29yZHMpIHsgLy8gKE9iamVjdCkgLT4gU3RyaW5nXG4gICAgICAgIHJldHVybiBERy5VdGlsLnRlbXBsYXRlKHRoaXMuX3VybCwge1xuICAgICAgICAgICAgeDogY29vcmRzLngsXG4gICAgICAgICAgICB5OiBjb29yZHMueSxcbiAgICAgICAgICAgIHo6IGNvb3Jkcy56LFxuICAgICAgICAgICAgczogdGhpcy5fZ2V0U3ViZG9tYWluKGNvb3JkcylcbiAgICAgICAgfSk7XG4gICAgfSxcblxuICAgIF9nZXRTdWJkb21haW46IERHLlRpbGVMYXllci5wcm90b3R5cGUuX2dldFN1YmRvbWFpblxuXG59KTtcblxuREcuTWV0YS5vcmlnaW4gPSBmdW5jdGlvbihzb3VyY2UsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gbmV3IERHLk1ldGEuT3JpZ2luKHNvdXJjZSwgb3B0aW9ucyk7XG59O1xuIiwiREcuTWFwLm1lcmdlT3B0aW9ucyh7XG4gICAgcG9pOiB0cnVlXG59KTtcblxuREcuUG9pID0gREcuSGFuZGxlci5leHRlbmQoe1xuXG4gICAgb3B0aW9uczoge1xuICAgICAgICBkaXNhYmxlTGFiZWw6IGZhbHNlXG4gICAgfSxcblxuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKG1hcCwgb3B0aW9ucykgeyAvLyAoT2JqZWN0KVxuICAgICAgICB0aGlzLl9tYXAgPSBtYXA7XG4gICAgICAgIERHLlV0aWwuc2V0T3B0aW9ucyh0aGlzLCBvcHRpb25zKTtcblxuICAgICAgICB2YXIgdXJsID0gREcuY29uZmlnLnByb3RvY29sICsgKERHLkJyb3dzZXIucmV0aW5hID8gREcuY29uZmlnLnJldGluYVBvaU1ldGFTZXJ2ZXIgOiBERy5jb25maWcucG9pTWV0YVNlcnZlcik7XG5cbiAgICAgICAgdGhpcy5fbWV0YUxheWVyID0gREcuTWV0YS5sYXllcih1cmwsIHtcbiAgICAgICAgICAgIG1pblpvb206IERHLmNvbmZpZy5wb2lMYXllck1pblpvb20sXG4gICAgICAgICAgICBtYXhOYXRpdmVab29tOiAxOSxcbiAgICAgICAgICAgIGRldGVjdFJldGluYTogREcuY29uZmlnLmRldGVjdFJldGluYSxcbiAgICAgICAgICAgIGV2ZW50QnViYmxpbmc6ICdsYXllcicsXG4gICAgICAgICAgICBkYXRhRmlsdGVyOiBERy5iaW5kKHRoaXMuX3Byb2Nlc3NEYXRhLCB0aGlzKSxcbiAgICAgICAgICAgIGlzUG9pOiB0cnVlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuX2N1cnJlbnRUaWxlc0xhbmcgPSAnJzsgLy8gJ2FyJyB8ICcnXG4gICAgfSxcblxuICAgIGFkZEhvb2tzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5fbWFwLmFkZExheWVyKHRoaXMuX21ldGFMYXllcik7XG4gICAgICAgIGlmICghdGhpcy5vcHRpb25zLmRpc2FibGVMYWJlbCkge1xuICAgICAgICAgICAgdGhpcy5fbGFiZWxIZWxwZXIgPSBERy5sYWJlbCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX21ldGFMYXllci5vbih0aGlzLl9sYXllckV2ZW50c0xpc3RlbmVycywgdGhpcyk7XG4gICAgICAgIHRoaXMuX21hcC5vbignbGFuZ2NoYW5nZScsIHRoaXMuX3VwZGF0ZVVybCwgdGhpcyk7XG4gICAgICAgIHRoaXMuX21hcC5vbigncHJvamVjdGNoYW5nZScsIHRoaXMuX3VwZGF0ZVVybCwgdGhpcyk7XG4gICAgICAgIHRoaXMuX21hcC5vbigncHJvamVjdGxlYXZlJywgdGhpcy5fdXBkYXRlVXJsLCB0aGlzKTtcbiAgICB9LFxuXG4gICAgcmVtb3ZlSG9va3M6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLl9tYXAucmVtb3ZlTGF5ZXIodGhpcy5fbWV0YUxheWVyKTtcbiAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMuZGlzYWJsZUxhYmVsKSB7XG4gICAgICAgICAgICB0aGlzLl9tYXAucmVtb3ZlTGF5ZXIodGhpcy5fbGFiZWxIZWxwZXIpO1xuICAgICAgICAgICAgdGhpcy5fbGFiZWxIZWxwZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX21ldGFMYXllci5vZmYodGhpcy5fbGF5ZXJFdmVudHNMaXN0ZW5lcnMsIHRoaXMpO1xuICAgICAgICB0aGlzLl9tYXAub2ZmKCdsYW5nY2hhbmdlJywgdGhpcy5fdXBkYXRlVXJsLCB0aGlzKTtcbiAgICAgICAgdGhpcy5fbWFwLm9mZigncHJvamVjdGNoYW5nZScsIHRoaXMuX3VwZGF0ZVVybCwgdGhpcyk7XG4gICAgICAgIHRoaXMuX21hcC5vZmYoJ3Byb2plY3RsZWF2ZScsIHRoaXMuX3VwZGF0ZVVybCwgdGhpcyk7XG4gICAgfSxcblxuICAgIGdldE1ldGFMYXllcjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tZXRhTGF5ZXI7XG4gICAgfSxcblxuICAgIF91cGRhdGVVcmw6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgdXJsID0gREcuY29uZmlnLnByb3RvY29sICsgKERHLkJyb3dzZXIucmV0aW5hID8gREcuY29uZmlnLnJldGluYVBvaU1ldGFTZXJ2ZXIgOiBERy5jb25maWcucG9pTWV0YVNlcnZlcik7XG4gICAgICAgIHZhciBhcmFiaWNVcmwgPSBERy5jb25maWcucHJvdG9jb2wgK1xuICAgICAgICAgICAgKERHLkJyb3dzZXIucmV0aW5hID8gREcuY29uZmlnLmFyYWJpY1JldGluYVBvaU1ldGFTZXJ2ZXIgOiBERy5jb25maWcuYXJhYmljUG9pTWV0YVNlcnZlcik7XG4gICAgICAgIHZhciBsYW5nID0gdGhpcy5fbWFwLmdldExhbmcoKTtcbiAgICAgICAgdmFyIHByb2plY3QgPSB0aGlzLl9tYXAucHJvamVjdERldGVjdG9yICYmIHRoaXMuX21hcC5wcm9qZWN0RGV0ZWN0b3IuZ2V0UHJvamVjdCgpO1xuXG4gICAgICAgIC8vIENoYW5nZSBQT0kgZm9yIEFyYWJpYyBsYW5ndWFnZSBpbiBEdWJhaSBwcm9qZWN0XG4gICAgICAgIGlmICh0aGlzLl9jdXJyZW50VGlsZXNMYW5nID09PSAnJyAmJiBsYW5nID09PSAnYXInICYmIHByb2plY3QgJiYgcHJvamVjdC5jb3VudHJ5X2NvZGUgPT09ICdhZScpIHtcbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRUaWxlc0xhbmcgPSAnYXInO1xuICAgICAgICAgICAgdGhpcy5fbWV0YUxheWVyLnNldFVybChhcmFiaWNVcmwpO1xuXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5fY3VycmVudFRpbGVzTGFuZyA9PT0gJ2FyJyAmJiAobGFuZyAhPT0gJ2FyJyB8fCAoIXByb2plY3QgfHwgcHJvamVjdC5jb3VudHJ5X2NvZGUgIT09ICdhZScpKSkge1xuICAgICAgICAgICAgdGhpcy5fY3VycmVudFRpbGVzTGFuZyA9ICcnO1xuICAgICAgICAgICAgdGhpcy5fbWV0YUxheWVyLnNldFVybCh1cmwpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIF9wcm9jZXNzRGF0YTogZnVuY3Rpb24oZGF0YSwgY29vcmQpIHtcbiAgICAgICAgdmFyIHRpbGVPcmlnaW5Qb2ludCA9IGNvb3JkLnNjYWxlQnkodGhpcy5fbWV0YUxheWVyLmdldFRpbGVTaXplKCkpO1xuICAgICAgICB2YXIgcG9seWdvbkxuZ0xhdFRvUG9pbnRzID0gREcuYmluZCh0aGlzLl9wb2x5Z29uTG5nTGF0VG9Qb2ludHMsIHRoaXMsIHRpbGVPcmlnaW5Qb2ludCwgY29vcmQueik7XG5cbiAgICAgICAgaWYgKGRhdGEucmVzcG9uc2VUZXh0ID09PSAnJykge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGRhdGEucmVzdWx0LnBvaVxuICAgICAgICAgICAgLm1hcChmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgICAgICAgdmFyIGhvdmVycyA9IGl0ZW0uaG92ZXJzICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgPyBpdGVtLmhvdmVyc1xuICAgICAgICAgICAgICAgICAgICA6IFtpdGVtLmhvdmVyXTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGlkOiBpdGVtLmlkLFxuICAgICAgICAgICAgICAgICAgICBoaW50OiBpdGVtLmxpbmtzWzBdLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGxpbmtlZDogaXRlbS5saW5rc1swXSxcbiAgICAgICAgICAgICAgICAgICAgZ2VvbWV0cnk6IGhvdmVycy5tYXAoREcuV2t0LnRvR2VvSlNPTiksXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAubWFwKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICB2YXIgY29vcmRpbmF0ZXMgPSBpdGVtLmdlb21ldHJ5LnJlZHVjZShmdW5jdGlvbihyZXN1bHQsIGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJ1BvbHlnb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChwb2x5Z29uTG5nTGF0VG9Qb2ludHMoaXRlbS5jb29yZGluYXRlcykpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGl0ZW0udHlwZSA9PT0gJ011bHRpUG9seWdvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5jb25jYXQoaXRlbS5jb29yZGluYXRlcy5tYXAocG9seWdvbkxuZ0xhdFRvUG9pbnRzKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgIH0sIFtdKTtcblxuICAgICAgICAgICAgICAgIGl0ZW0uZ2VvbWV0cnkgPSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdNdWx0aVBvbHlnb24nLFxuICAgICAgICAgICAgICAgICAgICBjb29yZGluYXRlczogY29vcmRpbmF0ZXMsXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgICAgICAgfSk7XG4gICAgfSxcblxuICAgIF9wb2x5Z29uTG5nTGF0VG9Qb2ludHM6IGZ1bmN0aW9uKG9yaWdpblBvaW50LCB6b29tLCBwb2x5Z29uKSB7XG4gICAgICAgIHZhciBtYXAgPSB0aGlzLl9tYXA7XG5cbiAgICAgICAgcmV0dXJuIHBvbHlnb24ubWFwKGZ1bmN0aW9uKGNvbnRvdXIpIHtcbiAgICAgICAgICAgIHJldHVybiBjb250b3VyLm1hcChmdW5jdGlvbihsbmdMYXQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWFwXG4gICAgICAgICAgICAgICAgICAgIC5wcm9qZWN0KFtsbmdMYXRbMV0sIGxuZ0xhdFswXV0sIHpvb20pLnJvdW5kKClcbiAgICAgICAgICAgICAgICAgICAgLnN1YnRyYWN0KG9yaWdpblBvaW50KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgX2xheWVyRXZlbnRzTGlzdGVuZXJzIDoge1xuICAgICAgICBtb3VzZW92ZXI6IGZ1bmN0aW9uKGUpIHsgLy8gKE9iamVjdClcbiAgICAgICAgICAgIHRoaXMuX3NldEN1cnNvcigncG9pbnRlcicpO1xuICAgICAgICAgICAgaWYgKGUubWV0YS5oaW50ICYmIGUubWV0YS5oaW50Lmxlbmd0aCAmJiAhdGhpcy5vcHRpb25zLmRpc2FibGVMYWJlbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xhYmVsSGVscGVyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRQb3NpdGlvbihlLmxhdGxuZylcbiAgICAgICAgICAgICAgICAgICAgLnNldENvbnRlbnQoZS5tZXRhLmhpbnQpXG4gICAgICAgICAgICAgICAgICAgIC5zZXRaSW5kZXhPZmZzZXQoMzAwKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9tYXAuYWRkTGF5ZXIodGhpcy5fbGFiZWxIZWxwZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fbWFwLmZpcmUoJ3BvaWhvdmVyJywge1xuICAgICAgICAgICAgICAgIGxhdGxuZzogZS5sYXRsbmcsXG4gICAgICAgICAgICAgICAgbWV0YTogZS5tZXRhXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICBtb3VzZW91dDogZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgdGhpcy5fc2V0Q3Vyc29yKCcnKTtcbiAgICAgICAgICAgIGlmICghdGhpcy5vcHRpb25zLmRpc2FibGVMYWJlbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX21hcC5yZW1vdmVMYXllcih0aGlzLl9sYWJlbEhlbHBlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9tYXAuZmlyZSgncG9pbGVhdmUnLCB7XG4gICAgICAgICAgICAgICAgbGF0bG5nOiBlLmxhdGxuZyxcbiAgICAgICAgICAgICAgICBtZXRhOiBlLm1ldGFcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIG1vdXNlbW92ZTogZnVuY3Rpb24oZSkgeyAvLyAoT2JqZWN0KVxuICAgICAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMuZGlzYWJsZUxhYmVsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbGFiZWxIZWxwZXIuc2V0UG9zaXRpb24oZS5sYXRsbmcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcblxuICAgIF9zZXRDdXJzb3I6IGZ1bmN0aW9uKGN1cnNvcikgeyAvLyAoU3RyaW5nKVxuICAgICAgICB0aGlzLl9tYXAuZ2V0Q29udGFpbmVyKCkuc3R5bGUuY3Vyc29yID0gY3Vyc29yO1xuICAgIH1cblxufSk7XG5cbkRHLk1hcC5hZGRJbml0SG9vaygnYWRkSGFuZGxlcicsICdwb2knLCBERy5Qb2kpO1xuIiwiREcuTWFwLm1lcmdlT3B0aW9ucyh7XG4gICAgZ2VvY2xpY2tlcjogZmFsc2Vcbn0pO1xuXG5ERy5HZW9jbGlja2VyID0gREcuSGFuZGxlci5leHRlbmQoe1xuICAgIGNsaWNrQ291bnQ6IDAsXG4gICAgcGVuZGluZ0NsaWNrOiAwLFxuICAgIHRpbWVvdXQ6IDI1MCwgLy8gc2hvdWxkIGJlIGVxdWFsIHRvICdkZWxheScgdmFsdWUgaW4gRG91YmxlVGFwIGV2ZW50XG5cbiAgICBpbml0aWFsaXplOiBmdW5jdGlvbihtYXAsIG9wdGlvbnMpIHsgLy8gKE9iamVjdClcbiAgICAgICAgdGhpcy5fbWFwID0gbWFwO1xuICAgICAgICB0aGlzLl9jb250cm9sbGVyID0gbmV3IERHLkdlb2NsaWNrZXIuQ29udHJvbGxlcihtYXAsIG9wdGlvbnMpO1xuICAgIH0sXG5cbiAgICBhZGRIb29rczogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuX3RvZ2dsZUV2ZW50cyh0cnVlKTtcblxuICAgICAgICB0aGlzLl9tYXBcbiAgICAgICAgICAgIC5vbigncnVsZXJzdGFydCcsIHRoaXMuX3BhdXNlLCB0aGlzKVxuICAgICAgICAgICAgLm9uKCdydWxlcmVuZCcsIHRoaXMuX3VucGF1c2UsIHRoaXMpO1xuICAgIH0sXG5cbiAgICByZW1vdmVIb29rczogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuX3RvZ2dsZUV2ZW50cygpO1xuXG4gICAgICAgIHRoaXMuX21hcFxuICAgICAgICAgICAgLm9mZigncnVsZXJzdGFydCcsIHRoaXMuX3BhdXNlLCB0aGlzKVxuICAgICAgICAgICAgLm9mZigncnVsZXJlbmQnLCB0aGlzLl91bnBhdXNlLCB0aGlzKTtcbiAgICB9LFxuXG4gICAgX2NoZWNrT3BlblBvcHVwOiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKERHLkJyb3dzZXIubW9iaWxlICYmIHRoaXMuX21hcC5fcG9wdXAgJiZcbiAgICAgICAgICAgICh0aGlzLl9tYXAuX3BvcHVwLm9wdGlvbnMuY2xvc2VPbkNsaWNrIHx8XG4gICAgICAgICAgICB0aGlzLl9tYXAub3B0aW9ucy5jbG9zZVBvcHVwT25DbGljaykpIHtcbiAgICAgICAgICAgIHRoaXMucG9wdXBXYXNPcGVuID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBfcGF1c2U6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLl90b2dnbGVFdmVudHMoKTtcbiAgICB9LFxuXG4gICAgX3VucGF1c2U6IGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBSZWVuYWJsZSBldmVudCBoYW5kbGluZyBvbmx5IGluIGNhc2UgZ2VvY2xpY2tlciBpcyBlbmFibGVkXG4gICAgICAgIGlmICh0aGlzLmVuYWJsZWQoKSkge1xuICAgICAgICAgICAgdGhpcy5fdG9nZ2xlRXZlbnRzKHRydWUpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIF90b2dnbGVFdmVudHM6IGZ1bmN0aW9uKGZsYWcpIHtcbiAgICAgICAgdGhpcy5fbWFwW2ZsYWcgPyAnb24nIDogJ29mZiddKHRoaXMuX21hcEV2ZW50c0xpc3RlbmVycywgdGhpcyk7XG4gICAgICAgIGlmICh0aGlzLl9tYXAucG9pKSB7XG4gICAgICAgICAgICB0aGlzLl9tYXAucG9pLmdldE1ldGFMYXllcigpW2ZsYWcgPyAnb24nIDogJ29mZiddKCdjbGljaycsIHRoaXMuX29uTWV0YUNsaWNrLCB0aGlzKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBnZXRDb250cm9sbGVyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnRyb2xsZXI7XG4gICAgfSxcblxuICAgIF9vbk1ldGFDbGljazogZnVuY3Rpb24oZSkge1xuICAgICAgICB0aGlzLmNsaWNrQ291bnQgPSAwO1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5wZW5kaW5nQ2xpY2spO1xuICAgICAgICB0aGlzLnBvcHVwV2FzT3BlbiA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMuX21hcEV2ZW50c0xpc3RlbmVycy5jbGljay5jYWxsKHRoaXMsIGUpO1xuICAgIH0sXG5cbiAgICBfbWFwRXZlbnRzTGlzdGVuZXJzOiB7XG4gICAgICAgIGxhbmdjaGFuZ2U6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy5fY29udHJvbGxlci5yZWludm9rZUhhbmRsZXIoKTtcbiAgICAgICAgfSxcblxuICAgICAgICBwb3B1cGNsb3NlOiBmdW5jdGlvbihlKSB7IC8vIChPYmplY3QpXG4gICAgICAgICAgICB0aGlzLl9jb250cm9sbGVyLmhhbmRsZVBvcHVwQ2xvc2UoZS5wb3B1cCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsgLy8gKE9iamVjdClcbiAgICAgICAgICAgIGlmICh0aGlzLmNsaWNrQ291bnQgPT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNsaWNrQ291bnQgPSAxO1xuICAgICAgICAgICAgICAgIHRoaXMuX3NpbmdsZUNsaWNrKGUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNsaWNrQ291bnQgPSAwO1xuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnBlbmRpbmdDbGljayk7XG4gICAgICAgICAgICAgICAgdGhpcy5wb3B1cFdhc09wZW4gPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBkYmxjbGljazogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoREcuQnJvd3Nlci5pZWx0OSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2xpY2tDb3VudCA9IDA7XG4gICAgICAgICAgICAgICAgdGhpcy5wb3B1cFdhc09wZW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5wZW5kaW5nQ2xpY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcblxuICAgIF9zaW5nbGVDbGljazogZnVuY3Rpb24oZSkgeyAvLyAoT2JqZWN0KVxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMucGVuZGluZ0NsaWNrKTtcblxuICAgICAgICB0aGlzLnBlbmRpbmdDbGljayA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoZS5tZXRhKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5fY2hlY2tPcGVuUG9wdXAoKTtcbiAgICAgICAgICAgICAgICBzZWxmLl9tYXAuY2xvc2VQb3B1cCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyAgREdQb3B1cCdzICdfY2xvc2UnIG1ldGhvZCBpcyB0aGUgb25seSBwbGFjZSB3aGVyZSAucG9wdXBXYXNPcGVuIGlzIG1vZGlmaWVkXG4gICAgICAgICAgICAvLyAgSXQgc2lnbmFscyBnZW9jbGlja2VyIHRoYXQgcG9wdXAgd2FzIG9wZW4gYmVmb3JlIHVzZXIgZG8gYSAnY2xpY2snIG9uIG1hcFxuICAgICAgICAgICAgLy8gIE11bHRpc3RhZ2UgYmVoYXZpb3IgaXMgbmVlZGVkIGFzIHRoaXMgcHJvY2Vzc2luZyBvY2N1cnMgYWZ0ZXIgcG9wdXAgd2FzIGFscmVhZHkgY2xvc2VkXG4gICAgICAgICAgICBpZiAoIXNlbGYucG9wdXBXYXNPcGVuKSB7XG4gICAgICAgICAgICAgICAgdmFyIHpvb20gPSBzZWxmLl9tYXAuZ2V0Wm9vbSgpO1xuICAgICAgICAgICAgICAgIHNlbGYuX2NvbnRyb2xsZXIuaGFuZGxlQ2xpY2soZS5sYXRsbmcsIHpvb20sIGUubWV0YSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNlbGYuY2xpY2tDb3VudCA9IDA7XG4gICAgICAgICAgICBzZWxmLnBvcHVwV2FzT3BlbiA9IGZhbHNlO1xuICAgICAgICB9LCB0aGlzLnRpbWVvdXQpO1xuICAgIH1cbn0pO1xuXG5ERy5NYXAuYWRkSW5pdEhvb2soJ2FkZEhhbmRsZXInLCAnZ2VvY2xpY2tlcicsIERHLkdlb2NsaWNrZXIpO1xuIiwiREcuR2VvY2xpY2tlci5jbGFtcEhlbHBlciA9IGZ1bmN0aW9uKGVsLCBsaW5lQ2xhbXApIHtcbiAgICB2YXIgbWVhc3VyZSwgdGV4dCwgbGluZVdpZHRoLFxuICAgICAgICBsaW5lU3RhcnQsIGxpbmVDb3VudCwgd29yZFN0YXJ0LFxuICAgICAgICBsaW5lLCBsaW5lVGV4dCwgd2FzTmV3TGluZSxcbiAgICAgICAgY2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50LmJpbmQoZG9jdW1lbnQpLFxuICAgICAgICBjdG4gPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZS5iaW5kKGRvY3VtZW50KTtcblxuICAgIC8vIG1lYXN1cmVtZW50IGVsZW1lbnQgaXMgbWFkZSBhIGNoaWxkIG9mIHRoZSBjbGFtcGVkIGVsZW1lbnQgdG8gZ2V0IGl0J3Mgc3R5bGVcbiAgICBtZWFzdXJlID0gY2UoJ3NwYW4nKTtcblxuICAgIChmdW5jdGlvbihzKSB7XG4gICAgICAgIHMucG9zaXRpb24gPSAnYWJzb2x1dGUnOyAvLyBwcmV2ZW50IHBhZ2UgcmVmbG93XG4gICAgICAgIHMud2hpdGVTcGFjZSA9ICdwcmUnOyAvLyBjcm9zcy1icm93c2VyIHdpZHRoIHJlc3VsdHNcbiAgICAgICAgcy52aXNpYmlsaXR5ID0gJ2hpZGRlbic7IC8vIHByZXZlbnQgZHJhd2luZ1xuICAgICAgICBzLm1hcmdpbiA9ICcwIDE4cHggOHB4IDAnO1xuICAgIH0pKG1lYXN1cmUuc3R5bGUpO1xuXG4gICAgLy8gbWFrZSBzdXJlIHRoZSBlbGVtZW50IGJlbG9uZ3MgdG8gdGhlIGRvY3VtZW50XG4gICAgaWYgKCFlbC5vd25lckRvY3VtZW50IHx8IGVsLm93bmVyRG9jdW1lbnQgIT09IGRvY3VtZW50KSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gcmVzZXQgdG8gc2FmZSBzdGFydGluZyB2YWx1ZXNcbiAgICBsaW5lU3RhcnQgPSB3b3JkU3RhcnQgPSAwO1xuICAgIGxpbmVDb3VudCA9IDE7XG4gICAgd2FzTmV3TGluZSA9IGZhbHNlO1xuICAgIGxpbmVXaWR0aCA9IGVsLmNsaWVudFdpZHRoO1xuICAgIC8vIGdldCBhbGwgdGhlIHRleHQsIHJlbW92ZSBhbnkgbGluZSBjaGFuZ2VzXG4gICAgdGV4dCA9IChlbC50ZXh0Q29udGVudCB8fCBlbC5pbm5lclRleHQpLnJlcGxhY2UoL1xcbi9nLCAnICcpO1xuICAgIC8vIHJlbW92ZSBhbGwgY29udGVudFxuICAgIHdoaWxlIChlbC5maXJzdENoaWxkICE9PSBudWxsKSB7XG4gICAgICAgIGVsLnJlbW92ZUNoaWxkKGVsLmZpcnN0Q2hpbGQpO1xuICAgIH1cbiAgICAvLyBhZGQgbWVhc3VyZW1lbnQgZWxlbWVudCB3aXRoaW4gc28gaXQgaW5oZXJpdHMgc3R5bGVzXG4gICAgZWwuYXBwZW5kQ2hpbGQobWVhc3VyZSk7XG4gICAgLy8gaHR0cDovL2Vqb2huLm9yZy9ibG9nL3NlYXJjaC1hbmQtZG9udC1yZXBsYWNlL1xuICAgIHRleHQucmVwbGFjZSgvIHwtL2csIGZ1bmN0aW9uKG0sIHBvcykge1xuICAgICAgICAvLyBpZ25vcmUgYW55IGZ1cnRoZXIgcHJvY2Vzc2luZyBpZiB3ZSBoYXZlIHRvdGFsIGxpbmVzXG4gICAgICAgIGlmIChsaW5lQ291bnQgPT09IGxpbmVDbGFtcCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNyZWF0ZSBhIHRleHQgbm9kZSBhbmQgcGxhY2UgaXQgaW4gdGhlIG1lYXN1cmVtZW50IGVsZW1lbnRcbiAgICAgICAgbWVhc3VyZS5hcHBlbmRDaGlsZChjdG4odGV4dC5zdWJzdHIobGluZVN0YXJ0LCBwb3MgLSBsaW5lU3RhcnQpKSk7XG4gICAgICAgIC8vIGhhdmUgd2UgZXhjZWVkZWQgYWxsb3dlZCBsaW5lIHdpZHRoP1xuICAgICAgICBpZiAobGluZVdpZHRoIDwgbWVhc3VyZS5jbGllbnRXaWR0aCkge1xuICAgICAgICAgICAgaWYgKHdhc05ld0xpbmUpIHtcbiAgICAgICAgICAgICAgICAvLyB3ZSBoYXZlIGEgbG9uZyB3b3JkIHNvIGl0IGdldHMgYSBsaW5lIG9mIGl0J3Mgb3duXG4gICAgICAgICAgICAgICAgbGluZVRleHQgPSB0ZXh0LnN1YnN0cihsaW5lU3RhcnQsIHBvcyArIDEgLSBsaW5lU3RhcnQpO1xuICAgICAgICAgICAgICAgIC8vIG5leHQgbGluZSBzdGFydCBwb3NpdGlvblxuICAgICAgICAgICAgICAgIGxpbmVTdGFydCA9IHBvcyArIDE7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGdyYWIgdGhlIHRleHQgdW50aWwgdGhpcyB3b3JkXG4gICAgICAgICAgICAgICAgbGluZVRleHQgPSB0ZXh0LnN1YnN0cihsaW5lU3RhcnQsIHdvcmRTdGFydCAtIGxpbmVTdGFydCk7XG4gICAgICAgICAgICAgICAgLy8gbmV4dCBsaW5lIHN0YXJ0IHBvc2l0aW9uXG4gICAgICAgICAgICAgICAgbGluZVN0YXJ0ID0gd29yZFN0YXJ0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gY3JlYXRlIGEgbGluZSBlbGVtZW50XG4gICAgICAgICAgICBsaW5lID0gY2UoJ3NwYW4nKTtcbiAgICAgICAgICAgIC8vIGFkZCB0ZXh0IHRvIHRoZSBsaW5lIGVsZW1lbnRcbiAgICAgICAgICAgIGxpbmUuYXBwZW5kQ2hpbGQoY3RuKGxpbmVUZXh0KSk7XG4gICAgICAgICAgICAvLyBhZGQgdGhlIGxpbmUgZWxlbWVudCB0byB0aGUgY29udGFpbmVyXG4gICAgICAgICAgICBlbC5hcHBlbmRDaGlsZChsaW5lKTtcbiAgICAgICAgICAgIGxpbmUuY2xhc3NOYW1lID0gJ2RnLW1hcC1nZW9jbGlja2VyX19jbGFtcGVkLWxpbmUnO1xuICAgICAgICAgICAgLy8geWVzLCB3ZSBjcmVhdGVkIGEgbmV3IGxpbmVcbiAgICAgICAgICAgIHdhc05ld0xpbmUgPSB0cnVlO1xuICAgICAgICAgICAgbGluZUNvdW50Kys7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBkaWQgbm90IGNyZWF0ZSBhIG5ldyBsaW5lXG4gICAgICAgICAgICB3YXNOZXdMaW5lID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmVtZW1iZXIgbGFzdCB3b3JkIHN0YXJ0IHBvc2l0aW9uXG4gICAgICAgIHdvcmRTdGFydCA9IHBvcyArIDE7XG4gICAgICAgIC8vIGNsZWFyIG1lYXN1cmVtZW50IGVsZW1lbnRcbiAgICAgICAgbWVhc3VyZS5yZW1vdmVDaGlsZChtZWFzdXJlLmZpcnN0Q2hpbGQpO1xuICAgIH0pO1xuICAgIC8vIHJlbW92ZSB0aGUgbWVhc3VyZW1lbnQgZWxlbWVudCBmcm9tIHRoZSBjb250YWluZXJcbiAgICBlbC5yZW1vdmVDaGlsZChtZWFzdXJlKTtcbiAgICAvLyBjcmVhdGUgdGhlIGxhc3QgbGluZSBlbGVtZW50XG4gICAgbGluZSA9IGNlKCdzcGFuJyk7XG4gICAgLy8gZ2l2ZSBzdHlsZXMgcmVxdWlyZWQgZm9yIHRleHQtb3ZlcmZsb3cgdG8ga2ljayBpblxuICAgIGxpbmUuY2xhc3NOYW1lID0gJ2RnLW1hcC1nZW9jbGlja2VyX19jbGFtcGVkLWxpbmUgZGctbWFwLWdlb2NsaWNrZXJfX2NsYW1wZWQtbGluZV9sYXN0JztcbiAgICAvLyBhZGQgYWxsIHJlbWFpbmluZyB0ZXh0IHRvIHRoZSBsaW5lIGVsZW1lbnRcbiAgICBsaW5lLmFwcGVuZENoaWxkKGN0bih0ZXh0LnN1YnN0cihsaW5lU3RhcnQpKSk7XG4gICAgLy8gYWRkIHRoZSBsaW5lIGVsZW1lbnQgdG8gdGhlIGNvbnRhaW5lclxuICAgIGVsLmFwcGVuZENoaWxkKGxpbmUpO1xufTtcbiIsIkRHLkdlb2NsaWNrZXIuUHJvdmlkZXIgPSB7fTtcbiIsIkRHLkdlb2NsaWNrZXIuUHJvdmlkZXIuQ2F0YWxvZ0FwaSA9IERHLkNsYXNzLmV4dGVuZCh7XG4gICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24obWFwKSB7IC8vIChPYmplY3QpXG4gICAgICAgIHRoaXMuX21hcCA9IG1hcDtcblxuICAgICAgICB2YXIgYXBpVXJsID0gREcuY29uZmlnLnByb3RvY29sICtcbiAgICAgICAgICAgIERHLmNvbmZpZy53ZWJBcGlTZXJ2ZXIgKyAnLycgK1xuICAgICAgICAgICAgREcuY29uZmlnLndlYkFwaVZlcnNpb24gKyAnLyc7XG5cbiAgICAgICAgdGhpcy5fdXJsR2VvU2VhcmNoID0gYXBpVXJsICsgJ2dlby9zZWFyY2gnO1xuICAgICAgICB0aGlzLl91cmxHZW9HZXQgPSBhcGlVcmwgKyAnZ2VvL2dldCc7XG4gICAgICAgIHRoaXMuX3VybERldGFpbHMgPSBhcGlVcmwgKyAnY2F0YWxvZy9icmFuY2gvZ2V0JztcbiAgICAgICAgdGhpcy5fdXJsRmlybXNJbkhvdXNlID0gYXBpVXJsICsgJ2NhdGFsb2cvYnJhbmNoL2xpc3QnO1xuXG4gICAgICAgIHRoaXMuX2tleSA9IERHLmNvbmZpZy5nZW9jbGlja2VyQ2F0YWxvZ0FwaUtleTtcbiAgICAgICAgdGhpcy5fZ2VvRmllbGRzID0gREcuY29uZmlnLmdlb0FkZGl0aW9uYWxGaWVsZHM7XG4gICAgICAgIHRoaXMuX2Zpcm1JbmZvRmllbGRzID0gREcuY29uZmlnLmZpcm1JbmZvRmllbGRzO1xuICAgIH0sXG5cbiAgICBnZXRMb2NhdGlvbnM6IGZ1bmN0aW9uKG9wdGlvbnMpIHsgLy8gKE9iamVjdClcbiAgICAgICAgLy8gQ2FsbGJhY2sgd2lsbCByZWNlaXZlIGFycmF5IG9mIGZvdW5kIHJlc3VsdHMgb3Igdm9pZCBpZiBlcnJvcnMgb2NjdXJyZWQgb3Igbm90aGluZyB3YXMgZm91bmQuXG4gICAgICAgIHZhciB6b29tID0gb3B0aW9ucy56b29tLFxuICAgICAgICAgICAgbGF0bG5nID0gb3B0aW9ucy5sYXRsbmcsXG4gICAgICAgICAgICBiZWZvcmVSZXF1ZXN0ID0gb3B0aW9ucy5iZWZvcmVSZXF1ZXN0IHx8IGZ1bmN0aW9uKCkge30sXG4gICAgICAgICAgICB0eXBlcyA9IHRoaXMuZ2V0VHlwZXNCeVpvb20oem9vbSksXG4gICAgICAgICAgICBxID0gbGF0bG5nLmxuZyArICcsJyArIGxhdGxuZy5sYXQ7XG5cbiAgICAgICAgaWYgKCF0eXBlcykge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCdubyB0eXBlJyk7XG4gICAgICAgIH1cblxuICAgICAgICBiZWZvcmVSZXF1ZXN0KCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZ2VvU2VhcmNoKHEsIHR5cGVzLCB6b29tKS50aGVuKERHLmJpbmQoZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZmlsdGVyUmVzcG9uc2UocmVzdWx0LCB0eXBlcyk7XG4gICAgICAgIH0sIHRoaXMpKTtcbiAgICB9LFxuXG4gICAgZmlybXNJbkhvdXNlOiBmdW5jdGlvbihob3VzZUlkLCBwYXJhbWV0ZXJzKSB7IC8vIChTdHJpbmcsIEZ1bmN0aW9uLCBOdW1iZXIpXG4gICAgICAgIHBhcmFtZXRlcnMgPSBwYXJhbWV0ZXJzIHx8IHt9O1xuXG4gICAgICAgIC8qIGVzbGludC1kaXNhYmxlIGNhbWVsY2FzZSAqL1xuICAgICAgICB2YXIgcGFyYW1zID0ge1xuICAgICAgICAgICAgYnVpbGRpbmdfaWQ6IGhvdXNlSWQsXG4gICAgICAgICAgICBwYWdlOiBwYXJhbWV0ZXJzLnBhZ2UgfHwgMVxuICAgICAgICB9O1xuICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIGNhbWVsY2FzZSAqL1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9wZXJmb3JtUmVxdWVzdChwYXJhbXMsIHRoaXMuX3VybEZpcm1zSW5Ib3VzZSk7XG4gICAgfSxcblxuICAgIGdldEZpcm1JbmZvOiBmdW5jdGlvbihmaXJtSWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BlcmZvcm1SZXF1ZXN0KHtcbiAgICAgICAgICAgIHR5cGU6ICdmaWxpYWwnLFxuICAgICAgICAgICAgaWQ6IGZpcm1JZCxcbiAgICAgICAgICAgIGZpZWxkczogdGhpcy5fZmlybUluZm9GaWVsZHNcbiAgICAgICAgfSwgdGhpcy5fdXJsRGV0YWlscyk7XG4gICAgfSxcblxuICAgIGdlb1NlYXJjaDogZnVuY3Rpb24ocSwgdHlwZXMsIHpvb21sZXZlbCkgeyAvLyAoU3RyaW5nLCBTdHJpbmcsIE51bWJlcilcbiAgICAgICAgLyogZXNsaW50LWRpc2FibGUgY2FtZWxjYXNlICovXG4gICAgICAgIHZhciBwYXJhbXMgPSB7XG4gICAgICAgICAgICBwb2ludDogcSxcbiAgICAgICAgICAgIHR5cGU6IHR5cGVzLFxuICAgICAgICAgICAgem9vbV9sZXZlbDogem9vbWxldmVsLFxuICAgICAgICAgICAgZmllbGRzOiB0aGlzLl9nZW9GaWVsZHNcbiAgICAgICAgfTtcbiAgICAgICAgLyogZXNsaW50LWVuYWJsZSBjYW1lbGNhc2UgKi9cblxuICAgICAgICByZXR1cm4gdGhpcy5fcGVyZm9ybVJlcXVlc3QocGFyYW1zLCB0aGlzLl91cmxHZW9TZWFyY2gpO1xuICAgIH0sXG5cbiAgICBnZW9HZXQ6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICAgIHZhciBwYXJhbXMgPSB7XG4gICAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgICBmaWVsZHM6IHRoaXMuX2dlb0ZpZWxkc1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9wZXJmb3JtUmVxdWVzdChwYXJhbXMsIHRoaXMuX3VybEdlb0dldCk7XG4gICAgfSxcblxuICAgIGNhbmNlbExhc3RSZXF1ZXN0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuX2xhc3RSZXF1ZXN0KSB7XG4gICAgICAgICAgICB0aGlzLl9sYXN0UmVxdWVzdC5hYm9ydCgpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIGdldFR5cGVzQnlab29tOiBmdW5jdGlvbih6b29tKSB7IC8vIChOdW1iZXIpIC0+IFN0cmluZ3xOdWxsXG4gICAgICAgIHZhciB0eXBlcyA9IHtcbiAgICAgICAgICAgICAgICAnYWRtX2Rpdi5zZXR0bGVtZW50JzogICA4LFxuICAgICAgICAgICAgICAgICdhZG1fZGl2LmNpdHknOiAgICAgICAgIDgsXG4gICAgICAgICAgICAgICAgJ2FkbV9kaXYuZGl2aXNpb24nOiAgICAgMTEsXG4gICAgICAgICAgICAgICAgJ2FkbV9kaXYuZGlzdHJpY3QnOiAgICAgMTIsXG4gICAgICAgICAgICAgICAgJ3N0cmVldCc6ICAgICAgICAgICAgICAgMTQsXG4gICAgICAgICAgICAgICAgJ2J1aWxkaW5nJzogICAgICAgICAgICAgMTQsXG4gICAgICAgICAgICAgICAgJ2FkbV9kaXYucGxhY2UnOiAgICAgICAgMTUsXG4gICAgICAgICAgICAgICAgJ3BvaSc6ICAgICAgICAgICAgICAgICAgMTUsXG4gICAgICAgICAgICAgICAgJ2F0dHJhY3Rpb24nOiAgICAgICAgICAgMTdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZWxlY3RlZFR5cGVzID0gW107XG5cbiAgICAgICAgT2JqZWN0LmtleXModHlwZXMpLmZvckVhY2goZnVuY3Rpb24odHlwZSkge1xuICAgICAgICAgICAgaWYgKHpvb20gPj0gdHlwZXNbdHlwZV0pIHtcbiAgICAgICAgICAgICAgICBzZWxlY3RlZFR5cGVzLnB1c2godHlwZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChzZWxlY3RlZFR5cGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIHNlbGVjdGVkVHlwZXMuam9pbignLCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgX3BlcmZvcm1SZXF1ZXN0OiBmdW5jdGlvbihwYXJhbXMsIHVybCkgeyAvLyAoT2JqZWN0LCBTdHJpbmcsIEZ1bmN0aW9uLCBGdW5jdGlvbilcbiAgICAgICAgdmFyIGRhdGEgPSBERy5leHRlbmQoe2tleTogdGhpcy5fa2V5fSwgcGFyYW1zKTtcbiAgICAgICAgdmFyIHR5cGUgPSAnZ2V0JztcblxuICAgICAgICB0aGlzLmNhbmNlbExhc3RSZXF1ZXN0KCk7XG5cbiAgICAgICAgaWYgKCFERy5hamF4LmNvcnNTdXBwb3J0KSB7XG4gICAgICAgICAgICB0eXBlID0gZGF0YS5mb3JtYXQgPSAnanNvbnAnO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fbGFzdFJlcXVlc3QgPSBERy5hamF4KHVybCwge1xuICAgICAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgICAgICB0aW1lb3V0OiB0aGlzLl90aW1lb3V0TXNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2xhc3RSZXF1ZXN0O1xuICAgIH0sXG5cbiAgICBfZmlsdGVyUmVzcG9uc2U6IGZ1bmN0aW9uKHJlc3BvbnNlLCBhbGxvd2VkVHlwZXMpIHsgLy8gKE9iamVjdCwgQXJyYXkpIC0+IEJvb2xlYW58T2JqZWN0XG4gICAgICAgIHZhciByZXN1bHQgPSB7fSwgaSwgaXRlbSwgZm91bmQsIGRhdGEsIHR5cGU7XG5cbiAgICAgICAgaWYgKHRoaXMuX2lzTm90Rm91bmQocmVzcG9uc2UpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBkYXRhID0gcmVzcG9uc2UucmVzdWx0Lml0ZW1zO1xuXG4gICAgICAgIGZvciAoaSA9IGRhdGEubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIGl0ZW0gPSBkYXRhW2ldO1xuXG4gICAgICAgICAgICB0eXBlID0gaXRlbS50eXBlO1xuICAgICAgICAgICAgaWYgKGl0ZW0uc3VidHlwZSkge1xuICAgICAgICAgICAgICAgIHR5cGUgKz0gJy4nICsgaXRlbS5zdWJ0eXBlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoYWxsb3dlZFR5cGVzICYmIGFsbG93ZWRUeXBlcy5pbmRleE9mKHR5cGUpID09PSAtMSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXN1bHRbdHlwZV0gPSBpdGVtO1xuICAgICAgICAgICAgZm91bmQgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGZvdW5kKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIF9pc05vdEZvdW5kOiBmdW5jdGlvbihyZXNwb25zZSkgeyAvLyAoT2JqZWN0KSAtPiBCb29sZWFuXG4gICAgICAgIHJldHVybiAhcmVzcG9uc2UgfHxcbiAgICAgICAgICAgICAgICEhcmVzcG9uc2UubWV0YSAmJiAhIXJlc3BvbnNlLm1ldGEuZXJyb3IgfHxcbiAgICAgICAgICAgICAgICFyZXNwb25zZS5yZXN1bHQgfHxcbiAgICAgICAgICAgICAgICFyZXNwb25zZS5yZXN1bHQuaXRlbXMgfHxcbiAgICAgICAgICAgICAgICFyZXNwb25zZS5yZXN1bHQuaXRlbXMubGVuZ3RoO1xuICAgIH1cblxufSk7XG4iLCJERy5HZW9jbGlja2VyLkhhbmRsZXIgPSB7fTtcbiIsIkRHLkdlb2NsaWNrZXIuSGFuZGxlci5EZWZhdWx0ID0gREcuQ2xhc3MuZXh0ZW5kKHtcblxuICAgIGluY2x1ZGVzOiBERy5Mb2NhbGUsXG5cbiAgICBzdGF0aWNzOiB7XG4gICAgICAgIERpY3Rpb25hcnk6IHt9XG4gICAgfSxcblxuICAgIF9ldmVudEhhbmRsZXJzOiB7fSxcblxuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKGNvbnRyb2xsZXIsIHZpZXcsIG1hcCkgeyAvLyAoT2JqZWN0LCBPYmplY3QsIE9iamVjdClcbiAgICAgICAgdGhpcy5fY29udHJvbGxlciA9IGNvbnRyb2xsZXI7XG4gICAgICAgIHRoaXMuX3ZpZXcgPSB2aWV3O1xuICAgICAgICB0aGlzLl9tYXAgPSBtYXA7XG4gICAgfSxcblxuICAgIGhhbmRsZTogZnVuY3Rpb24oKSB7IC8vICgpIC0+IFByb21pc2VcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgICAgICB0bXBsOiAncG9wdXBIZWFkZXInLFxuICAgICAgICAgICAgZGF0YTogeyd0aXRsZSc6IHRoaXMudCgnd2VfaGF2ZV9ub3QnKX1cbiAgICAgICAgfSk7XG4gICAgfSxcblxuICAgIGFkZENsaWNrRXZlbnQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLl92aWV3Ll9wb3B1cC5vbignY2xpY2snLCB0aGlzLl9ydW5FdmVudEhhbmRsZXJzLCB0aGlzKTtcbiAgICAgICAgdGhpcy5fbWFwLm9uY2UoJ3BvcHVwY2xvc2UnLCB0aGlzLl9yZW1vdmVDbGlja0V2ZW50LCB0aGlzKTtcbiAgICB9LFxuXG4gICAgX3JlbW92ZUNsaWNrRXZlbnQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLl92aWV3Ll9wb3B1cC5vZmYoJ2NsaWNrJywgdGhpcy5fcnVuRXZlbnRIYW5kbGVycywgdGhpcyk7XG4gICAgfSxcblxuICAgIF9hZGRFdmVudEhhbmRsZXI6IGZ1bmN0aW9uKGVsLCBoYW5kbGVyKSB7IC8vIChTdHJpbmcsIEZ1bmN0aW9uKVxuICAgICAgICB0aGlzLl9ldmVudEhhbmRsZXJzW2VsXSA9IGhhbmRsZXI7XG4gICAgfSxcblxuICAgIF9ydW5FdmVudEhhbmRsZXJzOiBmdW5jdGlvbihlKSB7XG4gICAgICAgIHZhciB0YXJnZXQgPSBlLm9yaWdpbmFsRXZlbnQudGFyZ2V0O1xuXG4gICAgICAgIGZvciAodmFyIGV2ZW50Q2xhc3MgaW4gdGhpcy5fZXZlbnRIYW5kbGVycykge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2V2ZW50SGFuZGxlcnMuaGFzT3duUHJvcGVydHkoZXZlbnRDbGFzcykgJiYgdGFyZ2V0LmNsYXNzTmFtZS5pbmRleE9mKGV2ZW50Q2xhc3MpID4gLTEpIHtcbiAgICAgICAgICAgICAgICBERy5Eb21FdmVudC5wcmV2ZW50RGVmYXVsdChlLm9yaWdpbmFsRXZlbnQpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2V2ZW50SGFuZGxlcnNbZXZlbnRDbGFzc10uY2FsbCh0aGlzLCB0YXJnZXQpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBfY2xlYXJFdmVudEhhbmRsZXJzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5fZXZlbnRIYW5kbGVycyA9IHt9O1xuICAgIH0sXG5cbiAgICBfZ2V0RGlyZWN0aW9uc1VybDogZnVuY3Rpb24obmFtZSkge1xuICAgICAgICByZXR1cm4gREcuVXRpbC50ZW1wbGF0ZShERy5jb25maWcucHBub3RMaW5rLCB7XG4gICAgICAgICAgICAnZG9tYWluJzogdGhpcy5fbWFwLnByb2plY3REZXRlY3Rvci5nZXRQcm9qZWN0KCkuZG9tYWluLFxuICAgICAgICAgICAgJ3Byb2plY3RDb2RlJzogdGhpcy5fbWFwLnByb2plY3REZXRlY3Rvci5nZXRQcm9qZWN0KCkuY29kZSxcbiAgICAgICAgICAgICdjZW50ZXInOiB0aGlzLl9tYXAuZ2V0Q2VudGVyKCkubG5nICsgJywnICsgdGhpcy5fbWFwLmdldENlbnRlcigpLmxhdCxcbiAgICAgICAgICAgICd6b29tJzogdGhpcy5fbWFwLmdldFpvb20oKSxcbiAgICAgICAgICAgICduYW1lJzogZW5jb2RlVVJJQ29tcG9uZW50KG5hbWUpLFxuICAgICAgICAgICAgJ3JzVHlwZSc6IHRoaXMuX21hcC5wcm9qZWN0RGV0ZWN0b3IuZ2V0UHJvamVjdCgpLnRyYW5zcG9ydCA/ICdidXMnIDogJ2NhcicsXG4gICAgICAgICAgICAncG9pbnQnOiB0aGlzLl9wb3B1cC5fbGF0bG5nLmxuZyArICcsJyArIHRoaXMuX3BvcHVwLl9sYXRsbmcubGF0XG4gICAgICAgIH0pO1xuICAgIH0sXG5cbiAgICBfZ2V0RHJpbGxkb3duOiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgdmFyIGFkbURpdnMgPSBbXSxcbiAgICAgICAgICAgIHJlc3VsdDtcblxuICAgICAgICBpZiAob2JqZWN0LmFkbV9kaXYpIHtcbiAgICAgICAgICAgIGFkbURpdnMgPSBvYmplY3QuYWRtX2RpdlxuICAgICAgICAgICAgICAgIC5yZWR1Y2UoZnVuY3Rpb24oYWRtRGl2cywgYWRtRGl2KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhZG1EaXYubmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWRtRGl2cy5wdXNoKGFkbURpdi5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhZG1EaXZzO1xuICAgICAgICAgICAgICAgIH0sIFtdKVxuICAgICAgICAgICAgICAgIC5yZXZlcnNlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYWRtRGl2cy5sZW5ndGggJiYgb2JqZWN0LmFkZHJlc3MgJiYgb2JqZWN0LmFkZHJlc3MucG9zdGNvZGUpIHtcbiAgICAgICAgICAgIGFkbURpdnMucHVzaChvYmplY3QuYWRkcmVzcy5wb3N0Y29kZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXN1bHQgPSBhZG1EaXZzLmpvaW4oJywgJyk7XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbn0pO1xuXG5cbkRHLkdlb2NsaWNrZXIuSGFuZGxlci5IYW5kbGVyRXhhbXBsZSA9IERHLkdlb2NsaWNrZXIuSGFuZGxlci5EZWZhdWx0LmV4dGVuZCh7XG5cbiAgICBoYW5kbGU6IGZ1bmN0aW9uKHJlc3VsdHMsIHR5cGUpIHsgLy8gKE9iamVjdCwgU3RyaW5nKSAtPiBQcm9taXNlXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAgICAgdG1wbDogdHlwZSArICc6PGJyLz4nICsgcmVzdWx0c1t0eXBlXS5pZFxuICAgICAgICB9KTtcbiAgICB9XG59KTtcbiIsIkRHLkdlb2NsaWNrZXIuSGFuZGxlci5BcGlFcnJvciA9IERHLkdlb2NsaWNrZXIuSGFuZGxlci5EZWZhdWx0LmV4dGVuZCh7XG4gICAgaGFuZGxlOiBmdW5jdGlvbigpIHsgLy8gKCkgLT4gUHJvbWlzZVxuICAgICAgICB2YXIgaGVhZGVyID0gdGhpcy5fdmlldy5yZW5kZXIoe1xuICAgICAgICAgICAgdG1wbDogJ3BvcHVwSGVhZGVyJyxcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICB0aXRsZTogdGhpcy50KCdhcGlFcnJvclRpdGxlJylcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgICAgICBoZWFkZXI6IGhlYWRlcixcbiAgICAgICAgICAgIHRtcGw6IHRoaXMudCgnYXBpRXJyb3JCb2R5JylcbiAgICAgICAgfSk7XG4gICAgfVxufSk7XG4iLCJERy5HZW9jbGlja2VyLkhhbmRsZXIuQ2l0eUFyZWEgPSBERy5HZW9jbGlja2VyLkhhbmRsZXIuRGVmYXVsdC5leHRlbmQoe1xuXG4gICAgX3BvbHlsaW5lU3R5bGVEZWZhdWx0IDoge1xuICAgICAgICBmaWxsQ29sb3I6ICcjZmY5Mzg3JyxcbiAgICAgICAgY29sb3I6ICcjZmY5Mzg3JyxcbiAgICAgICAgbm9DbGlwOiB0cnVlLFxuICAgICAgICBvcGFjaXR5OiAxXG4gICAgfSxcblxuICAgIF9wb2x5bGluZVN0eWxlcyA6IHtcbiAgICAgICAgMTEgOiB7XG4gICAgICAgICAgICBmaWxsT3BhY2l0eTogMC4xOCxcbiAgICAgICAgICAgIHdlaWdodDogMVxuICAgICAgICB9LFxuICAgICAgICAxMiA6IHtcbiAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAwLjEyLFxuICAgICAgICAgICAgd2VpZ2h0OiAxXG4gICAgICAgIH0sXG4gICAgICAgIDEzIDoge1xuICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDAuMDgsXG4gICAgICAgICAgICB3ZWlnaHQ6IDJcbiAgICAgICAgfSxcbiAgICAgICAgMTggOiB7XG4gICAgICAgICAgICBmaWxsT3BhY2l0eTogMCxcbiAgICAgICAgICAgIHdlaWdodDogM1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIGhhbmRsZTogZnVuY3Rpb24ocmVzdWx0cywgdHlwZSkgeyAvLyAoT2JqZWN0LCBTdHJpbmcpIC0+IFByb21pc2VcbiAgICAgICAgaWYgKCFyZXN1bHRzW3R5cGVdKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuX3N0eWxlc0luaXRlZCkge1xuICAgICAgICAgICAgdGhpcy5faW5pdFN0eWxlcygpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmVtb3ZlIHByZXZpb3VzIGdlb21ldHJ5IHNlZSBodHRwczovL2dpdGh1Yi5jb20vMmdpcy9tYXBzYXBpL2lzc3Vlcy8yMTNcbiAgICAgICAgaWYgKHRoaXMuX2dlb21ldHJ5KSB7XG4gICAgICAgICAgICB0aGlzLl9tYXAucmVtb3ZlTGF5ZXIodGhpcy5fZ2VvbWV0cnkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fcG9wdXAgPSB0aGlzLl92aWV3LmdldFBvcHVwKCk7XG5cbiAgICAgICAgdGhpcy5fZ2VvbWV0cnlab29tU3R5bGUgPSB0aGlzLl9nZXRQb2x5U3R5bGVOdW0oKTtcbiAgICAgICAgdGhpcy5fZ2VvbWV0cnkgPSBERy5Xa3QuZ2VvSnNvbkxheWVyKHJlc3VsdHNbdHlwZV0uZ2VvbWV0cnkuc2VsZWN0aW9uLCB7XG4gICAgICAgICAgICBzdHlsZTogdGhpcy5fcG9seWxpbmVTdHlsZXNbdGhpcy5fZ2VvbWV0cnlab29tU3R5bGVdLFxuICAgICAgICAgICAgaW50ZXJhY3RpdmU6IGZhbHNlXG4gICAgICAgIH0pLmFkZFRvKHRoaXMuX21hcCk7XG5cbiAgICAgICAgdGhpcy5fbWFwXG4gICAgICAgICAgICAub24oJ3pvb21lbmQnLCB0aGlzLl91cGRhdGVHZW9tZXRyeSwgdGhpcylcbiAgICAgICAgICAgIC5vbmNlKCdwb3B1cGNsb3NlJywgdGhpcy5fY2xlYXJQb3B1cCwgdGhpcyk7XG5cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLl9maWxsQ2l0eUFyZWFPYmplY3QocmVzdWx0cywgdHlwZSkpO1xuICAgIH0sXG5cbiAgICBfZmlsbENpdHlBcmVhT2JqZWN0OiBmdW5jdGlvbihyZXN1bHRzLCB0eXBlKSB7XG4gICAgICAgIHZhciBkYXRhID0ge1xuICAgICAgICAgICAgbmFtZTogdGhpcy50KCdub25hbWUnKSxcbiAgICAgICAgICAgIGRyaWxsZG93bjogJycsXG4gICAgICAgICAgICBwdXJwb3NlOiB0aGlzLnQodHlwZSksXG4gICAgICAgICAgICB0eXBlOiB0eXBlLnNwbGl0KCcuJykuam9pbignXycpXG4gICAgICAgIH07XG5cbiAgICAgICAgZGF0YS5kcmlsbGRvd24gPSB0aGlzLl9nZXREcmlsbGRvd24ocmVzdWx0c1t0eXBlXSk7XG5cbiAgICAgICAgaWYgKHJlc3VsdHNbdHlwZV0ubmFtZSkge1xuICAgICAgICAgICAgZGF0YS5uYW1lID0gcmVzdWx0c1t0eXBlXS5uYW1lO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRtcGw6ICdjaXR5YXJlYScsXG4gICAgICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICAgICAgaGVhZGVyOiB0aGlzLl92aWV3LnJlbmRlcih7XG4gICAgICAgICAgICAgICAgdG1wbDogJ3BvcHVwSGVhZGVyJyxcbiAgICAgICAgICAgICAgICBkYXRhOiB7J3RpdGxlJzogZGF0YS5uYW1lfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfTtcbiAgICB9LFxuXG4gICAgX2luaXRTdHlsZXMgOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5fc3R5bGVzSW5pdGVkID0gdHJ1ZTtcblxuICAgICAgICBPYmplY3Qua2V5cyh0aGlzLl9wb2x5bGluZVN0eWxlcykuZm9yRWFjaChmdW5jdGlvbih6b29tKSB7XG4gICAgICAgICAgICBERy5leHRlbmQodGhpcy5fcG9seWxpbmVTdHlsZXNbem9vbV0sIHRoaXMuX3BvbHlsaW5lU3R5bGVEZWZhdWx0KTtcbiAgICAgICAgfSwgdGhpcyk7XG4gICAgfSxcblxuICAgIF9nZXRQb2x5U3R5bGVOdW06IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgbWFwWm9vbSA9IHRoaXMuX21hcC5nZXRab29tKCk7XG5cbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuX3BvbHlsaW5lU3R5bGVzKS5maWx0ZXIoZnVuY3Rpb24oem9vbSkge1xuICAgICAgICAgICAgcmV0dXJuIG1hcFpvb20gPD0gem9vbTtcbiAgICAgICAgfSlbMF0gfHwgZmFsc2U7XG4gICAgfSxcblxuICAgIF91cGRhdGVHZW9tZXRyeTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBuZXdTdHlsZSA9IHRoaXMuX2dldFBvbHlTdHlsZU51bSgpO1xuXG4gICAgICAgIGlmIChuZXdTdHlsZSAmJiBuZXdTdHlsZSAhPT0gdGhpcy5fZ2VvbWV0cnlab29tU3R5bGUpIHtcbiAgICAgICAgICAgIHRoaXMuX2dlb21ldHJ5Wm9vbVN0eWxlID0gbmV3U3R5bGU7XG4gICAgICAgICAgICB0aGlzLl9nZW9tZXRyeS5zZXRTdHlsZSh0aGlzLl9wb2x5bGluZVN0eWxlc1tuZXdTdHlsZV0pO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIF9jbGVhclBvcHVwOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5fbWFwXG4gICAgICAgICAgICAgICAgLnJlbW92ZUxheWVyKHRoaXMuX2dlb21ldHJ5KVxuICAgICAgICAgICAgICAgIC5vZmYoJ3pvb21lbmQnLCB0aGlzLl91cGRhdGVHZW9tZXRyeSwgdGhpcyk7XG4gICAgfVxuXG59KTtcbiIsIi8qZ2xvYmFsIEZpcm1DYXJkICovXG5ERy5HZW9jbGlja2VyLkhhbmRsZXIuSG91c2UgPSBERy5HZW9jbGlja2VyLkhhbmRsZXIuRGVmYXVsdC5leHRlbmQoe1xuXG4gICAgX2Zpcm1zT25QYWdlOiAyMCxcbiAgICBfc2Nyb2xsVGhyb3R0bGVJbnRlcnZhbDogNDAwLFxuICAgIF9zY3JvbGxIZWlnaHRSZXNlcnZlOiA2MCxcblxuICAgIG9wdGlvbnM6IHtcbiAgICAgICAgJ3Nob3dCb29rbGV0JzogdHJ1ZSxcbiAgICAgICAgJ3Nob3dQaG90b3MnOiB0cnVlLFxuICAgICAgICAnc2hvd1JvdXRlU2VhcmNoJzogdHJ1ZVxuICAgIH0sXG5cbiAgICBoYW5kbGU6IGZ1bmN0aW9uKHJlc3VsdHMpIHsgLy8gKE9iamVjdCkgLT4gUHJvbWlzZVxuICAgICAgICBpZiAoIXJlc3VsdHMuYnVpbGRpbmcpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGluaXRpYWxpemF0aW9uIHNldHVwXG4gICAgICAgIHRoaXMuZmlybUNhcmQgPSBudWxsO1xuICAgICAgICB0aGlzLl9wYWdlID0gMTtcbiAgICAgICAgdGhpcy5faG91c2VPYmplY3QgPSBudWxsO1xuICAgICAgICB0aGlzLl9maXJtTGlzdCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2Zpcm1MaXN0T2JqZWN0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fZmlybUNhcmRPYmplY3QgPSBudWxsO1xuICAgICAgICB0aGlzLl9vblNjcm9sbCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9pc0Zpcm1saXN0T3BlbiA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMuX2lkID0gcmVzdWx0cy5idWlsZGluZy5pZDtcbiAgICAgICAgdGhpcy5fdG90YWxQYWdlcyA9IDE7XG4gICAgICAgIHRoaXMuX2FwaSA9IHRoaXMuX2NvbnRyb2xsZXIuZ2V0Q2F0YWxvZ0FwaSgpO1xuICAgICAgICB0aGlzLl9wb3B1cCA9IHRoaXMuX3ZpZXcuZ2V0UG9wdXAoKTtcbiAgICAgICAgdGhpcy5faW5pdGVkUG9wdXBDbG9zZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9kaXJlY3Rpb25zVXJsID0gdGhpcy5fZ2V0RGlyZWN0aW9uc1VybChyZXN1bHRzLmJ1aWxkaW5nLm5hbWUpO1xuICAgICAgICB0aGlzLl9maXJtTGlzdExvYWRlciA9IHRoaXMuX3ZpZXcuaW5pdExvYWRlcih0cnVlKTtcblxuICAgICAgICB0aGlzLl9ob3VzZU9iamVjdCA9IHRoaXMuX2ZpbGxIb3VzZU9iamVjdChyZXN1bHRzLmJ1aWxkaW5nKTtcblxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX2hvdXNlT2JqZWN0KTtcbiAgICB9LFxuXG4gICAgX2lzUm91dGVTZWFyY2hBbGxvd2VkOiBmdW5jdGlvbigpIHsgLy8oKSAtPiBCb29sZWFuXG4gICAgICAgIHZhciBwcm9qZWN0ID0gdGhpcy5fY29udHJvbGxlci5nZXRNYXAoKS5wcm9qZWN0RGV0ZWN0b3IuZ2V0UHJvamVjdCgpO1xuICAgICAgICByZXR1cm4gcHJvamVjdC50cmFuc3BvcnQgfHwgcHJvamVjdC5yb2FkcztcbiAgICB9LFxuXG4gICAgX2Zpcm1DYXJkU2V0dXA6IGZ1bmN0aW9uKCkgeyAvLygpIC0+IE9iamVjdFxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmVuZGVyOiB0aGlzLl92aWV3LnJlbmRlclRlbXBsYXRlLFxuICAgICAgICAgICAgbGFuZzogdGhpcy5fbWFwLmdldExhbmcoKSxcbiAgICAgICAgICAgIGRvbWFpbjogdGhpcy5fY29udHJvbGxlci5nZXRNYXAoKS5wcm9qZWN0RGV0ZWN0b3IuZ2V0UHJvamVjdCgpLmRvbWFpbixcbiAgICAgICAgICAgIGFqYXg6IERHLmJpbmQodGhpcy5fYXBpLmdldEZpcm1JbmZvLCB0aGlzLl9hcGkpLFxuICAgICAgICAgICAgdGltZXpvbmVPZmZzZXQ6IHRoaXMuX2NvbnRyb2xsZXIuZ2V0TWFwKCkucHJvamVjdERldGVjdG9yLmdldFByb2plY3QoKS50aW1lT2Zmc2V0LFxuICAgICAgICAgICAgbWFwOiB0aGlzLl9tYXAsXG4gICAgICAgICAgICBwb3B1cDogdGhpcy5fcG9wdXAsXG4gICAgICAgICAgICBpc01vYmlsZTogREcuQnJvd3Nlci5tb2JpbGUsXG4gICAgICAgICAgICBzaG93RW50cmFuY2U6IERHLkVudHJhbmNlLFxuICAgICAgICAgICAgZ290b1VybDogdGhpcy5fZGlyZWN0aW9uc1VybCxcbiAgICAgICAgICAgIG9uRmlybVJlYWR5OiBERy5iaW5kKHRoaXMuX29uRmlybVJlYWR5LCB0aGlzKSxcbiAgICAgICAgICAgIG9uVG9nZ2xlOiBERy5iaW5kKHRoaXMuX3BvcHVwLnJlc2l6ZSwgdGhpcy5fcG9wdXApLFxuICAgICAgICAgICAgc2hvd0Jvb2tsZXQ6IHRoaXMub3B0aW9ucy5zaG93Qm9va2xldCxcbiAgICAgICAgICAgIHNob3dQaG90b3M6IHRoaXMub3B0aW9ucy5zaG93UGhvdG9zLFxuICAgICAgICAgICAgc2hvd1JvdXRlU2VhcmNoOiB0aGlzLm9wdGlvbnMuc2hvd1JvdXRlU2VhcmNoICYmIHRoaXMuX2lzUm91dGVTZWFyY2hBbGxvd2VkKCksXG4gICAgICAgICAgICB0OiBERy5iaW5kKHRoaXMudCwgdGhpcylcbiAgICAgICAgfTtcbiAgICB9LFxuXG4gICAgLy8gaW5pdCBzaW5nbGUgZmlybSBjYXJkIGluIGNhc2Ugb2YgcG9pXG4gICAgX2ZpbGxGaXJtQ2FyZE9iamVjdDogZnVuY3Rpb24oZmlybUlkKSB7XG4gICAgICAgIHZhciBvcHRpb25zID0gdGhpcy5fZmlybUNhcmRTZXR1cCgpO1xuXG4gICAgICAgIHRoaXMuZmlybUNhcmQgPSBuZXcgRmlybUNhcmQoZmlybUlkLCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy5faW5pdFBvcHVwQ2xvc2UoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmlybUNhcmQuZ2V0Q29udGFpbmVyKCk7XG4gICAgfSxcblxuICAgIF9maXJtTGlzdFNldHVwOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLl9maXJtQ2FyZFNldHVwKCk7XG5cbiAgICAgICAgREcuZXh0ZW5kKG9wdGlvbnMsIHtcbiAgICAgICAgICAgIGJhY2tCdG46IERHLmJpbmQodGhpcy5fc2hvd0hvdXNlUG9wdXAsIHRoaXMpLFxuICAgICAgICAgICAgb25GaXJtQ2xpY2s6IERHLmJpbmQodGhpcy5fb25GaXJtTGlzdENsaWNrLCB0aGlzKSxcbiAgICAgICAgICAgIG9uU2hvd0xlc3M6IERHLmJpbmQodGhpcy5fc2hvd0hvdXNlUG9wdXAsIHRoaXMpLFxuICAgICAgICAgICAgcGFzdGVMb2FkZXI6IERHLmJpbmQodGhpcy5fcGFzdGVMb2FkZXIsIHRoaXMpXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBmaXJtQ2FyZDogb3B0aW9ucyxcbiAgICAgICAgICAgIGZpcm1saXN0SXRlbVRtcGw6ICdmaXJtbGlzdEl0ZW0nLFxuICAgICAgICAgICAgb25MaXN0UmVhZHk6IERHLmJpbmQodGhpcy5fcmVuZGVyRmlybUxpc3QsIHRoaXMpXG4gICAgICAgIH07XG4gICAgfSxcblxuICAgIF9pbml0U2hvcnRGaXJtTGlzdDogZnVuY3Rpb24oZmlybXMpIHsgLy8oT2JqZWN0KSAtPiBET01FbGVtZW50XG4gICAgICAgIHZhciBvcHRpb25zID0gdGhpcy5fZmlybUxpc3RTZXR1cCgpO1xuXG4gICAgICAgIHRoaXMuX3Nob3J0RmlybUxpc3QgPSBuZXcgRmlybUNhcmQuTGlzdChmaXJtcywgb3B0aW9ucyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3Nob3J0RmlybUxpc3QucmVuZGVyTGlzdCgpO1xuICAgIH0sXG5cbiAgICBfaW5pdEZpcm1MaXN0OiBmdW5jdGlvbihyZXMpIHsgLy8oT2JqZWN0KSAtPiBQcm9taXNlXG4gICAgICAgIGlmICghcmVzKSB7IHJldHVybiBmYWxzZTsgfVxuXG4gICAgICAgIHZhciByZXN1bHRzID0gcmVzLnJlc3VsdC5pdGVtcyxcbiAgICAgICAgICAgIG9wdGlvbnMgPSB0aGlzLl9maXJtTGlzdFNldHVwKCk7XG5cbiAgICAgICAgb3B0aW9ucy5maXJtQ2FyZC5iYWNrQnRuID0gREcuYmluZCh0aGlzLl9zaG93TGlzdFBvcHVwLCB0aGlzKTtcblxuICAgICAgICB0aGlzLl9zaG9ydEZpcm1MaXN0Ll90b2dnbGVFdmVudEhhbmRsZXJzKHRydWUpO1xuXG4gICAgICAgIHRoaXMuX2Zpcm1MaXN0ID0gbmV3IEZpcm1DYXJkLkxpc3QocmVzdWx0cywgb3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy5fZmlybUxpc3RPYmplY3QgPSB0aGlzLl9maWxsRmlybUxpc3RPYmplY3QodGhpcy5fZmlybUxpc3QucmVuZGVyTGlzdCgpKTtcbiAgICAgICAgdGhpcy5fY2xlYXJBbmRSZW5kZXJQb3B1cCh0aGlzLl9maXJtTGlzdE9iamVjdCk7XG4gICAgfSxcblxuICAgIF9maWxsRmlybUxpc3RPYmplY3Q6IGZ1bmN0aW9uKGZpcm1MaXN0KSB7IC8vKERPTUVsZW1lbnQpIC0+IE9iamVjdFxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRtcGw6IGZpcm1MaXN0LFxuICAgICAgICAgICAgaGVhZGVyOiB0aGlzLl9oZWFkZXIsXG4gICAgICAgICAgICBmb290ZXI6IHRoaXMuX3ZpZXcucmVuZGVyKHtcbiAgICAgICAgICAgICAgICB0bXBsOiAncG9wdXBGb290ZXJCdG5zJyxcbiAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgIGJ0bnM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnYmFjaycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHRoaXMudCgnYmFja19idXR0b24nKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIGFmdGVyUmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBzZWxmLl9pbml0UG9wdXBDbG9zZSgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHNlbGYuX3RvdGFsUGFnZXMgPiAxICYmIHNlbGYuX2Zpcm1MaXN0TG9hZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFwidGhpc1wiIGhlcmUgaXMgc2VsZi5fZmlybUxpc3RPYmplY3RcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50bXBsLnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQoc2VsZi5fZmlybUxpc3RMb2FkZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9LFxuXG4gICAgX29uRmlybVJlYWR5OiBmdW5jdGlvbihmaXJtQ29udGVudE9iamVjdCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIGZpcm1Db250ZW50T2JqZWN0LmFmdGVyUmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgaGVhZGVyVGl0bGUgPSBzZWxmLl9wb3B1cC5fcG9wdXBTdHJ1Y3R1cmUuaGVhZGVyLmZpcnN0Q2hpbGQ7XG4gICAgICAgICAgICBpZiAoIURHLkJyb3dzZXIuaWVsdDkpIHtcbiAgICAgICAgICAgICAgICBpZiAoaGVhZGVyVGl0bGUub2Zmc2V0SGVpZ2h0ID4gNzIpIHsgLy9UT0RPOiBtYWdpYyBudW1iZXJcbiAgICAgICAgICAgICAgICAgICAgREcuRG9tVXRpbC5hZGRDbGFzcyhoZWFkZXJUaXRsZSwgJ2RnLXBvcHVwX19oZWFkZXItdGVhc2VyJyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghREcuQnJvd3Nlci53ZWJraXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIERHLkdlb2NsaWNrZXIuY2xhbXBIZWxwZXIoaGVhZGVyVGl0bGUsIDMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9jbGVhckFuZFJlbmRlclBvcHVwKGZpcm1Db250ZW50T2JqZWN0KTtcbiAgICB9LFxuXG4gICAgX3Nob3dIb3VzZVBvcHVwOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5fcG9wdXAub2ZmKCdzY3JvbGwnLCB0aGlzLl9vblNjcm9sbCk7XG4gICAgICAgIHRoaXMuX2NsZWFyQW5kUmVuZGVyUG9wdXAodGhpcy5faG91c2VPYmplY3QpO1xuICAgICAgICB0aGlzLl9zaG9ydEZpcm1MaXN0Ll90b2dnbGVFdmVudEhhbmRsZXJzKCk7XG4gICAgfSxcblxuICAgIF9vbkZpcm1MaXN0Q2xpY2s6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLl9wb3B1cC5vZmYoJ3Njcm9sbCcsIHRoaXMuX29uU2Nyb2xsKTtcbiAgICB9LFxuXG4gICAgX3Bhc3RlTG9hZGVyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGxvYWRlcldyYXBwZXIgID0gREcuRG9tVXRpbC5jcmVhdGUoJ2RpdicsICdkZy1tYXAtZ2VvY2xpY2tlcl9fcHJlbG9hZGVyLXdyYXBwZXInKSxcbiAgICAgICAgICAgIGxvYWRlciA9IHRoaXMuX3ZpZXcuaW5pdExvYWRlcigpO1xuXG4gICAgICAgIGxvYWRlcldyYXBwZXIuaW5zZXJ0QmVmb3JlKGxvYWRlciwgbG9hZGVyV3JhcHBlci5maXJzdENoaWxkKTtcbiAgICAgICAgbG9hZGVyV3JhcHBlci5zdHlsZS5oZWlnaHQgPSB0aGlzLl9wb3B1cC5fY29udGVudE5vZGUub2Zmc2V0SGVpZ2h0IC0gMSArICdweCc7IC8vIE1BR0lDXG4gICAgICAgIGxvYWRlcldyYXBwZXIuc3R5bGUud2lkdGggPSB0aGlzLl9wb3B1cC5fY29udGVudE5vZGUub2Zmc2V0V2lkdGggKyAncHgnO1xuICAgICAgICB0aGlzLl9jbGVhckFuZFJlbmRlclBvcHVwKHt0bXBsOiBsb2FkZXJXcmFwcGVyfSk7XG4gICAgfSxcblxuICAgIF9pbml0UG9wdXBDbG9zZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLl9pbml0ZWRQb3B1cENsb3NlKSB7IHJldHVybjsgfVxuXG4gICAgICAgIHRoaXMuX2NvbnRyb2xsZXIuZ2V0TWFwKCkub25jZSgncG9wdXBjbG9zZScsIERHLmJpbmQodGhpcy5fb25Qb3B1cENsb3NlLCB0aGlzKSk7XG4gICAgICAgIHRoaXMuX2luaXRlZFBvcHVwQ2xvc2UgPSB0cnVlO1xuICAgIH0sXG5cbiAgICBfc2hvd0xpc3RQb3B1cDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBmaXJtTGlzdCA9IHRoaXMuX2Zpcm1MaXN0T2JqZWN0O1xuXG4gICAgICAgIHRoaXMuX3Bhc3RlTG9hZGVyKCk7XG5cbiAgICAgICAgaWYgKCFmaXJtTGlzdCkge1xuICAgICAgICAgICAgZmlybUxpc3QgPSB0aGlzLl9hcGkuZmlybXNJbkhvdXNlKHRoaXMuX2lkKS50aGVuKERHLmJpbmQodGhpcy5faW5pdEZpcm1MaXN0LCB0aGlzKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9jbGVhckFuZFJlbmRlclBvcHVwKGZpcm1MaXN0KTtcbiAgICAgICAgICAgIHRoaXMuX2Zpcm1MaXN0Ll90b2dnbGVFdmVudEhhbmRsZXJzKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuX29uU2Nyb2xsKSB7XG4gICAgICAgICAgICB0aGlzLl9vblNjcm9sbCA9IERHLlV0aWwudGhyb3R0bGUodGhpcy5faGFuZGxlUG9wdXBTY3JvbGwsIHRoaXMuX3Njcm9sbFRocm90dGxlSW50ZXJ2YWwsIHRoaXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fcG9wdXAub24oJ3Njcm9sbCcsIHRoaXMuX29uU2Nyb2xsKTtcbiAgICB9LFxuXG4gICAgX3JlbmRlckZpcm1MaXN0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9pc0Zpcm1saXN0T3Blbikge1xuICAgICAgICAgICAgdGhpcy5fcG9wdXAucmVzaXplKCk7XG4gICAgICAgICAgICB0aGlzLl9pc0Zpcm1saXN0T3BlbiA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgX29uUG9wdXBDbG9zZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuX2luaXRlZFBvcHVwQ2xvc2UgPSBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMuX2Zpcm1MaXN0KSB7XG4gICAgICAgICAgICB0aGlzLl9maXJtTGlzdC5jbGVhckxpc3QoKTtcbiAgICAgICAgICAgIHRoaXMuX2Zpcm1MaXN0ID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX3BvcHVwLm9mZignc2Nyb2xsJywgdGhpcy5fb25TY3JvbGwpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2Zpcm1JZCA9IG51bGw7XG4gICAgICAgIGlmICh0aGlzLmZpcm1DYXJkKSB7XG4gICAgICAgICAgICB0aGlzLmZpcm1DYXJkLl90b2dnbGVFdmVudEhhbmRsZXJzKHRydWUpO1xuICAgICAgICAgICAgdGhpcy5maXJtQ2FyZCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZmlybUxpc3RMb2FkZXIgPSBudWxsO1xuICAgICAgICB0aGlzLl9wYWdlID0gMTtcbiAgICAgICAgdGhpcy5fY2xlYXJFdmVudEhhbmRsZXJzKCk7XG4gICAgfSxcblxuICAgIF9pbml0U2hvd01vcmU6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgbGluayA9IHRoaXMuX3BvcHVwLmZpbmRFbGVtZW50KCcuZGctcG9wdXBfX2J1dHRvbl9uYW1lX2FsbCcpO1xuXG4gICAgICAgIGlmIChsaW5rKSB7XG4gICAgICAgICAgICB0aGlzLl9hZGRFdmVudEhhbmRsZXIoJ2RnLXBvcHVwX19idXR0b25fbmFtZV9hbGwnLCBERy5iaW5kKHRoaXMuX3Nob3dMaXN0UG9wdXAsIHRoaXMpKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBfY2xlYXJBbmRSZW5kZXJQb3B1cDogZnVuY3Rpb24ocG9wdXBPYmplY3QpIHtcbiAgICAgICAgdGhpcy5fY2xlYXJFdmVudEhhbmRsZXJzKCk7XG4gICAgICAgIHRoaXMuX3BvcHVwLmNsZWFyKCdoZWFkZXInLCAnZm9vdGVyJyk7XG4gICAgICAgIHRoaXMuX3ZpZXcucmVuZGVyUG9wdXAocG9wdXBPYmplY3QpO1xuICAgIH0sXG5cbiAgICBfYXBwZW5kRmlybUxpc3Q6IGZ1bmN0aW9uKHJlcykgeyAvLyAoT2JqZWN0KVxuICAgICAgICB0aGlzLl9maXJtTGlzdC5hZGRGaXJtcyhyZXMucmVzdWx0Lml0ZW1zKTtcbiAgICAgICAgdGhpcy5fcG9wdXAuX3VwZGF0ZVNjcm9sbFBvc2l0aW9uKCk7XG4gICAgfSxcblxuICAgIF9oYW5kbGVQb3B1cFNjcm9sbDogZnVuY3Rpb24oZSkge1xuICAgICAgICB2YXIgc2Nyb2xsZXIgPSBlLm9yaWdpbmFsRXZlbnQudGFyZ2V0IHx8IGUudGFyZ2V0Ll9zY3JvbGxlcjtcblxuICAgICAgICBERy5Eb21FdmVudC5zdG9wKGUpO1xuXG4gICAgICAgIGlmICh0aGlzLl90b3RhbFBhZ2VzIDw9IDEpIHsgcmV0dXJuOyB9XG4gICAgICAgIGlmIChzY3JvbGxlciAmJiBzY3JvbGxlci5zY3JvbGxIZWlnaHQgPD0gc2Nyb2xsZXIuc2Nyb2xsVG9wICsgc2Nyb2xsZXIub2Zmc2V0SGVpZ2h0ICsgdGhpcy5fc2Nyb2xsSGVpZ2h0UmVzZXJ2ZSkge1xuICAgICAgICAgICAgdGhpcy5faGFuZGxlUGFnaW5nKCk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgX2hhbmRsZVBhZ2luZzogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuX3BhZ2UrKztcblxuICAgICAgICBpZiAodGhpcy5fdG90YWxQYWdlcyAmJiB0aGlzLl9wYWdlIDw9IHRoaXMuX3RvdGFsUGFnZXMpIHtcbiAgICAgICAgICAgIHRoaXMuX2FwaS5maXJtc0luSG91c2UodGhpcy5faWQsIHtwYWdlOiB0aGlzLl9wYWdlfSkudGhlbihERy5iaW5kKHRoaXMuX2FwcGVuZEZpcm1MaXN0LCB0aGlzKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fcGFnZSA9PT0gdGhpcy5fdG90YWxQYWdlcykge1xuICAgICAgICAgICAgdmFyIGxvYWRlciA9IHRoaXMuX2Zpcm1MaXN0TG9hZGVyO1xuXG4gICAgICAgICAgICBpZiAobG9hZGVyICYmIGxvYWRlci5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICAgICAgbG9hZGVyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobG9hZGVyKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fcG9wdXAub2ZmKCdzY3JvbGwnLCB0aGlzLl9vblNjcm9sbCk7XG4gICAgICAgIH1cbiAgICB9XG59KTtcbiIsIkRHLkdlb2NsaWNrZXIuSGFuZGxlci5Ib3VzZS5pbmNsdWRlKHtcbiAgICBfZ2V0QWRkcmVzc1N0cmluZzogZnVuY3Rpb24oaG91c2UpIHtcbiAgICAgICAgaWYgKCFob3VzZS5hZGRyZXNzIHx8ICFob3VzZS5hZGRyZXNzLmNvbXBvbmVudHMpIHtcbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBob3VzZS5hZGRyZXNzLmNvbXBvbmVudHNcbiAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24oY29tcG9uZW50KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbXBvbmVudC50eXBlID09PSAnc3RyZWV0X251bWJlcic7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLm1hcChmdW5jdGlvbihjb21wb25lbnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tcG9uZW50LnN0cmVldCArICcsICcgKyBjb21wb25lbnQubnVtYmVyO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5qb2luKCcgLyAnKTtcbiAgICB9LFxuXG4gICAgX2ZpbGxCb2R5OiBmdW5jdGlvbihob3VzZSkgeyAvLyAvLyAoT2JqZWN0KSAtPiAoRE9NRWxlbWVudClcbiAgICAgICAgdmFyIGRhdGEgPSB7fSxcbiAgICAgICAgICAgIHdyYXBwZXIgPSBERy5Eb21VdGlsLmNyZWF0ZSgnZGl2JywgJ2RnLWJ1aWxkaW5nLWNhbGxvdXRfX2JvZHknKSxcbiAgICAgICAgICAgIGZpbGlhbHMgPSBob3VzZS5saW5rcyAmJiBob3VzZS5saW5rcy5icmFuY2hlcztcblxuICAgICAgICB2YXIgZHJpbGxkb3duID0gdGhpcy5fZ2V0RHJpbGxkb3duKGhvdXNlKTtcblxuICAgICAgICBpZiAoaG91c2UuYnVpbGRpbmdfbmFtZSkge1xuICAgICAgICAgICAgZGF0YS5hZGRyZXNzID0ge1xuICAgICAgICAgICAgICAgIGhlYWRlcjogdGhpcy5fZ2V0QWRkcmVzc1N0cmluZyhob3VzZSksXG4gICAgICAgICAgICAgICAgZHJpbGxkb3duOiBkcmlsbGRvd25cbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSBpZiAoZHJpbGxkb3duKSB7XG4gICAgICAgICAgICBkYXRhLmFkZHJlc3MgPSB7XG4gICAgICAgICAgICAgICAgZHJpbGxkb3duOiBkcmlsbGRvd25cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBkYXRhLnB1cnBvc2UgPSBob3VzZS5wdXJwb3NlX25hbWUgK1xuICAgICAgICAgICAgKGhvdXNlLmZsb29ycyA/ICcsICcgKyB0aGlzLnQoJ25fZmxvb3JzJywgaG91c2UuZmxvb3JzLmdyb3VuZF9jb3VudCkgOiAnJyk7XG5cbiAgICAgICAgaWYgKGZpbGlhbHMgJiYgZmlsaWFscy5jb3VudCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuX3RvdGFsUGFnZXMgPSBNYXRoLmNlaWwoaG91c2UubGlua3MuYnJhbmNoZXMuY291bnQgLyB0aGlzLl9maXJtc09uUGFnZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaG91c2UubGlua3MgJiYgaG91c2UubGlua3MuYXR0cmFjdGlvbnMgJiYgaG91c2UubGlua3MuYXR0cmFjdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgICAgICBkYXRhLmF0dHJhY3Rpb25zID0gaG91c2UubGlua3MuYXR0cmFjdGlvbnMucmVkdWNlKGZ1bmN0aW9uKGF0dHJhY3Rpb25zLCBhdHRyYWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgaWYgKGF0dHJhY3Rpb24ubmFtZSkge1xuICAgICAgICAgICAgICAgICAgICBhdHRyYWN0aW9ucy5wdXNoKGF0dHJhY3Rpb24ubmFtZSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGF0dHJhY3Rpb25zO1xuICAgICAgICAgICAgfSwgW10pO1xuICAgICAgICB9XG5cbiAgICAgICAgd3JhcHBlci5pbm5lckhUTUwgPSB0aGlzLl92aWV3LnJlbmRlcih7XG4gICAgICAgICAgICB0bXBsOiAnaG91c2UnLFxuICAgICAgICAgICAgZGF0YTogZGF0YVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoZmlsaWFscyAmJiBmaWxpYWxzLml0ZW1zKSB7XG4gICAgICAgICAgICB3cmFwcGVyLmFwcGVuZENoaWxkKHRoaXMuX2luaXRTaG9ydEZpcm1MaXN0KGZpbGlhbHMuaXRlbXMpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB3cmFwcGVyO1xuICAgIH0sXG5cbiAgICBfZmlsbEhlYWRlcjogZnVuY3Rpb24oaG91c2UpIHsgLy8gKE9iamVjdCkgLT4gKEhUTUxTdHJpbmcpXG4gICAgICAgIHZhciBoZWFkZXIgPSB7fTtcblxuICAgICAgICBpZiAoaG91c2UuYnVpbGRpbmdfbmFtZSkge1xuICAgICAgICAgICAgaGVhZGVyLnRpdGxlID0gaG91c2UuYnVpbGRpbmdfbmFtZTtcbiAgICAgICAgfSBlbHNlIGlmIChob3VzZS5hZGRyZXNzICYmIGhvdXNlLmFkZHJlc3MuY29tcG9uZW50cykge1xuICAgICAgICAgICAgaGVhZGVyLnRpdGxlID0gdGhpcy5fZ2V0QWRkcmVzc1N0cmluZyhob3VzZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBoZWFkZXIudGl0bGUgPSBob3VzZS5wdXJwb3NlX25hbWU7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9oZWFkZXIgPSB0aGlzLl92aWV3LnJlbmRlcih7XG4gICAgICAgICAgICB0bXBsOiAncG9wdXBIZWFkZXInLFxuICAgICAgICAgICAgZGF0YTogaGVhZGVyXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9oZWFkZXI7XG4gICAgfSxcblxuICAgIF9maWxsRm9vdGVyOiBmdW5jdGlvbihob3VzZSkgeyAvLyAoT2JqZWN0KSAtPiAoSFRNTFN0cmluZylcbiAgICAgICAgdmFyIGJ0bnMgPSBbXTtcbiAgICAgICAgdmFyIGhvdXNlRmlsaWFscyA9IGhvdXNlLmxpbmtzICYmIGhvdXNlLmxpbmtzLmJyYW5jaGVzO1xuXG4gICAgICAgIC8vIERlY2lkZSBpZiB3ZSBuZWVkIHRvIGRpc3BsYXkgJ21vcmUgb3JnYW5pc2F0aW9ucycgYnV0dG9uXG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIGhvdXNlRmlsaWFscyAmJlxuICAgICAgICAgICAgaG91c2VGaWxpYWxzLml0ZW1zICYmXG4gICAgICAgICAgICBob3VzZUZpbGlhbHMuaXRlbXMubGVuZ3RoICYmXG4gICAgICAgICAgICBob3VzZUZpbGlhbHMuY291bnQgPiBob3VzZUZpbGlhbHMuaXRlbXMubGVuZ3RoXG4gICAgICAgICkge1xuICAgICAgICAgICAgYnRucy5wdXNoKHRoaXMuX2dldFNob3dBbGxEYXRhKGhvdXNlRmlsaWFscy5jb3VudCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2lzUm91dGVTZWFyY2hBbGxvd2VkKCkpIHtcbiAgICAgICAgICAgIGJ0bnMucHVzaCh7XG4gICAgICAgICAgICAgICAgbmFtZTogJ2dvdG8nLFxuICAgICAgICAgICAgICAgIGxhYmVsOiB0aGlzLnQoJ2dvX3RvJyksXG4gICAgICAgICAgICAgICAgaWNvbjogdHJ1ZSxcbiAgICAgICAgICAgICAgICBocmVmOiB0aGlzLl9kaXJlY3Rpb25zVXJsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLl92aWV3LnJlbmRlcih7XG4gICAgICAgICAgICB0bXBsOiAncG9wdXBGb290ZXJCdG5zJyxcbiAgICAgICAgICAgIGRhdGE6IHsnYnRucyc6IGJ0bnN9XG4gICAgICAgIH0pO1xuICAgIH0sXG5cbiAgICBfZ2V0U2hvd0FsbERhdGE6IGZ1bmN0aW9uKGZpbGlhbHNDb3VudCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbmFtZTogJ2FsbCcsXG4gICAgICAgICAgICBsYWJlbDogdGhpcy50KCdzaG93X29yZ2FuaXphdGlvbl9pbl9idWlsZGluZycsIGZpbGlhbHNDb3VudClcbiAgICAgICAgfTtcbiAgICB9LFxuXG4gICAgX2ZpbGxIb3VzZU9iamVjdDogZnVuY3Rpb24oaG91c2UpIHsgLy8gKE9iamVjdCkgLT4gKE9iamVjdClcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBoZWFkZXI6IHRoaXMuX2ZpbGxIZWFkZXIoaG91c2UpLFxuICAgICAgICAgICAgdG1wbDogdGhpcy5fZmlsbEJvZHkoaG91c2UpLFxuICAgICAgICAgICAgZm9vdGVyOiB0aGlzLl9maWxsRm9vdGVyKGhvdXNlKSxcbiAgICAgICAgICAgIGFmdGVyUmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBzZWxmLl9pbml0U2hvd01vcmUoKTtcbiAgICAgICAgICAgICAgICBzZWxmLl9pbml0UG9wdXBDbG9zZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbn0pO1xuIiwiREcuR2VvY2xpY2tlci5IYW5kbGVyLlBvaSA9IERHLkdlb2NsaWNrZXIuSGFuZGxlci5Ib3VzZS5leHRlbmQoe1xuXG4gICAgaGFuZGxlOiBmdW5jdGlvbihyZXN1bHRzKSB7IC8vIChPYmplY3QpIC0+IFByb21pc2VcbiAgICAgICAgaWYgKCFyZXN1bHRzLnBvaSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaW5pdGlhbGl6YXRpb24gc2V0dXBcbiAgICAgICAgdGhpcy5maXJtQ2FyZCA9IG51bGw7XG4gICAgICAgIHRoaXMuX3BhZ2UgPSAxO1xuICAgICAgICB0aGlzLl9ob3VzZU9iamVjdCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2Zpcm1MaXN0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fZmlybUxpc3RPYmplY3QgPSBudWxsO1xuICAgICAgICB0aGlzLl9maXJtQ2FyZE9iamVjdCA9IG51bGw7XG4gICAgICAgIHRoaXMuX29uU2Nyb2xsID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2lzRmlybWxpc3RPcGVuID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5faWQgPSByZXN1bHRzLnBvaS5yZWZlcmVuY2UuaWQ7XG4gICAgICAgIHRoaXMuX3RvdGFsUGFnZXMgPSAxO1xuICAgICAgICB0aGlzLl9hcGkgPSB0aGlzLl9jb250cm9sbGVyLmdldENhdGFsb2dBcGkoKTtcbiAgICAgICAgdGhpcy5fcG9wdXAgPSB0aGlzLl92aWV3LmdldFBvcHVwKCk7XG4gICAgICAgIHRoaXMuX2luaXRlZFBvcHVwQ2xvc2UgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fZGlyZWN0aW9uc1VybCA9IHRoaXMuX2dldERpcmVjdGlvbnNVcmwocmVzdWx0cy5wb2kucmVmZXJlbmNlLm5hbWUpO1xuICAgICAgICB0aGlzLl9maXJtTGlzdExvYWRlciA9IHRoaXMuX3ZpZXcuaW5pdExvYWRlcih0cnVlKTtcblxuICAgICAgICAvLyBJZiB0aGUgUE9JIHJlZmVycyB0byBhIGJ1aWxkaW5nIChlLmcuIGdhbGxlcmllcyBpbiBTYW50aWFnbyksXG4gICAgICAgIC8vIHNob3cgYSBidWlsZGluZyBjYWxsb3V0XG4gICAgICAgIGlmIChyZXN1bHRzLnBvaS5yZWZlcmVuY2UudHlwZSA9PT0gJ2J1aWxkaW5nJykge1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgICAgICByZXR1cm4gc2VsZi5fYXBpLmdlb0dldChyZXN1bHRzLnBvaS5yZWZlcmVuY2UuaWQpXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuX2hvdXNlT2JqZWN0ID0gc2VsZi5fZmlsbEhvdXNlT2JqZWN0KHJlc3VsdC5yZXN1bHQuaXRlbXNbMF0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHNlbGYuX2hvdXNlT2JqZWN0KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE90aGVyd2lzZSwgc2hvdyBhIGZpcm0gY2FsbG91dFxuICAgICAgICBpZiAocmVzdWx0cy5wb2kucmVmZXJlbmNlLnR5cGUgPT09ICdicmFuY2gnKSB7XG4gICAgICAgICAgICB0aGlzLl9maWxsRmlybUNhcmRPYmplY3QocmVzdWx0cy5wb2kucmVmZXJlbmNlLmlkKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxufSk7XG4iLCJERy5HZW9jbGlja2VyLkhhbmRsZXIuU2lnaHQgPSBERy5HZW9jbGlja2VyLkhhbmRsZXIuRGVmYXVsdC5leHRlbmQoe1xuXG4gICAgaGFuZGxlOiBmdW5jdGlvbihyZXN1bHRzKSB7IC8vIChPYmplY3QsIFN0cmluZykgLT4gUHJvbWlzZVxuICAgICAgICBpZiAoIXJlc3VsdHMuYXR0cmFjdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fcG9wdXAgPSB0aGlzLl92aWV3LmdldFBvcHVwKCk7XG4gICAgICAgIHRoaXMuX2luaXRlZFBvcHVwQ2xvc2UgPSBmYWxzZTtcblxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX2ZpbGxTaWdodE9iamVjdChyZXN1bHRzKSk7XG4gICAgfSxcblxuICAgIF9maWxsU2lnaHRPYmplY3Q6IGZ1bmN0aW9uKHJlc3VsdHMpIHsgLy8gKE9iamVjdCkgLT4gT2JqZWN0XG4gICAgICAgIHZhciBhdHRyYWN0aW9uID0gcmVzdWx0cy5hdHRyYWN0aW9uLFxuICAgICAgICAgICAgZGF0YSA9IHt9LFxuICAgICAgICAgICAgc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBmb290ZXIgPSB7XG4gICAgICAgICAgICAgICAgYnRuczogW1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnZ290bycsXG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogdGhpcy50KCdnb190bycpLFxuICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgfTtcblxuICAgICAgICBpZiAoYXR0cmFjdGlvbi5uYW1lKSB7XG4gICAgICAgICAgICBkYXRhLmJ1aWxkaW5nTmFtZSA9IGF0dHJhY3Rpb24ubmFtZTtcbiAgICAgICAgICAgIGRhdGEucHVycG9zZSA9IGF0dHJhY3Rpb24uc3VidHlwZV9uYW1lO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGF0YS5idWlsZGluZ05hbWUgPSBhdHRyYWN0aW9uLnN1YnR5cGVfbmFtZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRhdGEuZGVzY3JpcHRpb24gPSBhdHRyYWN0aW9uLmRlc2NyaXB0aW9uO1xuXG4gICAgICAgIGRhdGEuZHJpbGxEb3duID0gdGhpcy5fZ2V0RHJpbGxkb3duKGF0dHJhY3Rpb24pO1xuXG4gICAgICAgIGlmICh0aGlzLl9jaGVja0Rlc2NGaWVsZEhlaWdodChkYXRhLmRlc2NyaXB0aW9uKSkge1xuICAgICAgICAgICAgZGF0YS5zaG93TW9yZVRleHQgPSB0aGlzLnQoJ3Nob3dfbW9yZV9hYm91dF9zaWdodCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9vdGVyLmJ0bnNbMF0uaHJlZiA9IHRoaXMuX2dldERpcmVjdGlvbnNVcmwoZGF0YS5idWlsZGluZ05hbWUpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0bXBsOiAnc2lnaHQnLFxuICAgICAgICAgICAgZGF0YTogZGF0YSxcbiAgICAgICAgICAgIGhlYWRlcjogdGhpcy5fdmlldy5yZW5kZXIoe1xuICAgICAgICAgICAgICAgIHRtcGw6ICdwb3B1cEhlYWRlcicsXG4gICAgICAgICAgICAgICAgZGF0YTogeyd0aXRsZSc6IGRhdGEuYnVpbGRpbmdOYW1lfVxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBmb290ZXI6IHRoaXMuX3ZpZXcucmVuZGVyKHtcbiAgICAgICAgICAgICAgICB0bXBsOiAncG9wdXBGb290ZXJCdG5zJyxcbiAgICAgICAgICAgICAgICBkYXRhOiBmb290ZXJcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgYWZ0ZXJSZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGlmIChzZWxmLl9uZWVkU2hvd01vcmUpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5faW5pdFNob3dNb3JlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNlbGYuX2luaXRQb3B1cENsb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfSxcblxuICAgIF9pbml0UG9wdXBDbG9zZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLl9pbml0ZWRQb3B1cENsb3NlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9jb250cm9sbGVyLmdldE1hcCgpLm9uY2UoJ3BvcHVwY2xvc2UnLCBERy5iaW5kKHRoaXMuX2NsZWFyUG9wdXAsIHRoaXMpKTtcbiAgICAgICAgdGhpcy5faW5pdGVkUG9wdXBDbG9zZSA9IHRydWU7XG4gICAgfSxcblxuICAgIF9jbGVhclBvcHVwOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5faW5pdGVkUG9wdXBDbG9zZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9jbGVhckV2ZW50SGFuZGxlcnMoKTtcbiAgICB9LFxuXG4gICAgX3Nob3dNb3JlVGV4dDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuX2Rlc2Muc3R5bGUubWF4SGVpZ2h0ID0gJzEwMCUnO1xuICAgICAgICB0aGlzLl9saW5rLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5fbGluayk7XG4gICAgICAgIHRoaXMuX3BvcHVwLnJlc2l6ZSgpO1xuICAgIH0sXG5cbiAgICBfaW5pdFNob3dNb3JlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5fbGluayA9IHRoaXMuX3BvcHVwLmZpbmRFbGVtZW50KCcuZGctbWFwLWdlb2NsaWNrZXJfX3Nob3ctbW9yZS1zaWdodHMtbGluaycpO1xuICAgICAgICB0aGlzLl9kZXNjID0gdGhpcy5fcG9wdXAuZmluZEVsZW1lbnQoJy5kZy1tYXAtZ2VvY2xpY2tlcl9fc2lnaHQtZGVzY3JpcHRpb24nKTtcblxuICAgICAgICBpZiAodGhpcy5fbGluayAmJiB0aGlzLl9kZXNjKSB7XG4gICAgICAgICAgICB0aGlzLl9hZGRFdmVudEhhbmRsZXIoJ2RnLW1hcC1nZW9jbGlja2VyX19zaG93LW1vcmUtc2lnaHRzLWxpbmsnLCBERy5iaW5kKHRoaXMuX3Nob3dNb3JlVGV4dCwgdGhpcykpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIF9jaGVja0Rlc2NGaWVsZEhlaWdodDogZnVuY3Rpb24oZGVzYykge1xuICAgICAgICB2YXIgZWwgPSBERy5Eb21VdGlsLmNyZWF0ZSgnZGl2JywgJycpLFxuICAgICAgICAgICAgaGVpZ2h0O1xuXG4gICAgICAgIGVsLnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJztcbiAgICAgICAgZWwuaW5uZXJIVE1MID0gZGVzYztcblxuICAgICAgICB0aGlzLl9wb3B1cC5fY29udGVudE5vZGUuYXBwZW5kQ2hpbGQoZWwpO1xuICAgICAgICBoZWlnaHQgPSBlbC5vZmZzZXRIZWlnaHQ7XG4gICAgICAgIHRoaXMuX3BvcHVwLl9jb250ZW50Tm9kZS5yZW1vdmVDaGlsZChlbCk7XG4gICAgICAgIHRoaXMuX25lZWRTaG93TW9yZSA9IChoZWlnaHQgPiA0MCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX25lZWRTaG93TW9yZTtcbiAgICB9XG59KTtcbiIsIkRHLkdlb2NsaWNrZXIuVmlldyA9IERHLkNsYXNzLmV4dGVuZCh7XG5cbiAgICBpbml0aWFsaXplOiBmdW5jdGlvbihtYXAsIG9wdGlvbnMpIHsgLy8gKE9iamVjdCwgT2JqZWN0KVxuICAgICAgICB0aGlzLl9tYXAgPSBtYXA7XG4gICAgICAgIHRoaXMuX3BvcHVwID0gREcucG9wdXAoe1xuICAgICAgICAgICAgbWF4SGVpZ2h0OiAzMDAsXG4gICAgICAgICAgICBtaW5IZWlnaHQ6IDUwLFxuICAgICAgICAgICAgbWF4V2lkdGg6IDM4NSxcbiAgICAgICAgICAgIG1pbldpZHRoOiAzMTAsXG4gICAgICAgICAgICBzcHJhd2xpbmc6IHRydWUsXG4gICAgICAgICAgICBjbG9zZU9uQ2xpY2s6IHRydWVcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMpIHtcbiAgICAgICAgICAgIERHLlV0aWwuc2V0T3B0aW9ucyh0aGlzLCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBpbml0TG9hZGVyOiBmdW5jdGlvbihpc1NtYWxsKSB7XG4gICAgICAgIHZhciBsb2FkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgbG9hZGVyLmlubmVySFRNTCA9IERHLmR1c3QoJ0RHR2VvY2xpY2tlci9sb2FkZXInLCB7XG4gICAgICAgICAgICBzbWFsbDogaXNTbWFsbCxcbiAgICAgICAgICAgIGFuaW06IHRoaXMuX2RldGVjdENzc0FuaW1hdGlvbigpXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBsb2FkZXIuZmlyc3RDaGlsZDtcbiAgICB9LFxuXG4gICAgc2hvd1BvcHVwOiBmdW5jdGlvbihsYXRsbmcsIGNvbnRlbnQpIHsgLy8gKE9iamVjdClcbiAgICAgICAgdGhpcy5fcG9wdXBcbiAgICAgICAgICAgIC5zZXRDb250ZW50KGNvbnRlbnQpXG4gICAgICAgICAgICAuc2V0TGF0TG5nKGxhdGxuZylcbiAgICAgICAgICAgIC5vcGVuT24odGhpcy5fbWFwKTtcbiAgICB9LFxuXG4gICAgcmVuZGVyOiBmdW5jdGlvbihvcHRpb25zKSB7IC8vIChPYmplY3QpIC0+IFN0cmluZ1xuICAgICAgICB2YXIgaHRtbCxcbiAgICAgICAgICAgIGRhdGEgPSB7fTtcblxuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgb3B0aW9ucy50bXBsID0gb3B0aW9ucy50bXBsIHx8ICcnO1xuXG4gICAgICAgIGlmIChvcHRpb25zLmRhdGEpIHtcbiAgICAgICAgICAgIGh0bWwgPSB0aGlzLnJlbmRlclRlbXBsYXRlKG9wdGlvbnMudG1wbCwgb3B0aW9ucy5kYXRhKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGh0bWwgPSBvcHRpb25zLnRtcGw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0aW9ucy5iZWZvcmVSZW5kZXIpIHtcbiAgICAgICAgICAgIG9wdGlvbnMuYmVmb3JlUmVuZGVyKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0aW9ucy5wb3B1cCkge1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMuaGVhZGVyKSB7XG4gICAgICAgICAgICAgICAgZGF0YS5oZWFkZXIgPSBvcHRpb25zLmhlYWRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvcHRpb25zLmZvb3Rlcikge1xuICAgICAgICAgICAgICAgIGRhdGEuZm9vdGVyID0gb3B0aW9ucy5mb290ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkYXRhLmJvZHkgPSBodG1sO1xuICAgICAgICAgICAgdGhpcy5fcG9wdXAuc2V0Q29udGVudChkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy5hZnRlclJlbmRlcikge1xuICAgICAgICAgICAgb3B0aW9ucy5hZnRlclJlbmRlcigpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGh0bWw7XG4gICAgfSxcblxuICAgIHJlbmRlclRlbXBsYXRlOiBmdW5jdGlvbihuYW1lLCBkYXRhKSB7XG4gICAgICAgIHJldHVybiBERy5kdXN0KCdER0dlb2NsaWNrZXIvJyArIG5hbWUsIGRhdGEpO1xuICAgIH0sXG5cbiAgICByZW5kZXJQb3B1cDogZnVuY3Rpb24ob3B0aW9ucykgeyAvLyAoT2JqZWN0KSAtPiBTdHJpbmdcbiAgICAgICAgb3B0aW9ucy5wb3B1cCA9IHRydWU7XG4gICAgICAgIHJldHVybiB0aGlzLnJlbmRlcihvcHRpb25zKTtcbiAgICB9LFxuXG4gICAgZ2V0UG9wdXA6IGZ1bmN0aW9uKCkgeyAvLyAoKSAtPiBPYmplY3RcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BvcHVwO1xuICAgIH0sXG5cbiAgICBfZGV0ZWN0Q3NzQW5pbWF0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGFuaW1hdGlvbiA9IGZhbHNlLFxuICAgICAgICAgICAgZG9tUHJlZml4ZXMgPSAnV2Via2l0IE1veiBPIG1zIEtodG1sJy5zcGxpdCgnICcpLFxuICAgICAgICAgICAgZWxtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgICAgICAgaWYgKGVsbS5zdHlsZS5hbmltYXRpb25OYW1lKSB7IGFuaW1hdGlvbiA9IHRydWU7IH1cblxuICAgICAgICBpZiAoYW5pbWF0aW9uID09PSBmYWxzZSkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkb21QcmVmaXhlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChlbG0uc3R5bGVbZG9tUHJlZml4ZXNbaV0gKyAnQW5pbWF0aW9uTmFtZSddICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhbmltYXRpb247XG4gICAgfVxufSk7XG4iLCJERy5HZW9jbGlja2VyLkNvbnRyb2xsZXIgPSBERy5DbGFzcy5leHRlbmQoe1xuXG4gICAgb3B0aW9uczoge1xuICAgICAgICAvLyBpZiBoYW5kbGVyIHdvcmtlZCBzdWNjZXNzZnVsbHksIGl0IHNob3VsZCByZXR1cm4gcmVuZGVyaW5nIG9iamVjdCB0aGF0IHdpbGwgYmUgcHJvY2Vzc2VkIGluIFZpZXcgLCBvdGhlcndpc2UgaXQgc2hvdWxkIHJldHVybiBmYWxzZVxuICAgICAgICAvLyBkZWZhdWx0IGhhbmRsZXIgYWx3YXlzIHNob3VsZCByZXR1cm4gcmVuZGVyaW5nIG9iamVjdFxuICAgICAgICAnaGFuZGxlcnNTZXF1ZW5jZSc6IHtcbiAgICAgICAgICAgICdwb2knOiBERy5HZW9jbGlja2VyLkhhbmRsZXIuUG9pLFxuICAgICAgICAgICAgJ2F0dHJhY3Rpb24nOiBERy5HZW9jbGlja2VyLkhhbmRsZXIuU2lnaHQsXG4gICAgICAgICAgICAnYnVpbGRpbmcnOiBERy5HZW9jbGlja2VyLkhhbmRsZXIuSG91c2UsXG4gICAgICAgICAgICAnc3RyZWV0JzogREcuR2VvY2xpY2tlci5IYW5kbGVyLkNpdHlBcmVhLFxuICAgICAgICAgICAgJ2FkbV9kaXYucGxhY2UnOiBERy5HZW9jbGlja2VyLkhhbmRsZXIuQ2l0eUFyZWEsXG4gICAgICAgICAgICAnYWRtX2Rpdi5kaXN0cmljdCc6IERHLkdlb2NsaWNrZXIuSGFuZGxlci5DaXR5QXJlYSxcbiAgICAgICAgICAgICdhZG1fZGl2LmRpdmlzaW9uJzogREcuR2VvY2xpY2tlci5IYW5kbGVyLkNpdHlBcmVhLFxuICAgICAgICAgICAgJ2FkbV9kaXYuc2V0dGxlbWVudCc6IERHLkdlb2NsaWNrZXIuSGFuZGxlci5DaXR5QXJlYSxcbiAgICAgICAgICAgICdhZG1fZGl2LmNpdHknOiBERy5HZW9jbGlja2VyLkhhbmRsZXIuQ2l0eUFyZWEsXG5cbiAgICAgICAgICAgICdkZWZhdWx0JzogREcuR2VvY2xpY2tlci5IYW5kbGVyLkRlZmF1bHQsXG5cbiAgICAgICAgICAgICdhcGlFcnJvcic6IERHLkdlb2NsaWNrZXIuSGFuZGxlci5BcGlFcnJvclxuXG4vLyAgICAgICAgICAgIHN0YXRpb25fcGxhdGZvcm1cbi8vICAgICAgICAgICAgcHJvamVjdFxuLy8gICAgICAgICAgICBzdGF0aW9uXG4vLyAgICAgICAgICAgIGNyb3NzYnJvYWRcbi8vICAgICAgICAgICAgbWV0cm9cbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBpbml0aWFsaXplOiBmdW5jdGlvbihtYXAsIG9wdGlvbnMpIHsgLy8gKE9iamVjdCwgT2JqZWN0KVxuICAgICAgICB0aGlzLl9vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgdGhpcy5faGFuZGxlcnMgPSB7fTtcbiAgICAgICAgdGhpcy5fY2F0YWxvZ0FwaSA9IG5ldyBERy5HZW9jbGlja2VyLlByb3ZpZGVyLkNhdGFsb2dBcGkobWFwKTtcbiAgICAgICAgdGhpcy5fbWFwID0gbWFwO1xuICAgICAgICB0aGlzLl92aWV3ID0gbmV3IERHLkdlb2NsaWNrZXIuVmlldyhtYXApO1xuXG4gICAgICAgIHRoaXMuX3JlbmRlckhhbmRsZXJSZXN1bHQgPSBERy5iaW5kKHRoaXMuX3JlbmRlckhhbmRsZXJSZXN1bHQsIHRoaXMpO1xuICAgICAgICB0aGlzLl9sYXN0SGFuZGxlQ2xpY2tBcmd1bWVudHMgPSBudWxsO1xuICAgIH0sXG5cbiAgICBoYW5kbGVQb3B1cENsb3NlOiBmdW5jdGlvbihwb3B1cCkgeyAvLyAoT2JqZWN0KVxuICAgICAgICBpZiAocG9wdXAgPT09IHRoaXMuX3ZpZXcuZ2V0UG9wdXAoKSkge1xuICAgICAgICAgICAgdGhpcy5fbGFzdEhhbmRsZUNsaWNrQXJndW1lbnRzID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX2NhdGFsb2dBcGkuY2FuY2VsTGFzdFJlcXVlc3QoKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBoYW5kbGVDbGljazogZnVuY3Rpb24obGF0bG5nLCB6b29tLCBtZXRhKSB7IC8vIChPYmplY3QsIE51bWJlciwgT2JqZWN0KVxuICAgICAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKTtcblxuICAgICAgICBmdW5jdGlvbiBiZWZvcmVSZXF1ZXN0KCkge1xuICAgICAgICAgICAgdmFyIGxvYWRlciA9IHNlbGYuX3ZpZXcuaW5pdExvYWRlcigpO1xuICAgICAgICAgICAgc2VsZi5fdmlldy5fcG9wdXAuY2xlYXIoKTtcbiAgICAgICAgICAgIHNlbGYuX3ZpZXcuc2hvd1BvcHVwKGxhdGxuZywgbG9hZGVyKTtcbiAgICAgICAgICAgIHNlbGYuX2xhc3RIYW5kbGVDbGlja0FyZ3VtZW50cyA9IGFyZ3M7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobWV0YSAmJiBtZXRhLmxpbmtlZCAmJiBtZXRhLmxpbmtlZC50eXBlICE9ICdzaWdodCcgJiYgbWV0YS5saW5rZWQudHlwZSAhPSAnYXR0cmFjdGlvbicpIHtcbiAgICAgICAgICAgIGlmIChtZXRhLmxpbmtlZC50eXBlICE9ICdicmFuY2gnICYmIG1ldGEubGlua2VkLnR5cGUgIT0gJ2J1aWxkaW5nJykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYmVmb3JlUmVxdWVzdCgpO1xuICAgICAgICAgICAgc2VsZi5oYW5kbGVSZXNwb25zZSh7XG4gICAgICAgICAgICAgICAgcG9pOiB7XG4gICAgICAgICAgICAgICAgICAgIHJlZmVyZW5jZTogbWV0YS5saW5rZWRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2NhdGFsb2dBcGkuZ2V0TG9jYXRpb25zKHtcbiAgICAgICAgICAgICAgICBsYXRsbmc6IGxhdGxuZyxcbiAgICAgICAgICAgICAgICB6b29tOiB6b29tLFxuICAgICAgICAgICAgICAgIGJlZm9yZVJlcXVlc3Q6IGJlZm9yZVJlcXVlc3RcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgc2VsZi5oYW5kbGVSZXNwb25zZShyZXN1bHQpO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBzZWxmLmhhbmRsZVJlc3BvbnNlKGVycm9yKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIGhhbmRsZVJlc3BvbnNlOiBmdW5jdGlvbihyZXN1bHQpIHsgLy8gKE9iamVjdClcbiAgICAgICAgdmFyIHR5cGU7XG5cbiAgICAgICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgICAgICAgIHRoaXMuX3J1bkhhbmRsZXIoJ2RlZmF1bHQnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZXN1bHQgPT09ICdubyB0eXBlJykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJlc3VsdCA9PT0gJ2Fib3J0ZWQnKSB7XG4gICAgICAgICAgICB0aGlzLl9ydW5IYW5kbGVyKCdhcGlFcnJvcicpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdHlwZSA9IHRoaXMuZmluZEhhbmRsZXIocmVzdWx0KTtcblxuICAgICAgICB3aGlsZSAodHlwZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3J1bkhhbmRsZXIodHlwZSwgcmVzdWx0KSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlbGV0ZSByZXN1bHRbdHlwZV07XG5cbiAgICAgICAgICAgIHR5cGUgPSB0aGlzLmZpbmRIYW5kbGVyKHJlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcnVuSGFuZGxlcignZGVmYXVsdCcpO1xuICAgIH0sXG5cbiAgICBmaW5kSGFuZGxlcjogZnVuY3Rpb24ocmVzdWx0KSB7IC8vIChPYmplY3QpIC0+IFN0cmluZ3xOdWxsXG4gICAgICAgIGZvciAodmFyIGkgaW4gdGhpcy5vcHRpb25zLmhhbmRsZXJzU2VxdWVuY2UpIHtcbiAgICAgICAgICAgIGlmIChyZXN1bHRbaV0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH0sXG5cbiAgICBnZXRDYXRhbG9nQXBpOiBmdW5jdGlvbigpIHsgLy8gKCkgLT4gT2JqZWN0XG4gICAgICAgIHJldHVybiB0aGlzLl9jYXRhbG9nQXBpO1xuICAgIH0sXG5cbiAgICBnZXRNYXA6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWFwO1xuICAgIH0sXG5cbiAgICByZWludm9rZUhhbmRsZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5fbGFzdEhhbmRsZUNsaWNrQXJndW1lbnRzKSB7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZUNsaWNrLmFwcGx5KHRoaXMsIHRoaXMuX2xhc3RIYW5kbGVDbGlja0FyZ3VtZW50cyk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgX3J1bkhhbmRsZXI6IGZ1bmN0aW9uKHR5cGUsIGRhdGEpIHsgLy8gKFN0cmluZywgT2JqZWN0KSAtPiBCb29sZWFuXG4gICAgICAgIGRhdGEgPSBkYXRhIHx8IHt9O1xuICAgICAgICB0aGlzLl9pbml0SGFuZGxlck9uY2UodHlwZSk7XG4gICAgICAgIHRoaXMuX2hhbmRsZXJzW3R5cGVdLmFkZENsaWNrRXZlbnQoKTtcblxuICAgICAgICB2YXIgaGFuZGxlclJlc3VsdCA9IHRoaXMuX2hhbmRsZXJzW3R5cGVdLmhhbmRsZShkYXRhLCB0eXBlKTtcblxuICAgICAgICByZXR1cm4gaGFuZGxlclJlc3VsdCAmJiBoYW5kbGVyUmVzdWx0LnRoZW4gP1xuICAgICAgICAgICAgaGFuZGxlclJlc3VsdC50aGVuKHRoaXMuX3JlbmRlckhhbmRsZXJSZXN1bHQpIDpcbiAgICAgICAgICAgIGhhbmRsZXJSZXN1bHQ7XG4gICAgfSxcblxuICAgIF9yZW5kZXJIYW5kbGVyUmVzdWx0OiBmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgdGhpcy5fdmlldy5yZW5kZXJQb3B1cChyZXN1bHQpO1xuICAgIH0sXG5cbiAgICBfaW5pdEhhbmRsZXJPbmNlOiBmdW5jdGlvbih0eXBlKSB7IC8vIChTdHJpbmcpXG4gICAgICAgIGlmICghdGhpcy5faGFuZGxlcnNbdHlwZV0pIHtcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZXJzW3R5cGVdID0gbmV3IHRoaXMub3B0aW9ucy5oYW5kbGVyc1NlcXVlbmNlW3R5cGVdKHRoaXMsIHRoaXMuX3ZpZXcsIHRoaXMuX21hcCwgdGhpcy5fb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9XG59KTtcbiIsIkRHLkdlb2NsaWNrZXIuSGFuZGxlci5EZWZhdWx0LkRpY3Rpb25hcnkuaXQgPSBERy5leHRlbmQoe1xuICAgIGFwaUVycm9yVGl0bGU6ICdPaCBvaCwgY1xcJ8OoJm5ic3A7dW4mbmJzcDtlcnJvcmUnLFxuICAgIGFwaUVycm9yQm9keTogJ0kgbm9zdHJpIHNlcnZlciBzaSByaWZpdXRhbm8gZGkgcmlzcG9uZGVyZS4gU3RpYW1vIGZhY2VuZG8gZGVsIG5vc3RybyBtZWdsaW8gcGVyIGNvbnZpbmNlcmxpIGEmbmJzcDtjb21wb3J0YXJzaSBiZW5lLiBSaXRvcm5hIHRyYSBxdWFsY2hlIG1pbnV0by4nLFxuICAgIHdlX2hhdmVfbm90IDogJ05vbiBkaXNwb25pYW1vIGFuY29yYSBkaSBpbmZvcm1hemlvbmkgc3UgcXVlc3RvIHBvc3RvJyxcbiAgICBub25hbWUgOiAnTm9tZSBub24gaW5kaWNhdG8nLFxuICAgICdhZG1fZGl2LnBsYWNlJyA6ICdMdW9nbycsXG4gICAgJ2FkbV9kaXYuZGl2aXNpb24nIDogJ1pvbmEnLFxuICAgICdhZG1fZGl2LnNldHRsZW1lbnQnIDogJ0NvbXVuZScsXG4gICAgc3RyZWV0IDogJ1ZpYScsXG4gICAgJ2FkbV9kaXYuZGlzdHJpY3QnIDogJ011bmljaXBhbGl0w6AnLFxuICAgICdhZG1fZGl2LmNpdHknIDogJ9ChaXR0w6AnLFxuICAgIGdvX3RvIDogJ0NvbWUgYXJyaXZhcmUnLFxuICAgIHNob3dfb3JnYW5pemF0aW9uX2luX2J1aWxkaW5nIDogWyd7bn0gYXppZW5kYSBpbiB0dXR0bycsICd7bn0gYXppZW5kZSBpbiB0dXR0byddLFxuICAgIHNob3dfbW9yZV9hYm91dF9zaWdodCA6ICdNYWdnaW9yaSBpbmZvcm1hemlvbmknLFxuICAgIGJhY2tfYnV0dG9uOiAnSW5kaWV0cm8nLFxuICAgIG5fZmxvb3JzIDogWyd7bn0gcGlhbm8nLCAne259IHBpYW5pJ11cbn0sIERHLkRpY3Rpb25hcnkuaXQpO1xuIiwiREcuR2VvY2xpY2tlci5IYW5kbGVyLkRlZmF1bHQuRGljdGlvbmFyeS5ydSA9IERHLmV4dGVuZCh7XG4gICAgYXBpRXJyb3JUaXRsZTogJ9Ce0YjQuNCx0L7Rh9C60LAg0LLRi9GI0LvQsCcsXG4gICAgYXBpRXJyb3JCb2R5OiAn0J3QsNGI0Lgg0YHQtdGA0LLQtdGA0Ysg0L7RgtC60LDQt9GL0LLQsNGO0YLRgdGPINC+0YLQstC10YfQsNGC0YwuINCc0Ysg0YPQttC1INC/0YDQuNC60LvQsNC00YvQstCw0LXQvCDQstGB0LUg0YHQuNC70YssINGH0YLQvtCx0Ysg0LLRgNCw0LfRg9C80LjRgtGMINC40YUuINCS0L7Qt9Cy0YDQsNGJ0LDQudGC0LXRgdGMINC6Jm5ic3A70L3QsNC8INGH0LXRgNC10LcmbmJzcDvQvdC10YHQutC+0LvRjNC60L4g0LzQuNC90YPRgi4nLFxuICAgIHdlX2hhdmVfbm90IDogJ9Ct0YLQviDQvNC10YHRgtC+INC80Ysg0LXRidGRINC90LUg0YPRgdC/0LXQu9C4INC40LfRg9GH0LjRgtGMJyxcbiAgICBub25hbWU6ICfQkdC10Lcg0L3QsNC30LLQsNC90LjRjycsXG4gICAgJ2FkbV9kaXYucGxhY2UnOiAn0JzQtdGB0YLQvicsXG4gICAgJ2FkbV9kaXYuZGl2aXNpb24nOiAn0J7QutGA0YPQsycsXG4gICAgJ2FkbV9kaXYuc2V0dGxlbWVudCc6ICfQndCw0YHQtdC70LXQvdC90YvQuSDQv9GD0L3QutGCJyxcbiAgICBzdHJlZXQ6ICfQo9C70LjRhtCwJyxcbiAgICAnYWRtX2Rpdi5kaXN0cmljdCc6ICfQoNCw0LnQvtC9JyxcbiAgICAnYWRtX2Rpdi5jaXR5JzogJ9CT0L7RgNC+0LQnLFxuICAgIGdvX3RvOiAn0J/RgNC+0LXRhdCw0YLRjCDRgdGO0LTQsCcsXG4gICAgc2hvd19vcmdhbml6YXRpb25faW5fYnVpbGRpbmc6IFsn0JLRgdC10LPQviB7bn0g0L7RgNCz0LDQvdC40LfQsNGG0LjRjycsICfQktGB0LXQs9C+IHtufSDQvtGA0LPQsNC90LjQt9Cw0YbQuNC4JywgJ9CS0YHQtdCz0L4ge259INC+0YDQs9Cw0L3QuNC30LDRhtC40LknXSxcbiAgICBzaG93X21vcmVfYWJvdXRfc2lnaHQ6ICfQn9C+0LTRgNC+0LHQvdC10LUnLFxuICAgIGJhY2tfYnV0dG9uOiAn0J3QsNC30LDQtCcsXG4gICAgbl9mbG9vcnM6IFsne259INGN0YLQsNC2JywgJ3tufSDRjdGC0LDQttCwJywgJ3tufSDRjdGC0LDQttC10LknXVxufSwgREcuRGljdGlvbmFyeS5ydSk7XG4iLCJERy5HZW9jbGlja2VyLkhhbmRsZXIuRGVmYXVsdC5EaWN0aW9uYXJ5LmVuID0gREcuZXh0ZW5kKHtcbiAgICBhcGlFcnJvclRpdGxlOiAnT29wcyEgRXJyb3IgZGV0ZWN0ZWQuJyxcbiAgICBhcGlFcnJvckJvZHk6ICdPdXIgc2VydmVycyBhcmUgbm90IHJlc3BvbmRpbmcuIFdlIGFyZSBkb2luZyBvdXIgYmVzdCB0byBzdHJhaWdodGVuIHRoZW0gb3V0LiBQbGVhc2UgcmV0dXJuIHRvIHVzIGluIGEgZmV3IG1pbnV0ZXMuJyxcbiAgICB3ZV9oYXZlX25vdDogJ1dlIGhhdmVuXFwndCBjb2xsZWN0ZWQgaW5mbyBhYm91dCB0aGlzIHBsYWNlIHlldCcsXG4gICAgbm9uYW1lIDogJ05vIG5hbWUnLFxuICAgICdhZG1fZGl2LnBsYWNlJyA6ICdQbGFjZScsXG4gICAgJ2FkbV9kaXYuZGl2aXNpb24nIDogJ0FyZWEnLFxuICAgICdhZG1fZGl2LnNldHRsZW1lbnQnIDogJ1ZpbGxhZ2UnLFxuICAgIHN0cmVldCA6ICdTdHJlZXQnLFxuICAgICdhZG1fZGl2LmRpc3RyaWN0JyA6ICdEaXN0cmljdCcsXG4gICAgJ2FkbV9kaXYuY2l0eScgOiAnQ2l0eScsXG4gICAgZ29fdG8gOiAnRGlyZWN0aW9ucyB0byBoZXJlJyxcbiAgICBzaG93X29yZ2FuaXphdGlvbl9pbl9idWlsZGluZyA6IFsne259IG9yZ2FuaXphdGlvbiB0b3RhbCcsICd7bn0gb3JnYW5pemF0aW9ucyB0b3RhbCddLFxuICAgIGJhY2tfYnV0dG9uIDogJ0JhY2snLFxuICAgIHNob3dfbW9yZV9hYm91dF9zaWdodCA6ICdNb3JlIGluZm9ybWF0aW9uJyxcbiAgICBuX2Zsb29ycyA6IFsne259IGZsb29yJywgJ3tufSBmbG9vcnMnXVxufSwgREcuRGljdGlvbmFyeS5lbik7XG4iLCJERy5HZW9jbGlja2VyLkhhbmRsZXIuRGVmYXVsdC5EaWN0aW9uYXJ5LmNzID0gREcuZXh0ZW5kKHtcbiAgICBhcGlFcnJvclRpdGxlOiAnQ2h5YmnEjWthIHNlJm5ic3A7dmxvdWRpbGEnLFxuICAgIGFwaUVycm9yQm9keTogJ05hxaFlIHNlcnZlcnkgb2Rtw610YWrDrSByZWFnb3ZhdC4gSmnFviBueW7DrSB2eW5ha2zDoWTDoW1lIHZlxaFrZXLDqSDDunNpbMOtLCBhYnljaG9tIGplIHDFmWl2ZWRsaSBrIHJvenVtdS4gWmt1c3RlIGFrY2kgb3Bha292YXQgemEgbsSba29saWsgbWludXQuJyxcbiAgICB3ZV9oYXZlX25vdCA6ICdPIHRvbXRvIG3DrXN0xJsgemF0w61tIG5lbcOhbWUgaW5mb3JtYWNlJyxcbiAgICBub25hbWUgOiAnQmV6IG7DoXp2dScsXG4gICAgJ2FkbV9kaXYucGxhY2UnIDogJ03DrXN0bycsXG4gICAgJ2FkbV9kaXYuZGl2aXNpb24nIDogJ1NwcsOhdm7DrSBvYnZvZCcsXG4gICAgJ2FkbV9kaXYuc2V0dGxlbWVudCcgOiAnT2JlYycsXG4gICAgc3RyZWV0IDogJ1VsaWNlJyxcbiAgICAnYWRtX2Rpdi5kaXN0cmljdCcgOiAnTcSbc3Rza8OhIMSNw6FzdCcsXG4gICAgJ2FkbV9kaXYuY2l0eScgOiAnTcSbc3RvJyxcbiAgICBnb190byA6ICdDZXN0YSBzZW0nLFxuICAgIHNob3dfb3JnYW5pemF0aW9uX2luX2J1aWxkaW5nIDogWydDZWxrZW0ge259IG9yZ2FuaXphY2UnLCAnQ2Vsa2VtIHtufSBvcmdhbml6YWNlJywgJ0NlbGtlbSB7bn0gb3JnYW5pemFjw60nXSxcbiAgICBiYWNrX2J1dHRvbiA6ICdacMSbdCcsXG4gICAgc2hvd19tb3JlX2Fib3V0X3NpZ2h0IDogJ1bDrWNlJyxcbiAgICBuX2Zsb29ycyA6IFsne259IHBhdHJvJywgJ3tufSBwYXRyYScsICd7bn0gcGF0ZXInXVxufSwgREcuRGljdGlvbmFyeS5jcyk7XG4iLCJERy5HZW9jbGlja2VyLkhhbmRsZXIuRGVmYXVsdC5EaWN0aW9uYXJ5LmVzID0gREcuZXh0ZW5kKHtcbiAgICBhcGlFcnJvclRpdGxlOiAnVmF5YSwgaGEgb2N1cnJpZG8gdW4gZXJyb3InLFxuICAgIGFwaUVycm9yQm9keTogJ051ZXN0cm9zIHNlcnZpZG9yZXMgc2UgbmllZ2FuIGEgcmVzcG9uZGVyLiBZYSBub3MgZXN0YW1vcyBlc2ZvcnphbmRvIHBvciBoYWNlcmxvcyBlbnRyYXIgZW4gcmF6w7NuLiBWdWVsdmEgY29uIG5vc290cm9zwqBwYXNhZG9zIHVub3MgbWludXRvcy4nLFxuICAgIHdlX2hhdmVfbm90IDogJ1RvZGF2w61hIG5vIGhlbW9zIHJlY29waWxhZG8gbGEgaW5mb3JtYWNpw7NuIHNvYnJlIGVzdGUgbHVnYXInLFxuICAgIG5vbmFtZSA6ICdTaW4gbm9tYnJlJyxcbiAgICAnYWRtX2Rpdi5wbGFjZScgOiAnTHVnYXInLFxuICAgICdhZG1fZGl2LmRpdmlzaW9uJyA6ICdDb211bmEnLFxuICAgICdhZG1fZGl2LnNldHRsZW1lbnQnIDogJ1BvYmxhY2nDs24nLFxuICAgIHN0cmVldCA6ICdDYWxsZScsXG4gICAgJ2FkbV9kaXYuZGlzdHJpY3QnIDogJ0NvbXVuYScsXG4gICAgJ2FkbV9kaXYuY2l0eScgOiAnQ2l1ZGFkJyxcbiAgICBnb190byA6ICdJciBwYXJhIGFsbMOhJyxcbiAgICBzaG93X29yZ2FuaXphdGlvbl9pbl9idWlsZGluZyA6IFsnVG90YWwge259IG9yZ2FuaXphY2nDs24nLCAnVG90YWwge259IG9yZ2FuaXphY2lvbmVzJywgJ1RvdGFsIHtufSBvcmdhbml6YWNpb25lcyddLFxuICAgIHNob3dfbW9yZV9hYm91dF9zaWdodCA6ICdSZWFkIG1vcmUnLFxuICAgIGJhY2tfYnV0dG9uOiAnQXRyw6FzJyxcbiAgICBuX2Zsb29ycyA6IFsne259IHBpc28nLCAne259IHBpc29zJ11cbn0sIERHLkRpY3Rpb25hcnkuZXMpO1xuIiwidmFyIEZpcm1DYXJkID0gZnVuY3Rpb24gKGZpcm0sIG9wdGlvbnMpIHtcbiAgICB0aGlzLl9zZXRPcHRpb25zKG9wdGlvbnMpO1xuICAgIHRoaXMuX2Zpcm1Db250ZW50T2JqZWN0ID0ge307XG4gICAgdGhpcy5fc2NoZWR1bGUgPSBuZXcgRmlybUNhcmQuU2NoZWR1bGUoe1xuICAgICAgICBsb2NhbExhbmc6IHRoaXMub3B0aW9ucy5sYW5nLFxuICAgICAgICBkaWN0OiB0aGlzLmRpY3RcbiAgICB9KTtcblxuICAgIHRoaXMucmVuZGVyKGZpcm0pO1xufTtcblxuRmlybUNhcmQucHJvdG90eXBlID0ge1xuXG4gICAgcmVuZGVyOiBmdW5jdGlvbiAoZmlybUlkKSB7XG4gICAgICAgIGlmICghZmlybUlkKSB7IHJldHVybjsgfVxuXG4gICAgICAgIGlmIChmaXJtSWQgIT09IHRoaXMuX2Zpcm1JZCkge1xuICAgICAgICAgICAgdGhpcy5fZmlybUNvbnRlbnRPYmplY3QgPSB7fTtcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlckNhcmRCeUlkKGZpcm1JZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl90b2dnbGVFdmVudEhhbmRsZXJzKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5fZmlybUNvbnRlbnRPYmplY3Q7XG4gICAgfSxcblxuICAgIGdldFNjaGVkdWxlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zY2hlZHVsZTtcbiAgICB9LFxuXG4gICAgZ2V0Q29udGFpbmVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb250YWluZXI7XG4gICAgfSxcblxuICAgIF9yZW5kZXJDYXJkQnlJZDogZnVuY3Rpb24gKGZpcm1JZCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgdGhpcy5vcHRpb25zLmFqYXgoZmlybUlkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgICAgICAgIGlmICghcmVzKSB7IHJldHVybiBmYWxzZTsgfVxuICAgICAgICAgICAgdmFyIGRhdGEgPSByZXMucmVzdWx0Lml0ZW1zO1xuICAgICAgICAgICAgaWYgKGRhdGEgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5fZmlybURhdGEgPSBkYXRhWzBdO1xuXG4gICAgICAgICAgICAgICAgLy8gU3VwcG9ydCBmb3Igb2xkIFdlYkFQSSBmb3JtYXQuXG4gICAgICAgICAgICAgICAgLy8gVE9ETzogcmVtb3ZlIHRoaXMgY2FsbCBhZnRlciBXZWJBUEkgcmVsZWFzZVxuICAgICAgICAgICAgICAgIHNlbGYuX2NvbnZlcnRXZWJzaXRlKCk7XG5cbiAgICAgICAgICAgICAgICBzZWxmLl9maXJtSWQgPSBmaXJtSWQ7XG4gICAgICAgICAgICAgICAgc2VsZi5fcmVuZGVyRmlybUNhcmQoKTtcbiAgICAgICAgICAgICAgICBzZWxmLl90b2dnbGVFdmVudEhhbmRsZXJzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgc2VsZi5fcmVuZGVyRXJyb3IoKTtcbiAgICAgICAgfSk7XG4gICAgfSxcblxuICAgIF9jcmVhdGVGaXJtQ29udGFpbmVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBmaXJtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGZpcm0uc2V0QXR0cmlidXRlKCdpZCcsICdkZy1tYXAtZmlybS1mdWxsLScgKyB0aGlzLl9maXJtSWQpO1xuICAgICAgICBmaXJtLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnZGctbWFwLWZpcm0tZnVsbCcpO1xuXG4gICAgICAgIHJldHVybiBmaXJtO1xuICAgIH0sXG5cbiAgICBfZ2V0UGF5bWVudFR5cGVzOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gW10sXG4gICAgICAgICAgICBncm91cE5hbWUgPSAnZ2VuZXJhbF9wYXltZW50X3R5cGUnO1xuXG4gICAgICAgIGlmICghZGF0YS5hdHRyaWJ1dGVfZ3JvdXBzKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG5cbiAgICAgICAgZGF0YS5hdHRyaWJ1dGVfZ3JvdXBzLmZvckVhY2goZnVuY3Rpb24gKGdyb3VwKSB7XG4gICAgICAgICAgICBpZiAoZ3JvdXAubmFtZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZ3JvdXAuYXR0cmlidXRlcy5mb3JFYWNoKGZ1bmN0aW9uIChhdHRyKSB7XG4gICAgICAgICAgICAgICAgaWYgKGF0dHIudGFnLnN1YnN0cmluZygwLCBncm91cE5hbWUubGVuZ3RoKSA9PT0gZ3JvdXBOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGF0dHIubmFtZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSxcblxuICAgIF9ncm91cFJ1YnJpY3M6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSB7XG4gICAgICAgICAgICBwcmltYXJ5OiBbXSxcbiAgICAgICAgICAgIGFkZGl0aW9uYWw6IFtdXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKCFkYXRhLnJ1YnJpY3MgfHwgIWRhdGEucnVicmljcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cblxuICAgICAgICBkYXRhLnJ1YnJpY3MuZm9yRWFjaChmdW5jdGlvbiAocnVicmljKSB7XG4gICAgICAgICAgICByZXN1bHRbcnVicmljLmtpbmRdLnB1c2gocnVicmljKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9LFxuXG4gICAgLy8gU3VwcG9ydCBmb3Igb2xkIFdlYkFQSSBmb3JtYXQuXG4gICAgLy8gVE9ETzogcmVtb3ZlIHRoaXMgZnVuY3Rpb24gYWZ0ZXIgV2ViQVBJIHJlbGVhc2VcbiAgICBfY29udmVydFdlYnNpdGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9maXJtRGF0YS5jb250YWN0X2dyb3Vwcykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZmlybURhdGEuY29udGFjdF9ncm91cHMuZm9yRWFjaChmdW5jdGlvbiAoZ3JvdXApIHtcbiAgICAgICAgICAgIGlmICghZ3JvdXAuY29udGFjdHMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGdyb3VwLmNvbnRhY3RzLmZvckVhY2goZnVuY3Rpb24gKGNvbnRhY3QpIHtcbiAgICAgICAgICAgICAgICBpZiAoY29udGFjdC50eXBlICE9ICd3ZWJzaXRlJykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKCFjb250YWN0LnVybCkge1xuICAgICAgICAgICAgICAgICAgICBjb250YWN0LnVybCA9IGNvbnRhY3QudmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0sXG5cbiAgICBfcmVuZGVyRmlybUNhcmQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGZpcm1DYXJkQm9keSwgc2NoZWR1bGUsIGZvcmVjYXN0LCBsaW5rcywgYnRucywgcGF5bWVudFR5cGVzLCBydWJyaWNzLFxuICAgICAgICAgICAgZGF0YSA9IHRoaXMuX2Zpcm1EYXRhLFxuICAgICAgICAgICAgY29udGFpbmVyID0gdGhpcy5fY29udGFpbmVyID0gdGhpcy5fY3JlYXRlRmlybUNvbnRhaW5lcigpO1xuXG4gICAgICAgIHNjaGVkdWxlID0gdGhpcy5fc2NoZWR1bGUudHJhbnNmb3JtKGRhdGEuc2NoZWR1bGUsIHtcbiAgICAgICAgICAgIHpvbmVPZmZzZXQ6IHRoaXMub3B0aW9ucy50aW1lem9uZU9mZnNldCxcbiAgICAgICAgICAgIGFwaUxhbmc6IHRoaXMub3B0aW9ucy5sYW5nLFxuICAgICAgICAgICAgbG9jYWxMYW5nOiB0aGlzLm9wdGlvbnMubGFuZ1xuICAgICAgICB9KTtcblxuICAgICAgICBmb3JlY2FzdCA9IHRoaXMuX3NjaGVkdWxlLmZvcmVjYXN0KHNjaGVkdWxlKTtcblxuICAgICAgICBwYXltZW50VHlwZXMgPSB0aGlzLl9nZXRQYXltZW50VHlwZXMoZGF0YSk7XG4gICAgICAgIHJ1YnJpY3MgPSB0aGlzLl9ncm91cFJ1YnJpY3MoZGF0YSk7XG5cbiAgICAgICAgZmlybUNhcmRCb2R5ID0gdGhpcy5fYnVpbGRGaXJtQ2FyZEJvZHkoXG4gICAgICAgICAgICB0aGlzLl9nZXRDb25maWdGaXJtQ2FyZEJvZHkoZGF0YSwgc2NoZWR1bGUsIGZvcmVjYXN0LCBwYXltZW50VHlwZXMsIHJ1YnJpY3MpXG4gICAgICAgICk7XG5cbiAgICAgICAgbGlua3MgPSB0aGlzLl9maWxsSGVhZGVyTGlua3MoKTtcbiAgICAgICAgYnRucyA9IHRoaXMuX2ZpbGxGb290ZXJCdXR0b25zKCk7XG5cbiAgICAgICAgLy9maWxsIG9iamVjdCBmb3IgdmlldyByZW5kZXJcbiAgICAgICAgdGhpcy5fZmlybUNvbnRlbnRPYmplY3QuaGVhZGVyID0gdGhpcy5vcHRpb25zLnJlbmRlcignZmlybUNhcmRIZWFkZXInLCB7J2Zpcm1OYW1lJzogZGF0YS5uYW1lLCAnbGlua3MnOiBsaW5rc30pO1xuICAgICAgICBjb250YWluZXIuaW5uZXJIVE1MID0gZmlybUNhcmRCb2R5O1xuICAgICAgICB0aGlzLl9maXJtQ29udGVudE9iamVjdC50bXBsID0gY29udGFpbmVyO1xuICAgICAgICBpZiAoYnRucy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuX2Zvb3RlckNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgICAgICAgICB0aGlzLl9mb290ZXJDb250YWluZXIuaW5uZXJIVE1MID0gdGhpcy5vcHRpb25zLnJlbmRlcigncG9wdXBGb290ZXJCdG5zJywgeydidG5zJzogYnRuc30pO1xuICAgICAgICAgICAgdGhpcy5fZmlybUNvbnRlbnRPYmplY3QuZm9vdGVyID0gdGhpcy5fZm9vdGVyQ29udGFpbmVyO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5vbkZpcm1SZWFkeSkge1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zLm9uRmlybVJlYWR5KHRoaXMuX2Zpcm1Db250ZW50T2JqZWN0KTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBfcmVuZGVyRXJyb3I6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLl9maXJtQ29udGVudE9iamVjdC5oZWFkZXIgPSB0aGlzLm9wdGlvbnMucmVuZGVyKCdwb3B1cEhlYWRlcicsIHtcbiAgICAgICAgICAgIHRpdGxlOiB0aGlzLm9wdGlvbnMudCgnYXBpRXJyb3JUaXRsZScpXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuX2Zpcm1Db250ZW50T2JqZWN0LnRtcGwgPSB0aGlzLm9wdGlvbnMudCgnYXBpRXJyb3JCb2R5Jyk7XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5vbkZpcm1SZWFkeSkge1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zLm9uRmlybVJlYWR5KHRoaXMuX2Zpcm1Db250ZW50T2JqZWN0KTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBfZ2V0Q29uZmlnRmlybUNhcmRCb2R5OiBmdW5jdGlvbiAoZGF0YSwgc2NoZWR1bGUsIGZvcmVjYXN0LCBhdHRyaWJ1dGVzLCBydWJyaWNzKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdG1wbDogJ2Zpcm1DYXJkQWRkcicsXG4gICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICBhZGRyZXNzOiBkYXRhLmFkZHJlc3NfbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgY29tbWVudDogZGF0YS5hZGRyZXNzX2NvbW1lbnRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRtcGw6ICdmaXJtQ2FyZENvbnRhY3RzJyxcbiAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgIGdyb3VwczogZGF0YS5jb250YWN0X2dyb3Vwc1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdG1wbDogJ2Zpcm1DYXJkU2NoZWR1bGUnLFxuICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgc2NoZWR1bGU6IHNjaGVkdWxlLFxuICAgICAgICAgICAgICAgICAgICBmb3JlY2FzdDogZm9yZWNhc3RcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRtcGw6ICdmcmltQ2FyZFBheW1lbnRzJyxcbiAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgIHBheW1lbnRzOiBhdHRyaWJ1dGVzXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0bXBsOiAnZmlybUNhcmRSdWJyaWMnLFxuICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgcnVicmljczogcnVicmljc1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgXTtcbiAgICB9LFxuXG4gICAgX2J1aWxkRmlybUNhcmRCb2R5OiBmdW5jdGlvbiAocGFydHMpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICByZXR1cm4gcGFydHMucmVkdWNlKGZ1bmN0aW9uIChib2R5LCBpdGVtKSB7XG4gICAgICAgICAgICB2YXIgaHRtbCA9IHNlbGYub3B0aW9ucy5yZW5kZXIoaXRlbS50bXBsLCBpdGVtLmRhdGEpO1xuICAgICAgICAgICAgcmV0dXJuIGJvZHkgKyBodG1sO1xuICAgICAgICB9LCAnJyk7XG4gICAgfSxcblxuICAgIF9maWxsRm9vdGVyQnV0dG9uczogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYnRucyA9IFtdO1xuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuYmFja0J0bikge1xuICAgICAgICAgICAgYnRucy5wdXNoKHsgbmFtZTogJ2Zpcm0tY2FyZC1iYWNrJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiB0aGlzLmRpY3QudCh0aGlzLm9wdGlvbnMubGFuZywgJ2J0bkJhY2snKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb246IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zaG93Um91dGVTZWFyY2gpIHtcbiAgICAgICAgICAgIGJ0bnMucHVzaCh7IG5hbWU6ICdnb3RvJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiB0aGlzLmRpY3QudCh0aGlzLm9wdGlvbnMubGFuZywgJ2J0bkZpbmRXYXknKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb246IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBocmVmOiB0aGlzLm9wdGlvbnMuZ290b1VybFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoXG4gICAgICAgICAgICB0aGlzLl9maXJtRGF0YS5saW5rcyAmJlxuICAgICAgICAgICAgICAgIHRoaXMuX2Zpcm1EYXRhLmxpbmtzLmVudHJhbmNlcyAmJlxuICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5zaG93RW50cmFuY2VcbiAgICAgICAgKSB7XG4gICAgICAgICAgICBidG5zLnB1c2goeyBuYW1lOiAnc2hvdy1lbnRyYW5jZScsXG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogdGhpcy5kaWN0LnQodGhpcy5vcHRpb25zLmxhbmcsICdidG5FbnRyYW5jZScpLFxuICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYnRucztcbiAgICB9LFxuXG4gICAgX2ZpbGxIZWFkZXJMaW5rczogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbGlua3MgPSBbXSxcbiAgICAgICAgICAgIHJldmlld0RhdGEgPSB0aGlzLl9maXJtRGF0YS5yZXZpZXdzLFxuICAgICAgICAgICAgYm9va2xldCxcbiAgICAgICAgICAgIGxpbms7XG5cbiAgICAgICAgaWYgKHRoaXMuX2Zpcm1EYXRhLmV4dGVybmFsX2NvbnRlbnQpIHtcbiAgICAgICAgICAgIHRoaXMuX2Zpcm1EYXRhLmV4dGVybmFsX2NvbnRlbnQuZm9yRWFjaChmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgICAgICAgICBpZiAoZWwgJiYgZWwudHlwZSA9PSAnYm9va2xldCcpIHtcbiAgICAgICAgICAgICAgICAgICAgYm9va2xldCA9IGVsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJldmlld0RhdGEgJiYgcmV2aWV3RGF0YS5pc19yZXZpZXdhYmxlKSB7XG4gICAgICAgICAgICBsaW5rcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBuYW1lOiAnZmxhbXBfc3RhcnMnLFxuICAgICAgICAgICAgICAgIHdpZHRoOiByZXZpZXdEYXRhLnJhdGluZyAqIDIwXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGxpbmtzLnB1c2goe1xuICAgICAgICAgICAgICAgIG5hbWU6ICdmbGFtcF9yZXZpZXdzJyxcbiAgICAgICAgICAgICAgICBsYWJlbDogdGhpcy5kaWN0LnQodGhpcy5vcHRpb25zLmxhbmcsICdsaW5rUmV2aWV3cycsIHJldmlld0RhdGEucmV2aWV3X2NvdW50ID8gcmV2aWV3RGF0YS5yZXZpZXdfY291bnQgOiAwKSxcbiAgICAgICAgICAgICAgICBocmVmOiBGaXJtQ2FyZC5EYXRhSGVscGVyLmdldEZsYW1wVXJsKHRoaXMuX2Zpcm1JZClcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUmV0cmlldmUgcGhvdG8gZGF0YSBmcm9tIGV4dGVybmFsIGNvbnRlbnQgYmxvY2tcbiAgICAgICAgdmFyIHBob3RvcztcbiAgICAgICAgdmFyIGV4dGVybmFsQ29udGVudCA9IHRoaXMuX2Zpcm1EYXRhLmV4dGVybmFsX2NvbnRlbnQ7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBleHRlcm5hbENvbnRlbnQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBleHRlcm5hbENvbnRlbnRbaV0udHlwZSA9PSAncGhvdG9fYWxidW0nICYmXG4gICAgICAgICAgICAgICAgZXh0ZXJuYWxDb250ZW50W2ldLnN1YnR5cGUgPT0gJ2NvbW1vbidcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHBob3RvcyA9IGV4dGVybmFsQ29udGVudFtpXTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5vcHRpb25zLmlzTW9iaWxlICYmIHBob3RvcyAmJiBwaG90b3MuY291bnQgJiYgdGhpcy5vcHRpb25zLnNob3dQaG90b3MpIHtcbiAgICAgICAgICAgIGxpbmsgPSBMLlV0aWwudGVtcGxhdGUoREcuY29uZmlnLnBob3Rvc0xpbmssIHtcbiAgICAgICAgICAgICAgICAnaWQnOiB0aGlzLl9maXJtSWQsXG4gICAgICAgICAgICAgICAgJ2RvbWFpbic6IHRoaXMub3B0aW9ucy5kb21haW5cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBsaW5rcy5wdXNoKHtuYW1lOiAncGhvdG9zJyxcbiAgICAgICAgICAgICAgICBocmVmOiBsaW5rLFxuICAgICAgICAgICAgICAgIGxhYmVsOiB0aGlzLmRpY3QudCh0aGlzLm9wdGlvbnMubGFuZywgJ2xpbmtQaG90bycsIHBob3Rvcy5jb3VudClcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMuaXNNb2JpbGUgJiYgYm9va2xldCAmJiBib29rbGV0LnVybCAmJiB0aGlzLm9wdGlvbnMuc2hvd0Jvb2tsZXQpIHtcbiAgICAgICAgICAgIGxpbmtzLnB1c2goe1xuICAgICAgICAgICAgICAgIG5hbWU6ICdib29rbGV0JyxcbiAgICAgICAgICAgICAgICBocmVmOiAgYm9va2xldC51cmwsXG4gICAgICAgICAgICAgICAgbGFiZWw6IHRoaXMuZGljdC50KHRoaXMub3B0aW9ucy5sYW5nLCAnbGlua0Jvb2tsZXQnKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuXG4gICAgICAgIHJldHVybiBsaW5rcztcbiAgICB9LFxuXG4gICAgX2V2ZW50czoge1xuICAgICAgICAnZGctcG9wdXBfX2J1dHRvbl9uYW1lX2Zpcm0tY2FyZC1iYWNrJzogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMuYmFja0J0bigpO1xuICAgICAgICAgICAgdGhpcy5fdG9nZ2xlRXZlbnRIYW5kbGVycyh0cnVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgJ2RnLXBvcHVwX19idXR0b25fbmFtZV9zaG93LWVudHJhbmNlJzogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgZW50ID0gbmV3IHRoaXMub3B0aW9ucy5zaG93RW50cmFuY2Uoeyd2ZWN0b3JzJzogdGhpcy5fZmlybURhdGEubGlua3MuZW50cmFuY2VzWzBdLmdlb21ldHJ5LnZlY3RvcnN9KTtcbiAgICAgICAgICAgIGVudC5hZGRUbyh0aGlzLm9wdGlvbnMubWFwKTtcbiAgICAgICAgICAgIGVudC5maXRCb3VuZHMoKTtcbiAgICAgICAgICAgIHRoaXMuX3RvZ2dsZUV2ZW50SGFuZGxlcnModHJ1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgICdkZy1zY2hlZHVsZV9fdG9kYXknOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRoaXMuX29uVG9nZ2xlU2NoZWR1bGUoKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBfdG9nZ2xlRXZlbnRIYW5kbGVyczogZnVuY3Rpb24gKGZsYWcpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zLnBvcHVwW2ZsYWcgPyAnb2ZmJyA6ICdvbiddKCdjbGljaycsIHRoaXMuX29uQ2xpY2ssIHRoaXMpO1xuICAgICAgICB0aGlzLm9wdGlvbnMubWFwW2ZsYWcgPyAnb2ZmJyA6ICdvbiddKCdwb3B1cGNsb3NlJywgdGhpcy5fb25DbG9zZSwgdGhpcyk7XG4gICAgfSxcblxuICAgIF9vbkNsaWNrOiBmdW5jdGlvbiAoZSkge1xuICAgICAgICB2YXIgdGFyZ2V0ID0gZS5vcmlnaW5hbEV2ZW50LnRhcmdldDtcblxuICAgICAgICBmb3IgKHZhciBldmVudENsYXNzIGluIHRoaXMuX2V2ZW50cykge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2V2ZW50cy5oYXNPd25Qcm9wZXJ0eShldmVudENsYXNzKSAmJiB0YXJnZXQuY2xhc3NOYW1lLmluZGV4T2YoZXZlbnRDbGFzcykgPiAtMSkge1xuICAgICAgICAgICAgICAgIERHLkRvbUV2ZW50LnByZXZlbnREZWZhdWx0KGUub3JpZ2luYWxFdmVudCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZXZlbnRzW2V2ZW50Q2xhc3NdLmNhbGwodGhpcywgdGFyZ2V0KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgX29uQ2xvc2U6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHRoaXMuX3RvZ2dsZUV2ZW50SGFuZGxlcnModHJ1ZSk7XG4gICAgfSxcblxuICAgIF9vblRvZ2dsZVNjaGVkdWxlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzY2hlZHVsZSA9IHRoaXMuX2NvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuZGctc2NoZWR1bGVfX3RhYmxlJyksXG4gICAgICAgICAgICBmb3JlY2FzdCA9IHRoaXMuX2NvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuZGctc2NoZWR1bGVfX25vdycpLFxuICAgICAgICAgICAgdGFyZ2V0ID0gdGhpcy5fY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5kZy1zY2hlZHVsZV9fdG9kYXknKSxcbiAgICAgICAgICAgIHNob3dDbGFzcyA9ICcgZGctc2NoZWR1bGVfX3RvZGF5X3Nob3duX3RydWUnO1xuXG4gICAgICAgIGlmICghc2NoZWR1bGUpIHsgcmV0dXJuOyB9XG5cbiAgICAgICAgaWYgKHNjaGVkdWxlLnN0eWxlLmRpc3BsYXkgPT09ICdibG9jaycpIHtcbiAgICAgICAgICAgIHNjaGVkdWxlLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICBmb3JlY2FzdC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgICAgIHRhcmdldC5jbGFzc05hbWUgPSB0YXJnZXQuY2xhc3NOYW1lLnJlcGxhY2Uoc2hvd0NsYXNzLCAnJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmb3JlY2FzdC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgICAgc2NoZWR1bGUuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgICAgICB0YXJnZXQuY2xhc3NOYW1lICs9IHNob3dDbGFzcztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMub25Ub2dnbGUpIHtcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5vblRvZ2dsZSgpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIF9zZXRPcHRpb25zOiBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB2YXIgb3B0aW9uLFxuICAgICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgb3B0aW9ucy5sYW5nID0gb3B0aW9ucy5sYW5nIHx8ICdydSc7XG5cbiAgICAgICAgZm9yIChvcHRpb24gaW4gb3B0aW9ucykge1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMuaGFzT3duUHJvcGVydHkob3B0aW9uKSkge1xuICAgICAgICAgICAgICAgIHRoaXMub3B0aW9uc1tvcHRpb25dID0gb3B0aW9uc1tvcHRpb25dO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcblxuICAgIF9oYXNUb3VjaDogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gKCgnb250b3VjaHN0YXJ0JyBpbiB3aW5kb3cpIHx8XG4gICAgICAgICAgICAgICAgKG5hdmlnYXRvci5tYXhUb3VjaFBvaW50cyA+IDApIHx8XG4gICAgICAgICAgICAgICAgKG5hdmlnYXRvci5tc01heFRvdWNoUG9pbnRzID4gMCkpO1xuICAgIH1cbn07XG4iLCJGaXJtQ2FyZC5EYXRhSGVscGVyID0ge1xuXHRwYXlNZXRob2RzIDogW1xuXHRcdCdhbWVyaWNhbmV4cHJlc3MnLFxuXHRcdCdjYXNoJyxcblx0XHQnZGluZXJzY2x1YicsXG5cdFx0J2dvbGRjcm93bicsXG5cdFx0J2ludGVybmV0Jyxcblx0XHQnbWFzdGVyY2FyZCcsXG5cdFx0J25vbmNhc2gnLFxuXHRcdCd2aXNhJ1xuXHRdLFxuXG5cdF9tc2dzIDoge30sXG5cblx0Z2V0RmxhbXBVcmwgOiBmdW5jdGlvbiAoaWQpIHtcblx0ICAgIHJldHVybiBERy5jb25maWcuZmxhbXBVcmwuY29uY2F0KGlkLCAnPycsIERHLmNvbmZpZy5mbGFtcEdvb2dsZUFuYWx5dGljcyk7XG5cdH0sXG5cblx0bXNnIDogZnVuY3Rpb24gKG1zZykge1xuXHRcdGlmICh0aGlzLl9tc2dzLmhhc093blByb3BlcnR5KG1zZykpIHtcblx0XHRcdHJldHVybiB0aGlzLl9tc2dzW21zZ107XG5cdFx0fVxuXHRcdGNvbnNvbGUgJiYgY29uc29sZS5sb2coXCJDYW50J3QgZmluZCB0cmFuc2xhdGlvbiBmb3IgJ1wiICsgbXNnICsgXCInLlwiKTtcblx0XHRyZXR1cm4gbXNnLnRvU3RyaW5nKCkucmVwbGFjZSgnXycsICcgJyk7XG5cdH0sXG5cblx0Z2V0UHJvamVjdFRpbWU6IGZ1bmN0aW9uICh0aW1lem9uZU9mZnNldCwgdGltZSkge1xuICAgICAgICB2YXIgbm93LCB1dGM7XG5cbiAgICAgICAgaWYgKHRpbWUpIHtcbiAgICAgICAgICAgIG5vdyA9IG5ldyBEYXRlKHRpbWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbm93ID0gbmV3IERhdGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aW1lem9uZU9mZnNldCkge1xuICAgICAgICAgICAgdXRjID0gbm93LmdldFRpbWUoKSArIChub3cuZ2V0VGltZXpvbmVPZmZzZXQoKSAqIDYwMDAwKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgRGF0ZSh1dGMgKyAoNjAwMDAgKiB0aW1lem9uZU9mZnNldCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG5vdztcbiAgICAgICAgfVxuICAgIH1cbn07XG4iLCIvKiBnbG9iYWxcbiAgICBGaXJtQ2FyZDogZmFsc2VcbiovXG4oZnVuY3Rpb24gKCkge1xuICAgIEZpcm1DYXJkLkxpc3QgPSBmdW5jdGlvbiAoZmlybXMsIG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5fZmlybXMgPSB7fTsgLy8geydmaXJtSUQnOiBmaXJtRG9tT2JqfVxuICAgICAgICB0aGlzLl9zZXRPcHRpb25zKG9wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMuX2NvbnRhaW5lciA9IG9wdGlvbnMgJiYgb3B0aW9ucy5jb250YWluZXIgfHwgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndWwnKTtcbiAgICAgICAgdGhpcy5fY29udGFpbmVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnZGctYnVpbGRpbmctY2FsbG91dF9fbGlzdCcpO1xuXG4gICAgICAgIHRoaXMuX2V2ZW50SGFuZGxlcnNJbml0ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fZmlybUNhcmQgPSB0aGlzLl9jcmVhdGVGaXJtKCk7XG4gICAgICAgIHRoaXMucmVuZGVyTGlzdChmaXJtcyk7XG4gICAgfTtcblxuICAgIEZpcm1DYXJkLkxpc3QucHJvdG90eXBlID0ge1xuXG4gICAgICAgIHJlbmRlckxpc3Q6IGZ1bmN0aW9uIChmaXJtcykge1xuICAgICAgICAgICAgaWYgKGZpcm1zKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdG9nZ2xlRXZlbnRIYW5kbGVycygpO1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkRmlybXMoZmlybXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5vbkxpc3RSZWFkeSkge1xuICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5vbkxpc3RSZWFkeSh0aGlzLl9jb250YWluZXIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY29udGFpbmVyO1xuICAgICAgICB9LFxuXG4gICAgICAgIF9wcm9jZXNzRmlybXM6IGZ1bmN0aW9uIChmaXJtcywgYWN0aW9uKSB7XG4gICAgICAgICAgICBpZiAoIWZpcm1zKSB7IHJldHVybjsgfVxuICAgICAgICAgICAgdmFyIG1ldGhvZCA9ICdfJyArIGFjdGlvbiArICdGaXJtJztcbiAgICAgICAgICAgIGlmICh0aGlzLl9pc0FycmF5KGZpcm1zKSkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gZmlybXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXNbbWV0aG9kXShmaXJtc1tpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzW21ldGhvZF0oZmlybXMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0sXG5cbiAgICAgICAgYWRkRmlybXM6IGZ1bmN0aW9uKGZpcm1zKSB7XG4gICAgICAgICAgICB0aGlzLl9wcm9jZXNzRmlybXMoZmlybXMsICdhZGQnKTtcbiAgICAgICAgfSxcblxuICAgICAgICByZW1vdmVGaXJtczogZnVuY3Rpb24oZmlybXMpIHtcbiAgICAgICAgICAgIHRoaXMuX3Byb2Nlc3NGaXJtcyhmaXJtcywgJ3JlbW92ZScpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHNldExhbmc6IGZ1bmN0aW9uIChuZXdMYW5nKSB7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMuZmlybUNhcmQubGFuZyA9IG5ld0xhbmc7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZ2V0TGFuZzogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5maXJtQ2FyZC5sYW5nO1xuICAgICAgICB9LFxuXG4gICAgICAgIGdldENvbnRhaW5lcjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnRhaW5lcjtcbiAgICAgICAgfSxcblxuICAgICAgICBjbGVhckxpc3QgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGlzLl9maXJtcyA9IHt9O1xuICAgICAgICAgICAgdGhpcy5fdG9nZ2xlRXZlbnRIYW5kbGVycyh0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuX2NsZWFyQ29udGFpbmVyKCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX3JlbW92ZUZpcm06IGZ1bmN0aW9uIChpZCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9maXJtc1tpZF0pIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgICAgICAgICB0aGlzLl9jb250YWluZXIucmVtb3ZlQ2hpbGQodGhpcy5fZmlybXNbaWRdKTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9maXJtc1tpZF07XG4gICAgICAgIH0sXG5cbiAgICAgICAgX2FkZEZpcm06IGZ1bmN0aW9uIChmaXJtRGF0YSkge1xuICAgICAgICAgICAgdmFyIHRtcGwgPSB0aGlzLm9wdGlvbnMuZmlybWxpc3RJdGVtVG1wbCxcbiAgICAgICAgICAgICAgICBkb21GaXJtLCBmaXJtLCBjb250ZW50O1xuXG4gICAgICAgICAgICBmaXJtID0ge1xuICAgICAgICAgICAgICAgIG5hbWU6IGZpcm1EYXRhLm5hbWUsXG4gICAgICAgICAgICAgICAgaWQ6IGZpcm1EYXRhLmlkLnNwbGl0KCdfJykuc2xpY2UoMCwgMSlcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGlmICghKGZpcm0uaWQgaW4gdGhpcy5fZmlybXMpKSB7XG5cbiAgICAgICAgICAgICAgICBkb21GaXJtID0gdGhpcy5fY3JlYXRlTGlzdEl0ZW0oKTtcblxuICAgICAgICAgICAgICAgIGNvbnRlbnQgPSB0bXBsID8gdGhpcy5vcHRpb25zLmZpcm1DYXJkLnJlbmRlcih0bXBsLCB7J2Zpcm0nOiBmaXJtfSkgOiBmaXJtLm5hbWU7XG5cbiAgICAgICAgICAgICAgICBkb21GaXJtLmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlZW5kJywgY29udGVudCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9maXJtc1tmaXJtLmlkXSA9IGRvbUZpcm07XG4gICAgICAgICAgICAgICAgdGhpcy5fY29udGFpbmVyLmFwcGVuZENoaWxkKGRvbUZpcm0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIF9jcmVhdGVMaXN0SXRlbTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgICAgICAgaXRlbS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2RnLWJ1aWxkaW5nLWNhbGxvdXRfX2xpc3QtaXRlbScpO1xuXG4gICAgICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgICAgfSxcblxuICAgICAgICBfaXNBcnJheTogZnVuY3Rpb24gKG9iaikge1xuICAgICAgICAgICAgcmV0dXJuIHt9LnRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbiAgICAgICAgfSxcblxuICAgICAgICBfY3JlYXRlRmlybTogZnVuY3Rpb24gKGZpcm1EYXRhKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEZpcm1DYXJkKGZpcm1EYXRhLCB0aGlzLm9wdGlvbnMuZmlybUNhcmQpO1xuICAgICAgICB9LFxuXG4gICAgICAgIF9pc0VtcHR5T2JqOiBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBwcm9wIGluIG9iaikge1xuICAgICAgICAgICAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkocHJvcCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX2V2ZW50czoge1xuICAgICAgICAgICAgJ2RnLXBvcHVwX19saW5rJzogZnVuY3Rpb24odGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgdmFyIHMgPSB0aGlzLl9maXJtQ2FyZC5yZW5kZXIodGFyZ2V0LmlkKTtcblxuICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5maXJtQ2FyZFt0aGlzLl9pc0VtcHR5T2JqKHMpID8gJ3Bhc3RlTG9hZGVyJyA6ICdvbkZpcm1SZWFkeSddKHMpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLmZpcm1DYXJkLm9uRmlybUNsaWNrICYmIHRoaXMub3B0aW9ucy5maXJtQ2FyZC5vbkZpcm1DbGljaygpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fdG9nZ2xlRXZlbnRIYW5kbGVycyh0cnVlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAnZGctYnVpbGRpbmctY2FsbG91dF9fbGlzdC1pdGVtJzogZnVuY3Rpb24odGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0ID0gdGFyZ2V0LmNoaWxkcmVuWzBdO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fZXZlbnRzWydkZy1wb3B1cF9fbGluayddLmNhbGwodGhpcywgdGFyZ2V0KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAnZGctcG9wdXBfX2J1dHRvbl9uYW1lX2JhY2snOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMuZmlybUNhcmQub25TaG93TGVzcygpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fdG9nZ2xlRXZlbnRIYW5kbGVycyh0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBfdG9nZ2xlRXZlbnRIYW5kbGVycyA6IGZ1bmN0aW9uIChmbGFnKSB7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMuZmlybUNhcmQucG9wdXBbZmxhZyA/ICdvZmYnIDogJ29uJ10oJ2NsaWNrJywgdGhpcy5fb25DbGljaywgdGhpcyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX29uQ2xpY2s6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICB2YXIgdGFyZ2V0ID0gZS5vcmlnaW5hbEV2ZW50LnRhcmdldDtcblxuICAgICAgICAgICAgZm9yICh2YXIgZXZlbnRDbGFzcyBpbiB0aGlzLl9ldmVudHMpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fZXZlbnRzLmhhc093blByb3BlcnR5KGV2ZW50Q2xhc3MpICYmIHRhcmdldC5jbGFzc05hbWUuaW5kZXhPZihldmVudENsYXNzKSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIERHLkRvbUV2ZW50LnByZXZlbnREZWZhdWx0KGUub3JpZ2luYWxFdmVudCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2V2ZW50c1tldmVudENsYXNzXS5jYWxsKHRoaXMsIHRhcmdldCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgX2NsZWFyQ29udGFpbmVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgY29udGFpbmVyID0gdGhpcy5fY29udGFpbmVyO1xuXG4gICAgICAgICAgICB3aGlsZSAoY29udGFpbmVyLmhhc0NoaWxkTm9kZXMoKSkge1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5yZW1vdmVDaGlsZChjb250YWluZXIuZmlyc3RDaGlsZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgX3NldE9wdGlvbnM6IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgICAgICBvcHRpb25zIHx8IChvcHRpb25zID0ge30pO1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5maXJtQ2FyZCB8fCAodGhpcy5vcHRpb25zLmZpcm1DYXJkID0ge30pO1xuXG4gICAgICAgICAgICBpZiAoIW9wdGlvbnMuZmlybUNhcmQubGFuZykge1xuICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5maXJtQ2FyZC5sYW5nID0gJ3J1JztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yICh2YXIgb3B0aW9uIGluIG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5oYXNPd25Qcm9wZXJ0eShvcHRpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3B0aW9uc1tvcHRpb25dID0gb3B0aW9uc1tvcHRpb25dO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG59KSgpO1xuIiwiLypnbG9iYWxcbiAgICBGaXJtQ2FyZDpmYWxzZVxuKi9cbkZpcm1DYXJkLlNjaGVkdWxlID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAgIHRoaXMubG9jYWxMYW5nID0gb3B0aW9ucy5sb2NhbExhbmcgfHwgJ3J1JztcbiAgICB0aGlzLmRpY3QgPSBvcHRpb25zLmRpY3Q7XG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG5GaXJtQ2FyZC5TY2hlZHVsZS5wcm90b3R5cGUgPSB7XG5cbiAgICBzZXRMYW5nOiBmdW5jdGlvbiAobGFuZykge1xuICAgICAgICB0aGlzLmxvY2FsTGFuZyA9IGxhbmcgfHwgJ3J1JztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIHRyYW5zZm9ybTogZnVuY3Rpb24gKG1vZGVsLCBwYXJhbXMpIHtcbiAgICAgICAgaWYgKCFtb2RlbCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHBhcmFtcyA9IHBhcmFtcyB8fCB7fTtcblxuICAgICAgICBmdW5jdGlvbiBiaW5kKGZuLCBvYmopIHsgLy8gKEZ1bmN0aW9uLCBPYmplY3QpIC0+IEZ1bmN0aW9uXG4gICAgICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyID8gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAyKSA6IG51bGw7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmbi5hcHBseShvYmosIGFyZ3MgfHwgYXJndW1lbnRzKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdG9kYXlLZXksIC8vIE1vbiwgVHVlIC4uLlxuICAgICAgICAgICAgdG9kYXksIC8vINCe0LHRitC10LrRgiDQvNC+0LTQtdC70LggLSDRgtC10LrRg9GJ0LjQuSDQtNC10L3RjCDQvdC10LTQtdC70LhcbiAgICAgICAgICAgIGZyb20sIC8vINCh0LDQvNC+0LUg0YDQsNC90L3QtdC1INCy0YDQtdC80Y8g0L7RgtC60YDRi9GC0LjRjyDQt9CwINC00LXQvdGMXG4gICAgICAgICAgICB0bywgLy8g0KHQsNC80L7QtSDQv9C+0LfQtNC90LXQtSDQstGA0LXQvNGPINC30LDQutGA0YvRgtC40Y8g0LfQsCDQtNC10L3RjFxuICAgICAgICAgICAgem9uZU9mZnNldCA9IHBhcmFtcy56b25lT2Zmc2V0IHx8IDAsXG4gICAgICAgICAgICBzY2hlZHVsZSA9IHt9LCAvLyDQntCx0YrQtdC60YIt0YDQsNGB0L/QuNGB0LDQvdC40LUsINGE0L7RgNC80LjRgNGD0LXQvNGL0Lkg0L/QvtC0INGI0LDQsdC70L7QvVxuICAgICAgICAgICAgbm93ID0gcGFyYW1zLm5vdyB8fCBGaXJtQ2FyZC5EYXRhSGVscGVyLmdldFByb2plY3RUaW1lKHpvbmVPZmZzZXQpLmdldFRpbWUoKSwgLy8gQ3VycmVudCB0aW1lc3RhbXAgaW4gbWlsbGlzZWNvbmRzXG4gICAgICAgICAgICB3ZWVrS2V5cyA9IFtdLCAvLyDQmtC70Y7Rh9C4INC00L3QtdC5INC90LXQtNC10LvQuCwg0L7Qv9GA0LXQtNC10LvRj9GO0YIg0L/QvtGA0Y/QtNC+0Log0LTQvdC10Lkg0Lgg0L/QtdGA0LLRi9C5INC00LXQvdGMINC90LXQtNC10LvQuC4gMCAtINC/0LXRgNCy0YvQuSDQtNC10L3RjCDQvdC10LTQtdC70Lgg0LIg0YDQtdCz0LjQvtC90LUgKNC90LUg0L7QsdGP0LfQsNGC0LXQu9GM0L3QviBNb24pXG4gICAgICAgICAgICB3ZWVrS2V5c0xvY2FsID0gW10sXG4gICAgICAgICAgICB3ZWVrRnVsbEtleXNMb2NhbCA9IFtdLFxuICAgICAgICAgICAgd2Vla0tleXNTaG9ydCA9ICBbICdNb24nLCAnVHVlJywgJ1dlZCcsICdUaHUnLCAnRnJpJywgJ1NhdCcsICdTdW4nIF0sXG4gICAgICAgICAgICB3ZWVrS2V5c0Z1bGwgPSBbJ21vbmRheScsJ3R1ZXNkYXknLCd3ZWRuZXNkYXknLCd0aHVyc2RheScsJ2ZyaWRheScsJ3NhdHVyZGF5Jywnc3VuZGF5J10sXG4gICAgICAgICAgICBsb2NhbExhbmcgPSBwYXJhbXMubG9jYWxMYW5nIHx8IHRoaXMubG9jYWxMYW5nLFxuICAgICAgICAgICAgbG9jYWxXb3JraW5nRGF5cyA9IHBhcmFtcy5sb2NhbFdvcmtpbmdEYXlzIHx8IFswLCAxLCAxLCAxLCAxLCAxLCAwXSxcbiAgICAgICAgICAgIGZpcnN0ZGF5T2Zmc2V0ID0gcGFyYW1zLmZpcnN0ZGF5T2Zmc2V0IHx8IDEsXG4gICAgICAgICAgICBtaW5Ib3Vyc1RvRGlzcGxheUNsb3N1cmUgPSBwYXJhbXMubWluSG91cnNUb0Rpc3BsYXlDbG9zdXJlIHx8IDQsXG4gICAgICAgICAgICB0ID0gYmluZCh0aGlzLmRpY3QudCwgdGhpcy5kaWN0KTtcblxuXG4gICAgICAgIGZ1bmN0aW9uIGNhcGl0YWxpc2VGaXJzdExldHRlcihzdHJpbmcpIHtcbiAgICAgICAgICAgIHJldHVybiBzdHJpbmcuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBzdHJpbmcuc2xpY2UoMSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBnZXRIb3VycyhzdHIpIHtcbiAgICAgICAgICAgIHJldHVybiBzdHIuc3Vic3RyKDAsIDIpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZ2V0TWludXRlcyhzdHIpIHtcbiAgICAgICAgICAgIHJldHVybiBzdHIuc3Vic3RyKDMsIDIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8g0JrQvtC90LLQtdGA0YLQsNGG0LjRjyDQstGA0LXQvNC10L3QvdC+0Lkg0YLQvtGH0LrQuCDRhNC+0YDQvNCw0YLQsCDQsNC/0Lgg0LIg0YTQvtGA0LzQsNGCINC+0YLQvtCx0YDQsNC20LXQvdC40Y8gKDI1OjAwIC0+IDAxOjAwKVxuICAgICAgICBmdW5jdGlvbiBmb3JtYXRUaW1lKHN0cikge1xuICAgICAgICAgICAgdmFyIGhvdXJzID0gK2dldEhvdXJzKHN0cikgJSAyNCArICcnO1xuXG4gICAgICAgICAgICBpZiAoaG91cnMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgaG91cnMgPSAnMCcgKyBob3VycztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGhvdXJzICsgJzonICsgZ2V0TWludXRlcyhzdHIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8g0JrQvtC90LLQtdGA0YLQsNGG0LjRjyBpbnQg0YfQuNGB0LvQsCDQsiDQvdC+0LzQtdGAINC00L3RjyDQvdC10LTQtdC70LggKNC00LjQsNC/0LDQt9C+0L0gMC02KVxuICAgICAgICAvLyDQvtGC0YDQuNGG0LDRgtC10LvRjNC90YvQtSDRh9C40LvQsDogLTEg0LLQtdGA0L3RkdGCIDYsIC0yIC0+IDUg0Lgg0YIu0LRcbiAgICAgICAgLy8g0L/QvtC70L7QttC40YLQtdC70YzQvdGL0LU6IDcgLT4gMCwgOCAtPiAxXG4gICAgICAgIGZ1bmN0aW9uIGRheU51bShuKSB7XG4gICAgICAgICAgICByZXR1cm4gKG4gKyA3MCkgJSA3O1xuICAgICAgICB9XG5cblxuICAgICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICAgIC8vINCS0L7Qt9Cy0YDQsNGJ0LDQtdGCINC/0L7RgdC70LXQtNC90LjQuSDRjdC70LXQvNC10L3RgiDQvNCw0YHRgdC40LLQsFxuICAgICAgICAvLyDQktC30Y/RgtC+INC40LcgVW5kZXJzY29yZS5qcyBodHRwOi8vdW5kZXJzY29yZWpzLm9yZy8jbGFzdFxuICAgICAgICBmdW5jdGlvbiBnZXRBcnJheUxhc3QoYXJyLCBuKSB7XG4gICAgICAgICAgICBpZiAoIGFyciA9PSBudWxsICkgcmV0dXJuIHZvaWQgMDtcbiAgICAgICAgICAgIGlmICggICBuID09IG51bGwgKSByZXR1cm4gYXJyWyBhcnIubGVuZ3RoIC0gMSBdO1xuICAgICAgICAgICAgcmV0dXJuIHNsaWNlLmNhbGwoIGFyciwgTWF0aC5tYXgoYXJyLmxlbmd0aCAtIG4gLCAwKSApO1xuICAgICAgICB9XG5cblxuICAgICAgICAvLyDQktGL0L/QvtC70L3Rj9C10YIg0LPQu9GD0LHQvtC60L7QtSDRgdGA0LDQstC90LXQvdC40LUg0L7QsdGK0LXQutGC0L7QslxuICAgICAgICAvLyDQktC30Y/RgtC+INC40LcgVW5kZXJzY29yZS5qcyBodHRwOi8vdW5kZXJzY29yZWpzLm9yZy8jaXNFcXVhbFxuICAgICAgICAvLyDQo9C/0YDQvtGJ0LXQvdC+INC00LvRjyDRgtC10YUg0YLRgNGR0YUg0YHRgNCw0LLQvdC10L3QuNC5LCDQutC+0YLQvtGA0YvQtSDQstGL0L/QvtC70L3Rj9GO0YLRgdGPINCyIFNoZWR1bGUuanNcbiAgICAgICAgZnVuY3Rpb24gaXNFcXVhbChvYmoxLCBvYmoyKSB7XG4gICAgICAgICAgICBpZiAoIG9iajEgPT09IG9iajIgKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIGlmICggISAoIG9iajEgaW5zdGFuY2VvZiBPYmplY3QgKSB8fCAhICggb2JqMiBpbnN0YW5jZW9mIE9iamVjdCApICkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgaWYgKCBvYmoxLmNvbnN0cnVjdG9yICE9PSBvYmoyLmNvbnN0cnVjdG9yICkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgZm9yICggdmFyIHByb3AgaW4gb2JqMSApIHtcbiAgICAgICAgICAgICAgICBpZiAoICEgb2JqMS5oYXNPd25Qcm9wZXJ0eSggcHJvcCApICkgY29udGludWU7XG4gICAgICAgICAgICAgICAgaWYgKCAhIG9iajIuaGFzT3duUHJvcGVydHkoIHByb3AgKSApIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICBpZiAoIG9iajFbIHByb3AgXSA9PT0gb2JqMlsgcHJvcCBdICkgY29udGludWU7XG4gICAgICAgICAgICAgICAgaWYgKCB0eXBlb2YoIG9iajFbIHByb3AgXSApICE9PSBcIm9iamVjdFwiICkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIGlmICggISBpc0VxdWFsKCBvYmoxWyBwcm9wIF0sICBvYmoyWyBwcm9wIF0gKSApIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoIHByb3AgaW4gb2JqMiApIHtcbiAgICAgICAgICAgIGlmICggb2JqMi5oYXNPd25Qcm9wZXJ0eSggcHJvcCApICYmICEgb2JqMS5oYXNPd25Qcm9wZXJ0eSggcHJvcCApICkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEdlbmVyYXRlIGFuIGludGVnZXIgQXJyYXkgY29udGFpbmluZyBhbiBhcml0aG1ldGljIHByb2dyZXNzaW9uLiBBIHBvcnQgb2ZcbiAgICAgICAgLy8gdGhlIG5hdGl2ZSBQeXRob24gYHJhbmdlKClgIGZ1bmN0aW9uLiBTZWVcbiAgICAgICAgLy8gW3RoZSBQeXRob24gZG9jdW1lbnRhdGlvbl0oaHR0cDovL2RvY3MucHl0aG9uLm9yZy9saWJyYXJ5L2Z1bmN0aW9ucy5odG1sI3JhbmdlKS5cbiAgICAgICAgZnVuY3Rpb24gcmFuZ2Uoc3RhcnQsIHN0b3AsIHN0ZXApIHtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPD0gMSkge1xuICAgICAgICAgICAgc3RvcCA9IHN0YXJ0IHx8IDA7XG4gICAgICAgICAgICBzdGFydCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgc3RlcCA9IGFyZ3VtZW50c1syXSB8fCAxO1xuXG4gICAgICAgIHZhciBsZW5ndGggPSBNYXRoLm1heChNYXRoLmNlaWwoKHN0b3AgLSBzdGFydCkgLyBzdGVwKSwgMCk7XG4gICAgICAgIHZhciBpZHggPSAwO1xuICAgICAgICB2YXIgcmFuZ2UgPSBuZXcgQXJyYXkobGVuZ3RoKTtcbiAgICAgICAgd2hpbGUoaWR4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgICByYW5nZVtpZHgrK10gPSBzdGFydDtcbiAgICAgICAgICAgIHN0YXJ0ICs9IHN0ZXA7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmFuZ2U7XG4gICAgICAgIH1cblxuXG4gICAgICAgIC8v0JfQsNC/0L7Qu9C90Y/QtdGCINGB0LLQvtC50YHRgtCy0LAg0L7QsdGK0LXQutGC0LAg0LfQvdCw0YfQtdC90LjRj9C80Lgg0L/QviDRg9C80L7Qu9GH0LDQvdC40Y5cbiAgICAgICAgLy/QktC30Y/RgtC+INC40LcgVW5kZXJzY29yZS5qcyBodHRwOi8vdW5kZXJzY29yZWpzLm9yZy8jZGVmYXVsdHNcbiAgICAgICAgZnVuY3Rpb24gZmlsbERlZmF1bHRzKG9iaikge1xuICAgICAgICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgICAgICAgYXJncy5mb3JFYWNoKGZ1bmN0aW9uKHNvdXJjZSkge1xuICAgICAgICAgICAgaWYgKHNvdXJjZSkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIHByb3AgaW4gc291cmNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmpbcHJvcF0gPT09IHZvaWQgMCkgb2JqW3Byb3BdID0gc291cmNlW3Byb3BdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICAvL9Ch0L7RgNGC0LjRgNGD0LXRgiDQt9C90LDRh9C10L3QuNGPINGB0L7Qs9C70LDRgdC90L4g0YEg0LjRgtC10YDQsNGC0L7RgNC+0LxcbiAgICAgICAgLy/QktC30Y/RgtC+INGBIFVuZGVyc2NvcmUuanMgaHR0cDovL3VuZGVyc2NvcmVqcy5vcmcvI3NvcnRCeVxuICAgICAgICBmdW5jdGlvbiBzb3J0Qnkob2JqLCBpdGVyYXRvcil7XG4gICAgICAgICAgICByZXR1cm4gcGx1Y2sob2JqLm1hcCggZnVuY3Rpb24odmFsdWUsIGluZGV4LCBsaXN0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4OiBpbmRleCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyaXRlcmlhOiBpdGVyYXRvci5jYWxsKHRoaXMsIHZhbHVlLCBpbmRleCwgbGlzdClcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSkuc29ydChmdW5jdGlvbihsZWZ0LCByaWdodCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGEgPSBsZWZ0LmNyaXRlcmlhO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGIgPSByaWdodC5jcml0ZXJpYTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhICE9PSBiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYSA+IGIgfHwgYSA9PT0gdm9pZCAwKSByZXR1cm4gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhIDwgYiB8fCBiID09PSB2b2lkIDApIHJldHVybiAtMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbGVmdC5pbmRleCAtIHJpZ2h0LmluZGV4O1xuICAgICAgICAgICAgICAgIH0pLCAndmFsdWUnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbiAgICAgICAgZnVuY3Rpb24gcGx1Y2soYXJyLCBrZXkpe1xuICAgICAgICAgICAgdmFyIGksIHJ2ID0gW107XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBydltpXSA9IGFycltpXVtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJ2O1xuICAgICAgICB9XG5cblxuICAgICAgICAvLyDQn9GA0LXQvtCx0YDQsNC30L7QstCw0YLRjCDRgNCw0YHQv9C40YHQsNC90LjQtSDQvdCwINC00LXQvdGMINCyINGD0L/QvtGA0Y/QtNC+0YfQtdC90L3Ri9C5INC80LDRgdGB0LjQsiDQstGA0LXQvNC10L3QvdGL0YUg0L7RgtGB0LXRh9C10LogKHN0cmluZylcbiAgICAgICAgLy8g0KHQtdC50YfQsNGBINC/0L7Qu9Cw0LPQsNC10YLRgdGPLCDRh9GC0L4gQVBJINGD0LbQtSDQstGL0LTQsNGR0YIg0YHQvtGA0YLQuNGA0L7QstCw0L3QvdGL0Lkg0LzQsNGB0YHQuNCyXG4gICAgICAgIGZ1bmN0aW9uIGdldFNvcnRlZFRpbWVQb2ludHMoZGF5KSB7XG4gICAgICAgICAgICB2YXIgcG9pbnRzID0gW10sXG4gICAgICAgICAgICAgICAgZnJvbSwgdG8sXG4gICAgICAgICAgICAgICAgZGVsdGFIb3VycywgZGVsdGFNaW51dGVzO1xuXG4gICAgICAgICAgICBpZiAoIWRheSB8fCAhZGF5LndvcmtpbmdfaG91cnMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwIDsgaSA8IGRheS53b3JraW5nX2hvdXJzLmxlbmd0aCA7IGkrKykge1xuICAgICAgICAgICAgICAgIGZyb20gPSBkYXkud29ya2luZ19ob3Vyc1tpXS5mcm9tO1xuICAgICAgICAgICAgICAgIHRvID0gZGF5LndvcmtpbmdfaG91cnNbaV0udG87XG5cbiAgICAgICAgICAgICAgICBkZWx0YUhvdXJzID0gZ2V0SG91cnModG8pIC0gZ2V0SG91cnMoZnJvbSk7XG4gICAgICAgICAgICAgICAgZGVsdGFNaW51dGVzID0gZ2V0TWludXRlcyh0bykgLSBnZXRNaW51dGVzKGZyb20pO1xuICAgICAgICAgICAgICAgIGlmIChkZWx0YUhvdXJzIDwgMCB8fCAoZGVsdGFIb3VycyA9PT0gMCAmJiBkZWx0YU1pbnV0ZXMgPD0gMCkpIHsgLy8g0JXRgdC70LggXCLQtNC+XCIg0LzQtdC90YzRiNC1INC40LvQuCDRgNCw0LLQvdC+IFwi0L7RglwiIC0g0LfQvdCw0YfQuNGCINGD0LrQsNC30YvQstCw0LXRgiDQvdCwINC30LDQstGC0YDQsFxuICAgICAgICAgICAgICAgICAgICB0byA9ICgrZ2V0SG91cnModG8pICsgMjQpICsgJzonICsgZ2V0TWludXRlcyh0byk7IC8vICgwMTowMCAtPiAyNTowMClcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBwb2ludHNbaSAqIDJdID0ge1xuICAgICAgICAgICAgICAgICAgICB0aW1lOiBmcm9tLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnb3BlbidcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHBvaW50c1tpICogMiArIDFdID0ge1xuICAgICAgICAgICAgICAgICAgICB0aW1lOiB0byxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogZGF5LndvcmtpbmdfaG91cnMubGVuZ3RoIC0gMSA9PT0gaSA/ICdjbG9zZScgOiAnbHVuY2gnXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHBvaW50cztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vINCS0L7Qt9Cy0YDQsNGJ0LDQtdGCINC80LDRgdGB0LjQsiB0aW1lc3RhbXAg0LLRgdC10YUg0YLQvtGH0LXQuiwg0LLRgdC10YUg0LTQvdC10Lkg0L3QtdC00LXQu9C4LCDQvtGCINGB0LXQs9C+0LTQvdGP0YjQvdC10LPQviDQuCDQsiDQsdGD0LTRg9GJ0LXQtVxuICAgICAgICAvLyDQndCw0L/RgNC40LzQtdGALCDRgdC10LPQvtC00L3RjyDRgdGA0LXQtNCwLCDQvtGC0YHQtdGH0LrQuCDQsdGD0LTRg9GCINCy0LfRj9GC0Ysg0LTQu9GPINC00LDRgiDRgdC+INGB0YDQtdC00YsgKNGB0LXQs9C+0LTQvdGPKSDQv9C+INGB0LvQtdC00YPRjtGJ0LjQuSDQstGC0L7RgNC90LjQuiDQstC60LvRjtGH0LjRgtC10LvRjNC90L5cbiAgICAgICAgZnVuY3Rpb24gZ2V0VGltZVN0YW1wcyhtb2RlbCkge1xuICAgICAgICAgICAgdmFyIHRpbWVzdGFtcHMgPSBbXSxcbiAgICAgICAgICAgICAgICBvdXQgPSBbXSxcbiAgICAgICAgICAgICAgICB0aW1lUG9pbnRzLFxuICAgICAgICAgICAgICAgIG51bSA9IHdlZWtLZXlzLmluZGV4T2YodG9kYXlLZXkpOyAvLyDQndC+0LzQtdGAINGB0LXQs9C+0LTQvdGP0YjQvdC10LPQviDQtNC90Y8g0L3QtdC00LXQu9C4ICjQtNC70Y8g0LTQsNC90L3QvtCz0L4g0YDQtdCz0LjQvtC90LApXG5cblxuICAgICAgICAgICAgLy8g0KbQuNC60Lsg0L/QviDQtNC90Y/QvCDQvdC10LTQtdC70Lgg0L3QsNGH0LjQvdCw0Y8g0YEg0YHQtdCz0L7QtNC90Y/RiNC90LXQs9C+XG4gICAgICAgICAgICB2YXIgajsgLy8g0J3QvtC80LXRgCDRgtC10LrRg9GJ0LXQs9C+INC00L3RjyDQsiDQvNCw0YHRgdC40LLQtSB3ZWVrS2V5c1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAgOyBpIDwgNyA7IGkrKykge1xuICAgICAgICAgICAgICAgIGogPSBkYXlOdW0obnVtICsgaSk7XG4gICAgICAgICAgICAgICAgdGltZVBvaW50cyA9IGdldFNvcnRlZFRpbWVQb2ludHMobW9kZWxbd2Vla0tleXNbal1dKTtcbiAgICAgICAgICAgICAgICAvLyDQptC40LrQuyDQv9C+INGC0L7Rh9C60LDQvCDQstGA0LXQvNC10L3QuCDRgSDQutC+0L3QstC10YDRgtCw0YbQuNC10Lkg0LIgdGltZXN0YW1wXG4gICAgICAgICAgICAgICAgdGltZVBvaW50cy5mb3JFYWNoKFxuICAgICAgICAgICAgICAgICAgICAvKiBqc2hpbnQgLVcwODMgKi9cbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKHBvaW50KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIG5vdyAtINC+0LHRj9C30LDRgtC10LvRjNC90L4hINC40L3QsNGH0LUg0LHRg9C00LXRgiDQsdGA0LDRgtGM0YHRjyDRgtC10LrRg9GJ0LjQuSB0aW1lc3RhbXAg0YfRgtC+INGH0YDQtdCy0LDRgtC+INC90LXRgdC+0LLQv9Cw0LTQtdC90LjRj9C80Lgg0L/RgNC4INC80LXQtNC70LXQvdC90L7QvCDQsdGL0YHRgtGA0L7QtNC10LnRgdGC0LLQuNC4XG4gICAgICAgICAgICAgICAgICAgIC8vINCS0YvRh9C40YHQu9C40YLRjCDRgtCw0LnQvNGB0YLQtdC80L8g0LTQu9GPINC00LDQvdC90L7Qs9C+INC00L3RjyDQvdC10LTQtdC70LgsINGH0LDRgdCwINC4INC80LjQvdGD0YLRiywg0LIg0LHRg9C00YPRidC10LwsINC90L4g0LHQu9C40LbQsNC50YjQuNC5INC6IG5vd1xuICAgICAgICAgICAgICAgICAgICB2YXIgdHNwID0gbmV3IERhdGUobm93KTtcbiAgICAgICAgICAgICAgICAgICAgdHNwLnNldERhdGUodHNwLmdldERhdGUoKStpKTtcbiAgICAgICAgICAgICAgICAgICAgdHNwLnNldEhvdXJzKGdldEhvdXJzKHBvaW50LnRpbWUpKTtcbiAgICAgICAgICAgICAgICAgICAgdHNwLnNldE1pbnV0ZXMoZ2V0TWludXRlcyhwb2ludC50aW1lKSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0cyA9IHRzcC5nZXRUaW1lKCk7XG5cblxuXG4gICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0czogdHMsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBwb2ludC50eXBlXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aW1lc3RhbXBzW3RpbWVzdGFtcHMubGVuZ3RoIC0gMV0gJiYgdGltZXN0YW1wc1t0aW1lc3RhbXBzLmxlbmd0aCAtIDJdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyDQn9Cw0YDQvdC+INGD0LTQsNC70Y/QtdC8INGB0L7QstC/0LDQtNCw0Y7RidC40LUg0YLQvtGH0LrQuCAo0L7QvdC4INC90LUg0LjQvNC10Y7RgiDRgdC80YvRgdC70LAgLSDRjdGC0L4g0YHQtdCz0L7QtNC90Y8gMjQ6MDAg0Lgg0LfQsNCy0YLRgNCwIDAwOjAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRpbWVzdGFtcHNbdGltZXN0YW1wcy5sZW5ndGggLSAxXS50cyA9PT0gdGltZXN0YW1wc1t0aW1lc3RhbXBzLmxlbmd0aCAtIDJdLnRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZXN0YW1wcy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lc3RhbXBzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRpbWVzdGFtcHNbdGltZXN0YW1wcy5sZW5ndGggLSAxXSAmJiB0aW1lc3RhbXBzW3RpbWVzdGFtcHMubGVuZ3RoIC0gMl0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vINCf0LDRgNC90L4g0L/QtdGA0LXQvdC+0YHQuNC8INGC0L7Rh9C60Lgg0LIg0LHRg9C00YPRidC10LUsINC10YHQu9C4INC+0L3QuCDQvtCx0LUg0LIg0L/RgNC+0YjQu9C+0LwgKNC/0LXRgNCy0LDRjyDRgtC+0YfQutCwIChbMF0pINC00L7Qu9C20L3QsCDQsdGL0YLRjCDQstGB0LXQs9C00LAg0L7RgtC60YDRi9GC0LjQtdC8ISlcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aW1lc3RhbXBzW3RpbWVzdGFtcHMubGVuZ3RoIC0gMV0udHMgPD0gbm93ICYmIHRpbWVzdGFtcHNbdGltZXN0YW1wcy5sZW5ndGggLSAyXS50cyA8PSBub3cpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lc3RhbXBzW3RpbWVzdGFtcHMubGVuZ3RoIC0gMV0udHMgKz0gKDcgKiAyNCAqIDYwICogNjAgKiAxMDAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lc3RhbXBzW3RpbWVzdGFtcHMubGVuZ3RoIC0gMl0udHMgKz0gKDcgKiAyNCAqIDYwICogNjAgKiAxMDAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvKiBqc2hpbnQgK1cwODMgKi9cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyDQodC+0YDRgtC40YDRg9C10Lwg0L3QsCDQstC+0LfRgNCw0YHRgtCw0L3QuNC1LCDQstC10LTRjCDQstC+0LfQvNC+0LbQvdC+INCx0YvQu9C4INC/0LXRgNC10L3QvtGB0Ysg0LIg0LHRg9C00YPRidC10LVcbiAgICAgICAgICAgIHRpbWVzdGFtcHMgPSBzb3J0QnkodGltZXN0YW1wcywgZnVuY3Rpb24gKHRpbWVzdGFtcCkgeyByZXR1cm4gdGltZXN0YW1wLnRzOyB9KTtcblxuICAgICAgICAgICAgLy8g0KPQtNCw0LvRj9C10Lwg0L/QvtC/0LDRgNC90L4g0YHQvtCy0L/QsNC00LDRjtGJ0LjQtSDRgtC+0YfQutC4INCy0YDQtdC80LXQvdC4XG4gICAgICAgICAgICBpID0gMDtcbiAgICAgICAgICAgIHdoaWxlIChpIDwgdGltZXN0YW1wcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBpZiAodGltZXN0YW1wc1tpICsgMV0gJiYgdGltZXN0YW1wc1tpXS50cyA9PT0gdGltZXN0YW1wc1tpICsgMV0udHMpIHtcbiAgICAgICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG91dC5wdXNoKHRpbWVzdGFtcHNbaV0udHMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vINCf0YDQvtCy0LXRgNC60LAg0L3QsCDQtdC20LXQtNC90LXQstC90L4t0LrRgNGD0LPQu9C+0YHRg9GC0L7Rh9C90L7RgdGC0YxcbiAgICAgICAgICAgIGlmIChvdXQubGVuZ3RoID09PSAyICYmIChvdXRbMV0gLSBvdXRbMF0pID09PSAoNyAqIDI0ICogNjAgKiA2MCAqIDEwMDApKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGltZXN0YW1wcztcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHdoZW5PcGVuSW52ZXJzZShoLCBkLCBudW0pIHtcbiAgICAgICAgICAgIGlmIChkID09PSAxICYmIGggPiBtaW5Ib3Vyc1RvRGlzcGxheUNsb3N1cmUgKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHQobG9jYWxMYW5nLCAndG9tbW9yb3cnKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZCA+IDEpIHtcbiAgICAgICAgICAgICAgICAvKiBqc2hpbnQgLVcwMTUgKi9cbiAgICAgICAgICAgICAgICBzd2l0Y2ggKG51bSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6IHJldHVybiB0KGxvY2FsTGFuZywgJ25leHRTdW4nKTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOiByZXR1cm4gdChsb2NhbExhbmcsICduZXh0TW9uJyk7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjogcmV0dXJuIHQobG9jYWxMYW5nLCAnbmV4dFR1ZScpO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6IHJldHVybiB0KGxvY2FsTGFuZywgJ25leHRXZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0OiByZXR1cm4gdChsb2NhbExhbmcsICduZXh0VGh1Jyk7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNTogcmV0dXJuIHQobG9jYWxMYW5nLCAnbmV4dEZyaScpO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDY6IHJldHVybiB0KGxvY2FsTGFuZywgJ25leHRTYXQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLyoganNoaW50ICtXMDE1ICovXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgLy/QktC+0LfQstGA0LDRidCw0LXRgiDQuNC90YLQtdGA0LLQsNC7INCyINGG0LXQu9GL0YUg0LTQvdGP0YUsINGBINC/0L7Qv9GA0LDQstC60L7QuSDQvdCwINGB0LzQtdC90YMg0LTQvdGPINCyINC/0L7Qu9C90L7Rh9GMLCDQvNC10LbQtNGDXG4gICAgICAgIC8vIEBwYXJhbSB0aW1lc3RhbXBFbmQg0LggQHBhcmFtIGRhdGVTdGFydFxuICAgICAgICBmdW5jdGlvbiBkYXlJbnRlcnZhbCh0aW1lc3RhbXBFbmQsIGRhdGVTdGFydCkge1xuXG4gICAgICAgICAgICB2YXIgb25lRGF5ID0gMTAwMCAqIDYwICogNjAgKiAyNCxcbiAgICAgICAgICAgICAgICBkYXRlRW5kID0gbmV3IERhdGUodGltZXN0YW1wRW5kLnRzKTtcblxuICAgICAgICAgICAgdmFyIGRpZmY7XG5cbiAgICAgICAgICAgIGRpZmYgPSBNYXRoLnJvdW5kKChkYXRlRW5kIC0gZGF0ZVN0YXJ0KSAvIG9uZURheSk7XG5cbiAgICAgICAgICAgIGlmKCB0aW1lc3RhbXBFbmQudHlwZT09PSdvcGVuJyAmJiBkYXRlRW5kLmdldEhvdXJzKCkgPCAxIClcbiAgICAgICAgICAgICAgICB7IGRpZmYgKys7IH1cblxuICAgICAgICAgICAgcmV0dXJuIGRpZmY7XG4gICAgICAgIH1cblxuXG4gICAgICAgIC8vINCf0L7QvNC10YHRgtC40YLRjCDQtNCw0L3QvdGL0LUg0LIg0L7QsdGK0LXQutGCINC00LvRjyDRiNCw0LHQu9C+0L3QsCDQviDRgdC10LPQvtC00L3Rj9GI0L3QtdC8INC00L3QtVxuICAgICAgICBmdW5jdGlvbiBzZXRUb2RheVN0cmluZyh0b2RheSkge1xuXG4gICAgICAgICAgICB2YXIgdGltZVBvaW50cyxcbiAgICAgICAgICAgICAgICBwZXJpb2RzID0gW10sXG4gICAgICAgICAgICAgICAgdGltZXN0YW1wcztcblxuICAgICAgICAgICAgc2NoZWR1bGUubm93ID0ge307XG5cbiAgICAgICAgICAgIC8vIFRpbWVzdGFtcHMg0LLRgdC10YUg0L7RgtGB0LXRh9C10LpcbiAgICAgICAgICAgIHRpbWVzdGFtcHMgPSBnZXRUaW1lU3RhbXBzKG1vZGVsKTtcblxuICAgICAgICAgICAgaWYgKCF0aW1lc3RhbXBzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHNjaGVkdWxlLmFsd2F5cyA9IHRydWU7IC8vINCg0LDQsdC+0YLQsNC10YIg0LXQttC10LTQvdC10LLQvdC+INC60YDRg9Cz0LvQvtGB0YPRgtC+0YfQvdC+XG4gICAgICAgICAgICAgICAgc2NoZWR1bGUubm93Lm9wZW4gPSB0cnVlO1xuICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwIDsgaSA8IHRpbWVzdGFtcHMubGVuZ3RoIDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgLy8g0J/QvtC/0LDQu9C4INC80LXQttC00YMg0YLQvtGH0LrQsNC80LggaS0xINC4IGkgLy8g0JzRiyDQvdCw0YXQvtC00LjQvNGB0Y8g0LfQsNCy0LXQtNC+0LzQviDQsiDQsdGD0LTRg9GJ0LXQvCDQvtGC0L3QvtGB0LjRgtC10LvRjNC90L4gMVxuICAgICAgICAgICAgICAgIGlmIChub3cgPj0gKHRpbWVzdGFtcHNbaSAtIDFdICYmIHRpbWVzdGFtcHNbaSAtIDFdLnRzIHx8IDApICYmIG5vdyA8IHRpbWVzdGFtcHNbaV0udHMpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGggPSBNYXRoLmZsb29yKCh0aW1lc3RhbXBzW2ldLnRzIC0gbm93KSAvICgxMDAwICogNjAgKiA2MCkpLCAvLyDQmtC+0LvQuNGH0LXRgdGC0LLQviDRh9Cw0YHQvtCyINC00L4g0YHQu9C10LTRg9GO0YnQtdCz0L4gdGltZXN0YW1wXG4gICAgICAgICAgICAgICAgICAgICAgICBtID0gTWF0aC5mbG9vcigodGltZXN0YW1wc1tpXS50cyAtIG5vdykgLyAoMTAwMCAqIDYwKSAtIGggKiA2MCksIC8vINCa0L7Qu9C40YfQtdGB0YLQstC+INC80LjQvdGD0YIgKNCx0LXQtyDRh9Cw0YHQvtCyKSDQtNC+INGB0LvQtdC00YPRjtGJ0LXQs9C+IHRpbWVzdGFtcFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF5Tm93ID0gbmV3IERhdGUobm93KSxcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8g0L7RgtC60YDRi9GC0L4g0LXRgdC70Lgg0YHQu9C10LTRg9GO0YnQsNGPINC40YLQtdGA0LDRhtC40Y8g0L3QtSDQvtGC0LrRgNGL0YLQuNC1XG4gICAgICAgICAgICAgICAgICAgICAgICBub3dJc09wZW4gPSB0aW1lc3RhbXBzW2ldLnR5cGUgIT09ICdvcGVuJztcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy92YXIgZCA9IGRheU9mWWVhcihkYXlUcykgLSBkYXlPZlllYXIoZGF5Tm93KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vdmFyIGQgPSBkYXlJbnRlcnZhbChkYXlUcywgZGF5Tm93LCBub3dJc09wZW4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGQgPSBkYXlJbnRlcnZhbCh0aW1lc3RhbXBzW2ldLCBkYXlOb3cpO1xuXG5cblxuICAgICAgICAgICAgICAgICAgICAvLyDQvtC60YDRg9Cz0LvRj9C10Lwg0LzQuNC90YPRgtGLINC00L4g0LrRgNCw0YLQvdGL0YUgNVxuICAgICAgICAgICAgICAgICAgICBtID0gTWF0aC5mbG9vcihtIC8gMTApICogMTAgPyBNYXRoLmZsb29yKG0gLyAxMCkgKiAxMCA6IDU7XG5cbiAgICAgICAgICAgICAgICAgICAgc2NoZWR1bGUubm93Lm9wZW4gPSBub3dJc09wZW47XG4gICAgICAgICAgICAgICAgICAgIHNjaGVkdWxlLm5vdy5sdW5jaCA9ICEhKHRpbWVzdGFtcHNbaSAtIDFdICYmIHRpbWVzdGFtcHNbaSAtIDFdLnR5cGUgPT09ICdsdW5jaCcgfHwgZ2V0QXJyYXlMYXN0KHRpbWVzdGFtcHMpLnR5cGUgPT09ICdsdW5jaCcpO1xuXG4gICAgICAgICAgICAgICAgICAgIHNjaGVkdWxlLndpbGwgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aWxsVHlwZTogdGltZXN0YW1wc1tpXS50eXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZDogZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGg6IGgsXG4gICAgICAgICAgICAgICAgICAgICAgICBtOiBtXG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgLy8g0JrQvtCz0LTQsCDQt9Cw0LrRgNC+0LXRgtGB0Y8g0LjQu9C4INC+0YLQutGA0L7QtdGC0YHRj1xuICAgICAgICAgICAgICAgICAgICB2YXIgd2lsbFdoZW4gPSBuZXcgRGF0ZSh0aW1lc3RhbXBzW2ldLnRzKTtcbiAgICAgICAgICAgICAgICAgICAgc2NoZWR1bGUud2lsbC53aGVuID0gd2hlbk9wZW5JbnZlcnNlKGgsIGQsIHdpbGxXaGVuLmdldERheSgpKTtcblxuXG4gICAgICAgICAgICAgICAgICAgIHZhciB3aWxsVGlsbCA9IG5ldyBEYXRlKHRpbWVzdGFtcHNbaV0udHMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RySG91cnMgPSB3aWxsVGlsbC5nZXRIb3VycygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RyTWludXRlcyA9IHdpbGxUaWxsLmdldE1pbnV0ZXMoKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoc3RySG91cnMgPCAxMCkgeyBzdHJIb3VycyA9ICcwJyArIHN0ckhvdXJzOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdHJNaW51dGVzIDwgMTApIHsgc3RyTWludXRlcyA9ICcwJyArIHN0ck1pbnV0ZXM7IH1cblxuICAgICAgICAgICAgICAgICAgICBzY2hlZHVsZS53aWxsLnRpbGwgPSBzdHJIb3VycysnOicrc3RyTWludXRlcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghdG9kYXkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47IC8vINCd0LAg0YHQtdCz0L7QtNC90Y8g0YDQsNGB0L/QuNGB0LDQvdC40Y8g0L3QtdGCIC0g0YHQtdC50YfQsNGBINC30LDQutGA0YvRgtC+XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRpbWVQb2ludHMgPSBwbHVjayhnZXRTb3J0ZWRUaW1lUG9pbnRzKHRvZGF5KSwgJ3RpbWUnKTtcblxuICAgICAgICAgICAgLy8g0KbQuNC60Lsg0L/QviDQv9C10YDQuNC+0LTQsNC8INGA0LDQsdC+0YLRiyDQt9CwINC00LXQvdGMXG4gICAgICAgICAgICBmb3IgKGkgPSAyIDsgaSA8IHRpbWVQb2ludHMubGVuZ3RoIDsgaSA9IGkgKyAyKSB7XG4gICAgICAgICAgICAgICAgcGVyaW9kcy5wdXNoKHsgZnJvbTogdGltZVBvaW50c1tpIC0gMV0sIHRvOiB0aW1lUG9pbnRzW2ldIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmcm9tID0gZm9ybWF0VGltZSh0aW1lUG9pbnRzWzBdKTtcbiAgICAgICAgICAgIHRvID0gZm9ybWF0VGltZSh0aW1lUG9pbnRzW3RpbWVQb2ludHMubGVuZ3RoIC0gMV0pO1xuXG4gICAgICAgICAgICBpZiAoZnJvbSA9PT0gdG8pIHsgLy8g0JrRgNGD0LPQu9C+0YHRg9GC0L7Rh9C90L5cbiAgICAgICAgICAgICAgICBzY2hlZHVsZS50b2RheSA9IHtcbiAgICAgICAgICAgICAgICAgICAgYWxsdGltZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgYWxsdGltZVN0cjogdChsb2NhbExhbmcsICd3b3Jrc0Fyb3VuZFRoZUNsb2NrJyksXG4gICAgICAgICAgICAgICAgICAgIGZyb206ICcwMDowMCcsXG4gICAgICAgICAgICAgICAgICAgIHRvOiAnMjQ6MDAnXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0gZWxzZSB7IC8vINCe0YIgZnJvbSDQtNC+IHRvXG4gICAgICAgICAgICAgICAgc2NoZWR1bGUudG9kYXkgPSB7XG4gICAgICAgICAgICAgICAgICAgIGZyb206IGZyb20sXG4gICAgICAgICAgICAgICAgICAgIHRvOiB0b1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChwZXJpb2RzLmxlbmd0aCA+IDApIHsgLy8g0J/QtdGA0LXRgNGL0LLRiyDQvdCwINC+0LHQtdC0XG4gICAgICAgICAgICAgICAgc2NoZWR1bGUubHVuY2ggPSBwZXJpb2RzO1xuICAgICAgICAgICAgICAgIHNjaGVkdWxlLmx1bmNoU3RyID0gdChsb2NhbExhbmcsICdsdW5jaCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8g0KTQvtGA0LzQuNGA0L7QstCw0L3QuNC1INC+0LHRitC10LrRgtCwLdGC0LDQsdC70LjRhtGLLdGA0LDRgdC/0LjRgdCw0L3QuNGPINC00LvRjyDRiNCw0LHQu9C+0L3QsFxuICAgICAgICBmdW5jdGlvbiBtYWtlVGFibGUoKSB7XG4gICAgICAgICAgICB2YXIgY29sdW1uID0gW10sXG4gICAgICAgICAgICAgICAgaGFzTHVuY2ggPSBmYWxzZTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDAgOyBqIDwgNyA7IGorKykge1xuICAgICAgICAgICAgICAgIHZhciBkYXlLZXkgPSB3ZWVrS2V5c1tqXSxcbiAgICAgICAgICAgICAgICAgICAgbHVuY2hNYXhMZW5ndGggPSAwO1xuXG4gICAgICAgICAgICAgICAgY29sdW1uW2pdID0ge307XG5cbiAgICAgICAgICAgICAgICBpZiAobW9kZWxbZGF5S2V5XSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGF5ID0gbW9kZWxbZGF5S2V5XSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVQb2ludHMgPSBwbHVjayhnZXRTb3J0ZWRUaW1lUG9pbnRzKGRheSksICd0aW1lJyksXG4gICAgICAgICAgICAgICAgICAgICAgICBsdW5jaCA9IFtdOyAvLyDQntGC0YDQtdC30LrQuCDQstGA0LXQvNC10L3QuCAo0L7RgtGB0L7RgNGC0LjRgNC+0LLQsNC90L3Ri9C1INC80L7QvNC10L3RgtGLKSDQvdCwINC+0LHQtdC00YtcblxuICAgICAgICAgICAgICAgICAgICAvLyDQptC40LrQuyDQv9C+INC/0LXRgNC40L7QtNCw0Lwg0YDQsNCx0L7RgtGLINC30LAg0LTQtdC90YxcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDIgOyBpIDwgdGltZVBvaW50cy5sZW5ndGggOyBpID0gaSArIDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc0x1bmNoID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGx1bmNoLnB1c2goeyBmcm9tOiB0aW1lUG9pbnRzW2kgLSAxXSwgdG86IHRpbWVQb2ludHNbaV0gfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbHVuY2hNYXhMZW5ndGggPSBNYXRoLm1heCh0aW1lUG9pbnRzLmxlbmd0aCAvIDIsIGx1bmNoTWF4TGVuZ3RoKTtcblxuICAgICAgICAgICAgICAgICAgICBjb2x1bW5bal0gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmcm9tOiBmb3JtYXRUaW1lKHRpbWVQb2ludHNbMF0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG86IGZvcm1hdFRpbWUodGltZVBvaW50c1t0aW1lUG9pbnRzLmxlbmd0aCAtIDFdKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGx1bmNoOiBsdW5jaFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChkYXlLZXkgPT09IHRvZGF5S2V5KSB7IC8vINCh0LXQs9C+0LTQvdGP0YjQvdC40Lkg0LTQtdC90Ywg0L3QsNC00L4g0L/QvtC00YHQstC10YLQuNGC0YxcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uW2pdLmFjdGl2ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29sdW1uW2pdLmtleSA9IHdlZWtLZXlzTG9jYWxbal07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vINCU0L7Qv9C+0LvQvdC10L3QuNC1INC/0YPRgdGC0YvQvNC4INC+0LHRitC10LrRgtCw0LzQuCDQvNCw0YHRgdC40LLQvtCyIGx1bmNoXG4gICAgICAgICAgICBjb2x1bW4uZm9yRWFjaCggZnVuY3Rpb24gKGNvbCkge1xuICAgICAgICAgICAgICAgIGlmIChjb2wubHVuY2gpIHtcbiAgICAgICAgICAgICAgICAgICAgZmlsbERlZmF1bHRzKGNvbC5sdW5jaCwgcmFuZ2UoMSwgbHVuY2hNYXhMZW5ndGgpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0YWJsZTogY29sdW1uLFxuICAgICAgICAgICAgICAgIGhhc0x1bmNoOiBoYXNMdW5jaFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vINCh0LPQtdC90LXRgNC40YDQvtCy0LDRgtGMINGB0YLRgNC+0LrRgyDQtNC70Y8g0LLRgdC10YUg0LTQvdC10LkgbW9kZWwsINGB0L7QstC/0LDQtNCw0Y7RidC40YUg0YEgZGF5XG4gICAgICAgIGZ1bmN0aW9uIG1ha2VTaW1wbGVTdHJpbmcoZGF5LCBtb2RlbCkge1xuICAgICAgICAgICAgdmFyIHBvaW50cyxcbiAgICAgICAgICAgICAgICBvdXQgPSB7XG4gICAgICAgICAgICAgICAgICAgIGRheUxpc3Q6IFtdLFxuICAgICAgICAgICAgICAgICAgICBsdW5jaDogW11cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGx1bmNoZXNUaW1lID0gW107XG5cbiAgICAgICAgICAgIGlmIChkYXkgJiYgZGF5LndvcmtpbmdfaG91cnMgJiYgZGF5LndvcmtpbmdfaG91cnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcG9pbnRzID0gcGx1Y2soZ2V0U29ydGVkVGltZVBvaW50cyhkYXkpLCAndGltZScpO1xuICAgICAgICAgICAgICAgIHBvaW50cy5mb3JFYWNoKCBmdW5jdGlvbiAocG9pbnQsIGtleSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoa2V5ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvdXQuZnJvbSA9IGZvcm1hdFRpbWUocG9pbnQpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gcG9pbnRzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dC50byA9IGZvcm1hdFRpbWUocG9pbnQpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbHVuY2hlc1RpbWUucHVzaChmb3JtYXRUaW1lKHBvaW50KSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGx1bmNoZXNUaW1lLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgICAgICAgICAgICAgIG91dC5sdW5jaC5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZyb206IGx1bmNoZXNUaW1lW2ldLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG86IGx1bmNoZXNUaW1lW2kgKyAxXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGx1bmNoU3RyOiBjYXBpdGFsaXNlRmlyc3RMZXR0ZXIodChsb2NhbExhbmcsICdsdW5jaCcpKVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAob3V0LmZyb20gPT0gJzAwOjAwJyAmJiBvdXQudG8gPT0gJzAwOjAwJykge1xuICAgICAgICAgICAgICAgICAgICBvdXQudG8gPSAnMjQ6MDAnO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChkYXkucm91bmRfdGhlX2Nsb2NrKSB7XG4gICAgICAgICAgICAgICAgICAgIG91dC5hbGx0aW1lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgb3V0LmFsbHRpbWVTdHIgPSB0KGxvY2FsTGFuZywgJ3dvcmtzQXJvdW5kVGhlQ2xvY2snKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgeyAvLyDQktGL0YXQvtC00L3QvtC5XG4gICAgICAgICAgICAgICAgb3V0LmhvbGlkYXkgPSB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyDQpNC+0YDQvNC40YDRg9C10Lwg0YHQv9C40YHQvtC6INC00L3QtdC5INC90LAg0LvQvtC60LDQu9GM0L3QvtC8INGP0LfRi9C60LVcbiAgICAgICAgICAgIHZhciBncm91cFdvcmtpbmdEYXlzID0gWzAsIDAsIDAsIDAsIDAsIDAsIDBdOyAvLyDQpNC70LDQs9C4INGA0LDQsdC+0YLRiyDRhNC40YDQvNGLINCyINC00L3QuCDRgtC10LrRg9GJ0LXQuSDQs9GA0YPQv9C/0YtcbiAgICAgICAgICAgIHZhciBmbG93ID0gMDtcblxuICAgICAgICAgICAgd2Vla0tleXMuZm9yRWFjaCggZnVuY3Rpb24gKGRheUtleSwgbnVtS2V5KSB7IC8vICdNb24nLCAwXG4gICAgICAgICAgICAgICAgaWYgKGlzRXF1YWwobW9kZWxbZGF5S2V5XSwgZGF5KSB8fCAoIW1vZGVsW2RheUtleV0gJiYgZGF5ID09PSBudWxsKSkge1xuICAgICAgICAgICAgICAgICAgICBvdXQuZGF5TGlzdC5wdXNoKHdlZWtGdWxsS2V5c0xvY2FsW251bUtleV0pO1xuICAgICAgICAgICAgICAgICAgICBncm91cFdvcmtpbmdEYXlzW2RheU51bShudW1LZXkgKyBmaXJzdGRheU9mZnNldCldID0gMTtcbiAgICAgICAgICAgICAgICAgICAgZmxvdysrO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmbG93ID4gMikgeyAvLyDQkdC+0LvQtdC1IDIg0LTQvdC10Lkg0L/QvtC00YDRj9C0XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGFzdERheSA9IG91dC5kYXlMaXN0LnBvcCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMSA7IGkgPCBmbG93IC0gMSA7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dC5kYXlMaXN0LnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBvdXQuZGF5TGlzdFtvdXQuZGF5TGlzdC5sZW5ndGggLSAxXSArPSAnIOKAlCAnICsgbGFzdERheTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGZsb3cgPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyDQodC/0LjRgdC+0Log0LTQvdC10Lkg0LIg0LTQsNC90L3QvtC5INCz0YDRg9C/0L/QtSDQuNC00LXQvdGC0LjRh9C10L0g0YHQv9C40YHQutGDINCx0YPQtNC90LjRhSDQtNC90LXQuSwg0LfQvdCw0YfQuNGCINC80L7QttC90L4g0LfQsNC80LXQvdC40YLRjCDRgdC70L7QstC+0LwgXCLQkdGD0LTQvdC4XCJcbiAgICAgICAgICAgIG91dC5idWRuaSA9IGlzRXF1YWwobG9jYWxXb3JraW5nRGF5cywgZ3JvdXBXb3JraW5nRGF5cyk7XG4gICAgICAgICAgICAvLyDQodC/0LjRgdC+0Log0YDQsNCx0L7Rh9C40YUg0LTQvdC10LkgLSDQstGB0LUg0LTQvdC4INC90LXQtNC10LvQuCwg0LfQvdCw0YfQuNGCINC90YPQttC90L4g0LLRi9Cy0L7QtNC40YLRjCDRhNGA0LDQt9GDIFwi0JXQttC10LTQvdC10LLQvdC+XCJcbiAgICAgICAgICAgIG91dC5ldmVyeWRheSA9ICggTWF0aC5taW4uYXBwbHkoTWF0aCwgZ3JvdXBXb3JraW5nRGF5cykgPT09IDEgKTtcblxuICAgICAgICAgICAgaWYgKCBvdXQuaG9saWRheSApIHsgb3V0LmhvbGlkYXlTdHIgPSB0KGxvY2FsTGFuZywgJ3Jlc3REYXknLCBvdXQuZGF5TGlzdC5sZW5ndGgpLnNsaWNlKDIpOyB9XG5cbiAgICAgICAgICAgIC8vINCU0LXQu9Cw0LXQvCDQuNC3INC80LDRgdGB0LjQstCwINGB0YLRgNC+0LrRgyDQuCDQv9C+0LTQvdC40LzQsNC10Lwg0L/QtdGA0LLRi9C5INGB0LjQvNCy0L7Qu1xuICAgICAgICAgICAgb3V0LmRheUxpc3QgPSBvdXQuZGF5TGlzdC5qb2luKCcsICcpO1xuICAgICAgICAgICAgb3V0LmRheUxpc3QgPSBvdXQuZGF5TGlzdC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIG91dC5kYXlMaXN0LnNsaWNlKDEpO1xuXG5cbiAgICAgICAgICAgIHJldHVybiBvdXQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyDQktC+0LfQstGA0LDRidCw0LXRgiDQvNCw0YHRgdC40LIgc2ltcGxlINGB0YLRgNC+0Log0L3QsCDQvtGB0L3QvtCy0LUg0LzQsNGB0YHQuNCy0LAg0LTQvdC10LkgZGF5c1xuICAgICAgICBmdW5jdGlvbiBtYWtlQWR2YW5jZWRTdHJpbmcoZGF5cywgbW9kZWwpIHtcbiAgICAgICAgICAgIHZhciBvdXQgPSBbXTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IGRheXMubGVuZ3RoIC0gMSA7IGkgPj0gMCA7IGktLSkge1xuICAgICAgICAgICAgICAgIG91dC5wdXNoKG1ha2VTaW1wbGVTdHJpbmcoZGF5c1tpXSwgbW9kZWwpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIG91dDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vINCX0LDQv9C+0LvQvdGP0LXQvCDQvdCw0LfQstCw0L3QuNGPINC00L3QtdC5INC90LXQtNC10LvQuCwgMSAtINC/0L7QvdC10LTQtdC70YzQvdC40LouINCSINC30LDQv9C+0LvQvdC10L3QvdGL0YUg0LzQsNGB0YHQuNCy0LDRhSDQv9C+0L3QtdC00LXQu9GM0L3QuNC6INGN0YLQviAwXG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDAgOyBpIDwgNyA7IGkrKykge1xuICAgICAgICAgICAgd2Vla0tleXNbaV0gPSB3ZWVrS2V5c1Nob3J0W2ldO1xuICAgICAgICAgICAgd2Vla0tleXNMb2NhbFtpXSA9IHRoaXMuZGljdC50KGxvY2FsTGFuZywgd2Vla0tleXNTaG9ydFtpXS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgICAgIHdlZWtGdWxsS2V5c0xvY2FsW2ldID0gdGhpcy5kaWN0LnQobG9jYWxMYW5nLCB3ZWVrS2V5c0Z1bGxbaV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8g0JLRi9GH0LjRgdC70Y/QtdC8INGB0LXQs9C+0LTQvdGP0YjQvdC40Lkg0LTQtdC90Ywg0L3QtdC00LXQu9C4ICjRgdGB0YvQu9C60YMg0L3QsCDQvtCx0YrQtdC60YIg0LTQvdGPINCyINC80L7QtNC10LvQuClcbiAgICAgICAgdG9kYXlLZXkgPSB3ZWVrS2V5c1Nob3J0W2RheU51bShuZXcgRGF0ZShub3cpLmdldERheSgpIC0gZmlyc3RkYXlPZmZzZXQpXTtcbiAgICAgICAgdG9kYXkgPSBtb2RlbFt0b2RheUtleV07IC8vINCe0LHRitC10LrRgiDRgNCw0YHQv9C40YHQsNC90LjRjyAtINGC0LXQutGD0YnQuNC5INC00LXQvdGMINC90LXQtNC10LvQuFxuICAgICAgICBzZXRUb2RheVN0cmluZyh0b2RheSk7IC8vINCh0LTQtdC70LDRgtGMINC+0LHRitC10LrRgiDQtNC70Y8g0YjQsNCx0LvQvtC90LAgLSDRgdGC0YDQvtC60LAsINC60L7RgtC+0YDQsNGPINC+0L/QuNGB0YvQstCw0LXRgiDQstGA0LXQvNGPINGA0LDQsdC+0YLRiyDRgdC10LPQvtC00L3Rj1xuXG4gICAgICAgIC8vINCd0LDRhdC+0LTQuNC8INC60L7Qu9C40YfQtdGB0YLQstC+INGA0LDQt9C90YvRhSDRgNCw0YHQv9C40YHQsNC90LjQuSDQuCDRgdC+0YXRgNCw0L3Rj9C10Lwg0LjRhSDQsiDQvNCw0YHRgdC40LJcbiAgICAgICAgdmFyIGFwaURpZmZlcmVudERheXMgPSBbXSwgLy8g0JzQsNGB0YHQuNCyINGA0LDQt9C70LjRh9Cw0Y7RidC40YXRgdGPINC00L3QtdC5INC40Lcg0LzQvtC00LXQu9C4XG4gICAgICAgICAgICBhcGlTY2hlZHVsZURheXNDb3VudCA9IDAsIC8vINCa0L7Qu9C40YfQtdGB0YLQstC+INC+0L/QuNGB0LDQvdC90YvRhSDQtNC90LXQuSDQsiDRgNCw0YHQv9C40YHQsNC90LjQuCDQvNC+0LTQtdC70LhcbiAgICAgICAgICAgIGFwaURpZmZlcmVudERheXNDb3VudCA9IDAsIC8vINCa0L7Qu9C40YfQtdGB0YLQstC+INGA0LDQt9C90YvRhSDQtNC90LXQuSDQsiDRgNCw0YHQv9C40YHQsNC90LjQuCDQvNC+0LTQtdC70LhcbiAgICAgICAgICAgIGRpZmZlcmVudFdvcmtpbmdIb3Vyc0NvdW50ID0gW107IC8vINCa0L7Qu9C40YfQtdGB0YLQstC+INGA0LDQsdC+0YfQuNGFINGH0LDRgdC+0LIg0LIg0YDQsNC30L3Ri9GFINC00L3Rj9GFXG5cbiAgICAgICAgT2JqZWN0LmtleXMobW9kZWwpLmZvckVhY2goIGZ1bmN0aW9uKGRheSkge1xuICAgICAgICAgICAgaWYgKG1vZGVsW2RheV0gJiYgbW9kZWxbZGF5XS53b3JraW5nX2hvdXJzKSB7IC8vINCf0YDQvtCy0LXRgNGP0LXQvCDRh9GC0L4g0Y3RgtC+INC00LXQvdGMLCDQsCDQvdC1INC60L7QvNC80LXQvdGC0LDRgNC40Lkg0LjQu9C4INGH0YLQvi3RgtC+INC10YnRkVxuICAgICAgICAgICAgICAgIGFwaVNjaGVkdWxlRGF5c0NvdW50Kys7XG4gICAgICAgICAgICAgICAgaWYgKCFpc0VxdWFsKG1vZGVsW2RheV0sIGdldEFycmF5TGFzdChhcGlEaWZmZXJlbnREYXlzKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgYXBpRGlmZmVyZW50RGF5cy5wdXNoKG1vZGVsW2RheV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgYXBpRGlmZmVyZW50RGF5c0NvdW50ID0gYXBpRGlmZmVyZW50RGF5cy5sZW5ndGg7XG4gICAgICAgIC8vINCV0YHQu9C4INC90LUg0LLRgdC1INC00L3QuCDQvtC/0LjRgdCw0L3RiyDQsiDQvNC+0LTQtdC70LgsINC30L3QsNGH0LjRgiDQtdGB0YLRjCDQtdGJ0ZEg0L7QtNC40L0g0YLQuNC/INC00L3QtdC5IC0g0LLRi9GF0L7QtNC90L7QuSAo0L7RgtGB0YPRgtGB0YLQstGD0YnQuNC5INCyINC80L7QtNC10LvQuClcbiAgICAgICAgaWYgKGFwaVNjaGVkdWxlRGF5c0NvdW50IDwgNykge1xuICAgICAgICAgICAgYXBpRGlmZmVyZW50RGF5c0NvdW50Kys7XG4gICAgICAgIH1cblxuICAgICAgICAvLyDQldGB0LvQuCDRgNCw0LfQvdGL0YUg0LHQvtC70LXQtSAyLCDRgtC+INGD0L/RgNC+0YHRgtC40YLRjCDQvdC1INC/0L7Qu9GD0YfQuNGC0YHRjyAtINC00LXQu9Cw0LXQvCDRgtCw0LHQu9C40YbRg1xuICAgICAgICBpZiAoYXBpRGlmZmVyZW50RGF5c0NvdW50ID4gMikge1xuICAgICAgICAgICAgc2NoZWR1bGUud2VlayA9IG1ha2VUYWJsZShtb2RlbCk7XG4gICAgICAgIH0gZWxzZSB7IC8vINCY0L3QsNGH0LUsINGB0L7RgdGC0LDQstC70Y/QtdC8INC60L7QvNC80LXQvdGC0LDRgNC40Lkg0LjQtyDQtNCy0YPRhSDRgdGC0YDQvtC6XG5cbiAgICAgICAgICAgIC8vINCh0LvRg9GH0LDQuSwg0LrQvtCz0LTQsCDQstGB0LUg0L7QtNC40L3QsNC60L7QstGL0LVcbiAgICAgICAgICAgIGlmIChhcGlEaWZmZXJlbnREYXlzQ291bnQgPT09IDEpIHtcbiAgICAgICAgICAgICAgICBzY2hlZHVsZS53ZWVrID0ge1xuICAgICAgICAgICAgICAgICAgICBldmVudGx5OiBbbWFrZVNpbXBsZVN0cmluZyhtb2RlbFt3ZWVrS2V5c1swXV0sIG1vZGVsKV1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIHsgLy8g0J7RgdGC0LDRkdGC0YHRjyDRgdC70YPRh9Cw0LksINC60L7Qs9C00LAg0LXRgdGC0Ywg0LTQstCwINGC0LjQv9CwINC00L3QtdC5XG4gICAgICAgICAgICAgICAgLy8g0J7Qv9GA0LXQtNC10LvRj9C10Lwg0LTQtdC90Ywg0YEg0L3QsNC40LHQvtC70YzRiNC40Lwg0LrQvtC70LjRh9C10YHRgtCy0L7QvCDRgNCw0LHQvtGH0LjRhSDRh9Cw0YHQvtCyINC40Lcg0YfQuNGB0LvQsCDRgNCw0LfQvdGL0YUg0LTQvdC10LlcbiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwIDsgaSA8IGFwaURpZmZlcmVudERheXNDb3VudCA7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBkaWZmZXJlbnRXb3JraW5nSG91cnNDb3VudFtpXSA9IDA7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGFwaURpZmZlcmVudERheXNbaV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwb2ludHMgPSBwbHVjayhnZXRTb3J0ZWRUaW1lUG9pbnRzKGFwaURpZmZlcmVudERheXNbaV0pLCAndGltZScpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMCA7IGogPCBwb2ludHMubGVuZ3RoIDsgaiA9IGogKyAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGhvdXJzID0gKGdldEhvdXJzKHBvaW50c1tqICsgMV0pICsgZ2V0TWludXRlcyhwb2ludHNbaiArIDFdKSAvIDYwKSAtIChnZXRIb3Vycyhwb2ludHNbal0pICsgZ2V0TWludXRlcyhwb2ludHNbal0pIC8gNjApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpZmZlcmVudFdvcmtpbmdIb3Vyc0NvdW50W2ldICs9IGhvdXJzO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgeyAvLyDQktGL0YXQvtC00L3QvtC5XG4gICAgICAgICAgICAgICAgICAgICAgICBhcGlEaWZmZXJlbnREYXlzW2ldID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciBhcGlTb3J0ZWREaWZmZXJlbnREYXlzID0gc29ydEJ5KGFwaURpZmZlcmVudERheXMsIGZ1bmN0aW9uIChkYXksIGtleSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGlmZmVyZW50V29ya2luZ0hvdXJzQ291bnRba2V5XTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHNjaGVkdWxlLndlZWsgPSB7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50bHk6IG1ha2VBZHZhbmNlZFN0cmluZyhhcGlTb3J0ZWREaWZmZXJlbnREYXlzLCBtb2RlbClcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgc2NoZWR1bGUuY29tbWVudCA9IG1vZGVsLmNvbW1lbnQ7XG4gICAgICAgIGlmIChzY2hlZHVsZS53ZWVrICYmIHNjaGVkdWxlLndlZWsuZXZlbnRseSAmJiBzY2hlZHVsZS53ZWVrLmV2ZW50bHkubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICBzY2hlZHVsZS5ldmVyeWRheSA9IHNjaGVkdWxlLndlZWsuZXZlbnRseVswXS5ldmVyeWRheTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2NoZWR1bGU7XG4gICAgfSxcblxuICAgIGZvcmVjYXN0OiBmdW5jdGlvbiAoc2NoZWR1bGUsIHBhcmFtcykge1xuICAgICAgICB2YXIgaW50ZXJ2YWwgPSAnJyxcbiAgICAgICAgb3BlbixcbiAgICAgICAgdG9kYXkgPSB7fSxcbiAgICAgICAgbm93VGV4dCxcbiAgICAgICAgbWF4SG91cnMgPSBwYXJhbXMgJiYgcGFyYW1zLm1heEhvdXJzIHx8IDE7XG5cbiAgICAgICAgaWYgKCFzY2hlZHVsZSkge1xuICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNjaGVkdWxlLmFsd2F5cykgeyAvLyDQmtGA0YPQs9C70L7RgdGD0YLQvtGH0L3QviDQtdC20LXQtNC90LXQstC90L4gLSDQsdC+0LvQtdC1INC90LjRh9C10LPQviDQstGL0LLQvtC00LjRgtGMINC90LUg0L3Rg9C20L3QvlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0b2RheToge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0OiB0aGlzLmRpY3QudCh0aGlzLmxvY2FsTGFuZywgJ2Fyb3VuZFRoZUNsb2NrJylcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9wZW46IHRydWVcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICAvLyDQpNC+0YDQvNC40YDRg9C10Lwg0YHRgtGA0L7QutGDIC0g0YfQtdGA0LXQtyDRgdC60L7Qu9GM0LrQviDQv9GA0L7QuNC30L7QudC00ZHRgiDRgdC70LXQtNGD0Y7RidCw0Y8g0LjQvdCy0LXRgNGB0LjRjyDQvtGC0LrRgNGL0YLQvtGB0YLQuFxuICAgICAgICBpZiAoc2NoZWR1bGUud2lsbCAmJiBzY2hlZHVsZS53aWxsLmggPCBtYXhIb3Vycykge1xuICAgICAgICAgICAgaWYgKHNjaGVkdWxlLndpbGwuaCkge1xuICAgICAgICAgICAgICAgIGludGVydmFsICs9IHRoaXMuZGljdC50KHRoaXMubG9jYWxMYW5nLCAnbkhvdXJzJywgc2NoZWR1bGUud2lsbC5oKSArICcgJztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHNjaGVkdWxlLndpbGwubSkge1xuICAgICAgICAgICAgICAgIGludGVydmFsICs9IHRoaXMuZGljdC50KHRoaXMubG9jYWxMYW5nLCAnbk1pbnMnLCBzY2hlZHVsZS53aWxsLm0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8g0JTQsNC90L3Ri9C1INC90LAg0YHQtdCz0L7QtNC90Y9cbiAgICAgICAgaWYgKHNjaGVkdWxlLnRvZGF5KSB7XG4gICAgICAgICAgICB0b2RheS50ZXh0ID0gdGhpcy5kaWN0LnQodGhpcy5sb2NhbExhbmcsICd0b2RheScpO1xuICAgICAgICAgICAgaWYgKHNjaGVkdWxlLmV2ZXJ5ZGF5KSB7XG4gICAgICAgICAgICAgICAgdG9kYXkudGV4dCA9IHRoaXMuZGljdC50KHRoaXMubG9jYWxMYW5nLCAnZXZlcnlkYXknKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRvZGF5LmZyb20gPSBzY2hlZHVsZS50b2RheS5mcm9tO1xuICAgICAgICAgICAgdG9kYXkudG8gPSBzY2hlZHVsZS50b2RheS50bztcbiAgICAgICAgICAgIHRvZGF5Lmx1bmNoID0gc2NoZWR1bGUubHVuY2g7XG4gICAgICAgICAgICBpZiAodG9kYXkubHVuY2gpIHtcbiAgICAgICAgICAgICAgICB0b2RheS5sdW5jaFN0ciA9IHRoaXMuZGljdC50KHRoaXMubG9jYWxMYW5nLCAnbHVuY2gnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRvZGF5LnRleHQgPSB0aGlzLmRpY3QudCh0aGlzLmxvY2FsTGFuZywgJ3RvZGF5SXNSZXN0RGF5Jyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyDQotC10LrRg9GJ0LjQuSDRgdGC0LDRgtGD0YEg0Lgg0L/RgNC+0LPQvdC+0LdcbiAgICAgICAgaWYgKHNjaGVkdWxlLmFsd2F5cykgeyAvLyDQldGB0LvQuCDQutGA0YPQs9C70L7RgdGD0YLQvtGH0L3Qviwg0L3QuNGH0LXQs9C+INC60YDQvtC80LUgXCLQmtGA0YPQs9C70L7RgdGD0YLQvtGH0L3QvlwiINCy0YvQstC+0LTQuNGC0Ywg0L3QtSDQvdGD0LbQvdC+XG4gICAgICAgICAgICB0b2RheS50ZXh0ID0gdGhpcy5kaWN0LnQodGhpcy5sb2NhbExhbmcsICdhcm91bmRUaGVDbG9jaycpO1xuICAgICAgICAgICAgb3BlbiA9IHRydWU7XG4gICAgICAgIH0gZWxzZSBpZiAoc2NoZWR1bGUubm93KSB7XG4gICAgICAgICAgICBvcGVuID0gc2NoZWR1bGUubm93Lm9wZW47XG4gICAgICAgICAgICBpZiAob3BlbikgeyAvLyDQvtGC0LrRgNGL0YLQvlxuICAgICAgICAgICAgICAgIGlmIChzY2hlZHVsZS53aWxsICYmIHNjaGVkdWxlLndpbGwud2lsbFR5cGUgPT09ICdsdW5jaCcpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8g0LTQsNC70LXQtSAtINC30LDQutGA0YvRgtC40LUg0L3QsCDQvtCx0LXQtFxuICAgICAgICAgICAgICAgICAgICBpZiAoc2NoZWR1bGUud2lsbCAmJiBzY2hlZHVsZS53aWxsLmggPCBtYXhIb3Vycykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8g0LzQtdC90LXQtSBtYXhIb3VycyDQtNC+INC30LDQutGA0YvRgtC40Y8gINC90LAg0L7QsdC10LRcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vd1RleHQgPSB0aGlzLmRpY3QudCh0aGlzLmxvY2FsTGFuZywgJ19pbicpICsgJyAnICsgdGhpcy5kaWN0LnQodGhpcy5sb2NhbExhbmcsICduTWlucycsIGludGVydmFsKSArIHRoaXMuZGljdC50KHRoaXMubG9jYWxMYW5nLCAnaXNDbG9zaW5nT25EaW5uZXInKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vINCx0L7Qu9GM0YjQtSBtYXhIb3VycyDQtNC+INC30LDQutGA0YvRgtC40Y8gINC90LAg0L7QsdC10LRcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vd1RleHQgPSB0aGlzLmRpY3QudCh0aGlzLmxvY2FsTGFuZywgJ2lzT3BlbicpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyDQtNCw0LvQtdC1INC/0YDQvtGB0YLQviDQt9Cw0LrRgNGL0YLQuNC1XG4gICAgICAgICAgICAgICAgICAgIGlmIChzY2hlZHVsZS53aWxsLmggPCBtYXhIb3Vycykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8g0LzQtdC90LXQtSBtYXhIb3VycyDQtNC+INC30LDQutGA0YvRgtC40Y8g0L/RgNC+0YHRgtC+XG4gICAgICAgICAgICAgICAgICAgICAgICBub3dUZXh0ID0gdGhpcy5kaWN0LnQodGhpcy5sb2NhbExhbmcsICdjbG9zZUluJykgKyB0aGlzLmRpY3QudCh0aGlzLmxvY2FsTGFuZywgJ25NaW5zJywgaW50ZXJ2YWwpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8g0LHQvtC70YzRiNC1IG1heEhvdXJzINC00L4g0LfQsNC60YDRi9GC0LjRjyDQv9GA0L7RgdGC0L5cbiAgICAgICAgICAgICAgICAgICAgICAgIG5vd1RleHQgPSB0aGlzLmRpY3QudCh0aGlzLmxvY2FsTGFuZywgJ2lzT3BlbicpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHsgLy8g0LfQsNC60YDRi9GC0L5cbiAgICAgICAgICAgICAgICBpZiAoc2NoZWR1bGUud2lsbCAmJiBzY2hlZHVsZS53aWxsLndoZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8g0L7RgtC60YDQvtC10YLRgdGPINC90LUg0YHQtdCz0L7QtNC90Y9cbiAgICAgICAgICAgICAgICAgICAgbm93VGV4dCA9IHRoaXMuZGljdC50KHRoaXMubG9jYWxMYW5nLCAnb3BlbicpICsgc2NoZWR1bGUud2lsbC53aGVuO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vINC+0YLQutGA0L7QtdGC0YHRjyDRgdC10LPQvtC00L3Rj1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2NoZWR1bGUubm93ICYmIHNjaGVkdWxlLm5vdy5sdW5jaCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8g0YHQtdC50YfQsNGBINC+0LHQtdC0XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2NoZWR1bGUud2lsbC5oIDwgbWF4SG91cnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDQvNC10L3QtdC1IG1heEhvdXJzINC00L4g0L7RgtC60YDRi9GC0LjRjyDRgSDQvtCx0LXQtNCwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm93VGV4dCA9IHRoaXMuZGljdC50KHRoaXMubG9jYWxMYW5nLCAnTHVuY2gnKSArIHRoaXMuZGljdC50KHRoaXMubG9jYWxMYW5nLCAnb3BlbkluJykgKyB0aGlzLmRpY3QudCh0aGlzLmxvY2FsTGFuZywgJ25NaW5zJywgaW50ZXJ2YWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDQsdC+0LvRjNGI0LUgbWF4SG91cnMg0LTQviDQvtGC0LrRgNGL0YLQuNGPINGBINC+0LHQtdC00LBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3dUZXh0ID0gdGhpcy5kaWN0LnQodGhpcy5sb2NhbExhbmcsICdMdW5jaCcpICsgdGhpcy5kaWN0LnQodGhpcy5sb2NhbExhbmcsICdvcGVuQXQnKSArIHNjaGVkdWxlLndpbGwudGlsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vINC/0YDQvtGB0YLQviDQt9Cw0LrRgNGL0YLQvlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNjaGVkdWxlLndpbGwgJiYgc2NoZWR1bGUud2lsbC5oIDwgbWF4SG91cnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDQvNC10L3QtdC1IG1heEhvdXJzINC00L4g0L7RgtC60YDRi9GC0LjRjyDQv9GA0L7RgdGC0L5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3dUZXh0ID0gdGhpcy5kaWN0LnQodGhpcy5sb2NhbExhbmcsICdvcGVuSW4nKSArIHRoaXMuZGljdC50KHRoaXMubG9jYWxMYW5nLCAnbk1pbnMnLCBpbnRlcnZhbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vINCx0L7Qu9GM0YjQtSBtYXhIb3VycyDQtNC+INC+0YLQutGA0YvRgtC40Y8g0L/RgNC+0YHRgtC+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm93VGV4dCA9IHRoaXMuZGljdC50KHRoaXMubG9jYWxMYW5nLCAnb3BlbkF0JykgKyBzY2hlZHVsZS53aWxsLnRpbGw7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdG9kYXk6IHRvZGF5LFxuICAgICAgICAgICAgbm93OiBub3dUZXh0LFxuICAgICAgICAgICAgb3Blbjogb3BlbixcbiAgICAgICAgICAgIHdlZWs6IHNjaGVkdWxlLndlZWssXG4gICAgICAgICAgICBjb21tZW50OiBzY2hlZHVsZS5jb21tZW50LFxuICAgICAgICAgICAgZXZlcnlkYXk6IHNjaGVkdWxlLmV2ZXJ5ZGF5XG4gICAgICAgIH07XG4gICAgfVxufTtcbiIsIi8qZ2xvYmFsXG4gICAgRmlybUNhcmQ6ZmFsc2VcbiovXG4vLyBGaXJtQ2FyZC5kaWN0aW9uYXJ5ID0ge307XG5cbkZpcm1DYXJkLnByb3RvdHlwZS5kaWN0ID0ge1xuXG4gICAgdDogZnVuY3Rpb24gKGxhbmcsIG1zZywgYXJndW1lbnQpIHsgLy8gKFN0cmluZywgTnVtYmVyKSAtPiBTdHJpbmdcbiAgICAgICAgdmFyIHJlc3VsdCxcbiAgICAgICAgICAgIG1zZ0lzc2V0ID0gZmFsc2UsXG4gICAgICAgICAgICBkaWN0aW9uYXJ5TXNnLFxuICAgICAgICAgICAgZXhwO1xuXG4gICAgICAgIGlmICh0eXBlb2YgdGhpc1tsYW5nXSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIGlmIChsYW5nID09PSAnYXInKSB7XG4gICAgICAgICAgICAgICAgbGFuZyA9ICdlbic7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGxhbmcgPSAncnUnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGRpY3Rpb25hcnlNc2cgPSB0aGlzW2xhbmddW21zZ107XG4gICAgICAgIG1zZ0lzc2V0ID0gdHlwZW9mIGRpY3Rpb25hcnlNc2cgIT09ICd1bmRlZmluZWQnO1xuICAgICAgICBpZiAoIW1zZ0lzc2V0KSB7XG4gICAgICAgICAgICByZXR1cm4gbXNnO1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdCA9IG1zZ0lzc2V0ID8gZGljdGlvbmFyeU1zZyA6IG1zZztcblxuICAgICAgICBpZiAoYXJndW1lbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgYXJndW1lbnQgPSBwYXJzZUludChhcmd1bWVudCwgMTApO1xuICAgICAgICAgICAgYXJndW1lbnQgPSBpc05hTihhcmd1bWVudCkgPyAwIDogYXJndW1lbnQ7XG4gICAgICAgICAgICBleHAgPSB0aGlzW2xhbmddLnBsdXJhbFJ1bGVzKGFyZ3VtZW50KTtcbiAgICAgICAgICAgIHJlc3VsdCA9IGFyZ3VtZW50ICsgJyAnICsgZGljdGlvbmFyeU1zZ1tleHBdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSxcblxuICAgIHJ1OiB7XG4gICAgICAgIHBsdXJhbFJ1bGVzOiBmdW5jdGlvbiAobikgeyAvLyAoTnVtYmVyKVxuICAgICAgICAgICAgaWYgKG4gJSAxMCA9PT0gMSAmJiBuICUgMTAwICE9PSAxMSkgeyAvLyAxLCAyMVxuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKChuICUgMTAgPj0gMiAmJiBuICUgMTAgPD0gNCAmJiAobiAlIDEwKSAlIDEgPT09IDApICYmIChuICUgMTAwIDwgMTIgfHwgbiAlIDEwMCA+IDE0KSkgeyAvLyAyLCAzXG4gICAgICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICgobiAlIDEwID09PSAwKSB8fCAobiAlIDEwID49IDUgJiYgbiAlIDEwIDw9IDkgJiYgKG4gJSAxMCkgJSAxID09PSAwKSB8fCAobiAlIDEwMCA+PSAxMSAmJiAobiAlIDEwMCkgPD0gMTQgJiYgKG4gJSAxMDApICUgMSA9PT0gMCkpIHsgLy8gMTMsIDE3XG4gICAgICAgICAgICAgICAgcmV0dXJuIDI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgYnRuQmFjazogJ9Cd0LDQt9Cw0LQnLFxuICAgICAgICBidG5GaW5kV2F5OiAn0J/RgNC+0LXRhdCw0YLRjCDRgdGO0LTQsCcsXG4gICAgICAgIGJ0bkVudHJhbmNlOiAn0J3QsNC50YLQuCDQstGF0L7QtCcsXG4gICAgICAgIGxpbmtSZXZpZXdzOiBbJ9C+0YLQt9GL0LInLCAn0L7RgtC30YvQstCwJywgJ9C+0YLQt9GL0LLQvtCyJ10sXG4gICAgICAgIGxpbmtQaG90bzogWyfRhNC+0YLQvicsICfRhNC+0YLQvicsICfRhNC+0YLQviddLFxuICAgICAgICBsaW5rQm9va2xldDogJ9CR0YPQutC70LXRgicsXG4gICAgICAgIHRvbW1vcm93OiAn0LfQsNCy0YLRgNCwJyxcbiAgICAgICAgYWZ0ZXJUb21tb3JvdzogJ9C/0L7RgdC70LXQt9Cw0LLRgtGA0LAnLFxuICAgICAgICBhZnRlcldlZWs6ICfRh9C10YDQtdC3INC90LXQtNC10LvRjicsXG4gICAgICAgIG5leHRTdW46ICfQsiDQstC+0YHQutGA0LXRgdC10L3RjNC1JyxcbiAgICAgICAgbmV4dE1vbjogJ9CyINC/0L7QvdC10LTQtdC70YzQvdC40LonLFxuICAgICAgICBuZXh0VHVlOiAn0LLQviDQstGC0L7RgNC90LjQuicsXG4gICAgICAgIG5leHRXZWQ6ICfQsiDRgdGA0LXQtNGDJyxcbiAgICAgICAgbmV4dFRodTogJ9CyINGH0LXRgtCy0LXRgNCzJyxcbiAgICAgICAgbmV4dEZyaTogJ9CyINC/0Y/RgtC90LjRhtGDJyxcbiAgICAgICAgbmV4dFNhdDogJ9CyINGB0YPQsdCx0L7RgtGDJyxcbiAgICAgICAgd2lsbE9wZW46ICfQvtGC0LrRgNC+0LXRgtGB0Y8nLFxuICAgICAgICB3aWxsQ2xvc2U6ICfQt9Cw0LrRgNC+0LXRgtGB0Y8nLFxuICAgICAgICBpc09wZW46ICfQntGC0LrRgNGL0YLQvicsXG4gICAgICAgIG9wZW5UaWxsOiAn0J7RgtC60YDRi9GC0L4g0LTQviAnLFxuICAgICAgICBjbG9zZUluOiAn0JfQsNC60YDQvtC10YLRgdGPINGH0LXRgNC10LcgJyxcbiAgICAgICAgb3BlbkF0OiAn0J7RgtC60YDQvtC10YLRgdGPINCyICcsXG4gICAgICAgIG9wZW5JbjogJ9Ce0YLQutGA0L7QtdGC0YHRjyDRh9C10YDQtdC3ICcsXG4gICAgICAgIG9wZW46ICfQntGC0LrRgNC+0LXRgtGB0Y8gJyxcbiAgICAgICAgbkhvdXJzOiBbJ9GH0LDRgScsICfRh9Cw0YHQsCcsICfRh9Cw0YHQvtCyJ10sXG4gICAgICAgIG5NaW5zOiBbJ9C80LjQvdGD0YLRgycsICfQvNC40L3Rg9GC0YsnLCAn0LzQuNC90YPRgiddLFxuICAgICAgICBsdW5jaDogJ9C+0LHQtdC0JyxcbiAgICAgICAgTHVuY2g6ICfQntCx0LXQtC4gJyxcbiAgICAgICAgd29ya2luZ0RheXM6ICfQoNCw0LHQvtGH0LjQtSDQtNC90LgnLFxuICAgICAgICB3ZWVrZGF5czogJ9CR0YPQtNC90LjQtSDQtNC90LgnLFxuICAgICAgICByZXN0RGF5OiBbJ9Cy0YvRhdC+0LTQvdC+0LknLCAn0LLRi9GF0L7QtNC90YvQtScsJ9Cy0YvRhdC+0LTQvdGL0LUnXSxcbiAgICAgICAgcmV2aWV3c09uRmxhbXA6ICfQntGC0LfRi9Cy0Ysg0L3QsCDQpNC70LDQvNC/0LUnLFxuICAgICAgICB3cml0ZVJldmlld09uRmxhbXA6ICfQndCw0L/QuNGB0LDRgtGMINC+0YLQt9GL0LIg0L3QsCDQpNC70LDQvNC/0LUnLFxuICAgICAgICBwYXltZW50OiAn0L7Qv9C70LDRgtCwJyxcbiAgICAgICAgZXZlcnlkYXk6ICfQldC20LXQtNC90LXQstC90L4gYycsXG4gICAgICAgIHdvcmtzQXJvdW5kVGhlQ2xvY2s6ICfQoNCw0LHQvtGC0LDQtdGCINC60YDRg9Cz0LvQvtGB0YPRgtC+0YfQvdC+JyxcbiAgICAgICAgYXJvdW5kVGhlQ2xvY2s6ICfQmtGA0YPQs9C70L7RgdGD0YLQvtGH0L3QvicsXG4gICAgICAgIGtub3dNb3JlOiAn0YPQt9C90LDRgtGMINCx0L7Qu9GM0YjQtScsXG4gICAgICAgIHRvQ2xvc2U6ICfQtNC+INC30LDQutGA0YvRgtC40Y8nLFxuICAgICAgICBtb25kYXk6ICfQv9C+0L3QtdC00LXQu9GM0L3QuNC6JyxcbiAgICAgICAgdHVlc2RheTogJ9Cy0YLQvtGA0L3QuNC6JyxcbiAgICAgICAgd2VkbmVzZGF5OiAn0YHRgNC10LTQsCcsXG4gICAgICAgIHRodXJzZGF5OiAn0YfQtdGC0LLQtdGA0LMnLFxuICAgICAgICBmcmlkYXk6ICfQv9GP0YLQvdC40YbQsCcsXG4gICAgICAgIHNhdHVyZGF5OiAn0YHRg9Cx0LHQvtGC0LAnLFxuICAgICAgICBzdW5kYXk6ICfQstC+0YHQutGA0LXRgdC10L3RjNC1JyxcbiAgICAgICAgbW9uOiAn0L/QvtC9JyxcbiAgICAgICAgdHVlOiAn0LLRgtGAJyxcbiAgICAgICAgd2VkOiAn0YHRgNC0JyxcbiAgICAgICAgdGh1OiAn0YfRgtCyJyxcbiAgICAgICAgZnJpOiAn0L/RgtC9JyxcbiAgICAgICAgc2F0OiAn0YHQsdGCJyxcbiAgICAgICAgc3VuOiAn0LLRgdC6JyxcbiAgICAgICAgdG9MdW5jaDogJ9C00L4g0L7QsdC10LTQsCcsXG4gICAgICAgIHRvZGF5OiAn0KHQtdCz0L7QtNC90Y8nLFxuICAgICAgICBsZXNzVGhlbkhvdXI6ICfQvNC10L3QtdC1INGH0LDRgdCwJyxcbiAgICAgICAgeW91Q291bGRMYXRlOiAn0LLRiyDQvNC+0LbQtdGC0LUg0L3QtSDRg9GB0L/QtdGC0YwnLFxuICAgICAgICB3b3JraW5nVGltZTogJ9GA0LDQsdC+0YfQtdC1INCy0YDQtdC80Y8nLFxuICAgICAgICBzaG93QWxsT3JnSW5SdWJyaWM6ICfQn9C+0LrQsNC30LDRgtGMINCy0YHQtSDQvtGA0LPQsNC90LjQt9Cw0YbQuNC4INGA0YPQsdGA0LjQutC4JyxcbiAgICAgICAgdG9kYXlJc1Jlc3REYXk6ICfQodC10LPQvtC00L3RjyDQstGL0YXQvtC00L3QvtC5JyxcbiAgICAgICAgaW50ZXJuZXQ6ICfQntC/0LvQsNGC0LAg0YfQtdGA0LXQtyDQmNC90YLQtdGA0L3QtdGCJyxcbiAgICAgICAgbm9uY2FzaDogJ9CR0LXQt9C90LDQu9C40YfQvdGL0Lkg0YDQsNGB0YfQtdGCJyxcbiAgICAgICAgZ29sZGNyb3duOiAn0JfQvtC70L7RgtCw0Y8g0JrQvtGA0L7QvdCwJyxcbiAgICAgICAgZGluZXJzY2x1YjogJ0RpbmVycyBDbHViJyxcbiAgICAgICAgbWFzdGVyY2FyZDogJ01hc3RlcmNhcmQnLFxuICAgICAgICBtYWVzdHJvY2FyZDogJ01hZXN0cm9DYXJkJyxcbiAgICAgICAgdmlzYTogJ1Zpc2EnLFxuICAgICAgICBjYXNoOiAn0J3QsNC70LjRh9C90YvQuSDRgNCw0YHRh9C10YInLFxuICAgICAgICBhbWVyaWNhbmV4cHJlc3M6ICdBbWVyaWNhbiBFeHByZXNzJyxcbiAgICAgICAgaG91ciA6ICfRh9Cw0YEnLFxuICAgICAgICBsZXNzOiAn0LzQtdC90LXQtScsXG4gICAgICAgIF9pbiA6ICfQp9C10YDQtdC3JyxcbiAgICAgICAgaXNDbG9zaW5nT25EaW5uZXIgOiAnINC30LDQutGA0YvQstCw0LXRgtGB0Y8g0L3QsCDQvtCx0LXQtCdcbiAgICB9LFxuXG4gICAgaXQ6IHtcbiAgICAgICAgcGx1cmFsUnVsZXM6IGZ1bmN0aW9uIChuKSB7IC8vIChOdW1iZXIpXG4gICAgICAgICAgICBpZiAobiA9PT0gMSkgeyAvLyAxXG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiAxOyAvLzAsIDIsIDMsIDQgLi5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBidG5CYWNrOiAnSW5kaWV0cm8nLFxuICAgICAgICBidG5GaW5kV2F5OiAnQ29tZSBhcnJpdmFyZSAnLFxuICAgICAgICBidG5FbnRyYW5jZTogJ1Ryb3ZhIGxcXCdpbmdyZXNzbycsXG4gICAgICAgIGxpbmtSZXZpZXdzOiBbJ3JlY2Vuc2lvbmUnLCAncmVjZW5zaW9uaSddLFxuICAgICAgICBsaW5rUGhvdG86IFsnZm90b2dyYWZpYScsICdmb3RvZ3JhZmllJ10sXG4gICAgICAgIGxpbmtCb29rbGV0OiAnU3VsbFxcJ2F6aWVuZGEnLFxuICAgICAgICB0b21tb3JvdzogJ2RvbWFuaScsXG4gICAgICAgIGFmdGVyVG9tbW9yb3c6ICdkb3BvZG9tYW5pJyxcbiAgICAgICAgYWZ0ZXJXZWVrOiAndHJhIHVuYSBzZXR0aW1hbmEnLFxuICAgICAgICBuZXh0U3VuOiAnbGEgZG9tZW5pY2EnLFxuICAgICAgICBuZXh0TW9uOiAnaWwgbHVuZWRpJyxcbiAgICAgICAgbmV4dFR1ZTogJ2lsIG1hcnRlZMOsJyxcbiAgICAgICAgbmV4dFdlZDogJ2lsIG1lcmNvbGVkw6wnLFxuICAgICAgICBuZXh0VGh1OiAnaWwgZ2lvdmVkaScsXG4gICAgICAgIG5leHRGcmk6ICdpbCB2ZW5lcmTDrCcsXG4gICAgICAgIG5leHRTYXQ6ICdpbCBzYWJhdG8nLFxuICAgICAgICB3aWxsT3BlbjogJ2FwcmUnLFxuICAgICAgICB3aWxsQ2xvc2U6ICdjaXVzbycsXG4gICAgICAgIGlzT3BlbjogJ0FwZXJ0bycsXG4gICAgICAgIG9wZW5UaWxsOiAnQXBlcnRvIGZpbm8gYWxsZSAnLFxuICAgICAgICBjbG9zZUluOiAnQ2hpdWRlIHRyYSAnLFxuICAgICAgICBvcGVuQXQ6ICdBcHJlIGFsbGUgJyxcbiAgICAgICAgb3BlbkluOiAnQXByZSB0cmEgJyxcbiAgICAgICAgb3BlbjogJ0FwcmUgJyxcbiAgICAgICAgbkhvdXJzOiBbJ29yYScsICdvcmUnXSxcbiAgICAgICAgbk1pbnM6IFsnbWludXRvJywgJ21pbnV0aSddLFxuICAgICAgICBsdW5jaDogJ3BhdXNhIHByYW56bycsXG4gICAgICAgIEx1bmNoOiAnUGF1c2EgcHJhbnpvLiAnLFxuICAgICAgICB3b3JraW5nRGF5czogJ0dpb3JuaSBmZXJpYWxpJyxcbiAgICAgICAgd2Vla2RheXM6ICdHaW9ybmkgZmVyaWFsaScsXG4gICAgICAgIHJlc3REYXk6IFsnY2hpdXN1cmEnLCdjaGl1c3VyYSddLFxuICAgICAgICByZXZpZXdzT25GbGFtcDogJ1JlY2Vuc2lvbmkgc3UgRmxhbXAnLFxuICAgICAgICB3cml0ZVJldmlld09uRmxhbXA6ICdTY3JpdmkgdW5hIHJlY2Vuc2lvbmUgc3UgRmxhbXAnLFxuICAgICAgICBwYXltZW50OiAncGFnYW1lbnRvJyxcbiAgICAgICAgZXZlcnlkYXk6ICdPZ25pIGdpb3JubyBkYWxvbGUnLFxuICAgICAgICB3b3Jrc0Fyb3VuZFRoZUNsb2NrOiAnT3BlcmF0aXZvIDI0IG9yZSBzdSAyNCcsXG4gICAgICAgIGFyb3VuZFRoZUNsb2NrOiAnMjQgb3JlIHN1IDI0JyxcbiAgICAgICAga25vd01vcmU6ICd1bHRlcmlvcmkgaW5mb3JtYXppb25pJyxcbiAgICAgICAgdG9DbG9zZTogJ2Zpbm8gYWxsYSBjaGl1c3VyYScsXG4gICAgICAgIG1vbmRheTogJ2x1bmVkaScsXG4gICAgICAgIHR1ZXNkYXk6ICdtYXJ0ZWTDrCcsXG4gICAgICAgIHdlZG5lc2RheTogJ21lcmNvbGVkw6wnLFxuICAgICAgICB0aHVyc2RheTogJ2dpb3ZlZGknLFxuICAgICAgICBmcmlkYXk6ICd2ZW5lcmTDrCcsXG4gICAgICAgIHNhdHVyZGF5OiAnc2FiYXRvJyxcbiAgICAgICAgc3VuZGF5OiAnZG9tZW5pY2EnLFxuICAgICAgICBtb246ICdsdW4nLFxuICAgICAgICB0dWU6ICdtYXInLFxuICAgICAgICB3ZWQ6ICdtZXInLFxuICAgICAgICB0aHU6ICdnaW8nLFxuICAgICAgICBmcmk6ICd2ZW4nLFxuICAgICAgICBzYXQ6ICdzYWInLFxuICAgICAgICBzdW46ICdkb20nLFxuICAgICAgICB0b0x1bmNoOiAnZmlubyBhbGxhIHBhdXNhIHByYW56bycsXG4gICAgICAgIHRvZGF5OiAnT2dnaScsXG4gICAgICAgIGxlc3NUaGVuSG91cjogJ21lbm8gZGkgdW5cXCdvcmEnLFxuICAgICAgICB5b3VDb3VsZExhdGU6ICdhZmZyZXR0YXJzaSwgY2hpdXN1cmEgaW1taW5lbnRlJyxcbiAgICAgICAgd29ya2luZ1RpbWU6ICdvcmFyaW8gZGkgbGF2b3JvJyxcbiAgICAgICAgc2hvd0FsbE9yZ0luUnVicmljOiAnVmlzdWFsaXp6YSB0dXR0ZSBsZSBhemllbmRlIGRlbGxhIGNhdGVnb3JpYScsXG4gICAgICAgIHRvZGF5SXNSZXN0RGF5OiAnb2dnaSBjaGl1c28nLFxuICAgICAgICBpbnRlcm5ldDogJ1BhZ2FtZW50byBvbi1saW5lJyxcbiAgICAgICAgbm9uY2FzaDogJ1BhZ2FtZW50byBub24gaW4gY29udGFudGknLFxuICAgICAgICBnb2xkY3Jvd246ICdab2xvdGFqYSBLb3JvbmEnLFxuICAgICAgICBkaW5lcnNjbHViOiAnRGluZXJzIENsdWInLFxuICAgICAgICBtYXN0ZXJjYXJkOiAnTWFzdGVyQ2FyZCcsXG4gICAgICAgIG1hZXN0cm9jYXJkOiAnTWFlc3Ryb0NhcmQnLFxuICAgICAgICB2aXNhOiAnVmlzYScsXG4gICAgICAgIGNhc2g6ICdQYWdhbWVudG8gaW4gY29udGFudGknLFxuICAgICAgICBhbWVyaWNhbmV4cHJlc3M6ICdBbWVyaWNhbiBFeHByZXNzJyxcbiAgICAgICAgaG91ciA6ICd1blxcJ29yYScsXG4gICAgICAgIGxlc3M6ICdtZW5vIGRpJyxcbiAgICAgICAgX2luIDogJ1RyYScsXG4gICAgICAgIGlzQ2xvc2luZ09uRGlubmVyIDogJ2NoaXVkZSBwZXIgcGF1c2EgcHJhbnpvJ1xuICAgIH0sXG5cbiAgICBlbjoge1xuICAgICAgICBwbHVyYWxSdWxlczogZnVuY3Rpb24gKG4pIHsgLy8gKE51bWJlcilcbiAgICAgICAgICAgIGlmIChuID09PSAxKSB7IC8vIDFcbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDE7IC8vMCwgMiwgMywgNCAuLlxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIGJ0bkJhY2s6ICdCYWNrJyxcbiAgICAgICAgYnRuRmluZFdheTogJ0dldCBoZXJlJyxcbiAgICAgICAgYnRuRW50cmFuY2U6ICdGaW5kIGVudHJhbmNlJyxcbiAgICAgICAgbGlua1Jldmlld3M6IFsncmV2aWV3JywgJ3Jldmlld3MnXSxcbiAgICAgICAgbGlua1Bob3RvOiBbJ3Bob3RvJywgJ3Bob3RvcyddLFxuICAgICAgICBsaW5rQm9va2xldDogJ0Fib3V0IGNvbXBhbnknLFxuICAgICAgICB0b21tb3JvdzogJ3RvbW9ycm93JyxcbiAgICAgICAgYWZ0ZXJUb21tb3JvdzogJ3RoZSBkYXkgYWZ0ZXIgdG9tb3Jyb3cnLFxuICAgICAgICBhZnRlcldlZWs6ICdpbiBhIHdlZWsnLFxuICAgICAgICBuZXh0U3VuOiAnb24gU3VuZGF5JyxcbiAgICAgICAgbmV4dE1vbjogJ29uIE1vbmRheScsXG4gICAgICAgIG5leHRUdWU6ICdvbiBUdWVzZGF5JyxcbiAgICAgICAgbmV4dFdlZDogJ29uIFdlZG5lc2RheScsXG4gICAgICAgIG5leHRUaHU6ICdvbiBUaHVyc2RheScsXG4gICAgICAgIG5leHRGcmk6ICdvbiBGcmlkYXknLFxuICAgICAgICBuZXh0U2F0OiAnb24gU2F0dXJkYXknLFxuICAgICAgICB3aWxsT3BlbjogJ29wZW5zICcsXG4gICAgICAgIHdpbGxDbG9zZTogJ2Nsb3NlcycsXG4gICAgICAgIGlzT3BlbjogJ09wZW4nLFxuICAgICAgICBvcGVuVGlsbDogJ09wZW4gdGlsbCAnLFxuICAgICAgICBjbG9zZUluOiAnQ2xvc2VzIGluICcsXG4gICAgICAgIG9wZW5BdDogJ09wZW5zIGF0ICcsXG4gICAgICAgIG9wZW5JbjogJ09wZW5zIGluICcsXG4gICAgICAgIG9wZW46ICdPcGVucyAnLFxuICAgICAgICBuSG91cnM6IFsnaG91cicsICdob3VycyddLFxuICAgICAgICBuTWluczogWydtaW51dGUnLCAnbWludXRlcyddLFxuICAgICAgICBsdW5jaDogJ2x1bmNoIGJyZWFrJyxcbiAgICAgICAgTHVuY2g6ICdMdW5jaCBicmVhay4gJyxcbiAgICAgICAgd29ya2luZ0RheXM6ICdXb3JraW5nIGRheXMnLFxuICAgICAgICB3ZWVrZGF5czogJ1dlZWtkYXlzJyxcbiAgICAgICAgcmVzdERheTogWydkYXkgb2ZmJywnZGF5cyBvZmYnXSxcbiAgICAgICAgcmV2aWV3c09uRmxhbXA6ICdSZXZpZXdzIG9uIEZsYW1wJyxcbiAgICAgICAgd3JpdGVSZXZpZXdPbkZsYW1wOiAnV3JpdGUgYSByZXZpZXcgb24gRmxhbXAnLFxuICAgICAgICBwYXltZW50OiAncGF5bWVudCcsXG4gICAgICAgIGV2ZXJ5ZGF5OiAnRGFpbHkgZnJvbScsXG4gICAgICAgIHdvcmtzQXJvdW5kVGhlQ2xvY2s6ICdPcGVuIDI0IGhvdXJzJyxcbiAgICAgICAgYXJvdW5kVGhlQ2xvY2s6ICcyNGgnLFxuICAgICAgICBrbm93TW9yZTogJ3NlZSBhbHNvJyxcbiAgICAgICAgdG9DbG9zZTogJ3VudGlsIGNsb3NpbmcnLFxuICAgICAgICBtb25kYXk6ICdNb25kYXknLFxuICAgICAgICB0dWVzZGF5OiAnVHVlc2RheScsXG4gICAgICAgIHdlZG5lc2RheTogJ1dlZG5lc2RheScsXG4gICAgICAgIHRodXJzZGF5OiAnVGh1cnNkYXknLFxuICAgICAgICBmcmlkYXk6ICdGcmlkYXknLFxuICAgICAgICBzYXR1cmRheTogJ1NhdHVyZGF5JyxcbiAgICAgICAgc3VuZGF5OiAnU3VuZGF5JyxcbiAgICAgICAgbW9uOiAnTW9uJyxcbiAgICAgICAgdHVlOiAnVHVlJyxcbiAgICAgICAgd2VkOiAnV2VkJyxcbiAgICAgICAgdGh1OiAnVGh1JyxcbiAgICAgICAgZnJpOiAnRnJpJyxcbiAgICAgICAgc2F0OiAnU2F0JyxcbiAgICAgICAgc3VuOiAnU3VuJyxcbiAgICAgICAgdG9MdW5jaDogJ3VudGlsIGx1bmNoJyxcbiAgICAgICAgdG9kYXk6ICdUb2RheScsXG4gICAgICAgIGxlc3NUaGVuSG91cjogJ2xlc3MgdGhlbiBvbmUgaG91cicsXG4gICAgICAgIHlvdUNvdWxkTGF0ZTogJ3lvdSBtaWdodCBiZSBsYXRlJyxcbiAgICAgICAgd29ya2luZ1RpbWU6ICd3b3JraW5nIGhvdXJzJyxcbiAgICAgICAgc2hvd0FsbE9yZ0luUnVicmljOiAnU2hvdyBhbGwgb3JnYW5pemF0aW9ucyBpbiB0aGUgY2F0ZWdvcnknLFxuICAgICAgICB0b2RheUlzUmVzdERheTogJ2Nsb3NlZCB0b2RheScsXG4gICAgICAgIGludGVybmV0OiAnT25saW5lJyxcbiAgICAgICAgbm9uY2FzaDogJyBOby1jYXNoJyxcbiAgICAgICAgZ29sZGNyb3duOiAnR29sZGVuIENyb3duJyxcbiAgICAgICAgZGluZXJzY2x1YjogJ0RpbmVycyBDbHViJyxcbiAgICAgICAgbWFzdGVyY2FyZDogJ01hc3RlcmNhcmQnLFxuICAgICAgICBtYWVzdHJvY2FyZDogJ01hZXN0cm9DYXJkJyxcbiAgICAgICAgdmlzYTogJ1Zpc2EnLFxuICAgICAgICBjYXNoOiAnQ2FzaCcsXG4gICAgICAgIGFtZXJpY2FuZXhwcmVzczogJ0FtZXJpY2FuIEV4cHJlc3MnLFxuICAgICAgICBob3VyIDogJ2hvdXInLFxuICAgICAgICBsZXNzOiAnbGVzcycsXG4gICAgICAgIF9pbiA6ICdJbicsXG4gICAgICAgIGlzQ2xvc2luZ09uRGlubmVyIDogJ3dpbGwgYmUgY2xvc2luZyBmb3IgbHVuY2gnXG4gICAgfSxcblxuICAgIGNzOiB7XG4gICAgICAgIHBsdXJhbFJ1bGVzOiBmdW5jdGlvbiAobikgeyAvLyAoTnVtYmVyKVxuICAgICAgICAgICAgcmV0dXJuIChuID09PSAxKSA/IDAgOiAobiA+PSAyICYmIG4gPD0gNCkgPyAxIDogMjtcbiAgICAgICAgfSxcblxuICAgICAgICBidG5CYWNrOiAnWnDEm3QnLFxuICAgICAgICBidG5GaW5kV2F5OiAnSmV0IHNlbScsXG4gICAgICAgIGJ0bkVudHJhbmNlOiAnSGxlZGF0IHZzdHVwJyxcbiAgICAgICAgbGlua1Jldmlld3M6IFsncmVjZW56ZScsICdyZWNlbnplJywgJ3JlY2VuesOtJ10sXG4gICAgICAgIGxpbmtQaG90bzogWydmb3RvZ3JhZmllJywgJ2ZvdG9ncmFmaWUnLCAnZm90b2dyYWZpw60nXSxcbiAgICAgICAgbGlua0Jvb2tsZXQ6ICdMZXTDoWsnLFxuICAgICAgICB0b21tb3JvdzogJ3rDrXRyYScsXG4gICAgICAgIGFmdGVyVG9tbW9yb3c6ICdwb3rDrXTFmcOtJyxcbiAgICAgICAgYWZ0ZXJXZWVrOiAnemEgdMO9ZGVuJyxcbiAgICAgICAgbmV4dFN1bjogJ3YgbmVkxJtsaScsXG4gICAgICAgIG5leHRNb246ICd2IHBvbmTEm2zDrScsXG4gICAgICAgIG5leHRUdWU6ICd2IMO6dGVyw70nLFxuICAgICAgICBuZXh0V2VkOiAndmUgc3TFmWVkdScsXG4gICAgICAgIG5leHRUaHU6ICd2ZSDEjXR2cnRlaycsXG4gICAgICAgIG5leHRGcmk6ICd2IHDDoXRlaycsXG4gICAgICAgIG5leHRTYXQ6ICd2IHNvYm90dScsXG4gICAgICAgIHdpbGxPcGVuOiAnb3RldsWZZSBzZScsXG4gICAgICAgIHdpbGxDbG9zZTogJ3phdsWZZSBzZScsXG4gICAgICAgIGlzT3BlbjogJ090ZXbFmWVubycsXG4gICAgICAgIG9wZW5UaWxsOiAnT3RldsWZZW5vIGRvICcsXG4gICAgICAgIGNsb3NlSW46ICdaYXbFmWUgc2UgemEgJyxcbiAgICAgICAgb3BlbkF0OiAnT3RldsWZZSBzZSB2ICcsXG4gICAgICAgIG9wZW5JbjogJ090ZXbFmWUgc2UgemEgJyxcbiAgICAgICAgb3BlbjogJ090ZXbFmWUgc2UgJyxcbiAgICAgICAgbkhvdXJzOiBbICdob2RpbnUnICwgJ2hvZGlueScgLCAnaG9kaW4nIF0sXG4gICAgICAgIG5NaW5zOiBbICdtaW51dHUnICwgJ21pbnV0eScgLCAnbWludXQnIF0sXG4gICAgICAgIGx1bmNoOiAncG9sZWRuw60gcMWZZXN0w6F2a2EnLFxuICAgICAgICBMdW5jaDogJ1BvbGVkbsOtIHDFmWVzdMOhdmthLiAnLFxuICAgICAgICB3b3JraW5nRGF5czogJ1bFoWVkbsOtIGRueScsXG4gICAgICAgIHdlZWtkYXlzOiAnVsWhZWRuw60gZG55JyxcbiAgICAgICAgcmVzdERheTogWyd6YXbFmWVubycsICd6YXbFmWVubyddLFxuICAgICAgICByZXZpZXdzT25GbGFtcDogJ1JlY2VuemUgbmEgRmxhbXB1JyxcbiAgICAgICAgd3JpdGVSZXZpZXdPbkZsYW1wOiAnTmFwc2F0IHJlY2VuemkgbmEgRmxhbXB1JyxcbiAgICAgICAgcGF5bWVudDogJ3BsYXRiYScsXG4gICAgICAgIGV2ZXJ5ZGF5OiAnRGVubsSbIG9kICcsXG4gICAgICAgIHdvcmtzQXJvdW5kVGhlQ2xvY2s6ICdQcmFjdWplIG5vbnN0b3AnLFxuICAgICAgICBhcm91bmRUaGVDbG9jazogJ05vbnN0b3AnLFxuICAgICAgICBrbm93TW9yZTogJ2RvenbEm2TEm3Qgc2UgdsOtY2UnLFxuICAgICAgICB0b0Nsb3NlOiAnZG8gdXphdsWZZW7DrScsXG4gICAgICAgIG1vbmRheTogJ3BvbmTEm2zDrScsXG4gICAgICAgIHR1ZXNkYXk6ICfDunRlcsO9JyxcbiAgICAgICAgd2VkbmVzZGF5OiAnc3TFmWVkYScsXG4gICAgICAgIHRodXJzZGF5OiAnxI10dnJ0ZWsnLFxuICAgICAgICBmcmlkYXk6ICdww6F0ZWsnLFxuICAgICAgICBzYXR1cmRheTogJ3NvYm90YScsXG4gICAgICAgIHN1bmRheTogJ25lZMSbbGUnLFxuICAgICAgICBtb246ICdwbycsXG4gICAgICAgIHR1ZTogJ8O6dCcsXG4gICAgICAgIHdlZDogJ3N0JyxcbiAgICAgICAgdGh1OiAnxI10JyxcbiAgICAgICAgZnJpOiAncMOhJyxcbiAgICAgICAgc2F0OiAnc28nLFxuICAgICAgICBzdW46ICduZScsXG4gICAgICAgIHRvTHVuY2g6ICdkbyBwb2xlZG7DrSBwxZllc3TDoXZreScsXG4gICAgICAgIHRvZGF5OiAnRG5lcycsXG4gICAgICAgIGxlc3NUaGVuSG91cjogJ23DqW7EmyBuZcW+IGhvZGludScsXG4gICAgICAgIHlvdUNvdWxkTGF0ZTogJ25lbXVzw610ZSB0byBzdGlobm91dCcsXG4gICAgICAgIHdvcmtpbmdUaW1lOiAncHJhY292bsOtIGRvYmEnLFxuICAgICAgICBzaG93QWxsT3JnSW5SdWJyaWM6ICdab2JyYXppdCB2xaFlY2hueSBvcmdhbml6YWNlIHYgcnVicmljZScsXG4gICAgICAgIHRvZGF5SXNSZXN0RGF5OiAnRG5lcyBqZSB6YXbFmWVubycsXG4gICAgICAgIGludGVybmV0OiAnUGxhdGJhIHByb3N0xZllZG5pY3R2w61tIEludGVybmV0dScsXG4gICAgICAgIG5vbmNhc2g6ICdCZXpob3Rvdm9zdG7DrSBwbGF0YmEnLFxuICAgICAgICBnb2xkY3Jvd246ICdab2xvdGFqYSBLb3JvbmEnLFxuICAgICAgICBkaW5lcnNjbHViOiAnRGluZXJzIENsdWInLFxuICAgICAgICBtYXN0ZXJjYXJkOiAnTWFzdGVyY2FyZCcsXG4gICAgICAgIG1hZXN0cm9jYXJkOiAnTWFlc3Ryb0NhcmQnLFxuICAgICAgICB2aXNhOiAnVmlzYScsXG4gICAgICAgIGNhc2g6ICdQbGF0YmEgaG90b3bEmycsXG4gICAgICAgIGFtZXJpY2FuZXhwcmVzczogJ0FtZXJpY2FuIEV4cHJlc3MnLFxuICAgICAgICBob3VyIDogJ2hvZGludScsXG4gICAgICAgIGxlc3M6ICdtw6luxJsnLFxuICAgICAgICBfaW4gOiAnWmEnLFxuICAgICAgICBpc0Nsb3NpbmdPbkRpbm5lciA6ICd6YcSNw61uw6EgcG9sZWRuw60gcMWZZXN0w6F2a2EnXG4gICAgfSxcblxuICAgIGVzOiB7XG4gICAgICAgIHBsdXJhbFJ1bGVzOiBmdW5jdGlvbiAobikgeyAvLyAoTnVtYmVyKVxuICAgICAgICAgIHJldHVybiAobiA9PT0gMSkgPyAwIDogKG4gPj0gMiAmJiBuIDw9IDQpID8gMSA6IDI7XG4gICAgICAgIH0sXG5cbiAgICAgICAgYnRuQmFjazogJ0F0csOhcycsXG4gICAgICAgIGJ0bkZpbmRXYXk6ICdJciBwYXJhIGFsbMOhJyxcbiAgICAgICAgYnRuRW50cmFuY2U6ICdCdXNjYXIgYWNjZXNvJyxcbiAgICAgICAgbGlua1Jldmlld3M6IFsnY29tZW50YXJpbycsICdjb21lbnRhcmlvcycsICdjb21lbnRhcmlvcyddLFxuICAgICAgICBsaW5rUGhvdG86IFsnZm90bycsICdmb3RvcycsICdmb3RvcyddLFxuICAgICAgICBsaW5rQm9va2xldDogJ0ZvbGxldG8nLFxuICAgICAgICB0b21tb3JvdzogJ21hw7FhbmEnLFxuICAgICAgICBhZnRlclRvbW1vcm93OiAncGFzYWRvIG1hw7FhbmEnLFxuICAgICAgICBhZnRlcldlZWs6ICdlbiB1bmEgc2VtYW5hIG3DoXMnLFxuICAgICAgICBuZXh0U3VuOiAnZWwgZG9taW5nbycsXG4gICAgICAgIG5leHRNb246ICdlbCBsdW5lcycsXG4gICAgICAgIG5leHRUdWU6ICdlbCBtYXJ0ZXMnLFxuICAgICAgICBuZXh0V2VkOiAnZWwgbWnDqXJjb2xlcycsXG4gICAgICAgIG5leHRUaHU6ICdlbCBqdWV2ZXMnLFxuICAgICAgICBuZXh0RnJpOiAnZWwgdmllcm5lcycsXG4gICAgICAgIG5leHRTYXQ6ICdlbCBzw6FiYWRvJyxcbiAgICAgICAgd2lsbE9wZW46ICdzZSBhYnJpcsOhJyxcbiAgICAgICAgd2lsbENsb3NlOiAnc2UgY2VycmFyw6EnLFxuICAgICAgICBpc09wZW46ICdBYmllcnRvJyxcbiAgICAgICAgb3BlblRpbGw6ICdBYmllcnRvIGhhc3RhICcsXG4gICAgICAgIGNsb3NlSW46ICdTZSBjZXJyYXLDoSBkZW50cm8gZGUgJyxcbiAgICAgICAgb3BlbkF0OiAnU2UgYWJyaXLDoSBlbCAnLFxuICAgICAgICBvcGVuSW46ICdTZSBhYnJpcsOhIGRlbnRybyBkZSAnLFxuICAgICAgICBvcGVuOiAnU2UgYWJyaXLDoSAnLFxuICAgICAgICBuSG91cnM6IFsnaG9yYScsICdob3JhcycsICdob3JhcyddLFxuICAgICAgICBuTWluczogWydtaW51dG8nLCAnbWludXRvcycsICdtaW51dG9zJ10sXG4gICAgICAgIGx1bmNoOiAnaG9yYSBkZSBjb2xhY2nDs24nLFxuICAgICAgICBMdW5jaDogJ0hvcmEgZGUgY29sYWNpw7NuLiAnLFxuICAgICAgICB3b3JraW5nRGF5czogJ0TDrWFzIGxhYm9yYWJsZXMnLFxuICAgICAgICB3ZWVrZGF5czogJ0TDrWFzIGxhYm9yYWJsZXMnLFxuICAgICAgICByZXN0RGF5OiBbJ2NlcnJhZG8nLCdjZXJyYWRvJ10sXG4gICAgICAgIHJldmlld3NPbkZsYW1wOiAnQ29tZW50YXJpb3MgZW4gRmxhbXAnLFxuICAgICAgICB3cml0ZVJldmlld09uRmxhbXA6ICdFc2NyaWJpciB1biBjb21lbnRhcmlvIGVuIEZsYW1wJyxcbiAgICAgICAgcGF5bWVudDogJ3BhZ28nLFxuICAgICAgICBldmVyeWRheTogJ0NhZGEgZMOtYSBkZXNkZScsXG4gICAgICAgIHdvcmtzQXJvdW5kVGhlQ2xvY2s6ICdBYmllcnRvIGxhcyAyNCBob3JhcycsXG4gICAgICAgIGFyb3VuZFRoZUNsb2NrOiAnMjQgaG9yYXMnLFxuICAgICAgICBrbm93TW9yZTogJ3BhcmEgc2FiZXIgbcOhcycsXG4gICAgICAgIHRvQ2xvc2U6ICdoYXN0YSBlbCBjaWVycmUnLFxuICAgICAgICBtb25kYXk6ICdsdW5lcycsXG4gICAgICAgIHR1ZXNkYXk6ICdtYXJ0ZXMnLFxuICAgICAgICB3ZWRuZXNkYXk6ICdtacOpcmNvbGVzJyxcbiAgICAgICAgdGh1cnNkYXk6ICdqdWV2ZXMnLFxuICAgICAgICBmcmlkYXk6ICd2aWVybmVzJyxcbiAgICAgICAgc2F0dXJkYXk6ICdzw6FiYWRvJyxcbiAgICAgICAgc3VuZGF5OiAnZG9taW5nbycsXG4gICAgICAgIG1vbjogJ2x1bicsXG4gICAgICAgIHR1ZTogJ21hcicsXG4gICAgICAgIHdlZDogJ21pw6knLFxuICAgICAgICB0aHU6ICdqdWUnLFxuICAgICAgICBmcmk6ICd2aWUnLFxuICAgICAgICBzYXQ6ICdzw6FiJyxcbiAgICAgICAgc3VuOiAnZG9tJyxcbiAgICAgICAgdG9MdW5jaDogJ2FudGVzIGRlIGxhIGhvcmEgZGUgY29sYWNpw7NuJyxcbiAgICAgICAgdG9kYXk6ICdIb3knLFxuICAgICAgICBsZXNzVGhlbkhvdXI6ICdtZW5vcyBkZSB1bmEgaG9yYScsXG4gICAgICAgIHlvdUNvdWxkTGF0ZTogJ3B1ZWRlIHNlciBxdWUgbm8gYWxjYW56YXMgYSBsbGVnYXInLFxuICAgICAgICB3b3JraW5nVGltZTogJ2hvcmFyaW8gZGUgdHJhYmFqbycsXG4gICAgICAgIHNob3dBbGxPcmdJblJ1YnJpYzogJ01vc3RyYXIgdG9kYXMgbGFzIGVtcHJlc2FzIGRlIGxhIGNhdGVnb3LDrWEnLFxuICAgICAgICB0b2RheUlzUmVzdERheTogJ0hveSBjZXJyYWRvJyxcbiAgICAgICAgaW50ZXJuZXQ6ICdQYWdvIHBvciBJbnRlcm5ldCcsXG4gICAgICAgIG5vbmNhc2g6ICdQYWdvIHNpbiBlZmVjdGl2bycsXG4gICAgICAgIGdvbGRjcm93bjogJ1pvbG90YXlhIEtvcm9uYScsXG4gICAgICAgIGRpbmVyc2NsdWI6ICdEaW5lcnMgQ2x1YicsXG4gICAgICAgIG1hc3RlcmNhcmQ6ICdNYXN0ZXJjYXJkJyxcbiAgICAgICAgbWFlc3Ryb2NhcmQ6ICdNYWVzdHJvQ2FyZCcsXG4gICAgICAgIHZpc2E6ICdWaXNhJyxcbiAgICAgICAgY2FzaDogJ1BhZ28gZW4gZWZlY3Rpdm8nLFxuICAgICAgICBhbWVyaWNhbmV4cHJlc3M6ICdBbWVyaWNhbiBFeHByZXNzJyxcbiAgICAgICAgaG91ciA6ICdob3JhJyxcbiAgICAgICAgbGVzczogJ21lbm9zIGRlJyxcbiAgICAgICAgX2luIDogJ0RlbnRybyBkZScsXG4gICAgICAgIGlzQ2xvc2luZ09uRGlubmVyIDogJ3NlIGNpZXJyYSBwb3IgaG9yYSBkZSBjb2xhY2nDs24nXG4gICAgfVxufTtcbiIsIkRHLlRyYWZmaWMgPSBERy5UaWxlTGF5ZXIuZXh0ZW5kKHtcbiAgICBvcHRpb25zOiB7XG4gICAgICAgIHBlcmlvZDogMCxcbiAgICAgICAgZGlzYWJsZUxhYmVsOiBmYWxzZVxuICAgIH0sXG5cbiAgICBzdGF0aWNzOiB7XG4gICAgICAgIERpY3Rpb25hcnk6IHt9XG4gICAgfSxcblxuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5fdGlsZVVybCA9IERHLmNvbmZpZy5wcm90b2NvbCArIChERy5Ccm93c2VyLnJldGluYSA/IERHLmNvbmZpZy5yZXRpbmFUcmFmZmljVGlsZVNlcnZlciA6IERHLmNvbmZpZy50cmFmZmljVGlsZVNlcnZlcik7XG4gICAgICAgIHRoaXMuX21ldGFVcmwgPSBERy5jb25maWcucHJvdG9jb2wgKyAoREcuQnJvd3Nlci5yZXRpbmEgPyBERy5jb25maWcucmV0aW5hVHJhZmZpY01ldGFTZXJ2ZXIgOiBERy5jb25maWcudHJhZmZpY01ldGFTZXJ2ZXIpO1xuICAgICAgICB0aGlzLl90aW1lVXJsID0gREcuY29uZmlnLnByb3RvY29sICsgREcuY29uZmlnLnRyYWZmaWNUaW1lc3RhbXBTZXJ2ZXI7XG4gICAgICAgIHRoaXMuX3VwZGF0ZUludGVydmFsID0gREcuY29uZmlnLnRyYWZmaWNMYXllclVwZGF0ZUludGVydmFsO1xuXG4gICAgICAgIHRoaXMuX2xheWVyc09wdGlvbnMgPSB7XG4gICAgICAgICAgICBlcnJvclRpbGVVcmw6ICdkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhBUUFCQUlBQUFBQUFBUC8vL3lINUJBRUFBQUFBTEFBQUFBQUJBQUVBQUFJQlJBQTcnLFxuICAgICAgICAgICAgc3ViZG9tYWluczogJzAxMjM0NTY3OScsXG4gICAgICAgICAgICBtYXhOYXRpdmVab29tOiAxOCxcbiAgICAgICAgICAgIGRldGVjdFJldGluYTogREcuY29uZmlnLmRldGVjdFJldGluYSxcbiAgICAgICAgICAgIG1pblpvb206IERHLmNvbmZpZy50cmFmZmljTGF5ZXJNaW5ab29tXG4gICAgICAgIH07XG5cbiAgICAgICAgb3B0aW9ucyA9IERHLnNldE9wdGlvbnModGhpcywgREcuZXh0ZW5kKG9wdGlvbnMgfHwge30sIHRoaXMuX2xheWVyc09wdGlvbnMpKTtcbiAgICAgICAgb3B0aW9ucy50aW1lc3RhbXBTdHJpbmcgPSBvcHRpb25zLnBlcmlvZCA/ICcnIDogKCc/JyArICAobmV3IERhdGUoKSkuZ2V0VGltZSgpKTtcbiAgICAgICAgdGhpcy5fbWV0YUxheWVyID0gREcuTWV0YS5sYXllcihudWxsLCB7XG4gICAgICAgICAgICBkZXRlY3RSZXRpbmE6IG9wdGlvbnMuZGV0ZWN0UmV0aW5hLFxuICAgICAgICAgICAgbWF4TmF0aXZlWm9vbTogb3B0aW9ucy5tYXhOYXRpdmVab29tLFxuICAgICAgICAgICAgZGF0YUZpbHRlcjogREcuYmluZCh0aGlzLl9wcm9jZXNzRGF0YSwgdGhpcyksXG4gICAgICAgICAgICBtaW5ab29tOiBvcHRpb25zLm1pblpvb21cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX2lzRGcgPSB0cnVlO1xuICAgICAgICB0aGlzLl9vblRpbWVyID0gREcuYmluZCh0aGlzLl9vblRpbWVyLCB0aGlzKTtcbiAgICAgICAgREcuVGlsZUxheWVyLnByb3RvdHlwZS5pbml0aWFsaXplLmNhbGwodGhpcywgdGhpcy5fdGlsZVVybCwgb3B0aW9ucyk7XG4gICAgfSxcblxuICAgIC8vICNzZXRUaW1lKGRheSBbMC02XSwgdGltZVswLTIzXSkgPz8/P1xuXG4gICAgb25BZGQ6IGZ1bmN0aW9uKG1hcCkge1xuICAgICAgICB0aGlzLl91cGRhdGVMYXllclByb2plY3QoKTtcblxuICAgICAgICBtYXBcbiAgICAgICAgICAgIC5hZGRMYXllcih0aGlzLl9tZXRhTGF5ZXIpXG4gICAgICAgICAgICAub24oJ3Byb2plY3RjaGFuZ2UgcHJvamVjdGxlYXZlJywgdGhpcy5fb25NYXBQcm9qZWN0Q2hhbmdlLCB0aGlzKTtcblxuICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5kaXNhYmxlTGFiZWwpIHtcbiAgICAgICAgICAgIHRoaXMuX21ldGFMYXllci5vbih0aGlzLl9sYXllckV2ZW50c0xpc3RlbmVycywgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLl9sYWJlbEhlbHBlciA9IERHLmxhYmVsKCk7XG4gICAgICAgICAgICB0aGlzLl9tYXAub24oJ2xhbmdjaGFuZ2UnLCB0aGlzLl91cGRhdGVMYW5nLCB0aGlzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl91cGRhdGVJbnRlcnZhbCkge1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlVGltZXIgPSBzZXRJbnRlcnZhbCh0aGlzLl9vblRpbWVyLCB0aGlzLl91cGRhdGVJbnRlcnZhbCk7XG4gICAgICAgIH1cblxuICAgICAgICBERy5UaWxlTGF5ZXIucHJvdG90eXBlLm9uQWRkLmNhbGwodGhpcywgbWFwKTtcbiAgICB9LFxuXG4gICAgb25SZW1vdmU6IGZ1bmN0aW9uKG1hcCkge1xuICAgICAgICBjbGVhckludGVydmFsKHRoaXMuX3VwZGF0ZVRpbWVyKTtcblxuICAgICAgICBtYXBcbiAgICAgICAgICAgIC5yZW1vdmVMYXllcih0aGlzLl9tZXRhTGF5ZXIpXG4gICAgICAgICAgICAub2ZmKCdwcm9qZWN0Y2hhbmdlIHByb2plY3RsZWF2ZScsIHRoaXMuX29uTWFwUHJvamVjdENoYW5nZSwgdGhpcyk7XG5cbiAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMuZGlzYWJsZUxhYmVsKSB7XG4gICAgICAgICAgICB0aGlzLl9tZXRhTGF5ZXIub2ZmKHRoaXMuX2xheWVyRXZlbnRzTGlzdGVuZXJzLCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuX21hcC5yZW1vdmVMYXllcih0aGlzLl9sYWJlbEhlbHBlcik7XG4gICAgICAgICAgICB0aGlzLl9sYWJlbEhlbHBlciA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl9tYXAub2ZmKCdsYW5nY2hhbmdlJywgdGhpcy5fdXBkYXRlTGFuZywgdGhpcyk7XG4gICAgICAgIH1cblxuICAgICAgICBERy5UaWxlTGF5ZXIucHJvdG90eXBlLm9uUmVtb3ZlLmNhbGwodGhpcywgbWFwKTtcbiAgICB9LFxuXG4gICAgdXBkYXRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICB0aGlzLl9nZXRUaW1lc3RhbXBTdHJpbmcoKS50aGVuKFxuICAgICAgICAgICAgZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICBzZWxmLm9wdGlvbnMudGltZXN0YW1wU3RyaW5nID0gJz8nICsgcmVzcG9uc2U7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5vcHRpb25zLnRpbWVzdGFtcFN0cmluZyA9ICc/JyArIChuZXcgRGF0ZSgpKS5nZXRUaW1lKCk7XG4gICAgICAgICAgICB9KS50aGVuKFxuICAgICAgICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5maXJlKCd1cGRhdGUnLCB7dGltZXN0YW1wOiBzZWxmLm9wdGlvbnMudGltZXN0YW1wU3RyaW5nfSk7XG4gICAgICAgICAgICAgICAgc2VsZi5fbGF5ZXJFdmVudHNMaXN0ZW5lcnMubW91c2VvdXQuY2FsbChzZWxmKTtcbiAgICAgICAgICAgICAgICBzZWxmLl9tZXRhTGF5ZXIuZ2V0T3JpZ2luKCkuc2V0VVJMKHNlbGYuX3ByZXBhcmVNZXRhVVJMKCksIHNlbGYpO1xuICAgICAgICAgICAgICAgIHNlbGYucmVkcmF3KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgfSxcblxuICAgIGdldFN1YmRvbWFpbjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9sYXllcnNPcHRpb25zLnN1YmRvbWFpbnNbXG4gICAgICAgICAgICBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiB0aGlzLl9sYXllcnNPcHRpb25zLnN1YmRvbWFpbnMubGVuZ3RoKVxuICAgICAgICBdO1xuICAgIH0sXG5cbiAgICBfdXBkYXRlTGFuZzogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBsYW5nID0gdGhpcy5fbWFwLmdldExhbmcoKTtcbiAgICAgICAgaWYgKGxhbmcgPT09ICdhcicpIHtcbiAgICAgICAgICAgIHRoaXMuX2xhYmVsSGVscGVyLm9wdGlvbnMudGV4dERpcmVjdGlvbiA9ICdydGwnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fbGFiZWxIZWxwZXIub3B0aW9ucy50ZXh0RGlyZWN0aW9uID0gJ2F1dG8nO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIF9nZXRUaW1lc3RhbXBTdHJpbmc6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gREcuYWpheChcbiAgICAgICAgICAgIERHLlV0aWwudGVtcGxhdGUoXG4gICAgICAgICAgICAgICAgdGhpcy5fdGltZVVybCxcbiAgICAgICAgICAgICAgICBERy5leHRlbmQoe1xuICAgICAgICAgICAgICAgICAgICBzIDogdGhpcy5nZXRTdWJkb21haW4oKSxcbiAgICAgICAgICAgICAgICAgICAgcHJvamVjdENvZGU6IHRoaXMuX21hcC5wcm9qZWN0RGV0ZWN0b3IuZ2V0UHJvamVjdCgpLmNvZGVcbiAgICAgICAgICAgICAgICB9LCB0aGlzLm9wdGlvbnMgfHwge30pKSxcbiAgICAgICAgICAgIHt0eXBlOiAnZ2V0J31cbiAgICAgICAgKTtcbiAgICB9LFxuXG4gICAgX29uVGltZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnBlcmlvZCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBfcHJvY2Vzc0RhdGE6IGZ1bmN0aW9uKHRyYWZmaWNEYXRhLCBjb29yZCkge1xuICAgICAgICB2YXIgdGlsZU9yaWdpblBvaW50ID0gY29vcmQuc2NhbGVCeSh0aGlzLmdldFRpbGVTaXplKCkpO1xuICAgICAgICB2YXIgcG9seWdvbkxuZ0xhdFRvUG9pbnRzID0gREcuYmluZCh0aGlzLl9wb2x5Z29uTG5nTGF0VG9Qb2ludHMsIHRoaXMsIHRpbGVPcmlnaW5Qb2ludCk7XG4gICAgICAgIHZhciBoaW50cyA9IHt9O1xuXG4gICAgICAgIGlmICghREcuVXRpbC5pc0FycmF5KHRyYWZmaWNEYXRhKSkgeyAgICAvLyBUT0RPIHJlbW92ZVxuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgdHJhZmZpY0RhdGFbMV0uZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgICB0aGlzW2l0ZW0uZ3JhcGhfaWRdID0gaXRlbS5zcGVlZF90ZXh0O1xuICAgICAgICB9LCBoaW50cyk7XG5cbiAgICAgICAgcmV0dXJuIHRyYWZmaWNEYXRhWzBdXG4gICAgICAgICAgICAubWFwKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBpZDogaXRlbS5ncmFwaF9pZCxcbiAgICAgICAgICAgICAgICAgICAgc3BlZWQ6IGhpbnRzW2l0ZW0uZ3JhcGhfaWRdLFxuICAgICAgICAgICAgICAgICAgICBnZW9tZXRyeTogREcuV2t0LnRvR2VvSlNPTihpdGVtLmdlb21ldHJ5WzBdLm9iamVjdFswXSlcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpdGVtLmdlb21ldHJ5LnR5cGUgPT0gJ1BvbHlnb24nIHx8XG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uZ2VvbWV0cnkudHlwZSA9PSAnTXVsdGlQb2x5Z29uJztcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAubWFwKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICB2YXIgZ2VvSnNvbiA9IGl0ZW0uZ2VvbWV0cnk7XG5cbiAgICAgICAgICAgICAgICBpZiAoZ2VvSnNvbi50eXBlID09ICdQb2x5Z29uJykge1xuICAgICAgICAgICAgICAgICAgICBnZW9Kc29uLmNvb3JkaW5hdGVzID0gcG9seWdvbkxuZ0xhdFRvUG9pbnRzKGdlb0pzb24uY29vcmRpbmF0ZXMpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZ2VvSnNvbi50eXBlID09ICdNdWx0aVBvbHlnb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIGdlb0pzb24uY29vcmRpbmF0ZXMgPSBnZW9Kc29uLmNvb3JkaW5hdGVzLm1hcChwb2x5Z29uTG5nTGF0VG9Qb2ludHMpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgICAgICAgfSk7XG4gICAgfSxcblxuICAgIF9wb2x5Z29uTG5nTGF0VG9Qb2ludHM6IGZ1bmN0aW9uKG9yaWdpblBvaW50LCBwb2x5Z29uKSB7XG4gICAgICAgIHZhciBtYXAgPSB0aGlzLl9tYXA7XG5cbiAgICAgICAgcmV0dXJuIHBvbHlnb24ubWFwKGZ1bmN0aW9uKGNvbnRvdXIpIHtcbiAgICAgICAgICAgIHJldHVybiBjb250b3VyLm1hcChmdW5jdGlvbihsbmdMYXQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWFwXG4gICAgICAgICAgICAgICAgICAgIC5wcm9qZWN0KFtsbmdMYXRbMV0sIGxuZ0xhdFswXV0pLnJvdW5kKClcbiAgICAgICAgICAgICAgICAgICAgLnN1YnRyYWN0KG9yaWdpblBvaW50KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgX3ByZXBhcmVNZXRhVVJMOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIERHLlV0aWwudGVtcGxhdGUodGhpcy5fbWV0YVVybCwgREcuZXh0ZW5kKHtcbiAgICAgICAgICAgIHg6ICd7eH0nLFxuICAgICAgICAgICAgeTogJ3t5fScsXG4gICAgICAgICAgICB6OiAne3p9JyxcbiAgICAgICAgICAgIHM6ICd7c30nXG4gICAgICAgIH0sIHRoaXMub3B0aW9ucykpO1xuICAgIH0sXG5cbiAgICBfdXBkYXRlTGF5ZXJQcm9qZWN0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHByb2plY3QgPSB0aGlzLl9tYXAucHJvamVjdERldGVjdG9yLmdldFByb2plY3QoKTtcbiAgICAgICAgREcuc2V0T3B0aW9ucyh0aGlzLCBwcm9qZWN0ICYmIHByb2plY3QudHJhZmZpYyA/IHtcbiAgICAgICAgICAgIHByb2plY3RDb2RlOiBwcm9qZWN0LmNvZGUsXG4gICAgICAgICAgICBib3VuZHM6IHByb2plY3QubGF0TG5nQm91bmRzLFxuICAgICAgICAgICAgbWluWm9vbTogTWF0aC5tYXgocHJvamVjdC5taW5ab29tLCB0aGlzLl9sYXllcnNPcHRpb25zLm1pblpvb20pLFxuICAgICAgICAgICAgbWF4Wm9vbTogcHJvamVjdC5tYXhab29tXG4gICAgICAgIH0gOiB7XG4gICAgICAgICAgICBtYXhab29tOiAwLFxuICAgICAgICAgICAgbWluWm9vbTogMFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fbWV0YUxheWVyLmdldE9yaWdpbigpLnNldFVSTCh0aGlzLl9wcmVwYXJlTWV0YVVSTCgpKTtcbiAgICB9LFxuXG4gICAgX29uTWFwUHJvamVjdENoYW5nZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZUxheWVyUHJvamVjdCgpO1xuICAgICAgICB0aGlzLnJlZHJhdygpO1xuICAgIH0sXG5cbiAgICBfbGF5ZXJFdmVudHNMaXN0ZW5lcnM6IHtcbiAgICAgICAgbW91c2VvdmVyOiBmdW5jdGlvbihlKSB7IC8vIChPYmplY3QpXG4gICAgICAgICAgICB0aGlzLl9zZXRDdXJzb3IoJ3BvaW50ZXInKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9sYWJlbEhlbHBlciAmJiBlLm1ldGEuc3BlZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sYWJlbEhlbHBlclxuICAgICAgICAgICAgICAgICAgICAuc2V0UG9zaXRpb24oZS5sYXRsbmcpXG4gICAgICAgICAgICAgICAgICAgIC5zZXRDb250ZW50KGUubWV0YS5zcGVlZCArICcgJyArIHRoaXMudCgnc3BlZWRfdW5pdF9rbV9oJykpXG4gICAgICAgICAgICAgICAgICAgIC5hZGRUbyh0aGlzLl9tYXApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBtb3VzZW91dDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0aGlzLl9zZXRDdXJzb3IoJycpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2xhYmVsSGVscGVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbWFwLnJlbW92ZUxheWVyKHRoaXMuX2xhYmVsSGVscGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgbW91c2Vtb3ZlOiBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbGFiZWxIZWxwZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sYWJlbEhlbHBlci5zZXRQb3NpdGlvbihlLmxhdGxuZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgX3NldEN1cnNvcjogZnVuY3Rpb24oY3Vyc29yKSB7IC8vIChTdHJpbmcpXG4gICAgICAgIHRoaXMuX21hcC5nZXRDb250YWluZXIoKS5zdHlsZS5jdXJzb3IgPSBjdXJzb3I7XG4gICAgfVxuXG59KTtcblxuREcuVHJhZmZpYy5pbmNsdWRlKERHLkxvY2FsZSk7XG5cbkRHLnRyYWZmaWMgPSBmdW5jdGlvbihvcHRpb25zKSB7IC8vIChPYmplY3QpXG4gICAgcmV0dXJuIG5ldyBERy5UcmFmZmljKG9wdGlvbnMpO1xufTtcbiIsIkRHLlRyYWZmaWMuRGljdGlvbmFyeS5ydSA9IHtcbiAgICBzcGVlZF91bml0X2ttX2g6ICfQutC8L9GHJ1xufTtcbiIsIkRHLlRyYWZmaWMuRGljdGlvbmFyeS5pdCA9IHtcbiAgICBzcGVlZF91bml0X2ttX2g6ICdrbS9oJ1xufTtcbiIsIkRHLlRyYWZmaWMuRGljdGlvbmFyeS5jcyA9IHtcbiAgICBzcGVlZF91bml0X2ttX2g6ICdrbS9oJ1xufTtcbiIsIkRHLlRyYWZmaWMuRGljdGlvbmFyeS5lcyA9IHtcbiAgICBzcGVlZF91bml0X2ttX2g6ICdrbS9oJ1xufTtcbiIsIkRHLlRyYWZmaWMuRGljdGlvbmFyeS5lbiA9IHtcbiAgICBzcGVlZF91bml0X2ttX2g6ICdrbS9oJ1xufTtcbiIsIkRHLlRyYWZmaWMuRGljdGlvbmFyeS5hciA9IHtcbiAgICBzcGVlZF91bml0X2ttX2g6ICfZg9mFL9iz2KfYudipJ1xufTtcbiIsIkRHLkNvbnRyb2wuVHJhZmZpYyA9IERHLlJvdW5kQ29udHJvbC5leHRlbmQoe1xuICAgIG9wdGlvbnM6IHtcbiAgICAgICAgcG9zaXRpb246ICd0b3ByaWdodCcsXG4gICAgICAgIGljb25DbGFzczogJ3RyYWZmaWMnXG4gICAgfSxcblxuICAgIHN0YXRpY3M6IHtcbiAgICAgICAgRGljdGlvbmFyeToge31cbiAgICB9LFxuXG4gICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgICB0aGlzLl90cmFmZmljQ2xhc3MgPSAnZGctdHJhZmZpYy1jb250cm9sJztcbiAgICAgICAgdGhpcy5fY29udHJvbEhpZGVDbGFzcyA9ICdkZy1jb250cm9sLXJvdW5kX2lzLWhpZGRlbl90cnVlJztcblxuICAgICAgICBERy5zZXRPcHRpb25zKHRoaXMsIG9wdGlvbnMpO1xuICAgICAgICBERy5leHRlbmQodGhpcywge1xuICAgICAgICAgICAgX2FjdGl2ZTogZmFsc2UsXG4gICAgICAgICAgICBfdHJhZmZpY0xheWVyOiBudWxsXG4gICAgICAgIH0pLm9uKHRoaXMuX2NvbnRyb2xFdmVudHMsIHRoaXMpO1xuICAgIH0sXG5cbiAgICBfY29udHJvbEV2ZW50czoge1xuICAgICAgICBhZGQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy5fdHJhZmZpY0xheWVyID0gREcudHJhZmZpYygpO1xuICAgICAgICAgICAgdGhpcy5fbWFwLm9uKCd6b29tZW5kIHByb2plY3RjaGFuZ2UgcHJvamVjdGxlYXZlJywgdGhpcy5fdXBkYXRlQ29udHJvbFZpc2liaWxpdHksIHRoaXMpO1xuICAgICAgICB9LFxuICAgICAgICBjbGljazogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0aGlzLl9hY3RpdmUgPSAhdGhpcy5fYWN0aXZlO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5fYWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSgnYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2hvd1RyYWZmaWMoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSgnJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5faGlkZVRyYWZmaWMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgcmVtb3ZlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRoaXMub2ZmKHRoaXMuX2NvbnRyb2xFdmVudHMsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5fbWFwLm9mZignem9vbWVuZCBwcm9qZWN0Y2hhbmdlIHByb2plY3RsZWF2ZScsIHRoaXMuX3VwZGF0ZUNvbnRyb2xWaXNpYmlsaXR5LCB0aGlzKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9hY3RpdmUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9tYXAucmVtb3ZlTGF5ZXIodGhpcy5fdHJhZmZpY0xheWVyKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3RyYWZmaWNMYXllciA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgX3Nob3dUcmFmZmljOiBmdW5jdGlvbigpIHsgLy8gKClcbiAgICAgICAgdGhpcy5fdXBkYXRlVHJhZmZpY1Njb3JlKCk7XG4gICAgICAgIHRoaXMuX21hcC5hZGRMYXllcih0aGlzLl90cmFmZmljTGF5ZXIpO1xuICAgIH0sXG5cbiAgICBfaGlkZVRyYWZmaWM6IGZ1bmN0aW9uKCkgeyAvLyAoKVxuICAgICAgICB0aGlzLl9oYW5kbGVEb20oJ3JlbW92ZScpO1xuICAgICAgICB0aGlzLl9tYXAucmVtb3ZlTGF5ZXIodGhpcy5fdHJhZmZpY0xheWVyKTtcbiAgICB9LFxuXG4gICAgX2hhbmRsZURvbTogZnVuY3Rpb24obWV0aG9kLCBzY29yZSkge1xuICAgICAgICB2YXIgYSA9IHRoaXMuX2xpbms7XG5cbiAgICAgICAgYS5pbm5lckhUTUwgPSBzY29yZSB8fCAnJztcbiAgICAgICAgREcuRG9tVXRpbFttZXRob2QgKyAnQ2xhc3MnXShhLCB0aGlzLl90cmFmZmljQ2xhc3MpO1xuICAgICAgICBERy5Eb21VdGlsW21ldGhvZCArICdDbGFzcyddKGEsIHRoaXMuX3RyYWZmaWNDbGFzcyArICdfY29sb3JfJyArIHRoaXMuX3Njb3JlUmF0ZSk7XG4gICAgfSxcblxuICAgIF9nZXRUcmFmZmljQ29sb3I6IGZ1bmN0aW9uKHNjb3JlKSB7IC8vIChOdW1iZXIpIC0+IFN0cmluZ1xuICAgICAgICB2YXIgcmVzdWx0ID0gJ2dyZWVuJztcblxuICAgICAgICBpZiAoc2NvcmUgPiA3KSB7XG4gICAgICAgICAgICByZXN1bHQgPSAncmVkJztcbiAgICAgICAgfSBlbHNlIGlmIChzY29yZSA+IDQpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9ICd5ZWxsb3cnO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9LFxuXG4gICAgX3VwZGF0ZUNvbnRyb2xWaXNpYmlsaXR5OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHByb2plY3QgPSB0aGlzLl9tYXAucHJvamVjdERldGVjdG9yLmdldFByb2plY3QoKSxcbiAgICAgICAgICAgIHByb2plY3RIYXNUcmFmZmljID0gcHJvamVjdCAmJiBwcm9qZWN0LnRyYWZmaWMsXG4gICAgICAgICAgICBtZXRob2QgPSAoKHRoaXMuX21hcC5nZXRab29tKCkgPCBERy5jb25maWcudHJhZmZpY0xheWVyTWluWm9vbSkgfHxcbiAgICAgICAgICAgICghcHJvamVjdEhhc1RyYWZmaWMpKSA/ICdhZGRDbGFzcycgOiAncmVtb3ZlQ2xhc3MnO1xuXG4gICAgICAgIERHLkRvbVV0aWxbbWV0aG9kXSh0aGlzLl9jb250YWluZXIsIHRoaXMuX2NvbnRyb2xIaWRlQ2xhc3MpO1xuICAgICAgICBpZiAodGhpcy5fYWN0aXZlICYmIHByb2plY3RIYXNUcmFmZmljKSB7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVUcmFmZmljU2NvcmUoKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBfdXBkYXRlVHJhZmZpY1Njb3JlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgIHRoaXMuX2dldFRyYWZmaWNTY29yZSgpLnRoZW4oZnVuY3Rpb24oc2NvcmUpIHtcbiAgICAgICAgICAgIHNjb3JlID0gcGFyc2VJbnQoc2NvcmUsIDEwKTsgLy8gc29tZXRpbWVzIHdlYmFwaSByZXR1cm5zIHNvbWV0aGluZyBsaWtlICc1LCsnXG5cbiAgICAgICAgICAgIHNlbGYuX3Njb3JlUmF0ZSA9IHNlbGYuX2dldFRyYWZmaWNDb2xvcihzY29yZSk7XG4gICAgICAgICAgICBzZWxmLl9oYW5kbGVEb20oJ2FkZCcsIHNjb3JlKTtcbiAgICAgICAgfSk7XG4gICAgfSxcblxuICAgIF9nZXRUcmFmZmljU2NvcmU6IGZ1bmN0aW9uKCkgeyAvLyAoKSAtPiBQcm9taXNlXG4gICAgICAgIHZhciB1cmwgPSBERy5VdGlsLnRlbXBsYXRlKFxuICAgICAgICAgICAgREcuY29uZmlnLnByb3RvY29sICsgREcuY29uZmlnLnRyYWZmaWNTY29yZVNlcnZlcixcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzOiB0aGlzLl90cmFmZmljTGF5ZXIuZ2V0U3ViZG9tYWluKCksXG4gICAgICAgICAgICAgICAgcHJvamVjdENvZGU6IHRoaXMuX21hcC5wcm9qZWN0RGV0ZWN0b3IuZ2V0UHJvamVjdCgpLmNvZGVcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcblxuICAgICAgICByZXR1cm4gREcuYWpheCh1cmwsIHt0eXBlOiAnZ2V0J30pO1xuICAgIH0sXG5cbiAgICBfcmVuZGVyVHJhbnNsYXRpb246IGZ1bmN0aW9uKCkgeyAvLyAoKVxuICAgICAgICB0aGlzLl9saW5rLnRpdGxlID0gdGhpcy50KCdidXR0b25fdGl0bGUnKTtcbiAgICB9XG59KTtcblxuREcuY29udHJvbC50cmFmZmljID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIHJldHVybiBuZXcgREcuQ29udHJvbC5UcmFmZmljKG9wdGlvbnMpO1xufTtcblxuREcuTWFwLm1lcmdlT3B0aW9ucyh7XG4gICAgdHJhZmZpY0NvbnRyb2w6IGZhbHNlXG59KTtcblxuREcuTWFwLmFkZEluaXRIb29rKGZ1bmN0aW9uKCkge1xuICAgIGlmICh0aGlzLm9wdGlvbnMudHJhZmZpY0NvbnRyb2wpIHtcbiAgICAgICAgdGhpcy50cmFmZmljQ29udHJvbCA9IERHLmNvbnRyb2wudHJhZmZpYyh0aGlzLm9wdGlvbnMudHJhZmZpY0NvbnRyb2wpO1xuICAgICAgICB0aGlzLmFkZENvbnRyb2wodGhpcy50cmFmZmljQ29udHJvbCk7XG4gICAgfVxufSk7XG4iLCJERy5Db250cm9sLlRyYWZmaWMuRGljdGlvbmFyeS5ydSA9IHtcbiAgICBidXR0b25fdGl0bGU6ICfQn9GA0L7QsdC60LgnXG59O1xuIiwiREcuQ29udHJvbC5UcmFmZmljLkRpY3Rpb25hcnkuaXQgPSB7XG4gICAgYnV0dG9uX3RpdGxlOiAnQ29sb25uYSdcbn07XG4iLCJERy5Db250cm9sLlRyYWZmaWMuRGljdGlvbmFyeS5jcyA9IHtcbiAgICBidXR0b25fdGl0bGU6ICdaw6FjcHknXG59O1xuIiwiREcuQ29udHJvbC5UcmFmZmljLkRpY3Rpb25hcnkuZXMgPSB7XG4gICAgYnV0dG9uX3RpdGxlOiAnVGFjbydcbn07XG4iLCJERy5Db250cm9sLlRyYWZmaWMuRGljdGlvbmFyeS5lbiA9IHtcbiAgICBidXR0b25fdGl0bGU6ICdUcmFmZmljJ1xufTtcbiIsIkRHLkNvbnRyb2wuVHJhZmZpYy5EaWN0aW9uYXJ5LmFyID0ge1xuICAgIGJ1dHRvbl90aXRsZTogJ9it2LHZg9ipINin2YTYs9mK2LEnXG59O1xuIiwiREcuUnVsZXIgPSBERy5MYXllci5leHRlbmQoe1xuXG4gICAgb3B0aW9uczoge1xuICAgICAgICBlZGl0YWJsZTogdHJ1ZVxuICAgIH0sXG5cbiAgICBpbmNsdWRlczogW0RHLkxvY2FsZV0sXG5cbiAgICBzdGF0aWNzOiB7XG4gICAgICAgIERpY3Rpb25hcnk6IHt9XG4gICAgfSxcblxuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKGxhdGxuZ3MsIG9wdGlvbnMpIHsgLy8gKEFycmF5LCBPYmplY3QpXG4gICAgICAgIERHLlV0aWwuc2V0T3B0aW9ucyh0aGlzLCBvcHRpb25zKTtcblxuICAgICAgICB0aGlzLl9sYXllcnMgPSB7XG4gICAgICAgICAgICBiYWNrIDogbnVsbCxcbiAgICAgICAgICAgIG1pZGRsZSA6IG51bGwsXG4gICAgICAgICAgICBmcm9udCA6IG51bGwsXG4gICAgICAgICAgICBtb3VzZSA6IG51bGxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fcG9pbnRzID0gW107XG5cbiAgICAgICAgdGhpcy5fbGF5ZXJzQ29udGFpbmVyID0gREcuZmVhdHVyZUdyb3VwKCk7XG4gICAgICAgIE9iamVjdC5rZXlzKHRoaXMuX2xheWVycykuZm9yRWFjaChmdW5jdGlvbihuYW1lKSB7XG4gICAgICAgICAgICB0aGlzLl9sYXllcnNDb250YWluZXIuYWRkTGF5ZXIodGhpcy5fbGF5ZXJzW25hbWVdID0gREcuZmVhdHVyZUdyb3VwKCkpO1xuICAgICAgICB9LCB0aGlzKTtcblxuICAgICAgICB0aGlzLl9yZXNldCgpO1xuXG4gICAgICAgIGlmIChERy5Ccm93c2VyLm1vYmlsZSkge1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2xpbmVNb3VzZUV2ZW50cy5tb3VzZW92ZXI7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fbGluZU1vdXNlRXZlbnRzLm1vdXNlb3V0O1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2xpbmVNb3VzZUV2ZW50cy5tb3VzZW1vdmU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fbGluZU1vdXNlRXZlbnRzLmNsaWNrO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGxhdGxuZ3MgJiYgbGF0bG5ncy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0TGF0TG5ncyhsYXRsbmdzKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBvbkFkZDogZnVuY3Rpb24obWFwKSB7IC8vIChNYXApXG4gICAgICAgIHRoaXMuX21hcCA9IG1hcC5vbignbGFuZ2NoYW5nZScsIHRoaXMuX3VwZGF0ZURpc3RhbmNlLCB0aGlzKTtcblxuICAgICAgICAvLyAgUGFuZSBmb3IgcnVsZXIgTWFya2Vyc1xuICAgICAgICBpZiAoIXRoaXMuX21hcC5nZXRQYW5lKCdydWxlck1hcmtlclBhbmUnKSkge1xuICAgICAgICAgICAgdGhpcy5fbWFwLmNyZWF0ZVBhbmUoJ3J1bGVyTWFya2VyUGFuZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gIE1haW4gcnVsZXIgcGFuZSAoc3ZnIG9iamVjdHMgYW5kIHJ1bm5lcilcbiAgICAgICAgaWYgKCF0aGlzLl9tYXAuZ2V0UGFuZSgncnVsZXJQYW5lJykpIHtcbiAgICAgICAgICAgIHRoaXMuX21hcC5jcmVhdGVQYW5lKCdydWxlclBhbmUnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2xheWVyc0NvbnRhaW5lci5hZGRUbyh0aGlzLl9tYXApO1xuXG4gICAgICAgIGlmICh0aGlzLl9wb2ludHMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLl9sYXllcnMubW91c2UuZmlyZSgnbGF5ZXJhZGQnKTtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZURpc3RhbmNlKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9sYXllcnMubW91c2Uub24odGhpcy5fbGluZU1vdXNlRXZlbnRzLCB0aGlzKTtcbiAgICB9LFxuXG4gICAgb25SZW1vdmU6IGZ1bmN0aW9uKG1hcCkgeyAvLyAoTWFwKVxuICAgICAgICBtYXBcbiAgICAgICAgICAgIC5vZmYoJ2xhbmdjaGFuZ2UnLCB0aGlzLl91cGRhdGVEaXN0YW5jZSwgdGhpcylcbiAgICAgICAgICAgIC5yZW1vdmVMYXllcih0aGlzLl9sYXllcnNDb250YWluZXIpO1xuXG4gICAgICAgIHRoaXMuX2xheWVycy5tb3VzZS5vZmYodGhpcy5fbGluZU1vdXNlRXZlbnRzLCB0aGlzKTtcbiAgICAgICAgdGhpcy5fcmVzZXQoKTtcbiAgICB9LFxuXG4gICAgZ2V0VG90YWxEaXN0YW5jZTogZnVuY3Rpb24oKSB7IC8vICgpIC0+IE51bWJlclxuICAgICAgICByZXR1cm4gdGhpcy5fY2FsY0Rpc3RhbmNlKCk7XG4gICAgfSxcblxuICAgIHNwbGljZUxhdExuZ3M6IGZ1bmN0aW9uKGluZGV4KSB7IC8vIChOdW1iZXIsIE51bWJlciwgYXJncyAuLi4pIC0+IEFycmF5XG4gICAgICAgIHZhciBvbGRMZW5ndGggPSB0aGlzLl9wb2ludHMubGVuZ3RoLFxuICAgICAgICAgICAgbXV0YXRpb25TdGFydCA9IGluZGV4ID49IDAgPyBNYXRoLm1pbihpbmRleCwgb2xkTGVuZ3RoKSA6IG9sZExlbmd0aCAtIGluZGV4LFxuICAgICAgICAgICAgcmVtb3ZlZCA9IEFycmF5LnByb3RvdHlwZS5zcGxpY2UuYXBwbHkodGhpcy5fcG9pbnRzLCBhcmd1bWVudHMpLm1hcChmdW5jdGlvbihwb2ludCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xheWVycy5tb3VzZS5yZW1vdmVMYXllcihwb2ludCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBvaW50Lm9mZigpLmdldExhdExuZygpO1xuICAgICAgICAgICAgfSwgdGhpcyksXG4gICAgICAgICAgICBsZW5ndGggPSB0aGlzLl9wb2ludHMubGVuZ3RoO1xuXG4gICAgICAgIGlmIChsZW5ndGgpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSBtdXRhdGlvblN0YXJ0OyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoISh0aGlzLl9wb2ludHNbaV0gaW5zdGFuY2VvZiBERy5SdWxlci5MYXllcmVkTWFya2VyKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9wb2ludHNbaV0gPSB0aGlzLl9jcmVhdGVQb2ludCh0aGlzLl9wb2ludHNbaV0sIHRoaXMub3B0aW9ucy5pY29uU3R5bGVzLmxhcmdlKVxuICAgICAgICAgICAgICAgICAgICAgICAgLm9uKHRoaXMuX3BvaW50RXZlbnRzLCB0aGlzKVxuICAgICAgICAgICAgICAgICAgICAgICAgLm9uY2UoJ2FkZCcsIHRoaXMuX2FkZENsb3NlSGFuZGxlciwgdGhpcylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRUbyh0aGlzLl9sYXllcnMubW91c2UsIHRoaXMuX2xheWVycyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpICYmICF0aGlzLl9wb2ludHNbaSAtIDFdLl9sZWdzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2FkZExlZ3ModGhpcy5fcG9pbnRzW2kgLSAxXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX3BvaW50c1tpXS5zZXRQb2ludFN0eWxlKHRoaXMub3B0aW9ucy5pY29uU3R5bGVzW2kgJiYgaSA8IGxlbmd0aCAtIDEgPyAnc21hbGwnIDogJ2xhcmdlJ10pO1xuICAgICAgICAgICAgICAgIHRoaXMuX3BvaW50c1tpXS5fcG9zID0gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3JlbW92ZUxlZ3ModGhpcy5fcG9pbnRzW2xlbmd0aCAtIDFdKTtcbiAgICAgICAgICAgIGlmIChvbGRMZW5ndGggPiAwICYmIG9sZExlbmd0aCA8IGxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3BvaW50c1tvbGRMZW5ndGggLSAxXS5jb2xsYXBzZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuX3BvaW50c1ttdXRhdGlvblN0YXJ0XSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUxlZ3ModGhpcy5fcG9pbnRzW211dGF0aW9uU3RhcnRdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChtdXRhdGlvblN0YXJ0ID4gMSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3BvaW50c1ttdXRhdGlvblN0YXJ0IC0gMV0uc2V0UG9pbnRTdHlsZSh0aGlzLm9wdGlvbnMuaWNvblN0eWxlcy5zbWFsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVEaXN0YW5jZSgpO1xuICAgICAgICAgICAgdGhpcy5fbm9ybWFsaXplUnVsZXJQb2ludHMoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoREcuQnJvd3Nlci50b3VjaCAmJiB0aGlzLl9saW5lTWFya2VySGVscGVyKSB7XG4gICAgICAgICAgICB0aGlzLl9saW5lTWFya2VySGVscGVyLmNvbGxhcHNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZmlyZUNoYW5nZUV2ZW50KCk7XG4gICAgICAgIHJldHVybiByZW1vdmVkO1xuICAgIH0sXG5cbiAgICBhZGRMYXRMbmc6IGZ1bmN0aW9uKGxhdGxuZykgeyAvLyAoTGF0TG5nKSAtPiBSdWxlclxuICAgICAgICB2YXIgbGFzdFBvaW50ID0gdGhpcy5fcG9pbnRzW3RoaXMuX3BvaW50cy5sZW5ndGggLSAxXSB8fCBudWxsO1xuICAgICAgICBsYXRsbmcgPSBERy5sYXRMbmcobGF0bG5nKTtcblxuICAgICAgICBpZiAobGFzdFBvaW50KSB7XG4gICAgICAgICAgICBsYXRsbmcgPSB0aGlzLl9ub3JtYWxpemVMYXRMbmcobGF0bG5nLCBsYXN0UG9pbnQuZ2V0TGF0TG5nKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zcGxpY2VMYXRMbmdzKHRoaXMuX3BvaW50cy5sZW5ndGgsIDAsIGxhdGxuZyk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICBnZXRMYXRMbmdzOiBmdW5jdGlvbigpIHsgLy8gKCkgLT4gQXJyYXlcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BvaW50cy5tYXAoZnVuY3Rpb24ocG9pbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBwb2ludC5nZXRMYXRMbmcoKTtcbiAgICAgICAgfSk7XG4gICAgfSxcblxuICAgIHNldExhdExuZ3M6IGZ1bmN0aW9uKGxhdGxuZ3MpIHsgLy8gKEFycmF5KSAtPiBSdWxlclxuICAgICAgICB2YXIgYXJncyA9IGxhdGxuZ3Muc2xpY2UoKTtcbiAgICAgICAgYXJncy51bnNoaWZ0KDAsIHRoaXMuX3BvaW50cy5sZW5ndGgpO1xuICAgICAgICB0aGlzLnNwbGljZUxhdExuZ3MuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICBfcmVzZXQ6IGZ1bmN0aW9uKCkgeyAvLyAoKVxuICAgICAgICBERy5leHRlbmQodGhpcywge1xuICAgICAgICAgICAgX2xpbmVNYXJrZXJIZWxwZXI6IG51bGwsXG4gICAgICAgICAgICBfbW9ycGhpbmdOb3c6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgIH0sXG5cbiAgICBfbGluZU1vdXNlRXZlbnRzOiB7XG4gICAgICAgIGNsaWNrOiBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgdmFyIHRhcmdldCA9IGV2ZW50LmxheWVyO1xuICAgICAgICAgICAgaWYgKHRhcmdldCBpbnN0YW5jZW9mIERHLk1hcmtlciAmJiB0YXJnZXQuX3BvcyAhPT0gdGhpcy5fcG9pbnRzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fbGluZU1hcmtlckhlbHBlcikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9saW5lTWFya2VySGVscGVyLmNvbGxhcHNlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRhcmdldC5zZXRUZXh0KHRoaXMuX2dldEZvcm1hdGVkRGlzdGFuY2UodGFyZ2V0KSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fbGluZU1hcmtlckhlbHBlciA9IHRhcmdldDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGFyZ2V0IGluc3RhbmNlb2YgREcuUGF0aCAmJiB0aGlzLm9wdGlvbnMuZWRpdGFibGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgbGF0bG5nID0gZXZlbnQubGF0bG5nLFxuICAgICAgICAgICAgICAgICAgICBpbnNlcnRQb3MgPSB0YXJnZXQuX3BvaW50Ll9wb3MgKyAxO1xuICAgICAgICAgICAgICAgIHRoaXMuc3BsaWNlTGF0TG5ncyhpbnNlcnRQb3MsIDAsIGxhdGxuZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIG1vdXNlb3ZlcjogZnVuY3Rpb24oZXZlbnQpIHsgLy8gKE1vdXNlRXZlbnQpXG4gICAgICAgICAgICB2YXIgdGFyZ2V0ID0gZXZlbnQubGF5ZXI7XG5cbiAgICAgICAgICAgIHRhcmdldC5faG92ZXJlZCA9IHRydWU7XG4gICAgICAgICAgICBpZiAodGhpcy5fbW9ycGhpbmdOb3cpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGFyZ2V0IGluc3RhbmNlb2YgREcuTWFya2VyICYmIHRhcmdldC5fcG9zICE9PSB0aGlzLl9wb2ludHMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgIHRhcmdldC5zZXRUZXh0KHRoaXMuX2dldEZvcm1hdGVkRGlzdGFuY2UodGFyZ2V0KSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRhcmdldCBpbnN0YW5jZW9mIERHLlBhdGggJiYgIXRoaXMuX2xpbmVNYXJrZXJIZWxwZXIpIHtcbiAgICAgICAgICAgICAgICB2YXIgcG9pbnQgPSB0YXJnZXQuX3BvaW50O1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fbGluZU1hcmtlckhlbHBlciA9IHRoaXMuX2FkZFJ1bm5pbmdMYWJlbChcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbmVhcmVzdFBvaW50KHBvaW50Ll9sZWdzLm1pZGRsZSwgZXZlbnQubGF0bG5nKSxcbiAgICAgICAgICAgICAgICAgICAgcG9pbnRcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBtb3VzZW91dDogZnVuY3Rpb24oZXZlbnQpIHsgLy8gKE1vdXNlRXZlbnQpXG4gICAgICAgICAgICB2YXIgdGFyZ2V0ID0gZXZlbnQubGF5ZXIsXG4gICAgICAgICAgICAgICAgb3JpZ2luYWxFdiA9IGV2ZW50Lm9yaWdpbmFsRXZlbnQ7XG5cbiAgICAgICAgICAgIHRhcmdldC5faG92ZXJlZCA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKHRoaXMuX21vcnBoaW5nTm93IHx8IHRhcmdldC5fcG9zID09PSB0aGlzLl9wb2ludHMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBERy5NYXJrZXIpIHtcbiAgICAgICAgICAgICAgICAvLyBjb2xsYXBzZSBvbmx5IHdoZW4gd2UgbW92ZSBvdXQgZnJvbSBsYWJlbCBjb250YWluZXIgKGlmIGJyb3dzZXIgc3VwcG9ydCByZWxhdGVkVGFyZ2V0KVxuICAgICAgICAgICAgICAgIGlmICghb3JpZ2luYWxFdi5yZWxhdGVkVGFyZ2V0IHx8XG4gICAgICAgICAgICAgICAgICAgIChvcmlnaW5hbEV2LnJlbGF0ZWRUYXJnZXQgIT09IHRhcmdldC5xdWVyeVNlbGVjdG9yKCdjb250YWluZXInKSAmJlxuICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbEV2LnJlbGF0ZWRUYXJnZXQucGFyZW50Tm9kZSAhPT0gdGFyZ2V0LnF1ZXJ5U2VsZWN0b3IoJ2NvbnRhaW5lcicpKSkge1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXQuY29sbGFwc2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX3JlbW92ZVJ1bm5pbmdMYWJlbCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBtb3VzZW1vdmU6IGZ1bmN0aW9uKGV2ZW50KSB7IC8vIChNb3VzZUV2ZW50KVxuICAgICAgICAgICAgaWYgKHRoaXMuX21vcnBoaW5nTm93IHx8ICF0aGlzLl9saW5lTWFya2VySGVscGVyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgcG9pbnQgPSBldmVudC5sYXllci5fcG9pbnQsXG4gICAgICAgICAgICAgICAgbGF0bG5nID0gdGhpcy5fbmVhcmVzdFBvaW50KHBvaW50Ll9sZWdzLm1pZGRsZSwgZXZlbnQubGF0bG5nKTtcblxuICAgICAgICAgICAgdGhpcy5fbGluZU1hcmtlckhlbHBlclxuICAgICAgICAgICAgICAgICAgICAuc2V0TGF0TG5nKGxhdGxuZylcbiAgICAgICAgICAgICAgICAgICAgLnNldFRleHQodGhpcy5fZ2V0Rm9ybWF0ZWREaXN0YW5jZShwb2ludCwgcG9pbnQuZ2V0TGF0TG5nKCkuZGlzdGFuY2VUbyhsYXRsbmcpKSk7XG4gICAgICAgIH0sXG4gICAgICAgIGxheWVyYWRkOiBmdW5jdGlvbigpIHsgLy8gKClcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKHRoaXMuX2xheWVycykuZm9yRWFjaChmdW5jdGlvbihuYW1lKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbGF5ZXJzW25hbWVdLmJyaW5nVG9Gcm9udCgpO1xuICAgICAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgX2ZpcmVDaGFuZ2VFdmVudDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuZmlyZSgnY2hhbmdlZCcsIHtsYXRsbmdzIDogdGhpcy5nZXRMYXRMbmdzKCl9KTtcbiAgICB9LFxuXG4gICAgX2FkZFJ1bm5pbmdMYWJlbDogZnVuY3Rpb24obGF0bG5nLCBwcmV2aW91c1BvaW50KSB7IC8vIChMYXRMbmcsIFJ1bGVyLkxheWVyZWRNYXJrZXIpXG4gICAgICAgIHZhciBwb2ludCA9IHRoaXMuX2NyZWF0ZVBvaW50KGxhdGxuZykuYWRkVG8odGhpcy5fbGF5ZXJzLm1vdXNlLCB0aGlzLl9sYXllcnMpO1xuICAgICAgICB2YXIgcGFuZSA9IHRoaXMuX21hcC5nZXRQYW5lKCdydWxlclBhbmUnKTtcbiAgICAgICAgcGFuZS5pbnNlcnRCZWZvcmUocG9pbnQuX2ljb24sIHBhbmUubGFzdEVsZW1lbnRDaGlsZCk7XG4gICAgICAgIHJldHVybiBwb2ludC5zZXRUZXh0KHRoaXMuX2dldEZvcm1hdGVkRGlzdGFuY2UocHJldmlvdXNQb2ludCwgcHJldmlvdXNQb2ludC5nZXRMYXRMbmcoKS5kaXN0YW5jZVRvKGxhdGxuZykpKTtcbiAgICB9LFxuXG4gICAgX3JlbW92ZVJ1bm5pbmdMYWJlbDogZnVuY3Rpb24oKSB7IC8vICgpXG4gICAgICAgIGlmICh0aGlzLl9saW5lTWFya2VySGVscGVyKSB7XG4gICAgICAgICAgICB0aGlzLl9sYXllcnMubW91c2UucmVtb3ZlTGF5ZXIodGhpcy5fbGluZU1hcmtlckhlbHBlcik7XG4gICAgICAgICAgICB0aGlzLl9saW5lTWFya2VySGVscGVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBfaW5zZXJ0UG9pbnRJbkxpbmU6IGZ1bmN0aW9uKGV2ZW50KSB7IC8vIChNb3VzZUV2ZW50KVxuICAgICAgICB2YXIgbGF0bG5nID0gdGhpcy5fbGluZU1hcmtlckhlbHBlci5nZXRMYXRMbmcoKSxcbiAgICAgICAgICAgIGluc2VydFBvcyA9IGV2ZW50LnRhcmdldC5fcG9pbnQuX3BvcyArIDEsXG4gICAgICAgICAgICBwb2ludDtcblxuICAgICAgICBpZiAoTC5Ccm93c2VyLmllKSB7XG4gICAgICAgICAgICB2YXIgcGF0aCA9IGV2ZW50Lm9yaWdpbmFsRXZlbnQudGFyZ2V0IHx8IGV2ZW50Lm9yaWdpbmFsRXZlbnQuc3JjRWxlbWVudCxcbiAgICAgICAgICAgICAgICBwYXJlbnQgPSBwYXRoLnBhcmVudE5vZGU7XG4gICAgICAgICAgICBwYXJlbnQuYXBwZW5kQ2hpbGQocGF0aCk7IC8vIElFIGNsaWNrIGV2ZW50IGxlYWtpbmcgcHJvYmxlbSBzb2x1dGlvbjogd2UgcmVhcHBlbmQgbW91c2Vkb3duIGV2ZW50IHRhcmdldCBlbGVtZW50XG4gICAgICAgIH1cblxuICAgICAgICBMLkRvbUV2ZW50LnN0b3BQcm9wYWdhdGlvbihldmVudC5vcmlnaW5hbEV2ZW50KTtcblxuICAgICAgICB0aGlzLnNwbGljZUxhdExuZ3MoaW5zZXJ0UG9zLCAwLCBsYXRsbmcpO1xuICAgICAgICBwb2ludCA9IHRoaXMuX3BvaW50c1tpbnNlcnRQb3NdO1xuICAgICAgICBwb2ludC5zZXRUZXh0KHRoaXMuX2dldEZvcm1hdGVkRGlzdGFuY2UocG9pbnQpKTtcblxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKGRvY3VtZW50LmNyZWF0ZUV2ZW50KSB7XG4gICAgICAgICAgICAgICAgdmFyIGUgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnTW91c2VFdmVudHMnKTtcbiAgICAgICAgICAgICAgICBlLmluaXRNb3VzZUV2ZW50KCdtb3VzZXVwJywgZmFsc2UsIGZhbHNlLCBkb2N1bWVudC5kZWZhdWx0VmlldywgMSwgMCwgMCwgMCwgMCwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIDEsIHBvaW50Ll9pY29uKTtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGUpO1xuXG4gICAgICAgICAgICAgICAgZSA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdNb3VzZUV2ZW50cycpO1xuICAgICAgICAgICAgICAgIGUuaW5pdE1vdXNlRXZlbnQoJ21vdXNlZG93bicsIGZhbHNlLCBmYWxzZSwgZG9jdW1lbnQuZGVmYXVsdFZpZXcsIDEsIDAsIDAsIDAsIDAsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCAxLCBwb2ludC5faWNvbik7XG4gICAgICAgICAgICAgICAgcG9pbnQuX2ljb24uZGlzcGF0Y2hFdmVudChlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcG9pbnQuX2ljb24uZmlyZUV2ZW50KCdvbk1vdXNlVXAnLCBERy5leHRlbmQoZG9jdW1lbnQuY3JlYXRlRXZlbnRPYmplY3QoKSwge1xuICAgICAgICAgICAgICAgICAgICBidXR0b246IDEsXG4gICAgICAgICAgICAgICAgICAgIGJ1YmJsZXM6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBjYW5jZWxhYmxlOiBmYWxzZVxuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICBwb2ludC5faWNvbi5maXJlRXZlbnQoJ29uTW91c2VEb3duJywgREcuZXh0ZW5kKGRvY3VtZW50LmNyZWF0ZUV2ZW50T2JqZWN0KCksIHtcbiAgICAgICAgICAgICAgICAgICAgYnV0dG9uOiAxLFxuICAgICAgICAgICAgICAgICAgICBidWJibGVzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgY2FuY2VsYWJsZTogZmFsc2VcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIDApO1xuXG4gICAgICAgIHRoaXMuX3JlbW92ZVJ1bm5pbmdMYWJlbCgpO1xuXG4gICAgICAgIHRoaXMuX3VwZGF0ZUxlZ3MocG9pbnQpO1xuICAgIH0sXG5cbiAgICAvLyBGaW5kIHRoZSBwb2ludCBvbiBnaXZlbiBwb2x5bGluZSB3aGljaCBpcyBjbG9zZXN0IHRvIGdpdmVuIGxhdGxuZ1xuICAgIF9uZWFyZXN0UG9pbnQ6IGZ1bmN0aW9uKHBvbHlsaW5lLCBsYXRsbmcpIHsgLy8gKFBvbHlsaW5lLCBMYXRMbmcpIC0+IExhdExuZ1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgLy8gQ29udmVydCBldmVyeXRoaW5nIHRvIHBpeGVsIGNvb3JkaW5hdGVzXG4gICAgICAgIHZhciBwb2ludCA9IHRoaXMuX3Byb2plY3QobGF0bG5nKTtcbiAgICAgICAgdmFyIGxpbmVQb2ludHMgPSBwb2x5bGluZS5nZXRMYXRMbmdzKCkubWFwKGZ1bmN0aW9uKGxhdGxuZykge1xuICAgICAgICAgICAgcmV0dXJuIHNlbGYuX3Byb2plY3QobGF0bG5nKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gRmlyc3QgbG9vayBmb3IgY2xvc2VzdCBwb2x5bGluZSBzZWdtZW50XG4gICAgICAgIHZhciBtaW5EaXN0YW5jZTtcbiAgICAgICAgdmFyIGNsb3Nlc3RTZWdtZW50SW5kZXg7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGluZVBvaW50cy5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBkaXN0YW5jZSA9IERHLkxpbmVVdGlsLnBvaW50VG9TZWdtZW50RGlzdGFuY2UoXG4gICAgICAgICAgICAgICAgcG9pbnQsXG4gICAgICAgICAgICAgICAgbGluZVBvaW50c1tpXSxcbiAgICAgICAgICAgICAgICBsaW5lUG9pbnRzW2kgKyAxXVxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgaWYgKG1pbkRpc3RhbmNlID09PSB1bmRlZmluZWQgfHwgZGlzdGFuY2UgPCBtaW5EaXN0YW5jZSkge1xuICAgICAgICAgICAgICAgIG1pbkRpc3RhbmNlID0gZGlzdGFuY2U7XG4gICAgICAgICAgICAgICAgY2xvc2VzdFNlZ21lbnRJbmRleCA9IGk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUaGVuIGxvb2sgZm9yIGNsb3Nlc3QgcG9pbnQgb24gdGhhdCBzZWdtZW50XG4gICAgICAgIHZhciBjbG9zZXN0UG9pbnQgPSBERy5MaW5lVXRpbC5jbG9zZXN0UG9pbnRPblNlZ21lbnQoXG4gICAgICAgICAgICBwb2ludCxcbiAgICAgICAgICAgIGxpbmVQb2ludHNbY2xvc2VzdFNlZ21lbnRJbmRleF0sXG4gICAgICAgICAgICBsaW5lUG9pbnRzW2Nsb3Nlc3RTZWdtZW50SW5kZXggKyAxXVxuICAgICAgICApO1xuXG4gICAgICAgIC8vIENvbnZlcnQgYmFjayB0byBMYXRMbmdcbiAgICAgICAgcmV0dXJuIHRoaXMuX3VucHJvamVjdChjbG9zZXN0UG9pbnQpO1xuICAgIH0sXG5cbiAgICBfYWRkQ2xvc2VIYW5kbGVyOiBmdW5jdGlvbihldmVudCkgeyAvLyAoRXZlbnQpXG4gICAgICAgIGV2ZW50LnRhcmdldFxuICAgICAgICAgICAgICAgIC5vbignY2xpY2snLCB0aGlzLl9kZWxldGVQb2ludCwgdGhpcylcbiAgICAgICAgICAgICAgICAucXVlcnlTZWxlY3RvcigncmVtb3ZlLWxpbmsnKS5zdHlsZS5kaXNwbGF5ID0gJ2lubGluZS1ibG9jayc7XG4gICAgfSxcblxuICAgIF9jcmVhdGVQb2ludDogZnVuY3Rpb24obGF0bG5nLCBzdHlsZSkgeyAvLyAoTGF0TG5nLCBPYmplY3QpIC0+IFJ1bGVyLkxheWVyZWRNYXJrZXJcbiAgICAgICAgdmFyIHBvaW50U3R5bGUgPSBzdHlsZSA/IHN0eWxlIDogdGhpcy5vcHRpb25zLmljb25TdHlsZXMubGFyZ2UsXG4gICAgICAgICAgICBsYXllcnMgPSB7fTtcbiAgICAgICAgT2JqZWN0LmtleXMocG9pbnRTdHlsZSkuZm9yRWFjaChmdW5jdGlvbihsYXllcikge1xuICAgICAgICAgICAgbGF5ZXJzW2xheWVyXSA9IERHLmNpcmNsZU1hcmtlcihsYXRsbmcsIHBvaW50U3R5bGVbbGF5ZXJdKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIERHLlJ1bGVyLmxheWVyZWRNYXJrZXIobGF0bG5nLCB7XG4gICAgICAgICAgICBsYXllcnMgOiBsYXllcnMsXG4gICAgICAgICAgICBkcmFnZ2FibGUgOiB0aGlzLm9wdGlvbnMuZWRpdGFibGUsXG4gICAgICAgICAgICB0ZXh0RGlyZWN0aW9uOiB0aGlzLl9tYXAuZ2V0TGFuZygpICE9PSAnYXInID8gJ2F1dG8nIDogJ3J0bCdcbiAgICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8vIE1vdmVzIGN1cnIgTGF0TG5nIHRvIGNvcnJlY3Qgd29ybGQgaWYgbmVjZXNzYXJ5IHNvIHRoYXQgcnVsZXIgc2VjdGlvblxuICAgIC8vIGJldHdlZW4gY3VyciBhbmQgYmFzZSBjYW4gYmUgcGxvdHRlZCBjb3JyZWN0bHkuIFJldHVybnMgYSBuZXcgTGF0TG5nXG4gICAgLy8gb2JqZWN0LlxuICAgIF9ub3JtYWxpemVMYXRMbmc6IGZ1bmN0aW9uKGN1cnIsIGJhc2UpIHsgLy8gKExhdExuZywgTGF0TG5nKSAtPiBMYXRMbmdcbiAgICAgICAgdmFyIGRpZmYgPSAoY3Vyci5sbmcgPCBiYXNlLmxuZykgPyAzNjAgOiAtMzYwO1xuXG4gICAgICAgIHZhciBuZXdMbmcgPSBjdXJyLmxuZztcbiAgICAgICAgd2hpbGUgKE1hdGguYWJzKG5ld0xuZyAtIGJhc2UubG5nKSA+IDE4MCkge1xuICAgICAgICAgICAgbmV3TG5nICs9IGRpZmY7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gREcubGF0TG5nKGN1cnIubGF0LCBuZXdMbmcpO1xuICAgIH0sXG5cbiAgICAvLyBSZWFycmFuZ2VzIHJ1bGVyIHBvaW50cyBiZXR3ZWVuIHdvcmxkcyBiYXNlZCBvbiBwb2ludCBwYXJhbSBzbyB0aGF0IGFsbFxuICAgIC8vIHJ1bGVyIHNlY3Rpb25zIGNhbiBiZSBwbG90dGVkIGNvcnJlY3RseS5cbiAgICBfbm9ybWFsaXplUnVsZXJQb2ludHM6IGZ1bmN0aW9uKHBvaW50KSB7IC8vIChSdWxlci5MYXllcmVkTWFya2VyKVxuICAgICAgICBwb2ludCA9IHBvaW50IHx8IHRoaXMuX3BvaW50c1swXTtcblxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHZhciBwb3NpdGlvbiA9IHBvaW50Ll9wb3M7XG4gICAgICAgIHZhciBjaGFuZ2VkUG9pbnRzID0gW107XG4gICAgICAgIHZhciBpLCBjdXJyUG9pbnQsIHByZXZQb2ludCwgbGF0bG5nLCBub3JtYWxpemVkO1xuXG4gICAgICAgIC8vIENoZWNrIHBvaW50cyB0byB0aGUgcmlnaHRcbiAgICAgICAgZm9yIChpID0gcG9zaXRpb24gKyAxOyBpIDwgdGhpcy5fcG9pbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjdXJyUG9pbnQgPSB0aGlzLl9wb2ludHNbaV07XG4gICAgICAgICAgICBwcmV2UG9pbnQgPSB0aGlzLl9wb2ludHNbaSAtIDFdO1xuXG4gICAgICAgICAgICBsYXRsbmcgPSBjdXJyUG9pbnQuZ2V0TGF0TG5nKCk7XG4gICAgICAgICAgICBub3JtYWxpemVkID0gdGhpcy5fbm9ybWFsaXplTGF0TG5nKGxhdGxuZywgcHJldlBvaW50LmdldExhdExuZygpKTtcblxuICAgICAgICAgICAgaWYgKCFub3JtYWxpemVkLmVxdWFscyhsYXRsbmcpKSB7XG4gICAgICAgICAgICAgICAgY3VyclBvaW50LnNldExhdExuZyhub3JtYWxpemVkKTtcbiAgICAgICAgICAgICAgICBjaGFuZ2VkUG9pbnRzLnB1c2goaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDaGVjayBwb2ludHMgdG8gdGhlIGxlZnRcbiAgICAgICAgZm9yIChpID0gcG9zaXRpb24gLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgY3VyclBvaW50ID0gdGhpcy5fcG9pbnRzW2ldO1xuICAgICAgICAgICAgcHJldlBvaW50ID0gdGhpcy5fcG9pbnRzW2kgKyAxXTtcblxuICAgICAgICAgICAgbGF0bG5nID0gY3VyclBvaW50LmdldExhdExuZygpO1xuICAgICAgICAgICAgbm9ybWFsaXplZCA9IHRoaXMuX25vcm1hbGl6ZUxhdExuZyhsYXRsbmcsIHByZXZQb2ludC5nZXRMYXRMbmcoKSk7XG5cbiAgICAgICAgICAgIGlmICghbm9ybWFsaXplZC5lcXVhbHMobGF0bG5nKSkge1xuICAgICAgICAgICAgICAgIGN1cnJQb2ludC5zZXRMYXRMbmcobm9ybWFsaXplZCk7XG4gICAgICAgICAgICAgICAgY2hhbmdlZFBvaW50cy5wdXNoKGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gVXBkYXRlIGxlZ3Mgb2YgYWxsIHBvaW50cyB0aGF0IGNoYW5nZWQgcG9zaXRpb25cbiAgICAgICAgY2hhbmdlZFBvaW50cy5zb3J0KCkucmVkdWNlKGZ1bmN0aW9uKHByZXZpb3VzLCBjdXJyZW50KSB7XG4gICAgICAgICAgICB2YXIgc2tpcFByZXZpb3VzID0gcHJldmlvdXMgJiYgcHJldmlvdXMgPT09IGN1cnJlbnQgLSAxO1xuXG4gICAgICAgICAgICBzZWxmLl91cGRhdGVMZWdzKHNlbGYuX3BvaW50c1tjdXJyZW50XSwgc2tpcFByZXZpb3VzKTtcblxuICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnQ7XG4gICAgICAgIH0sIG51bGwpO1xuICAgIH0sXG5cbiAgICBfcG9pbnRFdmVudHM6IHtcbiAgICAgICAgZHJhZzogZnVuY3Rpb24oZXZlbnQpIHsgLy8gKEV2ZW50KVxuICAgICAgICAgICAgdmFyIHBvaW50ID0gZXZlbnQudGFyZ2V0O1xuXG4gICAgICAgICAgICB0aGlzLl9ub3JtYWxpemVSdWxlclBvaW50cyhwb2ludCk7XG5cbiAgICAgICAgICAgIGlmICghREcuQnJvd3Nlci50b3VjaCAmJiBwb2ludCAhPT0gdGhpcy5fcG9pbnRzW3RoaXMuX3BvaW50cy5sZW5ndGggLSAxXSkge1xuICAgICAgICAgICAgICAgIHBvaW50LnNldFRleHQodGhpcy5fZ2V0Rm9ybWF0ZWREaXN0YW5jZShwb2ludCkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl91cGRhdGVMZWdzKHBvaW50KTtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZURpc3RhbmNlKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGRyYWdlbmQ6IGZ1bmN0aW9uKGV2ZW50KSB7IC8vIChFdmVudClcbiAgICAgICAgICAgIHZhciBwb2ludCA9IGV2ZW50LnRhcmdldDtcbiAgICAgICAgICAgIHRoaXMuX21vcnBoaW5nTm93ID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAoIXBvaW50Ll9ob3ZlcmVkICYmIHBvaW50ICE9PSB0aGlzLl9wb2ludHNbdGhpcy5fcG9pbnRzLmxlbmd0aCAtIDFdKSB7XG4gICAgICAgICAgICAgICAgcG9pbnQuY29sbGFwc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2ZpcmVDaGFuZ2VFdmVudCgpO1xuICAgICAgICB9LFxuICAgICAgICBkcmFnc3RhcnQ6IGZ1bmN0aW9uKCkgeyAvLyAoKVxuICAgICAgICAgICAgaWYgKERHLkJyb3dzZXIudG91Y2ggJiYgdGhpcy5fbGluZU1hcmtlckhlbHBlcikge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xpbmVNYXJrZXJIZWxwZXIuY29sbGFwc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX21vcnBoaW5nTm93ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBfZGVsZXRlUG9pbnQ6IGZ1bmN0aW9uKGV2ZW50KSB7IC8vIChNb3VzZUV2ZW50KVxuICAgICAgICB2YXIgb3JpZ2luYWxFdmVudCA9IGV2ZW50Lm9yaWdpbmFsRXZlbnQsXG4gICAgICAgICAgICB0YXJnZXQgPSBvcmlnaW5hbEV2ZW50LnRhcmdldCAgfHwgb3JpZ2luYWxFdmVudC5zcmNFbGVtZW50O1xuXG4gICAgICAgIGlmICh0YXJnZXQuY2xhc3NOYW1lICE9PSAnZGctcnVsZXJfX2xhYmVsLXJlbW92ZS1saW5rJyAmJlxuICAgICAgICAgICAgdGFyZ2V0LmNsYXNzTmFtZSAhPT0gJ2RnLXJ1bGVyX19yZW1vdmUtbGluay1vdmVybGF5Jykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIERHLkRvbUV2ZW50LnN0b3AoZXZlbnQub3JpZ2luYWxFdmVudCk7XG4gICAgICAgIHRoaXMuc3BsaWNlTGF0TG5ncyhldmVudC50YXJnZXQuX3BvcywgMSk7XG4gICAgfSxcblxuICAgIF9kZWdUb1JhZDogZnVuY3Rpb24oZGVnKSB7XG4gICAgICAgIHJldHVybiAoTWF0aC5QSSAvIDE4MCkgKiBkZWc7XG4gICAgfSxcblxuICAgIF9yYWRUb0RlZzogZnVuY3Rpb24ocmFkKSB7XG4gICAgICAgIHJldHVybiAoMTgwIC8gTWF0aC5QSSkgKiByYWQ7XG4gICAgfSxcblxuICAgIC8vIE1hcC1pbmRlcGVuZGVudCBwcm9qZWN0IG1ldGhvZFxuICAgIF9wcm9qZWN0OiBmdW5jdGlvbihsYXRsbmcpIHtcbiAgICAgICAgaWYgKHRoaXMuX21hcCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21hcC5wcm9qZWN0KGxhdGxuZyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gREcuQ1JTLkVQU0czODU3LmxhdExuZ1RvUG9pbnQobGF0bG5nLCAxKTtcbiAgICB9LFxuXG4gICAgLy8gTWFwLWluZGVwZW5kZW50IHVucHJvamVjdCBtZXRob2RcbiAgICBfdW5wcm9qZWN0OiBmdW5jdGlvbihwb2ludCkge1xuICAgICAgICBpZiAodGhpcy5fbWFwKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbWFwLnVucHJvamVjdChwb2ludCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gREcuQ1JTLkVQU0czODU3LnBvaW50VG9MYXRMbmcocG9pbnQsIDEpO1xuICAgIH0sXG5cbiAgICAvLyBDYWxjdWxhdGVzIHRoZSBzaXplIG9mIGFuZ2xlIHBvaW50MS1wb2ludC1wb2ludDJcbiAgICBfY2FsY0FuZ2xlOiBmdW5jdGlvbihwb2ludCwgcG9pbnQxLCBwb2ludDIpIHsgLy8gKExhdExuZywgTGF0TG5nLCBMYXRMbmcpIC0+IE51bWJlclxuICAgICAgICBwb2ludDEgPSB0aGlzLl9ub3JtYWxpemVMYXRMbmcocG9pbnQxLCBwb2ludCk7XG4gICAgICAgIHBvaW50MiA9IHRoaXMuX25vcm1hbGl6ZUxhdExuZyhwb2ludDIsIHBvaW50KTtcblxuICAgICAgICBwb2ludCA9IHRoaXMuX3Byb2plY3QocG9pbnQpO1xuICAgICAgICBwb2ludDEgPSB0aGlzLl9wcm9qZWN0KHBvaW50MSk7XG4gICAgICAgIHBvaW50MiA9IHRoaXMuX3Byb2plY3QocG9pbnQyKTtcblxuICAgICAgICB2YXIgeDEgPSBwb2ludDEueCAtIHBvaW50Lng7XG4gICAgICAgIHZhciB4MiA9IHBvaW50Mi54IC0gcG9pbnQueDtcbiAgICAgICAgdmFyIHkxID0gcG9pbnQxLnkgLSBwb2ludC55O1xuICAgICAgICB2YXIgeTIgPSBwb2ludDIueSAtIHBvaW50Lnk7XG5cbiAgICAgICAgdmFyIGRvdFByb2R1Y3QgPSB4MSAqIHgyICsgeTEgKiB5MjtcbiAgICAgICAgdmFyIG1hZzEgPSBNYXRoLnNxcnQoeDEgKiB4MSArIHkxICogeTEpO1xuICAgICAgICB2YXIgbWFnMiA9IE1hdGguc3FydCh4MiAqIHgyICsgeTIgKiB5Mik7XG5cbiAgICAgICAgcmV0dXJuIE1hdGguYWNvcyhkb3RQcm9kdWN0IC8gKG1hZzEgKiBtYWcyKSk7XG4gICAgfSxcblxuICAgIC8vIENhbGN1bGF0ZXMgdGhlIG1pZHBvaW50IG9uIHRoZSBncmVhdCBjaXJjbGUgYmV0d2VlbiB0d28gTGF0TG5nc1xuICAgIF9jYWxjTWlkUG9pbnQ6IGZ1bmN0aW9uKGxhdGxuZzEsIGxhdGxuZzIpIHsgLy8gKExhdExuZywgTGF0TG5nKSAtPiBMYXRMbmdcbiAgICAgICAgdmFyIGxvbjEgPSB0aGlzLl9kZWdUb1JhZChsYXRsbmcxLmxuZyk7XG4gICAgICAgIHZhciBsYXQxID0gdGhpcy5fZGVnVG9SYWQobGF0bG5nMS5sYXQpO1xuXG4gICAgICAgIHZhciBsb24yID0gdGhpcy5fZGVnVG9SYWQobGF0bG5nMi5sbmcpO1xuICAgICAgICB2YXIgbGF0MiA9IHRoaXMuX2RlZ1RvUmFkKGxhdGxuZzIubGF0KTtcblxuICAgICAgICAvLyBCYXNlZCBvbiBmb3JtdWxhZSBmcm9tXG4gICAgICAgIC8vIGh0dHA6Ly93aWxsaWFtcy5iZXN0LnZ3aC5uZXQvYXZmb3JtLmh0bSNJbnRlcm1lZGlhdGVcbiAgICAgICAgdmFyIGQgPSBNYXRoLmFjb3MoTWF0aC5zaW4obGF0MSkgKiBNYXRoLnNpbihsYXQyKSArXG4gICAgICAgICAgICBNYXRoLmNvcyhsYXQxKSAqIE1hdGguY29zKGxhdDIpICogTWF0aC5jb3MobG9uMSAtIGxvbjIpKTtcblxuICAgICAgICAvLyBTcGxpdCB0aGUgYXJjIGluIGhhbGZcbiAgICAgICAgdmFyIGYgPSAwLjU7XG5cbiAgICAgICAgdmFyIEEgPSBNYXRoLnNpbigoMSAtIGYpICogZCkgLyBNYXRoLnNpbihkKTtcbiAgICAgICAgdmFyIEIgPSBNYXRoLnNpbihmICogZCkgLyBNYXRoLnNpbihkKTtcblxuICAgICAgICB2YXIgeCA9IEEgKiBNYXRoLmNvcyhsYXQxKSAqIE1hdGguY29zKGxvbjEpICtcbiAgICAgICAgICAgIEIgKiBNYXRoLmNvcyhsYXQyKSAqIE1hdGguY29zKGxvbjIpO1xuXG4gICAgICAgIHZhciB5ID0gQSAqIE1hdGguY29zKGxhdDEpICogTWF0aC5zaW4obG9uMSkgK1xuICAgICAgICAgICAgQiAqIE1hdGguY29zKGxhdDIpICogTWF0aC5zaW4obG9uMik7XG5cbiAgICAgICAgdmFyIHogPSBBICogTWF0aC5zaW4obGF0MSkgKyBCICogTWF0aC5zaW4obGF0Mik7XG5cbiAgICAgICAgdmFyIGxhdCA9IE1hdGguYXRhbjIoeiwgTWF0aC5zcXJ0KHggKiB4ICsgeSAqIHkpKTtcbiAgICAgICAgdmFyIGxvbiA9IE1hdGguYXRhbjIoeSwgeCk7XG5cbiAgICAgICAgcmV0dXJuIERHLmxhdExuZyh0aGlzLl9yYWRUb0RlZyhsYXQpLCB0aGlzLl9yYWRUb0RlZyhsb24pKTtcbiAgICB9LFxuXG4gICAgLy8gQWRhcHRpdmUgc2FtcGxpbmcgYWxnb3JpdGhtIGJhc2VkIG9uXG4gICAgLy8gaHR0cDovL2FyaWVsLmNocm9ub3RleHQub3JnL2RkL2RlZmlndWVpcmVkbzkzYWRhcHRpdmUucGRmXG4gICAgX2FkYXB0aXZlU2FtcGxlOiBmdW5jdGlvbihsZWZ0LCByaWdodCwgZGVwdGgsIG1pZGRsZSkgeyAvLyAoTGF0TG5nLCBMYXRMbmcsIE51bWJlclssIExhdExuZ10pIC0+IExhdExuZ1tdXG4gICAgICAgIGlmIChkZXB0aCA+IDkpIHtcbiAgICAgICAgICAgIC8vIE1heCByZWN1cnNpb24gZGVwdGggcmVhY2hlZFxuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgbWlkZGxlID0gbWlkZGxlIHx8IHRoaXMuX2NhbGNNaWRQb2ludChsZWZ0LCByaWdodCk7XG5cbiAgICAgICAgdmFyIGxlZnRNaWRkbGUgPSB0aGlzLl9jYWxjTWlkUG9pbnQobGVmdCwgbWlkZGxlKTtcbiAgICAgICAgdmFyIHJpZ2h0TWlkZGxlID0gdGhpcy5fY2FsY01pZFBvaW50KG1pZGRsZSwgcmlnaHQpO1xuXG4gICAgICAgIHZhciBhbmdsZTEgPSB0aGlzLl9jYWxjQW5nbGUobGVmdE1pZGRsZSwgbWlkZGxlLCBsZWZ0KTtcbiAgICAgICAgdmFyIGFuZ2xlMiA9IHRoaXMuX2NhbGNBbmdsZShtaWRkbGUsIGxlZnQsIHJpZ2h0KTtcbiAgICAgICAgdmFyIGFuZ2xlMyA9IHRoaXMuX2NhbGNBbmdsZShyaWdodE1pZGRsZSwgbWlkZGxlLCByaWdodCk7XG5cbiAgICAgICAgLy8gbGVmdCAtLS0gbGVmdE1pZGRsZSAtLS0gbWlkZGxlIC0tLSByaWdodE1pZGRsZSAtLS0gcmlnaHRcbiAgICAgICAgLy8gICAgICAgICAgICBhbmdsZTEgICAgICAgYW5nbGUyICAgICAgIGFuZ2xlM1xuXG4gICAgICAgIHZhciBtaW5BbmdsZSA9IDMuMTtcbiAgICAgICAgaWYgKGFuZ2xlMSA+IG1pbkFuZ2xlICYmIGFuZ2xlMiA+IG1pbkFuZ2xlICYmIGFuZ2xlMyA+IG1pbkFuZ2xlKSB7XG4gICAgICAgICAgICAvLyBUaGlzIHNlY3Rpb24gaXMgc3RyYWlnaHQgZW5vdWdoLCBubyBpbnRlcm1lZGlhdGUgcG9pbnRzIG5lZWRlZC5cbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIEFuZ2xlcyBhcmUgdG9vIHNtYWxsLiBSZWN1cnNpdmVseSBzYW1wbGUgaGFsdmVzIG9mIHRoaXMgc2VjdGlvbi5cbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5jb25jYXQodGhpcy5fYWRhcHRpdmVTYW1wbGUobGVmdCwgbWlkZGxlLCBkZXB0aCArIDEsIGxlZnRNaWRkbGUpKTtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKG1pZGRsZSk7XG4gICAgICAgICAgICByZXN1bHQgPSByZXN1bHQuY29uY2F0KHRoaXMuX2FkYXB0aXZlU2FtcGxlKG1pZGRsZSwgcmlnaHQsIGRlcHRoICsgMSwgcmlnaHRNaWRkbGUpKTtcblxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvLyBDYWxjdWxhdGVzIHRoZSBncmVhdCBjaXJjbGUgYXJjIGJldHdlZW4gdHdvIExhdExuZ3MuXG4gICAgX2NhbGNHcmVhdENpcmNsZTogZnVuY3Rpb24obGF0bG5nMSwgbGF0bG5nMikgeyAvLyAoTGF0TG5nLCBMYXRMbmcpIC0+IExhdExuZ1tdXG4gICAgICAgIGxhdGxuZzIgPSB0aGlzLl9ub3JtYWxpemVMYXRMbmcobGF0bG5nMiwgbGF0bG5nMSk7XG5cbiAgICAgICAgLy8gU3BlY2lhbCBjYXNlOiBwb2ludHMgYXJlIGNsb3NlIHRvIGVhY2ggb3RoZXIgKHdpdGhpbiAxIGRlZ3JlZSlcbiAgICAgICAgaWYgKGxhdGxuZzEuZXF1YWxzKGxhdGxuZzIsIDEpKSB7XG4gICAgICAgICAgICByZXR1cm4gW2xhdGxuZzEsIGxhdGxuZzJdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU3BlY2lhbCBjYXNlOiB0aGUgZ3JlYXQgY2lyY2xlIGNyb3NzZXMgYSBwb2xlXG4gICAgICAgIGlmIChNYXRoLmFicyhsYXRsbmcyLmxuZyAtIGxhdGxuZzEubG5nKSA9PSAxODApIHtcbiAgICAgICAgICAgIC8vIE5vcnRoIG9yIHNvdXRoIHBvbGU/XG4gICAgICAgICAgICB2YXIgbGF0aXR1ZGUgPSAobGF0bG5nMS5sYXQgKyBsYXRsbmcyLmxhdCA+IDApID8gOTAgOiAtOTA7XG5cbiAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgbGF0bG5nMSxcbiAgICAgICAgICAgICAgICBERy5sYXRMbmcobGF0aXR1ZGUsIGxhdGxuZzEubG5nKSxcbiAgICAgICAgICAgICAgICBERy5sYXRMbmcobGF0aXR1ZGUsIGxhdGxuZzIubG5nKSxcbiAgICAgICAgICAgICAgICBsYXRsbmcyXG4gICAgICAgICAgICBdO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuXG4gICAgICAgIHJlc3VsdC5wdXNoKGxhdGxuZzEpO1xuICAgICAgICByZXN1bHQgPSByZXN1bHQuY29uY2F0KHRoaXMuX2FkYXB0aXZlU2FtcGxlKGxhdGxuZzEsIGxhdGxuZzIsIDApKTtcbiAgICAgICAgcmVzdWx0LnB1c2gobGF0bG5nMik7XG5cbiAgICAgICAgLy8gTWFrZSBzdXJlIHRoZSBhcmMgZG9lc24ndCBqdW1wIGJldHdlZW4gd29ybGRzXG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgcmVzdWx0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICByZXN1bHRbaV0gPSB0aGlzLl9ub3JtYWxpemVMYXRMbmcocmVzdWx0W2ldLCByZXN1bHRbaSAtIDFdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSxcblxuICAgIF9hZGRMZWdzOiBmdW5jdGlvbihwb2ludCkge1xuICAgICAgICB2YXIgcGF0aFN0eWxlcyA9IHRoaXMub3B0aW9ucy5wYXRoU3R5bGVzO1xuXG4gICAgICAgIHZhciBncmVhdENpcmNsZVBvaW50cyA9IHRoaXMuX2NhbGNHcmVhdENpcmNsZShcbiAgICAgICAgICAgIHBvaW50LmdldExhdExuZygpLFxuICAgICAgICAgICAgdGhpcy5fcG9pbnRzW3BvaW50Ll9wb3MgKyAxXS5nZXRMYXRMbmcoKVxuICAgICAgICApO1xuXG4gICAgICAgIHBvaW50Ll9sZWdzID0ge307XG4gICAgICAgIE9iamVjdC5rZXlzKHBhdGhTdHlsZXMpLmZvckVhY2goZnVuY3Rpb24obGF5ZXIpIHtcbiAgICAgICAgICAgIHBvaW50Ll9sZWdzW2xheWVyXSA9IERHLnBvbHlsaW5lKGdyZWF0Q2lyY2xlUG9pbnRzLCBwYXRoU3R5bGVzW2xheWVyXSkuYWRkVG8odGhpcy5fbGF5ZXJzW2xheWVyXSk7XG4gICAgICAgIH0sIHRoaXMpO1xuXG4gICAgICAgIHBvaW50Ll9sZWdzLm1vdXNlLl9wb2ludCA9IHBvaW50Lm9uY2UoJ3JlbW92ZScsIHRoaXMuX2NsZWFyUmVtb3ZpbmdQb2ludExlZ3MsIHRoaXMpO1xuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuZWRpdGFibGUgJiYgIURHLkJyb3dzZXIubW9iaWxlKSB7XG4gICAgICAgICAgICBwb2ludC5fbGVncy5tb3VzZS5vbignbW91c2Vkb3duJywgdGhpcy5faW5zZXJ0UG9pbnRJbkxpbmUsIHRoaXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX21hcCkge1xuICAgICAgICAgICAgdGhpcy5fbGF5ZXJzLm1vdXNlLmFkZExheWVyKHBvaW50Ll9sZWdzLm1vdXNlKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBfY2xlYXJSZW1vdmluZ1BvaW50TGVnczogZnVuY3Rpb24oZXZlbnQpIHsgLy8gKEV2ZW50KVxuICAgICAgICB0aGlzLl9yZW1vdmVMZWdzKGV2ZW50LnRhcmdldCk7XG4gICAgfSxcblxuICAgIF9yZW1vdmVMZWdzOiBmdW5jdGlvbihwb2ludCkgeyAvLyAoUnVsZXIuTGF5ZXJlZE1hcmtlcilcbiAgICAgICAgaWYgKHBvaW50Ll9sZWdzKSB7XG4gICAgICAgICAgICBPYmplY3Qua2V5cyhwb2ludC5fbGVncykuZm9yRWFjaChmdW5jdGlvbihsYXllcikge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xheWVyc1tsYXllcl0ucmVtb3ZlTGF5ZXIocG9pbnQuX2xlZ3NbbGF5ZXJdKTtcbiAgICAgICAgICAgIH0sIHRoaXMpO1xuICAgICAgICAgICAgcG9pbnQuX2xlZ3MgPSBudWxsO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIF91cGRhdGVMZWdzOiBmdW5jdGlvbihwb2ludCwgc2tpcFByZXZpb3VzKSB7IC8vIChSdWxlci5MYXllcmVkTWFya2VyLCBCb29sZWFuKVxuICAgICAgICB2YXIgbGF0bG5nID0gcG9pbnQuZ2V0TGF0TG5nKCksXG4gICAgICAgICAgICBwcmV2aW91c1BvaW50ID0gdGhpcy5fcG9pbnRzW3BvaW50Ll9wb3MgLSAxXSxcbiAgICAgICAgICAgIG5leHRQb2ludCA9IHRoaXMuX3BvaW50c1twb2ludC5fcG9zICsgMV0sXG4gICAgICAgICAgICBzZWxmID0gdGhpcyxcbiAgICAgICAgICAgIG5ld1BvaW50cztcblxuICAgICAgICBpZiAocHJldmlvdXNQb2ludCAmJiAhc2tpcFByZXZpb3VzKSB7XG4gICAgICAgICAgICBuZXdQb2ludHMgPSBzZWxmLl9jYWxjR3JlYXRDaXJjbGUocHJldmlvdXNQb2ludC5nZXRMYXRMbmcoKSwgbGF0bG5nKTtcblxuICAgICAgICAgICAgT2JqZWN0LmtleXMocHJldmlvdXNQb2ludC5fbGVncykuZm9yRWFjaChmdW5jdGlvbihsYXllcikge1xuICAgICAgICAgICAgICAgIHByZXZpb3VzUG9pbnQuX2xlZ3NbbGF5ZXJdLnNldExhdExuZ3MobmV3UG9pbnRzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG5leHRQb2ludCkge1xuICAgICAgICAgICAgbmV3UG9pbnRzID0gc2VsZi5fY2FsY0dyZWF0Q2lyY2xlKGxhdGxuZywgbmV4dFBvaW50LmdldExhdExuZygpKTtcblxuICAgICAgICAgICAgT2JqZWN0LmtleXMocG9pbnQuX2xlZ3MpLmZvckVhY2goZnVuY3Rpb24obGF5ZXIpIHtcbiAgICAgICAgICAgICAgICBwb2ludC5fbGVnc1tsYXllcl0uc2V0TGF0TG5ncyhuZXdQb2ludHMpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgX2NhbGNEaXN0YW5jZTogZnVuY3Rpb24oZmluaXNoUG9pbnQsIHRhaWwpIHsgLy8gKFJ1bGVyLkxheWVyZWRNYXJrZXIsIE51bWJlcikgLT4gTnVtYmVyXG4gICAgICAgIHZhciBkaXN0YW5jZSA9IHRhaWwgPyB0YWlsIDogMCxcbiAgICAgICAgICAgIGNhbGNUbyA9IGZpbmlzaFBvaW50ID8gZmluaXNoUG9pbnQuX3BvcyA6IHRoaXMuX3BvaW50cy5sZW5ndGggLSAxO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2FsY1RvOyBpKyspIHtcbiAgICAgICAgICAgIGRpc3RhbmNlICs9IHRoaXMuX3BvaW50c1tpXS5nZXRMYXRMbmcoKS5kaXN0YW5jZVRvKHRoaXMuX3BvaW50c1tpICsgMV0uZ2V0TGF0TG5nKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGRpc3RhbmNlO1xuICAgIH0sXG5cbiAgICBfZ2V0Rm9ybWF0ZWREaXN0YW5jZTogZnVuY3Rpb24oKSB7IC8vICgpIC0+IFN0cmluZ1xuICAgICAgICB2YXIgZGlzdGFuY2UgPSB0aGlzLl9jYWxjRGlzdGFuY2UuYXBwbHkodGhpcywgYXJndW1lbnRzKSxcbiAgICAgICAgICAgIHVuaXRzID0gJ20nO1xuXG4gICAgICAgIGlmIChkaXN0YW5jZSA+IDEwMDApIHtcbiAgICAgICAgICAgIGRpc3RhbmNlIC89IDEwMDA7XG4gICAgICAgICAgICB1bml0cyA9ICdrbSc7XG4gICAgICAgICAgICBpZiAoZGlzdGFuY2UgPiAxMDAwKSB7XG4gICAgICAgICAgICAgICAgZGlzdGFuY2UgPSBkaXN0YW5jZS50b0ZpeGVkKCk7XG4gICAgICAgICAgICAgICAgZGlzdGFuY2UgPSBkaXN0YW5jZS5zbGljZSgwLCAtMykgKyAnICcgKyBkaXN0YW5jZS5zbGljZSgtMyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRpc3RhbmNlID0gZGlzdGFuY2UudG9GaXhlZCgyKS5zcGxpdCgnLicpLmpvaW4odGhpcy50KCdkZWxpbWl0ZXInKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkaXN0YW5jZSA9IE1hdGgucm91bmQoZGlzdGFuY2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFtkaXN0YW5jZSB8fCAwLCAnICcsIHRoaXMudCh1bml0cyldLmpvaW4oJycpO1xuICAgIH0sXG5cbiAgICBfdXBkYXRlRGlzdGFuY2U6IGZ1bmN0aW9uKCkgeyAvLyAoKVxuICAgICAgICBpZiAodGhpcy5fbWFwICYmIHRoaXMuX3BvaW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuX3BvaW50c1t0aGlzLl9wb2ludHMubGVuZ3RoIC0gMV0uc2V0VGV4dCh0aGlzLl9nZXRGb3JtYXRlZERpc3RhbmNlKCkpO1xuICAgICAgICB9XG4gICAgfVxufSk7XG5cbkRHLnJ1bGVyID0gZnVuY3Rpb24obGF0bG5ncywgb3B0aW9ucykgeyAvLyAoQXJyYXksIE9iamVjdClcbiAgICByZXR1cm4gbmV3IERHLlJ1bGVyKGxhdGxuZ3MsIG9wdGlvbnMpO1xufTtcbiIsIkRHLlJ1bGVyLkxheWVyZWRNYXJrZXIgPSBERy5NYXJrZXIuZXh0ZW5kKHtcbiAgICBvcHRpb25zOiB7XG4gICAgICAgIGRyYWdnYWJsZTogZmFsc2UsXG4gICAgICAgIGtleWJvYXJkOiBmYWxzZSxcbiAgICAgICAgcmlzZU9uSG92ZXI6IHRydWUsXG4gICAgICAgIHBhbmU6ICdydWxlck1hcmtlclBhbmUnLFxuICAgICAgICB0ZXh0RGlyZWN0aW9uOiAnYXV0bycsIC8vICdhdXRvJyB8ICdsdHInIHwgJ3J0bCdcbiAgICAgICAgaWNvbkhUTUw6IFtcbiAgICAgICAgICAgICc8aW1nIGNsYXNzPVwiZGctcnVsZXJfX2xhYmVsLXNwYWNlclwiIHNyYz1cImRhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEFRQUJBSUFBQUFBQUFQLy8veUg1QkFFQUFBQUFMQUFBQUFBQkFBRUFBQUlCUkFBN1wiIHdpZHRoPVwiMjZcIiBoZWlnaHQ9XCIyNlwiIC8+JyxcbiAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiZGctcnVsZXJfX2xhYmVsLWNvbnRhaW5lclwiPicsXG4gICAgICAgICAgICAnICAgIDxkaXYgY2xhc3M9XCJkZy1ydWxlcl9fcG9pbnRcIj48L2Rpdj4nLFxuICAgICAgICAgICAgJyAgICA8c3BhbiBjbGFzcz1cImRnLXJ1bGVyX19sYWJlbC1kaXN0YW5jZVwiPjAg0LrQvDwvc3Bhbj4nLFxuICAgICAgICAgICAgJyAgICA8c3BhbiBjbGFzcz1cImRnLXJ1bGVyX19sYWJlbC1yZW1vdmUtbGlua1wiPjwvc3Bhbj4nLFxuICAgICAgICAgICAgJyAgICA8ZGl2IGNsYXNzPVwiZGctcnVsZXJfX3JlbW92ZS1saW5rLW92ZXJsYXlcIj48L2Rpdj4nLFxuICAgICAgICAgICAgJzwvZGl2PidcbiAgICAgICAgXS5qb2luKCdcXG4nKVxuICAgIH0sXG5cbiAgICBzdGF0aWNzOiB7XG4gICAgICAgIGRvbUNsYXNzIDogJ2RnLXJ1bGVyX19sYWJlbCdcbiAgICB9LFxuXG4gICAgYWRkVG8gOiBmdW5jdGlvbihtYXAsIGxheWVycykge1xuICAgICAgICBPYmplY3Qua2V5cyh0aGlzLl9sYXllcnMpLmZvckVhY2goZnVuY3Rpb24obmFtZSkge1xuICAgICAgICAgICAgbGF5ZXJzW25hbWVdLmFkZExheWVyKHRoaXMuX2xheWVyc1tuYW1lXSk7XG4gICAgICAgIH0sIHRoaXMpO1xuXG4gICAgICAgIHRoaXMuX3ZpZXdwb3J0ID0gbGF5ZXJzO1xuICAgICAgICByZXR1cm4gREcuTWFya2VyLnByb3RvdHlwZS5hZGRUby5jYWxsKHRoaXMub24oJ21vdmUnLCB0aGlzLl9vbk1vdmUpLCBtYXApO1xuICAgIH0sXG5cbiAgICBvblJlbW92ZSA6IGZ1bmN0aW9uKG1hcCkge1xuICAgICAgICBPYmplY3Qua2V5cyh0aGlzLl9sYXllcnMpLmZvckVhY2goZnVuY3Rpb24obmFtZSkge1xuICAgICAgICAgICAgdGhpcy5fdmlld3BvcnRbbmFtZV0ucmVtb3ZlTGF5ZXIodGhpcy5fbGF5ZXJzW25hbWVdKTtcbiAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgIHRoaXMub2ZmKCdtb3ZlJywgdGhpcy5fb25Nb3ZlKTtcbiAgICAgICAgdGhpcy5fdmlld3BvcnQgPSBudWxsO1xuICAgICAgICB0aGlzLl9zdHlsZSA9IG51bGw7XG4gICAgICAgIHJldHVybiBERy5NYXJrZXIucHJvdG90eXBlLm9uUmVtb3ZlLmNhbGwodGhpcywgbWFwKTtcbiAgICB9LFxuXG4gICAgc2V0VGV4dCA6IGZ1bmN0aW9uKHRleHQpIHtcbiAgICAgICAgaWYgKHRoaXMuX2ljb25Db2xsYXBzZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZXhwYW5kKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5faWNvbk5vZGVzLmxhYmVsLmlubmVySFRNTCA9IHRleHQ7XG4gICAgICAgIHRoaXMuX2ljb25Ob2Rlcy5sYWJlbC5zZXRBdHRyaWJ1dGUoJ2RpcicsIHRoaXMub3B0aW9ucy50ZXh0RGlyZWN0aW9uKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIHNldFBvaW50U3R5bGUgOiBmdW5jdGlvbihzdHlsZSkge1xuICAgICAgICBpZiAodGhpcy5fc3R5bGUgIT09IHN0eWxlKSB7XG4gICAgICAgICAgICBPYmplY3Qua2V5cyh0aGlzLl9zdHlsZSA9IHN0eWxlKS5mb3JFYWNoKGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sYXllcnNbbmFtZV0uc2V0U3R5bGUoc3R5bGVbbmFtZV0pO1xuICAgICAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIGV4cGFuZCA6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLl9pY29uQ29sbGFwc2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2ljb25Ob2Rlcy5jb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgIHRoaXMuX2ljb25Ob2Rlcy5zcGFjZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIGNvbGxhcHNlIDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuX2ljb25Db2xsYXBzZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLl9pY29uTm9kZXMuY29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIHRoaXMuX2ljb25Ob2Rlcy5zcGFjZXIuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICBxdWVyeVNlbGVjdG9yIDogZnVuY3Rpb24oc2VsZWN0b3IpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ljb24ucXVlcnlTZWxlY3RvcignLicgKyBERy5SdWxlci5MYXllcmVkTWFya2VyLmRvbUNsYXNzICsgJy0nICsgc2VsZWN0b3IpO1xuICAgIH0sXG5cbiAgICBfb25Nb3ZlIDogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgdmFyIGxhdGxuZyA9IGV2ZW50LmxhdGxuZztcbiAgICAgICAgT2JqZWN0LmtleXModGhpcy5fbGF5ZXJzKS5mb3JFYWNoKGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgICAgICAgIHRoaXMuX2xheWVyc1tuYW1lXS5zZXRMYXRMbmcobGF0bG5nKTtcbiAgICAgICAgfSwgdGhpcyk7XG4gICAgfSxcblxuICAgIF9pbml0SWNvbiA6IGZ1bmN0aW9uKCkge1xuICAgICAgICBERy5NYXJrZXIucHJvdG90eXBlLl9pbml0SWNvbi5jYWxsKHRoaXMpO1xuICAgICAgICB0aGlzLl9pY29uQ29sbGFwc2VkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5faWNvbi5zdHlsZS53aWR0aCA9ICcnO1xuICAgICAgICB0aGlzLl9pY29uTm9kZXMgPSB7XG4gICAgICAgICAgICBsYWJlbCA6IHRoaXMucXVlcnlTZWxlY3RvcignZGlzdGFuY2UnKSxcbiAgICAgICAgICAgIHNwYWNlciA6IHRoaXMucXVlcnlTZWxlY3Rvcignc3BhY2VyJyksXG4gICAgICAgICAgICBjb250YWluZXIgOiB0aGlzLnF1ZXJ5U2VsZWN0b3IoJ2NvbnRhaW5lcicpXG4gICAgICAgIH07XG4gICAgfSxcblxuICAgIC8vIGRvbid0IGNoYW5nZSBpY29uIHpJbmRleFxuICAgIF9zZXRQb3M6IGZ1bmN0aW9uKHBvcykge1xuICAgICAgICBMLkRvbVV0aWwuc2V0UG9zaXRpb24odGhpcy5faWNvbiwgcG9zKTtcblxuICAgICAgICBpZiAodGhpcy5fc2hhZG93KSB7XG4gICAgICAgICAgICBMLkRvbVV0aWwuc2V0UG9zaXRpb24odGhpcy5fc2hhZG93LCBwb3MpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIF9hZnRlckluaXQgOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5fbGF5ZXJzID0gdGhpcy5vcHRpb25zLmxheWVycyB8fCBudWxsO1xuICAgICAgICB0aGlzLm9wdGlvbnMuaWNvbiA9IERHLmRpdkljb24oe1xuICAgICAgICAgICAgY2xhc3NOYW1lOiBERy5SdWxlci5MYXllcmVkTWFya2VyLmRvbUNsYXNzLFxuICAgICAgICAgICAgaWNvblNpemU6IFsyNiwgMjZdLFxuICAgICAgICAgICAgaWNvbkFuY2hvcjogWzEzLCAxM10sXG4gICAgICAgICAgICBodG1sOiB0aGlzLm9wdGlvbnMuaWNvbkhUTUxcbiAgICAgICAgfSk7XG4gICAgfVxuXG59KTtcblxuREcuUnVsZXIuTGF5ZXJlZE1hcmtlci5hZGRJbml0SG9vaygnX2FmdGVySW5pdCcpO1xuXG5ERy5SdWxlci5sYXllcmVkTWFya2VyID0gZnVuY3Rpb24obGF0bG5nLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIG5ldyBERy5SdWxlci5MYXllcmVkTWFya2VyKGxhdGxuZywgb3B0aW9ucyk7XG59O1xuIiwidmFyIHJ1bGVyUmVuZGVyZXIgPSBERy5zdmcoe3BhbmU6ICdydWxlclBhbmUnfSk7XG52YXIgaG92ZXJSZW5kZXJlciA9IERHLnN2Zyh7cGFuZTogJ3J1bGVyUGFuZSd9KTtcblxuREcuUnVsZXIubWVyZ2VPcHRpb25zKHtcbiAgICBwYXRoU3R5bGVzOiB7XG4gICAgICAgIGJhY2s6IHtcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZicsXG4gICAgICAgICAgICBvcGFjaXR5OiAxLFxuICAgICAgICAgICAgd2VpZ2h0OiAxMixcbiAgICAgICAgICAgIHBvaW50ZXJFdmVudHM6ICdub25lJyxcbiAgICAgICAgICAgIG5vQ2xpcDogdHJ1ZSxcbiAgICAgICAgICAgIHJlbmRlcmVyOiBydWxlclJlbmRlcmVyLFxuICAgICAgICAgICAgc21vb3RoRmFjdG9yOiAwXG4gICAgICAgIH0sXG4gICAgICAgIG1pZGRsZToge1xuICAgICAgICAgICAgY29sb3I6ICcjMGRhNWQ1JyxcbiAgICAgICAgICAgIG9wYWNpdHk6IDEsXG4gICAgICAgICAgICB3ZWlnaHQ6IDQsXG4gICAgICAgICAgICBwb2ludGVyRXZlbnRzOiAnbm9uZScsXG4gICAgICAgICAgICBub0NsaXA6IHRydWUsXG4gICAgICAgICAgICByZW5kZXJlcjogcnVsZXJSZW5kZXJlcixcbiAgICAgICAgICAgIHNtb290aEZhY3RvcjogMFxuICAgICAgICB9LFxuICAgICAgICBtb3VzZToge1xuICAgICAgICAgICAgY29sb3I6ICcjZmZmJyxcbiAgICAgICAgICAgIG9wYWNpdHk6IERHLkJyb3dzZXIudm1sID8gMC4xIDogMCxcbiAgICAgICAgICAgIHdlaWdodDogREcuQnJvd3Nlci50b3VjaCA/IDQwIDogMjAsXG4gICAgICAgICAgICBwb2ludGVyRXZlbnRzOiAncGFpbnRlZCcsXG4gICAgICAgICAgICBub0NsaXA6IHRydWUsXG4gICAgICAgICAgICByZW5kZXJlcjogaG92ZXJSZW5kZXJlcixcbiAgICAgICAgICAgIHNtb290aEZhY3RvcjogMFxuICAgICAgICB9XG4gICAgfSxcbiAgICBpY29uU3R5bGVzOiB7XG4gICAgICAgIGxhcmdlOiB7XG4gICAgICAgICAgICBiYWNrOiB7XG4gICAgICAgICAgICAgICAgY29sb3I6ICcjZmZmJyxcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiAxLFxuICAgICAgICAgICAgICAgIGZpbGxDb2xvcjogJyNmZmYnLFxuICAgICAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAxLFxuICAgICAgICAgICAgICAgIHdlaWdodDogMSxcbiAgICAgICAgICAgICAgICByYWRpdXM6IDEzLFxuICAgICAgICAgICAgICAgIHJlbmRlcmVyOiBydWxlclJlbmRlcmVyXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbWlkZGxlOiB7XG4gICAgICAgICAgICAgICAgY29sb3I6ICcjMGRhNWQ1JyxcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiAxLFxuICAgICAgICAgICAgICAgIGZpbGxDb2xvcjogJyMwZGE1ZDUnLFxuICAgICAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAxLFxuICAgICAgICAgICAgICAgIHdlaWdodDogMSxcbiAgICAgICAgICAgICAgICByYWRpdXM6IDksXG4gICAgICAgICAgICAgICAgcmVuZGVyZXI6IHJ1bGVyUmVuZGVyZXJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmcm9udDoge1xuICAgICAgICAgICAgICAgIGNvbG9yOiAnI2ZmZicsXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogMSxcbiAgICAgICAgICAgICAgICBmaWxsQ29sb3I6ICcjMGRhNWQ1JyxcbiAgICAgICAgICAgICAgICBmaWxsT3BhY2l0eTogMSxcbiAgICAgICAgICAgICAgICB3ZWlnaHQ6IDQsXG4gICAgICAgICAgICAgICAgcmFkaXVzOiA1LFxuICAgICAgICAgICAgICAgIHJlbmRlcmVyOiBydWxlclJlbmRlcmVyXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHNtYWxsOiB7XG4gICAgICAgICAgICBiYWNrOiB7XG4gICAgICAgICAgICAgICAgY29sb3I6ICcjZmZmJyxcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiAxLFxuICAgICAgICAgICAgICAgIGZpbGxDb2xvcjogJyNmZmYnLFxuICAgICAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAxLFxuICAgICAgICAgICAgICAgIHdlaWdodDogMSxcbiAgICAgICAgICAgICAgICByYWRpdXM6IDksXG4gICAgICAgICAgICAgICAgcmVuZGVyZXI6IHJ1bGVyUmVuZGVyZXJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBtaWRkbGU6IHtcbiAgICAgICAgICAgICAgICBjb2xvcjogJyMwZGE1ZDUnLFxuICAgICAgICAgICAgICAgIG9wYWNpdHk6IDEsXG4gICAgICAgICAgICAgICAgZmlsbENvbG9yOiAnIzBkYTVkNScsXG4gICAgICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDEsXG4gICAgICAgICAgICAgICAgd2VpZ2h0OiAxLFxuICAgICAgICAgICAgICAgIHJhZGl1czogNSxcbiAgICAgICAgICAgICAgICByZW5kZXJlcjogcnVsZXJSZW5kZXJlclxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZyb250OiB7XG4gICAgICAgICAgICAgICAgY29sb3I6ICcjZmZmJyxcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiAxLFxuICAgICAgICAgICAgICAgIGZpbGxDb2xvcjogJyMwZGE1ZDUnLFxuICAgICAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAxLFxuICAgICAgICAgICAgICAgIHdlaWdodDogNCxcbiAgICAgICAgICAgICAgICByYWRpdXM6IDIsXG4gICAgICAgICAgICAgICAgcmVuZGVyZXI6IHJ1bGVyUmVuZGVyZXJcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0pO1xuIiwiREcuUnVsZXIuRGljdGlvbmFyeS5ydSA9IHtcbiAgICBrbSA6ICfQutC8JyxcbiAgICBtIDogJ9C8JyxcbiAgICBkZWxpbWl0ZXIgOiAnLCdcbn07XG4iLCJERy5SdWxlci5EaWN0aW9uYXJ5Lml0ID0ge1xuICAgIGttIDogJ2ttJyxcbiAgICBtIDogJ20nLFxuICAgIGRlbGltaXRlciA6ICcsJ1xufTtcbiIsIkRHLlJ1bGVyLkRpY3Rpb25hcnkuY3MgPSB7XG4gICAga206ICdrbScsXG4gICAgbTogJ20nLFxuICAgIGRlbGltaXRlcjogJywnXG59O1xuIiwiREcuUnVsZXIuRGljdGlvbmFyeS5lcyA9IHtcbiAgICBrbSA6ICdrbScsXG4gICAgbSA6ICdtJyxcbiAgICBkZWxpbWl0ZXIgOiAnLCdcbn07XG4iLCJERy5SdWxlci5EaWN0aW9uYXJ5LmVuID0ge1xuICAgIGttIDogJ2ttJyxcbiAgICBtIDogJ20nLFxuICAgIGRlbGltaXRlciA6ICcuJ1xufTtcbiIsIkRHLlJ1bGVyLkRpY3Rpb25hcnkuYXIgPSB7XG4gICAga20gOiAn2YPZhScsXG4gICAgbSA6ICfZhScsXG4gICAgZGVsaW1pdGVyIDogJy4nXG59O1xuIiwiREcuQ29udHJvbC5SdWxlciA9IERHLlJvdW5kQ29udHJvbC5leHRlbmQoe1xuXG4gICAgb3B0aW9uczoge1xuICAgICAgICBwb3NpdGlvbjogJ3RvcHJpZ2h0JyxcbiAgICAgICAgaWNvbkNsYXNzOiAncnVsZXInXG4gICAgfSxcblxuICAgIHN0YXRpY3M6IHtcbiAgICAgICAgRGljdGlvbmFyeToge31cbiAgICB9LFxuXG4gICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgICBERy5zZXRPcHRpb25zKHRoaXMsIG9wdGlvbnMpO1xuICAgICAgICBERy5leHRlbmQodGhpcywge1xuICAgICAgICAgICAgX2FjdGl2ZTogZmFsc2UsXG4gICAgICAgICAgICBfZHJhd2luZ0hlbHBlcjogbnVsbCxcbiAgICAgICAgICAgIF9nZW9jbGlja2VyTmVlZFJlc3RvcmU6IGZhbHNlXG4gICAgICAgIH0pLm9uKHRoaXMuX2NvbnRyb2xFdmVudHMsIHRoaXMpO1xuICAgIH0sXG5cbiAgICBfY29udHJvbEV2ZW50czoge1xuICAgICAgICBhZGQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy5fZHJhd2luZ0hlbHBlciA9IERHLnJ1bGVyKFtdKTtcbiAgICAgICAgfSxcbiAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy5fYWN0aXZlID0gIXRoaXMuX2FjdGl2ZTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuX2FjdGl2ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0YXJ0RHJhd2luZygpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKCcnKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9maW5pc2hEcmF3aW5nKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHJlbW92ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0aGlzLm9mZih0aGlzLl9jb250cm9sRXZlbnRzLCB0aGlzKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9hY3RpdmUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9tYXAucmVtb3ZlTGF5ZXIodGhpcy5fZHJhd2luZ0hlbHBlcik7XG4gICAgICAgICAgICAgICAgdGhpcy5fYWN0aXZlID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9kcmF3aW5nSGVscGVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBfc3RhcnREcmF3aW5nOiBmdW5jdGlvbigpIHsgLy8gKClcbiAgICAgICAgdGhpcy5fbWFwXG4gICAgICAgICAgICAuYWRkTGF5ZXIodGhpcy5fZHJhd2luZ0hlbHBlcilcbiAgICAgICAgICAgIC5vbignY2xpY2snLCB0aGlzLl9oYW5kbGVNYXBDbGljaywgdGhpcyk7XG5cbiAgICAgICAgdGhpcy5fbWFwLmZpcmUoJ3J1bGVyc3RhcnQnKTtcbiAgICB9LFxuXG4gICAgX2ZpbmlzaERyYXdpbmc6IGZ1bmN0aW9uKCkgeyAvLyAoKVxuICAgICAgICB0aGlzLl9tYXBcbiAgICAgICAgICAgIC5vZmYoJ2NsaWNrJywgdGhpcy5faGFuZGxlTWFwQ2xpY2ssIHRoaXMpXG4gICAgICAgICAgICAucmVtb3ZlTGF5ZXIodGhpcy5fZHJhd2luZ0hlbHBlcik7XG5cbiAgICAgICAgdGhpcy5fZHJhd2luZ0hlbHBlci5zZXRMYXRMbmdzKFtdKTtcblxuICAgICAgICB0aGlzLl9tYXAuZmlyZSgncnVsZXJlbmQnKTtcbiAgICB9LFxuXG4gICAgX2hhbmRsZU1hcENsaWNrOiBmdW5jdGlvbihldmVudCkgeyAvLyAoTW91c2VFdmVudHMpXG4gICAgICAgIHRoaXMuX2RyYXdpbmdIZWxwZXIuYWRkTGF0TG5nKGV2ZW50LmxhdGxuZyk7XG4gICAgfSxcblxuICAgIF9yZW5kZXJUcmFuc2xhdGlvbjogZnVuY3Rpb24oKSB7IC8vICgpXG4gICAgICAgIHRoaXMuX2xpbmsudGl0bGUgPSB0aGlzLnQoJ2J1dHRvbl90aXRsZScpO1xuICAgIH1cbn0pO1xuXG5ERy5jb250cm9sLnJ1bGVyID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIHJldHVybiBuZXcgREcuQ29udHJvbC5SdWxlcihvcHRpb25zKTtcbn07XG5cbkRHLk1hcC5tZXJnZU9wdGlvbnMoe1xuICAgIHJ1bGVyQ29udHJvbDogZmFsc2Vcbn0pO1xuXG5ERy5NYXAuYWRkSW5pdEhvb2soZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5ydWxlckNvbnRyb2wpIHtcbiAgICAgICAgdGhpcy5ydWxlckNvbnRyb2wgPSBERy5jb250cm9sLnJ1bGVyKHRoaXMub3B0aW9ucy5ydWxlckNvbnRyb2wpO1xuICAgICAgICB0aGlzLmFkZENvbnRyb2wodGhpcy5ydWxlckNvbnRyb2wpO1xuICAgIH1cbn0pO1xuIiwiREcuQ29udHJvbC5SdWxlci5EaWN0aW9uYXJ5LnJ1ID0ge1xuICAgIGJ1dHRvbl90aXRsZTogJ9Cb0LjQvdC10LnQutCwJ1xufTtcbiIsIkRHLkNvbnRyb2wuUnVsZXIuRGljdGlvbmFyeS5pdCA9IHtcbiAgICBidXR0b25fdGl0bGUgOiAnUmlnaGVsbG8nXG59O1xuIiwiREcuQ29udHJvbC5SdWxlci5EaWN0aW9uYXJ5LmNzID0ge1xuICAgIGJ1dHRvbl90aXRsZTogJ1ByYXbDrXRrbydcbn07XG4iLCJERy5Db250cm9sLlJ1bGVyLkRpY3Rpb25hcnkuZXMgPSB7XG4gICAgYnV0dG9uX3RpdGxlIDogJ1JlZ2xhJ1xufTtcbiIsIkRHLkNvbnRyb2wuUnVsZXIuRGljdGlvbmFyeS5lbiA9IHtcbiAgICBidXR0b25fdGl0bGUgOiAnUnVsZXInXG59O1xuIiwiREcuQ29udHJvbC5SdWxlci5EaWN0aW9uYXJ5LmFyID0ge1xuICAgIGJ1dHRvbl90aXRsZTogJ9mF2LPYt9ix2KknXG59O1xuIiwiKGZ1bmN0aW9uKGR1c3Qpe2R1c3QucmVnaXN0ZXIoXCJER0F0dHJpYnV0aW9uXFwvY29weXJpZ2h0XCIsYm9keV8wKTtmdW5jdGlvbiBib2R5XzAoY2hrLGN0eCl7cmV0dXJuIGNoay53KFwiPGRpdiBjbGFzcz1cXFwiZGctYXR0cmlidXRpb25fX2NvcHlyaWdodFxcXCI+PHVsIGNsYXNzPVxcXCJkZy1hdHRyaWJ1dGlvbl9fbGlua3NcXFwiPjxsaSBjbGFzcz1cXFwiZGctYXR0cmlidXRpb25fX2xpbmstaXRlbVxcXCI+XCIpLngoY3R4LmdldChbXCJvc21cIl0sIGZhbHNlKSxjdHgse1wiZWxzZVwiOmJvZHlfMSxcImJsb2NrXCI6Ym9keV8yfSx7fSkudyhcIjwvbGk+PGxpIGNsYXNzPVxcXCJkZy1hdHRyaWJ1dGlvbl9fbGluay1pdGVtXFxcIj48YSBocmVmPVxcXCJcIikuZihjdHguZ2V0KFtcImNvcHlyaWdodF9saWNlbnNlXCJdLCBmYWxzZSksY3R4LFwiaFwiKS53KFwiXFxcIiB0YXJnZXQ9XFxcIl9ibGFua1xcXCIgY2xhc3M9XFxcImRnLWF0dHJpYnV0aW9uX19saW5rXFxcIj5cIikuZihjdHguZ2V0KFtcImxpY2Vuc2VfYWdyZWVtZW50XCJdLCBmYWxzZSksY3R4LFwiaFwiKS53KFwiPC9hPjwvbGk+PC91bD48YSBocmVmPVxcXCJcIikuZihjdHguZ2V0KFtcImNvcHlyaWdodF9sb2dvXCJdLCBmYWxzZSksY3R4LFwiaFwiKS53KFwiXFxcIiB0YXJnZXQ9XFxcIl9ibGFua1xcXCIgY2xhc3M9XFxcImRnLWF0dHJpYnV0aW9uX19sb2dvLXVybFxcXCI+PC9hPjwvZGl2PlwiKTt9Ym9keV8wLl9fZHVzdEJvZHk9ITA7ZnVuY3Rpb24gYm9keV8xKGNoayxjdHgpe3JldHVybiBjaGsudyhcIjxhIGhyZWY9XFxcIlwiKS5mKGN0eC5nZXQoW1wiY29weXJpZ2h0X2FwaWxpbmtcIl0sIGZhbHNlKSxjdHgsXCJoXCIpLncoXCJcXFwiIHRhcmdldD1cXFwiX2JsYW5rXFxcIiBjbGFzcz1cXFwiZGctYXR0cmlidXRpb25fX2xpbmtcXFwiIGRpcj1cXFwiXCIpLmYoY3R4LmdldChbXCJkaXJcIl0sIGZhbHNlKSxjdHgsXCJoXCIpLncoXCJcXFwiPlwiKS5mKGN0eC5nZXQoW1wid29ya19vblwiXSwgZmFsc2UpLGN0eCxcImhcIikudyhcIjwvYT5cIik7fWJvZHlfMS5fX2R1c3RCb2R5PSEwO2Z1bmN0aW9uIGJvZHlfMihjaGssY3R4KXtyZXR1cm4gY2hrLncoXCLCqSA8YSBocmVmPVxcXCJodHRwOi8vd3d3Lm9wZW5zdHJlZXRtYXAub3JnL2NvcHlyaWdodFxcXCIgdGFyZ2V0PVxcXCJfYmxhbmtcXFwiIGNsYXNzPVxcXCJkZy1hdHRyaWJ1dGlvbl9fbGlua1xcXCI+T3BlblN0cmVldE1hcCBjb250cmlidXRvcnM8L2E+LCA8YSBocmVmPVxcXCJcIikuZihjdHguZ2V0KFtcImNvcHlyaWdodF9hcGlsaW5rXCJdLCBmYWxzZSksY3R4LFwiaFwiKS53KFwiXFxcIiB0YXJnZXQ9XFxcIl9ibGFua1xcXCIgY2xhc3M9XFxcImRnLWF0dHJpYnV0aW9uX19saW5rXFxcIiBkaXI9XFxcIlwiKS5mKGN0eC5nZXQoW1wiZGlyXCJdLCBmYWxzZSksY3R4LFwiaFwiKS53KFwiXFxcIj5cIikuZihjdHguZ2V0KFtcIndvcmtfb25fd2l0aF9vc21cIl0sIGZhbHNlKSxjdHgsXCJoXCIpLncoXCI8L2E+XCIpO31ib2R5XzIuX19kdXN0Qm9keT0hMDtyZXR1cm4gYm9keV8wfShkdXN0KSk7IiwiKGZ1bmN0aW9uKGR1c3Qpe2R1c3QucmVnaXN0ZXIoXCJER0dlb2NsaWNrZXJcXC9jaXR5YXJlYVwiLGJvZHlfMCk7ZnVuY3Rpb24gYm9keV8wKGNoayxjdHgpe3JldHVybiBjaGsudyhcIjxkaXYgY2xhc3M9XFxcImRnLW1hcC1nZW9jbGlja2VyX19wdXJwb3NlIGRnLW1hcC1nZW9jbGlja2VyX19wdXJwb3NlX3R5cGVfXCIpLmYoY3R4LmdldChbXCJ0eXBlXCJdLCBmYWxzZSksY3R4LFwiaFwiKS53KFwiXFxcIj5cIikuZihjdHguZ2V0KFtcInB1cnBvc2VcIl0sIGZhbHNlKSxjdHgsXCJoXCIpLncoXCI8L2Rpdj5cIikucyhjdHguZ2V0KFtcImRyaWxsZG93blwiXSwgZmFsc2UpLGN0eCx7XCJibG9ja1wiOmJvZHlfMX0se30pO31ib2R5XzAuX19kdXN0Qm9keT0hMDtmdW5jdGlvbiBib2R5XzEoY2hrLGN0eCl7cmV0dXJuIGNoay53KFwiPGRpdiBjbGFzcz1cXFwiZGctbWFwLWdlb2NsaWNrZXJfX2RyaWxsZG93blxcXCI+XCIpLmYoY3R4LmdldChbXCJkcmlsbGRvd25cIl0sIGZhbHNlKSxjdHgsXCJoXCIpLncoXCI8L2Rpdj5cIik7fWJvZHlfMS5fX2R1c3RCb2R5PSEwO3JldHVybiBib2R5XzB9KGR1c3QpKTsiLCIoZnVuY3Rpb24oZHVzdCl7ZHVzdC5yZWdpc3RlcihcIkRHR2VvY2xpY2tlclxcL2Zpcm1DYXJkQWRkclwiLGJvZHlfMCk7ZnVuY3Rpb24gYm9keV8wKGNoayxjdHgpe3JldHVybiBjaGsudyhcIjxhZGRyZXNzIGNsYXNzPVxcXCJkZy1maXJtLWNhcmRfX2FkZHJlc3MgZGctZmlybS1jYXJkX19pY29uXFxcIj5cIikuZihjdHguZ2V0KFtcImFkZHJlc3NcIl0sIGZhbHNlKSxjdHgsXCJoXCIpLnMoY3R4LmdldChbXCJjb21tZW50XCJdLCBmYWxzZSksY3R4LHtcImJsb2NrXCI6Ym9keV8xfSx7fSkudyhcIjwvYWRkcmVzcz5cIik7fWJvZHlfMC5fX2R1c3RCb2R5PSEwO2Z1bmN0aW9uIGJvZHlfMShjaGssY3R4KXtyZXR1cm4gY2hrLncoXCI8c3BhbiBjbGFzcz1cXFwiZGctZmlybS1jYXJkX19jb21tZW50XFxcIj4mbWRhc2g7IFwiKS5mKGN0eC5nZXRQYXRoKHRydWUsIFtdKSxjdHgsXCJoXCIpLncoXCI8L3NwYW4+XCIpO31ib2R5XzEuX19kdXN0Qm9keT0hMDtyZXR1cm4gYm9keV8wfShkdXN0KSk7IiwiKGZ1bmN0aW9uKGR1c3Qpe2R1c3QucmVnaXN0ZXIoXCJER0dlb2NsaWNrZXJcXC9maXJtQ2FyZENvbnRhY3RzXCIsYm9keV8wKTtmdW5jdGlvbiBib2R5XzAoY2hrLGN0eCl7cmV0dXJuIGNoay5zKGN0eC5nZXQoW1wiZ3JvdXBzXCJdLCBmYWxzZSksY3R4LHtcImJsb2NrXCI6Ym9keV8xfSx7fSk7fWJvZHlfMC5fX2R1c3RCb2R5PSEwO2Z1bmN0aW9uIGJvZHlfMShjaGssY3R4KXtyZXR1cm4gY2hrLnMoY3R4LmdldChbXCJjb250YWN0c1wiXSwgZmFsc2UpLGN0eCx7XCJibG9ja1wiOmJvZHlfMn0se30pO31ib2R5XzEuX19kdXN0Qm9keT0hMDtmdW5jdGlvbiBib2R5XzIoY2hrLGN0eCl7cmV0dXJuIGNoay5oKFwic2VsZWN0XCIsY3R4LHtcImJsb2NrXCI6Ym9keV8zfSx7XCJrZXlcIjpjdHguZ2V0KFtcInR5cGVcIl0sIGZhbHNlKSxcInR5cGVcIjpcInN0cmluZ1wifSxcImhcIik7fWJvZHlfMi5fX2R1c3RCb2R5PSEwO2Z1bmN0aW9uIGJvZHlfMyhjaGssY3R4KXtyZXR1cm4gY2hrLmgoXCJlcVwiLGN0eCx7XCJibG9ja1wiOmJvZHlfNH0se1widmFsdWVcIjpcInBob25lXCIsXCJ0eXBlXCI6XCJzdHJpbmdcIn0sXCJoXCIpLmgoXCJlcVwiLGN0eCx7XCJibG9ja1wiOmJvZHlfNn0se1widmFsdWVcIjpcImZheFwiLFwidHlwZVwiOlwic3RyaW5nXCJ9LFwiaFwiKS5oKFwiZXFcIixjdHgse1wiYmxvY2tcIjpib2R5Xzh9LHtcInZhbHVlXCI6XCJ3ZWJzaXRlXCIsXCJ0eXBlXCI6XCJzdHJpbmdcIn0sXCJoXCIpLmgoXCJlcVwiLGN0eCx7XCJibG9ja1wiOmJvZHlfOX0se1widmFsdWVcIjpcImVtYWlsXCIsXCJ0eXBlXCI6XCJzdHJpbmdcIn0sXCJoXCIpO31ib2R5XzMuX19kdXN0Qm9keT0hMDtmdW5jdGlvbiBib2R5XzQoY2hrLGN0eCl7cmV0dXJuIGNoay53KFwiPGRpdiBjbGFzcz1cXFwiZGctZmlybS1jYXJkX19waG9uZSBkZy1maXJtLWNhcmRfX2ljb25cXFwiPjxzcGFuIGNsYXNzPVxcXCJkZy1maXJtLWNhcmRfX3Bob25lLW51bVxcXCI+XCIpLmYoY3R4LmdldChbXCJ0ZXh0XCJdLCBmYWxzZSksY3R4LFwiaFwiKS5zKGN0eC5nZXQoW1wiY29tbWVudFwiXSwgZmFsc2UpLGN0eCx7XCJibG9ja1wiOmJvZHlfNX0se30pLncoXCI8L3NwYW4+PC9kaXY+XCIpO31ib2R5XzQuX19kdXN0Qm9keT0hMDtmdW5jdGlvbiBib2R5XzUoY2hrLGN0eCl7cmV0dXJuIGNoay53KFwiPHNwYW4gY2xhc3M9XFxcImRnLWZpcm0tY2FyZF9fY29tbWVudFxcXCIgdGl0bGU9XFxcIlwiKS5mKGN0eC5nZXRQYXRoKHRydWUsIFtdKSxjdHgsXCJoXCIpLncoXCJcXFwiPiZtZGFzaDsmbmJzcDsmbmJzcDtcIikuZihjdHguZ2V0UGF0aCh0cnVlLCBbXSksY3R4LFwiaFwiKS53KFwiPC9zcGFuPlwiKTt9Ym9keV81Ll9fZHVzdEJvZHk9ITA7ZnVuY3Rpb24gYm9keV82KGNoayxjdHgpe3JldHVybiBjaGsudyhcIjxkaXYgY2xhc3M9XFxcImRnLWZpcm0tY2FyZF9fcGhvbmUgZGctZmlybS1jYXJkX19pY29uXFxcIj48c3BhbiBjbGFzcz1cXFwiZGctZmlybS1jYXJkX19waG9uZS1udW1cXFwiPlwiKS5mKGN0eC5nZXQoW1widGV4dFwiXSwgZmFsc2UpLGN0eCxcImhcIikucyhjdHguZ2V0KFtcImNvbW1lbnRcIl0sIGZhbHNlKSxjdHgse1wiYmxvY2tcIjpib2R5Xzd9LHt9KS53KFwiPC9zcGFuPjwvZGl2PlwiKTt9Ym9keV82Ll9fZHVzdEJvZHk9ITA7ZnVuY3Rpb24gYm9keV83KGNoayxjdHgpe3JldHVybiBjaGsudyhcIjxzcGFuIGNsYXNzPVxcXCJkZy1maXJtLWNhcmRfX2NvbW1lbnRcXFwiIHRpdGxlPVxcXCJcIikuZihjdHguZ2V0UGF0aCh0cnVlLCBbXSksY3R4LFwiaFwiKS53KFwiXFxcIj4mbWRhc2g7Jm5ic3A7Jm5ic3A7XCIpLmYoY3R4LmdldFBhdGgodHJ1ZSwgW10pLGN0eCxcImhcIikudyhcIjwvc3Bhbj5cIik7fWJvZHlfNy5fX2R1c3RCb2R5PSEwO2Z1bmN0aW9uIGJvZHlfOChjaGssY3R4KXtyZXR1cm4gY2hrLncoXCI8ZGl2IGNsYXNzPVxcXCJkZy1maXJtLWNhcmRfX2xpbmsgZGctZmlybS1jYXJkX19zaXRlIGRnLWZpcm0tY2FyZF9faWNvblxcXCI+PGEgaHJlZj1cXFwiXCIpLmYoY3R4LmdldChbXCJ1cmxcIl0sIGZhbHNlKSxjdHgsXCJoXCIpLncoXCJcXFwiIHRhcmdldD1cXFwiX2JsYW5rXFxcIiBjbGFzcz1cXFwiZGctbGlua19zY2hlbWVfZGFyayBkZy1maXJtLWNhcmRfX3NpdGVsaW5rXFxcIj5cIikuZihjdHguZ2V0KFtcInRleHRcIl0sIGZhbHNlKSxjdHgsXCJoXCIpLncoXCI8L2E+PC9kaXY+XCIpO31ib2R5XzguX19kdXN0Qm9keT0hMDtmdW5jdGlvbiBib2R5XzkoY2hrLGN0eCl7cmV0dXJuIGNoay53KFwiPGRpdiBjbGFzcz1cXFwiZGctZmlybS1jYXJkX19saW5rIGRnLWZpcm0tY2FyZF9fZW1haWwgZGctZmlybS1jYXJkX19pY29uXFxcIj48YSBocmVmPVxcXCJtYWlsdG86XCIpLmYoY3R4LmdldChbXCJ2YWx1ZVwiXSwgZmFsc2UpLGN0eCxcImhcIikudyhcIlxcXCI+XCIpLmYoY3R4LmdldChbXCJ2YWx1ZVwiXSwgZmFsc2UpLGN0eCxcImhcIikudyhcIjwvYT48L2Rpdj5cIik7fWJvZHlfOS5fX2R1c3RCb2R5PSEwO3JldHVybiBib2R5XzB9KGR1c3QpKTsiLCIoZnVuY3Rpb24oZHVzdCl7ZHVzdC5yZWdpc3RlcihcIkRHR2VvY2xpY2tlclxcL2Zpcm1DYXJkSGVhZGVyXCIsYm9keV8wKTtmdW5jdGlvbiBib2R5XzAoY2hrLGN0eCl7cmV0dXJuIGNoay53KFwiPGRpdiBjbGFzcz1cXFwiZGctcG9wdXBfX2hlYWRlci10aXRsZSBkZy1wb3B1cF9faGVhZGVyLXRpdGxlX2Zvcl9maXJtY2FyZFxcXCIgdGl0bGU9XFxcIlwiKS5mKGN0eC5nZXQoW1wiZmlybU5hbWVcIl0sIGZhbHNlKSxjdHgsXCJoXCIpLncoXCJcXFwiPlwiKS5mKGN0eC5nZXQoW1wiZmlybU5hbWVcIl0sIGZhbHNlKSxjdHgsXCJoXCIpLncoXCI8L2Rpdj5cIikueChjdHguZ2V0KFtcImxpbmtzXCJdLCBmYWxzZSksY3R4LHtcImJsb2NrXCI6Ym9keV8xfSx7fSk7fWJvZHlfMC5fX2R1c3RCb2R5PSEwO2Z1bmN0aW9uIGJvZHlfMShjaGssY3R4KXtyZXR1cm4gY2hrLncoXCI8ZGl2IGNsYXNzPVxcXCJkZy1wb3B1cF9faGVhZGVyLWxpbmtzXFxcIj5cIikucyhjdHguZ2V0KFtcImxpbmtzXCJdLCBmYWxzZSksY3R4LHtcImJsb2NrXCI6Ym9keV8yfSx7fSkudyhcIjwvZGl2PlwiKTt9Ym9keV8xLl9fZHVzdEJvZHk9ITA7ZnVuY3Rpb24gYm9keV8yKGNoayxjdHgpe3JldHVybiBjaGsuaChcImVxXCIsY3R4LHtcImVsc2VcIjpib2R5XzMsXCJibG9ja1wiOmJvZHlfNn0se1wia2V5XCI6Ym9keV83LFwidmFsdWVcIjpcImZsYW1wX3N0YXJzXCIsXCJ0eXBlXCI6XCJzdHJpbmdcIn0sXCJoXCIpO31ib2R5XzIuX19kdXN0Qm9keT0hMDtmdW5jdGlvbiBib2R5XzMoY2hrLGN0eCl7cmV0dXJuIGNoay53KFwiPGEgY2xhc3M9XFxcImRnLXBvcHVwX19oZWFkZXItbGluayBkZy1wb3B1cF9fbGluayBkZy1wb3B1cF9fbGlua190eXBlX1wiKS5mKGN0eC5nZXQoW1wibmFtZVwiXSwgZmFsc2UpLGN0eCxcImhcIikudyhcIlxcXCJcIikueChjdHguZ2V0KFtcImhyZWZcIl0sIGZhbHNlKSxjdHgse1wiZWxzZVwiOmJvZHlfNCxcImJsb2NrXCI6Ym9keV81fSx7fSkudyhcIj5cIikuZihjdHguZ2V0KFtcImxhYmVsXCJdLCBmYWxzZSksY3R4LFwiaFwiKS53KFwiPC9hPlwiKTt9Ym9keV8zLl9fZHVzdEJvZHk9ITA7ZnVuY3Rpb24gYm9keV80KGNoayxjdHgpe3JldHVybiBjaGsudyhcImhyZWY9XFxcImphdmFzY3JpcHQ6dm9pZCgwKVxcXCJcIik7fWJvZHlfNC5fX2R1c3RCb2R5PSEwO2Z1bmN0aW9uIGJvZHlfNShjaGssY3R4KXtyZXR1cm4gY2hrLncoXCJocmVmPVwiKS5mKGN0eC5nZXQoW1wiaHJlZlwiXSwgZmFsc2UpLGN0eCxcImhcIikudyhcIiB0YXJnZXQ9XFxcIl9ibGFua1xcXCJcIik7fWJvZHlfNS5fX2R1c3RCb2R5PSEwO2Z1bmN0aW9uIGJvZHlfNihjaGssY3R4KXtyZXR1cm4gY2hrLncoXCI8ZGl2IGNsYXNzPVxcXCJkZy1wb3B1cF9fcmF0aW5nXFxcIj48ZGl2IGNsYXNzPVxcXCJkZy1wb3B1cF9fcmF0aW5nLXN0YXJzXFxcIiBzdHlsZT1cXFwid2lkdGg6IFwiKS5mKGN0eC5nZXQoW1wid2lkdGhcIl0sIGZhbHNlKSxjdHgsXCJoXCIpLncoXCIlXFxcIj48L2Rpdj48L2Rpdj5cIik7fWJvZHlfNi5fX2R1c3RCb2R5PSEwO2Z1bmN0aW9uIGJvZHlfNyhjaGssY3R4KXtyZXR1cm4gY2hrLmYoY3R4LmdldChbXCJuYW1lXCJdLCBmYWxzZSksY3R4LFwiaFwiKTt9Ym9keV83Ll9fZHVzdEJvZHk9ITA7cmV0dXJuIGJvZHlfMH0oZHVzdCkpOyIsIihmdW5jdGlvbihkdXN0KXtkdXN0LnJlZ2lzdGVyKFwiREdHZW9jbGlja2VyXFwvZmlybUNhcmRSdWJyaWNcIixib2R5XzApO2Z1bmN0aW9uIGJvZHlfMChjaGssY3R4KXtyZXR1cm4gY2hrLnMoY3R4LmdldChbXCJydWJyaWNzXCJdLCBmYWxzZSksY3R4LHtcImJsb2NrXCI6Ym9keV8xfSx7fSk7fWJvZHlfMC5fX2R1c3RCb2R5PSEwO2Z1bmN0aW9uIGJvZHlfMShjaGssY3R4KXtyZXR1cm4gY2hrLncoXCI8c2VjdGlvbiBjbGFzcz1cXFwiZGctZmlybS1jYXJkX19ydWJyaWNzXFxcIj5cIikueChjdHguZ2V0KFtcInByaW1hcnlcIl0sIGZhbHNlKSxjdHgse1wiYmxvY2tcIjpib2R5XzJ9LHt9KS54KGN0eC5nZXQoW1wiYWRkaXRpb25hbFwiXSwgZmFsc2UpLGN0eCx7XCJibG9ja1wiOmJvZHlfNH0se30pLncoXCI8L3NlY3Rpb24+XCIpO31ib2R5XzEuX19kdXN0Qm9keT0hMDtmdW5jdGlvbiBib2R5XzIoY2hrLGN0eCl7cmV0dXJuIGNoay53KFwiPHVsIGNsYXNzPVxcXCJkZy1maXJtLWNhcmRfX3J1YnJpY3MtbGlzdCBkZy1maXJtLWNhcmRfX3J1YnJpY3MtbGlzdF90eXBlX3ByaW1hcnlcXFwiPlwiKS5zKGN0eC5nZXQoW1wicHJpbWFyeVwiXSwgZmFsc2UpLGN0eCx7XCJibG9ja1wiOmJvZHlfM30se30pLncoXCI8L3VsPlwiKTt9Ym9keV8yLl9fZHVzdEJvZHk9ITA7ZnVuY3Rpb24gYm9keV8zKGNoayxjdHgpe3JldHVybiBjaGsudyhcIjxsaSBjbGFzcz1cXFwiZGctZmlybS1jYXJkX19ydWJyaWNzLWxpc3QtaXRlbVxcXCI+XCIpLmYoY3R4LmdldChbXCJuYW1lXCJdLCBmYWxzZSksY3R4LFwiaFwiKS53KFwiPC9saT5cIik7fWJvZHlfMy5fX2R1c3RCb2R5PSEwO2Z1bmN0aW9uIGJvZHlfNChjaGssY3R4KXtyZXR1cm4gY2hrLncoXCI8dWwgY2xhc3M9XFxcImRnLWZpcm0tY2FyZF9fcnVicmljcy1saXN0IGRnLWZpcm0tY2FyZF9fcnVicmljcy1saXN0X3R5cGVfYWRkaXRpb25hbFxcXCI+XCIpLnMoY3R4LmdldChbXCJhZGRpdGlvbmFsXCJdLCBmYWxzZSksY3R4LHtcImJsb2NrXCI6Ym9keV81fSx7fSkudyhcIjwvdWw+XCIpO31ib2R5XzQuX19kdXN0Qm9keT0hMDtmdW5jdGlvbiBib2R5XzUoY2hrLGN0eCl7cmV0dXJuIGNoay53KFwiPGxpIGNsYXNzPVxcXCJkZy1maXJtLWNhcmRfX3J1YnJpY3MtbGlzdC1pdGVtXFxcIj5cIikuZihjdHguZ2V0KFtcIm5hbWVcIl0sIGZhbHNlKSxjdHgsXCJoXCIpLncoXCI8L2xpPlwiKTt9Ym9keV81Ll9fZHVzdEJvZHk9ITA7cmV0dXJuIGJvZHlfMH0oZHVzdCkpOyIsIihmdW5jdGlvbihkdXN0KXtkdXN0LnJlZ2lzdGVyKFwiREdHZW9jbGlja2VyXFwvZmlybUNhcmRTY2hlZHVsZVwiLGJvZHlfMCk7ZnVuY3Rpb24gYm9keV8wKGNoayxjdHgpe3JldHVybiBjaGsudyhcIjxkaXYgY2xhc3M9XFxcImRnLWZpcm0tY2FyZF9fc2NoZWR1bGUgZGctc2NoZWR1bGUgZGctc2NoZWR1bGVfb3Blbl9cIikueChjdHguZ2V0UGF0aChmYWxzZSwgW1wiZm9yZWNhc3RcIixcIm9wZW5cIl0pLGN0eCx7XCJlbHNlXCI6Ym9keV8xLFwiYmxvY2tcIjpib2R5XzJ9LHt9KS53KFwiIGRnLXNjaGVkdWxlX3dvcmtzLWV2ZXJ5ZGF5X1wiKS54KGN0eC5nZXRQYXRoKGZhbHNlLCBbXCJzY2hlZHVsZVwiLFwiZXZlcnlkYXlcIl0pLGN0eCx7XCJlbHNlXCI6Ym9keV8zLFwiYmxvY2tcIjpib2R5XzR9LHt9KS53KFwiXFxcIj5cIikueChjdHguZ2V0KFtcInNjaGVkdWxlXCJdLCBmYWxzZSksY3R4LHtcImJsb2NrXCI6Ym9keV81fSx7fSkudyhcIjwvZGl2PlwiKTt9Ym9keV8wLl9fZHVzdEJvZHk9ITA7ZnVuY3Rpb24gYm9keV8xKGNoayxjdHgpe3JldHVybiBjaGsudyhcImZhbHNlXCIpO31ib2R5XzEuX19kdXN0Qm9keT0hMDtmdW5jdGlvbiBib2R5XzIoY2hrLGN0eCl7cmV0dXJuIGNoay53KFwidHJ1ZVwiKTt9Ym9keV8yLl9fZHVzdEJvZHk9ITA7ZnVuY3Rpb24gYm9keV8zKGNoayxjdHgpe3JldHVybiBjaGsudyhcImZhbHNlXCIpO31ib2R5XzMuX19kdXN0Qm9keT0hMDtmdW5jdGlvbiBib2R5XzQoY2hrLGN0eCl7cmV0dXJuIGNoay53KFwidHJ1ZVwiKTt9Ym9keV80Ll9fZHVzdEJvZHk9ITA7ZnVuY3Rpb24gYm9keV81KGNoayxjdHgpe3JldHVybiBjaGsueChjdHguZ2V0UGF0aChmYWxzZSwgW1wiZm9yZWNhc3RcIixcInRvZGF5XCJdKSxjdHgse1wiYmxvY2tcIjpib2R5XzZ9LHt9KS5zKGN0eC5nZXRQYXRoKGZhbHNlLCBbXCJmb3JlY2FzdFwiLFwibm93XCJdKSxjdHgse1wiYmxvY2tcIjpib2R5XzEwfSx7fSkubngoY3R4LmdldFBhdGgoZmFsc2UsIFtcInNjaGVkdWxlXCIsXCJldmVyeWRheVwiXSksY3R4LHtcImJsb2NrXCI6Ym9keV8xMn0se30pO31ib2R5XzUuX19kdXN0Qm9keT0hMDtmdW5jdGlvbiBib2R5XzYoY2hrLGN0eCl7cmV0dXJuIGNoay53KFwiPGRpdiBjbGFzcz1cXFwiZGctc2NoZWR1bGVfX3RvZGF5XFxcIj48ZGl2IGNsYXNzPVxcXCJkZy1zY2hlZHVsZV9fdG9kYXktaW5uZXJcXFwiPlwiKS5mKGN0eC5nZXRQYXRoKGZhbHNlLCBbXCJmb3JlY2FzdFwiLFwidG9kYXlcIixcInRleHRcIl0pLGN0eCxcImhcIikudyhcIiZuYnNwO1wiKS54KGN0eC5nZXRQYXRoKGZhbHNlLCBbXCJmb3JlY2FzdFwiLFwidG9kYXlcIixcImZyb21cIl0pLGN0eCx7XCJibG9ja1wiOmJvZHlfN30se30pLngoY3R4LmdldFBhdGgoZmFsc2UsIFtcInNjaGVkdWxlXCIsXCJsdW5jaFwiXSksY3R4LHtcImJsb2NrXCI6Ym9keV84fSx7fSkudyhcIjwvZGl2PjwvZGl2PlwiKTt9Ym9keV82Ll9fZHVzdEJvZHk9ITA7ZnVuY3Rpb24gYm9keV83KGNoayxjdHgpe3JldHVybiBjaGsuZihjdHguZ2V0UGF0aChmYWxzZSwgW1wiZm9yZWNhc3RcIixcInRvZGF5XCIsXCJmcm9tXCJdKSxjdHgsXCJoXCIpLncoXCImbmRhc2g7XCIpLmYoY3R4LmdldFBhdGgoZmFsc2UsIFtcImZvcmVjYXN0XCIsXCJ0b2RheVwiLFwidG9cIl0pLGN0eCxcImhcIik7fWJvZHlfNy5fX2R1c3RCb2R5PSEwO2Z1bmN0aW9uIGJvZHlfOChjaGssY3R4KXtyZXR1cm4gY2hrLncoXCIsJm5ic3A7XCIpLmYoY3R4LmdldFBhdGgoZmFsc2UsIFtcImZvcmVjYXN0XCIsXCJ0b2RheVwiLFwibHVuY2hTdHJcIl0pLGN0eCxcImhcIikudyhcIiZuYnNwO1wiKS5zKGN0eC5nZXRQYXRoKGZhbHNlLCBbXCJzY2hlZHVsZVwiLFwibHVuY2hcIl0pLGN0eCx7XCJibG9ja1wiOmJvZHlfOX0se30pO31ib2R5XzguX19kdXN0Qm9keT0hMDtmdW5jdGlvbiBib2R5XzkoY2hrLGN0eCl7cmV0dXJuIGNoay5mKGN0eC5nZXQoW1wiZnJvbVwiXSwgZmFsc2UpLGN0eCxcImhcIikudyhcIiZuZGFzaDtcIikuZihjdHguZ2V0KFtcInRvXCJdLCBmYWxzZSksY3R4LFwiaFwiKTt9Ym9keV85Ll9fZHVzdEJvZHk9ITA7ZnVuY3Rpb24gYm9keV8xMChjaGssY3R4KXtyZXR1cm4gY2hrLncoXCI8ZGl2IGNsYXNzPVxcXCJkZy1zY2hlZHVsZV9fbm93XFxcIj48c3BhbiBjbGFzcz1cXFwiZGctc2NoZWR1bGVfX25vdy10ZXh0XFxcIj5cIikuZihjdHguZ2V0UGF0aCh0cnVlLCBbXSksY3R4LFwiaFwiKS5zKGN0eC5nZXRQYXRoKGZhbHNlLCBbXCJzY2hlZHVsZVwiLFwiY29tbWVudFwiXSksY3R4LHtcImJsb2NrXCI6Ym9keV8xMX0se30pLncoXCI8L3NwYW4+PC9kaXY+XCIpO31ib2R5XzEwLl9fZHVzdEJvZHk9ITA7ZnVuY3Rpb24gYm9keV8xMShjaGssY3R4KXtyZXR1cm4gY2hrLncoXCIsIFwiKS5mKGN0eC5nZXRQYXRoKHRydWUsIFtdKSxjdHgsXCJoXCIpO31ib2R5XzExLl9fZHVzdEJvZHk9ITA7ZnVuY3Rpb24gYm9keV8xMihjaGssY3R4KXtyZXR1cm4gY2hrLngoY3R4LmdldFBhdGgoZmFsc2UsIFtcInNjaGVkdWxlXCIsXCJ3ZWVrXCJdKSxjdHgse1wiYmxvY2tcIjpib2R5XzEzfSx7fSk7fWJvZHlfMTIuX19kdXN0Qm9keT0hMDtmdW5jdGlvbiBib2R5XzEzKGNoayxjdHgpe3JldHVybiBjaGsueChjdHguZ2V0UGF0aChmYWxzZSwgW1wic2NoZWR1bGVcIixcIndlZWtcIixcImV2ZW50bHlcIl0pLGN0eCx7XCJibG9ja1wiOmJvZHlfMTR9LHt9KS54KGN0eC5nZXRQYXRoKGZhbHNlLCBbXCJzY2hlZHVsZVwiLFwid2Vla1wiLFwidGFibGVcIl0pLGN0eCx7XCJibG9ja1wiOmJvZHlfMjJ9LHt9KTt9Ym9keV8xMy5fX2R1c3RCb2R5PSEwO2Z1bmN0aW9uIGJvZHlfMTQoY2hrLGN0eCl7cmV0dXJuIGNoay53KFwiPGRpdiBjbGFzcz1cXFwiZGctc2NoZWR1bGVfX3RhYmxlXFxcIj5cIikucyhjdHguZ2V0UGF0aChmYWxzZSwgW1wic2NoZWR1bGVcIixcIndlZWtcIixcImV2ZW50bHlcIl0pLGN0eCx7XCJibG9ja1wiOmJvZHlfMTV9LHt9KS53KFwiPC9kaXY+XCIpO31ib2R5XzE0Ll9fZHVzdEJvZHk9ITA7ZnVuY3Rpb24gYm9keV8xNShjaGssY3R4KXtyZXR1cm4gY2hrLncoXCI8ZGl2IGNsYXNzPVxcXCJkZy1zY2hlZHVsZV9fc3RyaW5nXFxcIj5cIikueChjdHguZ2V0KFtcImFsbHRpbWVcIl0sIGZhbHNlKSxjdHgse1wiYmxvY2tcIjpib2R5XzE2fSx7fSkueChjdHguZ2V0KFtcImV2ZXJ5ZGF5XCJdLCBmYWxzZSksY3R4LHtcImVsc2VcIjpib2R5XzE3LFwiYmxvY2tcIjpib2R5XzE4fSx7fSkueChjdHguZ2V0KFtcImhvbGlkYXlcIl0sIGZhbHNlKSxjdHgse1wiZWxzZVwiOmJvZHlfMTksXCJibG9ja1wiOmJvZHlfMjF9LHt9KS53KFwiPC9kaXY+XCIpO31ib2R5XzE1Ll9fZHVzdEJvZHk9ITA7ZnVuY3Rpb24gYm9keV8xNihjaGssY3R4KXtyZXR1cm4gY2hrLmYoY3R4LmdldChbXCJhbGx0aW1lU3RyXCJdLCBmYWxzZSksY3R4LFwiaFwiKTt9Ym9keV8xNi5fX2R1c3RCb2R5PSEwO2Z1bmN0aW9uIGJvZHlfMTcoY2hrLGN0eCl7cmV0dXJuIGNoay5mKGN0eC5nZXQoW1wiZGF5TGlzdFwiXSwgZmFsc2UpLGN0eCxcImhcIik7fWJvZHlfMTcuX19kdXN0Qm9keT0hMDtmdW5jdGlvbiBib2R5XzE4KGNoayxjdHgpe3JldHVybiBjaGsuZihjdHguZ2V0UGF0aChmYWxzZSwgW1wiZm9yZWNhc3RcIixcInRvZGF5XCIsXCJ0ZXh0XCJdKSxjdHgsXCJoXCIpO31ib2R5XzE4Ll9fZHVzdEJvZHk9ITA7ZnVuY3Rpb24gYm9keV8xOShjaGssY3R4KXtyZXR1cm4gY2hrLncoXCI8c3BhbiBjbGFzcz1cXFwic2NoZWR1bGVfX3N0cmluZy10aW1lXFxcIj4mbmJzcDtcIikuZihjdHguZ2V0KFtcImZyb21cIl0sIGZhbHNlKSxjdHgsXCJoXCIpLncoXCImbmRhc2g7XCIpLmYoY3R4LmdldChbXCJ0b1wiXSwgZmFsc2UpLGN0eCxcImhcIikudyhcIjwvc3Bhbj5cIikucyhjdHguZ2V0KFtcImx1bmNoXCJdLCBmYWxzZSksY3R4LHtcImJsb2NrXCI6Ym9keV8yMH0se30pO31ib2R5XzE5Ll9fZHVzdEJvZHk9ITA7ZnVuY3Rpb24gYm9keV8yMChjaGssY3R4KXtyZXR1cm4gY2hrLncoXCI8cD5cIikuZihjdHguZ2V0KFtcImx1bmNoU3RyXCJdLCBmYWxzZSksY3R4LFwiaFwiKS53KFwiJm1kYXNoOzxzcGFuIGNsYXNzPVxcXCJzY2hlZHVsZV9fc3RyaW5nLXRpbWVcXFwiPlwiKS5mKGN0eC5nZXQoW1wiZnJvbVwiXSwgZmFsc2UpLGN0eCxcImhcIikudyhcIiZuZGFzaDtcIikuZihjdHguZ2V0KFtcInRvXCJdLCBmYWxzZSksY3R4LFwiaFwiKS53KFwiPC9zcGFuPjwvcD5cIik7fWJvZHlfMjAuX19kdXN0Qm9keT0hMDtmdW5jdGlvbiBib2R5XzIxKGNoayxjdHgpe3JldHVybiBjaGsudyhcIiZuYnNwOyZtZGFzaDs8c3BhbiBjbGFzcz1cXFwic2NoZWR1bGVfX3N0cmluZy10aW1lXFxcIj4mbmJzcDtcIikuZihjdHguZ2V0KFtcImhvbGlkYXlTdHJcIl0sIGZhbHNlKSxjdHgsXCJoXCIpLncoXCI8L3NwYW4+XCIpO31ib2R5XzIxLl9fZHVzdEJvZHk9ITA7ZnVuY3Rpb24gYm9keV8yMihjaGssY3R4KXtyZXR1cm4gY2hrLncoXCI8ZGl2PjxkaXYgY2xhc3M9XFxcImRnLXNjaGVkdWxlX190YWJsZVxcXCI+PGRpdiBjbGFzcz1cXFwiZGctc2NoZWR1bGVfX3RjIGRnLXNjaGVkdWxlX190Y19wcmVcXFwiPjxkaXYgY2xhc3M9XFxcImRnLXNjaGVkdWxlX19kYXktbmFtZVxcXCI+Jm5ic3A7PC9kaXY+PGRpdiBjbGFzcz1cXFwiZGctc2NoZWR1bGVfX3RhYmxlLWNsb2NrIGRnLXNjaGVkdWxlX190ZFxcXCI+PC9kaXY+XCIpLngoY3R4LmdldFBhdGgoZmFsc2UsIFtcInNjaGVkdWxlXCIsXCJ3ZWVrXCIsXCJoYXNMdW5jaFwiXSksY3R4LHtcImJsb2NrXCI6Ym9keV8yM30se30pLncoXCI8L2Rpdj5cIikucyhjdHguZ2V0UGF0aChmYWxzZSwgW1wic2NoZWR1bGVcIixcIndlZWtcIixcInRhYmxlXCJdKSxjdHgse1wiYmxvY2tcIjpib2R5XzI0fSx7fSkudyhcIjwvZGl2PiAgPC9kaXY+XCIpO31ib2R5XzIyLl9fZHVzdEJvZHk9ITA7ZnVuY3Rpb24gYm9keV8yMyhjaGssY3R4KXtyZXR1cm4gY2hrLncoXCI8ZGl2IGNsYXNzPVxcXCJkZy1zY2hlZHVsZV9fdGFibGUtbHVuY2ggZGctc2NoZWR1bGVfX3RkXFxcIj48L2Rpdj5cIik7fWJvZHlfMjMuX19kdXN0Qm9keT0hMDtmdW5jdGlvbiBib2R5XzI0KGNoayxjdHgpe3JldHVybiBjaGsuaChcImlmXCIsY3R4LHtcImJsb2NrXCI6Ym9keV8yNX0se1wiY29uZFwiOmJvZHlfMjZ9LFwiaFwiKS53KFwiPGRpdiBjbGFzcz1cXFwiZGctc2NoZWR1bGVfX3RjXCIpLngoY3R4LmdldChbXCJhY3RpdmVcIl0sIGZhbHNlKSxjdHgse1wiYmxvY2tcIjpib2R5XzI3fSx7fSkudyhcIlxcXCI+PGRpdiBjbGFzcz1cXFwiZGctc2NoZWR1bGVfX2RheS1uYW1lXFxcIj5cIikuZihjdHguZ2V0KFtcImtleVwiXSwgZmFsc2UpLGN0eCxcImhcIikudyhcIjwvZGl2PjxkaXYgY2xhc3M9XFxcImRnLXNjaGVkdWxlX190ZFxcXCI+XCIpLngoY3R4LmdldChbXCJmcm9tXCJdLCBmYWxzZSksY3R4LHtcImVsc2VcIjpib2R5XzI4LFwiYmxvY2tcIjpib2R5XzI5fSx7fSkudyhcIjwvZGl2PlwiKS5zKGN0eC5nZXQoW1wibHVuY2hcIl0sIGZhbHNlKSxjdHgse1wiYmxvY2tcIjpib2R5XzMwfSx7fSkudyhcIjwvZGl2PiBcIikuaChcImlmXCIsY3R4LHtcImJsb2NrXCI6Ym9keV8zM30se1wiY29uZFwiOmJvZHlfMzR9LFwiaFwiKTt9Ym9keV8yNC5fX2R1c3RCb2R5PSEwO2Z1bmN0aW9uIGJvZHlfMjUoY2hrLGN0eCl7cmV0dXJuIGNoay53KFwiPHNwYW4gY2xhc3M9XFxcImRnLXNjaGVkdWxlX190YWJsZS1jZWxsLWdyb3VwXFxcIj5cIik7fWJvZHlfMjUuX19kdXN0Qm9keT0hMDtmdW5jdGlvbiBib2R5XzI2KGNoayxjdHgpe3JldHVybiBjaGsudyhcIihcIikuZihjdHguZ2V0KFtcIiRpZHhcIl0sIGZhbHNlKSxjdHgsXCJoXCIpLncoXCIgPT0gXCIpLmYoY3R4LmdldChbXCIkbGVuXCJdLCBmYWxzZSksY3R4LFwiaFwiKS53KFwiIC0gMilcIik7fWJvZHlfMjYuX19kdXN0Qm9keT0hMDtmdW5jdGlvbiBib2R5XzI3KGNoayxjdHgpe3JldHVybiBjaGsudyhcIiBkZy1zY2hlZHVsZV9fdGNfYWN0aXZlX3RydWVcIik7fWJvZHlfMjcuX19kdXN0Qm9keT0hMDtmdW5jdGlvbiBib2R5XzI4KGNoayxjdHgpe3JldHVybiBjaGsudyhcIiZuZGFzaDtcIik7fWJvZHlfMjguX19kdXN0Qm9keT0hMDtmdW5jdGlvbiBib2R5XzI5KGNoayxjdHgpe3JldHVybiBjaGsuZihjdHguZ2V0KFtcImZyb21cIl0sIGZhbHNlKSxjdHgsXCJoXCIpLncoXCIgXCIpLmYoY3R4LmdldChbXCJ0b1wiXSwgZmFsc2UpLGN0eCxcImhcIik7fWJvZHlfMjkuX19kdXN0Qm9keT0hMDtmdW5jdGlvbiBib2R5XzMwKGNoayxjdHgpe3JldHVybiBjaGsudyhcIjxkaXYgY2xhc3M9XFxcImRnLXNjaGVkdWxlX190ZFxcXCI+XCIpLngoY3R4LmdldChbXCJmcm9tXCJdLCBmYWxzZSksY3R4LHtcImVsc2VcIjpib2R5XzMxLFwiYmxvY2tcIjpib2R5XzMyfSx7fSkudyhcIjwvZGl2PlwiKTt9Ym9keV8zMC5fX2R1c3RCb2R5PSEwO2Z1bmN0aW9uIGJvZHlfMzEoY2hrLGN0eCl7cmV0dXJuIGNoay53KFwiJm5kYXNoO1wiKTt9Ym9keV8zMS5fX2R1c3RCb2R5PSEwO2Z1bmN0aW9uIGJvZHlfMzIoY2hrLGN0eCl7cmV0dXJuIGNoay5mKGN0eC5nZXQoW1wiZnJvbVwiXSwgZmFsc2UpLGN0eCxcImhcIikudyhcIiBcIikuZihjdHguZ2V0KFtcInRvXCJdLCBmYWxzZSksY3R4LFwiaFwiKTt9Ym9keV8zMi5fX2R1c3RCb2R5PSEwO2Z1bmN0aW9uIGJvZHlfMzMoY2hrLGN0eCl7cmV0dXJuIGNoay53KFwiPC9zcGFuPlwiKTt9Ym9keV8zMy5fX2R1c3RCb2R5PSEwO2Z1bmN0aW9uIGJvZHlfMzQoY2hrLGN0eCl7cmV0dXJuIGNoay53KFwiKFwiKS5mKGN0eC5nZXQoW1wiJGlkeFwiXSwgZmFsc2UpLGN0eCxcImhcIikudyhcIiA9PSBcIikuZihjdHguZ2V0KFtcIiRsZW5cIl0sIGZhbHNlKSxjdHgsXCJoXCIpLncoXCIpXCIpO31ib2R5XzM0Ll9fZHVzdEJvZHk9ITA7cmV0dXJuIGJvZHlfMH0oZHVzdCkpOyIsIihmdW5jdGlvbihkdXN0KXtkdXN0LnJlZ2lzdGVyKFwiREdHZW9jbGlja2VyXFwvZmlybWxpc3RJdGVtXCIsYm9keV8wKTtmdW5jdGlvbiBib2R5XzAoY2hrLGN0eCl7cmV0dXJuIGNoay53KFwiPGEgaWQ9XFxcIlwiKS5mKGN0eC5nZXRQYXRoKGZhbHNlLCBbXCJmaXJtXCIsXCJpZFwiXSksY3R4LFwiaFwiKS53KFwiXFxcIiBjbGFzcz1cXFwiZGctcG9wdXBfX2xpbmtcXFwiIGhyZWY9XFxcIiNcXFwiPlwiKS5mKGN0eC5nZXRQYXRoKGZhbHNlLCBbXCJmaXJtXCIsXCJuYW1lXCJdKSxjdHgsXCJoXCIpLncoXCI8L2E+XCIpO31ib2R5XzAuX19kdXN0Qm9keT0hMDtyZXR1cm4gYm9keV8wfShkdXN0KSk7IiwiKGZ1bmN0aW9uKGR1c3Qpe2R1c3QucmVnaXN0ZXIoXCJER0dlb2NsaWNrZXJcXC9mcmltQ2FyZFBheW1lbnRzXCIsYm9keV8wKTtmdW5jdGlvbiBib2R5XzAoY2hrLGN0eCl7cmV0dXJuIGNoay54KGN0eC5nZXQoW1wicGF5bWVudHNcIl0sIGZhbHNlKSxjdHgse1wiYmxvY2tcIjpib2R5XzF9LHt9KTt9Ym9keV8wLl9fZHVzdEJvZHk9ITA7ZnVuY3Rpb24gYm9keV8xKGNoayxjdHgpe3JldHVybiBjaGsudyhcIjxzZWN0aW9uIGNsYXNzPVxcXCJkZy1maXJtLWNhcmRfX2FhXFxcIj48dWwgY2xhc3M9XFxcImRnLWZpcm0tY2FyZF9fYWEtbGlzdFxcXCI+XCIpLnMoY3R4LmdldChbXCJwYXltZW50c1wiXSwgZmFsc2UpLGN0eCx7XCJibG9ja1wiOmJvZHlfMn0se30pLncoXCI8L3VsPjwvc2VjdGlvbj5cIik7fWJvZHlfMS5fX2R1c3RCb2R5PSEwO2Z1bmN0aW9uIGJvZHlfMihjaGssY3R4KXtyZXR1cm4gY2hrLncoXCI8bGkgY2xhc3M9XFxcImRnLWZpcm0tY2FyZF9fYWEtbGlzdC1pdGVtXFxcIj5cIikuZihjdHguZ2V0UGF0aCh0cnVlLCBbXSksY3R4LFwiaFwiKS53KFwiPC9saT5cIik7fWJvZHlfMi5fX2R1c3RCb2R5PSEwO3JldHVybiBib2R5XzB9KGR1c3QpKTsiLCIoZnVuY3Rpb24oZHVzdCl7ZHVzdC5yZWdpc3RlcihcIkRHR2VvY2xpY2tlclxcL2hvdXNlXCIsYm9keV8wKTtmdW5jdGlvbiBib2R5XzAoY2hrLGN0eCl7cmV0dXJuIGNoay5zKGN0eC5nZXQoW1wiYWRkcmVzc1wiXSwgZmFsc2UpLGN0eCx7XCJibG9ja1wiOmJvZHlfMX0se30pLnMoY3R4LmdldChbXCJwdXJwb3NlXCJdLCBmYWxzZSksY3R4LHtcImJsb2NrXCI6Ym9keV80fSx7fSkucyhjdHguZ2V0KFtcImF0dHJhY3Rpb25zXCJdLCBmYWxzZSksY3R4LHtcImJsb2NrXCI6Ym9keV81fSx7fSk7fWJvZHlfMC5fX2R1c3RCb2R5PSEwO2Z1bmN0aW9uIGJvZHlfMShjaGssY3R4KXtyZXR1cm4gY2hrLncoXCI8YWRkcmVzcyBjbGFzcz1cXFwiZGctbWFwLWdlb2NsaWNrZXJfX2FkZHJlc3NcXFwiPlwiKS5zKGN0eC5nZXRQYXRoKGZhbHNlLCBbXCJhZGRyZXNzXCIsXCJoZWFkZXJcIl0pLGN0eCx7XCJibG9ja1wiOmJvZHlfMn0se30pLnMoY3R4LmdldFBhdGgoZmFsc2UsIFtcImFkZHJlc3NcIixcImRyaWxsZG93blwiXSksY3R4LHtcImJsb2NrXCI6Ym9keV8zfSx7fSkudyhcIjwvYWRkcmVzcz5cIik7fWJvZHlfMS5fX2R1c3RCb2R5PSEwO2Z1bmN0aW9uIGJvZHlfMihjaGssY3R4KXtyZXR1cm4gY2hrLncoXCI8ZGl2IGNsYXNzPVxcXCJkZy1tYXAtZ2VvY2xpY2tlcl9fYWRkcmVzcy1oZWFkZXJcXFwiPlwiKS5mKGN0eC5nZXRQYXRoKHRydWUsIFtdKSxjdHgsXCJoXCIpLncoXCI8L2Rpdj5cIik7fWJvZHlfMi5fX2R1c3RCb2R5PSEwO2Z1bmN0aW9uIGJvZHlfMyhjaGssY3R4KXtyZXR1cm4gY2hrLncoXCI8ZGl2IGNsYXNzPVxcXCJkZy1tYXAtZ2VvY2xpY2tlcl9fYWRkcmVzcy1kcmlsbGRvd25cXFwiPlwiKS5mKGN0eC5nZXRQYXRoKHRydWUsIFtdKSxjdHgsXCJoXCIpLncoXCI8L2Rpdj5cIik7fWJvZHlfMy5fX2R1c3RCb2R5PSEwO2Z1bmN0aW9uIGJvZHlfNChjaGssY3R4KXtyZXR1cm4gY2hrLncoXCI8ZGl2IGNsYXNzPVxcXCJkZy1tYXAtZ2VvY2xpY2tlcl9fcHVycG9zZVxcXCI+XCIpLmYoY3R4LmdldFBhdGgodHJ1ZSwgW10pLGN0eCxcImhcIikudyhcIjwvZGl2PlwiKTt9Ym9keV80Ll9fZHVzdEJvZHk9ITA7ZnVuY3Rpb24gYm9keV81KGNoayxjdHgpe3JldHVybiBjaGsudyhcIjxkaXYgY2xhc3M9XFxcImRnLW1hcC1nZW9jbGlja2VyX19wdXJwb3NlIGRnLW1hcC1nZW9jbGlja2VyX19wdXJwb3NlX3R5cGVfc2lnaHRcXFwiPlwiKS5mKGN0eC5nZXRQYXRoKHRydWUsIFtdKSxjdHgsXCJoXCIpLncoXCI8L2Rpdj5cIik7fWJvZHlfNS5fX2R1c3RCb2R5PSEwO3JldHVybiBib2R5XzB9KGR1c3QpKTsiLCIoZnVuY3Rpb24oZHVzdCl7ZHVzdC5yZWdpc3RlcihcIkRHR2VvY2xpY2tlclxcL2xvYWRlclwiLGJvZHlfMCk7ZnVuY3Rpb24gYm9keV8wKGNoayxjdHgpe3JldHVybiBjaGsudyhcIjxkaXYgY2xhc3M9XFxcImRnLXByZWxvYWRlciBkZy1wcmVsb2FkZXJfc2NoZW1lX3JlZ3VsYXIgZGctcHJlbG9hZGVyX2FuaW1hdGlvbl9cIikueChjdHguZ2V0KFtcImFuaW1cIl0sIGZhbHNlKSxjdHgse1wiZWxzZVwiOmJvZHlfMSxcImJsb2NrXCI6Ym9keV8yfSx7fSkueChjdHguZ2V0KFtcInNtYWxsXCJdLCBmYWxzZSksY3R4LHtcImJsb2NrXCI6Ym9keV8zfSx7fSkudyhcIlxcXCI+PC9kaXY+XCIpO31ib2R5XzAuX19kdXN0Qm9keT0hMDtmdW5jdGlvbiBib2R5XzEoY2hrLGN0eCl7cmV0dXJuIGNoay53KFwiZmFsc2VcIik7fWJvZHlfMS5fX2R1c3RCb2R5PSEwO2Z1bmN0aW9uIGJvZHlfMihjaGssY3R4KXtyZXR1cm4gY2hrLncoXCJ0cnVlXCIpO31ib2R5XzIuX19kdXN0Qm9keT0hMDtmdW5jdGlvbiBib2R5XzMoY2hrLGN0eCl7cmV0dXJuIGNoay53KFwiIGRnLXByZWxvYWRlcl9zaXplX3NtYWxsXCIpO31ib2R5XzMuX19kdXN0Qm9keT0hMDtyZXR1cm4gYm9keV8wfShkdXN0KSk7IiwiKGZ1bmN0aW9uKGR1c3Qpe2R1c3QucmVnaXN0ZXIoXCJER0dlb2NsaWNrZXJcXC9wb3B1cEZvb3RlclwiLGJvZHlfMCk7ZnVuY3Rpb24gYm9keV8wKGNoayxjdHgpe3JldHVybiBjaGsudyhcIjxkaXYgY2xhc3M9XFxcImRnLXBvcHVwX19mb290ZXItdGl0bGVcXFwiPjxhIGNsYXNzPVxcXCJkZy1wb3B1cF9fc2hvdy1sZXNzLWhvdXNlLWxpbmtcXFwiIGhyZWY9XFxcImphdmFzY3JpcHQ6dm9pZCgwKVxcXCI+XCIpLmYoY3R4LmdldChbXCJoaWRlRmlybXNUZXh0XCJdLCBmYWxzZSksY3R4LFwiaFwiKS53KFwiPC9hPjwvZGl2PlwiKTt9Ym9keV8wLl9fZHVzdEJvZHk9ITA7cmV0dXJuIGJvZHlfMH0oZHVzdCkpOyIsIihmdW5jdGlvbihkdXN0KXtkdXN0LnJlZ2lzdGVyKFwiREdHZW9jbGlja2VyXFwvcG9wdXBGb290ZXJCdG5zXCIsYm9keV8wKTtmdW5jdGlvbiBib2R5XzAoY2hrLGN0eCl7cmV0dXJuIGNoay54KGN0eC5nZXQoW1wiYnRuc1wiXSwgZmFsc2UpLGN0eCx7XCJibG9ja1wiOmJvZHlfMX0se30pO31ib2R5XzAuX19kdXN0Qm9keT0hMDtmdW5jdGlvbiBib2R5XzEoY2hrLGN0eCl7cmV0dXJuIGNoay53KFwiPGZvb3RlciBjbGFzcz1cXFwiZGctcG9wdXBfX2Zvb3Rlci1idXR0b25zXFxcIj5cIikucyhjdHguZ2V0KFtcImJ0bnNcIl0sIGZhbHNlKSxjdHgse1wiYmxvY2tcIjpib2R5XzJ9LHt9KS53KFwiPC9mb290ZXI+XCIpO31ib2R5XzEuX19kdXN0Qm9keT0hMDtmdW5jdGlvbiBib2R5XzIoY2hrLGN0eCl7cmV0dXJuIGNoay53KFwiPGRpdiBjbGFzcz1cXFwiZGctcG9wdXBfX2Zvb3Rlci1idXR0b24td3JhcHBlclxcXCI+PGEgY2xhc3M9XFxcImRnLXBvcHVwX19idXR0b25fbmFtZV9cIikuZihjdHguZ2V0KFtcIm5hbWVcIl0sIGZhbHNlKSxjdHgsXCJoXCIpLncoXCIgZGctcG9wdXBfX2Zvb3Rlci1idXR0b25cIikueChjdHguZ2V0KFtcImljb25cIl0sIGZhbHNlKSxjdHgse1wiYmxvY2tcIjpib2R5XzN9LHt9KS53KFwiXFxcIlwiKS54KGN0eC5nZXQoW1wiaHJlZlwiXSwgZmFsc2UpLGN0eCx7XCJlbHNlXCI6Ym9keV80LFwiYmxvY2tcIjpib2R5XzV9LHt9KS53KFwiPlwiKS5mKGN0eC5nZXQoW1wibGFiZWxcIl0sIGZhbHNlKSxjdHgsXCJoXCIpLncoXCI8L2E+PC9kaXY+XCIpO31ib2R5XzIuX19kdXN0Qm9keT0hMDtmdW5jdGlvbiBib2R5XzMoY2hrLGN0eCl7cmV0dXJuIGNoay53KFwiIGRnLXBvcHVwX19mb290ZXItaWNvbi1idXR0b25cIik7fWJvZHlfMy5fX2R1c3RCb2R5PSEwO2Z1bmN0aW9uIGJvZHlfNChjaGssY3R4KXtyZXR1cm4gY2hrLncoXCJocmVmPVxcXCJqYXZhc2NyaXB0OnZvaWQoMClcXFwiXCIpO31ib2R5XzQuX19kdXN0Qm9keT0hMDtmdW5jdGlvbiBib2R5XzUoY2hrLGN0eCl7cmV0dXJuIGNoay53KFwiaHJlZj1cIikuZihjdHguZ2V0KFtcImhyZWZcIl0sIGZhbHNlKSxjdHgsXCJoXCIpLncoXCIgdGFyZ2V0PVxcXCJfYmxhbmtcXFwiXCIpO31ib2R5XzUuX19kdXN0Qm9keT0hMDtyZXR1cm4gYm9keV8wfShkdXN0KSk7IiwiKGZ1bmN0aW9uKGR1c3Qpe2R1c3QucmVnaXN0ZXIoXCJER0dlb2NsaWNrZXJcXC9wb3B1cEhlYWRlclwiLGJvZHlfMCk7ZnVuY3Rpb24gYm9keV8wKGNoayxjdHgpe3JldHVybiBjaGsucyhjdHguZ2V0KFtcInRpdGxlXCJdLCBmYWxzZSksY3R4LHtcImJsb2NrXCI6Ym9keV8xfSx7fSk7fWJvZHlfMC5fX2R1c3RCb2R5PSEwO2Z1bmN0aW9uIGJvZHlfMShjaGssY3R4KXtyZXR1cm4gY2hrLncoXCI8ZGl2IGNsYXNzPVxcXCJkZy1wb3B1cF9faGVhZGVyLXRpdGxlXFxcIj5cIikuZihjdHguZ2V0UGF0aCh0cnVlLCBbXSksY3R4LFwiaFwiKS53KFwiPC9kaXY+XCIpO31ib2R5XzEuX19kdXN0Qm9keT0hMDtyZXR1cm4gYm9keV8wfShkdXN0KSk7IiwiKGZ1bmN0aW9uKGR1c3Qpe2R1c3QucmVnaXN0ZXIoXCJER0dlb2NsaWNrZXJcXC9zaWdodFwiLGJvZHlfMCk7ZnVuY3Rpb24gYm9keV8wKGNoayxjdHgpe3JldHVybiBjaGsucyhjdHguZ2V0KFtcInB1cnBvc2VcIl0sIGZhbHNlKSxjdHgse1wiYmxvY2tcIjpib2R5XzF9LHt9KS5zKGN0eC5nZXQoW1wiYWRkcmVzc1wiXSwgZmFsc2UpLGN0eCx7XCJibG9ja1wiOmJvZHlfMn0se30pLnMoY3R4LmdldChbXCJkZXNjcmlwdGlvblwiXSwgZmFsc2UpLGN0eCx7XCJibG9ja1wiOmJvZHlfNX0se30pO31ib2R5XzAuX19kdXN0Qm9keT0hMDtmdW5jdGlvbiBib2R5XzEoY2hrLGN0eCl7cmV0dXJuIGNoay53KFwiPGRpdiBjbGFzcz1cXFwiZGctbWFwLWdlb2NsaWNrZXJfX3B1cnBvc2UgZGctbWFwLWdlb2NsaWNrZXJfX3B1cnBvc2VfdHlwZV9zaWdodFxcXCI+XCIpLmYoY3R4LmdldFBhdGgodHJ1ZSwgW10pLGN0eCxcImhcIikudyhcIjwvZGl2PlwiKTt9Ym9keV8xLl9fZHVzdEJvZHk9ITA7ZnVuY3Rpb24gYm9keV8yKGNoayxjdHgpe3JldHVybiBjaGsudyhcIjxhZGRyZXNzIGNsYXNzPVxcXCJkZy1tYXAtZ2VvY2xpY2tlcl9fYWRkcmVzc1xcXCI+XCIpLnMoY3R4LmdldFBhdGgoZmFsc2UsIFtcImFkZHJlc3NcIixcImhlYWRlclwiXSksY3R4LHtcImJsb2NrXCI6Ym9keV8zfSx7fSkucyhjdHguZ2V0UGF0aChmYWxzZSwgW1wiYWRkcmVzc1wiLFwiZHJpbGxkb3duXCJdKSxjdHgse1wiYmxvY2tcIjpib2R5XzR9LHt9KS53KFwiPC9hZGRyZXNzPlwiKTt9Ym9keV8yLl9fZHVzdEJvZHk9ITA7ZnVuY3Rpb24gYm9keV8zKGNoayxjdHgpe3JldHVybiBjaGsudyhcIjxkaXYgY2xhc3M9XFxcImRnLW1hcC1nZW9jbGlja2VyX19hZGRyZXNzLWhlYWRlclxcXCI+XCIpLmYoY3R4LmdldFBhdGgodHJ1ZSwgW10pLGN0eCxcImhcIikudyhcIjwvZGl2PlwiKTt9Ym9keV8zLl9fZHVzdEJvZHk9ITA7ZnVuY3Rpb24gYm9keV80KGNoayxjdHgpe3JldHVybiBjaGsudyhcIjxkaXYgY2xhc3M9XFxcImRnLW1hcC1nZW9jbGlja2VyX19hZGRyZXNzLWRyaWxsZG93blxcXCI+XCIpLmYoY3R4LmdldFBhdGgodHJ1ZSwgW10pLGN0eCxcImhcIikudyhcIjwvZGl2PlwiKTt9Ym9keV80Ll9fZHVzdEJvZHk9ITA7ZnVuY3Rpb24gYm9keV81KGNoayxjdHgpe3JldHVybiBjaGsudyhcIjxkaXYgY2xhc3M9XFxcImRnLW1hcC1nZW9jbGlja2VyX19zaWdodC1kZXNjcmlwdGlvblxcXCI+XCIpLmYoY3R4LmdldFBhdGgodHJ1ZSwgW10pLGN0eCxcImhcIikudyhcIjwvZGl2PlwiKS5zKGN0eC5nZXQoW1wic2hvd01vcmVUZXh0XCJdLCBmYWxzZSksY3R4LHtcImJsb2NrXCI6Ym9keV82fSx7fSk7fWJvZHlfNS5fX2R1c3RCb2R5PSEwO2Z1bmN0aW9uIGJvZHlfNihjaGssY3R4KXtyZXR1cm4gY2hrLncoXCI8YSBjbGFzcz1cXFwiZGctbWFwLWdlb2NsaWNrZXJfX3Nob3ctbW9yZS1zaWdodHMtbGlua1xcXCIgaHJlZj1cXFwiamF2YXNjcmlwdDp2b2lkKDApXFxcIj5cIikuZihjdHguZ2V0UGF0aCh0cnVlLCBbXSksY3R4LFwiaFwiKS53KFwiPC9hPlwiKTt9Ym9keV82Ll9fZHVzdEJvZHk9ITA7cmV0dXJuIGJvZHlfMH0oZHVzdCkpOyIsIid1c2Ugc3RyaWN0Jztcbi8vIEZvciBtb3JlIGluZm9ybWF0aW9uIGFib3V0IGJyb3dzZXIgZmllbGQsIGNoZWNrIG91dCB0aGUgYnJvd3NlciBmaWVsZCBhdCBodHRwczovL2dpdGh1Yi5jb20vc3Vic3RhY2svYnJvd3NlcmlmeS1oYW5kYm9vayNicm93c2VyLWZpZWxkLlxuXG52YXIgc3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3AgPSBbXTtcblxudmFyIGluc2VydFN0eWxlRWxlbWVudCA9IGZ1bmN0aW9uKHN0eWxlRWxlbWVudCwgb3B0aW9ucykge1xuICAgIHZhciBoZWFkID0gZG9jdW1lbnQuaGVhZCB8fCBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZCcpWzBdO1xuICAgIHZhciBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCA9IHN0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wW3N0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wLmxlbmd0aCAtIDFdO1xuXG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgb3B0aW9ucy5pbnNlcnRBdCA9IG9wdGlvbnMuaW5zZXJ0QXQgfHwgJ2JvdHRvbSc7XG5cbiAgICBpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gJ3RvcCcpIHtcbiAgICAgICAgaWYgKCFsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCkge1xuICAgICAgICAgICAgaGVhZC5pbnNlcnRCZWZvcmUoc3R5bGVFbGVtZW50LCBoZWFkLmZpcnN0Q2hpbGQpO1xuICAgICAgICB9IGVsc2UgaWYgKGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wLm5leHRTaWJsaW5nKSB7XG4gICAgICAgICAgICBoZWFkLmluc2VydEJlZm9yZShzdHlsZUVsZW1lbnQsIGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wLm5leHRTaWJsaW5nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGhlYWQuYXBwZW5kQ2hpbGQoc3R5bGVFbGVtZW50KTtcbiAgICAgICAgfVxuICAgICAgICBzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcC5wdXNoKHN0eWxlRWxlbWVudCk7XG4gICAgfSBlbHNlIGlmIChvcHRpb25zLmluc2VydEF0ID09PSAnYm90dG9tJykge1xuICAgICAgICBoZWFkLmFwcGVuZENoaWxkKHN0eWxlRWxlbWVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHZhbHVlIGZvciBwYXJhbWV0ZXIgXFwnaW5zZXJ0QXRcXCcuIE11c3QgYmUgXFwndG9wXFwnIG9yIFxcJ2JvdHRvbVxcJy4nKTtcbiAgICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICAvLyBDcmVhdGUgYSA8bGluaz4gdGFnIHdpdGggb3B0aW9uYWwgZGF0YSBhdHRyaWJ1dGVzXG4gICAgY3JlYXRlTGluazogZnVuY3Rpb24oaHJlZiwgYXR0cmlidXRlcykge1xuICAgICAgICB2YXIgaGVhZCA9IGRvY3VtZW50LmhlYWQgfHwgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKVswXTtcbiAgICAgICAgdmFyIGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaW5rJyk7XG5cbiAgICAgICAgbGluay5ocmVmID0gaHJlZjtcbiAgICAgICAgbGluay5yZWwgPSAnc3R5bGVzaGVldCc7XG5cbiAgICAgICAgZm9yICh2YXIga2V5IGluIGF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgIGlmICggISBhdHRyaWJ1dGVzLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IGF0dHJpYnV0ZXNba2V5XTtcbiAgICAgICAgICAgIGxpbmsuc2V0QXR0cmlidXRlKCdkYXRhLScgKyBrZXksIHZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGhlYWQuYXBwZW5kQ2hpbGQobGluayk7XG4gICAgfSxcbiAgICAvLyBDcmVhdGUgYSA8c3R5bGU+IHRhZyB3aXRoIG9wdGlvbmFsIGRhdGEgYXR0cmlidXRlc1xuICAgIGNyZWF0ZVN0eWxlOiBmdW5jdGlvbihjc3NUZXh0LCBhdHRyaWJ1dGVzLCBleHRyYU9wdGlvbnMpIHtcbiAgICAgICAgZXh0cmFPcHRpb25zID0gZXh0cmFPcHRpb25zIHx8IHt9O1xuXG4gICAgICAgIHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gICAgICAgIHN0eWxlLnR5cGUgPSAndGV4dC9jc3MnO1xuXG4gICAgICAgIGZvciAodmFyIGtleSBpbiBhdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICBpZiAoICEgYXR0cmlidXRlcy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBhdHRyaWJ1dGVzW2tleV07XG4gICAgICAgICAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoJ2RhdGEtJyArIGtleSwgdmFsdWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHN0eWxlLnNoZWV0KSB7IC8vIGZvciBqc2RvbSBhbmQgSUU5K1xuICAgICAgICAgICAgc3R5bGUuaW5uZXJIVE1MID0gY3NzVGV4dDtcbiAgICAgICAgICAgIHN0eWxlLnNoZWV0LmNzc1RleHQgPSBjc3NUZXh0O1xuICAgICAgICAgICAgaW5zZXJ0U3R5bGVFbGVtZW50KHN0eWxlLCB7IGluc2VydEF0OiBleHRyYU9wdGlvbnMuaW5zZXJ0QXQgfSk7XG4gICAgICAgIH0gZWxzZSBpZiAoc3R5bGUuc3R5bGVTaGVldCkgeyAvLyBmb3IgSUU4IGFuZCBiZWxvd1xuICAgICAgICAgICAgaW5zZXJ0U3R5bGVFbGVtZW50KHN0eWxlLCB7IGluc2VydEF0OiBleHRyYU9wdGlvbnMuaW5zZXJ0QXQgfSk7XG4gICAgICAgICAgICBzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3NUZXh0O1xuICAgICAgICB9IGVsc2UgeyAvLyBmb3IgQ2hyb21lLCBGaXJlZm94LCBhbmQgU2FmYXJpXG4gICAgICAgICAgICBzdHlsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3NUZXh0KSk7XG4gICAgICAgICAgICBpbnNlcnRTdHlsZUVsZW1lbnQoc3R5bGUsIHsgaW5zZXJ0QXQ6IGV4dHJhT3B0aW9ucy5pbnNlcnRBdCB9KTtcbiAgICAgICAgfVxuICAgIH1cbn07XG4iLCIoZnVuY3Rpb24ocm9vdCwgZmFjdG9yeSkge1xuICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kICYmIGRlZmluZS5hbWQuZHVzdCA9PT0gdHJ1ZSkge1xuICAgIGRlZmluZShbJ2R1c3QuY29yZSddLCBmYWN0b3J5KTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZSgnZHVzdGpzLWxpbmtlZGluJykpO1xuICB9IGVsc2Uge1xuICAgIGZhY3Rvcnkocm9vdC5kdXN0KTtcbiAgfVxufSh0aGlzLCBmdW5jdGlvbihkdXN0KSB7XG5cbmZ1bmN0aW9uIGxvZyhoZWxwZXIsIG1zZywgbGV2ZWwpIHtcbiAgbGV2ZWwgPSBsZXZlbCB8fCBcIklORk9cIjtcbiAgaGVscGVyID0gaGVscGVyID8gJ3tAJyArIGhlbHBlciArICd9OiAnIDogJyc7XG4gIGR1c3QubG9nKGhlbHBlciArIG1zZywgbGV2ZWwpO1xufVxuXG52YXIgX2RlcHJlY2F0ZWRDYWNoZSA9IHt9O1xuZnVuY3Rpb24gX2RlcHJlY2F0ZWQodGFyZ2V0KSB7XG4gIGlmKF9kZXByZWNhdGVkQ2FjaGVbdGFyZ2V0XSkgeyByZXR1cm47IH1cbiAgbG9nKHRhcmdldCwgXCJEZXByZWNhdGlvbiB3YXJuaW5nOiBcIiArIHRhcmdldCArIFwiIGlzIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiBhIGZ1dHVyZSB2ZXJzaW9uIG9mIGR1c3Rqcy1oZWxwZXJzXCIsIFwiV0FSTlwiKTtcbiAgbG9nKG51bGwsIFwiRm9yIGhlbHAgYW5kIGEgZGVwcmVjYXRpb24gdGltZWxpbmUsIHNlZSBodHRwczovL2dpdGh1Yi5jb20vbGlua2VkaW4vZHVzdGpzLWhlbHBlcnMvd2lraS9EZXByZWNhdGVkLUZlYXR1cmVzI1wiICsgdGFyZ2V0LnJlcGxhY2UoL1xcVysvZywgXCJcIiksIFwiV0FSTlwiKTtcbiAgX2RlcHJlY2F0ZWRDYWNoZVt0YXJnZXRdID0gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gaXNTZWxlY3QoY29udGV4dCkge1xuICByZXR1cm4gY29udGV4dC5zdGFjay50YWlsICYmXG4gICAgICAgICBjb250ZXh0LnN0YWNrLnRhaWwuaGVhZCAmJlxuICAgICAgICAgdHlwZW9mIGNvbnRleHQuc3RhY2sudGFpbC5oZWFkLl9fc2VsZWN0X18gIT09IFwidW5kZWZpbmVkXCI7XG59XG5cbmZ1bmN0aW9uIGdldFNlbGVjdFN0YXRlKGNvbnRleHQpIHtcbiAgcmV0dXJuIGlzU2VsZWN0KGNvbnRleHQpICYmIGNvbnRleHQuZ2V0KCdfX3NlbGVjdF9fJyk7XG59XG5cbi8qKlxuICogQWRkcyBhIHNwZWNpYWwgX19zZWxlY3RfXyBrZXkgYmVoaW5kIHRoZSBoZWFkIG9mIHRoZSBjb250ZXh0IHN0YWNrLiBVc2VkIHRvIG1haW50YWluIHRoZSBzdGF0ZVxuICogb2Yge0BzZWxlY3R9IGJsb2Nrc1xuICogQHBhcmFtIGNvbnRleHQge0NvbnRleHR9IGFkZCBzdGF0ZSB0byB0aGlzIENvbnRleHRcbiAqIEBwYXJhbSBvcHRzIHtPYmplY3R9IGFkZCB0aGVzZSBwcm9wZXJ0aWVzIHRvIHRoZSBzdGF0ZSAoYGtleWAgYW5kIGB0eXBlYClcbiAqL1xuZnVuY3Rpb24gYWRkU2VsZWN0U3RhdGUoY29udGV4dCwgb3B0cykge1xuICB2YXIgaGVhZCA9IGNvbnRleHQuc3RhY2suaGVhZCxcbiAgICAgIG5ld0NvbnRleHQgPSBjb250ZXh0LnJlYmFzZSgpLFxuICAgICAga2V5O1xuXG4gIGlmKGNvbnRleHQuc3RhY2sgJiYgY29udGV4dC5zdGFjay50YWlsKSB7XG4gICAgbmV3Q29udGV4dC5zdGFjayA9IGNvbnRleHQuc3RhY2sudGFpbDtcbiAgfVxuXG4gIHZhciBzdGF0ZSA9IHtcbiAgICBpc1BlbmRpbmc6IGZhbHNlLFxuICAgIGlzUmVzb2x2ZWQ6IGZhbHNlLFxuICAgIGlzRGVmZXJyZWRDb21wbGV0ZTogZmFsc2UsXG4gICAgZGVmZXJyZWRzOiBbXVxuICB9O1xuXG4gIGZvcihrZXkgaW4gb3B0cykge1xuICAgIHN0YXRlW2tleV0gPSBvcHRzW2tleV07XG4gIH1cblxuICByZXR1cm4gbmV3Q29udGV4dFxuICAucHVzaCh7IFwiX19zZWxlY3RfX1wiOiBzdGF0ZSB9KVxuICAucHVzaChoZWFkLCBjb250ZXh0LnN0YWNrLmluZGV4LCBjb250ZXh0LnN0YWNrLm9mKTtcbn1cblxuLyoqXG4gKiBBZnRlciBhIHtAc2VsZWN0fSBvciB7QG1hdGh9IGJsb2NrIGlzIGNvbXBsZXRlLCB0aGV5IGludm9rZSB0aGlzIGZ1bmN0aW9uXG4gKi9cbmZ1bmN0aW9uIHJlc29sdmVTZWxlY3REZWZlcnJlZHMoc3RhdGUpIHtcbiAgdmFyIHgsIGxlbjtcbiAgc3RhdGUuaXNEZWZlcnJlZFBlbmRpbmcgPSB0cnVlO1xuICBpZihzdGF0ZS5kZWZlcnJlZHMubGVuZ3RoKSB7XG4gICAgc3RhdGUuaXNEZWZlcnJlZENvbXBsZXRlID0gdHJ1ZTtcbiAgICBmb3IoeD0wLCBsZW49c3RhdGUuZGVmZXJyZWRzLmxlbmd0aDsgeDxsZW47IHgrKykge1xuICAgICAgc3RhdGUuZGVmZXJyZWRzW3hdKCk7XG4gICAgfVxuICB9XG4gIHN0YXRlLmlzRGVmZXJyZWRQZW5kaW5nID0gZmFsc2U7XG59XG5cbi8qKlxuICogVXNlZCBieSB7QGNvbnRleHREdW1wfVxuICovXG5mdW5jdGlvbiBqc29uRmlsdGVyKGtleSwgdmFsdWUpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgcmV0dXJuIHZhbHVlLnRvU3RyaW5nKClcbiAgICAgIC5yZXBsYWNlKC8oXlxccyt8XFxzKyQpL21nLCAnJylcbiAgICAgIC5yZXBsYWNlKC9cXG4vbWcsICcnKVxuICAgICAgLnJlcGxhY2UoLyxcXHMqL21nLCAnLCAnKVxuICAgICAgLnJlcGxhY2UoL1xcKVxcey9tZywgJykgeycpO1xuICB9XG4gIHJldHVybiB2YWx1ZTtcbn1cblxuLyoqXG4gKiBHZW5lcmF0ZSBhIHRydXRoIHRlc3QgaGVscGVyXG4gKi9cbmZ1bmN0aW9uIHRydXRoVGVzdChuYW1lLCB0ZXN0KSB7XG4gIHJldHVybiBmdW5jdGlvbihjaHVuaywgY29udGV4dCwgYm9kaWVzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gZmlsdGVyKGNodW5rLCBjb250ZXh0LCBib2RpZXMsIHBhcmFtcywgbmFtZSwgdGVzdCk7XG4gIH07XG59XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBpcyBpbnZva2VkIGJ5IHRydXRoIHRlc3QgaGVscGVyc1xuICovXG5mdW5jdGlvbiBmaWx0ZXIoY2h1bmssIGNvbnRleHQsIGJvZGllcywgcGFyYW1zLCBoZWxwZXJOYW1lLCB0ZXN0KSB7XG4gIHZhciBib2R5ID0gYm9kaWVzLmJsb2NrLFxuICAgICAgc2tpcCA9IGJvZGllc1snZWxzZSddLFxuICAgICAgc2VsZWN0U3RhdGUgPSBnZXRTZWxlY3RTdGF0ZShjb250ZXh0KSB8fCB7fSxcbiAgICAgIHdpbGxSZXNvbHZlLCBrZXksIHZhbHVlLCB0eXBlO1xuXG4gIC8vIE9uY2Ugb25lIHRydXRoIHRlc3QgaW4gYSBzZWxlY3QgcGFzc2VzLCBzaG9ydC1jaXJjdWl0IHRoZSByZXN0IG9mIHRoZSB0ZXN0c1xuICBpZiAoc2VsZWN0U3RhdGUuaXNSZXNvbHZlZCAmJiAhc2VsZWN0U3RhdGUuaXNEZWZlcnJlZFBlbmRpbmcpIHtcbiAgICByZXR1cm4gY2h1bms7XG4gIH1cblxuICAvLyBGaXJzdCBjaGVjayBmb3IgYSBrZXkgb24gdGhlIGhlbHBlciBpdHNlbGYsIHRoZW4gbG9vayBmb3IgYSBrZXkgb24gdGhlIHtAc2VsZWN0fVxuICBpZiAocGFyYW1zLmhhc093blByb3BlcnR5KCdrZXknKSkge1xuICAgIGtleSA9IHBhcmFtcy5rZXk7XG4gIH0gZWxzZSBpZiAoc2VsZWN0U3RhdGUuaGFzT3duUHJvcGVydHkoJ2tleScpKSB7XG4gICAga2V5ID0gc2VsZWN0U3RhdGUua2V5O1xuICB9IGVsc2Uge1xuICAgIGxvZyhoZWxwZXJOYW1lLCBcIk5vIGtleSBzcGVjaWZpZWRcIiwgXCJXQVJOXCIpO1xuICAgIHJldHVybiBjaHVuaztcbiAgfVxuXG4gIHR5cGUgPSBwYXJhbXMudHlwZSB8fCBzZWxlY3RTdGF0ZS50eXBlO1xuXG4gIGtleSA9IGNvZXJjZShjb250ZXh0LnJlc29sdmUoa2V5KSwgdHlwZSk7XG4gIHZhbHVlID0gY29lcmNlKGNvbnRleHQucmVzb2x2ZShwYXJhbXMudmFsdWUpLCB0eXBlKTtcblxuICBpZiAodGVzdChrZXksIHZhbHVlKSkge1xuICAgIC8vIE9uY2UgYSB0cnV0aCB0ZXN0IHBhc3NlcywgcHV0IHRoZSBzZWxlY3QgaW50byBcInBlbmRpbmdcIiBzdGF0ZS4gTm93IHdlIGNhbiByZW5kZXIgdGhlIGJvZHkgb2ZcbiAgICAvLyB0aGUgdHJ1dGggdGVzdCAod2hpY2ggbWF5IGNvbnRhaW4gdHJ1dGggdGVzdHMpIHdpdGhvdXQgYWx0ZXJpbmcgdGhlIHN0YXRlIG9mIHRoZSBzZWxlY3QuXG4gICAgaWYgKCFzZWxlY3RTdGF0ZS5pc1BlbmRpbmcpIHtcbiAgICAgIHdpbGxSZXNvbHZlID0gdHJ1ZTtcbiAgICAgIHNlbGVjdFN0YXRlLmlzUGVuZGluZyA9IHRydWU7XG4gICAgfVxuICAgIGlmIChib2R5KSB7XG4gICAgICBjaHVuayA9IGNodW5rLnJlbmRlcihib2R5LCBjb250ZXh0KTtcbiAgICB9XG4gICAgaWYgKHdpbGxSZXNvbHZlKSB7XG4gICAgICBzZWxlY3RTdGF0ZS5pc1Jlc29sdmVkID0gdHJ1ZTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoc2tpcCkge1xuICAgIGNodW5rID0gY2h1bmsucmVuZGVyKHNraXAsIGNvbnRleHQpO1xuICB9XG4gIHJldHVybiBjaHVuaztcbn1cblxuZnVuY3Rpb24gY29lcmNlKHZhbHVlLCB0eXBlKSB7XG4gIGlmICh0eXBlKSB7XG4gICAgdHlwZSA9IHR5cGUudG9Mb3dlckNhc2UoKTtcbiAgfVxuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlICdudW1iZXInOiByZXR1cm4gK3ZhbHVlO1xuICAgIGNhc2UgJ3N0cmluZyc6IHJldHVybiBTdHJpbmcodmFsdWUpO1xuICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgdmFsdWUgPSAodmFsdWUgPT09ICdmYWxzZScgPyBmYWxzZSA6IHZhbHVlKTtcbiAgICAgIHJldHVybiBCb29sZWFuKHZhbHVlKTtcbiAgICBjYXNlICdkYXRlJzogcmV0dXJuIG5ldyBEYXRlKHZhbHVlKTtcbiAgfVxuXG4gIHJldHVybiB2YWx1ZTtcbn1cblxudmFyIGhlbHBlcnMgPSB7XG5cbiAgLy8gVXRpbGl0eSBoZWxwaW5nIHRvIHJlc29sdmUgZHVzdCByZWZlcmVuY2VzIGluIHRoZSBnaXZlbiBjaHVua1xuICAvLyB1c2VzIG5hdGl2ZSBEdXN0IENvbnRleHQjcmVzb2x2ZSAoYXZhaWxhYmxlIHNpbmNlIER1c3QgMi42LjIpXG4gIFwidGFwXCI6IGZ1bmN0aW9uKGlucHV0LCBjaHVuaywgY29udGV4dCkge1xuICAgIC8vIGRlcHJlY2F0ZWQgZm9yIHJlbW92YWwgaW4gMS44XG4gICAgX2RlcHJlY2F0ZWQoXCJ0YXBcIik7XG4gICAgcmV0dXJuIGNvbnRleHQucmVzb2x2ZShpbnB1dCk7XG4gIH0sXG5cbiAgXCJzZXBcIjogZnVuY3Rpb24oY2h1bmssIGNvbnRleHQsIGJvZGllcykge1xuICAgIHZhciBib2R5ID0gYm9kaWVzLmJsb2NrO1xuICAgIGlmIChjb250ZXh0LnN0YWNrLmluZGV4ID09PSBjb250ZXh0LnN0YWNrLm9mIC0gMSkge1xuICAgICAgcmV0dXJuIGNodW5rO1xuICAgIH1cbiAgICBpZiAoYm9keSkge1xuICAgICAgcmV0dXJuIGJvZHkoY2h1bmssIGNvbnRleHQpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gY2h1bms7XG4gICAgfVxuICB9LFxuXG4gIFwiZmlyc3RcIjogZnVuY3Rpb24oY2h1bmssIGNvbnRleHQsIGJvZGllcykge1xuICAgIGlmIChjb250ZXh0LnN0YWNrLmluZGV4ID09PSAwKSB7XG4gICAgICByZXR1cm4gYm9kaWVzLmJsb2NrKGNodW5rLCBjb250ZXh0KTtcbiAgICB9XG4gICAgcmV0dXJuIGNodW5rO1xuICB9LFxuXG4gIFwibGFzdFwiOiBmdW5jdGlvbihjaHVuaywgY29udGV4dCwgYm9kaWVzKSB7XG4gICAgaWYgKGNvbnRleHQuc3RhY2suaW5kZXggPT09IGNvbnRleHQuc3RhY2sub2YgLSAxKSB7XG4gICAgICByZXR1cm4gYm9kaWVzLmJsb2NrKGNodW5rLCBjb250ZXh0KTtcbiAgICB9XG4gICAgcmV0dXJuIGNodW5rO1xuICB9LFxuXG4gIC8qKlxuICAgKiB7QGNvbnRleHREdW1wfVxuICAgKiBAcGFyYW0ga2V5IHtTdHJpbmd9IHNldCB0byBcImZ1bGxcIiB0byB0aGUgZnVsbCBjb250ZXh0IHN0YWNrLCBvdGhlcndpc2UgdGhlIGN1cnJlbnQgY29udGV4dCBpcyBkdW1wZWRcbiAgICogQHBhcmFtIHRvIHtTdHJpbmd9IHNldCB0byBcImNvbnNvbGVcIiB0byBsb2cgdG8gY29uc29sZSwgb3RoZXJ3aXNlIG91dHB1dHMgdG8gdGhlIGNodW5rXG4gICAqL1xuICBcImNvbnRleHREdW1wXCI6IGZ1bmN0aW9uKGNodW5rLCBjb250ZXh0LCBib2RpZXMsIHBhcmFtcykge1xuICAgIHZhciB0byA9IGNvbnRleHQucmVzb2x2ZShwYXJhbXMudG8pLFxuICAgICAgICBrZXkgPSBjb250ZXh0LnJlc29sdmUocGFyYW1zLmtleSksXG4gICAgICAgIHRhcmdldCwgb3V0cHV0O1xuICAgIHN3aXRjaChrZXkpIHtcbiAgICAgIGNhc2UgJ2Z1bGwnOlxuICAgICAgICB0YXJnZXQgPSBjb250ZXh0LnN0YWNrO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRhcmdldCA9IGNvbnRleHQuc3RhY2suaGVhZDtcbiAgICB9XG4gICAgb3V0cHV0ID0gSlNPTi5zdHJpbmdpZnkodGFyZ2V0LCBqc29uRmlsdGVyLCAyKTtcbiAgICBzd2l0Y2godG8pIHtcbiAgICAgIGNhc2UgJ2NvbnNvbGUnOlxuICAgICAgICBsb2coJ2NvbnRleHREdW1wJywgb3V0cHV0KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBvdXRwdXQgPSBvdXRwdXQucmVwbGFjZSgvPC9nLCAnXFxcXHUwMDNjJyk7XG4gICAgICAgIGNodW5rID0gY2h1bmsud3JpdGUob3V0cHV0KTtcbiAgICB9XG4gICAgcmV0dXJuIGNodW5rO1xuICB9LFxuXG4gIC8qKlxuICAgKiB7QG1hdGh9XG4gICAqIEBwYXJhbSBrZXkgZmlyc3QgdmFsdWVcbiAgICogQHBhcmFtIG1ldGhvZCB7U3RyaW5nfSBvcGVyYXRpb24gdG8gcGVyZm9ybVxuICAgKiBAcGFyYW0gb3BlcmFuZCBzZWNvbmQgdmFsdWUgKG5vdCByZXF1aXJlZCBmb3Igb3BlcmF0aW9ucyBsaWtlIGBhYnNgKVxuICAgKiBAcGFyYW0gcm91bmQgaWYgdHJ1dGh5LCByb3VuZCgpIHRoZSByZXN1bHRcbiAgICovXG4gIFwibWF0aFwiOiBmdW5jdGlvbiAoY2h1bmssIGNvbnRleHQsIGJvZGllcywgcGFyYW1zKSB7XG4gICAgdmFyIGtleSA9IHBhcmFtcy5rZXksXG4gICAgICAgIG1ldGhvZCA9IHBhcmFtcy5tZXRob2QsXG4gICAgICAgIG9wZXJhbmQgPSBwYXJhbXMub3BlcmFuZCxcbiAgICAgICAgcm91bmQgPSBwYXJhbXMucm91bmQsXG4gICAgICAgIG91dHB1dCwgc3RhdGUsIHgsIGxlbjtcblxuICAgIGlmKCFwYXJhbXMuaGFzT3duUHJvcGVydHkoJ2tleScpIHx8ICFwYXJhbXMubWV0aG9kKSB7XG4gICAgICBsb2coXCJtYXRoXCIsIFwiYGtleWAgb3IgYG1ldGhvZGAgd2FzIG5vdCBwcm92aWRlZFwiLCBcIkVSUk9SXCIpO1xuICAgICAgcmV0dXJuIGNodW5rO1xuICAgIH1cblxuICAgIGtleSA9IHBhcnNlRmxvYXQoY29udGV4dC5yZXNvbHZlKGtleSkpO1xuICAgIG9wZXJhbmQgPSBwYXJzZUZsb2F0KGNvbnRleHQucmVzb2x2ZShvcGVyYW5kKSk7XG5cbiAgICBzd2l0Y2gobWV0aG9kKSB7XG4gICAgICBjYXNlIFwibW9kXCI6XG4gICAgICAgIGlmKG9wZXJhbmQgPT09IDApIHtcbiAgICAgICAgICBsb2coXCJtYXRoXCIsIFwiRGl2aXNpb24gYnkgMFwiLCBcIkVSUk9SXCIpO1xuICAgICAgICB9XG4gICAgICAgIG91dHB1dCA9IGtleSAlIG9wZXJhbmQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImFkZFwiOlxuICAgICAgICBvdXRwdXQgPSBrZXkgKyBvcGVyYW5kO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJzdWJ0cmFjdFwiOlxuICAgICAgICBvdXRwdXQgPSBrZXkgLSBvcGVyYW5kO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJtdWx0aXBseVwiOlxuICAgICAgICBvdXRwdXQgPSBrZXkgKiBvcGVyYW5kO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJkaXZpZGVcIjpcbiAgICAgICAgaWYob3BlcmFuZCA9PT0gMCkge1xuICAgICAgICAgIGxvZyhcIm1hdGhcIiwgXCJEaXZpc2lvbiBieSAwXCIsIFwiRVJST1JcIik7XG4gICAgICAgIH1cbiAgICAgICAgb3V0cHV0ID0ga2V5IC8gb3BlcmFuZDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiY2VpbFwiOlxuICAgICAgY2FzZSBcImZsb29yXCI6XG4gICAgICBjYXNlIFwicm91bmRcIjpcbiAgICAgIGNhc2UgXCJhYnNcIjpcbiAgICAgICAgb3V0cHV0ID0gTWF0aFttZXRob2RdKGtleSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInRvaW50XCI6XG4gICAgICAgIG91dHB1dCA9IHBhcnNlSW50KGtleSwgMTApO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGxvZyhcIm1hdGhcIiwgXCJNZXRob2QgYFwiICsgbWV0aG9kICsgXCJgIGlzIG5vdCBzdXBwb3J0ZWRcIiwgXCJFUlJPUlwiKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG91dHB1dCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGlmIChyb3VuZCkge1xuICAgICAgICBvdXRwdXQgPSBNYXRoLnJvdW5kKG91dHB1dCk7XG4gICAgICB9XG4gICAgICBpZiAoYm9kaWVzICYmIGJvZGllcy5ibG9jaykge1xuICAgICAgICBjb250ZXh0ID0gYWRkU2VsZWN0U3RhdGUoY29udGV4dCwgeyBrZXk6IG91dHB1dCB9KTtcbiAgICAgICAgY2h1bmsgPSBjaHVuay5yZW5kZXIoYm9kaWVzLmJsb2NrLCBjb250ZXh0KTtcbiAgICAgICAgcmVzb2x2ZVNlbGVjdERlZmVycmVkcyhnZXRTZWxlY3RTdGF0ZShjb250ZXh0KSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjaHVuayA9IGNodW5rLndyaXRlKG91dHB1dCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGNodW5rO1xuICB9LFxuXG4gIC8qKlxuICAgKiB7QHNlbGVjdH1cbiAgICogR3JvdXBzIGEgc2V0IG9mIHRydXRoIHRlc3RzIGFuZCBvdXRwdXRzIHRoZSBmaXJzdCBvbmUgdGhhdCBwYXNzZXMuXG4gICAqIEFsc28gY29udGFpbnMge0Bhbnl9IGFuZCB7QG5vbmV9IGJsb2Nrcy5cbiAgICogQHBhcmFtIGtleSBhIHZhbHVlIG9yIHJlZmVyZW5jZSB0byB1c2UgYXMgdGhlIGxlZnQtaGFuZCBzaWRlIG9mIGNvbXBhcmlzb25zXG4gICAqIEBwYXJhbSB0eXBlIGNvZXJjZSBhbGwgdHJ1dGggdGVzdCBrZXlzIHdpdGhvdXQgYW4gZXhwbGljaXQgdHlwZSB0byB0aGlzIHR5cGVcbiAgICovXG4gIFwic2VsZWN0XCI6IGZ1bmN0aW9uKGNodW5rLCBjb250ZXh0LCBib2RpZXMsIHBhcmFtcykge1xuICAgIHZhciBib2R5ID0gYm9kaWVzLmJsb2NrLFxuICAgICAgICBzdGF0ZSA9IHt9O1xuXG4gICAgaWYgKHBhcmFtcy5oYXNPd25Qcm9wZXJ0eSgna2V5JykpIHtcbiAgICAgIHN0YXRlLmtleSA9IGNvbnRleHQucmVzb2x2ZShwYXJhbXMua2V5KTtcbiAgICB9XG4gICAgaWYgKHBhcmFtcy5oYXNPd25Qcm9wZXJ0eSgndHlwZScpKSB7XG4gICAgICBzdGF0ZS50eXBlID0gcGFyYW1zLnR5cGU7XG4gICAgfVxuXG4gICAgaWYgKGJvZHkpIHtcbiAgICAgIGNvbnRleHQgPSBhZGRTZWxlY3RTdGF0ZShjb250ZXh0LCBzdGF0ZSk7XG4gICAgICBjaHVuayA9IGNodW5rLnJlbmRlcihib2R5LCBjb250ZXh0KTtcbiAgICAgIHJlc29sdmVTZWxlY3REZWZlcnJlZHMoZ2V0U2VsZWN0U3RhdGUoY29udGV4dCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsb2coXCJzZWxlY3RcIiwgXCJNaXNzaW5nIGJvZHkgYmxvY2tcIiwgXCJXQVJOXCIpO1xuICAgIH1cbiAgICByZXR1cm4gY2h1bms7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFRydXRoIHRlc3QgaGVscGVyc1xuICAgKiBAcGFyYW0ga2V5IGEgdmFsdWUgb3IgcmVmZXJlbmNlIHRvIHVzZSBhcyB0aGUgbGVmdC1oYW5kIHNpZGUgb2YgY29tcGFyaXNvbnNcbiAgICogQHBhcmFtIHZhbHVlIGEgdmFsdWUgb3IgcmVmZXJlbmNlIHRvIHVzZSBhcyB0aGUgcmlnaHQtaGFuZCBzaWRlIG9mIGNvbXBhcmlzb25zXG4gICAqIEBwYXJhbSB0eXBlIGlmIHNwZWNpZmllZCwgYGtleWAgYW5kIGB2YWx1ZWAgd2lsbCBiZSBmb3JjaWJseSBjYXN0IHRvIHRoaXMgdHlwZVxuICAgKi9cbiAgXCJlcVwiOiB0cnV0aFRlc3QoJ2VxJywgZnVuY3Rpb24obGVmdCwgcmlnaHQpIHtcbiAgICByZXR1cm4gbGVmdCA9PT0gcmlnaHQ7XG4gIH0pLFxuICBcIm5lXCI6IHRydXRoVGVzdCgnbmUnLCBmdW5jdGlvbihsZWZ0LCByaWdodCkge1xuICAgIHJldHVybiBsZWZ0ICE9PSByaWdodDtcbiAgfSksXG4gIFwibHRcIjogdHJ1dGhUZXN0KCdsdCcsIGZ1bmN0aW9uKGxlZnQsIHJpZ2h0KSB7XG4gICAgcmV0dXJuIGxlZnQgPCByaWdodDtcbiAgfSksXG4gIFwibHRlXCI6IHRydXRoVGVzdCgnbHRlJywgZnVuY3Rpb24obGVmdCwgcmlnaHQpIHtcbiAgICByZXR1cm4gbGVmdCA8PSByaWdodDtcbiAgfSksXG4gIFwiZ3RcIjogdHJ1dGhUZXN0KCdndCcsIGZ1bmN0aW9uKGxlZnQsIHJpZ2h0KSB7XG4gICAgcmV0dXJuIGxlZnQgPiByaWdodDtcbiAgfSksXG4gIFwiZ3RlXCI6IHRydXRoVGVzdCgnZ3RlJywgZnVuY3Rpb24obGVmdCwgcmlnaHQpIHtcbiAgICByZXR1cm4gbGVmdCA+PSByaWdodDtcbiAgfSksXG5cbiAgLyoqXG4gICAqIHtAYW55fVxuICAgKiBPdXRwdXRzIGFzIGxvbmcgYXMgYXQgbGVhc3Qgb25lIHRydXRoIHRlc3QgaW5zaWRlIGEge0BzZWxlY3R9IGhhcyBwYXNzZWQuXG4gICAqIE11c3QgYmUgY29udGFpbmVkIGluc2lkZSBhIHtAc2VsZWN0fSBibG9jay5cbiAgICogVGhlIHBhc3NpbmcgdHJ1dGggdGVzdCBjYW4gYmUgYmVmb3JlIG9yIGFmdGVyIHRoZSB7QGFueX0gYmxvY2suXG4gICAqL1xuICBcImFueVwiOiBmdW5jdGlvbihjaHVuaywgY29udGV4dCwgYm9kaWVzLCBwYXJhbXMpIHtcbiAgICB2YXIgc2VsZWN0U3RhdGUgPSBnZXRTZWxlY3RTdGF0ZShjb250ZXh0KTtcblxuICAgIGlmKCFzZWxlY3RTdGF0ZSkge1xuICAgICAgbG9nKFwiYW55XCIsIFwiTXVzdCBiZSB1c2VkIGluc2lkZSBhIHtAc2VsZWN0fSBibG9ja1wiLCBcIkVSUk9SXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZihzZWxlY3RTdGF0ZS5pc0RlZmVycmVkQ29tcGxldGUpIHtcbiAgICAgICAgbG9nKFwiYW55XCIsIFwiTXVzdCBub3QgYmUgbmVzdGVkIGluc2lkZSB7QGFueX0gb3Ige0Bub25lfSBibG9ja1wiLCBcIkVSUk9SXCIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2h1bmsgPSBjaHVuay5tYXAoZnVuY3Rpb24oY2h1bmspIHtcbiAgICAgICAgICBzZWxlY3RTdGF0ZS5kZWZlcnJlZHMucHVzaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmKHNlbGVjdFN0YXRlLmlzUmVzb2x2ZWQpIHtcbiAgICAgICAgICAgICAgY2h1bmsgPSBjaHVuay5yZW5kZXIoYm9kaWVzLmJsb2NrLCBjb250ZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNodW5rLmVuZCgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNodW5rO1xuICB9LFxuXG4gIC8qKlxuICAgKiB7QG5vbmV9XG4gICAqIE91dHB1dHMgaWYgbm8gdHJ1dGggdGVzdHMgaW5zaWRlIGEge0BzZWxlY3R9IHBhc3MuXG4gICAqIE11c3QgYmUgY29udGFpbmVkIGluc2lkZSBhIHtAc2VsZWN0fSBibG9jay5cbiAgICogVGhlIHBvc2l0aW9uIG9mIHRoZSBoZWxwZXIgZG9lcyBub3QgbWF0dGVyLlxuICAgKi9cbiAgXCJub25lXCI6IGZ1bmN0aW9uKGNodW5rLCBjb250ZXh0LCBib2RpZXMsIHBhcmFtcykge1xuICAgIHZhciBzZWxlY3RTdGF0ZSA9IGdldFNlbGVjdFN0YXRlKGNvbnRleHQpO1xuXG4gICAgaWYoIXNlbGVjdFN0YXRlKSB7XG4gICAgICBsb2coXCJub25lXCIsIFwiTXVzdCBiZSB1c2VkIGluc2lkZSBhIHtAc2VsZWN0fSBibG9ja1wiLCBcIkVSUk9SXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZihzZWxlY3RTdGF0ZS5pc0RlZmVycmVkQ29tcGxldGUpIHtcbiAgICAgICAgbG9nKFwibm9uZVwiLCBcIk11c3Qgbm90IGJlIG5lc3RlZCBpbnNpZGUge0Bhbnl9IG9yIHtAbm9uZX0gYmxvY2tcIiwgXCJFUlJPUlwiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNodW5rID0gY2h1bmsubWFwKGZ1bmN0aW9uKGNodW5rKSB7XG4gICAgICAgICAgc2VsZWN0U3RhdGUuZGVmZXJyZWRzLnB1c2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZighc2VsZWN0U3RhdGUuaXNSZXNvbHZlZCkge1xuICAgICAgICAgICAgICBjaHVuayA9IGNodW5rLnJlbmRlcihib2RpZXMuYmxvY2ssIGNvbnRleHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2h1bmsuZW5kKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY2h1bms7XG4gIH0sXG5cbiAgLyoqXG4gICoge0BzaXplfVxuICAqIFdyaXRlIHRoZSBzaXplIG9mIHRoZSB0YXJnZXQgdG8gdGhlIGNodW5rXG4gICogRmFsc3kgdmFsdWVzIGFuZCB0cnVlIGhhdmUgc2l6ZSAwXG4gICogTnVtYmVycyBhcmUgcmV0dXJuZWQgYXMtaXNcbiAgKiBBcnJheXMgYW5kIFN0cmluZ3MgaGF2ZSBzaXplIGVxdWFsIHRvIHRoZWlyIGxlbmd0aFxuICAqIE9iamVjdHMgaGF2ZSBzaXplIGVxdWFsIHRvIHRoZSBudW1iZXIgb2Yga2V5cyB0aGV5IGNvbnRhaW5cbiAgKiBEdXN0IGJvZGllcyBhcmUgZXZhbHVhdGVkIGFuZCB0aGUgbGVuZ3RoIG9mIHRoZSBzdHJpbmcgaXMgcmV0dXJuZWRcbiAgKiBGdW5jdGlvbnMgYXJlIGV2YWx1YXRlZCBhbmQgdGhlIGxlbmd0aCBvZiB0aGVpciByZXR1cm4gdmFsdWUgaXMgZXZhbHVhdGVkXG4gICogQHBhcmFtIGtleSBmaW5kIHRoZSBzaXplIG9mIHRoaXMgdmFsdWUgb3IgcmVmZXJlbmNlXG4gICovXG4gIFwic2l6ZVwiOiBmdW5jdGlvbihjaHVuaywgY29udGV4dCwgYm9kaWVzLCBwYXJhbXMpIHtcbiAgICB2YXIga2V5ID0gcGFyYW1zLmtleSxcbiAgICAgICAgdmFsdWUsIGs7XG5cbiAgICBrZXkgPSBjb250ZXh0LnJlc29sdmUocGFyYW1zLmtleSk7XG4gICAgaWYgKCFrZXkgfHwga2V5ID09PSB0cnVlKSB7XG4gICAgICB2YWx1ZSA9IDA7XG4gICAgfSBlbHNlIGlmKGR1c3QuaXNBcnJheShrZXkpKSB7XG4gICAgICB2YWx1ZSA9IGtleS5sZW5ndGg7XG4gICAgfSBlbHNlIGlmICghaXNOYU4ocGFyc2VGbG9hdChrZXkpKSAmJiBpc0Zpbml0ZShrZXkpKSB7XG4gICAgICB2YWx1ZSA9IGtleTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBrZXkgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgIHZhbHVlID0gMDtcbiAgICAgIGZvcihrIGluIGtleSl7XG4gICAgICAgIGlmKGtleS5oYXNPd25Qcm9wZXJ0eShrKSl7XG4gICAgICAgICAgdmFsdWUrKztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB2YWx1ZSA9IChrZXkgKyAnJykubGVuZ3RoO1xuICAgIH1cbiAgICByZXR1cm4gY2h1bmsud3JpdGUodmFsdWUpO1xuICB9XG5cbn07XG5cbmZvcih2YXIga2V5IGluIGhlbHBlcnMpIHtcbiAgZHVzdC5oZWxwZXJzW2tleV0gPSBoZWxwZXJzW2tleV07XG59XG5cbnJldHVybiBkdXN0O1xuXG59KSk7XG4iLCIoZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnkpIHtcbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCAmJiBkZWZpbmUuYW1kLmR1c3QgPT09IHRydWUpIHtcbiAgICBkZWZpbmUoJ2R1c3QuY29yZScsIFtdLCBmYWN0b3J5KTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcbiAgfSBlbHNlIHtcbiAgICByb290LmR1c3QgPSBmYWN0b3J5KCk7XG4gIH1cbn0odGhpcywgZnVuY3Rpb24oKSB7XG4gIHZhciBkdXN0ID0ge1xuICAgICAgICBcInZlcnNpb25cIjogXCIyLjcuNVwiXG4gICAgICB9LFxuICAgICAgTk9ORSA9ICdOT05FJywgRVJST1IgPSAnRVJST1InLCBXQVJOID0gJ1dBUk4nLCBJTkZPID0gJ0lORk8nLCBERUJVRyA9ICdERUJVRycsXG4gICAgICBFTVBUWV9GVU5DID0gZnVuY3Rpb24oKSB7fTtcblxuICBkdXN0LmNvbmZpZyA9IHtcbiAgICB3aGl0ZXNwYWNlOiBmYWxzZSxcbiAgICBhbWQ6IGZhbHNlLFxuICAgIGNqczogZmFsc2UsXG4gICAgY2FjaGU6IHRydWVcbiAgfTtcblxuICAvLyBEaXJlY3RpdmUgYWxpYXNlcyB0byBtaW5pZnkgY29kZVxuICBkdXN0Ll9hbGlhc2VzID0ge1xuICAgIFwid3JpdGVcIjogXCJ3XCIsXG4gICAgXCJlbmRcIjogXCJlXCIsXG4gICAgXCJtYXBcIjogXCJtXCIsXG4gICAgXCJyZW5kZXJcIjogXCJyXCIsXG4gICAgXCJyZWZlcmVuY2VcIjogXCJmXCIsXG4gICAgXCJzZWN0aW9uXCI6IFwic1wiLFxuICAgIFwiZXhpc3RzXCI6IFwieFwiLFxuICAgIFwibm90ZXhpc3RzXCI6IFwibnhcIixcbiAgICBcImJsb2NrXCI6IFwiYlwiLFxuICAgIFwicGFydGlhbFwiOiBcInBcIixcbiAgICBcImhlbHBlclwiOiBcImhcIlxuICB9O1xuXG4gIChmdW5jdGlvbiBpbml0TG9nZ2luZygpIHtcbiAgICAvKmdsb2JhbCBwcm9jZXNzLCBjb25zb2xlKi9cbiAgICB2YXIgbG9nZ2luZ0xldmVscyA9IHsgREVCVUc6IDAsIElORk86IDEsIFdBUk46IDIsIEVSUk9SOiAzLCBOT05FOiA0IH0sXG4gICAgICAgIGNvbnNvbGVMb2csXG4gICAgICAgIGxvZztcblxuICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcgJiYgY29uc29sZS5sb2cpIHtcbiAgICAgIGNvbnNvbGVMb2cgPSBjb25zb2xlLmxvZztcbiAgICAgIGlmKHR5cGVvZiBjb25zb2xlTG9nID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGxvZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGNvbnNvbGVMb2cuYXBwbHkoY29uc29sZSwgYXJndW1lbnRzKTtcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxvZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGNvbnNvbGVMb2coQXJyYXkucHJvdG90eXBlLnNsaWNlLmFwcGx5KGFyZ3VtZW50cykuam9pbignICcpKTtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbG9nID0gRU1QVFlfRlVOQztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGaWx0ZXJzIG1lc3NhZ2VzIGJhc2VkIG9uIGBkdXN0LmRlYnVnTGV2ZWxgLlxuICAgICAqIFRoaXMgZGVmYXVsdCBpbXBsZW1lbnRhdGlvbiB3aWxsIHByaW50IHRvIHRoZSBjb25zb2xlIGlmIGl0IGV4aXN0cy5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xFcnJvcn0gbWVzc2FnZSB0aGUgbWVzc2FnZSB0byBwcmludC90aHJvd1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIHRoZSBzZXZlcml0eSBvZiB0aGUgbWVzc2FnZShFUlJPUiwgV0FSTiwgSU5GTywgb3IgREVCVUcpXG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuICAgIGR1c3QubG9nID0gZnVuY3Rpb24obWVzc2FnZSwgdHlwZSkge1xuICAgICAgdHlwZSA9IHR5cGUgfHwgSU5GTztcbiAgICAgIGlmIChsb2dnaW5nTGV2ZWxzW3R5cGVdID49IGxvZ2dpbmdMZXZlbHNbZHVzdC5kZWJ1Z0xldmVsXSkge1xuICAgICAgICBsb2coJ1tEVVNUOicgKyB0eXBlICsgJ10nLCBtZXNzYWdlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgZHVzdC5kZWJ1Z0xldmVsID0gTk9ORTtcbiAgICBpZih0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYgcHJvY2Vzcy5lbnYgJiYgL1xcYmR1c3RcXGIvLnRlc3QocHJvY2Vzcy5lbnYuREVCVUcpKSB7XG4gICAgICBkdXN0LmRlYnVnTGV2ZWwgPSBERUJVRztcbiAgICB9XG5cbiAgfSgpKTtcblxuICBkdXN0LmhlbHBlcnMgPSB7fTtcblxuICBkdXN0LmNhY2hlID0ge307XG5cbiAgZHVzdC5yZWdpc3RlciA9IGZ1bmN0aW9uKG5hbWUsIHRtcGwpIHtcbiAgICBpZiAoIW5hbWUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdG1wbC50ZW1wbGF0ZU5hbWUgPSBuYW1lO1xuICAgIGlmIChkdXN0LmNvbmZpZy5jYWNoZSAhPT0gZmFsc2UpIHtcbiAgICAgIGR1c3QuY2FjaGVbbmFtZV0gPSB0bXBsO1xuICAgIH1cbiAgfTtcblxuICBkdXN0LnJlbmRlciA9IGZ1bmN0aW9uKG5hbWVPclRlbXBsYXRlLCBjb250ZXh0LCBjYWxsYmFjaykge1xuICAgIHZhciBjaHVuayA9IG5ldyBTdHViKGNhbGxiYWNrKS5oZWFkO1xuICAgIHRyeSB7XG4gICAgICBsb2FkKG5hbWVPclRlbXBsYXRlLCBjaHVuaywgY29udGV4dCkuZW5kKCk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjaHVuay5zZXRFcnJvcihlcnIpO1xuICAgIH1cbiAgfTtcblxuICBkdXN0LnN0cmVhbSA9IGZ1bmN0aW9uKG5hbWVPclRlbXBsYXRlLCBjb250ZXh0KSB7XG4gICAgdmFyIHN0cmVhbSA9IG5ldyBTdHJlYW0oKSxcbiAgICAgICAgY2h1bmsgPSBzdHJlYW0uaGVhZDtcbiAgICBkdXN0Lm5leHRUaWNrKGZ1bmN0aW9uKCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgbG9hZChuYW1lT3JUZW1wbGF0ZSwgY2h1bmssIGNvbnRleHQpLmVuZCgpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNodW5rLnNldEVycm9yKGVycik7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHN0cmVhbTtcbiAgfTtcblxuICAvKipcbiAgICogRXh0cmFjdHMgYSB0ZW1wbGF0ZSBmdW5jdGlvbiAoYm9keV8wKSBmcm9tIHdoYXRldmVyIGlzIHBhc3NlZC5cbiAgICogQHBhcmFtIG5hbWVPclRlbXBsYXRlIHsqfSBDb3VsZCBiZTpcbiAgICogICAtIHRoZSBuYW1lIG9mIGEgdGVtcGxhdGUgdG8gbG9hZCBmcm9tIGNhY2hlXG4gICAqICAgLSBhIENvbW1vbkpTLWNvbXBpbGVkIHRlbXBsYXRlIChhIGZ1bmN0aW9uIHdpdGggYSBgdGVtcGxhdGVgIHByb3BlcnR5KVxuICAgKiAgIC0gYSB0ZW1wbGF0ZSBmdW5jdGlvblxuICAgKiBAcGFyYW0gbG9hZEZyb21DYWNoZSB7Qm9vbGVhbn0gaWYgZmFsc2UsIGRvbid0IGxvb2sgaW4gdGhlIGNhY2hlXG4gICAqIEByZXR1cm4ge0Z1bmN0aW9ufSBhIHRlbXBsYXRlIGZ1bmN0aW9uLCBpZiBmb3VuZFxuICAgKi9cbiAgZnVuY3Rpb24gZ2V0VGVtcGxhdGUobmFtZU9yVGVtcGxhdGUsIGxvYWRGcm9tQ2FjaGUvKj10cnVlKi8pIHtcbiAgICBpZighbmFtZU9yVGVtcGxhdGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYodHlwZW9mIG5hbWVPclRlbXBsYXRlID09PSAnZnVuY3Rpb24nICYmIG5hbWVPclRlbXBsYXRlLnRlbXBsYXRlKSB7XG4gICAgICAvLyBTdWdhciBhd2F5IENvbW1vbkpTIG1vZHVsZSB0ZW1wbGF0ZXNcbiAgICAgIHJldHVybiBuYW1lT3JUZW1wbGF0ZS50ZW1wbGF0ZTtcbiAgICB9XG4gICAgaWYoZHVzdC5pc1RlbXBsYXRlRm4obmFtZU9yVGVtcGxhdGUpKSB7XG4gICAgICAvLyBUZW1wbGF0ZSBmdW5jdGlvbnMgcGFzc2VkIGRpcmVjdGx5XG4gICAgICByZXR1cm4gbmFtZU9yVGVtcGxhdGU7XG4gICAgfVxuICAgIGlmKGxvYWRGcm9tQ2FjaGUgIT09IGZhbHNlKSB7XG4gICAgICAvLyBUcnkgbG9hZGluZyBhIHRlbXBsYXRlIHdpdGggdGhpcyBuYW1lIGZyb20gY2FjaGVcbiAgICAgIHJldHVybiBkdXN0LmNhY2hlW25hbWVPclRlbXBsYXRlXTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBsb2FkKG5hbWVPclRlbXBsYXRlLCBjaHVuaywgY29udGV4dCkge1xuICAgIGlmKCFuYW1lT3JUZW1wbGF0ZSkge1xuICAgICAgcmV0dXJuIGNodW5rLnNldEVycm9yKG5ldyBFcnJvcignTm8gdGVtcGxhdGUgb3IgdGVtcGxhdGUgbmFtZSBwcm92aWRlZCB0byByZW5kZXInKSk7XG4gICAgfVxuXG4gICAgdmFyIHRlbXBsYXRlID0gZ2V0VGVtcGxhdGUobmFtZU9yVGVtcGxhdGUsIGR1c3QuY29uZmlnLmNhY2hlKTtcblxuICAgIGlmICh0ZW1wbGF0ZSkge1xuICAgICAgcmV0dXJuIHRlbXBsYXRlKGNodW5rLCBDb250ZXh0LndyYXAoY29udGV4dCwgdGVtcGxhdGUudGVtcGxhdGVOYW1lKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChkdXN0Lm9uTG9hZCkge1xuICAgICAgICByZXR1cm4gY2h1bmsubWFwKGZ1bmN0aW9uKGNodW5rKSB7XG4gICAgICAgICAgLy8gQWxpYXMganVzdCBzbyBpdCdzIGVhc2llciB0byByZWFkIHRoYXQgdGhpcyB3b3VsZCBhbHdheXMgYmUgYSBuYW1lXG4gICAgICAgICAgdmFyIG5hbWUgPSBuYW1lT3JUZW1wbGF0ZTtcbiAgICAgICAgICAvLyBUaHJlZSBwb3NzaWJsZSBzY2VuYXJpb3MgZm9yIGEgc3VjY2Vzc2Z1bCBjYWxsYmFjazpcbiAgICAgICAgICAvLyAgIC0gYHJlcXVpcmUobmFtZU9yVGVtcGxhdGUpKGR1c3QpOyBjYigpYFxuICAgICAgICAgIC8vICAgLSBgc3JjID0gcmVhZEZpbGUoJ3NyYy5kdXN0Jyk7IGNiKG51bGwsIHNyYylgXG4gICAgICAgICAgLy8gICAtIGBjb21waWxlZFRlbXBsYXRlID0gcmVxdWlyZShuYW1lT3JUZW1wbGF0ZSkoZHVzdCk7IGNiKG51bGwsIGNvbXBpbGVkVGVtcGxhdGUpYFxuICAgICAgICAgIGZ1bmN0aW9uIGRvbmUoZXJyLCBzcmNPclRlbXBsYXRlKSB7XG4gICAgICAgICAgICB2YXIgdGVtcGxhdGU7XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgIHJldHVybiBjaHVuay5zZXRFcnJvcihlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gUHJlZmVyIGEgdGVtcGxhdGUgdGhhdCBpcyBwYXNzZWQgdmlhIGNhbGxiYWNrIG92ZXIgdGhlIGNhY2hlZCB2ZXJzaW9uLlxuICAgICAgICAgICAgdGVtcGxhdGUgPSBnZXRUZW1wbGF0ZShzcmNPclRlbXBsYXRlLCBmYWxzZSkgfHwgZ2V0VGVtcGxhdGUobmFtZSwgZHVzdC5jb25maWcuY2FjaGUpO1xuICAgICAgICAgICAgaWYgKCF0ZW1wbGF0ZSkge1xuICAgICAgICAgICAgICAvLyBJdCdzIGEgdGVtcGxhdGUgc3RyaW5nLCBjb21waWxlIGl0IGFuZCByZWdpc3RlciB1bmRlciBgbmFtZWBcbiAgICAgICAgICAgICAgaWYoZHVzdC5jb21waWxlKSB7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGUgPSBkdXN0LmxvYWRTb3VyY2UoZHVzdC5jb21waWxlKHNyY09yVGVtcGxhdGUsIG5hbWUpKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2h1bmsuc2V0RXJyb3IobmV3IEVycm9yKCdEdXN0IGNvbXBpbGVyIG5vdCBhdmFpbGFibGUnKSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRlbXBsYXRlKGNodW5rLCBDb250ZXh0LndyYXAoY29udGV4dCwgdGVtcGxhdGUudGVtcGxhdGVOYW1lKSkuZW5kKCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYoZHVzdC5vbkxvYWQubGVuZ3RoID09PSAzKSB7XG4gICAgICAgICAgICBkdXN0Lm9uTG9hZChuYW1lLCBjb250ZXh0Lm9wdGlvbnMsIGRvbmUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkdXN0Lm9uTG9hZChuYW1lLCBkb25lKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNodW5rLnNldEVycm9yKG5ldyBFcnJvcignVGVtcGxhdGUgTm90IEZvdW5kOiAnICsgbmFtZU9yVGVtcGxhdGUpKTtcbiAgICB9XG4gIH1cblxuICBkdXN0LmxvYWRTb3VyY2UgPSBmdW5jdGlvbihzb3VyY2UpIHtcbiAgICAvKmpzaGludCBldmlsOnRydWUqL1xuICAgIHJldHVybiBldmFsKHNvdXJjZSk7XG4gIH07XG5cbiAgaWYgKEFycmF5LmlzQXJyYXkpIHtcbiAgICBkdXN0LmlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xuICB9IGVsc2Uge1xuICAgIGR1c3QuaXNBcnJheSA9IGZ1bmN0aW9uKGFycikge1xuICAgICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhcnIpID09PSAnW29iamVjdCBBcnJheV0nO1xuICAgIH07XG4gIH1cblxuICBkdXN0Lm5leHRUaWNrID0gKGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBmdW5jdGlvbihjYWxsYmFjaykge1xuICAgICAgc2V0VGltZW91dChjYWxsYmFjaywgMCk7XG4gICAgfTtcbiAgfSkoKTtcblxuICAvKipcbiAgICogRHVzdCBoYXMgaXRzIG93biBydWxlcyBmb3Igd2hhdCBpcyBcImVtcHR5XCItLSB3aGljaCBpcyBub3QgdGhlIHNhbWUgYXMgZmFsc3kuXG4gICAqIEVtcHR5IGFycmF5cywgbnVsbCwgYW5kIHVuZGVmaW5lZCBhcmUgZW1wdHlcbiAgICovXG4gIGR1c3QuaXNFbXB0eSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlID09PSAwKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChkdXN0LmlzQXJyYXkodmFsdWUpICYmICF2YWx1ZS5sZW5ndGgpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gIXZhbHVlO1xuICB9O1xuXG4gIGR1c3QuaXNFbXB0eU9iamVjdCA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHZhciBrZXk7XG4gICAgaWYgKG9iaiA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAob2JqID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKG9iai5sZW5ndGggPiAwKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGZvciAoa2V5IGluIG9iaikge1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcblxuICBkdXN0LmlzVGVtcGxhdGVGbiA9IGZ1bmN0aW9uKGVsZW0pIHtcbiAgICByZXR1cm4gdHlwZW9mIGVsZW0gPT09ICdmdW5jdGlvbicgJiZcbiAgICAgICAgICAgZWxlbS5fX2R1c3RCb2R5O1xuICB9O1xuXG4gIC8qKlxuICAgKiBEZWNpZGUgc29tZXdoYXQtbmFpdmVseSBpZiBzb21ldGhpbmcgaXMgYSBUaGVuYWJsZS5cbiAgICogQHBhcmFtIGVsZW0geyp9IG9iamVjdCB0byBpbnNwZWN0XG4gICAqIEByZXR1cm4ge0Jvb2xlYW59IGlzIGBlbGVtYCBhIFRoZW5hYmxlP1xuICAgKi9cbiAgZHVzdC5pc1RoZW5hYmxlID0gZnVuY3Rpb24oZWxlbSkge1xuICAgIHJldHVybiBlbGVtICYmXG4gICAgICAgICAgIHR5cGVvZiBlbGVtID09PSAnb2JqZWN0JyAmJlxuICAgICAgICAgICB0eXBlb2YgZWxlbS50aGVuID09PSAnZnVuY3Rpb24nO1xuICB9O1xuXG4gIC8qKlxuICAgKiBEZWNpZGUgdmVyeSBuYWl2ZWx5IGlmIHNvbWV0aGluZyBpcyBhIFN0cmVhbS5cbiAgICogQHBhcmFtIGVsZW0geyp9IG9iamVjdCB0byBpbnNwZWN0XG4gICAqIEByZXR1cm4ge0Jvb2xlYW59IGlzIGBlbGVtYCBhIFN0cmVhbT9cbiAgICovXG4gIGR1c3QuaXNTdHJlYW1hYmxlID0gZnVuY3Rpb24oZWxlbSkge1xuICAgIHJldHVybiBlbGVtICYmXG4gICAgICAgICAgIHR5cGVvZiBlbGVtLm9uID09PSAnZnVuY3Rpb24nICYmXG4gICAgICAgICAgIHR5cGVvZiBlbGVtLnBpcGUgPT09ICdmdW5jdGlvbic7XG4gIH07XG5cbiAgLy8gYXBwbHkgdGhlIGZpbHRlciBjaGFpbiBhbmQgcmV0dXJuIHRoZSBvdXRwdXQgc3RyaW5nXG4gIGR1c3QuZmlsdGVyID0gZnVuY3Rpb24oc3RyaW5nLCBhdXRvLCBmaWx0ZXJzLCBjb250ZXh0KSB7XG4gICAgdmFyIGksIGxlbiwgbmFtZSwgZmlsdGVyO1xuICAgIGlmIChmaWx0ZXJzKSB7XG4gICAgICBmb3IgKGkgPSAwLCBsZW4gPSBmaWx0ZXJzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIG5hbWUgPSBmaWx0ZXJzW2ldO1xuICAgICAgICBpZiAoIW5hbWUubGVuZ3RoKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgZmlsdGVyID0gZHVzdC5maWx0ZXJzW25hbWVdO1xuICAgICAgICBpZiAobmFtZSA9PT0gJ3MnKSB7XG4gICAgICAgICAgYXV0byA9IG51bGw7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGZpbHRlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHN0cmluZyA9IGZpbHRlcihzdHJpbmcsIGNvbnRleHQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGR1c3QubG9nKCdJbnZhbGlkIGZpbHRlciBgJyArIG5hbWUgKyAnYCcsIFdBUk4pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIC8vIGJ5IGRlZmF1bHQgYWx3YXlzIGFwcGx5IHRoZSBoIGZpbHRlciwgdW5sZXNzIGFza2VkIHRvIHVuZXNjYXBlIHdpdGggfHNcbiAgICBpZiAoYXV0bykge1xuICAgICAgc3RyaW5nID0gZHVzdC5maWx0ZXJzW2F1dG9dKHN0cmluZywgY29udGV4dCk7XG4gICAgfVxuICAgIHJldHVybiBzdHJpbmc7XG4gIH07XG5cbiAgZHVzdC5maWx0ZXJzID0ge1xuICAgIGg6IGZ1bmN0aW9uKHZhbHVlKSB7IHJldHVybiBkdXN0LmVzY2FwZUh0bWwodmFsdWUpOyB9LFxuICAgIGo6IGZ1bmN0aW9uKHZhbHVlKSB7IHJldHVybiBkdXN0LmVzY2FwZUpzKHZhbHVlKTsgfSxcbiAgICB1OiBlbmNvZGVVUkksXG4gICAgdWM6IGVuY29kZVVSSUNvbXBvbmVudCxcbiAgICBqczogZnVuY3Rpb24odmFsdWUpIHsgcmV0dXJuIGR1c3QuZXNjYXBlSlNPTih2YWx1ZSk7IH0sXG4gICAganA6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBpZiAoIUpTT04pIHtkdXN0LmxvZygnSlNPTiBpcyB1bmRlZmluZWQ7IGNvdWxkIG5vdCBwYXJzZSBgJyArIHZhbHVlICsgJ2AnLCBXQVJOKTtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UodmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBmdW5jdGlvbiBDb250ZXh0KHN0YWNrLCBnbG9iYWwsIG9wdGlvbnMsIGJsb2NrcywgdGVtcGxhdGVOYW1lKSB7XG4gICAgaWYoc3RhY2sgIT09IHVuZGVmaW5lZCAmJiAhKHN0YWNrIGluc3RhbmNlb2YgU3RhY2spKSB7XG4gICAgICBzdGFjayA9IG5ldyBTdGFjayhzdGFjayk7XG4gICAgfVxuICAgIHRoaXMuc3RhY2sgPSBzdGFjaztcbiAgICB0aGlzLmdsb2JhbCA9IGdsb2JhbDtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIHRoaXMuYmxvY2tzID0gYmxvY2tzO1xuICAgIHRoaXMudGVtcGxhdGVOYW1lID0gdGVtcGxhdGVOYW1lO1xuICAgIHRoaXMuX2lzQ29udGV4dCA9IHRydWU7XG4gIH1cblxuICBkdXN0Lm1ha2VCYXNlID0gZHVzdC5jb250ZXh0ID0gZnVuY3Rpb24oZ2xvYmFsLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIG5ldyBDb250ZXh0KHVuZGVmaW5lZCwgZ2xvYmFsLCBvcHRpb25zKTtcbiAgfTtcblxuICBkdXN0LmlzQ29udGV4dCA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHJldHVybiB0eXBlb2Ygb2JqID09PSBcIm9iamVjdFwiICYmIG9iai5faXNDb250ZXh0ID09PSB0cnVlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBGYWN0b3J5IGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhIGNsb3N1cmUgc2NvcGUgYXJvdW5kIGEgVGhlbmFibGUtY2FsbGJhY2suXG4gICAqIFJldHVybnMgYSBmdW5jdGlvbiB0aGF0IGNhbiBiZSBwYXNzZWQgdG8gYSBUaGVuYWJsZSB0aGF0IHdpbGwgcmVzdW1lIGFcbiAgICogQ29udGV4dCBsb29rdXAgb25jZSB0aGUgVGhlbmFibGUgcmVzb2x2ZXMgd2l0aCBuZXcgZGF0YSwgYWRkaW5nIHRoYXQgbmV3XG4gICAqIGRhdGEgdG8gdGhlIGxvb2t1cCBzdGFjay5cbiAgICovXG4gIGZ1bmN0aW9uIGdldFdpdGhSZXNvbHZlZERhdGEoY3R4LCBjdXIsIGRvd24pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oZGF0YSkge1xuICAgICAgcmV0dXJuIGN0eC5wdXNoKGRhdGEpLl9nZXQoY3VyLCBkb3duKTtcbiAgICB9O1xuICB9XG5cbiAgQ29udGV4dC53cmFwID0gZnVuY3Rpb24oY29udGV4dCwgbmFtZSkge1xuICAgIGlmIChkdXN0LmlzQ29udGV4dChjb250ZXh0KSkge1xuICAgICAgcmV0dXJuIGNvbnRleHQ7XG4gICAgfVxuICAgIHJldHVybiBuZXcgQ29udGV4dChjb250ZXh0LCB7fSwge30sIG51bGwsIG5hbWUpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBQdWJsaWMgQVBJIGZvciBnZXR0aW5nIGEgdmFsdWUgZnJvbSB0aGUgY29udGV4dC5cbiAgICogQG1ldGhvZCBnZXRcbiAgICogQHBhcmFtIHtzdHJpbmd8YXJyYXl9IHBhdGggVGhlIHBhdGggdG8gdGhlIHZhbHVlLiBTdXBwb3J0ZWQgZm9ybWF0cyBhcmU6XG4gICAqICdrZXknXG4gICAqICdwYXRoLnRvLmtleSdcbiAgICogJy5wYXRoLnRvLmtleSdcbiAgICogWydwYXRoJywgJ3RvJywgJ2tleSddXG4gICAqIFsna2V5J11cbiAgICogQHBhcmFtIHtib29sZWFufSBbY3VyPWZhbHNlXSBCb29sZWFuIHdoaWNoIGRldGVybWluZXMgaWYgdGhlIHNlYXJjaCBzaG91bGQgYmUgbGltaXRlZCB0byB0aGVcbiAgICogY3VycmVudCBjb250ZXh0ICh0cnVlKSwgb3IgaWYgZ2V0IHNob3VsZCBzZWFyY2ggaW4gcGFyZW50IGNvbnRleHRzIGFzIHdlbGwgKGZhbHNlKS5cbiAgICogQHB1YmxpY1xuICAgKiBAcmV0dXJucyB7c3RyaW5nfG9iamVjdH1cbiAgICovXG4gIENvbnRleHQucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKHBhdGgsIGN1cikge1xuICAgIGlmICh0eXBlb2YgcGF0aCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGlmIChwYXRoWzBdID09PSAnLicpIHtcbiAgICAgICAgY3VyID0gdHJ1ZTtcbiAgICAgICAgcGF0aCA9IHBhdGguc3Vic3RyKDEpO1xuICAgICAgfVxuICAgICAgcGF0aCA9IHBhdGguc3BsaXQoJy4nKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2dldChjdXIsIHBhdGgpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXQgYSB2YWx1ZSBmcm9tIHRoZSBjb250ZXh0XG4gICAqIEBtZXRob2QgX2dldFxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGN1ciBHZXQgb25seSBmcm9tIHRoZSBjdXJyZW50IGNvbnRleHRcbiAgICogQHBhcmFtIHthcnJheX0gZG93biBBbiBhcnJheSBvZiBlYWNoIHN0ZXAgaW4gdGhlIHBhdGhcbiAgICogQHByaXZhdGVcbiAgICogQHJldHVybiB7c3RyaW5nIHwgb2JqZWN0fVxuICAgKi9cbiAgQ29udGV4dC5wcm90b3R5cGUuX2dldCA9IGZ1bmN0aW9uKGN1ciwgZG93bikge1xuICAgIHZhciBjdHggPSB0aGlzLnN0YWNrIHx8IHt9LFxuICAgICAgICBpID0gMSxcbiAgICAgICAgdmFsdWUsIGZpcnN0LCBsZW4sIGN0eFRoaXMsIGZuO1xuXG4gICAgZmlyc3QgPSBkb3duWzBdO1xuICAgIGxlbiA9IGRvd24ubGVuZ3RoO1xuXG4gICAgaWYgKGN1ciAmJiBsZW4gPT09IDApIHtcbiAgICAgIGN0eFRoaXMgPSBjdHg7XG4gICAgICBjdHggPSBjdHguaGVhZDtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCFjdXIpIHtcbiAgICAgICAgLy8gU2VhcmNoIHVwIHRoZSBzdGFjayBmb3IgdGhlIGZpcnN0IHZhbHVlXG4gICAgICAgIHdoaWxlIChjdHgpIHtcbiAgICAgICAgICBpZiAoY3R4LmlzT2JqZWN0KSB7XG4gICAgICAgICAgICBjdHhUaGlzID0gY3R4LmhlYWQ7XG4gICAgICAgICAgICB2YWx1ZSA9IGN0eC5oZWFkW2ZpcnN0XTtcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBjdHggPSBjdHgudGFpbDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRyeSBsb29raW5nIGluIHRoZSBnbG9iYWwgY29udGV4dCBpZiB3ZSBoYXZlbid0IGZvdW5kIGFueXRoaW5nIHlldFxuICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGN0eCA9IHZhbHVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGN0eCA9IHRoaXMuZ2xvYmFsICYmIHRoaXMuZ2xvYmFsW2ZpcnN0XTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChjdHgpIHtcbiAgICAgICAgLy8gaWYgc2NvcGUgaXMgbGltaXRlZCBieSBhIGxlYWRpbmcgZG90LCBkb24ndCBzZWFyY2ggdXAgdGhlIHRyZWVcbiAgICAgICAgaWYoY3R4LmhlYWQpIHtcbiAgICAgICAgICBjdHggPSBjdHguaGVhZFtmaXJzdF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gY29udGV4dCdzIGhlYWQgaXMgZW1wdHksIHZhbHVlIHdlIGFyZSBzZWFyY2hpbmcgZm9yIGlzIG5vdCBkZWZpbmVkXG4gICAgICAgICAgY3R4ID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHdoaWxlIChjdHggJiYgaSA8IGxlbikge1xuICAgICAgICBpZiAoZHVzdC5pc1RoZW5hYmxlKGN0eCkpIHtcbiAgICAgICAgICAvLyBCYWlsIGVhcmx5IGJ5IHJldHVybmluZyBhIFRoZW5hYmxlIGZvciB0aGUgcmVtYWluZGVyIG9mIHRoZSBzZWFyY2ggdHJlZVxuICAgICAgICAgIHJldHVybiBjdHgudGhlbihnZXRXaXRoUmVzb2x2ZWREYXRhKHRoaXMsIGN1ciwgZG93bi5zbGljZShpKSkpO1xuICAgICAgICB9XG4gICAgICAgIGN0eFRoaXMgPSBjdHg7XG4gICAgICAgIGN0eCA9IGN0eFtkb3duW2ldXTtcbiAgICAgICAgaSsrO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0eXBlb2YgY3R4ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBmbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiBjdHguYXBwbHkoY3R4VGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgZHVzdC5sb2coZXJyLCBFUlJPUik7XG4gICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgZm4uX19kdXN0Qm9keSA9ICEhY3R4Ll9fZHVzdEJvZHk7XG4gICAgICByZXR1cm4gZm47XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChjdHggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBkdXN0LmxvZygnQ2Fubm90IGZpbmQgcmVmZXJlbmNlIGB7JyArIGRvd24uam9pbignLicpICsgJ31gIGluIHRlbXBsYXRlIGAnICsgdGhpcy5nZXRUZW1wbGF0ZU5hbWUoKSArICdgJywgSU5GTyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gY3R4O1xuICAgIH1cbiAgfTtcblxuICBDb250ZXh0LnByb3RvdHlwZS5nZXRQYXRoID0gZnVuY3Rpb24oY3VyLCBkb3duKSB7XG4gICAgcmV0dXJuIHRoaXMuX2dldChjdXIsIGRvd24pO1xuICB9O1xuXG4gIENvbnRleHQucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbihoZWFkLCBpZHgsIGxlbikge1xuICAgIGlmKGhlYWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgZHVzdC5sb2coXCJOb3QgcHVzaGluZyBhbiB1bmRlZmluZWQgdmFyaWFibGUgb250byB0aGUgY29udGV4dFwiLCBJTkZPKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5yZWJhc2UobmV3IFN0YWNrKGhlYWQsIHRoaXMuc3RhY2ssIGlkeCwgbGVuKSk7XG4gIH07XG5cbiAgQ29udGV4dC5wcm90b3R5cGUucG9wID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGhlYWQgPSB0aGlzLmN1cnJlbnQoKTtcbiAgICB0aGlzLnN0YWNrID0gdGhpcy5zdGFjayAmJiB0aGlzLnN0YWNrLnRhaWw7XG4gICAgcmV0dXJuIGhlYWQ7XG4gIH07XG5cbiAgQ29udGV4dC5wcm90b3R5cGUucmViYXNlID0gZnVuY3Rpb24oaGVhZCkge1xuICAgIHJldHVybiBuZXcgQ29udGV4dChoZWFkLCB0aGlzLmdsb2JhbCwgdGhpcy5vcHRpb25zLCB0aGlzLmJsb2NrcywgdGhpcy5nZXRUZW1wbGF0ZU5hbWUoKSk7XG4gIH07XG5cbiAgQ29udGV4dC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgY29udGV4dCA9IHRoaXMucmViYXNlKCk7XG4gICAgY29udGV4dC5zdGFjayA9IHRoaXMuc3RhY2s7XG4gICAgcmV0dXJuIGNvbnRleHQ7XG4gIH07XG5cbiAgQ29udGV4dC5wcm90b3R5cGUuY3VycmVudCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnN0YWNrICYmIHRoaXMuc3RhY2suaGVhZDtcbiAgfTtcblxuICBDb250ZXh0LnByb3RvdHlwZS5nZXRCbG9jayA9IGZ1bmN0aW9uKGtleSkge1xuICAgIHZhciBibG9ja3MsIGxlbiwgZm47XG5cbiAgICBpZiAodHlwZW9mIGtleSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAga2V5ID0ga2V5KG5ldyBDaHVuaygpLCB0aGlzKS5kYXRhLmpvaW4oJycpO1xuICAgIH1cblxuICAgIGJsb2NrcyA9IHRoaXMuYmxvY2tzO1xuXG4gICAgaWYgKCFibG9ja3MpIHtcbiAgICAgIGR1c3QubG9nKCdObyBibG9ja3MgZm9yIGNvbnRleHQgYCcgKyBrZXkgKyAnYCBpbiB0ZW1wbGF0ZSBgJyArIHRoaXMuZ2V0VGVtcGxhdGVOYW1lKCkgKyAnYCcsIERFQlVHKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBsZW4gPSBibG9ja3MubGVuZ3RoO1xuICAgIHdoaWxlIChsZW4tLSkge1xuICAgICAgZm4gPSBibG9ja3NbbGVuXVtrZXldO1xuICAgICAgaWYgKGZuKSB7XG4gICAgICAgIHJldHVybiBmbjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBkdXN0LmxvZygnTWFsZm9ybWVkIHRlbXBsYXRlIGAnICsgdGhpcy5nZXRUZW1wbGF0ZU5hbWUoKSArICdgIHdhcyBtaXNzaW5nIG9uZSBvciBtb3JlIGJsb2Nrcy4nKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cbiAgQ29udGV4dC5wcm90b3R5cGUuc2hpZnRCbG9ja3MgPSBmdW5jdGlvbihsb2NhbHMpIHtcbiAgICB2YXIgYmxvY2tzID0gdGhpcy5ibG9ja3MsXG4gICAgICAgIG5ld0Jsb2NrcztcblxuICAgIGlmIChsb2NhbHMpIHtcbiAgICAgIGlmICghYmxvY2tzKSB7XG4gICAgICAgIG5ld0Jsb2NrcyA9IFtsb2NhbHNdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV3QmxvY2tzID0gYmxvY2tzLmNvbmNhdChbbG9jYWxzXSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IENvbnRleHQodGhpcy5zdGFjaywgdGhpcy5nbG9iYWwsIHRoaXMub3B0aW9ucywgbmV3QmxvY2tzLCB0aGlzLmdldFRlbXBsYXRlTmFtZSgpKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgQ29udGV4dC5wcm90b3R5cGUucmVzb2x2ZSA9IGZ1bmN0aW9uKGJvZHkpIHtcbiAgICB2YXIgY2h1bms7XG5cbiAgICBpZih0eXBlb2YgYm9keSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIGJvZHk7XG4gICAgfVxuICAgIGNodW5rID0gbmV3IENodW5rKCkucmVuZGVyKGJvZHksIHRoaXMpO1xuICAgIGlmKGNodW5rIGluc3RhbmNlb2YgQ2h1bmspIHtcbiAgICAgIHJldHVybiBjaHVuay5kYXRhLmpvaW4oJycpOyAvLyBpZTcgcGVyZlxuICAgIH1cbiAgICByZXR1cm4gY2h1bms7XG4gIH07XG5cbiAgQ29udGV4dC5wcm90b3R5cGUuZ2V0VGVtcGxhdGVOYW1lID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMudGVtcGxhdGVOYW1lO1xuICB9O1xuXG4gIGZ1bmN0aW9uIFN0YWNrKGhlYWQsIHRhaWwsIGlkeCwgbGVuKSB7XG4gICAgdGhpcy50YWlsID0gdGFpbDtcbiAgICB0aGlzLmlzT2JqZWN0ID0gaGVhZCAmJiB0eXBlb2YgaGVhZCA9PT0gJ29iamVjdCc7XG4gICAgdGhpcy5oZWFkID0gaGVhZDtcbiAgICB0aGlzLmluZGV4ID0gaWR4O1xuICAgIHRoaXMub2YgPSBsZW47XG4gIH1cblxuICBmdW5jdGlvbiBTdHViKGNhbGxiYWNrKSB7XG4gICAgdGhpcy5oZWFkID0gbmV3IENodW5rKHRoaXMpO1xuICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICB0aGlzLm91dCA9ICcnO1xuICB9XG5cbiAgU3R1Yi5wcm90b3R5cGUuZmx1c2ggPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgY2h1bmsgPSB0aGlzLmhlYWQ7XG5cbiAgICB3aGlsZSAoY2h1bmspIHtcbiAgICAgIGlmIChjaHVuay5mbHVzaGFibGUpIHtcbiAgICAgICAgdGhpcy5vdXQgKz0gY2h1bmsuZGF0YS5qb2luKCcnKTsgLy9pZTcgcGVyZlxuICAgICAgfSBlbHNlIGlmIChjaHVuay5lcnJvcikge1xuICAgICAgICB0aGlzLmNhbGxiYWNrKGNodW5rLmVycm9yKTtcbiAgICAgICAgZHVzdC5sb2coJ1JlbmRlcmluZyBmYWlsZWQgd2l0aCBlcnJvciBgJyArIGNodW5rLmVycm9yICsgJ2AnLCBFUlJPUik7XG4gICAgICAgIHRoaXMuZmx1c2ggPSBFTVBUWV9GVU5DO1xuICAgICAgICByZXR1cm47XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjaHVuayA9IGNodW5rLm5leHQ7XG4gICAgICB0aGlzLmhlYWQgPSBjaHVuaztcbiAgICB9XG4gICAgdGhpcy5jYWxsYmFjayhudWxsLCB0aGlzLm91dCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYW4gaW50ZXJmYWNlIHNvcnQgb2YgbGlrZSBhIFN0cmVhbXMyIFJlYWRhYmxlU3RyZWFtLlxuICAgKi9cbiAgZnVuY3Rpb24gU3RyZWFtKCkge1xuICAgIHRoaXMuaGVhZCA9IG5ldyBDaHVuayh0aGlzKTtcbiAgfVxuXG4gIFN0cmVhbS5wcm90b3R5cGUuZmx1c2ggPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgY2h1bmsgPSB0aGlzLmhlYWQ7XG5cbiAgICB3aGlsZShjaHVuaykge1xuICAgICAgaWYgKGNodW5rLmZsdXNoYWJsZSkge1xuICAgICAgICB0aGlzLmVtaXQoJ2RhdGEnLCBjaHVuay5kYXRhLmpvaW4oJycpKTsgLy9pZTcgcGVyZlxuICAgICAgfSBlbHNlIGlmIChjaHVuay5lcnJvcikge1xuICAgICAgICB0aGlzLmVtaXQoJ2Vycm9yJywgY2h1bmsuZXJyb3IpO1xuICAgICAgICB0aGlzLmVtaXQoJ2VuZCcpO1xuICAgICAgICBkdXN0LmxvZygnU3RyZWFtaW5nIGZhaWxlZCB3aXRoIGVycm9yIGAnICsgY2h1bmsuZXJyb3IgKyAnYCcsIEVSUk9SKTtcbiAgICAgICAgdGhpcy5mbHVzaCA9IEVNUFRZX0ZVTkM7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNodW5rID0gY2h1bmsubmV4dDtcbiAgICAgIHRoaXMuaGVhZCA9IGNodW5rO1xuICAgIH1cbiAgICB0aGlzLmVtaXQoJ2VuZCcpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBFeGVjdXRlcyBsaXN0ZW5lcnMgZm9yIGB0eXBlYCBieSBwYXNzaW5nIGRhdGEuIE5vdGUgdGhhdCB0aGlzIGlzIGRpZmZlcmVudCBmcm9tIGFcbiAgICogTm9kZSBzdHJlYW0sIHdoaWNoIGNhbiBwYXNzIGFuIGFyYml0cmFyeSBudW1iZXIgb2YgYXJndW1lbnRzXG4gICAqIEByZXR1cm4gYHRydWVgIGlmIGV2ZW50IGhhZCBsaXN0ZW5lcnMsIGBmYWxzZWAgb3RoZXJ3aXNlXG4gICAqL1xuICBTdHJlYW0ucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbih0eXBlLCBkYXRhKSB7XG4gICAgdmFyIGV2ZW50cyA9IHRoaXMuZXZlbnRzIHx8IHt9LFxuICAgICAgICBoYW5kbGVycyA9IGV2ZW50c1t0eXBlXSB8fCBbXSxcbiAgICAgICAgaSwgbDtcblxuICAgIGlmICghaGFuZGxlcnMubGVuZ3RoKSB7XG4gICAgICBkdXN0LmxvZygnU3RyZWFtIGJyb2FkY2FzdGluZywgYnV0IG5vIGxpc3RlbmVycyBmb3IgYCcgKyB0eXBlICsgJ2AnLCBERUJVRyk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaGFuZGxlcnMgPSBoYW5kbGVycy5zbGljZSgwKTtcbiAgICBmb3IgKGkgPSAwLCBsID0gaGFuZGxlcnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICBoYW5kbGVyc1tpXShkYXRhKTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG5cbiAgU3RyZWFtLnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uKHR5cGUsIGNhbGxiYWNrKSB7XG4gICAgdmFyIGV2ZW50cyA9IHRoaXMuZXZlbnRzID0gdGhpcy5ldmVudHMgfHwge30sXG4gICAgICAgIGhhbmRsZXJzID0gZXZlbnRzW3R5cGVdID0gZXZlbnRzW3R5cGVdIHx8IFtdO1xuXG4gICAgaWYodHlwZW9mIGNhbGxiYWNrICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICBkdXN0LmxvZygnTm8gY2FsbGJhY2sgZnVuY3Rpb24gcHJvdmlkZWQgZm9yIGAnICsgdHlwZSArICdgIGV2ZW50IGxpc3RlbmVyJywgV0FSTik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGhhbmRsZXJzLnB1c2goY2FsbGJhY2spO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogUGlwZXMgdG8gYSBXcml0YWJsZVN0cmVhbS4gTm90ZSB0aGF0IGJhY2twcmVzc3VyZSBpc24ndCBpbXBsZW1lbnRlZCxcbiAgICogc28gd2UganVzdCB3cml0ZSBhcyBmYXN0IGFzIHdlIGNhbi5cbiAgICogQHBhcmFtIHN0cmVhbSB7V3JpdGFibGVTdHJlYW19XG4gICAqIEByZXR1cm4gc2VsZlxuICAgKi9cbiAgU3RyZWFtLnByb3RvdHlwZS5waXBlID0gZnVuY3Rpb24oc3RyZWFtKSB7XG4gICAgaWYodHlwZW9mIHN0cmVhbS53cml0ZSAhPT0gJ2Z1bmN0aW9uJyB8fFxuICAgICAgIHR5cGVvZiBzdHJlYW0uZW5kICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICBkdXN0LmxvZygnSW5jb21wYXRpYmxlIHN0cmVhbSBwYXNzZWQgdG8gYHBpcGVgJywgV0FSTik7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICB2YXIgZGVzdEVuZGVkID0gZmFsc2U7XG5cbiAgICBpZih0eXBlb2Ygc3RyZWFtLmVtaXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHN0cmVhbS5lbWl0KCdwaXBlJywgdGhpcyk7XG4gICAgfVxuXG4gICAgaWYodHlwZW9mIHN0cmVhbS5vbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgc3RyZWFtLm9uKCdlcnJvcicsIGZ1bmN0aW9uKCkge1xuICAgICAgICBkZXN0RW5kZWQgPSB0cnVlO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXNcbiAgICAub24oJ2RhdGEnLCBmdW5jdGlvbihkYXRhKSB7XG4gICAgICBpZihkZXN0RW5kZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgc3RyZWFtLndyaXRlKGRhdGEsICd1dGY4Jyk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgZHVzdC5sb2coZXJyLCBFUlJPUik7XG4gICAgICB9XG4gICAgfSlcbiAgICAub24oJ2VuZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgaWYoZGVzdEVuZGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIHN0cmVhbS5lbmQoKTtcbiAgICAgICAgZGVzdEVuZGVkID0gdHJ1ZTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBkdXN0LmxvZyhlcnIsIEVSUk9SKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICBmdW5jdGlvbiBDaHVuayhyb290LCBuZXh0LCB0YXBzKSB7XG4gICAgdGhpcy5yb290ID0gcm9vdDtcbiAgICB0aGlzLm5leHQgPSBuZXh0O1xuICAgIHRoaXMuZGF0YSA9IFtdOyAvL2llNyBwZXJmXG4gICAgdGhpcy5mbHVzaGFibGUgPSBmYWxzZTtcbiAgICB0aGlzLnRhcHMgPSB0YXBzO1xuICB9XG5cbiAgQ2h1bmsucHJvdG90eXBlLndyaXRlID0gZnVuY3Rpb24oZGF0YSkge1xuICAgIHZhciB0YXBzID0gdGhpcy50YXBzO1xuXG4gICAgaWYgKHRhcHMpIHtcbiAgICAgIGRhdGEgPSB0YXBzLmdvKGRhdGEpO1xuICAgIH1cbiAgICB0aGlzLmRhdGEucHVzaChkYXRhKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBDaHVuay5wcm90b3R5cGUuZW5kID0gZnVuY3Rpb24oZGF0YSkge1xuICAgIGlmIChkYXRhKSB7XG4gICAgICB0aGlzLndyaXRlKGRhdGEpO1xuICAgIH1cbiAgICB0aGlzLmZsdXNoYWJsZSA9IHRydWU7XG4gICAgdGhpcy5yb290LmZsdXNoKCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgQ2h1bmsucHJvdG90eXBlLm1hcCA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgdmFyIGN1cnNvciA9IG5ldyBDaHVuayh0aGlzLnJvb3QsIHRoaXMubmV4dCwgdGhpcy50YXBzKSxcbiAgICAgICAgYnJhbmNoID0gbmV3IENodW5rKHRoaXMucm9vdCwgY3Vyc29yLCB0aGlzLnRhcHMpO1xuXG4gICAgdGhpcy5uZXh0ID0gYnJhbmNoO1xuICAgIHRoaXMuZmx1c2hhYmxlID0gdHJ1ZTtcbiAgICB0cnkge1xuICAgICAgY2FsbGJhY2soYnJhbmNoKTtcbiAgICB9IGNhdGNoKGVycikge1xuICAgICAgZHVzdC5sb2coZXJyLCBFUlJPUik7XG4gICAgICBicmFuY2guc2V0RXJyb3IoZXJyKTtcbiAgICB9XG4gICAgcmV0dXJuIGN1cnNvcjtcbiAgfTtcblxuICBDaHVuay5wcm90b3R5cGUudGFwID0gZnVuY3Rpb24odGFwKSB7XG4gICAgdmFyIHRhcHMgPSB0aGlzLnRhcHM7XG5cbiAgICBpZiAodGFwcykge1xuICAgICAgdGhpcy50YXBzID0gdGFwcy5wdXNoKHRhcCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMudGFwcyA9IG5ldyBUYXAodGFwKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgQ2h1bmsucHJvdG90eXBlLnVudGFwID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy50YXBzID0gdGhpcy50YXBzLnRhaWw7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgQ2h1bmsucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uKGJvZHksIGNvbnRleHQpIHtcbiAgICByZXR1cm4gYm9keSh0aGlzLCBjb250ZXh0KTtcbiAgfTtcblxuICBDaHVuay5wcm90b3R5cGUucmVmZXJlbmNlID0gZnVuY3Rpb24oZWxlbSwgY29udGV4dCwgYXV0bywgZmlsdGVycykge1xuICAgIGlmICh0eXBlb2YgZWxlbSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgZWxlbSA9IGVsZW0uYXBwbHkoY29udGV4dC5jdXJyZW50KCksIFt0aGlzLCBjb250ZXh0LCBudWxsLCB7YXV0bzogYXV0bywgZmlsdGVyczogZmlsdGVyc31dKTtcbiAgICAgIGlmIChlbGVtIGluc3RhbmNlb2YgQ2h1bmspIHtcbiAgICAgICAgcmV0dXJuIGVsZW07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWZlcmVuY2UoZWxlbSwgY29udGV4dCwgYXV0bywgZmlsdGVycyk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChkdXN0LmlzVGhlbmFibGUoZWxlbSkpIHtcbiAgICAgIHJldHVybiB0aGlzLmF3YWl0KGVsZW0sIGNvbnRleHQsIG51bGwsIGF1dG8sIGZpbHRlcnMpO1xuICAgIH0gZWxzZSBpZiAoZHVzdC5pc1N0cmVhbWFibGUoZWxlbSkpIHtcbiAgICAgIHJldHVybiB0aGlzLnN0cmVhbShlbGVtLCBjb250ZXh0LCBudWxsLCBhdXRvLCBmaWx0ZXJzKTtcbiAgICB9IGVsc2UgaWYgKCFkdXN0LmlzRW1wdHkoZWxlbSkpIHtcbiAgICAgIHJldHVybiB0aGlzLndyaXRlKGR1c3QuZmlsdGVyKGVsZW0sIGF1dG8sIGZpbHRlcnMsIGNvbnRleHQpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9O1xuXG4gIENodW5rLnByb3RvdHlwZS5zZWN0aW9uID0gZnVuY3Rpb24oZWxlbSwgY29udGV4dCwgYm9kaWVzLCBwYXJhbXMpIHtcbiAgICB2YXIgYm9keSA9IGJvZGllcy5ibG9jayxcbiAgICAgICAgc2tpcCA9IGJvZGllc1snZWxzZSddLFxuICAgICAgICBjaHVuayA9IHRoaXMsXG4gICAgICAgIGksIGxlbiwgaGVhZDtcblxuICAgIGlmICh0eXBlb2YgZWxlbSA9PT0gJ2Z1bmN0aW9uJyAmJiAhZHVzdC5pc1RlbXBsYXRlRm4oZWxlbSkpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGVsZW0gPSBlbGVtLmFwcGx5KGNvbnRleHQuY3VycmVudCgpLCBbdGhpcywgY29udGV4dCwgYm9kaWVzLCBwYXJhbXNdKTtcbiAgICAgIH0gY2F0Y2goZXJyKSB7XG4gICAgICAgIGR1c3QubG9nKGVyciwgRVJST1IpO1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRFcnJvcihlcnIpO1xuICAgICAgfVxuICAgICAgLy8gRnVuY3Rpb25zIHRoYXQgcmV0dXJuIGNodW5rcyBhcmUgYXNzdW1lZCB0byBoYXZlIGhhbmRsZWQgdGhlIGNodW5rIG1hbnVhbGx5LlxuICAgICAgLy8gTWFrZSB0aGF0IGNodW5rIHRoZSBjdXJyZW50IG9uZSBhbmQgZ28gdG8gdGhlIG5leHQgbWV0aG9kIGluIHRoZSBjaGFpbi5cbiAgICAgIGlmIChlbGVtIGluc3RhbmNlb2YgQ2h1bmspIHtcbiAgICAgICAgcmV0dXJuIGVsZW07XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGR1c3QuaXNFbXB0eU9iamVjdChib2RpZXMpKSB7XG4gICAgICAvLyBObyBib2RpZXMgdG8gcmVuZGVyLCBhbmQgd2UndmUgYWxyZWFkeSBpbnZva2VkIGFueSBmdW5jdGlvbiB0aGF0IHdhcyBhdmFpbGFibGUgaW5cbiAgICAgIC8vIGhvcGVzIG9mIHJldHVybmluZyBhIENodW5rLlxuICAgICAgcmV0dXJuIGNodW5rO1xuICAgIH1cblxuICAgIGlmICghZHVzdC5pc0VtcHR5T2JqZWN0KHBhcmFtcykpIHtcbiAgICAgIGNvbnRleHQgPSBjb250ZXh0LnB1c2gocGFyYW1zKTtcbiAgICB9XG5cbiAgICAvKlxuICAgIER1c3QncyBkZWZhdWx0IGJlaGF2aW9yIGlzIHRvIGVudW1lcmF0ZSBvdmVyIHRoZSBhcnJheSBlbGVtLCBwYXNzaW5nIGVhY2ggb2JqZWN0IGluIHRoZSBhcnJheSB0byB0aGUgYmxvY2suXG4gICAgV2hlbiBlbGVtIHJlc29sdmVzIHRvIGEgdmFsdWUgb3Igb2JqZWN0IGluc3RlYWQgb2YgYW4gYXJyYXksIER1c3Qgc2V0cyB0aGUgY3VycmVudCBjb250ZXh0IHRvIHRoZSB2YWx1ZVxuICAgIGFuZCByZW5kZXJzIHRoZSBibG9jayBvbmUgdGltZS5cbiAgICAqL1xuICAgIGlmIChkdXN0LmlzQXJyYXkoZWxlbSkpIHtcbiAgICAgIGlmIChib2R5KSB7XG4gICAgICAgIGxlbiA9IGVsZW0ubGVuZ3RoO1xuICAgICAgICBpZiAobGVuID4gMCkge1xuICAgICAgICAgIGhlYWQgPSBjb250ZXh0LnN0YWNrICYmIGNvbnRleHQuc3RhY2suaGVhZCB8fCB7fTtcbiAgICAgICAgICBoZWFkLiRsZW4gPSBsZW47XG4gICAgICAgICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICBoZWFkLiRpZHggPSBpO1xuICAgICAgICAgICAgY2h1bmsgPSBib2R5KGNodW5rLCBjb250ZXh0LnB1c2goZWxlbVtpXSwgaSwgbGVuKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGhlYWQuJGlkeCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICBoZWFkLiRsZW4gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgcmV0dXJuIGNodW5rO1xuICAgICAgICB9IGVsc2UgaWYgKHNraXApIHtcbiAgICAgICAgICByZXR1cm4gc2tpcCh0aGlzLCBjb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZHVzdC5pc1RoZW5hYmxlKGVsZW0pKSB7XG4gICAgICByZXR1cm4gdGhpcy5hd2FpdChlbGVtLCBjb250ZXh0LCBib2RpZXMpO1xuICAgIH0gZWxzZSBpZiAoZHVzdC5pc1N0cmVhbWFibGUoZWxlbSkpIHtcbiAgICAgIHJldHVybiB0aGlzLnN0cmVhbShlbGVtLCBjb250ZXh0LCBib2RpZXMpO1xuICAgIH0gZWxzZSBpZiAoZWxlbSA9PT0gdHJ1ZSkge1xuICAgICAvLyB0cnVlIGlzIHRydXRoeSBidXQgZG9lcyBub3QgY2hhbmdlIGNvbnRleHRcbiAgICAgIGlmIChib2R5KSB7XG4gICAgICAgIHJldHVybiBib2R5KHRoaXMsIGNvbnRleHQpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZWxlbSB8fCBlbGVtID09PSAwKSB7XG4gICAgICAgLy8gZXZlcnl0aGluZyB0aGF0IGV2YWx1YXRlcyB0byB0cnVlIGFyZSB0cnV0aHkgKCBlLmcuIE5vbi1lbXB0eSBzdHJpbmdzIGFuZCBFbXB0eSBvYmplY3RzIGFyZSB0cnV0aHkuIClcbiAgICAgICAvLyB6ZXJvIGlzIHRydXRoeVxuICAgICAgIC8vIGZvciBhbm9ueW1vdXMgZnVuY3Rpb25zIHRoYXQgZGlkIG5vdCByZXR1cm5zIGEgY2h1bmssIHRydXRoaW5lc3MgaXMgZXZhbHVhdGVkIGJhc2VkIG9uIHRoZSByZXR1cm4gdmFsdWVcbiAgICAgIGlmIChib2R5KSB7XG4gICAgICAgIHJldHVybiBib2R5KHRoaXMsIGNvbnRleHQucHVzaChlbGVtKSk7XG4gICAgICB9XG4gICAgIC8vIG5vbmV4aXN0ZW50LCBzY2FsYXIgZmFsc2UgdmFsdWUsIHNjYWxhciBlbXB0eSBzdHJpbmcsIG51bGwsXG4gICAgIC8vIHVuZGVmaW5lZCBhcmUgYWxsIGZhbHN5XG4gICAgfSBlbHNlIGlmIChza2lwKSB7XG4gICAgICByZXR1cm4gc2tpcCh0aGlzLCBjb250ZXh0KTtcbiAgICB9XG4gICAgZHVzdC5sb2coJ1NlY3Rpb24gd2l0aG91dCBjb3JyZXNwb25kaW5nIGtleSBpbiB0ZW1wbGF0ZSBgJyArIGNvbnRleHQuZ2V0VGVtcGxhdGVOYW1lKCkgKyAnYCcsIERFQlVHKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBDaHVuay5wcm90b3R5cGUuZXhpc3RzID0gZnVuY3Rpb24oZWxlbSwgY29udGV4dCwgYm9kaWVzKSB7XG4gICAgdmFyIGJvZHkgPSBib2RpZXMuYmxvY2ssXG4gICAgICAgIHNraXAgPSBib2RpZXNbJ2Vsc2UnXTtcblxuICAgIGlmICghZHVzdC5pc0VtcHR5KGVsZW0pKSB7XG4gICAgICBpZiAoYm9keSkge1xuICAgICAgICByZXR1cm4gYm9keSh0aGlzLCBjb250ZXh0KTtcbiAgICAgIH1cbiAgICAgIGR1c3QubG9nKCdObyBibG9jayBmb3IgZXhpc3RzIGNoZWNrIGluIHRlbXBsYXRlIGAnICsgY29udGV4dC5nZXRUZW1wbGF0ZU5hbWUoKSArICdgJywgREVCVUcpO1xuICAgIH0gZWxzZSBpZiAoc2tpcCkge1xuICAgICAgcmV0dXJuIHNraXAodGhpcywgY29udGV4dCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIENodW5rLnByb3RvdHlwZS5ub3RleGlzdHMgPSBmdW5jdGlvbihlbGVtLCBjb250ZXh0LCBib2RpZXMpIHtcbiAgICB2YXIgYm9keSA9IGJvZGllcy5ibG9jayxcbiAgICAgICAgc2tpcCA9IGJvZGllc1snZWxzZSddO1xuXG4gICAgaWYgKGR1c3QuaXNFbXB0eShlbGVtKSkge1xuICAgICAgaWYgKGJvZHkpIHtcbiAgICAgICAgcmV0dXJuIGJvZHkodGhpcywgY29udGV4dCk7XG4gICAgICB9XG4gICAgICBkdXN0LmxvZygnTm8gYmxvY2sgZm9yIG5vdC1leGlzdHMgY2hlY2sgaW4gdGVtcGxhdGUgYCcgKyBjb250ZXh0LmdldFRlbXBsYXRlTmFtZSgpICsgJ2AnLCBERUJVRyk7XG4gICAgfSBlbHNlIGlmIChza2lwKSB7XG4gICAgICByZXR1cm4gc2tpcCh0aGlzLCBjb250ZXh0KTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgQ2h1bmsucHJvdG90eXBlLmJsb2NrID0gZnVuY3Rpb24oZWxlbSwgY29udGV4dCwgYm9kaWVzKSB7XG4gICAgdmFyIGJvZHkgPSBlbGVtIHx8IGJvZGllcy5ibG9jaztcblxuICAgIGlmIChib2R5KSB7XG4gICAgICByZXR1cm4gYm9keSh0aGlzLCBjb250ZXh0KTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgQ2h1bmsucHJvdG90eXBlLnBhcnRpYWwgPSBmdW5jdGlvbihlbGVtLCBjb250ZXh0LCBwYXJ0aWFsQ29udGV4dCwgcGFyYW1zKSB7XG4gICAgdmFyIGhlYWQ7XG5cbiAgICBpZihwYXJhbXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gQ29tcGF0aWJpbGl0eSBmb3IgPCAyLjcuMCB3aGVyZSBgcGFydGlhbENvbnRleHRgIGRpZCBub3QgZXhpc3RcbiAgICAgIHBhcmFtcyA9IHBhcnRpYWxDb250ZXh0O1xuICAgICAgcGFydGlhbENvbnRleHQgPSBjb250ZXh0O1xuICAgIH1cblxuICAgIGlmICghZHVzdC5pc0VtcHR5T2JqZWN0KHBhcmFtcykpIHtcbiAgICAgIHBhcnRpYWxDb250ZXh0ID0gcGFydGlhbENvbnRleHQuY2xvbmUoKTtcbiAgICAgIGhlYWQgPSBwYXJ0aWFsQ29udGV4dC5wb3AoKTtcbiAgICAgIHBhcnRpYWxDb250ZXh0ID0gcGFydGlhbENvbnRleHQucHVzaChwYXJhbXMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnB1c2goaGVhZCk7XG4gICAgfVxuXG4gICAgaWYgKGR1c3QuaXNUZW1wbGF0ZUZuKGVsZW0pKSB7XG4gICAgICAvLyBUaGUgZXZlbnR1YWwgcmVzdWx0IG9mIGV2YWx1YXRpbmcgYGVsZW1gIGlzIGEgcGFydGlhbCBuYW1lXG4gICAgICAvLyBMb2FkIHRoZSBwYXJ0aWFsIGFmdGVyIGdldHRpbmcgaXRzIG5hbWUgYW5kIGVuZCB0aGUgYXN5bmMgY2h1bmtcbiAgICAgIHJldHVybiB0aGlzLmNhcHR1cmUoZWxlbSwgY29udGV4dCwgZnVuY3Rpb24obmFtZSwgY2h1bmspIHtcbiAgICAgICAgcGFydGlhbENvbnRleHQudGVtcGxhdGVOYW1lID0gbmFtZTtcbiAgICAgICAgbG9hZChuYW1lLCBjaHVuaywgcGFydGlhbENvbnRleHQpLmVuZCgpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBhcnRpYWxDb250ZXh0LnRlbXBsYXRlTmFtZSA9IGVsZW07XG4gICAgICByZXR1cm4gbG9hZChlbGVtLCB0aGlzLCBwYXJ0aWFsQ29udGV4dCk7XG4gICAgfVxuICB9O1xuXG4gIENodW5rLnByb3RvdHlwZS5oZWxwZXIgPSBmdW5jdGlvbihuYW1lLCBjb250ZXh0LCBib2RpZXMsIHBhcmFtcywgYXV0bykge1xuICAgIHZhciBjaHVuayA9IHRoaXMsXG4gICAgICAgIGZpbHRlcnMgPSBwYXJhbXMuZmlsdGVycyxcbiAgICAgICAgcmV0O1xuXG4gICAgLy8gUHJlLTIuNy4xIGNvbXBhdDogaWYgYXV0byBpcyB1bmRlZmluZWQsIGl0J3MgYW4gb2xkIHRlbXBsYXRlLiBBdXRvbWF0aWNhbGx5IGVzY2FwZVxuICAgIGlmIChhdXRvID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGF1dG8gPSAnaCc7XG4gICAgfVxuXG4gICAgLy8gaGFuZGxlIGludmFsaWQgaGVscGVycywgc2ltaWxhciB0byBpbnZhbGlkIGZpbHRlcnNcbiAgICBpZihkdXN0LmhlbHBlcnNbbmFtZV0pIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldCA9IGR1c3QuaGVscGVyc1tuYW1lXShjaHVuaywgY29udGV4dCwgYm9kaWVzLCBwYXJhbXMpO1xuICAgICAgICBpZiAocmV0IGluc3RhbmNlb2YgQ2h1bmspIHtcbiAgICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgICB9XG4gICAgICAgIGlmKHR5cGVvZiBmaWx0ZXJzID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIGZpbHRlcnMgPSBmaWx0ZXJzLnNwbGl0KCd8Jyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFkdXN0LmlzRW1wdHlPYmplY3QoYm9kaWVzKSkge1xuICAgICAgICAgIHJldHVybiBjaHVuay5zZWN0aW9uKHJldCwgY29udGV4dCwgYm9kaWVzLCBwYXJhbXMpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEhlbHBlcnMgYWN0IHNsaWdodGx5IGRpZmZlcmVudGx5IGZyb20gZnVuY3Rpb25zIGluIGNvbnRleHQgaW4gdGhhdCB0aGV5IHdpbGwgYWN0IGFzXG4gICAgICAgIC8vIGEgcmVmZXJlbmNlIGlmIHRoZXkgYXJlIHNlbGYtY2xvc2luZyAoZHVlIHRvIGdyYW1tYXIgbGltaXRhdGlvbnMpXG4gICAgICAgIC8vIEluIHRoZSBDaHVuay5hd2FpdCBmdW5jdGlvbiB3ZSBjaGVjayB0byBtYWtlIHN1cmUgYm9kaWVzIGlzIG51bGwgYmVmb3JlIGFjdGluZyBhcyBhIHJlZmVyZW5jZVxuICAgICAgICByZXR1cm4gY2h1bmsucmVmZXJlbmNlKHJldCwgY29udGV4dCwgYXV0bywgZmlsdGVycyk7XG4gICAgICB9IGNhdGNoKGVycikge1xuICAgICAgICBkdXN0LmxvZygnRXJyb3IgaW4gaGVscGVyIGAnICsgbmFtZSArICdgOiAnICsgZXJyLm1lc3NhZ2UsIEVSUk9SKTtcbiAgICAgICAgcmV0dXJuIGNodW5rLnNldEVycm9yKGVycik7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGR1c3QubG9nKCdIZWxwZXIgYCcgKyBuYW1lICsgJ2AgZG9lcyBub3QgZXhpc3QnLCBXQVJOKTtcbiAgICAgIHJldHVybiBjaHVuaztcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFJlc2VydmUgYSBjaHVuayB0byBiZSBldmFsdWF0ZWQgb25jZSBhIHRoZW5hYmxlIGlzIHJlc29sdmVkIG9yIHJlamVjdGVkXG4gICAqIEBwYXJhbSB0aGVuYWJsZSB7VGhlbmFibGV9IHRoZSB0YXJnZXQgdGhlbmFibGUgdG8gYXdhaXRcbiAgICogQHBhcmFtIGNvbnRleHQge0NvbnRleHR9IGNvbnRleHQgdG8gdXNlIHRvIHJlbmRlciB0aGUgZGVmZXJyZWQgY2h1bmtcbiAgICogQHBhcmFtIGJvZGllcyB7T2JqZWN0fSBtdXN0IGNvbnRhaW4gYSBcImJvZHlcIiwgbWF5IGNvbnRhaW4gYW4gXCJlcnJvclwiXG4gICAqIEBwYXJhbSBhdXRvIHtTdHJpbmd9IGF1dG9tYXRpY2FsbHkgYXBwbHkgdGhpcyBmaWx0ZXIgaWYgdGhlIFRoZW5hYmxlIGlzIGEgcmVmZXJlbmNlXG4gICAqIEBwYXJhbSBmaWx0ZXJzIHtBcnJheX0gYXBwbHkgdGhlc2UgZmlsdGVycyBpZiB0aGUgVGhlbmFibGUgaXMgYSByZWZlcmVuY2VcbiAgICogQHJldHVybiB7Q2h1bmt9XG4gICAqL1xuICBDaHVuay5wcm90b3R5cGUuYXdhaXQgPSBmdW5jdGlvbih0aGVuYWJsZSwgY29udGV4dCwgYm9kaWVzLCBhdXRvLCBmaWx0ZXJzKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKGNodW5rKSB7XG4gICAgICB0aGVuYWJsZS50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgaWYgKGJvZGllcykge1xuICAgICAgICAgIGNodW5rID0gY2h1bmsuc2VjdGlvbihkYXRhLCBjb250ZXh0LCBib2RpZXMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIEFjdHVhbGx5IGEgcmVmZXJlbmNlLiBTZWxmLWNsb3Npbmcgc2VjdGlvbnMgZG9uJ3QgcmVuZGVyXG4gICAgICAgICAgY2h1bmsgPSBjaHVuay5yZWZlcmVuY2UoZGF0YSwgY29udGV4dCwgYXV0bywgZmlsdGVycyk7XG4gICAgICAgIH1cbiAgICAgICAgY2h1bmsuZW5kKCk7XG4gICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgdmFyIGVycm9yQm9keSA9IGJvZGllcyAmJiBib2RpZXMuZXJyb3I7XG4gICAgICAgIGlmKGVycm9yQm9keSkge1xuICAgICAgICAgIGNodW5rLnJlbmRlcihlcnJvckJvZHksIGNvbnRleHQucHVzaChlcnIpKS5lbmQoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkdXN0LmxvZygnVW5oYW5kbGVkIHByb21pc2UgcmVqZWN0aW9uIGluIGAnICsgY29udGV4dC5nZXRUZW1wbGF0ZU5hbWUoKSArICdgJywgSU5GTyk7XG4gICAgICAgICAgY2h1bmsuZW5kKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXNlcnZlIGEgY2h1bmsgdG8gYmUgZXZhbHVhdGVkIHdpdGggdGhlIGNvbnRlbnRzIG9mIGEgc3RyZWFtYWJsZS5cbiAgICogQ3VycmVudGx5IGFuIGVycm9yIGV2ZW50IHdpbGwgYm9tYiBvdXQgdGhlIHN0cmVhbS4gT25jZSBhbiBlcnJvclxuICAgKiBpcyByZWNlaXZlZCwgd2UgcHVzaCBpdCB0byBhbiB7OmVycm9yfSBibG9jayBpZiBvbmUgZXhpc3RzLCBhbmQgbG9nIG90aGVyd2lzZSxcbiAgICogdGhlbiBzdG9wIGxpc3RlbmluZyB0byB0aGUgc3RyZWFtLlxuICAgKiBAcGFyYW0gc3RyZWFtYWJsZSB7U3RyZWFtYWJsZX0gdGhlIHRhcmdldCBzdHJlYW1hYmxlIHRoYXQgd2lsbCBlbWl0IGV2ZW50c1xuICAgKiBAcGFyYW0gY29udGV4dCB7Q29udGV4dH0gY29udGV4dCB0byB1c2UgdG8gcmVuZGVyIGVhY2ggdGh1bmtcbiAgICogQHBhcmFtIGJvZGllcyB7T2JqZWN0fSBtdXN0IGNvbnRhaW4gYSBcImJvZHlcIiwgbWF5IGNvbnRhaW4gYW4gXCJlcnJvclwiXG4gICAqIEByZXR1cm4ge0NodW5rfVxuICAgKi9cbiAgQ2h1bmsucHJvdG90eXBlLnN0cmVhbSA9IGZ1bmN0aW9uKHN0cmVhbSwgY29udGV4dCwgYm9kaWVzLCBhdXRvLCBmaWx0ZXJzKSB7XG4gICAgdmFyIGJvZHkgPSBib2RpZXMgJiYgYm9kaWVzLmJsb2NrLFxuICAgICAgICBlcnJvckJvZHkgPSBib2RpZXMgJiYgYm9kaWVzLmVycm9yO1xuICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbihjaHVuaykge1xuICAgICAgdmFyIGVuZGVkID0gZmFsc2U7XG4gICAgICBzdHJlYW1cbiAgICAgICAgLm9uKCdkYXRhJywgZnVuY3Rpb24gZGF0YSh0aHVuaykge1xuICAgICAgICAgIGlmKGVuZGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmKGJvZHkpIHtcbiAgICAgICAgICAgIC8vIEZvcmsgYSBuZXcgY2h1bmsgb3V0IG9mIHRoZSBibG9ja3N0cmVhbSBzbyB0aGF0IHdlIGNhbiBmbHVzaCBpdCBpbmRlcGVuZGVudGx5XG4gICAgICAgICAgICBjaHVuayA9IGNodW5rLm1hcChmdW5jdGlvbihjaHVuaykge1xuICAgICAgICAgICAgICBjaHVuay5yZW5kZXIoYm9keSwgY29udGV4dC5wdXNoKHRodW5rKSkuZW5kKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2UgaWYoIWJvZGllcykge1xuICAgICAgICAgICAgLy8gV2hlbiBhY3R1YWxseSBhIHJlZmVyZW5jZSwgZG9uJ3QgZm9yaywganVzdCB3cml0ZSBpbnRvIHRoZSBtYXN0ZXIgYXN5bmMgY2h1bmtcbiAgICAgICAgICAgIGNodW5rID0gY2h1bmsucmVmZXJlbmNlKHRodW5rLCBjb250ZXh0LCBhdXRvLCBmaWx0ZXJzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIC5vbignZXJyb3InLCBmdW5jdGlvbiBlcnJvcihlcnIpIHtcbiAgICAgICAgICBpZihlbmRlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZihlcnJvckJvZHkpIHtcbiAgICAgICAgICAgIGNodW5rLnJlbmRlcihlcnJvckJvZHksIGNvbnRleHQucHVzaChlcnIpKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZHVzdC5sb2coJ1VuaGFuZGxlZCBzdHJlYW0gZXJyb3IgaW4gYCcgKyBjb250ZXh0LmdldFRlbXBsYXRlTmFtZSgpICsgJ2AnLCBJTkZPKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYoIWVuZGVkKSB7XG4gICAgICAgICAgICBlbmRlZCA9IHRydWU7XG4gICAgICAgICAgICBjaHVuay5lbmQoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIC5vbignZW5kJywgZnVuY3Rpb24gZW5kKCkge1xuICAgICAgICAgIGlmKCFlbmRlZCkge1xuICAgICAgICAgICAgZW5kZWQgPSB0cnVlO1xuICAgICAgICAgICAgY2h1bmsuZW5kKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICBDaHVuay5wcm90b3R5cGUuY2FwdHVyZSA9IGZ1bmN0aW9uKGJvZHksIGNvbnRleHQsIGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKGNodW5rKSB7XG4gICAgICB2YXIgc3R1YiA9IG5ldyBTdHViKGZ1bmN0aW9uKGVyciwgb3V0KSB7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICBjaHVuay5zZXRFcnJvcihlcnIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNhbGxiYWNrKG91dCwgY2h1bmspO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGJvZHkoc3R1Yi5oZWFkLCBjb250ZXh0KS5lbmQoKTtcbiAgICB9KTtcbiAgfTtcblxuICBDaHVuay5wcm90b3R5cGUuc2V0RXJyb3IgPSBmdW5jdGlvbihlcnIpIHtcbiAgICB0aGlzLmVycm9yID0gZXJyO1xuICAgIHRoaXMucm9vdC5mbHVzaCgpO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8vIENodW5rIGFsaWFzZXNcbiAgZm9yKHZhciBmIGluIENodW5rLnByb3RvdHlwZSkge1xuICAgIGlmKGR1c3QuX2FsaWFzZXNbZl0pIHtcbiAgICAgIENodW5rLnByb3RvdHlwZVtkdXN0Ll9hbGlhc2VzW2ZdXSA9IENodW5rLnByb3RvdHlwZVtmXTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBUYXAoaGVhZCwgdGFpbCkge1xuICAgIHRoaXMuaGVhZCA9IGhlYWQ7XG4gICAgdGhpcy50YWlsID0gdGFpbDtcbiAgfVxuXG4gIFRhcC5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uKHRhcCkge1xuICAgIHJldHVybiBuZXcgVGFwKHRhcCwgdGhpcyk7XG4gIH07XG5cbiAgVGFwLnByb3RvdHlwZS5nbyA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgdmFyIHRhcCA9IHRoaXM7XG5cbiAgICB3aGlsZSh0YXApIHtcbiAgICAgIHZhbHVlID0gdGFwLmhlYWQodmFsdWUpO1xuICAgICAgdGFwID0gdGFwLnRhaWw7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbiAgfTtcblxuICB2YXIgSENIQVJTID0gL1smPD5cIiddLyxcbiAgICAgIEFNUCAgICA9IC8mL2csXG4gICAgICBMVCAgICAgPSAvPC9nLFxuICAgICAgR1QgICAgID0gLz4vZyxcbiAgICAgIFFVT1QgICA9IC9cXFwiL2csXG4gICAgICBTUVVPVCAgPSAvXFwnL2c7XG5cbiAgZHVzdC5lc2NhcGVIdG1sID0gZnVuY3Rpb24ocykge1xuICAgIGlmICh0eXBlb2YgcyA9PT0gXCJzdHJpbmdcIiB8fCAocyAmJiB0eXBlb2Ygcy50b1N0cmluZyA9PT0gXCJmdW5jdGlvblwiKSkge1xuICAgICAgaWYgKHR5cGVvZiBzICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHMgPSBzLnRvU3RyaW5nKCk7XG4gICAgICB9XG4gICAgICBpZiAoIUhDSEFSUy50ZXN0KHMpKSB7XG4gICAgICAgIHJldHVybiBzO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHMucmVwbGFjZShBTVAsJyZhbXA7JykucmVwbGFjZShMVCwnJmx0OycpLnJlcGxhY2UoR1QsJyZndDsnKS5yZXBsYWNlKFFVT1QsJyZxdW90OycpLnJlcGxhY2UoU1FVT1QsICcmIzM5OycpO1xuICAgIH1cbiAgICByZXR1cm4gcztcbiAgfTtcblxuICB2YXIgQlMgPSAvXFxcXC9nLFxuICAgICAgRlMgPSAvXFwvL2csXG4gICAgICBDUiA9IC9cXHIvZyxcbiAgICAgIExTID0gL1xcdTIwMjgvZyxcbiAgICAgIFBTID0gL1xcdTIwMjkvZyxcbiAgICAgIE5MID0gL1xcbi9nLFxuICAgICAgTEYgPSAvXFxmL2csXG4gICAgICBTUSA9IC8nL2csXG4gICAgICBEUSA9IC9cIi9nLFxuICAgICAgVEIgPSAvXFx0L2c7XG5cbiAgZHVzdC5lc2NhcGVKcyA9IGZ1bmN0aW9uKHMpIHtcbiAgICBpZiAodHlwZW9mIHMgPT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4gc1xuICAgICAgICAucmVwbGFjZShCUywgJ1xcXFxcXFxcJylcbiAgICAgICAgLnJlcGxhY2UoRlMsICdcXFxcLycpXG4gICAgICAgIC5yZXBsYWNlKERRLCAnXFxcXFwiJylcbiAgICAgICAgLnJlcGxhY2UoU1EsICdcXFxcXFwnJylcbiAgICAgICAgLnJlcGxhY2UoQ1IsICdcXFxccicpXG4gICAgICAgIC5yZXBsYWNlKExTLCAnXFxcXHUyMDI4JylcbiAgICAgICAgLnJlcGxhY2UoUFMsICdcXFxcdTIwMjknKVxuICAgICAgICAucmVwbGFjZShOTCwgJ1xcXFxuJylcbiAgICAgICAgLnJlcGxhY2UoTEYsICdcXFxcZicpXG4gICAgICAgIC5yZXBsYWNlKFRCLCAnXFxcXHQnKTtcbiAgICB9XG4gICAgcmV0dXJuIHM7XG4gIH07XG5cbiAgZHVzdC5lc2NhcGVKU09OID0gZnVuY3Rpb24obykge1xuICAgIGlmICghSlNPTikge1xuICAgICAgZHVzdC5sb2coJ0pTT04gaXMgdW5kZWZpbmVkOyBjb3VsZCBub3QgZXNjYXBlIGAnICsgbyArICdgJywgV0FSTik7XG4gICAgICByZXR1cm4gbztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KG8pXG4gICAgICAgIC5yZXBsYWNlKExTLCAnXFxcXHUyMDI4JylcbiAgICAgICAgLnJlcGxhY2UoUFMsICdcXFxcdTIwMjknKVxuICAgICAgICAucmVwbGFjZShMVCwgJ1xcXFx1MDAzYycpO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gZHVzdDtcblxufSkpO1xuIiwiLyoqXG4qIEBwcmVzZXJ2ZSBIVE1MNSBTaGl2IDMuNy4zIHwgQGFmYXJrYXMgQGpkYWx0b24gQGpvbl9uZWFsIEByZW0gfCBNSVQvR1BMMiBMaWNlbnNlZFxuKi9cbjsoZnVuY3Rpb24od2luZG93LCBkb2N1bWVudCkge1xuLypqc2hpbnQgZXZpbDp0cnVlICovXG4gIC8qKiB2ZXJzaW9uICovXG4gIHZhciB2ZXJzaW9uID0gJzMuNy4zLXByZSc7XG5cbiAgLyoqIFByZXNldCBvcHRpb25zICovXG4gIHZhciBvcHRpb25zID0gd2luZG93Lmh0bWw1IHx8IHt9O1xuXG4gIC8qKiBVc2VkIHRvIHNraXAgcHJvYmxlbSBlbGVtZW50cyAqL1xuICB2YXIgcmVTa2lwID0gL148fF4oPzpidXR0b258bWFwfHNlbGVjdHx0ZXh0YXJlYXxvYmplY3R8aWZyYW1lfG9wdGlvbnxvcHRncm91cCkkL2k7XG5cbiAgLyoqIE5vdCBhbGwgZWxlbWVudHMgY2FuIGJlIGNsb25lZCBpbiBJRSAqKi9cbiAgdmFyIHNhdmVDbG9uZXMgPSAvXig/OmF8Ynxjb2RlfGRpdnxmaWVsZHNldHxoMXxoMnxoM3xoNHxoNXxoNnxpfGxhYmVsfGxpfG9sfHB8cXxzcGFufHN0cm9uZ3xzdHlsZXx0YWJsZXx0Ym9keXx0ZHx0aHx0cnx1bCkkL2k7XG5cbiAgLyoqIERldGVjdCB3aGV0aGVyIHRoZSBicm93c2VyIHN1cHBvcnRzIGRlZmF1bHQgaHRtbDUgc3R5bGVzICovXG4gIHZhciBzdXBwb3J0c0h0bWw1U3R5bGVzO1xuXG4gIC8qKiBOYW1lIG9mIHRoZSBleHBhbmRvLCB0byB3b3JrIHdpdGggbXVsdGlwbGUgZG9jdW1lbnRzIG9yIHRvIHJlLXNoaXYgb25lIGRvY3VtZW50ICovXG4gIHZhciBleHBhbmRvID0gJ19odG1sNXNoaXYnO1xuXG4gIC8qKiBUaGUgaWQgZm9yIHRoZSB0aGUgZG9jdW1lbnRzIGV4cGFuZG8gKi9cbiAgdmFyIGV4cGFuSUQgPSAwO1xuXG4gIC8qKiBDYWNoZWQgZGF0YSBmb3IgZWFjaCBkb2N1bWVudCAqL1xuICB2YXIgZXhwYW5kb0RhdGEgPSB7fTtcblxuICAvKiogRGV0ZWN0IHdoZXRoZXIgdGhlIGJyb3dzZXIgc3VwcG9ydHMgdW5rbm93biBlbGVtZW50cyAqL1xuICB2YXIgc3VwcG9ydHNVbmtub3duRWxlbWVudHM7XG5cbiAgKGZ1bmN0aW9uKCkge1xuICAgIHRyeSB7XG4gICAgICAgIHZhciBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgICBhLmlubmVySFRNTCA9ICc8eHl6PjwveHl6Pic7XG4gICAgICAgIC8vaWYgdGhlIGhpZGRlbiBwcm9wZXJ0eSBpcyBpbXBsZW1lbnRlZCB3ZSBjYW4gYXNzdW1lLCB0aGF0IHRoZSBicm93c2VyIHN1cHBvcnRzIGJhc2ljIEhUTUw1IFN0eWxlc1xuICAgICAgICBzdXBwb3J0c0h0bWw1U3R5bGVzID0gKCdoaWRkZW4nIGluIGEpO1xuXG4gICAgICAgIHN1cHBvcnRzVW5rbm93bkVsZW1lbnRzID0gYS5jaGlsZE5vZGVzLmxlbmd0aCA9PSAxIHx8IChmdW5jdGlvbigpIHtcbiAgICAgICAgICAvLyBhc3NpZ24gYSBmYWxzZSBwb3NpdGl2ZSBpZiB1bmFibGUgdG8gc2hpdlxuICAgICAgICAgIChkb2N1bWVudC5jcmVhdGVFbGVtZW50KSgnYScpO1xuICAgICAgICAgIHZhciBmcmFnID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICB0eXBlb2YgZnJhZy5jbG9uZU5vZGUgPT0gJ3VuZGVmaW5lZCcgfHxcbiAgICAgICAgICAgIHR5cGVvZiBmcmFnLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQgPT0gJ3VuZGVmaW5lZCcgfHxcbiAgICAgICAgICAgIHR5cGVvZiBmcmFnLmNyZWF0ZUVsZW1lbnQgPT0gJ3VuZGVmaW5lZCdcbiAgICAgICAgICApO1xuICAgICAgICB9KCkpO1xuICAgIH0gY2F0Y2goZSkge1xuICAgICAgLy8gYXNzaWduIGEgZmFsc2UgcG9zaXRpdmUgaWYgZGV0ZWN0aW9uIGZhaWxzID0+IHVuYWJsZSB0byBzaGl2XG4gICAgICBzdXBwb3J0c0h0bWw1U3R5bGVzID0gdHJ1ZTtcbiAgICAgIHN1cHBvcnRzVW5rbm93bkVsZW1lbnRzID0gdHJ1ZTtcbiAgICB9XG5cbiAgfSgpKTtcblxuICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIHN0eWxlIHNoZWV0IHdpdGggdGhlIGdpdmVuIENTUyB0ZXh0IGFuZCBhZGRzIGl0IHRvIHRoZSBkb2N1bWVudC5cbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtEb2N1bWVudH0gb3duZXJEb2N1bWVudCBUaGUgZG9jdW1lbnQuXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBjc3NUZXh0IFRoZSBDU1MgdGV4dC5cbiAgICogQHJldHVybnMge1N0eWxlU2hlZXR9IFRoZSBzdHlsZSBlbGVtZW50LlxuICAgKi9cbiAgZnVuY3Rpb24gYWRkU3R5bGVTaGVldChvd25lckRvY3VtZW50LCBjc3NUZXh0KSB7XG4gICAgdmFyIHAgPSBvd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKSxcbiAgICAgICAgcGFyZW50ID0gb3duZXJEb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZCcpWzBdIHx8IG93bmVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuXG4gICAgcC5pbm5lckhUTUwgPSAneDxzdHlsZT4nICsgY3NzVGV4dCArICc8L3N0eWxlPic7XG4gICAgcmV0dXJuIHBhcmVudC5pbnNlcnRCZWZvcmUocC5sYXN0Q2hpbGQsIHBhcmVudC5maXJzdENoaWxkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSB2YWx1ZSBvZiBgaHRtbDUuZWxlbWVudHNgIGFzIGFuIGFycmF5LlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcmV0dXJucyB7QXJyYXl9IEFuIGFycmF5IG9mIHNoaXZlZCBlbGVtZW50IG5vZGUgbmFtZXMuXG4gICAqL1xuICBmdW5jdGlvbiBnZXRFbGVtZW50cygpIHtcbiAgICB2YXIgZWxlbWVudHMgPSBodG1sNS5lbGVtZW50cztcbiAgICByZXR1cm4gdHlwZW9mIGVsZW1lbnRzID09ICdzdHJpbmcnID8gZWxlbWVudHMuc3BsaXQoJyAnKSA6IGVsZW1lbnRzO1xuICB9XG5cbiAgLyoqXG4gICAqIEV4dGVuZHMgdGhlIGJ1aWx0LWluIGxpc3Qgb2YgaHRtbDUgZWxlbWVudHNcbiAgICogQG1lbWJlck9mIGh0bWw1XG4gICAqIEBwYXJhbSB7U3RyaW5nfEFycmF5fSBuZXdFbGVtZW50cyB3aGl0ZXNwYWNlIHNlcGFyYXRlZCBsaXN0IG9yIGFycmF5IG9mIG5ldyBlbGVtZW50IG5hbWVzIHRvIHNoaXZcbiAgICogQHBhcmFtIHtEb2N1bWVudH0gb3duZXJEb2N1bWVudCBUaGUgY29udGV4dCBkb2N1bWVudC5cbiAgICovXG4gIGZ1bmN0aW9uIGFkZEVsZW1lbnRzKG5ld0VsZW1lbnRzLCBvd25lckRvY3VtZW50KSB7XG4gICAgdmFyIGVsZW1lbnRzID0gaHRtbDUuZWxlbWVudHM7XG4gICAgaWYodHlwZW9mIGVsZW1lbnRzICE9ICdzdHJpbmcnKXtcbiAgICAgIGVsZW1lbnRzID0gZWxlbWVudHMuam9pbignICcpO1xuICAgIH1cbiAgICBpZih0eXBlb2YgbmV3RWxlbWVudHMgIT0gJ3N0cmluZycpe1xuICAgICAgbmV3RWxlbWVudHMgPSBuZXdFbGVtZW50cy5qb2luKCcgJyk7XG4gICAgfVxuICAgIGh0bWw1LmVsZW1lbnRzID0gZWxlbWVudHMgKycgJysgbmV3RWxlbWVudHM7XG4gICAgc2hpdkRvY3VtZW50KG93bmVyRG9jdW1lbnQpO1xuICB9XG5cbiAgIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBkYXRhIGFzc29jaWF0ZWQgdG8gdGhlIGdpdmVuIGRvY3VtZW50XG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7RG9jdW1lbnR9IG93bmVyRG9jdW1lbnQgVGhlIGRvY3VtZW50LlxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBBbiBvYmplY3Qgb2YgZGF0YS5cbiAgICovXG4gIGZ1bmN0aW9uIGdldEV4cGFuZG9EYXRhKG93bmVyRG9jdW1lbnQpIHtcbiAgICB2YXIgZGF0YSA9IGV4cGFuZG9EYXRhW293bmVyRG9jdW1lbnRbZXhwYW5kb11dO1xuICAgIGlmICghZGF0YSkge1xuICAgICAgICBkYXRhID0ge307XG4gICAgICAgIGV4cGFuSUQrKztcbiAgICAgICAgb3duZXJEb2N1bWVudFtleHBhbmRvXSA9IGV4cGFuSUQ7XG4gICAgICAgIGV4cGFuZG9EYXRhW2V4cGFuSURdID0gZGF0YTtcbiAgICB9XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cblxuICAvKipcbiAgICogcmV0dXJucyBhIHNoaXZlZCBlbGVtZW50IGZvciB0aGUgZ2l2ZW4gbm9kZU5hbWUgYW5kIGRvY3VtZW50XG4gICAqIEBtZW1iZXJPZiBodG1sNVxuICAgKiBAcGFyYW0ge1N0cmluZ30gbm9kZU5hbWUgbmFtZSBvZiB0aGUgZWxlbWVudFxuICAgKiBAcGFyYW0ge0RvY3VtZW50fSBvd25lckRvY3VtZW50IFRoZSBjb250ZXh0IGRvY3VtZW50LlxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgc2hpdmVkIGVsZW1lbnQuXG4gICAqL1xuICBmdW5jdGlvbiBjcmVhdGVFbGVtZW50KG5vZGVOYW1lLCBvd25lckRvY3VtZW50LCBkYXRhKXtcbiAgICBpZiAoIW93bmVyRG9jdW1lbnQpIHtcbiAgICAgICAgb3duZXJEb2N1bWVudCA9IGRvY3VtZW50O1xuICAgIH1cbiAgICBpZihzdXBwb3J0c1Vua25vd25FbGVtZW50cyl7XG4gICAgICAgIHJldHVybiBvd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQobm9kZU5hbWUpO1xuICAgIH1cbiAgICBpZiAoIWRhdGEpIHtcbiAgICAgICAgZGF0YSA9IGdldEV4cGFuZG9EYXRhKG93bmVyRG9jdW1lbnQpO1xuICAgIH1cbiAgICB2YXIgbm9kZTtcblxuICAgIGlmIChkYXRhLmNhY2hlW25vZGVOYW1lXSkge1xuICAgICAgICBub2RlID0gZGF0YS5jYWNoZVtub2RlTmFtZV0uY2xvbmVOb2RlKCk7XG4gICAgfSBlbHNlIGlmIChzYXZlQ2xvbmVzLnRlc3Qobm9kZU5hbWUpKSB7XG4gICAgICAgIG5vZGUgPSAoZGF0YS5jYWNoZVtub2RlTmFtZV0gPSBkYXRhLmNyZWF0ZUVsZW0obm9kZU5hbWUpKS5jbG9uZU5vZGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBub2RlID0gZGF0YS5jcmVhdGVFbGVtKG5vZGVOYW1lKTtcbiAgICB9XG5cbiAgICAvLyBBdm9pZCBhZGRpbmcgc29tZSBlbGVtZW50cyB0byBmcmFnbWVudHMgaW4gSUUgPCA5IGJlY2F1c2VcbiAgICAvLyAqIEF0dHJpYnV0ZXMgbGlrZSBgbmFtZWAgb3IgYHR5cGVgIGNhbm5vdCBiZSBzZXQvY2hhbmdlZCBvbmNlIGFuIGVsZW1lbnRcbiAgICAvLyAgIGlzIGluc2VydGVkIGludG8gYSBkb2N1bWVudC9mcmFnbWVudFxuICAgIC8vICogTGluayBlbGVtZW50cyB3aXRoIGBzcmNgIGF0dHJpYnV0ZXMgdGhhdCBhcmUgaW5hY2Nlc3NpYmxlLCBhcyB3aXRoXG4gICAgLy8gICBhIDQwMyByZXNwb25zZSwgd2lsbCBjYXVzZSB0aGUgdGFiL3dpbmRvdyB0byBjcmFzaFxuICAgIC8vICogU2NyaXB0IGVsZW1lbnRzIGFwcGVuZGVkIHRvIGZyYWdtZW50cyB3aWxsIGV4ZWN1dGUgd2hlbiB0aGVpciBgc3JjYFxuICAgIC8vICAgb3IgYHRleHRgIHByb3BlcnR5IGlzIHNldFxuICAgIHJldHVybiBub2RlLmNhbkhhdmVDaGlsZHJlbiAmJiAhcmVTa2lwLnRlc3Qobm9kZU5hbWUpICYmICFub2RlLnRhZ1VybiA/IGRhdGEuZnJhZy5hcHBlbmRDaGlsZChub2RlKSA6IG5vZGU7XG4gIH1cblxuICAvKipcbiAgICogcmV0dXJucyBhIHNoaXZlZCBEb2N1bWVudEZyYWdtZW50IGZvciB0aGUgZ2l2ZW4gZG9jdW1lbnRcbiAgICogQG1lbWJlck9mIGh0bWw1XG4gICAqIEBwYXJhbSB7RG9jdW1lbnR9IG93bmVyRG9jdW1lbnQgVGhlIGNvbnRleHQgZG9jdW1lbnQuXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSBzaGl2ZWQgRG9jdW1lbnRGcmFnbWVudC5cbiAgICovXG4gIGZ1bmN0aW9uIGNyZWF0ZURvY3VtZW50RnJhZ21lbnQob3duZXJEb2N1bWVudCwgZGF0YSl7XG4gICAgaWYgKCFvd25lckRvY3VtZW50KSB7XG4gICAgICAgIG93bmVyRG9jdW1lbnQgPSBkb2N1bWVudDtcbiAgICB9XG4gICAgaWYoc3VwcG9ydHNVbmtub3duRWxlbWVudHMpe1xuICAgICAgICByZXR1cm4gb3duZXJEb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG4gICAgfVxuICAgIGRhdGEgPSBkYXRhIHx8IGdldEV4cGFuZG9EYXRhKG93bmVyRG9jdW1lbnQpO1xuICAgIHZhciBjbG9uZSA9IGRhdGEuZnJhZy5jbG9uZU5vZGUoKSxcbiAgICAgICAgaSA9IDAsXG4gICAgICAgIGVsZW1zID0gZ2V0RWxlbWVudHMoKSxcbiAgICAgICAgbCA9IGVsZW1zLmxlbmd0aDtcbiAgICBmb3IoO2k8bDtpKyspe1xuICAgICAgICBjbG9uZS5jcmVhdGVFbGVtZW50KGVsZW1zW2ldKTtcbiAgICB9XG4gICAgcmV0dXJuIGNsb25lO1xuICB9XG5cbiAgLyoqXG4gICAqIFNoaXZzIHRoZSBgY3JlYXRlRWxlbWVudGAgYW5kIGBjcmVhdGVEb2N1bWVudEZyYWdtZW50YCBtZXRob2RzIG9mIHRoZSBkb2N1bWVudC5cbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtEb2N1bWVudHxEb2N1bWVudEZyYWdtZW50fSBvd25lckRvY3VtZW50IFRoZSBkb2N1bWVudC5cbiAgICogQHBhcmFtIHtPYmplY3R9IGRhdGEgb2YgdGhlIGRvY3VtZW50LlxuICAgKi9cbiAgZnVuY3Rpb24gc2hpdk1ldGhvZHMob3duZXJEb2N1bWVudCwgZGF0YSkge1xuICAgIGlmICghZGF0YS5jYWNoZSkge1xuICAgICAgICBkYXRhLmNhY2hlID0ge307XG4gICAgICAgIGRhdGEuY3JlYXRlRWxlbSA9IG93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudDtcbiAgICAgICAgZGF0YS5jcmVhdGVGcmFnID0gb3duZXJEb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50O1xuICAgICAgICBkYXRhLmZyYWcgPSBkYXRhLmNyZWF0ZUZyYWcoKTtcbiAgICB9XG5cblxuICAgIG93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCA9IGZ1bmN0aW9uKG5vZGVOYW1lKSB7XG4gICAgICAvL2Fib3J0IHNoaXZcbiAgICAgIGlmICghaHRtbDUuc2hpdk1ldGhvZHMpIHtcbiAgICAgICAgICByZXR1cm4gZGF0YS5jcmVhdGVFbGVtKG5vZGVOYW1lKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjcmVhdGVFbGVtZW50KG5vZGVOYW1lLCBvd25lckRvY3VtZW50LCBkYXRhKTtcbiAgICB9O1xuXG4gICAgb3duZXJEb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50ID0gRnVuY3Rpb24oJ2gsZicsICdyZXR1cm4gZnVuY3Rpb24oKXsnICtcbiAgICAgICd2YXIgbj1mLmNsb25lTm9kZSgpLGM9bi5jcmVhdGVFbGVtZW50OycgK1xuICAgICAgJ2guc2hpdk1ldGhvZHMmJignICtcbiAgICAgICAgLy8gdW5yb2xsIHRoZSBgY3JlYXRlRWxlbWVudGAgY2FsbHNcbiAgICAgICAgZ2V0RWxlbWVudHMoKS5qb2luKCkucmVwbGFjZSgvW1xcd1xcLTpdKy9nLCBmdW5jdGlvbihub2RlTmFtZSkge1xuICAgICAgICAgIGRhdGEuY3JlYXRlRWxlbShub2RlTmFtZSk7XG4gICAgICAgICAgZGF0YS5mcmFnLmNyZWF0ZUVsZW1lbnQobm9kZU5hbWUpO1xuICAgICAgICAgIHJldHVybiAnYyhcIicgKyBub2RlTmFtZSArICdcIiknO1xuICAgICAgICB9KSArXG4gICAgICAnKTtyZXR1cm4gbn0nXG4gICAgKShodG1sNSwgZGF0YS5mcmFnKTtcbiAgfVxuXG4gIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gIC8qKlxuICAgKiBTaGl2cyB0aGUgZ2l2ZW4gZG9jdW1lbnQuXG4gICAqIEBtZW1iZXJPZiBodG1sNVxuICAgKiBAcGFyYW0ge0RvY3VtZW50fSBvd25lckRvY3VtZW50IFRoZSBkb2N1bWVudCB0byBzaGl2LlxuICAgKiBAcmV0dXJucyB7RG9jdW1lbnR9IFRoZSBzaGl2ZWQgZG9jdW1lbnQuXG4gICAqL1xuICBmdW5jdGlvbiBzaGl2RG9jdW1lbnQob3duZXJEb2N1bWVudCkge1xuICAgIGlmICghb3duZXJEb2N1bWVudCkge1xuICAgICAgICBvd25lckRvY3VtZW50ID0gZG9jdW1lbnQ7XG4gICAgfVxuICAgIHZhciBkYXRhID0gZ2V0RXhwYW5kb0RhdGEob3duZXJEb2N1bWVudCk7XG5cbiAgICBpZiAoaHRtbDUuc2hpdkNTUyAmJiAhc3VwcG9ydHNIdG1sNVN0eWxlcyAmJiAhZGF0YS5oYXNDU1MpIHtcbiAgICAgIGRhdGEuaGFzQ1NTID0gISFhZGRTdHlsZVNoZWV0KG93bmVyRG9jdW1lbnQsXG4gICAgICAgIC8vIGNvcnJlY3RzIGJsb2NrIGRpc3BsYXkgbm90IGRlZmluZWQgaW4gSUU2LzcvOC85XG4gICAgICAgICdhcnRpY2xlLGFzaWRlLGRpYWxvZyxmaWdjYXB0aW9uLGZpZ3VyZSxmb290ZXIsaGVhZGVyLGhncm91cCxtYWluLG5hdixzZWN0aW9ue2Rpc3BsYXk6YmxvY2t9JyArXG4gICAgICAgIC8vIGFkZHMgc3R5bGluZyBub3QgcHJlc2VudCBpbiBJRTYvNy84LzlcbiAgICAgICAgJ21hcmt7YmFja2dyb3VuZDojRkYwO2NvbG9yOiMwMDB9JyArXG4gICAgICAgIC8vIGhpZGVzIG5vbi1yZW5kZXJlZCBlbGVtZW50c1xuICAgICAgICAndGVtcGxhdGV7ZGlzcGxheTpub25lfSdcbiAgICAgICk7XG4gICAgfVxuICAgIGlmICghc3VwcG9ydHNVbmtub3duRWxlbWVudHMpIHtcbiAgICAgIHNoaXZNZXRob2RzKG93bmVyRG9jdW1lbnQsIGRhdGEpO1xuICAgIH1cbiAgICByZXR1cm4gb3duZXJEb2N1bWVudDtcbiAgfVxuXG4gIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gIC8qKlxuICAgKiBUaGUgYGh0bWw1YCBvYmplY3QgaXMgZXhwb3NlZCBzbyB0aGF0IG1vcmUgZWxlbWVudHMgY2FuIGJlIHNoaXZlZCBhbmRcbiAgICogZXhpc3Rpbmcgc2hpdmluZyBjYW4gYmUgZGV0ZWN0ZWQgb24gaWZyYW1lcy5cbiAgICogQHR5cGUgT2JqZWN0XG4gICAqIEBleGFtcGxlXG4gICAqXG4gICAqIC8vIG9wdGlvbnMgY2FuIGJlIGNoYW5nZWQgYmVmb3JlIHRoZSBzY3JpcHQgaXMgaW5jbHVkZWRcbiAgICogaHRtbDUgPSB7ICdlbGVtZW50cyc6ICdtYXJrIHNlY3Rpb24nLCAnc2hpdkNTUyc6IGZhbHNlLCAnc2hpdk1ldGhvZHMnOiBmYWxzZSB9O1xuICAgKi9cbiAgdmFyIGh0bWw1ID0ge1xuXG4gICAgLyoqXG4gICAgICogQW4gYXJyYXkgb3Igc3BhY2Ugc2VwYXJhdGVkIHN0cmluZyBvZiBub2RlIG5hbWVzIG9mIHRoZSBlbGVtZW50cyB0byBzaGl2LlxuICAgICAqIEBtZW1iZXJPZiBodG1sNVxuICAgICAqIEB0eXBlIEFycmF5fFN0cmluZ1xuICAgICAqL1xuICAgICdlbGVtZW50cyc6IG9wdGlvbnMuZWxlbWVudHMgfHwgJ2FiYnIgYXJ0aWNsZSBhc2lkZSBhdWRpbyBiZGkgY2FudmFzIGRhdGEgZGF0YWxpc3QgZGV0YWlscyBkaWFsb2cgZmlnY2FwdGlvbiBmaWd1cmUgZm9vdGVyIGhlYWRlciBoZ3JvdXAgbWFpbiBtYXJrIG1ldGVyIG5hdiBvdXRwdXQgcGljdHVyZSBwcm9ncmVzcyBzZWN0aW9uIHN1bW1hcnkgdGVtcGxhdGUgdGltZSB2aWRlbycsXG5cbiAgICAvKipcbiAgICAgKiBjdXJyZW50IHZlcnNpb24gb2YgaHRtbDVzaGl2XG4gICAgICovXG4gICAgJ3ZlcnNpb24nOiB2ZXJzaW9uLFxuXG4gICAgLyoqXG4gICAgICogQSBmbGFnIHRvIGluZGljYXRlIHRoYXQgdGhlIEhUTUw1IHN0eWxlIHNoZWV0IHNob3VsZCBiZSBpbnNlcnRlZC5cbiAgICAgKiBAbWVtYmVyT2YgaHRtbDVcbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICovXG4gICAgJ3NoaXZDU1MnOiAob3B0aW9ucy5zaGl2Q1NTICE9PSBmYWxzZSksXG5cbiAgICAvKipcbiAgICAgKiBJcyBlcXVhbCB0byB0cnVlIGlmIGEgYnJvd3NlciBzdXBwb3J0cyBjcmVhdGluZyB1bmtub3duL0hUTUw1IGVsZW1lbnRzXG4gICAgICogQG1lbWJlck9mIGh0bWw1XG4gICAgICogQHR5cGUgYm9vbGVhblxuICAgICAqL1xuICAgICdzdXBwb3J0c1Vua25vd25FbGVtZW50cyc6IHN1cHBvcnRzVW5rbm93bkVsZW1lbnRzLFxuXG4gICAgLyoqXG4gICAgICogQSBmbGFnIHRvIGluZGljYXRlIHRoYXQgdGhlIGRvY3VtZW50J3MgYGNyZWF0ZUVsZW1lbnRgIGFuZCBgY3JlYXRlRG9jdW1lbnRGcmFnbWVudGBcbiAgICAgKiBtZXRob2RzIHNob3VsZCBiZSBvdmVyd3JpdHRlbi5cbiAgICAgKiBAbWVtYmVyT2YgaHRtbDVcbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICovXG4gICAgJ3NoaXZNZXRob2RzJzogKG9wdGlvbnMuc2hpdk1ldGhvZHMgIT09IGZhbHNlKSxcblxuICAgIC8qKlxuICAgICAqIEEgc3RyaW5nIHRvIGRlc2NyaWJlIHRoZSB0eXBlIG9mIGBodG1sNWAgb2JqZWN0IChcImRlZmF1bHRcIiBvciBcImRlZmF1bHQgcHJpbnRcIikuXG4gICAgICogQG1lbWJlck9mIGh0bWw1XG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICovXG4gICAgJ3R5cGUnOiAnZGVmYXVsdCcsXG5cbiAgICAvLyBzaGl2cyB0aGUgZG9jdW1lbnQgYWNjb3JkaW5nIHRvIHRoZSBzcGVjaWZpZWQgYGh0bWw1YCBvYmplY3Qgb3B0aW9uc1xuICAgICdzaGl2RG9jdW1lbnQnOiBzaGl2RG9jdW1lbnQsXG5cbiAgICAvL2NyZWF0ZXMgYSBzaGl2ZWQgZWxlbWVudFxuICAgIGNyZWF0ZUVsZW1lbnQ6IGNyZWF0ZUVsZW1lbnQsXG5cbiAgICAvL2NyZWF0ZXMgYSBzaGl2ZWQgZG9jdW1lbnRGcmFnbWVudFxuICAgIGNyZWF0ZURvY3VtZW50RnJhZ21lbnQ6IGNyZWF0ZURvY3VtZW50RnJhZ21lbnQsXG5cbiAgICAvL2V4dGVuZHMgbGlzdCBvZiBlbGVtZW50c1xuICAgIGFkZEVsZW1lbnRzOiBhZGRFbGVtZW50c1xuICB9O1xuXG4gIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gIC8vIGV4cG9zZSBodG1sNVxuICB3aW5kb3cuaHRtbDUgPSBodG1sNTtcblxuICAvLyBzaGl2IHRoZSBkb2N1bWVudFxuICBzaGl2RG9jdW1lbnQoZG9jdW1lbnQpO1xuXG4gIGlmKHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMpe1xuICAgIG1vZHVsZS5leHBvcnRzID0gaHRtbDU7XG4gIH1cblxufSh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDogdGhpcywgZG9jdW1lbnQpKTtcbiIsIlxyXG52YXIgTCA9IHtcclxuXHR2ZXJzaW9uOiAnMS4wLjEnXHJcbn07XHJcblxyXG5mdW5jdGlvbiBleHBvc2UoKSB7XHJcblx0dmFyIG9sZEwgPSB3aW5kb3cuTDtcclxuXHJcblx0TC5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0d2luZG93LkwgPSBvbGRMO1xyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fTtcclxuXHJcblx0d2luZG93LkwgPSBMO1xyXG59XHJcblxyXG4vLyBkZWZpbmUgTGVhZmxldCBmb3IgTm9kZSBtb2R1bGUgcGF0dGVybiBsb2FkZXJzLCBpbmNsdWRpbmcgQnJvd3NlcmlmeVxyXG5pZiAodHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZS5leHBvcnRzID09PSAnb2JqZWN0Jykge1xyXG5cdG1vZHVsZS5leHBvcnRzID0gTDtcclxuXHJcbi8vIGRlZmluZSBMZWFmbGV0IGFzIGFuIEFNRCBtb2R1bGVcclxufSBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcclxuXHRkZWZpbmUoTCk7XHJcbn1cclxuXHJcbi8vIGRlZmluZSBMZWFmbGV0IGFzIGEgZ2xvYmFsIEwgdmFyaWFibGUsIHNhdmluZyB0aGUgb3JpZ2luYWwgTCB0byByZXN0b3JlIGxhdGVyIGlmIG5lZWRlZFxyXG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuXHRleHBvc2UoKTtcclxufVxyXG5cbi8qXHJcbiAqIEBuYW1lc3BhY2UgVXRpbFxyXG4gKlxyXG4gKiBWYXJpb3VzIHV0aWxpdHkgZnVuY3Rpb25zLCB1c2VkIGJ5IExlYWZsZXQgaW50ZXJuYWxseS5cclxuICovXHJcblxyXG5MLlV0aWwgPSB7XHJcblxyXG5cdC8vIEBmdW5jdGlvbiBleHRlbmQoZGVzdDogT2JqZWN0LCBzcmM/OiBPYmplY3QpOiBPYmplY3RcclxuXHQvLyBNZXJnZXMgdGhlIHByb3BlcnRpZXMgb2YgdGhlIGBzcmNgIG9iamVjdCAob3IgbXVsdGlwbGUgb2JqZWN0cykgaW50byBgZGVzdGAgb2JqZWN0IGFuZCByZXR1cm5zIHRoZSBsYXR0ZXIuIEhhcyBhbiBgTC5leHRlbmRgIHNob3J0Y3V0LlxyXG5cdGV4dGVuZDogZnVuY3Rpb24gKGRlc3QpIHtcclxuXHRcdHZhciBpLCBqLCBsZW4sIHNyYztcclxuXHJcblx0XHRmb3IgKGogPSAxLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoOyBqIDwgbGVuOyBqKyspIHtcclxuXHRcdFx0c3JjID0gYXJndW1lbnRzW2pdO1xyXG5cdFx0XHRmb3IgKGkgaW4gc3JjKSB7XHJcblx0XHRcdFx0ZGVzdFtpXSA9IHNyY1tpXTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGRlc3Q7XHJcblx0fSxcclxuXHJcblx0Ly8gQGZ1bmN0aW9uIGNyZWF0ZShwcm90bzogT2JqZWN0LCBwcm9wZXJ0aWVzPzogT2JqZWN0KTogT2JqZWN0XHJcblx0Ly8gQ29tcGF0aWJpbGl0eSBwb2x5ZmlsbCBmb3IgW09iamVjdC5jcmVhdGVdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9jcmVhdGUpXHJcblx0Y3JlYXRlOiBPYmplY3QuY3JlYXRlIHx8IChmdW5jdGlvbiAoKSB7XHJcblx0XHRmdW5jdGlvbiBGKCkge31cclxuXHRcdHJldHVybiBmdW5jdGlvbiAocHJvdG8pIHtcclxuXHRcdFx0Ri5wcm90b3R5cGUgPSBwcm90bztcclxuXHRcdFx0cmV0dXJuIG5ldyBGKCk7XHJcblx0XHR9O1xyXG5cdH0pKCksXHJcblxyXG5cdC8vIEBmdW5jdGlvbiBiaW5kKGZuOiBGdW5jdGlvbiwg4oCmKTogRnVuY3Rpb25cclxuXHQvLyBSZXR1cm5zIGEgbmV3IGZ1bmN0aW9uIGJvdW5kIHRvIHRoZSBhcmd1bWVudHMgcGFzc2VkLCBsaWtlIFtGdW5jdGlvbi5wcm90b3R5cGUuYmluZF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvRnVuY3Rpb24vYmluZCkuXHJcblx0Ly8gSGFzIGEgYEwuYmluZCgpYCBzaG9ydGN1dC5cclxuXHRiaW5kOiBmdW5jdGlvbiAoZm4sIG9iaikge1xyXG5cdFx0dmFyIHNsaWNlID0gQXJyYXkucHJvdG90eXBlLnNsaWNlO1xyXG5cclxuXHRcdGlmIChmbi5iaW5kKSB7XHJcblx0XHRcdHJldHVybiBmbi5iaW5kLmFwcGx5KGZuLCBzbGljZS5jYWxsKGFyZ3VtZW50cywgMSkpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHZhciBhcmdzID0gc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpO1xyXG5cclxuXHRcdHJldHVybiBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdHJldHVybiBmbi5hcHBseShvYmosIGFyZ3MubGVuZ3RoID8gYXJncy5jb25jYXQoc2xpY2UuY2FsbChhcmd1bWVudHMpKSA6IGFyZ3VtZW50cyk7XHJcblx0XHR9O1xyXG5cdH0sXHJcblxyXG5cdC8vIEBmdW5jdGlvbiBzdGFtcChvYmo6IE9iamVjdCk6IE51bWJlclxyXG5cdC8vIFJldHVybnMgdGhlIHVuaXF1ZSBJRCBvZiBhbiBvYmplY3QsIGFzc2lnaW5nIGl0IG9uZSBpZiBpdCBkb2Vzbid0IGhhdmUgaXQuXHJcblx0c3RhbXA6IGZ1bmN0aW9uIChvYmopIHtcclxuXHRcdC8qZXNsaW50LWRpc2FibGUgKi9cclxuXHRcdG9iai5fbGVhZmxldF9pZCA9IG9iai5fbGVhZmxldF9pZCB8fCArK0wuVXRpbC5sYXN0SWQ7XHJcblx0XHRyZXR1cm4gb2JqLl9sZWFmbGV0X2lkO1xyXG5cdFx0Lyplc2xpbnQtZW5hYmxlICovXHJcblx0fSxcclxuXHJcblx0Ly8gQHByb3BlcnR5IGxhc3RJZDogTnVtYmVyXHJcblx0Ly8gTGFzdCB1bmlxdWUgSUQgdXNlZCBieSBbYHN0YW1wKClgXSgjdXRpbC1zdGFtcClcclxuXHRsYXN0SWQ6IDAsXHJcblxyXG5cdC8vIEBmdW5jdGlvbiB0aHJvdHRsZShmbjogRnVuY3Rpb24sIHRpbWU6IE51bWJlciwgY29udGV4dDogT2JqZWN0KTogRnVuY3Rpb25cclxuXHQvLyBSZXR1cm5zIGEgZnVuY3Rpb24gd2hpY2ggZXhlY3V0ZXMgZnVuY3Rpb24gYGZuYCB3aXRoIHRoZSBnaXZlbiBzY29wZSBgY29udGV4dGBcclxuXHQvLyAoc28gdGhhdCB0aGUgYHRoaXNgIGtleXdvcmQgcmVmZXJzIHRvIGBjb250ZXh0YCBpbnNpZGUgYGZuYCdzIGNvZGUpLiBUaGUgZnVuY3Rpb25cclxuXHQvLyBgZm5gIHdpbGwgYmUgY2FsbGVkIG5vIG1vcmUgdGhhbiBvbmUgdGltZSBwZXIgZ2l2ZW4gYW1vdW50IG9mIGB0aW1lYC4gVGhlIGFyZ3VtZW50c1xyXG5cdC8vIHJlY2VpdmVkIGJ5IHRoZSBib3VuZCBmdW5jdGlvbiB3aWxsIGJlIGFueSBhcmd1bWVudHMgcGFzc2VkIHdoZW4gYmluZGluZyB0aGVcclxuXHQvLyBmdW5jdGlvbiwgZm9sbG93ZWQgYnkgYW55IGFyZ3VtZW50cyBwYXNzZWQgd2hlbiBpbnZva2luZyB0aGUgYm91bmQgZnVuY3Rpb24uXHJcblx0Ly8gSGFzIGFuIGBMLmJpbmRgIHNob3J0Y3V0LlxyXG5cdHRocm90dGxlOiBmdW5jdGlvbiAoZm4sIHRpbWUsIGNvbnRleHQpIHtcclxuXHRcdHZhciBsb2NrLCBhcmdzLCB3cmFwcGVyRm4sIGxhdGVyO1xyXG5cclxuXHRcdGxhdGVyID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHQvLyByZXNldCBsb2NrIGFuZCBjYWxsIGlmIHF1ZXVlZFxyXG5cdFx0XHRsb2NrID0gZmFsc2U7XHJcblx0XHRcdGlmIChhcmdzKSB7XHJcblx0XHRcdFx0d3JhcHBlckZuLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xyXG5cdFx0XHRcdGFyZ3MgPSBmYWxzZTtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0XHR3cmFwcGVyRm4gPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdGlmIChsb2NrKSB7XHJcblx0XHRcdFx0Ly8gY2FsbGVkIHRvbyBzb29uLCBxdWV1ZSB0byBjYWxsIGxhdGVyXHJcblx0XHRcdFx0YXJncyA9IGFyZ3VtZW50cztcclxuXHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0Ly8gY2FsbCBhbmQgbG9jayB1bnRpbCBsYXRlclxyXG5cdFx0XHRcdGZuLmFwcGx5KGNvbnRleHQsIGFyZ3VtZW50cyk7XHJcblx0XHRcdFx0c2V0VGltZW91dChsYXRlciwgdGltZSk7XHJcblx0XHRcdFx0bG9jayA9IHRydWU7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG5cdFx0cmV0dXJuIHdyYXBwZXJGbjtcclxuXHR9LFxyXG5cclxuXHQvLyBAZnVuY3Rpb24gd3JhcE51bShudW06IE51bWJlciwgcmFuZ2U6IE51bWJlcltdLCBpbmNsdWRlTWF4PzogQm9vbGVhbik6IE51bWJlclxyXG5cdC8vIFJldHVybnMgdGhlIG51bWJlciBgbnVtYCBtb2R1bG8gYHJhbmdlYCBpbiBzdWNoIGEgd2F5IHNvIGl0IGxpZXMgd2l0aGluXHJcblx0Ly8gYHJhbmdlWzBdYCBhbmQgYHJhbmdlWzFdYC4gVGhlIHJldHVybmVkIHZhbHVlIHdpbGwgYmUgYWx3YXlzIHNtYWxsZXIgdGhhblxyXG5cdC8vIGByYW5nZVsxXWAgdW5sZXNzIGBpbmNsdWRlTWF4YCBpcyBzZXQgdG8gYHRydWVgLlxyXG5cdHdyYXBOdW06IGZ1bmN0aW9uICh4LCByYW5nZSwgaW5jbHVkZU1heCkge1xyXG5cdFx0dmFyIG1heCA9IHJhbmdlWzFdLFxyXG5cdFx0ICAgIG1pbiA9IHJhbmdlWzBdLFxyXG5cdFx0ICAgIGQgPSBtYXggLSBtaW47XHJcblx0XHRyZXR1cm4geCA9PT0gbWF4ICYmIGluY2x1ZGVNYXggPyB4IDogKCh4IC0gbWluKSAlIGQgKyBkKSAlIGQgKyBtaW47XHJcblx0fSxcclxuXHJcblx0Ly8gQGZ1bmN0aW9uIGZhbHNlRm4oKTogRnVuY3Rpb25cclxuXHQvLyBSZXR1cm5zIGEgZnVuY3Rpb24gd2hpY2ggYWx3YXlzIHJldHVybnMgYGZhbHNlYC5cclxuXHRmYWxzZUZuOiBmdW5jdGlvbiAoKSB7IHJldHVybiBmYWxzZTsgfSxcclxuXHJcblx0Ly8gQGZ1bmN0aW9uIGZvcm1hdE51bShudW06IE51bWJlciwgZGlnaXRzPzogTnVtYmVyKTogTnVtYmVyXHJcblx0Ly8gUmV0dXJucyB0aGUgbnVtYmVyIGBudW1gIHJvdW5kZWQgdG8gYGRpZ2l0c2AgZGVjaW1hbHMsIG9yIHRvIDUgZGVjaW1hbHMgYnkgZGVmYXVsdC5cclxuXHRmb3JtYXROdW06IGZ1bmN0aW9uIChudW0sIGRpZ2l0cykge1xyXG5cdFx0dmFyIHBvdyA9IE1hdGgucG93KDEwLCBkaWdpdHMgfHwgNSk7XHJcblx0XHRyZXR1cm4gTWF0aC5yb3VuZChudW0gKiBwb3cpIC8gcG93O1xyXG5cdH0sXHJcblxyXG5cdC8vIEBmdW5jdGlvbiB0cmltKHN0cjogU3RyaW5nKTogU3RyaW5nXHJcblx0Ly8gQ29tcGF0aWJpbGl0eSBwb2x5ZmlsbCBmb3IgW1N0cmluZy5wcm90b3R5cGUudHJpbV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvU3RyaW5nL1RyaW0pXHJcblx0dHJpbTogZnVuY3Rpb24gKHN0cikge1xyXG5cdFx0cmV0dXJuIHN0ci50cmltID8gc3RyLnRyaW0oKSA6IHN0ci5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLCAnJyk7XHJcblx0fSxcclxuXHJcblx0Ly8gQGZ1bmN0aW9uIHNwbGl0V29yZHMoc3RyOiBTdHJpbmcpOiBTdHJpbmdbXVxyXG5cdC8vIFRyaW1zIGFuZCBzcGxpdHMgdGhlIHN0cmluZyBvbiB3aGl0ZXNwYWNlIGFuZCByZXR1cm5zIHRoZSBhcnJheSBvZiBwYXJ0cy5cclxuXHRzcGxpdFdvcmRzOiBmdW5jdGlvbiAoc3RyKSB7XHJcblx0XHRyZXR1cm4gTC5VdGlsLnRyaW0oc3RyKS5zcGxpdCgvXFxzKy8pO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBmdW5jdGlvbiBzZXRPcHRpb25zKG9iajogT2JqZWN0LCBvcHRpb25zOiBPYmplY3QpOiBPYmplY3RcclxuXHQvLyBNZXJnZXMgdGhlIGdpdmVuIHByb3BlcnRpZXMgdG8gdGhlIGBvcHRpb25zYCBvZiB0aGUgYG9iamAgb2JqZWN0LCByZXR1cm5pbmcgdGhlIHJlc3VsdGluZyBvcHRpb25zLiBTZWUgYENsYXNzIG9wdGlvbnNgLiBIYXMgYW4gYEwuc2V0T3B0aW9uc2Agc2hvcnRjdXQuXHJcblx0c2V0T3B0aW9uczogZnVuY3Rpb24gKG9iaiwgb3B0aW9ucykge1xyXG5cdFx0aWYgKCFvYmouaGFzT3duUHJvcGVydHkoJ29wdGlvbnMnKSkge1xyXG5cdFx0XHRvYmoub3B0aW9ucyA9IG9iai5vcHRpb25zID8gTC5VdGlsLmNyZWF0ZShvYmoub3B0aW9ucykgOiB7fTtcclxuXHRcdH1cclxuXHRcdGZvciAodmFyIGkgaW4gb3B0aW9ucykge1xyXG5cdFx0XHRvYmoub3B0aW9uc1tpXSA9IG9wdGlvbnNbaV07XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gb2JqLm9wdGlvbnM7XHJcblx0fSxcclxuXHJcblx0Ly8gQGZ1bmN0aW9uIGdldFBhcmFtU3RyaW5nKG9iajogT2JqZWN0LCBleGlzdGluZ1VybD86IFN0cmluZywgdXBwZXJjYXNlPzogQm9vbGVhbik6IFN0cmluZ1xyXG5cdC8vIENvbnZlcnRzIGFuIG9iamVjdCBpbnRvIGEgcGFyYW1ldGVyIFVSTCBzdHJpbmcsIGUuZy4gYHthOiBcImZvb1wiLCBiOiBcImJhclwifWBcclxuXHQvLyB0cmFuc2xhdGVzIHRvIGAnP2E9Zm9vJmI9YmFyJ2AuIElmIGBleGlzdGluZ1VybGAgaXMgc2V0LCB0aGUgcGFyYW1ldGVycyB3aWxsXHJcblx0Ly8gYmUgYXBwZW5kZWQgYXQgdGhlIGVuZC4gSWYgYHVwcGVyY2FzZWAgaXMgYHRydWVgLCB0aGUgcGFyYW1ldGVyIG5hbWVzIHdpbGxcclxuXHQvLyBiZSB1cHBlcmNhc2VkIChlLmcuIGAnP0E9Zm9vJkI9YmFyJ2ApXHJcblx0Z2V0UGFyYW1TdHJpbmc6IGZ1bmN0aW9uIChvYmosIGV4aXN0aW5nVXJsLCB1cHBlcmNhc2UpIHtcclxuXHRcdHZhciBwYXJhbXMgPSBbXTtcclxuXHRcdGZvciAodmFyIGkgaW4gb2JqKSB7XHJcblx0XHRcdHBhcmFtcy5wdXNoKGVuY29kZVVSSUNvbXBvbmVudCh1cHBlcmNhc2UgPyBpLnRvVXBwZXJDYXNlKCkgOiBpKSArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudChvYmpbaV0pKTtcclxuXHRcdH1cclxuXHRcdHJldHVybiAoKCFleGlzdGluZ1VybCB8fCBleGlzdGluZ1VybC5pbmRleE9mKCc/JykgPT09IC0xKSA/ICc/JyA6ICcmJykgKyBwYXJhbXMuam9pbignJicpO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBmdW5jdGlvbiB0ZW1wbGF0ZShzdHI6IFN0cmluZywgZGF0YTogT2JqZWN0KTogU3RyaW5nXHJcblx0Ly8gU2ltcGxlIHRlbXBsYXRpbmcgZmFjaWxpdHksIGFjY2VwdHMgYSB0ZW1wbGF0ZSBzdHJpbmcgb2YgdGhlIGZvcm0gYCdIZWxsbyB7YX0sIHtifSdgXHJcblx0Ly8gYW5kIGEgZGF0YSBvYmplY3QgbGlrZSBge2E6ICdmb28nLCBiOiAnYmFyJ31gLCByZXR1cm5zIGV2YWx1YXRlZCBzdHJpbmdcclxuXHQvLyBgKCdIZWxsbyBmb28sIGJhcicpYC4gWW91IGNhbiBhbHNvIHNwZWNpZnkgZnVuY3Rpb25zIGluc3RlYWQgb2Ygc3RyaW5ncyBmb3JcclxuXHQvLyBkYXRhIHZhbHVlcyDigJQgdGhleSB3aWxsIGJlIGV2YWx1YXRlZCBwYXNzaW5nIGBkYXRhYCBhcyBhbiBhcmd1bWVudC5cclxuXHR0ZW1wbGF0ZTogZnVuY3Rpb24gKHN0ciwgZGF0YSkge1xyXG5cdFx0cmV0dXJuIHN0ci5yZXBsYWNlKEwuVXRpbC50ZW1wbGF0ZVJlLCBmdW5jdGlvbiAoc3RyLCBrZXkpIHtcclxuXHRcdFx0dmFyIHZhbHVlID0gZGF0YVtrZXldO1xyXG5cclxuXHRcdFx0aWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ05vIHZhbHVlIHByb3ZpZGVkIGZvciB2YXJpYWJsZSAnICsgc3RyKTtcclxuXHJcblx0XHRcdH0gZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nKSB7XHJcblx0XHRcdFx0dmFsdWUgPSB2YWx1ZShkYXRhKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gdmFsdWU7XHJcblx0XHR9KTtcclxuXHR9LFxyXG5cclxuXHR0ZW1wbGF0ZVJlOiAvXFx7ICooW1xcd19cXC1dKykgKlxcfS9nLFxyXG5cclxuXHQvLyBAZnVuY3Rpb24gaXNBcnJheShvYmopOiBCb29sZWFuXHJcblx0Ly8gQ29tcGF0aWJpbGl0eSBwb2x5ZmlsbCBmb3IgW0FycmF5LmlzQXJyYXldKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0FycmF5L2lzQXJyYXkpXHJcblx0aXNBcnJheTogQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiAob2JqKSB7XHJcblx0XHRyZXR1cm4gKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBBcnJheV0nKTtcclxuXHR9LFxyXG5cclxuXHQvLyBAZnVuY3Rpb24gaW5kZXhPZihhcnJheTogQXJyYXksIGVsOiBPYmplY3QpOiBOdW1iZXJcclxuXHQvLyBDb21wYXRpYmlsaXR5IHBvbHlmaWxsIGZvciBbQXJyYXkucHJvdG90eXBlLmluZGV4T2ZdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0FycmF5L2luZGV4T2YpXHJcblx0aW5kZXhPZjogZnVuY3Rpb24gKGFycmF5LCBlbCkge1xyXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRpZiAoYXJyYXlbaV0gPT09IGVsKSB7IHJldHVybiBpOyB9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gLTE7XHJcblx0fSxcclxuXHJcblx0Ly8gQHByb3BlcnR5IGVtcHR5SW1hZ2VVcmw6IFN0cmluZ1xyXG5cdC8vIERhdGEgVVJJIHN0cmluZyBjb250YWluaW5nIGEgYmFzZTY0LWVuY29kZWQgZW1wdHkgR0lGIGltYWdlLlxyXG5cdC8vIFVzZWQgYXMgYSBoYWNrIHRvIGZyZWUgbWVtb3J5IGZyb20gdW51c2VkIGltYWdlcyBvbiBXZWJLaXQtcG93ZXJlZFxyXG5cdC8vIG1vYmlsZSBkZXZpY2VzIChieSBzZXR0aW5nIGltYWdlIGBzcmNgIHRvIHRoaXMgc3RyaW5nKS5cclxuXHRlbXB0eUltYWdlVXJsOiAnZGF0YTppbWFnZS9naWY7YmFzZTY0LFIwbEdPRGxoQVFBQkFBRC9BQ3dBQUFBQUFRQUJBQUFDQURzPSdcclxufTtcclxuXHJcbihmdW5jdGlvbiAoKSB7XHJcblx0Ly8gaW5zcGlyZWQgYnkgaHR0cDovL3BhdWxpcmlzaC5jb20vMjAxMS9yZXF1ZXN0YW5pbWF0aW9uZnJhbWUtZm9yLXNtYXJ0LWFuaW1hdGluZy9cclxuXHJcblx0ZnVuY3Rpb24gZ2V0UHJlZml4ZWQobmFtZSkge1xyXG5cdFx0cmV0dXJuIHdpbmRvd1snd2Via2l0JyArIG5hbWVdIHx8IHdpbmRvd1snbW96JyArIG5hbWVdIHx8IHdpbmRvd1snbXMnICsgbmFtZV07XHJcblx0fVxyXG5cclxuXHR2YXIgbGFzdFRpbWUgPSAwO1xyXG5cclxuXHQvLyBmYWxsYmFjayBmb3IgSUUgNy04XHJcblx0ZnVuY3Rpb24gdGltZW91dERlZmVyKGZuKSB7XHJcblx0XHR2YXIgdGltZSA9ICtuZXcgRGF0ZSgpLFxyXG5cdFx0ICAgIHRpbWVUb0NhbGwgPSBNYXRoLm1heCgwLCAxNiAtICh0aW1lIC0gbGFzdFRpbWUpKTtcclxuXHJcblx0XHRsYXN0VGltZSA9IHRpbWUgKyB0aW1lVG9DYWxsO1xyXG5cdFx0cmV0dXJuIHdpbmRvdy5zZXRUaW1lb3V0KGZuLCB0aW1lVG9DYWxsKTtcclxuXHR9XHJcblxyXG5cdHZhciByZXF1ZXN0Rm4gPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IGdldFByZWZpeGVkKCdSZXF1ZXN0QW5pbWF0aW9uRnJhbWUnKSB8fCB0aW1lb3V0RGVmZXIsXHJcblx0ICAgIGNhbmNlbEZuID0gd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lIHx8IGdldFByZWZpeGVkKCdDYW5jZWxBbmltYXRpb25GcmFtZScpIHx8XHJcblx0ICAgICAgICAgICAgICAgZ2V0UHJlZml4ZWQoJ0NhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZScpIHx8IGZ1bmN0aW9uIChpZCkgeyB3aW5kb3cuY2xlYXJUaW1lb3V0KGlkKTsgfTtcclxuXHJcblxyXG5cdC8vIEBmdW5jdGlvbiByZXF1ZXN0QW5pbUZyYW1lKGZuOiBGdW5jdGlvbiwgY29udGV4dD86IE9iamVjdCwgaW1tZWRpYXRlPzogQm9vbGVhbik6IE51bWJlclxyXG5cdC8vIFNjaGVkdWxlcyBgZm5gIHRvIGJlIGV4ZWN1dGVkIHdoZW4gdGhlIGJyb3dzZXIgcmVwYWludHMuIGBmbmAgaXMgYm91bmQgdG9cclxuXHQvLyBgY29udGV4dGAgaWYgZ2l2ZW4uIFdoZW4gYGltbWVkaWF0ZWAgaXMgc2V0LCBgZm5gIGlzIGNhbGxlZCBpbW1lZGlhdGVseSBpZlxyXG5cdC8vIHRoZSBicm93c2VyIGRvZXNuJ3QgaGF2ZSBuYXRpdmUgc3VwcG9ydCBmb3JcclxuXHQvLyBbYHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWVgXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9kb2NzL1dlYi9BUEkvd2luZG93L3JlcXVlc3RBbmltYXRpb25GcmFtZSksXHJcblx0Ly8gb3RoZXJ3aXNlIGl0J3MgZGVsYXllZC4gUmV0dXJucyBhIHJlcXVlc3QgSUQgdGhhdCBjYW4gYmUgdXNlZCB0byBjYW5jZWwgdGhlIHJlcXVlc3QuXHJcblx0TC5VdGlsLnJlcXVlc3RBbmltRnJhbWUgPSBmdW5jdGlvbiAoZm4sIGNvbnRleHQsIGltbWVkaWF0ZSkge1xyXG5cdFx0aWYgKGltbWVkaWF0ZSAmJiByZXF1ZXN0Rm4gPT09IHRpbWVvdXREZWZlcikge1xyXG5cdFx0XHRmbi5jYWxsKGNvbnRleHQpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0cmV0dXJuIHJlcXVlc3RGbi5jYWxsKHdpbmRvdywgTC5iaW5kKGZuLCBjb250ZXh0KSk7XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0Ly8gQGZ1bmN0aW9uIGNhbmNlbEFuaW1GcmFtZShpZDogTnVtYmVyKTogdW5kZWZpbmVkXHJcblx0Ly8gQ2FuY2VscyBhIHByZXZpb3VzIGByZXF1ZXN0QW5pbUZyYW1lYC4gU2VlIGFsc28gW3dpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvQVBJL3dpbmRvdy9jYW5jZWxBbmltYXRpb25GcmFtZSkuXHJcblx0TC5VdGlsLmNhbmNlbEFuaW1GcmFtZSA9IGZ1bmN0aW9uIChpZCkge1xyXG5cdFx0aWYgKGlkKSB7XHJcblx0XHRcdGNhbmNlbEZuLmNhbGwod2luZG93LCBpZCk7XHJcblx0XHR9XHJcblx0fTtcclxufSkoKTtcclxuXHJcbi8vIHNob3J0Y3V0cyBmb3IgbW9zdCB1c2VkIHV0aWxpdHkgZnVuY3Rpb25zXHJcbkwuZXh0ZW5kID0gTC5VdGlsLmV4dGVuZDtcclxuTC5iaW5kID0gTC5VdGlsLmJpbmQ7XHJcbkwuc3RhbXAgPSBMLlV0aWwuc3RhbXA7XHJcbkwuc2V0T3B0aW9ucyA9IEwuVXRpbC5zZXRPcHRpb25zO1xyXG5cblxyXG4vLyBAY2xhc3MgQ2xhc3NcclxuLy8gQGFrYSBMLkNsYXNzXHJcblxyXG4vLyBAc2VjdGlvblxyXG4vLyBAdW5pbmhlcml0YWJsZVxyXG5cclxuLy8gVGhhbmtzIHRvIEpvaG4gUmVzaWcgYW5kIERlYW4gRWR3YXJkcyBmb3IgaW5zcGlyYXRpb24hXHJcblxyXG5MLkNsYXNzID0gZnVuY3Rpb24gKCkge307XHJcblxyXG5MLkNsYXNzLmV4dGVuZCA9IGZ1bmN0aW9uIChwcm9wcykge1xyXG5cclxuXHQvLyBAZnVuY3Rpb24gZXh0ZW5kKHByb3BzOiBPYmplY3QpOiBGdW5jdGlvblxyXG5cdC8vIFtFeHRlbmRzIHRoZSBjdXJyZW50IGNsYXNzXSgjY2xhc3MtaW5oZXJpdGFuY2UpIGdpdmVuIHRoZSBwcm9wZXJ0aWVzIHRvIGJlIGluY2x1ZGVkLlxyXG5cdC8vIFJldHVybnMgYSBKYXZhc2NyaXB0IGZ1bmN0aW9uIHRoYXQgaXMgYSBjbGFzcyBjb25zdHJ1Y3RvciAodG8gYmUgY2FsbGVkIHdpdGggYG5ld2ApLlxyXG5cdHZhciBOZXdDbGFzcyA9IGZ1bmN0aW9uICgpIHtcclxuXHJcblx0XHQvLyBjYWxsIHRoZSBjb25zdHJ1Y3RvclxyXG5cdFx0aWYgKHRoaXMuaW5pdGlhbGl6ZSkge1xyXG5cdFx0XHR0aGlzLmluaXRpYWxpemUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBjYWxsIGFsbCBjb25zdHJ1Y3RvciBob29rc1xyXG5cdFx0dGhpcy5jYWxsSW5pdEhvb2tzKCk7XHJcblx0fTtcclxuXHJcblx0dmFyIHBhcmVudFByb3RvID0gTmV3Q2xhc3MuX19zdXBlcl9fID0gdGhpcy5wcm90b3R5cGU7XHJcblxyXG5cdHZhciBwcm90byA9IEwuVXRpbC5jcmVhdGUocGFyZW50UHJvdG8pO1xyXG5cdHByb3RvLmNvbnN0cnVjdG9yID0gTmV3Q2xhc3M7XHJcblxyXG5cdE5ld0NsYXNzLnByb3RvdHlwZSA9IHByb3RvO1xyXG5cclxuXHQvLyBpbmhlcml0IHBhcmVudCdzIHN0YXRpY3NcclxuXHRmb3IgKHZhciBpIGluIHRoaXMpIHtcclxuXHRcdGlmICh0aGlzLmhhc093blByb3BlcnR5KGkpICYmIGkgIT09ICdwcm90b3R5cGUnKSB7XHJcblx0XHRcdE5ld0NsYXNzW2ldID0gdGhpc1tpXTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8vIG1peCBzdGF0aWMgcHJvcGVydGllcyBpbnRvIHRoZSBjbGFzc1xyXG5cdGlmIChwcm9wcy5zdGF0aWNzKSB7XHJcblx0XHRMLmV4dGVuZChOZXdDbGFzcywgcHJvcHMuc3RhdGljcyk7XHJcblx0XHRkZWxldGUgcHJvcHMuc3RhdGljcztcclxuXHR9XHJcblxyXG5cdC8vIG1peCBpbmNsdWRlcyBpbnRvIHRoZSBwcm90b3R5cGVcclxuXHRpZiAocHJvcHMuaW5jbHVkZXMpIHtcclxuXHRcdEwuVXRpbC5leHRlbmQuYXBwbHkobnVsbCwgW3Byb3RvXS5jb25jYXQocHJvcHMuaW5jbHVkZXMpKTtcclxuXHRcdGRlbGV0ZSBwcm9wcy5pbmNsdWRlcztcclxuXHR9XHJcblxyXG5cdC8vIG1lcmdlIG9wdGlvbnNcclxuXHRpZiAocHJvdG8ub3B0aW9ucykge1xyXG5cdFx0cHJvcHMub3B0aW9ucyA9IEwuVXRpbC5leHRlbmQoTC5VdGlsLmNyZWF0ZShwcm90by5vcHRpb25zKSwgcHJvcHMub3B0aW9ucyk7XHJcblx0fVxyXG5cclxuXHQvLyBtaXggZ2l2ZW4gcHJvcGVydGllcyBpbnRvIHRoZSBwcm90b3R5cGVcclxuXHRMLmV4dGVuZChwcm90bywgcHJvcHMpO1xyXG5cclxuXHRwcm90by5faW5pdEhvb2tzID0gW107XHJcblxyXG5cdC8vIGFkZCBtZXRob2QgZm9yIGNhbGxpbmcgYWxsIGhvb2tzXHJcblx0cHJvdG8uY2FsbEluaXRIb29rcyA9IGZ1bmN0aW9uICgpIHtcclxuXHJcblx0XHRpZiAodGhpcy5faW5pdEhvb2tzQ2FsbGVkKSB7IHJldHVybjsgfVxyXG5cclxuXHRcdGlmIChwYXJlbnRQcm90by5jYWxsSW5pdEhvb2tzKSB7XHJcblx0XHRcdHBhcmVudFByb3RvLmNhbGxJbml0SG9va3MuY2FsbCh0aGlzKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLl9pbml0SG9va3NDYWxsZWQgPSB0cnVlO1xyXG5cclxuXHRcdGZvciAodmFyIGkgPSAwLCBsZW4gPSBwcm90by5faW5pdEhvb2tzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcblx0XHRcdHByb3RvLl9pbml0SG9va3NbaV0uY2FsbCh0aGlzKTtcclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHRyZXR1cm4gTmV3Q2xhc3M7XHJcbn07XHJcblxyXG5cclxuLy8gQGZ1bmN0aW9uIGluY2x1ZGUocHJvcGVydGllczogT2JqZWN0KTogdGhpc1xyXG4vLyBbSW5jbHVkZXMgYSBtaXhpbl0oI2NsYXNzLWluY2x1ZGVzKSBpbnRvIHRoZSBjdXJyZW50IGNsYXNzLlxyXG5MLkNsYXNzLmluY2x1ZGUgPSBmdW5jdGlvbiAocHJvcHMpIHtcclxuXHRMLmV4dGVuZCh0aGlzLnByb3RvdHlwZSwgcHJvcHMpO1xyXG5cdHJldHVybiB0aGlzO1xyXG59O1xyXG5cclxuLy8gQGZ1bmN0aW9uIG1lcmdlT3B0aW9ucyhvcHRpb25zOiBPYmplY3QpOiB0aGlzXHJcbi8vIFtNZXJnZXMgYG9wdGlvbnNgXSgjY2xhc3Mtb3B0aW9ucykgaW50byB0aGUgZGVmYXVsdHMgb2YgdGhlIGNsYXNzLlxyXG5MLkNsYXNzLm1lcmdlT3B0aW9ucyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XHJcblx0TC5leHRlbmQodGhpcy5wcm90b3R5cGUub3B0aW9ucywgb3B0aW9ucyk7XHJcblx0cmV0dXJuIHRoaXM7XHJcbn07XHJcblxyXG4vLyBAZnVuY3Rpb24gYWRkSW5pdEhvb2soZm46IEZ1bmN0aW9uKTogdGhpc1xyXG4vLyBBZGRzIGEgW2NvbnN0cnVjdG9yIGhvb2tdKCNjbGFzcy1jb25zdHJ1Y3Rvci1ob29rcykgdG8gdGhlIGNsYXNzLlxyXG5MLkNsYXNzLmFkZEluaXRIb29rID0gZnVuY3Rpb24gKGZuKSB7IC8vIChGdW5jdGlvbikgfHwgKFN0cmluZywgYXJncy4uLilcclxuXHR2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XHJcblxyXG5cdHZhciBpbml0ID0gdHlwZW9mIGZuID09PSAnZnVuY3Rpb24nID8gZm4gOiBmdW5jdGlvbiAoKSB7XHJcblx0XHR0aGlzW2ZuXS5hcHBseSh0aGlzLCBhcmdzKTtcclxuXHR9O1xyXG5cclxuXHR0aGlzLnByb3RvdHlwZS5faW5pdEhvb2tzID0gdGhpcy5wcm90b3R5cGUuX2luaXRIb29rcyB8fCBbXTtcclxuXHR0aGlzLnByb3RvdHlwZS5faW5pdEhvb2tzLnB1c2goaW5pdCk7XHJcblx0cmV0dXJuIHRoaXM7XHJcbn07XHJcblxuLypcclxuICogQGNsYXNzIEV2ZW50ZWRcclxuICogQGFrYSBMLkV2ZW50ZWRcclxuICogQGluaGVyaXRzIENsYXNzXHJcbiAqXHJcbiAqIEEgc2V0IG9mIG1ldGhvZHMgc2hhcmVkIGJldHdlZW4gZXZlbnQtcG93ZXJlZCBjbGFzc2VzIChsaWtlIGBNYXBgIGFuZCBgTWFya2VyYCkuIEdlbmVyYWxseSwgZXZlbnRzIGFsbG93IHlvdSB0byBleGVjdXRlIHNvbWUgZnVuY3Rpb24gd2hlbiBzb21ldGhpbmcgaGFwcGVucyB3aXRoIGFuIG9iamVjdCAoZS5nLiB0aGUgdXNlciBjbGlja3Mgb24gdGhlIG1hcCwgY2F1c2luZyB0aGUgbWFwIHRvIGZpcmUgYCdjbGljaydgIGV2ZW50KS5cclxuICpcclxuICogQGV4YW1wbGVcclxuICpcclxuICogYGBganNcclxuICogbWFwLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcclxuICogXHRhbGVydChlLmxhdGxuZyk7XHJcbiAqIH0gKTtcclxuICogYGBgXHJcbiAqXHJcbiAqIExlYWZsZXQgZGVhbHMgd2l0aCBldmVudCBsaXN0ZW5lcnMgYnkgcmVmZXJlbmNlLCBzbyBpZiB5b3Ugd2FudCB0byBhZGQgYSBsaXN0ZW5lciBhbmQgdGhlbiByZW1vdmUgaXQsIGRlZmluZSBpdCBhcyBhIGZ1bmN0aW9uOlxyXG4gKlxyXG4gKiBgYGBqc1xyXG4gKiBmdW5jdGlvbiBvbkNsaWNrKGUpIHsgLi4uIH1cclxuICpcclxuICogbWFwLm9uKCdjbGljaycsIG9uQ2xpY2spO1xyXG4gKiBtYXAub2ZmKCdjbGljaycsIG9uQ2xpY2spO1xyXG4gKiBgYGBcclxuICovXHJcblxyXG5cclxuTC5FdmVudGVkID0gTC5DbGFzcy5leHRlbmQoe1xyXG5cclxuXHQvKiBAbWV0aG9kIG9uKHR5cGU6IFN0cmluZywgZm46IEZ1bmN0aW9uLCBjb250ZXh0PzogT2JqZWN0KTogdGhpc1xyXG5cdCAqIEFkZHMgYSBsaXN0ZW5lciBmdW5jdGlvbiAoYGZuYCkgdG8gYSBwYXJ0aWN1bGFyIGV2ZW50IHR5cGUgb2YgdGhlIG9iamVjdC4gWW91IGNhbiBvcHRpb25hbGx5IHNwZWNpZnkgdGhlIGNvbnRleHQgb2YgdGhlIGxpc3RlbmVyIChvYmplY3QgdGhlIHRoaXMga2V5d29yZCB3aWxsIHBvaW50IHRvKS4gWW91IGNhbiBhbHNvIHBhc3Mgc2V2ZXJhbCBzcGFjZS1zZXBhcmF0ZWQgdHlwZXMgKGUuZy4gYCdjbGljayBkYmxjbGljaydgKS5cclxuXHQgKlxyXG5cdCAqIEBhbHRlcm5hdGl2ZVxyXG5cdCAqIEBtZXRob2Qgb24oZXZlbnRNYXA6IE9iamVjdCk6IHRoaXNcclxuXHQgKiBBZGRzIGEgc2V0IG9mIHR5cGUvbGlzdGVuZXIgcGFpcnMsIGUuZy4gYHtjbGljazogb25DbGljaywgbW91c2Vtb3ZlOiBvbk1vdXNlTW92ZX1gXHJcblx0ICovXHJcblx0b246IGZ1bmN0aW9uICh0eXBlcywgZm4sIGNvbnRleHQpIHtcclxuXHJcblx0XHQvLyB0eXBlcyBjYW4gYmUgYSBtYXAgb2YgdHlwZXMvaGFuZGxlcnNcclxuXHRcdGlmICh0eXBlb2YgdHlwZXMgPT09ICdvYmplY3QnKSB7XHJcblx0XHRcdGZvciAodmFyIHR5cGUgaW4gdHlwZXMpIHtcclxuXHRcdFx0XHQvLyB3ZSBkb24ndCBwcm9jZXNzIHNwYWNlLXNlcGFyYXRlZCBldmVudHMgaGVyZSBmb3IgcGVyZm9ybWFuY2U7XHJcblx0XHRcdFx0Ly8gaXQncyBhIGhvdCBwYXRoIHNpbmNlIExheWVyIHVzZXMgdGhlIG9uKG9iaikgc3ludGF4XHJcblx0XHRcdFx0dGhpcy5fb24odHlwZSwgdHlwZXNbdHlwZV0sIGZuKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdC8vIHR5cGVzIGNhbiBiZSBhIHN0cmluZyBvZiBzcGFjZS1zZXBhcmF0ZWQgd29yZHNcclxuXHRcdFx0dHlwZXMgPSBMLlV0aWwuc3BsaXRXb3Jkcyh0eXBlcyk7XHJcblxyXG5cdFx0XHRmb3IgKHZhciBpID0gMCwgbGVuID0gdHlwZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuXHRcdFx0XHR0aGlzLl9vbih0eXBlc1tpXSwgZm4sIGNvbnRleHQpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0LyogQG1ldGhvZCBvZmYodHlwZTogU3RyaW5nLCBmbj86IEZ1bmN0aW9uLCBjb250ZXh0PzogT2JqZWN0KTogdGhpc1xyXG5cdCAqIFJlbW92ZXMgYSBwcmV2aW91c2x5IGFkZGVkIGxpc3RlbmVyIGZ1bmN0aW9uLiBJZiBubyBmdW5jdGlvbiBpcyBzcGVjaWZpZWQsIGl0IHdpbGwgcmVtb3ZlIGFsbCB0aGUgbGlzdGVuZXJzIG9mIHRoYXQgcGFydGljdWxhciBldmVudCBmcm9tIHRoZSBvYmplY3QuIE5vdGUgdGhhdCBpZiB5b3UgcGFzc2VkIGEgY3VzdG9tIGNvbnRleHQgdG8gYG9uYCwgeW91IG11c3QgcGFzcyB0aGUgc2FtZSBjb250ZXh0IHRvIGBvZmZgIGluIG9yZGVyIHRvIHJlbW92ZSB0aGUgbGlzdGVuZXIuXHJcblx0ICpcclxuXHQgKiBAYWx0ZXJuYXRpdmVcclxuXHQgKiBAbWV0aG9kIG9mZihldmVudE1hcDogT2JqZWN0KTogdGhpc1xyXG5cdCAqIFJlbW92ZXMgYSBzZXQgb2YgdHlwZS9saXN0ZW5lciBwYWlycy5cclxuXHQgKlxyXG5cdCAqIEBhbHRlcm5hdGl2ZVxyXG5cdCAqIEBtZXRob2Qgb2ZmOiB0aGlzXHJcblx0ICogUmVtb3ZlcyBhbGwgbGlzdGVuZXJzIHRvIGFsbCBldmVudHMgb24gdGhlIG9iamVjdC5cclxuXHQgKi9cclxuXHRvZmY6IGZ1bmN0aW9uICh0eXBlcywgZm4sIGNvbnRleHQpIHtcclxuXHJcblx0XHRpZiAoIXR5cGVzKSB7XHJcblx0XHRcdC8vIGNsZWFyIGFsbCBsaXN0ZW5lcnMgaWYgY2FsbGVkIHdpdGhvdXQgYXJndW1lbnRzXHJcblx0XHRcdGRlbGV0ZSB0aGlzLl9ldmVudHM7XHJcblxyXG5cdFx0fSBlbHNlIGlmICh0eXBlb2YgdHlwZXMgPT09ICdvYmplY3QnKSB7XHJcblx0XHRcdGZvciAodmFyIHR5cGUgaW4gdHlwZXMpIHtcclxuXHRcdFx0XHR0aGlzLl9vZmYodHlwZSwgdHlwZXNbdHlwZV0sIGZuKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHR5cGVzID0gTC5VdGlsLnNwbGl0V29yZHModHlwZXMpO1xyXG5cclxuXHRcdFx0Zm9yICh2YXIgaSA9IDAsIGxlbiA9IHR5cGVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcblx0XHRcdFx0dGhpcy5fb2ZmKHR5cGVzW2ldLCBmbiwgY29udGV4dCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHQvLyBhdHRhY2ggbGlzdGVuZXIgKHdpdGhvdXQgc3ludGFjdGljIHN1Z2FyIG5vdylcclxuXHRfb246IGZ1bmN0aW9uICh0eXBlLCBmbiwgY29udGV4dCkge1xyXG5cdFx0dGhpcy5fZXZlbnRzID0gdGhpcy5fZXZlbnRzIHx8IHt9O1xyXG5cclxuXHRcdC8qIGdldC9pbml0IGxpc3RlbmVycyBmb3IgdHlwZSAqL1xyXG5cdFx0dmFyIHR5cGVMaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbdHlwZV07XHJcblx0XHRpZiAoIXR5cGVMaXN0ZW5lcnMpIHtcclxuXHRcdFx0dHlwZUxpc3RlbmVycyA9IFtdO1xyXG5cdFx0XHR0aGlzLl9ldmVudHNbdHlwZV0gPSB0eXBlTGlzdGVuZXJzO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChjb250ZXh0ID09PSB0aGlzKSB7XHJcblx0XHRcdC8vIExlc3MgbWVtb3J5IGZvb3RwcmludC5cclxuXHRcdFx0Y29udGV4dCA9IHVuZGVmaW5lZDtcclxuXHRcdH1cclxuXHRcdHZhciBuZXdMaXN0ZW5lciA9IHtmbjogZm4sIGN0eDogY29udGV4dH0sXHJcblx0XHQgICAgbGlzdGVuZXJzID0gdHlwZUxpc3RlbmVycztcclxuXHJcblx0XHQvLyBjaGVjayBpZiBmbiBhbHJlYWR5IHRoZXJlXHJcblx0XHRmb3IgKHZhciBpID0gMCwgbGVuID0gbGlzdGVuZXJzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcblx0XHRcdGlmIChsaXN0ZW5lcnNbaV0uZm4gPT09IGZuICYmIGxpc3RlbmVyc1tpXS5jdHggPT09IGNvbnRleHQpIHtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRsaXN0ZW5lcnMucHVzaChuZXdMaXN0ZW5lcik7XHJcblx0XHR0eXBlTGlzdGVuZXJzLmNvdW50Kys7XHJcblx0fSxcclxuXHJcblx0X29mZjogZnVuY3Rpb24gKHR5cGUsIGZuLCBjb250ZXh0KSB7XHJcblx0XHR2YXIgbGlzdGVuZXJzLFxyXG5cdFx0ICAgIGksXHJcblx0XHQgICAgbGVuO1xyXG5cclxuXHRcdGlmICghdGhpcy5fZXZlbnRzKSB7IHJldHVybjsgfVxyXG5cclxuXHRcdGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50c1t0eXBlXTtcclxuXHJcblx0XHRpZiAoIWxpc3RlbmVycykge1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCFmbikge1xyXG5cdFx0XHQvLyBTZXQgYWxsIHJlbW92ZWQgbGlzdGVuZXJzIHRvIG5vb3Agc28gdGhleSBhcmUgbm90IGNhbGxlZCBpZiByZW1vdmUgaGFwcGVucyBpbiBmaXJlXHJcblx0XHRcdGZvciAoaSA9IDAsIGxlbiA9IGxpc3RlbmVycy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG5cdFx0XHRcdGxpc3RlbmVyc1tpXS5mbiA9IEwuVXRpbC5mYWxzZUZuO1xyXG5cdFx0XHR9XHJcblx0XHRcdC8vIGNsZWFyIGFsbCBsaXN0ZW5lcnMgZm9yIGEgdHlwZSBpZiBmdW5jdGlvbiBpc24ndCBzcGVjaWZpZWRcclxuXHRcdFx0ZGVsZXRlIHRoaXMuX2V2ZW50c1t0eXBlXTtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChjb250ZXh0ID09PSB0aGlzKSB7XHJcblx0XHRcdGNvbnRleHQgPSB1bmRlZmluZWQ7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGxpc3RlbmVycykge1xyXG5cclxuXHRcdFx0Ly8gZmluZCBmbiBhbmQgcmVtb3ZlIGl0XHJcblx0XHRcdGZvciAoaSA9IDAsIGxlbiA9IGxpc3RlbmVycy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG5cdFx0XHRcdHZhciBsID0gbGlzdGVuZXJzW2ldO1xyXG5cdFx0XHRcdGlmIChsLmN0eCAhPT0gY29udGV4dCkgeyBjb250aW51ZTsgfVxyXG5cdFx0XHRcdGlmIChsLmZuID09PSBmbikge1xyXG5cclxuXHRcdFx0XHRcdC8vIHNldCB0aGUgcmVtb3ZlZCBsaXN0ZW5lciB0byBub29wIHNvIHRoYXQncyBub3QgY2FsbGVkIGlmIHJlbW92ZSBoYXBwZW5zIGluIGZpcmVcclxuXHRcdFx0XHRcdGwuZm4gPSBMLlV0aWwuZmFsc2VGbjtcclxuXHJcblx0XHRcdFx0XHRpZiAodGhpcy5fZmlyaW5nQ291bnQpIHtcclxuXHRcdFx0XHRcdFx0LyogY29weSBhcnJheSBpbiBjYXNlIGV2ZW50cyBhcmUgYmVpbmcgZmlyZWQgKi9cclxuXHRcdFx0XHRcdFx0dGhpcy5fZXZlbnRzW3R5cGVdID0gbGlzdGVuZXJzID0gbGlzdGVuZXJzLnNsaWNlKCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRsaXN0ZW5lcnMuc3BsaWNlKGksIDEpO1xyXG5cclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGZpcmUodHlwZTogU3RyaW5nLCBkYXRhPzogT2JqZWN0LCBwcm9wYWdhdGU/OiBCb29sZWFuKTogdGhpc1xyXG5cdC8vIEZpcmVzIGFuIGV2ZW50IG9mIHRoZSBzcGVjaWZpZWQgdHlwZS4gWW91IGNhbiBvcHRpb25hbGx5IHByb3ZpZGUgYW4gZGF0YVxyXG5cdC8vIG9iamVjdCDigJQgdGhlIGZpcnN0IGFyZ3VtZW50IG9mIHRoZSBsaXN0ZW5lciBmdW5jdGlvbiB3aWxsIGNvbnRhaW4gaXRzXHJcblx0Ly8gcHJvcGVydGllcy4gVGhlIGV2ZW50IG1pZ2h0IGNhbiBvcHRpb25hbGx5IGJlIHByb3BhZ2F0ZWQgdG8gZXZlbnQgcGFyZW50cy5cclxuXHRmaXJlOiBmdW5jdGlvbiAodHlwZSwgZGF0YSwgcHJvcGFnYXRlKSB7XHJcblx0XHRpZiAoIXRoaXMubGlzdGVucyh0eXBlLCBwcm9wYWdhdGUpKSB7IHJldHVybiB0aGlzOyB9XHJcblxyXG5cdFx0dmFyIGV2ZW50ID0gTC5VdGlsLmV4dGVuZCh7fSwgZGF0YSwge3R5cGU6IHR5cGUsIHRhcmdldDogdGhpc30pO1xyXG5cclxuXHRcdGlmICh0aGlzLl9ldmVudHMpIHtcclxuXHRcdFx0dmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50c1t0eXBlXTtcclxuXHJcblx0XHRcdGlmIChsaXN0ZW5lcnMpIHtcclxuXHRcdFx0XHR0aGlzLl9maXJpbmdDb3VudCA9ICh0aGlzLl9maXJpbmdDb3VudCArIDEpIHx8IDE7XHJcblx0XHRcdFx0Zm9yICh2YXIgaSA9IDAsIGxlbiA9IGxpc3RlbmVycy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG5cdFx0XHRcdFx0dmFyIGwgPSBsaXN0ZW5lcnNbaV07XHJcblx0XHRcdFx0XHRsLmZuLmNhbGwobC5jdHggfHwgdGhpcywgZXZlbnQpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0dGhpcy5fZmlyaW5nQ291bnQtLTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChwcm9wYWdhdGUpIHtcclxuXHRcdFx0Ly8gcHJvcGFnYXRlIHRoZSBldmVudCB0byBwYXJlbnRzIChzZXQgd2l0aCBhZGRFdmVudFBhcmVudClcclxuXHRcdFx0dGhpcy5fcHJvcGFnYXRlRXZlbnQoZXZlbnQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgbGlzdGVucyh0eXBlOiBTdHJpbmcpOiBCb29sZWFuXHJcblx0Ly8gUmV0dXJucyBgdHJ1ZWAgaWYgYSBwYXJ0aWN1bGFyIGV2ZW50IHR5cGUgaGFzIGFueSBsaXN0ZW5lcnMgYXR0YWNoZWQgdG8gaXQuXHJcblx0bGlzdGVuczogZnVuY3Rpb24gKHR5cGUsIHByb3BhZ2F0ZSkge1xyXG5cdFx0dmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50cyAmJiB0aGlzLl9ldmVudHNbdHlwZV07XHJcblx0XHRpZiAobGlzdGVuZXJzICYmIGxpc3RlbmVycy5sZW5ndGgpIHsgcmV0dXJuIHRydWU7IH1cclxuXHJcblx0XHRpZiAocHJvcGFnYXRlKSB7XHJcblx0XHRcdC8vIGFsc28gY2hlY2sgcGFyZW50cyBmb3IgbGlzdGVuZXJzIGlmIGV2ZW50IHByb3BhZ2F0ZXNcclxuXHRcdFx0Zm9yICh2YXIgaWQgaW4gdGhpcy5fZXZlbnRQYXJlbnRzKSB7XHJcblx0XHRcdFx0aWYgKHRoaXMuX2V2ZW50UGFyZW50c1tpZF0ubGlzdGVucyh0eXBlLCBwcm9wYWdhdGUpKSB7IHJldHVybiB0cnVlOyB9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHJldHVybiBmYWxzZTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIG9uY2Uo4oCmKTogdGhpc1xyXG5cdC8vIEJlaGF2ZXMgYXMgW2BvbijigKYpYF0oI2V2ZW50ZWQtb24pLCBleGNlcHQgdGhlIGxpc3RlbmVyIHdpbGwgb25seSBnZXQgZmlyZWQgb25jZSBhbmQgdGhlbiByZW1vdmVkLlxyXG5cdG9uY2U6IGZ1bmN0aW9uICh0eXBlcywgZm4sIGNvbnRleHQpIHtcclxuXHJcblx0XHRpZiAodHlwZW9mIHR5cGVzID09PSAnb2JqZWN0Jykge1xyXG5cdFx0XHRmb3IgKHZhciB0eXBlIGluIHR5cGVzKSB7XHJcblx0XHRcdFx0dGhpcy5vbmNlKHR5cGUsIHR5cGVzW3R5cGVdLCBmbik7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIHRoaXM7XHJcblx0XHR9XHJcblxyXG5cdFx0dmFyIGhhbmRsZXIgPSBMLmJpbmQoZnVuY3Rpb24gKCkge1xyXG5cdFx0XHR0aGlzXHJcblx0XHRcdCAgICAub2ZmKHR5cGVzLCBmbiwgY29udGV4dClcclxuXHRcdFx0ICAgIC5vZmYodHlwZXMsIGhhbmRsZXIsIGNvbnRleHQpO1xyXG5cdFx0fSwgdGhpcyk7XHJcblxyXG5cdFx0Ly8gYWRkIGEgbGlzdGVuZXIgdGhhdCdzIGV4ZWN1dGVkIG9uY2UgYW5kIHJlbW92ZWQgYWZ0ZXIgdGhhdFxyXG5cdFx0cmV0dXJuIHRoaXNcclxuXHRcdCAgICAub24odHlwZXMsIGZuLCBjb250ZXh0KVxyXG5cdFx0ICAgIC5vbih0eXBlcywgaGFuZGxlciwgY29udGV4dCk7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBhZGRFdmVudFBhcmVudChvYmo6IEV2ZW50ZWQpOiB0aGlzXHJcblx0Ly8gQWRkcyBhbiBldmVudCBwYXJlbnQgLSBhbiBgRXZlbnRlZGAgdGhhdCB3aWxsIHJlY2VpdmUgcHJvcGFnYXRlZCBldmVudHNcclxuXHRhZGRFdmVudFBhcmVudDogZnVuY3Rpb24gKG9iaikge1xyXG5cdFx0dGhpcy5fZXZlbnRQYXJlbnRzID0gdGhpcy5fZXZlbnRQYXJlbnRzIHx8IHt9O1xyXG5cdFx0dGhpcy5fZXZlbnRQYXJlbnRzW0wuc3RhbXAob2JqKV0gPSBvYmo7XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHJlbW92ZUV2ZW50UGFyZW50KG9iajogRXZlbnRlZCk6IHRoaXNcclxuXHQvLyBSZW1vdmVzIGFuIGV2ZW50IHBhcmVudCwgc28gaXQgd2lsbCBzdG9wIHJlY2VpdmluZyBwcm9wYWdhdGVkIGV2ZW50c1xyXG5cdHJlbW92ZUV2ZW50UGFyZW50OiBmdW5jdGlvbiAob2JqKSB7XHJcblx0XHRpZiAodGhpcy5fZXZlbnRQYXJlbnRzKSB7XHJcblx0XHRcdGRlbGV0ZSB0aGlzLl9ldmVudFBhcmVudHNbTC5zdGFtcChvYmopXTtcclxuXHRcdH1cclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH0sXHJcblxyXG5cdF9wcm9wYWdhdGVFdmVudDogZnVuY3Rpb24gKGUpIHtcclxuXHRcdGZvciAodmFyIGlkIGluIHRoaXMuX2V2ZW50UGFyZW50cykge1xyXG5cdFx0XHR0aGlzLl9ldmVudFBhcmVudHNbaWRdLmZpcmUoZS50eXBlLCBMLmV4dGVuZCh7bGF5ZXI6IGUudGFyZ2V0fSwgZSksIHRydWUpO1xyXG5cdFx0fVxyXG5cdH1cclxufSk7XHJcblxyXG52YXIgcHJvdG8gPSBMLkV2ZW50ZWQucHJvdG90eXBlO1xyXG5cclxuLy8gYWxpYXNlczsgd2Ugc2hvdWxkIGRpdGNoIHRob3NlIGV2ZW50dWFsbHlcclxuXHJcbi8vIEBtZXRob2QgYWRkRXZlbnRMaXN0ZW5lcijigKYpOiB0aGlzXHJcbi8vIEFsaWFzIHRvIFtgb24o4oCmKWBdKCNldmVudGVkLW9uKVxyXG5wcm90by5hZGRFdmVudExpc3RlbmVyID0gcHJvdG8ub247XHJcblxyXG4vLyBAbWV0aG9kIHJlbW92ZUV2ZW50TGlzdGVuZXIo4oCmKTogdGhpc1xyXG4vLyBBbGlhcyB0byBbYG9mZijigKYpYF0oI2V2ZW50ZWQtb2ZmKVxyXG5cclxuLy8gQG1ldGhvZCBjbGVhckFsbEV2ZW50TGlzdGVuZXJzKOKApik6IHRoaXNcclxuLy8gQWxpYXMgdG8gW2BvZmYoKWBdKCNldmVudGVkLW9mZilcclxucHJvdG8ucmVtb3ZlRXZlbnRMaXN0ZW5lciA9IHByb3RvLmNsZWFyQWxsRXZlbnRMaXN0ZW5lcnMgPSBwcm90by5vZmY7XHJcblxyXG4vLyBAbWV0aG9kIGFkZE9uZVRpbWVFdmVudExpc3RlbmVyKOKApik6IHRoaXNcclxuLy8gQWxpYXMgdG8gW2BvbmNlKOKApilgXSgjZXZlbnRlZC1vbmNlKVxyXG5wcm90by5hZGRPbmVUaW1lRXZlbnRMaXN0ZW5lciA9IHByb3RvLm9uY2U7XHJcblxyXG4vLyBAbWV0aG9kIGZpcmVFdmVudCjigKYpOiB0aGlzXHJcbi8vIEFsaWFzIHRvIFtgZmlyZSjigKYpYF0oI2V2ZW50ZWQtZmlyZSlcclxucHJvdG8uZmlyZUV2ZW50ID0gcHJvdG8uZmlyZTtcclxuXHJcbi8vIEBtZXRob2QgaGFzRXZlbnRMaXN0ZW5lcnMo4oCmKTogQm9vbGVhblxyXG4vLyBBbGlhcyB0byBbYGxpc3RlbnMo4oCmKWBdKCNldmVudGVkLWxpc3RlbnMpXHJcbnByb3RvLmhhc0V2ZW50TGlzdGVuZXJzID0gcHJvdG8ubGlzdGVucztcclxuXHJcbkwuTWl4aW4gPSB7RXZlbnRzOiBwcm90b307XHJcblxuLypcclxuICogQG5hbWVzcGFjZSBCcm93c2VyXHJcbiAqIEBha2EgTC5Ccm93c2VyXHJcbiAqXHJcbiAqIEEgbmFtZXNwYWNlIHdpdGggc3RhdGljIHByb3BlcnRpZXMgZm9yIGJyb3dzZXIvZmVhdHVyZSBkZXRlY3Rpb24gdXNlZCBieSBMZWFmbGV0IGludGVybmFsbHkuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqXHJcbiAqIGBgYGpzXHJcbiAqIGlmIChMLkJyb3dzZXIuaWVsdDkpIHtcclxuICogICBhbGVydCgnVXBncmFkZSB5b3VyIGJyb3dzZXIsIGR1ZGUhJyk7XHJcbiAqIH1cclxuICogYGBgXHJcbiAqL1xyXG5cclxuKGZ1bmN0aW9uICgpIHtcclxuXHJcblx0dmFyIHVhID0gbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLFxyXG5cdCAgICBkb2MgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsXHJcblxyXG5cdCAgICBpZSA9ICdBY3RpdmVYT2JqZWN0JyBpbiB3aW5kb3csXHJcblxyXG5cdCAgICB3ZWJraXQgICAgPSB1YS5pbmRleE9mKCd3ZWJraXQnKSAhPT0gLTEsXHJcblx0ICAgIHBoYW50b21qcyA9IHVhLmluZGV4T2YoJ3BoYW50b20nKSAhPT0gLTEsXHJcblx0ICAgIGFuZHJvaWQyMyA9IHVhLnNlYXJjaCgnYW5kcm9pZCBbMjNdJykgIT09IC0xLFxyXG5cdCAgICBjaHJvbWUgICAgPSB1YS5pbmRleE9mKCdjaHJvbWUnKSAhPT0gLTEsXHJcblx0ICAgIGdlY2tvICAgICA9IHVhLmluZGV4T2YoJ2dlY2tvJykgIT09IC0xICAmJiAhd2Via2l0ICYmICF3aW5kb3cub3BlcmEgJiYgIWllLFxyXG5cclxuXHQgICAgd2luID0gbmF2aWdhdG9yLnBsYXRmb3JtLmluZGV4T2YoJ1dpbicpID09PSAwLFxyXG5cclxuXHQgICAgbW9iaWxlID0gdHlwZW9mIG9yaWVudGF0aW9uICE9PSAndW5kZWZpbmVkJyB8fCB1YS5pbmRleE9mKCdtb2JpbGUnKSAhPT0gLTEsXHJcblx0ICAgIG1zUG9pbnRlciA9ICF3aW5kb3cuUG9pbnRlckV2ZW50ICYmIHdpbmRvdy5NU1BvaW50ZXJFdmVudCxcclxuXHQgICAgcG9pbnRlciA9IHdpbmRvdy5Qb2ludGVyRXZlbnQgfHwgbXNQb2ludGVyLFxyXG5cclxuXHQgICAgaWUzZCA9IGllICYmICgndHJhbnNpdGlvbicgaW4gZG9jLnN0eWxlKSxcclxuXHQgICAgd2Via2l0M2QgPSAoJ1dlYktpdENTU01hdHJpeCcgaW4gd2luZG93KSAmJiAoJ20xMScgaW4gbmV3IHdpbmRvdy5XZWJLaXRDU1NNYXRyaXgoKSkgJiYgIWFuZHJvaWQyMyxcclxuXHQgICAgZ2Vja28zZCA9ICdNb3pQZXJzcGVjdGl2ZScgaW4gZG9jLnN0eWxlLFxyXG5cdCAgICBvcGVyYTEyID0gJ09UcmFuc2l0aW9uJyBpbiBkb2Muc3R5bGU7XHJcblxyXG5cclxuXHR2YXIgdG91Y2ggPSAhd2luZG93LkxfTk9fVE9VQ0ggJiYgKHBvaW50ZXIgfHwgJ29udG91Y2hzdGFydCcgaW4gd2luZG93IHx8XHJcblx0XHRcdCh3aW5kb3cuRG9jdW1lbnRUb3VjaCAmJiBkb2N1bWVudCBpbnN0YW5jZW9mIHdpbmRvdy5Eb2N1bWVudFRvdWNoKSk7XHJcblxyXG5cdEwuQnJvd3NlciA9IHtcclxuXHJcblx0XHQvLyBAcHJvcGVydHkgaWU6IEJvb2xlYW5cclxuXHRcdC8vIGB0cnVlYCBmb3IgYWxsIEludGVybmV0IEV4cGxvcmVyIHZlcnNpb25zIChub3QgRWRnZSkuXHJcblx0XHRpZTogaWUsXHJcblxyXG5cdFx0Ly8gQHByb3BlcnR5IGllbHQ5OiBCb29sZWFuXHJcblx0XHQvLyBgdHJ1ZWAgZm9yIEludGVybmV0IEV4cGxvcmVyIHZlcnNpb25zIGxlc3MgdGhhbiA5LlxyXG5cdFx0aWVsdDk6IGllICYmICFkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyLFxyXG5cclxuXHRcdC8vIEBwcm9wZXJ0eSBlZGdlOiBCb29sZWFuXHJcblx0XHQvLyBgdHJ1ZWAgZm9yIHRoZSBFZGdlIHdlYiBicm93c2VyLlxyXG5cdFx0ZWRnZTogJ21zTGF1bmNoVXJpJyBpbiBuYXZpZ2F0b3IgJiYgISgnZG9jdW1lbnRNb2RlJyBpbiBkb2N1bWVudCksXHJcblxyXG5cdFx0Ly8gQHByb3BlcnR5IHdlYmtpdDogQm9vbGVhblxyXG5cdFx0Ly8gYHRydWVgIGZvciB3ZWJraXQtYmFzZWQgYnJvd3NlcnMgbGlrZSBDaHJvbWUgYW5kIFNhZmFyaSAoaW5jbHVkaW5nIG1vYmlsZSB2ZXJzaW9ucykuXHJcblx0XHR3ZWJraXQ6IHdlYmtpdCxcclxuXHJcblx0XHQvLyBAcHJvcGVydHkgZ2Vja286IEJvb2xlYW5cclxuXHRcdC8vIGB0cnVlYCBmb3IgZ2Vja28tYmFzZWQgYnJvd3NlcnMgbGlrZSBGaXJlZm94LlxyXG5cdFx0Z2Vja286IGdlY2tvLFxyXG5cclxuXHRcdC8vIEBwcm9wZXJ0eSBhbmRyb2lkOiBCb29sZWFuXHJcblx0XHQvLyBgdHJ1ZWAgZm9yIGFueSBicm93c2VyIHJ1bm5pbmcgb24gYW4gQW5kcm9pZCBwbGF0Zm9ybS5cclxuXHRcdGFuZHJvaWQ6IHVhLmluZGV4T2YoJ2FuZHJvaWQnKSAhPT0gLTEsXHJcblxyXG5cdFx0Ly8gQHByb3BlcnR5IGFuZHJvaWQyMzogQm9vbGVhblxyXG5cdFx0Ly8gYHRydWVgIGZvciBicm93c2VycyBydW5uaW5nIG9uIEFuZHJvaWQgMiBvciBBbmRyb2lkIDMuXHJcblx0XHRhbmRyb2lkMjM6IGFuZHJvaWQyMyxcclxuXHJcblx0XHQvLyBAcHJvcGVydHkgY2hyb21lOiBCb29sZWFuXHJcblx0XHQvLyBgdHJ1ZWAgZm9yIHRoZSBDaHJvbWUgYnJvd3Nlci5cclxuXHRcdGNocm9tZTogY2hyb21lLFxyXG5cclxuXHRcdC8vIEBwcm9wZXJ0eSBzYWZhcmk6IEJvb2xlYW5cclxuXHRcdC8vIGB0cnVlYCBmb3IgdGhlIFNhZmFyaSBicm93c2VyLlxyXG5cdFx0c2FmYXJpOiAhY2hyb21lICYmIHVhLmluZGV4T2YoJ3NhZmFyaScpICE9PSAtMSxcclxuXHJcblxyXG5cdFx0Ly8gQHByb3BlcnR5IHdpbjogQm9vbGVhblxyXG5cdFx0Ly8gYHRydWVgIHdoZW4gdGhlIGJyb3dzZXIgaXMgcnVubmluZyBpbiBhIFdpbmRvd3MgcGxhdGZvcm1cclxuXHRcdHdpbjogd2luLFxyXG5cclxuXHJcblx0XHQvLyBAcHJvcGVydHkgaWUzZDogQm9vbGVhblxyXG5cdFx0Ly8gYHRydWVgIGZvciBhbGwgSW50ZXJuZXQgRXhwbG9yZXIgdmVyc2lvbnMgc3VwcG9ydGluZyBDU1MgdHJhbnNmb3Jtcy5cclxuXHRcdGllM2Q6IGllM2QsXHJcblxyXG5cdFx0Ly8gQHByb3BlcnR5IHdlYmtpdDNkOiBCb29sZWFuXHJcblx0XHQvLyBgdHJ1ZWAgZm9yIHdlYmtpdC1iYXNlZCBicm93c2VycyBzdXBwb3J0aW5nIENTUyB0cmFuc2Zvcm1zLlxyXG5cdFx0d2Via2l0M2Q6IHdlYmtpdDNkLFxyXG5cclxuXHRcdC8vIEBwcm9wZXJ0eSBnZWNrbzNkOiBCb29sZWFuXHJcblx0XHQvLyBgdHJ1ZWAgZm9yIGdlY2tvLWJhc2VkIGJyb3dzZXJzIHN1cHBvcnRpbmcgQ1NTIHRyYW5zZm9ybXMuXHJcblx0XHRnZWNrbzNkOiBnZWNrbzNkLFxyXG5cclxuXHRcdC8vIEBwcm9wZXJ0eSBvcGVyYTEyOiBCb29sZWFuXHJcblx0XHQvLyBgdHJ1ZWAgZm9yIHRoZSBPcGVyYSBicm93c2VyIHN1cHBvcnRpbmcgQ1NTIHRyYW5zZm9ybXMgKHZlcnNpb24gMTIgb3IgbGF0ZXIpLlxyXG5cdFx0b3BlcmExMjogb3BlcmExMixcclxuXHJcblx0XHQvLyBAcHJvcGVydHkgYW55M2Q6IEJvb2xlYW5cclxuXHRcdC8vIGB0cnVlYCBmb3IgYWxsIGJyb3dzZXJzIHN1cHBvcnRpbmcgQ1NTIHRyYW5zZm9ybXMuXHJcblx0XHRhbnkzZDogIXdpbmRvdy5MX0RJU0FCTEVfM0QgJiYgKGllM2QgfHwgd2Via2l0M2QgfHwgZ2Vja28zZCkgJiYgIW9wZXJhMTIgJiYgIXBoYW50b21qcyxcclxuXHJcblxyXG5cdFx0Ly8gQHByb3BlcnR5IG1vYmlsZTogQm9vbGVhblxyXG5cdFx0Ly8gYHRydWVgIGZvciBhbGwgYnJvd3NlcnMgcnVubmluZyBpbiBhIG1vYmlsZSBkZXZpY2UuXHJcblx0XHRtb2JpbGU6IG1vYmlsZSxcclxuXHJcblx0XHQvLyBAcHJvcGVydHkgbW9iaWxlV2Via2l0OiBCb29sZWFuXHJcblx0XHQvLyBgdHJ1ZWAgZm9yIGFsbCB3ZWJraXQtYmFzZWQgYnJvd3NlcnMgaW4gYSBtb2JpbGUgZGV2aWNlLlxyXG5cdFx0bW9iaWxlV2Via2l0OiBtb2JpbGUgJiYgd2Via2l0LFxyXG5cclxuXHRcdC8vIEBwcm9wZXJ0eSBtb2JpbGVXZWJraXQzZDogQm9vbGVhblxyXG5cdFx0Ly8gYHRydWVgIGZvciBhbGwgd2Via2l0LWJhc2VkIGJyb3dzZXJzIGluIGEgbW9iaWxlIGRldmljZSBzdXBwb3J0aW5nIENTUyB0cmFuc2Zvcm1zLlxyXG5cdFx0bW9iaWxlV2Via2l0M2Q6IG1vYmlsZSAmJiB3ZWJraXQzZCxcclxuXHJcblx0XHQvLyBAcHJvcGVydHkgbW9iaWxlT3BlcmE6IEJvb2xlYW5cclxuXHRcdC8vIGB0cnVlYCBmb3IgdGhlIE9wZXJhIGJyb3dzZXIgaW4gYSBtb2JpbGUgZGV2aWNlLlxyXG5cdFx0bW9iaWxlT3BlcmE6IG1vYmlsZSAmJiB3aW5kb3cub3BlcmEsXHJcblxyXG5cdFx0Ly8gQHByb3BlcnR5IG1vYmlsZUdlY2tvOiBCb29sZWFuXHJcblx0XHQvLyBgdHJ1ZWAgZm9yIGdlY2tvLWJhc2VkIGJyb3dzZXJzIHJ1bm5pbmcgaW4gYSBtb2JpbGUgZGV2aWNlLlxyXG5cdFx0bW9iaWxlR2Vja286IG1vYmlsZSAmJiBnZWNrbyxcclxuXHJcblxyXG5cdFx0Ly8gQHByb3BlcnR5IHRvdWNoOiBCb29sZWFuXHJcblx0XHQvLyBgdHJ1ZWAgZm9yIGFsbCBicm93c2VycyBzdXBwb3J0aW5nIFt0b3VjaCBldmVudHNdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL0FQSS9Ub3VjaF9ldmVudHMpLlxyXG5cdFx0dG91Y2g6ICEhdG91Y2gsXHJcblxyXG5cdFx0Ly8gQHByb3BlcnR5IG1zUG9pbnRlcjogQm9vbGVhblxyXG5cdFx0Ly8gYHRydWVgIGZvciBicm93c2VycyBpbXBsZW1lbnRpbmcgdGhlIE1pY3Jvc29mdCB0b3VjaCBldmVudHMgbW9kZWwgKG5vdGFibHkgSUUxMCkuXHJcblx0XHRtc1BvaW50ZXI6ICEhbXNQb2ludGVyLFxyXG5cclxuXHRcdC8vIEBwcm9wZXJ0eSBwb2ludGVyOiBCb29sZWFuXHJcblx0XHQvLyBgdHJ1ZWAgZm9yIGFsbCBicm93c2VycyBzdXBwb3J0aW5nIFtwb2ludGVyIGV2ZW50c10oaHR0cHM6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9kbjQzMzI0NCUyOHY9dnMuODUlMjkuYXNweCkuXHJcblx0XHRwb2ludGVyOiAhIXBvaW50ZXIsXHJcblxyXG5cclxuXHRcdC8vIEBwcm9wZXJ0eSByZXRpbmE6IEJvb2xlYW5cclxuXHRcdC8vIGB0cnVlYCBmb3IgYnJvd3NlcnMgb24gYSBoaWdoLXJlc29sdXRpb24gXCJyZXRpbmFcIiBzY3JlZW4uXHJcblx0XHRyZXRpbmE6ICh3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fCAod2luZG93LnNjcmVlbi5kZXZpY2VYRFBJIC8gd2luZG93LnNjcmVlbi5sb2dpY2FsWERQSSkpID4gMVxyXG5cdH07XHJcblxyXG59KCkpO1xyXG5cbi8qXHJcbiAqIEBjbGFzcyBQb2ludFxyXG4gKiBAYWthIEwuUG9pbnRcclxuICpcclxuICogUmVwcmVzZW50cyBhIHBvaW50IHdpdGggYHhgIGFuZCBgeWAgY29vcmRpbmF0ZXMgaW4gcGl4ZWxzLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKlxyXG4gKiBgYGBqc1xyXG4gKiB2YXIgcG9pbnQgPSBMLnBvaW50KDIwMCwgMzAwKTtcclxuICogYGBgXHJcbiAqXHJcbiAqIEFsbCBMZWFmbGV0IG1ldGhvZHMgYW5kIG9wdGlvbnMgdGhhdCBhY2NlcHQgYFBvaW50YCBvYmplY3RzIGFsc28gYWNjZXB0IHRoZW0gaW4gYSBzaW1wbGUgQXJyYXkgZm9ybSAodW5sZXNzIG5vdGVkIG90aGVyd2lzZSksIHNvIHRoZXNlIGxpbmVzIGFyZSBlcXVpdmFsZW50OlxyXG4gKlxyXG4gKiBgYGBqc1xyXG4gKiBtYXAucGFuQnkoWzIwMCwgMzAwXSk7XHJcbiAqIG1hcC5wYW5CeShMLnBvaW50KDIwMCwgMzAwKSk7XHJcbiAqIGBgYFxyXG4gKi9cclxuXHJcbkwuUG9pbnQgPSBmdW5jdGlvbiAoeCwgeSwgcm91bmQpIHtcclxuXHR0aGlzLnggPSAocm91bmQgPyBNYXRoLnJvdW5kKHgpIDogeCk7XHJcblx0dGhpcy55ID0gKHJvdW5kID8gTWF0aC5yb3VuZCh5KSA6IHkpO1xyXG59O1xyXG5cclxuTC5Qb2ludC5wcm90b3R5cGUgPSB7XHJcblxyXG5cdC8vIEBtZXRob2QgY2xvbmUoKTogUG9pbnRcclxuXHQvLyBSZXR1cm5zIGEgY29weSBvZiB0aGUgY3VycmVudCBwb2ludC5cclxuXHRjbG9uZTogZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuIG5ldyBMLlBvaW50KHRoaXMueCwgdGhpcy55KTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGFkZChvdGhlclBvaW50OiBQb2ludCk6IFBvaW50XHJcblx0Ly8gUmV0dXJucyB0aGUgcmVzdWx0IG9mIGFkZGl0aW9uIG9mIHRoZSBjdXJyZW50IGFuZCB0aGUgZ2l2ZW4gcG9pbnRzLlxyXG5cdGFkZDogZnVuY3Rpb24gKHBvaW50KSB7XHJcblx0XHQvLyBub24tZGVzdHJ1Y3RpdmUsIHJldHVybnMgYSBuZXcgcG9pbnRcclxuXHRcdHJldHVybiB0aGlzLmNsb25lKCkuX2FkZChMLnBvaW50KHBvaW50KSk7XHJcblx0fSxcclxuXHJcblx0X2FkZDogZnVuY3Rpb24gKHBvaW50KSB7XHJcblx0XHQvLyBkZXN0cnVjdGl2ZSwgdXNlZCBkaXJlY3RseSBmb3IgcGVyZm9ybWFuY2UgaW4gc2l0dWF0aW9ucyB3aGVyZSBpdCdzIHNhZmUgdG8gbW9kaWZ5IGV4aXN0aW5nIHBvaW50XHJcblx0XHR0aGlzLnggKz0gcG9pbnQueDtcclxuXHRcdHRoaXMueSArPSBwb2ludC55O1xyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBzdWJ0cmFjdChvdGhlclBvaW50OiBQb2ludCk6IFBvaW50XHJcblx0Ly8gUmV0dXJucyB0aGUgcmVzdWx0IG9mIHN1YnRyYWN0aW9uIG9mIHRoZSBnaXZlbiBwb2ludCBmcm9tIHRoZSBjdXJyZW50LlxyXG5cdHN1YnRyYWN0OiBmdW5jdGlvbiAocG9pbnQpIHtcclxuXHRcdHJldHVybiB0aGlzLmNsb25lKCkuX3N1YnRyYWN0KEwucG9pbnQocG9pbnQpKTtcclxuXHR9LFxyXG5cclxuXHRfc3VidHJhY3Q6IGZ1bmN0aW9uIChwb2ludCkge1xyXG5cdFx0dGhpcy54IC09IHBvaW50Lng7XHJcblx0XHR0aGlzLnkgLT0gcG9pbnQueTtcclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgZGl2aWRlQnkobnVtOiBOdW1iZXIpOiBQb2ludFxyXG5cdC8vIFJldHVybnMgdGhlIHJlc3VsdCBvZiBkaXZpc2lvbiBvZiB0aGUgY3VycmVudCBwb2ludCBieSB0aGUgZ2l2ZW4gbnVtYmVyLlxyXG5cdGRpdmlkZUJ5OiBmdW5jdGlvbiAobnVtKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5jbG9uZSgpLl9kaXZpZGVCeShudW0pO1xyXG5cdH0sXHJcblxyXG5cdF9kaXZpZGVCeTogZnVuY3Rpb24gKG51bSkge1xyXG5cdFx0dGhpcy54IC89IG51bTtcclxuXHRcdHRoaXMueSAvPSBudW07XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIG11bHRpcGx5QnkobnVtOiBOdW1iZXIpOiBQb2ludFxyXG5cdC8vIFJldHVybnMgdGhlIHJlc3VsdCBvZiBtdWx0aXBsaWNhdGlvbiBvZiB0aGUgY3VycmVudCBwb2ludCBieSB0aGUgZ2l2ZW4gbnVtYmVyLlxyXG5cdG11bHRpcGx5Qnk6IGZ1bmN0aW9uIChudW0pIHtcclxuXHRcdHJldHVybiB0aGlzLmNsb25lKCkuX211bHRpcGx5QnkobnVtKTtcclxuXHR9LFxyXG5cclxuXHRfbXVsdGlwbHlCeTogZnVuY3Rpb24gKG51bSkge1xyXG5cdFx0dGhpcy54ICo9IG51bTtcclxuXHRcdHRoaXMueSAqPSBudW07XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHNjYWxlQnkoc2NhbGU6IFBvaW50KTogUG9pbnRcclxuXHQvLyBNdWx0aXBseSBlYWNoIGNvb3JkaW5hdGUgb2YgdGhlIGN1cnJlbnQgcG9pbnQgYnkgZWFjaCBjb29yZGluYXRlIG9mXHJcblx0Ly8gYHNjYWxlYC4gSW4gbGluZWFyIGFsZ2VicmEgdGVybXMsIG11bHRpcGx5IHRoZSBwb2ludCBieSB0aGVcclxuXHQvLyBbc2NhbGluZyBtYXRyaXhdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1NjYWxpbmdfJTI4Z2VvbWV0cnklMjkjTWF0cml4X3JlcHJlc2VudGF0aW9uKVxyXG5cdC8vIGRlZmluZWQgYnkgYHNjYWxlYC5cclxuXHRzY2FsZUJ5OiBmdW5jdGlvbiAocG9pbnQpIHtcclxuXHRcdHJldHVybiBuZXcgTC5Qb2ludCh0aGlzLnggKiBwb2ludC54LCB0aGlzLnkgKiBwb2ludC55KTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHVuc2NhbGVCeShzY2FsZTogUG9pbnQpOiBQb2ludFxyXG5cdC8vIEludmVyc2Ugb2YgYHNjYWxlQnlgLiBEaXZpZGUgZWFjaCBjb29yZGluYXRlIG9mIHRoZSBjdXJyZW50IHBvaW50IGJ5XHJcblx0Ly8gZWFjaCBjb29yZGluYXRlIG9mIGBzY2FsZWAuXHJcblx0dW5zY2FsZUJ5OiBmdW5jdGlvbiAocG9pbnQpIHtcclxuXHRcdHJldHVybiBuZXcgTC5Qb2ludCh0aGlzLnggLyBwb2ludC54LCB0aGlzLnkgLyBwb2ludC55KTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHJvdW5kKCk6IFBvaW50XHJcblx0Ly8gUmV0dXJucyBhIGNvcHkgb2YgdGhlIGN1cnJlbnQgcG9pbnQgd2l0aCByb3VuZGVkIGNvb3JkaW5hdGVzLlxyXG5cdHJvdW5kOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5jbG9uZSgpLl9yb3VuZCgpO1xyXG5cdH0sXHJcblxyXG5cdF9yb3VuZDogZnVuY3Rpb24gKCkge1xyXG5cdFx0dGhpcy54ID0gTWF0aC5yb3VuZCh0aGlzLngpO1xyXG5cdFx0dGhpcy55ID0gTWF0aC5yb3VuZCh0aGlzLnkpO1xyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBmbG9vcigpOiBQb2ludFxyXG5cdC8vIFJldHVybnMgYSBjb3B5IG9mIHRoZSBjdXJyZW50IHBvaW50IHdpdGggZmxvb3JlZCBjb29yZGluYXRlcyAocm91bmRlZCBkb3duKS5cclxuXHRmbG9vcjogZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuY2xvbmUoKS5fZmxvb3IoKTtcclxuXHR9LFxyXG5cclxuXHRfZmxvb3I6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHRoaXMueCA9IE1hdGguZmxvb3IodGhpcy54KTtcclxuXHRcdHRoaXMueSA9IE1hdGguZmxvb3IodGhpcy55KTtcclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgY2VpbCgpOiBQb2ludFxyXG5cdC8vIFJldHVybnMgYSBjb3B5IG9mIHRoZSBjdXJyZW50IHBvaW50IHdpdGggY2VpbGVkIGNvb3JkaW5hdGVzIChyb3VuZGVkIHVwKS5cclxuXHRjZWlsOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5jbG9uZSgpLl9jZWlsKCk7XHJcblx0fSxcclxuXHJcblx0X2NlaWw6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHRoaXMueCA9IE1hdGguY2VpbCh0aGlzLngpO1xyXG5cdFx0dGhpcy55ID0gTWF0aC5jZWlsKHRoaXMueSk7XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGRpc3RhbmNlVG8ob3RoZXJQb2ludDogUG9pbnQpOiBOdW1iZXJcclxuXHQvLyBSZXR1cm5zIHRoZSBjYXJ0ZXNpYW4gZGlzdGFuY2UgYmV0d2VlbiB0aGUgY3VycmVudCBhbmQgdGhlIGdpdmVuIHBvaW50cy5cclxuXHRkaXN0YW5jZVRvOiBmdW5jdGlvbiAocG9pbnQpIHtcclxuXHRcdHBvaW50ID0gTC5wb2ludChwb2ludCk7XHJcblxyXG5cdFx0dmFyIHggPSBwb2ludC54IC0gdGhpcy54LFxyXG5cdFx0ICAgIHkgPSBwb2ludC55IC0gdGhpcy55O1xyXG5cclxuXHRcdHJldHVybiBNYXRoLnNxcnQoeCAqIHggKyB5ICogeSk7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBlcXVhbHMob3RoZXJQb2ludDogUG9pbnQpOiBCb29sZWFuXHJcblx0Ly8gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGdpdmVuIHBvaW50IGhhcyB0aGUgc2FtZSBjb29yZGluYXRlcy5cclxuXHRlcXVhbHM6IGZ1bmN0aW9uIChwb2ludCkge1xyXG5cdFx0cG9pbnQgPSBMLnBvaW50KHBvaW50KTtcclxuXHJcblx0XHRyZXR1cm4gcG9pbnQueCA9PT0gdGhpcy54ICYmXHJcblx0XHQgICAgICAgcG9pbnQueSA9PT0gdGhpcy55O1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgY29udGFpbnMob3RoZXJQb2ludDogUG9pbnQpOiBCb29sZWFuXHJcblx0Ly8gUmV0dXJucyBgdHJ1ZWAgaWYgYm90aCBjb29yZGluYXRlcyBvZiB0aGUgZ2l2ZW4gcG9pbnQgYXJlIGxlc3MgdGhhbiB0aGUgY29ycmVzcG9uZGluZyBjdXJyZW50IHBvaW50IGNvb3JkaW5hdGVzIChpbiBhYnNvbHV0ZSB2YWx1ZXMpLlxyXG5cdGNvbnRhaW5zOiBmdW5jdGlvbiAocG9pbnQpIHtcclxuXHRcdHBvaW50ID0gTC5wb2ludChwb2ludCk7XHJcblxyXG5cdFx0cmV0dXJuIE1hdGguYWJzKHBvaW50LngpIDw9IE1hdGguYWJzKHRoaXMueCkgJiZcclxuXHRcdCAgICAgICBNYXRoLmFicyhwb2ludC55KSA8PSBNYXRoLmFicyh0aGlzLnkpO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgdG9TdHJpbmcoKTogU3RyaW5nXHJcblx0Ly8gUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgcG9pbnQgZm9yIGRlYnVnZ2luZyBwdXJwb3Nlcy5cclxuXHR0b1N0cmluZzogZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuICdQb2ludCgnICtcclxuXHRcdCAgICAgICAgTC5VdGlsLmZvcm1hdE51bSh0aGlzLngpICsgJywgJyArXHJcblx0XHQgICAgICAgIEwuVXRpbC5mb3JtYXROdW0odGhpcy55KSArICcpJztcclxuXHR9XHJcbn07XHJcblxyXG4vLyBAZmFjdG9yeSBMLnBvaW50KHg6IE51bWJlciwgeTogTnVtYmVyLCByb3VuZD86IEJvb2xlYW4pXHJcbi8vIENyZWF0ZXMgYSBQb2ludCBvYmplY3Qgd2l0aCB0aGUgZ2l2ZW4gYHhgIGFuZCBgeWAgY29vcmRpbmF0ZXMuIElmIG9wdGlvbmFsIGByb3VuZGAgaXMgc2V0IHRvIHRydWUsIHJvdW5kcyB0aGUgYHhgIGFuZCBgeWAgdmFsdWVzLlxyXG5cclxuLy8gQGFsdGVybmF0aXZlXHJcbi8vIEBmYWN0b3J5IEwucG9pbnQoY29vcmRzOiBOdW1iZXJbXSlcclxuLy8gRXhwZWN0cyBhbiBhcnJheSBvZiB0aGUgZm9ybSBgW3gsIHldYCBpbnN0ZWFkLlxyXG5cclxuLy8gQGFsdGVybmF0aXZlXHJcbi8vIEBmYWN0b3J5IEwucG9pbnQoY29vcmRzOiBPYmplY3QpXHJcbi8vIEV4cGVjdHMgYSBwbGFpbiBvYmplY3Qgb2YgdGhlIGZvcm0gYHt4OiBOdW1iZXIsIHk6IE51bWJlcn1gIGluc3RlYWQuXHJcbkwucG9pbnQgPSBmdW5jdGlvbiAoeCwgeSwgcm91bmQpIHtcclxuXHRpZiAoeCBpbnN0YW5jZW9mIEwuUG9pbnQpIHtcclxuXHRcdHJldHVybiB4O1xyXG5cdH1cclxuXHRpZiAoTC5VdGlsLmlzQXJyYXkoeCkpIHtcclxuXHRcdHJldHVybiBuZXcgTC5Qb2ludCh4WzBdLCB4WzFdKTtcclxuXHR9XHJcblx0aWYgKHggPT09IHVuZGVmaW5lZCB8fCB4ID09PSBudWxsKSB7XHJcblx0XHRyZXR1cm4geDtcclxuXHR9XHJcblx0aWYgKHR5cGVvZiB4ID09PSAnb2JqZWN0JyAmJiAneCcgaW4geCAmJiAneScgaW4geCkge1xyXG5cdFx0cmV0dXJuIG5ldyBMLlBvaW50KHgueCwgeC55KTtcclxuXHR9XHJcblx0cmV0dXJuIG5ldyBMLlBvaW50KHgsIHksIHJvdW5kKTtcclxufTtcclxuXG4vKlxyXG4gKiBAY2xhc3MgQm91bmRzXHJcbiAqIEBha2EgTC5Cb3VuZHNcclxuICpcclxuICogUmVwcmVzZW50cyBhIHJlY3Rhbmd1bGFyIGFyZWEgaW4gcGl4ZWwgY29vcmRpbmF0ZXMuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqXHJcbiAqIGBgYGpzXHJcbiAqIHZhciBwMSA9IEwucG9pbnQoMTAsIDEwKSxcclxuICogcDIgPSBMLnBvaW50KDQwLCA2MCksXHJcbiAqIGJvdW5kcyA9IEwuYm91bmRzKHAxLCBwMik7XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBBbGwgTGVhZmxldCBtZXRob2RzIHRoYXQgYWNjZXB0IGBCb3VuZHNgIG9iamVjdHMgYWxzbyBhY2NlcHQgdGhlbSBpbiBhIHNpbXBsZSBBcnJheSBmb3JtICh1bmxlc3Mgbm90ZWQgb3RoZXJ3aXNlKSwgc28gdGhlIGJvdW5kcyBleGFtcGxlIGFib3ZlIGNhbiBiZSBwYXNzZWQgbGlrZSB0aGlzOlxyXG4gKlxyXG4gKiBgYGBqc1xyXG4gKiBvdGhlckJvdW5kcy5pbnRlcnNlY3RzKFtbMTAsIDEwXSwgWzQwLCA2MF1dKTtcclxuICogYGBgXHJcbiAqL1xyXG5cclxuTC5Cb3VuZHMgPSBmdW5jdGlvbiAoYSwgYikge1xyXG5cdGlmICghYSkgeyByZXR1cm47IH1cclxuXHJcblx0dmFyIHBvaW50cyA9IGIgPyBbYSwgYl0gOiBhO1xyXG5cclxuXHRmb3IgKHZhciBpID0gMCwgbGVuID0gcG9pbnRzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcblx0XHR0aGlzLmV4dGVuZChwb2ludHNbaV0pO1xyXG5cdH1cclxufTtcclxuXHJcbkwuQm91bmRzLnByb3RvdHlwZSA9IHtcclxuXHQvLyBAbWV0aG9kIGV4dGVuZChwb2ludDogUG9pbnQpOiB0aGlzXHJcblx0Ly8gRXh0ZW5kcyB0aGUgYm91bmRzIHRvIGNvbnRhaW4gdGhlIGdpdmVuIHBvaW50LlxyXG5cdGV4dGVuZDogZnVuY3Rpb24gKHBvaW50KSB7IC8vIChQb2ludClcclxuXHRcdHBvaW50ID0gTC5wb2ludChwb2ludCk7XHJcblxyXG5cdFx0Ly8gQHByb3BlcnR5IG1pbjogUG9pbnRcclxuXHRcdC8vIFRoZSB0b3AgbGVmdCBjb3JuZXIgb2YgdGhlIHJlY3RhbmdsZS5cclxuXHRcdC8vIEBwcm9wZXJ0eSBtYXg6IFBvaW50XHJcblx0XHQvLyBUaGUgYm90dG9tIHJpZ2h0IGNvcm5lciBvZiB0aGUgcmVjdGFuZ2xlLlxyXG5cdFx0aWYgKCF0aGlzLm1pbiAmJiAhdGhpcy5tYXgpIHtcclxuXHRcdFx0dGhpcy5taW4gPSBwb2ludC5jbG9uZSgpO1xyXG5cdFx0XHR0aGlzLm1heCA9IHBvaW50LmNsb25lKCk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR0aGlzLm1pbi54ID0gTWF0aC5taW4ocG9pbnQueCwgdGhpcy5taW4ueCk7XHJcblx0XHRcdHRoaXMubWF4LnggPSBNYXRoLm1heChwb2ludC54LCB0aGlzLm1heC54KTtcclxuXHRcdFx0dGhpcy5taW4ueSA9IE1hdGgubWluKHBvaW50LnksIHRoaXMubWluLnkpO1xyXG5cdFx0XHR0aGlzLm1heC55ID0gTWF0aC5tYXgocG9pbnQueSwgdGhpcy5tYXgueSk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGdldENlbnRlcihyb3VuZD86IEJvb2xlYW4pOiBQb2ludFxyXG5cdC8vIFJldHVybnMgdGhlIGNlbnRlciBwb2ludCBvZiB0aGUgYm91bmRzLlxyXG5cdGdldENlbnRlcjogZnVuY3Rpb24gKHJvdW5kKSB7XHJcblx0XHRyZXR1cm4gbmV3IEwuUG9pbnQoXHJcblx0XHQgICAgICAgICh0aGlzLm1pbi54ICsgdGhpcy5tYXgueCkgLyAyLFxyXG5cdFx0ICAgICAgICAodGhpcy5taW4ueSArIHRoaXMubWF4LnkpIC8gMiwgcm91bmQpO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgZ2V0Qm90dG9tTGVmdCgpOiBQb2ludFxyXG5cdC8vIFJldHVybnMgdGhlIGJvdHRvbS1sZWZ0IHBvaW50IG9mIHRoZSBib3VuZHMuXHJcblx0Z2V0Qm90dG9tTGVmdDogZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuIG5ldyBMLlBvaW50KHRoaXMubWluLngsIHRoaXMubWF4LnkpO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgZ2V0VG9wUmlnaHQoKTogUG9pbnRcclxuXHQvLyBSZXR1cm5zIHRoZSB0b3AtcmlnaHQgcG9pbnQgb2YgdGhlIGJvdW5kcy5cclxuXHRnZXRUb3BSaWdodDogZnVuY3Rpb24gKCkgeyAvLyAtPiBQb2ludFxyXG5cdFx0cmV0dXJuIG5ldyBMLlBvaW50KHRoaXMubWF4LngsIHRoaXMubWluLnkpO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgZ2V0U2l6ZSgpOiBQb2ludFxyXG5cdC8vIFJldHVybnMgdGhlIHNpemUgb2YgdGhlIGdpdmVuIGJvdW5kc1xyXG5cdGdldFNpemU6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiB0aGlzLm1heC5zdWJ0cmFjdCh0aGlzLm1pbik7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBjb250YWlucyhvdGhlckJvdW5kczogQm91bmRzKTogQm9vbGVhblxyXG5cdC8vIFJldHVybnMgYHRydWVgIGlmIHRoZSByZWN0YW5nbGUgY29udGFpbnMgdGhlIGdpdmVuIG9uZS5cclxuXHQvLyBAYWx0ZXJuYXRpdmVcclxuXHQvLyBAbWV0aG9kIGNvbnRhaW5zKHBvaW50OiBQb2ludCk6IEJvb2xlYW5cclxuXHQvLyBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgcmVjdGFuZ2xlIGNvbnRhaW5zIHRoZSBnaXZlbiBwb2ludC5cclxuXHRjb250YWluczogZnVuY3Rpb24gKG9iaikge1xyXG5cdFx0dmFyIG1pbiwgbWF4O1xyXG5cclxuXHRcdGlmICh0eXBlb2Ygb2JqWzBdID09PSAnbnVtYmVyJyB8fCBvYmogaW5zdGFuY2VvZiBMLlBvaW50KSB7XHJcblx0XHRcdG9iaiA9IEwucG9pbnQob2JqKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdG9iaiA9IEwuYm91bmRzKG9iaik7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKG9iaiBpbnN0YW5jZW9mIEwuQm91bmRzKSB7XHJcblx0XHRcdG1pbiA9IG9iai5taW47XHJcblx0XHRcdG1heCA9IG9iai5tYXg7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRtaW4gPSBtYXggPSBvYmo7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIChtaW4ueCA+PSB0aGlzLm1pbi54KSAmJlxyXG5cdFx0ICAgICAgIChtYXgueCA8PSB0aGlzLm1heC54KSAmJlxyXG5cdFx0ICAgICAgIChtaW4ueSA+PSB0aGlzLm1pbi55KSAmJlxyXG5cdFx0ICAgICAgIChtYXgueSA8PSB0aGlzLm1heC55KTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGludGVyc2VjdHMob3RoZXJCb3VuZHM6IEJvdW5kcyk6IEJvb2xlYW5cclxuXHQvLyBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgcmVjdGFuZ2xlIGludGVyc2VjdHMgdGhlIGdpdmVuIGJvdW5kcy4gVHdvIGJvdW5kc1xyXG5cdC8vIGludGVyc2VjdCBpZiB0aGV5IGhhdmUgYXQgbGVhc3Qgb25lIHBvaW50IGluIGNvbW1vbi5cclxuXHRpbnRlcnNlY3RzOiBmdW5jdGlvbiAoYm91bmRzKSB7IC8vIChCb3VuZHMpIC0+IEJvb2xlYW5cclxuXHRcdGJvdW5kcyA9IEwuYm91bmRzKGJvdW5kcyk7XHJcblxyXG5cdFx0dmFyIG1pbiA9IHRoaXMubWluLFxyXG5cdFx0ICAgIG1heCA9IHRoaXMubWF4LFxyXG5cdFx0ICAgIG1pbjIgPSBib3VuZHMubWluLFxyXG5cdFx0ICAgIG1heDIgPSBib3VuZHMubWF4LFxyXG5cdFx0ICAgIHhJbnRlcnNlY3RzID0gKG1heDIueCA+PSBtaW4ueCkgJiYgKG1pbjIueCA8PSBtYXgueCksXHJcblx0XHQgICAgeUludGVyc2VjdHMgPSAobWF4Mi55ID49IG1pbi55KSAmJiAobWluMi55IDw9IG1heC55KTtcclxuXHJcblx0XHRyZXR1cm4geEludGVyc2VjdHMgJiYgeUludGVyc2VjdHM7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBvdmVybGFwcyhvdGhlckJvdW5kczogQm91bmRzKTogQm9vbGVhblxyXG5cdC8vIFJldHVybnMgYHRydWVgIGlmIHRoZSByZWN0YW5nbGUgb3ZlcmxhcHMgdGhlIGdpdmVuIGJvdW5kcy4gVHdvIGJvdW5kc1xyXG5cdC8vIG92ZXJsYXAgaWYgdGhlaXIgaW50ZXJzZWN0aW9uIGlzIGFuIGFyZWEuXHJcblx0b3ZlcmxhcHM6IGZ1bmN0aW9uIChib3VuZHMpIHsgLy8gKEJvdW5kcykgLT4gQm9vbGVhblxyXG5cdFx0Ym91bmRzID0gTC5ib3VuZHMoYm91bmRzKTtcclxuXHJcblx0XHR2YXIgbWluID0gdGhpcy5taW4sXHJcblx0XHQgICAgbWF4ID0gdGhpcy5tYXgsXHJcblx0XHQgICAgbWluMiA9IGJvdW5kcy5taW4sXHJcblx0XHQgICAgbWF4MiA9IGJvdW5kcy5tYXgsXHJcblx0XHQgICAgeE92ZXJsYXBzID0gKG1heDIueCA+IG1pbi54KSAmJiAobWluMi54IDwgbWF4LngpLFxyXG5cdFx0ICAgIHlPdmVybGFwcyA9IChtYXgyLnkgPiBtaW4ueSkgJiYgKG1pbjIueSA8IG1heC55KTtcclxuXHJcblx0XHRyZXR1cm4geE92ZXJsYXBzICYmIHlPdmVybGFwcztcclxuXHR9LFxyXG5cclxuXHRpc1ZhbGlkOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gISEodGhpcy5taW4gJiYgdGhpcy5tYXgpO1xyXG5cdH1cclxufTtcclxuXHJcblxyXG4vLyBAZmFjdG9yeSBMLmJvdW5kcyh0b3BMZWZ0OiBQb2ludCwgYm90dG9tUmlnaHQ6IFBvaW50KVxyXG4vLyBDcmVhdGVzIGEgQm91bmRzIG9iamVjdCBmcm9tIHR3byBjb29yZGluYXRlcyAodXN1YWxseSB0b3AtbGVmdCBhbmQgYm90dG9tLXJpZ2h0IGNvcm5lcnMpLlxyXG4vLyBAYWx0ZXJuYXRpdmVcclxuLy8gQGZhY3RvcnkgTC5ib3VuZHMocG9pbnRzOiBQb2ludFtdKVxyXG4vLyBDcmVhdGVzIGEgQm91bmRzIG9iamVjdCBmcm9tIHRoZSBwb2ludHMgaXQgY29udGFpbnNcclxuTC5ib3VuZHMgPSBmdW5jdGlvbiAoYSwgYikge1xyXG5cdGlmICghYSB8fCBhIGluc3RhbmNlb2YgTC5Cb3VuZHMpIHtcclxuXHRcdHJldHVybiBhO1xyXG5cdH1cclxuXHRyZXR1cm4gbmV3IEwuQm91bmRzKGEsIGIpO1xyXG59O1xyXG5cbi8qXHJcbiAqIEBjbGFzcyBUcmFuc2Zvcm1hdGlvblxyXG4gKiBAYWthIEwuVHJhbnNmb3JtYXRpb25cclxuICpcclxuICogUmVwcmVzZW50cyBhbiBhZmZpbmUgdHJhbnNmb3JtYXRpb246IGEgc2V0IG9mIGNvZWZmaWNpZW50cyBgYWAsIGBiYCwgYGNgLCBgZGBcclxuICogZm9yIHRyYW5zZm9ybWluZyBhIHBvaW50IG9mIGEgZm9ybSBgKHgsIHkpYCBpbnRvIGAoYSp4ICsgYiwgYyp5ICsgZClgIGFuZCBkb2luZ1xyXG4gKiB0aGUgcmV2ZXJzZS4gVXNlZCBieSBMZWFmbGV0IGluIGl0cyBwcm9qZWN0aW9ucyBjb2RlLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKlxyXG4gKiBgYGBqc1xyXG4gKiB2YXIgdHJhbnNmb3JtYXRpb24gPSBuZXcgTC5UcmFuc2Zvcm1hdGlvbigyLCA1LCAtMSwgMTApLFxyXG4gKiBcdHAgPSBMLnBvaW50KDEsIDIpLFxyXG4gKiBcdHAyID0gdHJhbnNmb3JtYXRpb24udHJhbnNmb3JtKHApLCAvLyAgTC5wb2ludCg3LCA4KVxyXG4gKiBcdHAzID0gdHJhbnNmb3JtYXRpb24udW50cmFuc2Zvcm0ocDIpOyAvLyAgTC5wb2ludCgxLCAyKVxyXG4gKiBgYGBcclxuICovXHJcblxyXG5cclxuLy8gZmFjdG9yeSBuZXcgTC5UcmFuc2Zvcm1hdGlvbihhOiBOdW1iZXIsIGI6IE51bWJlciwgYzogTnVtYmVyLCBkOiBOdW1iZXIpXHJcbi8vIENyZWF0ZXMgYSBgVHJhbnNmb3JtYXRpb25gIG9iamVjdCB3aXRoIHRoZSBnaXZlbiBjb2VmZmljaWVudHMuXHJcbkwuVHJhbnNmb3JtYXRpb24gPSBmdW5jdGlvbiAoYSwgYiwgYywgZCkge1xyXG5cdHRoaXMuX2EgPSBhO1xyXG5cdHRoaXMuX2IgPSBiO1xyXG5cdHRoaXMuX2MgPSBjO1xyXG5cdHRoaXMuX2QgPSBkO1xyXG59O1xyXG5cclxuTC5UcmFuc2Zvcm1hdGlvbi5wcm90b3R5cGUgPSB7XHJcblx0Ly8gQG1ldGhvZCB0cmFuc2Zvcm0ocG9pbnQ6IFBvaW50LCBzY2FsZT86IE51bWJlcik6IFBvaW50XHJcblx0Ly8gUmV0dXJucyBhIHRyYW5zZm9ybWVkIHBvaW50LCBvcHRpb25hbGx5IG11bHRpcGxpZWQgYnkgdGhlIGdpdmVuIHNjYWxlLlxyXG5cdC8vIE9ubHkgYWNjZXB0cyByZWFsIGBMLlBvaW50YCBpbnN0YW5jZXMsIG5vdCBhcnJheXMuXHJcblx0dHJhbnNmb3JtOiBmdW5jdGlvbiAocG9pbnQsIHNjYWxlKSB7IC8vIChQb2ludCwgTnVtYmVyKSAtPiBQb2ludFxyXG5cdFx0cmV0dXJuIHRoaXMuX3RyYW5zZm9ybShwb2ludC5jbG9uZSgpLCBzY2FsZSk7XHJcblx0fSxcclxuXHJcblx0Ly8gZGVzdHJ1Y3RpdmUgdHJhbnNmb3JtIChmYXN0ZXIpXHJcblx0X3RyYW5zZm9ybTogZnVuY3Rpb24gKHBvaW50LCBzY2FsZSkge1xyXG5cdFx0c2NhbGUgPSBzY2FsZSB8fCAxO1xyXG5cdFx0cG9pbnQueCA9IHNjYWxlICogKHRoaXMuX2EgKiBwb2ludC54ICsgdGhpcy5fYik7XHJcblx0XHRwb2ludC55ID0gc2NhbGUgKiAodGhpcy5fYyAqIHBvaW50LnkgKyB0aGlzLl9kKTtcclxuXHRcdHJldHVybiBwb2ludDtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHVudHJhbnNmb3JtKHBvaW50OiBQb2ludCwgc2NhbGU/OiBOdW1iZXIpOiBQb2ludFxyXG5cdC8vIFJldHVybnMgdGhlIHJldmVyc2UgdHJhbnNmb3JtYXRpb24gb2YgdGhlIGdpdmVuIHBvaW50LCBvcHRpb25hbGx5IGRpdmlkZWRcclxuXHQvLyBieSB0aGUgZ2l2ZW4gc2NhbGUuIE9ubHkgYWNjZXB0cyByZWFsIGBMLlBvaW50YCBpbnN0YW5jZXMsIG5vdCBhcnJheXMuXHJcblx0dW50cmFuc2Zvcm06IGZ1bmN0aW9uIChwb2ludCwgc2NhbGUpIHtcclxuXHRcdHNjYWxlID0gc2NhbGUgfHwgMTtcclxuXHRcdHJldHVybiBuZXcgTC5Qb2ludChcclxuXHRcdCAgICAgICAgKHBvaW50LnggLyBzY2FsZSAtIHRoaXMuX2IpIC8gdGhpcy5fYSxcclxuXHRcdCAgICAgICAgKHBvaW50LnkgLyBzY2FsZSAtIHRoaXMuX2QpIC8gdGhpcy5fYyk7XHJcblx0fVxyXG59O1xyXG5cbi8qXHJcbiAqIEBuYW1lc3BhY2UgRG9tVXRpbFxyXG4gKlxyXG4gKiBVdGlsaXR5IGZ1bmN0aW9ucyB0byB3b3JrIHdpdGggdGhlIFtET01dKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL0FQSS9Eb2N1bWVudF9PYmplY3RfTW9kZWwpXHJcbiAqIHRyZWUsIHVzZWQgYnkgTGVhZmxldCBpbnRlcm5hbGx5LlxyXG4gKlxyXG4gKiBNb3N0IGZ1bmN0aW9ucyBleHBlY3Rpbmcgb3IgcmV0dXJuaW5nIGEgYEhUTUxFbGVtZW50YCBhbHNvIHdvcmsgZm9yXHJcbiAqIFNWRyBlbGVtZW50cy4gVGhlIG9ubHkgZGlmZmVyZW5jZSBpcyB0aGF0IGNsYXNzZXMgcmVmZXIgdG8gQ1NTIGNsYXNzZXNcclxuICogaW4gSFRNTCBhbmQgU1ZHIGNsYXNzZXMgaW4gU1ZHLlxyXG4gKi9cclxuXHJcbkwuRG9tVXRpbCA9IHtcclxuXHJcblx0Ly8gQGZ1bmN0aW9uIGdldChpZDogU3RyaW5nfEhUTUxFbGVtZW50KTogSFRNTEVsZW1lbnRcclxuXHQvLyBSZXR1cm5zIGFuIGVsZW1lbnQgZ2l2ZW4gaXRzIERPTSBpZCwgb3IgcmV0dXJucyB0aGUgZWxlbWVudCBpdHNlbGZcclxuXHQvLyBpZiBpdCB3YXMgcGFzc2VkIGRpcmVjdGx5LlxyXG5cdGdldDogZnVuY3Rpb24gKGlkKSB7XHJcblx0XHRyZXR1cm4gdHlwZW9mIGlkID09PSAnc3RyaW5nJyA/IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKSA6IGlkO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBmdW5jdGlvbiBnZXRTdHlsZShlbDogSFRNTEVsZW1lbnQsIHN0eWxlQXR0cmliOiBTdHJpbmcpOiBTdHJpbmdcclxuXHQvLyBSZXR1cm5zIHRoZSB2YWx1ZSBmb3IgYSBjZXJ0YWluIHN0eWxlIGF0dHJpYnV0ZSBvbiBhbiBlbGVtZW50LFxyXG5cdC8vIGluY2x1ZGluZyBjb21wdXRlZCB2YWx1ZXMgb3IgdmFsdWVzIHNldCB0aHJvdWdoIENTUy5cclxuXHRnZXRTdHlsZTogZnVuY3Rpb24gKGVsLCBzdHlsZSkge1xyXG5cclxuXHRcdHZhciB2YWx1ZSA9IGVsLnN0eWxlW3N0eWxlXSB8fCAoZWwuY3VycmVudFN0eWxlICYmIGVsLmN1cnJlbnRTdHlsZVtzdHlsZV0pO1xyXG5cclxuXHRcdGlmICgoIXZhbHVlIHx8IHZhbHVlID09PSAnYXV0bycpICYmIGRvY3VtZW50LmRlZmF1bHRWaWV3KSB7XHJcblx0XHRcdHZhciBjc3MgPSBkb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKGVsLCBudWxsKTtcclxuXHRcdFx0dmFsdWUgPSBjc3MgPyBjc3Nbc3R5bGVdIDogbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdmFsdWUgPT09ICdhdXRvJyA/IG51bGwgOiB2YWx1ZTtcclxuXHR9LFxyXG5cclxuXHQvLyBAZnVuY3Rpb24gY3JlYXRlKHRhZ05hbWU6IFN0cmluZywgY2xhc3NOYW1lPzogU3RyaW5nLCBjb250YWluZXI/OiBIVE1MRWxlbWVudCk6IEhUTUxFbGVtZW50XHJcblx0Ly8gQ3JlYXRlcyBhbiBIVE1MIGVsZW1lbnQgd2l0aCBgdGFnTmFtZWAsIHNldHMgaXRzIGNsYXNzIHRvIGBjbGFzc05hbWVgLCBhbmQgb3B0aW9uYWxseSBhcHBlbmRzIGl0IHRvIGBjb250YWluZXJgIGVsZW1lbnQuXHJcblx0Y3JlYXRlOiBmdW5jdGlvbiAodGFnTmFtZSwgY2xhc3NOYW1lLCBjb250YWluZXIpIHtcclxuXHJcblx0XHR2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZ05hbWUpO1xyXG5cdFx0ZWwuY2xhc3NOYW1lID0gY2xhc3NOYW1lIHx8ICcnO1xyXG5cclxuXHRcdGlmIChjb250YWluZXIpIHtcclxuXHRcdFx0Y29udGFpbmVyLmFwcGVuZENoaWxkKGVsKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gZWw7XHJcblx0fSxcclxuXHJcblx0Ly8gQGZ1bmN0aW9uIHJlbW92ZShlbDogSFRNTEVsZW1lbnQpXHJcblx0Ly8gUmVtb3ZlcyBgZWxgIGZyb20gaXRzIHBhcmVudCBlbGVtZW50XHJcblx0cmVtb3ZlOiBmdW5jdGlvbiAoZWwpIHtcclxuXHRcdHZhciBwYXJlbnQgPSBlbC5wYXJlbnROb2RlO1xyXG5cdFx0aWYgKHBhcmVudCkge1xyXG5cdFx0XHRwYXJlbnQucmVtb3ZlQ2hpbGQoZWwpO1xyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdC8vIEBmdW5jdGlvbiBlbXB0eShlbDogSFRNTEVsZW1lbnQpXHJcblx0Ly8gUmVtb3ZlcyBhbGwgb2YgYGVsYCdzIGNoaWxkcmVuIGVsZW1lbnRzIGZyb20gYGVsYFxyXG5cdGVtcHR5OiBmdW5jdGlvbiAoZWwpIHtcclxuXHRcdHdoaWxlIChlbC5maXJzdENoaWxkKSB7XHJcblx0XHRcdGVsLnJlbW92ZUNoaWxkKGVsLmZpcnN0Q2hpbGQpO1xyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdC8vIEBmdW5jdGlvbiB0b0Zyb250KGVsOiBIVE1MRWxlbWVudClcclxuXHQvLyBNYWtlcyBgZWxgIHRoZSBsYXN0IGNoaWxkcmVuIG9mIGl0cyBwYXJlbnQsIHNvIGl0IHJlbmRlcnMgaW4gZnJvbnQgb2YgdGhlIG90aGVyIGNoaWxkcmVuLlxyXG5cdHRvRnJvbnQ6IGZ1bmN0aW9uIChlbCkge1xyXG5cdFx0ZWwucGFyZW50Tm9kZS5hcHBlbmRDaGlsZChlbCk7XHJcblx0fSxcclxuXHJcblx0Ly8gQGZ1bmN0aW9uIHRvQmFjayhlbDogSFRNTEVsZW1lbnQpXHJcblx0Ly8gTWFrZXMgYGVsYCB0aGUgZmlyc3QgY2hpbGRyZW4gb2YgaXRzIHBhcmVudCwgc28gaXQgcmVuZGVycyBiYWNrIGZyb20gdGhlIG90aGVyIGNoaWxkcmVuLlxyXG5cdHRvQmFjazogZnVuY3Rpb24gKGVsKSB7XHJcblx0XHR2YXIgcGFyZW50ID0gZWwucGFyZW50Tm9kZTtcclxuXHRcdHBhcmVudC5pbnNlcnRCZWZvcmUoZWwsIHBhcmVudC5maXJzdENoaWxkKTtcclxuXHR9LFxyXG5cclxuXHQvLyBAZnVuY3Rpb24gaGFzQ2xhc3MoZWw6IEhUTUxFbGVtZW50LCBuYW1lOiBTdHJpbmcpOiBCb29sZWFuXHJcblx0Ly8gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVsZW1lbnQncyBjbGFzcyBhdHRyaWJ1dGUgY29udGFpbnMgYG5hbWVgLlxyXG5cdGhhc0NsYXNzOiBmdW5jdGlvbiAoZWwsIG5hbWUpIHtcclxuXHRcdGlmIChlbC5jbGFzc0xpc3QgIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRyZXR1cm4gZWwuY2xhc3NMaXN0LmNvbnRhaW5zKG5hbWUpO1xyXG5cdFx0fVxyXG5cdFx0dmFyIGNsYXNzTmFtZSA9IEwuRG9tVXRpbC5nZXRDbGFzcyhlbCk7XHJcblx0XHRyZXR1cm4gY2xhc3NOYW1lLmxlbmd0aCA+IDAgJiYgbmV3IFJlZ0V4cCgnKF58XFxcXHMpJyArIG5hbWUgKyAnKFxcXFxzfCQpJykudGVzdChjbGFzc05hbWUpO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBmdW5jdGlvbiBhZGRDbGFzcyhlbDogSFRNTEVsZW1lbnQsIG5hbWU6IFN0cmluZylcclxuXHQvLyBBZGRzIGBuYW1lYCB0byB0aGUgZWxlbWVudCdzIGNsYXNzIGF0dHJpYnV0ZS5cclxuXHRhZGRDbGFzczogZnVuY3Rpb24gKGVsLCBuYW1lKSB7XHJcblx0XHRpZiAoZWwuY2xhc3NMaXN0ICE9PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0dmFyIGNsYXNzZXMgPSBMLlV0aWwuc3BsaXRXb3JkcyhuYW1lKTtcclxuXHRcdFx0Zm9yICh2YXIgaSA9IDAsIGxlbiA9IGNsYXNzZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuXHRcdFx0XHRlbC5jbGFzc0xpc3QuYWRkKGNsYXNzZXNbaV0pO1xyXG5cdFx0XHR9XHJcblx0XHR9IGVsc2UgaWYgKCFMLkRvbVV0aWwuaGFzQ2xhc3MoZWwsIG5hbWUpKSB7XHJcblx0XHRcdHZhciBjbGFzc05hbWUgPSBMLkRvbVV0aWwuZ2V0Q2xhc3MoZWwpO1xyXG5cdFx0XHRMLkRvbVV0aWwuc2V0Q2xhc3MoZWwsIChjbGFzc05hbWUgPyBjbGFzc05hbWUgKyAnICcgOiAnJykgKyBuYW1lKTtcclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHQvLyBAZnVuY3Rpb24gcmVtb3ZlQ2xhc3MoZWw6IEhUTUxFbGVtZW50LCBuYW1lOiBTdHJpbmcpXHJcblx0Ly8gUmVtb3ZlcyBgbmFtZWAgZnJvbSB0aGUgZWxlbWVudCdzIGNsYXNzIGF0dHJpYnV0ZS5cclxuXHRyZW1vdmVDbGFzczogZnVuY3Rpb24gKGVsLCBuYW1lKSB7XHJcblx0XHRpZiAoZWwuY2xhc3NMaXN0ICE9PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0ZWwuY2xhc3NMaXN0LnJlbW92ZShuYW1lKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdEwuRG9tVXRpbC5zZXRDbGFzcyhlbCwgTC5VdGlsLnRyaW0oKCcgJyArIEwuRG9tVXRpbC5nZXRDbGFzcyhlbCkgKyAnICcpLnJlcGxhY2UoJyAnICsgbmFtZSArICcgJywgJyAnKSkpO1xyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdC8vIEBmdW5jdGlvbiBzZXRDbGFzcyhlbDogSFRNTEVsZW1lbnQsIG5hbWU6IFN0cmluZylcclxuXHQvLyBTZXRzIHRoZSBlbGVtZW50J3MgY2xhc3MuXHJcblx0c2V0Q2xhc3M6IGZ1bmN0aW9uIChlbCwgbmFtZSkge1xyXG5cdFx0aWYgKGVsLmNsYXNzTmFtZS5iYXNlVmFsID09PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0ZWwuY2xhc3NOYW1lID0gbmFtZTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdC8vIGluIGNhc2Ugb2YgU1ZHIGVsZW1lbnRcclxuXHRcdFx0ZWwuY2xhc3NOYW1lLmJhc2VWYWwgPSBuYW1lO1xyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdC8vIEBmdW5jdGlvbiBnZXRDbGFzcyhlbDogSFRNTEVsZW1lbnQpOiBTdHJpbmdcclxuXHQvLyBSZXR1cm5zIHRoZSBlbGVtZW50J3MgY2xhc3MuXHJcblx0Z2V0Q2xhc3M6IGZ1bmN0aW9uIChlbCkge1xyXG5cdFx0cmV0dXJuIGVsLmNsYXNzTmFtZS5iYXNlVmFsID09PSB1bmRlZmluZWQgPyBlbC5jbGFzc05hbWUgOiBlbC5jbGFzc05hbWUuYmFzZVZhbDtcclxuXHR9LFxyXG5cclxuXHQvLyBAZnVuY3Rpb24gc2V0T3BhY2l0eShlbDogSFRNTEVsZW1lbnQsIG9wYWNpdHk6IE51bWJlcilcclxuXHQvLyBTZXQgdGhlIG9wYWNpdHkgb2YgYW4gZWxlbWVudCAoaW5jbHVkaW5nIG9sZCBJRSBzdXBwb3J0KS5cclxuXHQvLyBgb3BhY2l0eWAgbXVzdCBiZSBhIG51bWJlciBmcm9tIGAwYCB0byBgMWAuXHJcblx0c2V0T3BhY2l0eTogZnVuY3Rpb24gKGVsLCB2YWx1ZSkge1xyXG5cclxuXHRcdGlmICgnb3BhY2l0eScgaW4gZWwuc3R5bGUpIHtcclxuXHRcdFx0ZWwuc3R5bGUub3BhY2l0eSA9IHZhbHVlO1xyXG5cclxuXHRcdH0gZWxzZSBpZiAoJ2ZpbHRlcicgaW4gZWwuc3R5bGUpIHtcclxuXHRcdFx0TC5Eb21VdGlsLl9zZXRPcGFjaXR5SUUoZWwsIHZhbHVlKTtcclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHRfc2V0T3BhY2l0eUlFOiBmdW5jdGlvbiAoZWwsIHZhbHVlKSB7XHJcblx0XHR2YXIgZmlsdGVyID0gZmFsc2UsXHJcblx0XHQgICAgZmlsdGVyTmFtZSA9ICdEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5BbHBoYSc7XHJcblxyXG5cdFx0Ly8gZmlsdGVycyBjb2xsZWN0aW9uIHRocm93cyBhbiBlcnJvciBpZiB3ZSB0cnkgdG8gcmV0cmlldmUgYSBmaWx0ZXIgdGhhdCBkb2Vzbid0IGV4aXN0XHJcblx0XHR0cnkge1xyXG5cdFx0XHRmaWx0ZXIgPSBlbC5maWx0ZXJzLml0ZW0oZmlsdGVyTmFtZSk7XHJcblx0XHR9IGNhdGNoIChlKSB7XHJcblx0XHRcdC8vIGRvbid0IHNldCBvcGFjaXR5IHRvIDEgaWYgd2UgaGF2ZW4ndCBhbHJlYWR5IHNldCBhbiBvcGFjaXR5LFxyXG5cdFx0XHQvLyBpdCBpc24ndCBuZWVkZWQgYW5kIGJyZWFrcyB0cmFuc3BhcmVudCBwbmdzLlxyXG5cdFx0XHRpZiAodmFsdWUgPT09IDEpIHsgcmV0dXJuOyB9XHJcblx0XHR9XHJcblxyXG5cdFx0dmFsdWUgPSBNYXRoLnJvdW5kKHZhbHVlICogMTAwKTtcclxuXHJcblx0XHRpZiAoZmlsdGVyKSB7XHJcblx0XHRcdGZpbHRlci5FbmFibGVkID0gKHZhbHVlICE9PSAxMDApO1xyXG5cdFx0XHRmaWx0ZXIuT3BhY2l0eSA9IHZhbHVlO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0ZWwuc3R5bGUuZmlsdGVyICs9ICcgcHJvZ2lkOicgKyBmaWx0ZXJOYW1lICsgJyhvcGFjaXR5PScgKyB2YWx1ZSArICcpJztcclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHQvLyBAZnVuY3Rpb24gdGVzdFByb3AocHJvcHM6IFN0cmluZ1tdKTogU3RyaW5nfGZhbHNlXHJcblx0Ly8gR29lcyB0aHJvdWdoIHRoZSBhcnJheSBvZiBzdHlsZSBuYW1lcyBhbmQgcmV0dXJucyB0aGUgZmlyc3QgbmFtZVxyXG5cdC8vIHRoYXQgaXMgYSB2YWxpZCBzdHlsZSBuYW1lIGZvciBhbiBlbGVtZW50LiBJZiBubyBzdWNoIG5hbWUgaXMgZm91bmQsXHJcblx0Ly8gaXQgcmV0dXJucyBmYWxzZS4gVXNlZnVsIGZvciB2ZW5kb3ItcHJlZml4ZWQgc3R5bGVzIGxpa2UgYHRyYW5zZm9ybWAuXHJcblx0dGVzdFByb3A6IGZ1bmN0aW9uIChwcm9wcykge1xyXG5cclxuXHRcdHZhciBzdHlsZSA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZTtcclxuXHJcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdGlmIChwcm9wc1tpXSBpbiBzdHlsZSkge1xyXG5cdFx0XHRcdHJldHVybiBwcm9wc1tpXTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGZhbHNlO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBmdW5jdGlvbiBzZXRUcmFuc2Zvcm0oZWw6IEhUTUxFbGVtZW50LCBvZmZzZXQ6IFBvaW50LCBzY2FsZT86IE51bWJlcilcclxuXHQvLyBSZXNldHMgdGhlIDNEIENTUyB0cmFuc2Zvcm0gb2YgYGVsYCBzbyBpdCBpcyB0cmFuc2xhdGVkIGJ5IGBvZmZzZXRgIHBpeGVsc1xyXG5cdC8vIGFuZCBvcHRpb25hbGx5IHNjYWxlZCBieSBgc2NhbGVgLiBEb2VzIG5vdCBoYXZlIGFuIGVmZmVjdCBpZiB0aGVcclxuXHQvLyBicm93c2VyIGRvZXNuJ3Qgc3VwcG9ydCAzRCBDU1MgdHJhbnNmb3Jtcy5cclxuXHRzZXRUcmFuc2Zvcm06IGZ1bmN0aW9uIChlbCwgb2Zmc2V0LCBzY2FsZSkge1xyXG5cdFx0dmFyIHBvcyA9IG9mZnNldCB8fCBuZXcgTC5Qb2ludCgwLCAwKTtcclxuXHJcblx0XHRlbC5zdHlsZVtMLkRvbVV0aWwuVFJBTlNGT1JNXSA9XHJcblx0XHRcdChMLkJyb3dzZXIuaWUzZCA/XHJcblx0XHRcdFx0J3RyYW5zbGF0ZSgnICsgcG9zLnggKyAncHgsJyArIHBvcy55ICsgJ3B4KScgOlxyXG5cdFx0XHRcdCd0cmFuc2xhdGUzZCgnICsgcG9zLnggKyAncHgsJyArIHBvcy55ICsgJ3B4LDApJykgK1xyXG5cdFx0XHQoc2NhbGUgPyAnIHNjYWxlKCcgKyBzY2FsZSArICcpJyA6ICcnKTtcclxuXHR9LFxyXG5cclxuXHQvLyBAZnVuY3Rpb24gc2V0UG9zaXRpb24oZWw6IEhUTUxFbGVtZW50LCBwb3NpdGlvbjogUG9pbnQpXHJcblx0Ly8gU2V0cyB0aGUgcG9zaXRpb24gb2YgYGVsYCB0byBjb29yZGluYXRlcyBzcGVjaWZpZWQgYnkgYHBvc2l0aW9uYCxcclxuXHQvLyB1c2luZyBDU1MgdHJhbnNsYXRlIG9yIHRvcC9sZWZ0IHBvc2l0aW9uaW5nIGRlcGVuZGluZyBvbiB0aGUgYnJvd3NlclxyXG5cdC8vICh1c2VkIGJ5IExlYWZsZXQgaW50ZXJuYWxseSB0byBwb3NpdGlvbiBpdHMgbGF5ZXJzKS5cclxuXHRzZXRQb3NpdGlvbjogZnVuY3Rpb24gKGVsLCBwb2ludCkgeyAvLyAoSFRNTEVsZW1lbnQsIFBvaW50WywgQm9vbGVhbl0pXHJcblxyXG5cdFx0Lyplc2xpbnQtZGlzYWJsZSAqL1xyXG5cdFx0ZWwuX2xlYWZsZXRfcG9zID0gcG9pbnQ7XHJcblx0XHQvKmVzbGludC1lbmFibGUgKi9cclxuXHJcblx0XHRpZiAoTC5Ccm93c2VyLmFueTNkKSB7XHJcblx0XHRcdEwuRG9tVXRpbC5zZXRUcmFuc2Zvcm0oZWwsIHBvaW50KTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGVsLnN0eWxlLmxlZnQgPSBwb2ludC54ICsgJ3B4JztcclxuXHRcdFx0ZWwuc3R5bGUudG9wID0gcG9pbnQueSArICdweCc7XHJcblx0XHR9XHJcblx0fSxcclxuXHJcblx0Ly8gQGZ1bmN0aW9uIGdldFBvc2l0aW9uKGVsOiBIVE1MRWxlbWVudCk6IFBvaW50XHJcblx0Ly8gUmV0dXJucyB0aGUgY29vcmRpbmF0ZXMgb2YgYW4gZWxlbWVudCBwcmV2aW91c2x5IHBvc2l0aW9uZWQgd2l0aCBzZXRQb3NpdGlvbi5cclxuXHRnZXRQb3NpdGlvbjogZnVuY3Rpb24gKGVsKSB7XHJcblx0XHQvLyB0aGlzIG1ldGhvZCBpcyBvbmx5IHVzZWQgZm9yIGVsZW1lbnRzIHByZXZpb3VzbHkgcG9zaXRpb25lZCB1c2luZyBzZXRQb3NpdGlvbixcclxuXHRcdC8vIHNvIGl0J3Mgc2FmZSB0byBjYWNoZSB0aGUgcG9zaXRpb24gZm9yIHBlcmZvcm1hbmNlXHJcblxyXG5cdFx0cmV0dXJuIGVsLl9sZWFmbGV0X3BvcyB8fCBuZXcgTC5Qb2ludCgwLCAwKTtcclxuXHR9XHJcbn07XHJcblxyXG5cclxuKGZ1bmN0aW9uICgpIHtcclxuXHQvLyBwcmVmaXggc3R5bGUgcHJvcGVydHkgbmFtZXNcclxuXHJcblx0Ly8gQHByb3BlcnR5IFRSQU5TRk9STTogU3RyaW5nXHJcblx0Ly8gVmVuZG9yLXByZWZpeGVkIGZyYW5zZm9ybSBzdHlsZSBuYW1lIChlLmcuIGAnd2Via2l0VHJhbnNmb3JtJ2AgZm9yIFdlYktpdCkuXHJcblx0TC5Eb21VdGlsLlRSQU5TRk9STSA9IEwuRG9tVXRpbC50ZXN0UHJvcChcclxuXHRcdFx0Wyd0cmFuc2Zvcm0nLCAnV2Via2l0VHJhbnNmb3JtJywgJ09UcmFuc2Zvcm0nLCAnTW96VHJhbnNmb3JtJywgJ21zVHJhbnNmb3JtJ10pO1xyXG5cclxuXHJcblx0Ly8gd2Via2l0VHJhbnNpdGlvbiBjb21lcyBmaXJzdCBiZWNhdXNlIHNvbWUgYnJvd3NlciB2ZXJzaW9ucyB0aGF0IGRyb3AgdmVuZG9yIHByZWZpeCBkb24ndCBkb1xyXG5cdC8vIHRoZSBzYW1lIGZvciB0aGUgdHJhbnNpdGlvbmVuZCBldmVudCwgaW4gcGFydGljdWxhciB0aGUgQW5kcm9pZCA0LjEgc3RvY2sgYnJvd3NlclxyXG5cclxuXHQvLyBAcHJvcGVydHkgVFJBTlNJVElPTjogU3RyaW5nXHJcblx0Ly8gVmVuZG9yLXByZWZpeGVkIHRyYW5zZm9ybSBzdHlsZSBuYW1lLlxyXG5cdHZhciB0cmFuc2l0aW9uID0gTC5Eb21VdGlsLlRSQU5TSVRJT04gPSBMLkRvbVV0aWwudGVzdFByb3AoXHJcblx0XHRcdFsnd2Via2l0VHJhbnNpdGlvbicsICd0cmFuc2l0aW9uJywgJ09UcmFuc2l0aW9uJywgJ01velRyYW5zaXRpb24nLCAnbXNUcmFuc2l0aW9uJ10pO1xyXG5cclxuXHRMLkRvbVV0aWwuVFJBTlNJVElPTl9FTkQgPVxyXG5cdFx0XHR0cmFuc2l0aW9uID09PSAnd2Via2l0VHJhbnNpdGlvbicgfHwgdHJhbnNpdGlvbiA9PT0gJ09UcmFuc2l0aW9uJyA/IHRyYW5zaXRpb24gKyAnRW5kJyA6ICd0cmFuc2l0aW9uZW5kJztcclxuXHJcblx0Ly8gQGZ1bmN0aW9uIGRpc2FibGVUZXh0U2VsZWN0aW9uKClcclxuXHQvLyBQcmV2ZW50cyB0aGUgdXNlciBmcm9tIGdlbmVyYXRpbmcgYHNlbGVjdHN0YXJ0YCBET00gZXZlbnRzLCB1c3VhbGx5IGdlbmVyYXRlZFxyXG5cdC8vIHdoZW4gdGhlIHVzZXIgZHJhZ3MgdGhlIG1vdXNlIHRocm91Z2ggYSBwYWdlIHdpdGggdGV4dC4gVXNlZCBpbnRlcm5hbGx5XHJcblx0Ly8gYnkgTGVhZmxldCB0byBvdmVycmlkZSB0aGUgYmVoYXZpb3VyIG9mIGFueSBjbGljay1hbmQtZHJhZyBpbnRlcmFjdGlvbiBvblxyXG5cdC8vIHRoZSBtYXAuIEFmZmVjdHMgZHJhZyBpbnRlcmFjdGlvbnMgb24gdGhlIHdob2xlIGRvY3VtZW50LlxyXG5cclxuXHQvLyBAZnVuY3Rpb24gZW5hYmxlVGV4dFNlbGVjdGlvbigpXHJcblx0Ly8gQ2FuY2VscyB0aGUgZWZmZWN0cyBvZiBhIHByZXZpb3VzIFtgTC5Eb21VdGlsLmRpc2FibGVUZXh0U2VsZWN0aW9uYF0oI2RvbXV0aWwtZGlzYWJsZXRleHRzZWxlY3Rpb24pLlxyXG5cdGlmICgnb25zZWxlY3RzdGFydCcgaW4gZG9jdW1lbnQpIHtcclxuXHRcdEwuRG9tVXRpbC5kaXNhYmxlVGV4dFNlbGVjdGlvbiA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0TC5Eb21FdmVudC5vbih3aW5kb3csICdzZWxlY3RzdGFydCcsIEwuRG9tRXZlbnQucHJldmVudERlZmF1bHQpO1xyXG5cdFx0fTtcclxuXHRcdEwuRG9tVXRpbC5lbmFibGVUZXh0U2VsZWN0aW9uID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRMLkRvbUV2ZW50Lm9mZih3aW5kb3csICdzZWxlY3RzdGFydCcsIEwuRG9tRXZlbnQucHJldmVudERlZmF1bHQpO1xyXG5cdFx0fTtcclxuXHJcblx0fSBlbHNlIHtcclxuXHRcdHZhciB1c2VyU2VsZWN0UHJvcGVydHkgPSBMLkRvbVV0aWwudGVzdFByb3AoXHJcblx0XHRcdFsndXNlclNlbGVjdCcsICdXZWJraXRVc2VyU2VsZWN0JywgJ09Vc2VyU2VsZWN0JywgJ01velVzZXJTZWxlY3QnLCAnbXNVc2VyU2VsZWN0J10pO1xyXG5cclxuXHRcdEwuRG9tVXRpbC5kaXNhYmxlVGV4dFNlbGVjdGlvbiA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0aWYgKHVzZXJTZWxlY3RQcm9wZXJ0eSkge1xyXG5cdFx0XHRcdHZhciBzdHlsZSA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZTtcclxuXHRcdFx0XHR0aGlzLl91c2VyU2VsZWN0ID0gc3R5bGVbdXNlclNlbGVjdFByb3BlcnR5XTtcclxuXHRcdFx0XHRzdHlsZVt1c2VyU2VsZWN0UHJvcGVydHldID0gJ25vbmUnO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cdFx0TC5Eb21VdGlsLmVuYWJsZVRleHRTZWxlY3Rpb24gPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdGlmICh1c2VyU2VsZWN0UHJvcGVydHkpIHtcclxuXHRcdFx0XHRkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGVbdXNlclNlbGVjdFByb3BlcnR5XSA9IHRoaXMuX3VzZXJTZWxlY3Q7XHJcblx0XHRcdFx0ZGVsZXRlIHRoaXMuX3VzZXJTZWxlY3Q7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblx0fVxyXG5cclxuXHQvLyBAZnVuY3Rpb24gZGlzYWJsZUltYWdlRHJhZygpXHJcblx0Ly8gQXMgW2BMLkRvbVV0aWwuZGlzYWJsZVRleHRTZWxlY3Rpb25gXSgjZG9tdXRpbC1kaXNhYmxldGV4dHNlbGVjdGlvbiksIGJ1dFxyXG5cdC8vIGZvciBgZHJhZ3N0YXJ0YCBET00gZXZlbnRzLCB1c3VhbGx5IGdlbmVyYXRlZCB3aGVuIHRoZSB1c2VyIGRyYWdzIGFuIGltYWdlLlxyXG5cdEwuRG9tVXRpbC5kaXNhYmxlSW1hZ2VEcmFnID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0TC5Eb21FdmVudC5vbih3aW5kb3csICdkcmFnc3RhcnQnLCBMLkRvbUV2ZW50LnByZXZlbnREZWZhdWx0KTtcclxuXHR9O1xyXG5cclxuXHQvLyBAZnVuY3Rpb24gZW5hYmxlSW1hZ2VEcmFnKClcclxuXHQvLyBDYW5jZWxzIHRoZSBlZmZlY3RzIG9mIGEgcHJldmlvdXMgW2BMLkRvbVV0aWwuZGlzYWJsZUltYWdlRHJhZ2BdKCNkb211dGlsLWRpc2FibGV0ZXh0c2VsZWN0aW9uKS5cclxuXHRMLkRvbVV0aWwuZW5hYmxlSW1hZ2VEcmFnID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0TC5Eb21FdmVudC5vZmYod2luZG93LCAnZHJhZ3N0YXJ0JywgTC5Eb21FdmVudC5wcmV2ZW50RGVmYXVsdCk7XHJcblx0fTtcclxuXHJcblx0Ly8gQGZ1bmN0aW9uIHByZXZlbnRPdXRsaW5lKGVsOiBIVE1MRWxlbWVudClcclxuXHQvLyBNYWtlcyB0aGUgW291dGxpbmVdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL0NTUy9vdXRsaW5lKVxyXG5cdC8vIG9mIHRoZSBlbGVtZW50IGBlbGAgaW52aXNpYmxlLiBVc2VkIGludGVybmFsbHkgYnkgTGVhZmxldCB0byBwcmV2ZW50XHJcblx0Ly8gZm9jdXNhYmxlIGVsZW1lbnRzIGZyb20gZGlzcGxheWluZyBhbiBvdXRsaW5lIHdoZW4gdGhlIHVzZXIgcGVyZm9ybXMgYVxyXG5cdC8vIGRyYWcgaW50ZXJhY3Rpb24gb24gdGhlbS5cclxuXHRMLkRvbVV0aWwucHJldmVudE91dGxpbmUgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xyXG5cdFx0d2hpbGUgKGVsZW1lbnQudGFiSW5kZXggPT09IC0xKSB7XHJcblx0XHRcdGVsZW1lbnQgPSBlbGVtZW50LnBhcmVudE5vZGU7XHJcblx0XHR9XHJcblx0XHRpZiAoIWVsZW1lbnQgfHwgIWVsZW1lbnQuc3R5bGUpIHsgcmV0dXJuOyB9XHJcblx0XHRMLkRvbVV0aWwucmVzdG9yZU91dGxpbmUoKTtcclxuXHRcdHRoaXMuX291dGxpbmVFbGVtZW50ID0gZWxlbWVudDtcclxuXHRcdHRoaXMuX291dGxpbmVTdHlsZSA9IGVsZW1lbnQuc3R5bGUub3V0bGluZTtcclxuXHRcdGVsZW1lbnQuc3R5bGUub3V0bGluZSA9ICdub25lJztcclxuXHRcdEwuRG9tRXZlbnQub24od2luZG93LCAna2V5ZG93bicsIEwuRG9tVXRpbC5yZXN0b3JlT3V0bGluZSwgdGhpcyk7XHJcblx0fTtcclxuXHJcblx0Ly8gQGZ1bmN0aW9uIHJlc3RvcmVPdXRsaW5lKClcclxuXHQvLyBDYW5jZWxzIHRoZSBlZmZlY3RzIG9mIGEgcHJldmlvdXMgW2BMLkRvbVV0aWwucHJldmVudE91dGxpbmVgXSgpLlxyXG5cdEwuRG9tVXRpbC5yZXN0b3JlT3V0bGluZSA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdGlmICghdGhpcy5fb3V0bGluZUVsZW1lbnQpIHsgcmV0dXJuOyB9XHJcblx0XHR0aGlzLl9vdXRsaW5lRWxlbWVudC5zdHlsZS5vdXRsaW5lID0gdGhpcy5fb3V0bGluZVN0eWxlO1xyXG5cdFx0ZGVsZXRlIHRoaXMuX291dGxpbmVFbGVtZW50O1xyXG5cdFx0ZGVsZXRlIHRoaXMuX291dGxpbmVTdHlsZTtcclxuXHRcdEwuRG9tRXZlbnQub2ZmKHdpbmRvdywgJ2tleWRvd24nLCBMLkRvbVV0aWwucmVzdG9yZU91dGxpbmUsIHRoaXMpO1xyXG5cdH07XHJcbn0pKCk7XHJcblxuLyogQGNsYXNzIExhdExuZ1xyXG4gKiBAYWthIEwuTGF0TG5nXHJcbiAqXHJcbiAqIFJlcHJlc2VudHMgYSBnZW9ncmFwaGljYWwgcG9pbnQgd2l0aCBhIGNlcnRhaW4gbGF0aXR1ZGUgYW5kIGxvbmdpdHVkZS5cclxuICpcclxuICogQGV4YW1wbGVcclxuICpcclxuICogYGBgXHJcbiAqIHZhciBsYXRsbmcgPSBMLmxhdExuZyg1MC41LCAzMC41KTtcclxuICogYGBgXHJcbiAqXHJcbiAqIEFsbCBMZWFmbGV0IG1ldGhvZHMgdGhhdCBhY2NlcHQgTGF0TG5nIG9iamVjdHMgYWxzbyBhY2NlcHQgdGhlbSBpbiBhIHNpbXBsZSBBcnJheSBmb3JtIGFuZCBzaW1wbGUgb2JqZWN0IGZvcm0gKHVubGVzcyBub3RlZCBvdGhlcndpc2UpLCBzbyB0aGVzZSBsaW5lcyBhcmUgZXF1aXZhbGVudDpcclxuICpcclxuICogYGBgXHJcbiAqIG1hcC5wYW5UbyhbNTAsIDMwXSk7XHJcbiAqIG1hcC5wYW5Ubyh7bG9uOiAzMCwgbGF0OiA1MH0pO1xyXG4gKiBtYXAucGFuVG8oe2xhdDogNTAsIGxuZzogMzB9KTtcclxuICogbWFwLnBhblRvKEwubGF0TG5nKDUwLCAzMCkpO1xyXG4gKiBgYGBcclxuICovXHJcblxyXG5MLkxhdExuZyA9IGZ1bmN0aW9uIChsYXQsIGxuZywgYWx0KSB7XHJcblx0aWYgKGlzTmFOKGxhdCkgfHwgaXNOYU4obG5nKSkge1xyXG5cdFx0dGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIExhdExuZyBvYmplY3Q6ICgnICsgbGF0ICsgJywgJyArIGxuZyArICcpJyk7XHJcblx0fVxyXG5cclxuXHQvLyBAcHJvcGVydHkgbGF0OiBOdW1iZXJcclxuXHQvLyBMYXRpdHVkZSBpbiBkZWdyZWVzXHJcblx0dGhpcy5sYXQgPSArbGF0O1xyXG5cclxuXHQvLyBAcHJvcGVydHkgbG5nOiBOdW1iZXJcclxuXHQvLyBMb25naXR1ZGUgaW4gZGVncmVlc1xyXG5cdHRoaXMubG5nID0gK2xuZztcclxuXHJcblx0Ly8gQHByb3BlcnR5IGFsdDogTnVtYmVyXHJcblx0Ly8gQWx0aXR1ZGUgaW4gbWV0ZXJzIChvcHRpb25hbClcclxuXHRpZiAoYWx0ICE9PSB1bmRlZmluZWQpIHtcclxuXHRcdHRoaXMuYWx0ID0gK2FsdDtcclxuXHR9XHJcbn07XHJcblxyXG5MLkxhdExuZy5wcm90b3R5cGUgPSB7XHJcblx0Ly8gQG1ldGhvZCBlcXVhbHMob3RoZXJMYXRMbmc6IExhdExuZywgbWF4TWFyZ2luPzogTnVtYmVyKTogQm9vbGVhblxyXG5cdC8vIFJldHVybnMgYHRydWVgIGlmIHRoZSBnaXZlbiBgTGF0TG5nYCBwb2ludCBpcyBhdCB0aGUgc2FtZSBwb3NpdGlvbiAod2l0aGluIGEgc21hbGwgbWFyZ2luIG9mIGVycm9yKS4gVGhlIG1hcmdpbiBvZiBlcnJvciBjYW4gYmUgb3ZlcnJpZGVuIGJ5IHNldHRpbmcgYG1heE1hcmdpbmAgdG8gYSBzbWFsbCBudW1iZXIuXHJcblx0ZXF1YWxzOiBmdW5jdGlvbiAob2JqLCBtYXhNYXJnaW4pIHtcclxuXHRcdGlmICghb2JqKSB7IHJldHVybiBmYWxzZTsgfVxyXG5cclxuXHRcdG9iaiA9IEwubGF0TG5nKG9iaik7XHJcblxyXG5cdFx0dmFyIG1hcmdpbiA9IE1hdGgubWF4KFxyXG5cdFx0ICAgICAgICBNYXRoLmFicyh0aGlzLmxhdCAtIG9iai5sYXQpLFxyXG5cdFx0ICAgICAgICBNYXRoLmFicyh0aGlzLmxuZyAtIG9iai5sbmcpKTtcclxuXHJcblx0XHRyZXR1cm4gbWFyZ2luIDw9IChtYXhNYXJnaW4gPT09IHVuZGVmaW5lZCA/IDEuMEUtOSA6IG1heE1hcmdpbik7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCB0b1N0cmluZygpOiBTdHJpbmdcclxuXHQvLyBSZXR1cm5zIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBwb2ludCAoZm9yIGRlYnVnZ2luZyBwdXJwb3NlcykuXHJcblx0dG9TdHJpbmc6IGZ1bmN0aW9uIChwcmVjaXNpb24pIHtcclxuXHRcdHJldHVybiAnTGF0TG5nKCcgK1xyXG5cdFx0ICAgICAgICBMLlV0aWwuZm9ybWF0TnVtKHRoaXMubGF0LCBwcmVjaXNpb24pICsgJywgJyArXHJcblx0XHQgICAgICAgIEwuVXRpbC5mb3JtYXROdW0odGhpcy5sbmcsIHByZWNpc2lvbikgKyAnKSc7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBkaXN0YW5jZVRvKG90aGVyTGF0TG5nOiBMYXRMbmcpOiBOdW1iZXJcclxuXHQvLyBSZXR1cm5zIHRoZSBkaXN0YW5jZSAoaW4gbWV0ZXJzKSB0byB0aGUgZ2l2ZW4gYExhdExuZ2AgY2FsY3VsYXRlZCB1c2luZyB0aGUgW0hhdmVyc2luZSBmb3JtdWxhXShodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0hhdmVyc2luZV9mb3JtdWxhKS5cclxuXHRkaXN0YW5jZVRvOiBmdW5jdGlvbiAob3RoZXIpIHtcclxuXHRcdHJldHVybiBMLkNSUy5FYXJ0aC5kaXN0YW5jZSh0aGlzLCBMLmxhdExuZyhvdGhlcikpO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2Qgd3JhcCgpOiBMYXRMbmdcclxuXHQvLyBSZXR1cm5zIGEgbmV3IGBMYXRMbmdgIG9iamVjdCB3aXRoIHRoZSBsb25naXR1ZGUgd3JhcHBlZCBzbyBpdCdzIGFsd2F5cyBiZXR3ZWVuIC0xODAgYW5kICsxODAgZGVncmVlcy5cclxuXHR3cmFwOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gTC5DUlMuRWFydGgud3JhcExhdExuZyh0aGlzKTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHRvQm91bmRzKHNpemVJbk1ldGVyczogTnVtYmVyKTogTGF0TG5nQm91bmRzXHJcblx0Ly8gUmV0dXJucyBhIG5ldyBgTGF0TG5nQm91bmRzYCBvYmplY3QgaW4gd2hpY2ggZWFjaCBib3VuZGFyeSBpcyBgc2l6ZUluTWV0ZXJzYCBtZXRlcnMgYXBhcnQgZnJvbSB0aGUgYExhdExuZ2AuXHJcblx0dG9Cb3VuZHM6IGZ1bmN0aW9uIChzaXplSW5NZXRlcnMpIHtcclxuXHRcdHZhciBsYXRBY2N1cmFjeSA9IDE4MCAqIHNpemVJbk1ldGVycyAvIDQwMDc1MDE3LFxyXG5cdFx0ICAgIGxuZ0FjY3VyYWN5ID0gbGF0QWNjdXJhY3kgLyBNYXRoLmNvcygoTWF0aC5QSSAvIDE4MCkgKiB0aGlzLmxhdCk7XHJcblxyXG5cdFx0cmV0dXJuIEwubGF0TG5nQm91bmRzKFxyXG5cdFx0ICAgICAgICBbdGhpcy5sYXQgLSBsYXRBY2N1cmFjeSwgdGhpcy5sbmcgLSBsbmdBY2N1cmFjeV0sXHJcblx0XHQgICAgICAgIFt0aGlzLmxhdCArIGxhdEFjY3VyYWN5LCB0aGlzLmxuZyArIGxuZ0FjY3VyYWN5XSk7XHJcblx0fSxcclxuXHJcblx0Y2xvbmU6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiBuZXcgTC5MYXRMbmcodGhpcy5sYXQsIHRoaXMubG5nLCB0aGlzLmFsdCk7XHJcblx0fVxyXG59O1xyXG5cclxuXHJcblxyXG4vLyBAZmFjdG9yeSBMLmxhdExuZyhsYXRpdHVkZTogTnVtYmVyLCBsb25naXR1ZGU6IE51bWJlciwgYWx0aXR1ZGU/OiBOdW1iZXIpOiBMYXRMbmdcclxuLy8gQ3JlYXRlcyBhbiBvYmplY3QgcmVwcmVzZW50aW5nIGEgZ2VvZ3JhcGhpY2FsIHBvaW50IHdpdGggdGhlIGdpdmVuIGxhdGl0dWRlIGFuZCBsb25naXR1ZGUgKGFuZCBvcHRpb25hbGx5IGFsdGl0dWRlKS5cclxuXHJcbi8vIEBhbHRlcm5hdGl2ZVxyXG4vLyBAZmFjdG9yeSBMLmxhdExuZyhjb29yZHM6IEFycmF5KTogTGF0TG5nXHJcbi8vIEV4cGVjdHMgYW4gYXJyYXkgb2YgdGhlIGZvcm0gYFtOdW1iZXIsIE51bWJlcl1gIG9yIGBbTnVtYmVyLCBOdW1iZXIsIE51bWJlcl1gIGluc3RlYWQuXHJcblxyXG4vLyBAYWx0ZXJuYXRpdmVcclxuLy8gQGZhY3RvcnkgTC5sYXRMbmcoY29vcmRzOiBPYmplY3QpOiBMYXRMbmdcclxuLy8gRXhwZWN0cyBhbiBwbGFpbiBvYmplY3Qgb2YgdGhlIGZvcm0gYHtsYXQ6IE51bWJlciwgbG5nOiBOdW1iZXJ9YCBvciBge2xhdDogTnVtYmVyLCBsbmc6IE51bWJlciwgYWx0OiBOdW1iZXJ9YCBpbnN0ZWFkLlxyXG5cclxuTC5sYXRMbmcgPSBmdW5jdGlvbiAoYSwgYiwgYykge1xyXG5cdGlmIChhIGluc3RhbmNlb2YgTC5MYXRMbmcpIHtcclxuXHRcdHJldHVybiBhO1xyXG5cdH1cclxuXHRpZiAoTC5VdGlsLmlzQXJyYXkoYSkgJiYgdHlwZW9mIGFbMF0gIT09ICdvYmplY3QnKSB7XHJcblx0XHRpZiAoYS5sZW5ndGggPT09IDMpIHtcclxuXHRcdFx0cmV0dXJuIG5ldyBMLkxhdExuZyhhWzBdLCBhWzFdLCBhWzJdKTtcclxuXHRcdH1cclxuXHRcdGlmIChhLmxlbmd0aCA9PT0gMikge1xyXG5cdFx0XHRyZXR1cm4gbmV3IEwuTGF0TG5nKGFbMF0sIGFbMV0pO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIG51bGw7XHJcblx0fVxyXG5cdGlmIChhID09PSB1bmRlZmluZWQgfHwgYSA9PT0gbnVsbCkge1xyXG5cdFx0cmV0dXJuIGE7XHJcblx0fVxyXG5cdGlmICh0eXBlb2YgYSA9PT0gJ29iamVjdCcgJiYgJ2xhdCcgaW4gYSkge1xyXG5cdFx0cmV0dXJuIG5ldyBMLkxhdExuZyhhLmxhdCwgJ2xuZycgaW4gYSA/IGEubG5nIDogYS5sb24sIGEuYWx0KTtcclxuXHR9XHJcblx0aWYgKGIgPT09IHVuZGVmaW5lZCkge1xyXG5cdFx0cmV0dXJuIG51bGw7XHJcblx0fVxyXG5cdHJldHVybiBuZXcgTC5MYXRMbmcoYSwgYiwgYyk7XHJcbn07XHJcblxuLypcclxuICogQGNsYXNzIExhdExuZ0JvdW5kc1xyXG4gKiBAYWthIEwuTGF0TG5nQm91bmRzXHJcbiAqXHJcbiAqIFJlcHJlc2VudHMgYSByZWN0YW5ndWxhciBnZW9ncmFwaGljYWwgYXJlYSBvbiBhIG1hcC5cclxuICpcclxuICogQGV4YW1wbGVcclxuICpcclxuICogYGBganNcclxuICogdmFyIHNvdXRoV2VzdCA9IEwubGF0TG5nKDQwLjcxMiwgLTc0LjIyNyksXHJcbiAqIG5vcnRoRWFzdCA9IEwubGF0TG5nKDQwLjc3NCwgLTc0LjEyNSksXHJcbiAqIGJvdW5kcyA9IEwubGF0TG5nQm91bmRzKHNvdXRoV2VzdCwgbm9ydGhFYXN0KTtcclxuICogYGBgXHJcbiAqXHJcbiAqIEFsbCBMZWFmbGV0IG1ldGhvZHMgdGhhdCBhY2NlcHQgTGF0TG5nQm91bmRzIG9iamVjdHMgYWxzbyBhY2NlcHQgdGhlbSBpbiBhIHNpbXBsZSBBcnJheSBmb3JtICh1bmxlc3Mgbm90ZWQgb3RoZXJ3aXNlKSwgc28gdGhlIGJvdW5kcyBleGFtcGxlIGFib3ZlIGNhbiBiZSBwYXNzZWQgbGlrZSB0aGlzOlxyXG4gKlxyXG4gKiBgYGBqc1xyXG4gKiBtYXAuZml0Qm91bmRzKFtcclxuICogXHRbNDAuNzEyLCAtNzQuMjI3XSxcclxuICogXHRbNDAuNzc0LCAtNzQuMTI1XVxyXG4gKiBdKTtcclxuICogYGBgXHJcbiAqL1xyXG5cclxuTC5MYXRMbmdCb3VuZHMgPSBmdW5jdGlvbiAoc291dGhXZXN0LCBub3J0aEVhc3QpIHsgLy8gKExhdExuZywgTGF0TG5nKSBvciAoTGF0TG5nW10pXHJcblx0aWYgKCFzb3V0aFdlc3QpIHsgcmV0dXJuOyB9XHJcblxyXG5cdHZhciBsYXRsbmdzID0gbm9ydGhFYXN0ID8gW3NvdXRoV2VzdCwgbm9ydGhFYXN0XSA6IHNvdXRoV2VzdDtcclxuXHJcblx0Zm9yICh2YXIgaSA9IDAsIGxlbiA9IGxhdGxuZ3MubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuXHRcdHRoaXMuZXh0ZW5kKGxhdGxuZ3NbaV0pO1xyXG5cdH1cclxufTtcclxuXHJcbkwuTGF0TG5nQm91bmRzLnByb3RvdHlwZSA9IHtcclxuXHJcblx0Ly8gQG1ldGhvZCBleHRlbmQobGF0bG5nOiBMYXRMbmcpOiB0aGlzXHJcblx0Ly8gRXh0ZW5kIHRoZSBib3VuZHMgdG8gY29udGFpbiB0aGUgZ2l2ZW4gcG9pbnRcclxuXHJcblx0Ly8gQGFsdGVybmF0aXZlXHJcblx0Ly8gQG1ldGhvZCBleHRlbmQob3RoZXJCb3VuZHM6IExhdExuZ0JvdW5kcyk6IHRoaXNcclxuXHQvLyBFeHRlbmQgdGhlIGJvdW5kcyB0byBjb250YWluIHRoZSBnaXZlbiBib3VuZHNcclxuXHRleHRlbmQ6IGZ1bmN0aW9uIChvYmopIHtcclxuXHRcdHZhciBzdyA9IHRoaXMuX3NvdXRoV2VzdCxcclxuXHRcdCAgICBuZSA9IHRoaXMuX25vcnRoRWFzdCxcclxuXHRcdCAgICBzdzIsIG5lMjtcclxuXHJcblx0XHRpZiAob2JqIGluc3RhbmNlb2YgTC5MYXRMbmcpIHtcclxuXHRcdFx0c3cyID0gb2JqO1xyXG5cdFx0XHRuZTIgPSBvYmo7XHJcblxyXG5cdFx0fSBlbHNlIGlmIChvYmogaW5zdGFuY2VvZiBMLkxhdExuZ0JvdW5kcykge1xyXG5cdFx0XHRzdzIgPSBvYmouX3NvdXRoV2VzdDtcclxuXHRcdFx0bmUyID0gb2JqLl9ub3J0aEVhc3Q7XHJcblxyXG5cdFx0XHRpZiAoIXN3MiB8fCAhbmUyKSB7IHJldHVybiB0aGlzOyB9XHJcblxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0cmV0dXJuIG9iaiA/IHRoaXMuZXh0ZW5kKEwubGF0TG5nKG9iaikgfHwgTC5sYXRMbmdCb3VuZHMob2JqKSkgOiB0aGlzO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICghc3cgJiYgIW5lKSB7XHJcblx0XHRcdHRoaXMuX3NvdXRoV2VzdCA9IG5ldyBMLkxhdExuZyhzdzIubGF0LCBzdzIubG5nKTtcclxuXHRcdFx0dGhpcy5fbm9ydGhFYXN0ID0gbmV3IEwuTGF0TG5nKG5lMi5sYXQsIG5lMi5sbmcpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0c3cubGF0ID0gTWF0aC5taW4oc3cyLmxhdCwgc3cubGF0KTtcclxuXHRcdFx0c3cubG5nID0gTWF0aC5taW4oc3cyLmxuZywgc3cubG5nKTtcclxuXHRcdFx0bmUubGF0ID0gTWF0aC5tYXgobmUyLmxhdCwgbmUubGF0KTtcclxuXHRcdFx0bmUubG5nID0gTWF0aC5tYXgobmUyLmxuZywgbmUubG5nKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHBhZChidWZmZXJSYXRpbzogTnVtYmVyKTogTGF0TG5nQm91bmRzXHJcblx0Ly8gUmV0dXJucyBiaWdnZXIgYm91bmRzIGNyZWF0ZWQgYnkgZXh0ZW5kaW5nIHRoZSBjdXJyZW50IGJvdW5kcyBieSBhIGdpdmVuIHBlcmNlbnRhZ2UgaW4gZWFjaCBkaXJlY3Rpb24uXHJcblx0cGFkOiBmdW5jdGlvbiAoYnVmZmVyUmF0aW8pIHtcclxuXHRcdHZhciBzdyA9IHRoaXMuX3NvdXRoV2VzdCxcclxuXHRcdCAgICBuZSA9IHRoaXMuX25vcnRoRWFzdCxcclxuXHRcdCAgICBoZWlnaHRCdWZmZXIgPSBNYXRoLmFicyhzdy5sYXQgLSBuZS5sYXQpICogYnVmZmVyUmF0aW8sXHJcblx0XHQgICAgd2lkdGhCdWZmZXIgPSBNYXRoLmFicyhzdy5sbmcgLSBuZS5sbmcpICogYnVmZmVyUmF0aW87XHJcblxyXG5cdFx0cmV0dXJuIG5ldyBMLkxhdExuZ0JvdW5kcyhcclxuXHRcdCAgICAgICAgbmV3IEwuTGF0TG5nKHN3LmxhdCAtIGhlaWdodEJ1ZmZlciwgc3cubG5nIC0gd2lkdGhCdWZmZXIpLFxyXG5cdFx0ICAgICAgICBuZXcgTC5MYXRMbmcobmUubGF0ICsgaGVpZ2h0QnVmZmVyLCBuZS5sbmcgKyB3aWR0aEJ1ZmZlcikpO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgZ2V0Q2VudGVyKCk6IExhdExuZ1xyXG5cdC8vIFJldHVybnMgdGhlIGNlbnRlciBwb2ludCBvZiB0aGUgYm91bmRzLlxyXG5cdGdldENlbnRlcjogZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuIG5ldyBMLkxhdExuZyhcclxuXHRcdCAgICAgICAgKHRoaXMuX3NvdXRoV2VzdC5sYXQgKyB0aGlzLl9ub3J0aEVhc3QubGF0KSAvIDIsXHJcblx0XHQgICAgICAgICh0aGlzLl9zb3V0aFdlc3QubG5nICsgdGhpcy5fbm9ydGhFYXN0LmxuZykgLyAyKTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGdldFNvdXRoV2VzdCgpOiBMYXRMbmdcclxuXHQvLyBSZXR1cm5zIHRoZSBzb3V0aC13ZXN0IHBvaW50IG9mIHRoZSBib3VuZHMuXHJcblx0Z2V0U291dGhXZXN0OiBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5fc291dGhXZXN0O1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgZ2V0Tm9ydGhFYXN0KCk6IExhdExuZ1xyXG5cdC8vIFJldHVybnMgdGhlIG5vcnRoLWVhc3QgcG9pbnQgb2YgdGhlIGJvdW5kcy5cclxuXHRnZXROb3J0aEVhc3Q6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiB0aGlzLl9ub3J0aEVhc3Q7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBnZXROb3J0aFdlc3QoKTogTGF0TG5nXHJcblx0Ly8gUmV0dXJucyB0aGUgbm9ydGgtd2VzdCBwb2ludCBvZiB0aGUgYm91bmRzLlxyXG5cdGdldE5vcnRoV2VzdDogZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuIG5ldyBMLkxhdExuZyh0aGlzLmdldE5vcnRoKCksIHRoaXMuZ2V0V2VzdCgpKTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGdldFNvdXRoRWFzdCgpOiBMYXRMbmdcclxuXHQvLyBSZXR1cm5zIHRoZSBzb3V0aC1lYXN0IHBvaW50IG9mIHRoZSBib3VuZHMuXHJcblx0Z2V0U291dGhFYXN0OiBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gbmV3IEwuTGF0TG5nKHRoaXMuZ2V0U291dGgoKSwgdGhpcy5nZXRFYXN0KCkpO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgZ2V0V2VzdCgpOiBOdW1iZXJcclxuXHQvLyBSZXR1cm5zIHRoZSB3ZXN0IGxvbmdpdHVkZSBvZiB0aGUgYm91bmRzXHJcblx0Z2V0V2VzdDogZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuX3NvdXRoV2VzdC5sbmc7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBnZXRTb3V0aCgpOiBOdW1iZXJcclxuXHQvLyBSZXR1cm5zIHRoZSBzb3V0aCBsYXRpdHVkZSBvZiB0aGUgYm91bmRzXHJcblx0Z2V0U291dGg6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiB0aGlzLl9zb3V0aFdlc3QubGF0O1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgZ2V0RWFzdCgpOiBOdW1iZXJcclxuXHQvLyBSZXR1cm5zIHRoZSBlYXN0IGxvbmdpdHVkZSBvZiB0aGUgYm91bmRzXHJcblx0Z2V0RWFzdDogZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuX25vcnRoRWFzdC5sbmc7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBnZXROb3J0aCgpOiBOdW1iZXJcclxuXHQvLyBSZXR1cm5zIHRoZSBub3J0aCBsYXRpdHVkZSBvZiB0aGUgYm91bmRzXHJcblx0Z2V0Tm9ydGg6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiB0aGlzLl9ub3J0aEVhc3QubGF0O1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgY29udGFpbnMob3RoZXJCb3VuZHM6IExhdExuZ0JvdW5kcyk6IEJvb2xlYW5cclxuXHQvLyBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgcmVjdGFuZ2xlIGNvbnRhaW5zIHRoZSBnaXZlbiBvbmUuXHJcblxyXG5cdC8vIEBhbHRlcm5hdGl2ZVxyXG5cdC8vIEBtZXRob2QgY29udGFpbnMgKGxhdGxuZzogTGF0TG5nKTogQm9vbGVhblxyXG5cdC8vIFJldHVybnMgYHRydWVgIGlmIHRoZSByZWN0YW5nbGUgY29udGFpbnMgdGhlIGdpdmVuIHBvaW50LlxyXG5cdGNvbnRhaW5zOiBmdW5jdGlvbiAob2JqKSB7IC8vIChMYXRMbmdCb3VuZHMpIG9yIChMYXRMbmcpIC0+IEJvb2xlYW5cclxuXHRcdGlmICh0eXBlb2Ygb2JqWzBdID09PSAnbnVtYmVyJyB8fCBvYmogaW5zdGFuY2VvZiBMLkxhdExuZykge1xyXG5cdFx0XHRvYmogPSBMLmxhdExuZyhvYmopO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0b2JqID0gTC5sYXRMbmdCb3VuZHMob2JqKTtcclxuXHRcdH1cclxuXHJcblx0XHR2YXIgc3cgPSB0aGlzLl9zb3V0aFdlc3QsXHJcblx0XHQgICAgbmUgPSB0aGlzLl9ub3J0aEVhc3QsXHJcblx0XHQgICAgc3cyLCBuZTI7XHJcblxyXG5cdFx0aWYgKG9iaiBpbnN0YW5jZW9mIEwuTGF0TG5nQm91bmRzKSB7XHJcblx0XHRcdHN3MiA9IG9iai5nZXRTb3V0aFdlc3QoKTtcclxuXHRcdFx0bmUyID0gb2JqLmdldE5vcnRoRWFzdCgpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0c3cyID0gbmUyID0gb2JqO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiAoc3cyLmxhdCA+PSBzdy5sYXQpICYmIChuZTIubGF0IDw9IG5lLmxhdCkgJiZcclxuXHRcdCAgICAgICAoc3cyLmxuZyA+PSBzdy5sbmcpICYmIChuZTIubG5nIDw9IG5lLmxuZyk7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBpbnRlcnNlY3RzKG90aGVyQm91bmRzOiBMYXRMbmdCb3VuZHMpOiBCb29sZWFuXHJcblx0Ly8gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHJlY3RhbmdsZSBpbnRlcnNlY3RzIHRoZSBnaXZlbiBib3VuZHMuIFR3byBib3VuZHMgaW50ZXJzZWN0IGlmIHRoZXkgaGF2ZSBhdCBsZWFzdCBvbmUgcG9pbnQgaW4gY29tbW9uLlxyXG5cdGludGVyc2VjdHM6IGZ1bmN0aW9uIChib3VuZHMpIHtcclxuXHRcdGJvdW5kcyA9IEwubGF0TG5nQm91bmRzKGJvdW5kcyk7XHJcblxyXG5cdFx0dmFyIHN3ID0gdGhpcy5fc291dGhXZXN0LFxyXG5cdFx0ICAgIG5lID0gdGhpcy5fbm9ydGhFYXN0LFxyXG5cdFx0ICAgIHN3MiA9IGJvdW5kcy5nZXRTb3V0aFdlc3QoKSxcclxuXHRcdCAgICBuZTIgPSBib3VuZHMuZ2V0Tm9ydGhFYXN0KCksXHJcblxyXG5cdFx0ICAgIGxhdEludGVyc2VjdHMgPSAobmUyLmxhdCA+PSBzdy5sYXQpICYmIChzdzIubGF0IDw9IG5lLmxhdCksXHJcblx0XHQgICAgbG5nSW50ZXJzZWN0cyA9IChuZTIubG5nID49IHN3LmxuZykgJiYgKHN3Mi5sbmcgPD0gbmUubG5nKTtcclxuXHJcblx0XHRyZXR1cm4gbGF0SW50ZXJzZWN0cyAmJiBsbmdJbnRlcnNlY3RzO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2Qgb3ZlcmxhcHMob3RoZXJCb3VuZHM6IEJvdW5kcyk6IEJvb2xlYW5cclxuXHQvLyBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgcmVjdGFuZ2xlIG92ZXJsYXBzIHRoZSBnaXZlbiBib3VuZHMuIFR3byBib3VuZHMgb3ZlcmxhcCBpZiB0aGVpciBpbnRlcnNlY3Rpb24gaXMgYW4gYXJlYS5cclxuXHRvdmVybGFwczogZnVuY3Rpb24gKGJvdW5kcykge1xyXG5cdFx0Ym91bmRzID0gTC5sYXRMbmdCb3VuZHMoYm91bmRzKTtcclxuXHJcblx0XHR2YXIgc3cgPSB0aGlzLl9zb3V0aFdlc3QsXHJcblx0XHQgICAgbmUgPSB0aGlzLl9ub3J0aEVhc3QsXHJcblx0XHQgICAgc3cyID0gYm91bmRzLmdldFNvdXRoV2VzdCgpLFxyXG5cdFx0ICAgIG5lMiA9IGJvdW5kcy5nZXROb3J0aEVhc3QoKSxcclxuXHJcblx0XHQgICAgbGF0T3ZlcmxhcHMgPSAobmUyLmxhdCA+IHN3LmxhdCkgJiYgKHN3Mi5sYXQgPCBuZS5sYXQpLFxyXG5cdFx0ICAgIGxuZ092ZXJsYXBzID0gKG5lMi5sbmcgPiBzdy5sbmcpICYmIChzdzIubG5nIDwgbmUubG5nKTtcclxuXHJcblx0XHRyZXR1cm4gbGF0T3ZlcmxhcHMgJiYgbG5nT3ZlcmxhcHM7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCB0b0JCb3hTdHJpbmcoKTogU3RyaW5nXHJcblx0Ly8gUmV0dXJucyBhIHN0cmluZyB3aXRoIGJvdW5kaW5nIGJveCBjb29yZGluYXRlcyBpbiBhICdzb3V0aHdlc3RfbG5nLHNvdXRod2VzdF9sYXQsbm9ydGhlYXN0X2xuZyxub3J0aGVhc3RfbGF0JyBmb3JtYXQuIFVzZWZ1bCBmb3Igc2VuZGluZyByZXF1ZXN0cyB0byB3ZWIgc2VydmljZXMgdGhhdCByZXR1cm4gZ2VvIGRhdGEuXHJcblx0dG9CQm94U3RyaW5nOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gW3RoaXMuZ2V0V2VzdCgpLCB0aGlzLmdldFNvdXRoKCksIHRoaXMuZ2V0RWFzdCgpLCB0aGlzLmdldE5vcnRoKCldLmpvaW4oJywnKTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGVxdWFscyhvdGhlckJvdW5kczogTGF0TG5nQm91bmRzKTogQm9vbGVhblxyXG5cdC8vIFJldHVybnMgYHRydWVgIGlmIHRoZSByZWN0YW5nbGUgaXMgZXF1aXZhbGVudCAod2l0aGluIGEgc21hbGwgbWFyZ2luIG9mIGVycm9yKSB0byB0aGUgZ2l2ZW4gYm91bmRzLlxyXG5cdGVxdWFsczogZnVuY3Rpb24gKGJvdW5kcykge1xyXG5cdFx0aWYgKCFib3VuZHMpIHsgcmV0dXJuIGZhbHNlOyB9XHJcblxyXG5cdFx0Ym91bmRzID0gTC5sYXRMbmdCb3VuZHMoYm91bmRzKTtcclxuXHJcblx0XHRyZXR1cm4gdGhpcy5fc291dGhXZXN0LmVxdWFscyhib3VuZHMuZ2V0U291dGhXZXN0KCkpICYmXHJcblx0XHQgICAgICAgdGhpcy5fbm9ydGhFYXN0LmVxdWFscyhib3VuZHMuZ2V0Tm9ydGhFYXN0KCkpO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgaXNWYWxpZCgpOiBCb29sZWFuXHJcblx0Ly8gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGJvdW5kcyBhcmUgcHJvcGVybHkgaW5pdGlhbGl6ZWQuXHJcblx0aXNWYWxpZDogZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuICEhKHRoaXMuX3NvdXRoV2VzdCAmJiB0aGlzLl9ub3J0aEVhc3QpO1xyXG5cdH1cclxufTtcclxuXHJcbi8vIFRPRE8gSW50ZXJuYXRpb25hbCBkYXRlIGxpbmU/XHJcblxyXG4vLyBAZmFjdG9yeSBMLmxhdExuZ0JvdW5kcyhzb3V0aFdlc3Q6IExhdExuZywgbm9ydGhFYXN0OiBMYXRMbmcpXHJcbi8vIENyZWF0ZXMgYSBgTGF0TG5nQm91bmRzYCBvYmplY3QgYnkgZGVmaW5pbmcgc291dGgtd2VzdCBhbmQgbm9ydGgtZWFzdCBjb3JuZXJzIG9mIHRoZSByZWN0YW5nbGUuXHJcblxyXG4vLyBAYWx0ZXJuYXRpdmVcclxuLy8gQGZhY3RvcnkgTC5sYXRMbmdCb3VuZHMobGF0bG5nczogTGF0TG5nW10pXHJcbi8vIENyZWF0ZXMgYSBgTGF0TG5nQm91bmRzYCBvYmplY3QgZGVmaW5lZCBieSB0aGUgZ2VvZ3JhcGhpY2FsIHBvaW50cyBpdCBjb250YWlucy4gVmVyeSB1c2VmdWwgZm9yIHpvb21pbmcgdGhlIG1hcCB0byBmaXQgYSBwYXJ0aWN1bGFyIHNldCBvZiBsb2NhdGlvbnMgd2l0aCBbYGZpdEJvdW5kc2BdKCNtYXAtZml0Ym91bmRzKS5cclxuTC5sYXRMbmdCb3VuZHMgPSBmdW5jdGlvbiAoYSwgYikge1xyXG5cdGlmIChhIGluc3RhbmNlb2YgTC5MYXRMbmdCb3VuZHMpIHtcclxuXHRcdHJldHVybiBhO1xyXG5cdH1cclxuXHRyZXR1cm4gbmV3IEwuTGF0TG5nQm91bmRzKGEsIGIpO1xyXG59O1xyXG5cbi8qXHJcbiAqIEBuYW1lc3BhY2UgUHJvamVjdGlvblxyXG4gKiBAc2VjdGlvblxyXG4gKiBMZWFmbGV0IGNvbWVzIHdpdGggYSBzZXQgb2YgYWxyZWFkeSBkZWZpbmVkIFByb2plY3Rpb25zIG91dCBvZiB0aGUgYm94OlxyXG4gKlxyXG4gKiBAcHJvamVjdGlvbiBMLlByb2plY3Rpb24uTG9uTGF0XHJcbiAqXHJcbiAqIEVxdWlyZWN0YW5ndWxhciwgb3IgUGxhdGUgQ2FycmVlIHByb2plY3Rpb24g4oCUIHRoZSBtb3N0IHNpbXBsZSBwcm9qZWN0aW9uLFxyXG4gKiBtb3N0bHkgdXNlZCBieSBHSVMgZW50aHVzaWFzdHMuIERpcmVjdGx5IG1hcHMgYHhgIGFzIGxvbmdpdHVkZSwgYW5kIGB5YCBhc1xyXG4gKiBsYXRpdHVkZS4gQWxzbyBzdWl0YWJsZSBmb3IgZmxhdCB3b3JsZHMsIGUuZy4gZ2FtZSBtYXBzLiBVc2VkIGJ5IHRoZVxyXG4gKiBgRVBTRzozMzk1YCBhbmQgYFNpbXBsZWAgQ1JTLlxyXG4gKi9cclxuXHJcbkwuUHJvamVjdGlvbiA9IHt9O1xyXG5cclxuTC5Qcm9qZWN0aW9uLkxvbkxhdCA9IHtcclxuXHRwcm9qZWN0OiBmdW5jdGlvbiAobGF0bG5nKSB7XHJcblx0XHRyZXR1cm4gbmV3IEwuUG9pbnQobGF0bG5nLmxuZywgbGF0bG5nLmxhdCk7XHJcblx0fSxcclxuXHJcblx0dW5wcm9qZWN0OiBmdW5jdGlvbiAocG9pbnQpIHtcclxuXHRcdHJldHVybiBuZXcgTC5MYXRMbmcocG9pbnQueSwgcG9pbnQueCk7XHJcblx0fSxcclxuXHJcblx0Ym91bmRzOiBMLmJvdW5kcyhbLTE4MCwgLTkwXSwgWzE4MCwgOTBdKVxyXG59O1xyXG5cbi8qXHJcbiAqIEBuYW1lc3BhY2UgUHJvamVjdGlvblxyXG4gKiBAcHJvamVjdGlvbiBMLlByb2plY3Rpb24uU3BoZXJpY2FsTWVyY2F0b3JcclxuICpcclxuICogU3BoZXJpY2FsIE1lcmNhdG9yIHByb2plY3Rpb24g4oCUIHRoZSBtb3N0IGNvbW1vbiBwcm9qZWN0aW9uIGZvciBvbmxpbmUgbWFwcyxcclxuICogdXNlZCBieSBhbG1vc3QgYWxsIGZyZWUgYW5kIGNvbW1lcmNpYWwgdGlsZSBwcm92aWRlcnMuIEFzc3VtZXMgdGhhdCBFYXJ0aCBpc1xyXG4gKiBhIHNwaGVyZS4gVXNlZCBieSB0aGUgYEVQU0c6Mzg1N2AgQ1JTLlxyXG4gKi9cclxuXHJcbkwuUHJvamVjdGlvbi5TcGhlcmljYWxNZXJjYXRvciA9IHtcclxuXHJcblx0UjogNjM3ODEzNyxcclxuXHRNQVhfTEFUSVRVREU6IDg1LjA1MTEyODc3OTgsXHJcblxyXG5cdHByb2plY3Q6IGZ1bmN0aW9uIChsYXRsbmcpIHtcclxuXHRcdHZhciBkID0gTWF0aC5QSSAvIDE4MCxcclxuXHRcdCAgICBtYXggPSB0aGlzLk1BWF9MQVRJVFVERSxcclxuXHRcdCAgICBsYXQgPSBNYXRoLm1heChNYXRoLm1pbihtYXgsIGxhdGxuZy5sYXQpLCAtbWF4KSxcclxuXHRcdCAgICBzaW4gPSBNYXRoLnNpbihsYXQgKiBkKTtcclxuXHJcblx0XHRyZXR1cm4gbmV3IEwuUG9pbnQoXHJcblx0XHRcdFx0dGhpcy5SICogbGF0bG5nLmxuZyAqIGQsXHJcblx0XHRcdFx0dGhpcy5SICogTWF0aC5sb2coKDEgKyBzaW4pIC8gKDEgLSBzaW4pKSAvIDIpO1xyXG5cdH0sXHJcblxyXG5cdHVucHJvamVjdDogZnVuY3Rpb24gKHBvaW50KSB7XHJcblx0XHR2YXIgZCA9IDE4MCAvIE1hdGguUEk7XHJcblxyXG5cdFx0cmV0dXJuIG5ldyBMLkxhdExuZyhcclxuXHRcdFx0KDIgKiBNYXRoLmF0YW4oTWF0aC5leHAocG9pbnQueSAvIHRoaXMuUikpIC0gKE1hdGguUEkgLyAyKSkgKiBkLFxyXG5cdFx0XHRwb2ludC54ICogZCAvIHRoaXMuUik7XHJcblx0fSxcclxuXHJcblx0Ym91bmRzOiAoZnVuY3Rpb24gKCkge1xyXG5cdFx0dmFyIGQgPSA2Mzc4MTM3ICogTWF0aC5QSTtcclxuXHRcdHJldHVybiBMLmJvdW5kcyhbLWQsIC1kXSwgW2QsIGRdKTtcclxuXHR9KSgpXHJcbn07XHJcblxuLypcclxuICogQGNsYXNzIENSU1xyXG4gKiBAYWthIEwuQ1JTXHJcbiAqIEFic3RyYWN0IGNsYXNzIHRoYXQgZGVmaW5lcyBjb29yZGluYXRlIHJlZmVyZW5jZSBzeXN0ZW1zIGZvciBwcm9qZWN0aW5nXHJcbiAqIGdlb2dyYXBoaWNhbCBwb2ludHMgaW50byBwaXhlbCAoc2NyZWVuKSBjb29yZGluYXRlcyBhbmQgYmFjayAoYW5kIHRvXHJcbiAqIGNvb3JkaW5hdGVzIGluIG90aGVyIHVuaXRzIGZvciBbV01TXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9XZWJfTWFwX1NlcnZpY2UpIHNlcnZpY2VzKS4gU2VlXHJcbiAqIFtzcGF0aWFsIHJlZmVyZW5jZSBzeXN0ZW1dKGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ29vcmRpbmF0ZV9yZWZlcmVuY2Vfc3lzdGVtKS5cclxuICpcclxuICogTGVhZmxldCBkZWZpbmVzIHRoZSBtb3N0IHVzdWFsIENSU3MgYnkgZGVmYXVsdC4gSWYgeW91IHdhbnQgdG8gdXNlIGFcclxuICogQ1JTIG5vdCBkZWZpbmVkIGJ5IGRlZmF1bHQsIHRha2UgYSBsb29rIGF0IHRoZVxyXG4gKiBbUHJvajRMZWFmbGV0XShodHRwczovL2dpdGh1Yi5jb20va2FydGVuYS9Qcm9qNExlYWZsZXQpIHBsdWdpbi5cclxuICovXHJcblxyXG5MLkNSUyA9IHtcclxuXHQvLyBAbWV0aG9kIGxhdExuZ1RvUG9pbnQobGF0bG5nOiBMYXRMbmcsIHpvb206IE51bWJlcik6IFBvaW50XHJcblx0Ly8gUHJvamVjdHMgZ2VvZ3JhcGhpY2FsIGNvb3JkaW5hdGVzIGludG8gcGl4ZWwgY29vcmRpbmF0ZXMgZm9yIGEgZ2l2ZW4gem9vbS5cclxuXHRsYXRMbmdUb1BvaW50OiBmdW5jdGlvbiAobGF0bG5nLCB6b29tKSB7XHJcblx0XHR2YXIgcHJvamVjdGVkUG9pbnQgPSB0aGlzLnByb2plY3Rpb24ucHJvamVjdChsYXRsbmcpLFxyXG5cdFx0ICAgIHNjYWxlID0gdGhpcy5zY2FsZSh6b29tKTtcclxuXHJcblx0XHRyZXR1cm4gdGhpcy50cmFuc2Zvcm1hdGlvbi5fdHJhbnNmb3JtKHByb2plY3RlZFBvaW50LCBzY2FsZSk7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBwb2ludFRvTGF0TG5nKHBvaW50OiBQb2ludCwgem9vbTogTnVtYmVyKTogTGF0TG5nXHJcblx0Ly8gVGhlIGludmVyc2Ugb2YgYGxhdExuZ1RvUG9pbnRgLiBQcm9qZWN0cyBwaXhlbCBjb29yZGluYXRlcyBvbiBhIGdpdmVuXHJcblx0Ly8gem9vbSBpbnRvIGdlb2dyYXBoaWNhbCBjb29yZGluYXRlcy5cclxuXHRwb2ludFRvTGF0TG5nOiBmdW5jdGlvbiAocG9pbnQsIHpvb20pIHtcclxuXHRcdHZhciBzY2FsZSA9IHRoaXMuc2NhbGUoem9vbSksXHJcblx0XHQgICAgdW50cmFuc2Zvcm1lZFBvaW50ID0gdGhpcy50cmFuc2Zvcm1hdGlvbi51bnRyYW5zZm9ybShwb2ludCwgc2NhbGUpO1xyXG5cclxuXHRcdHJldHVybiB0aGlzLnByb2plY3Rpb24udW5wcm9qZWN0KHVudHJhbnNmb3JtZWRQb2ludCk7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBwcm9qZWN0KGxhdGxuZzogTGF0TG5nKTogUG9pbnRcclxuXHQvLyBQcm9qZWN0cyBnZW9ncmFwaGljYWwgY29vcmRpbmF0ZXMgaW50byBjb29yZGluYXRlcyBpbiB1bml0cyBhY2NlcHRlZCBmb3JcclxuXHQvLyB0aGlzIENSUyAoZS5nLiBtZXRlcnMgZm9yIEVQU0c6Mzg1NywgZm9yIHBhc3NpbmcgaXQgdG8gV01TIHNlcnZpY2VzKS5cclxuXHRwcm9qZWN0OiBmdW5jdGlvbiAobGF0bG5nKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5wcm9qZWN0aW9uLnByb2plY3QobGF0bG5nKTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHVucHJvamVjdChwb2ludDogUG9pbnQpOiBMYXRMbmdcclxuXHQvLyBHaXZlbiBhIHByb2plY3RlZCBjb29yZGluYXRlIHJldHVybnMgdGhlIGNvcnJlc3BvbmRpbmcgTGF0TG5nLlxyXG5cdC8vIFRoZSBpbnZlcnNlIG9mIGBwcm9qZWN0YC5cclxuXHR1bnByb2plY3Q6IGZ1bmN0aW9uIChwb2ludCkge1xyXG5cdFx0cmV0dXJuIHRoaXMucHJvamVjdGlvbi51bnByb2plY3QocG9pbnQpO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2Qgc2NhbGUoem9vbTogTnVtYmVyKTogTnVtYmVyXHJcblx0Ly8gUmV0dXJucyB0aGUgc2NhbGUgdXNlZCB3aGVuIHRyYW5zZm9ybWluZyBwcm9qZWN0ZWQgY29vcmRpbmF0ZXMgaW50b1xyXG5cdC8vIHBpeGVsIGNvb3JkaW5hdGVzIGZvciBhIHBhcnRpY3VsYXIgem9vbS4gRm9yIGV4YW1wbGUsIGl0IHJldHVybnNcclxuXHQvLyBgMjU2ICogMl56b29tYCBmb3IgTWVyY2F0b3ItYmFzZWQgQ1JTLlxyXG5cdHNjYWxlOiBmdW5jdGlvbiAoem9vbSkge1xyXG5cdFx0cmV0dXJuIDI1NiAqIE1hdGgucG93KDIsIHpvb20pO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2Qgem9vbShzY2FsZTogTnVtYmVyKTogTnVtYmVyXHJcblx0Ly8gSW52ZXJzZSBvZiBgc2NhbGUoKWAsIHJldHVybnMgdGhlIHpvb20gbGV2ZWwgY29ycmVzcG9uZGluZyB0byBhIHNjYWxlXHJcblx0Ly8gZmFjdG9yIG9mIGBzY2FsZWAuXHJcblx0em9vbTogZnVuY3Rpb24gKHNjYWxlKSB7XHJcblx0XHRyZXR1cm4gTWF0aC5sb2coc2NhbGUgLyAyNTYpIC8gTWF0aC5MTjI7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBnZXRQcm9qZWN0ZWRCb3VuZHMoem9vbTogTnVtYmVyKTogQm91bmRzXHJcblx0Ly8gUmV0dXJucyB0aGUgcHJvamVjdGlvbidzIGJvdW5kcyBzY2FsZWQgYW5kIHRyYW5zZm9ybWVkIGZvciB0aGUgcHJvdmlkZWQgYHpvb21gLlxyXG5cdGdldFByb2plY3RlZEJvdW5kczogZnVuY3Rpb24gKHpvb20pIHtcclxuXHRcdGlmICh0aGlzLmluZmluaXRlKSB7IHJldHVybiBudWxsOyB9XHJcblxyXG5cdFx0dmFyIGIgPSB0aGlzLnByb2plY3Rpb24uYm91bmRzLFxyXG5cdFx0ICAgIHMgPSB0aGlzLnNjYWxlKHpvb20pLFxyXG5cdFx0ICAgIG1pbiA9IHRoaXMudHJhbnNmb3JtYXRpb24udHJhbnNmb3JtKGIubWluLCBzKSxcclxuXHRcdCAgICBtYXggPSB0aGlzLnRyYW5zZm9ybWF0aW9uLnRyYW5zZm9ybShiLm1heCwgcyk7XHJcblxyXG5cdFx0cmV0dXJuIEwuYm91bmRzKG1pbiwgbWF4KTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGRpc3RhbmNlKGxhdGxuZzE6IExhdExuZywgbGF0bG5nMjogTGF0TG5nKTogTnVtYmVyXHJcblx0Ly8gUmV0dXJucyB0aGUgZGlzdGFuY2UgYmV0d2VlbiB0d28gZ2VvZ3JhcGhpY2FsIGNvb3JkaW5hdGVzLlxyXG5cclxuXHQvLyBAcHJvcGVydHkgY29kZTogU3RyaW5nXHJcblx0Ly8gU3RhbmRhcmQgY29kZSBuYW1lIG9mIHRoZSBDUlMgcGFzc2VkIGludG8gV01TIHNlcnZpY2VzIChlLmcuIGAnRVBTRzozODU3J2ApXHJcblx0Ly9cclxuXHQvLyBAcHJvcGVydHkgd3JhcExuZzogTnVtYmVyW11cclxuXHQvLyBBbiBhcnJheSBvZiB0d28gbnVtYmVycyBkZWZpbmluZyB3aGV0aGVyIHRoZSBsb25naXR1ZGUgKGhvcml6b250YWwpIGNvb3JkaW5hdGVcclxuXHQvLyBheGlzIHdyYXBzIGFyb3VuZCBhIGdpdmVuIHJhbmdlIGFuZCBob3cuIERlZmF1bHRzIHRvIGBbLTE4MCwgMTgwXWAgaW4gbW9zdFxyXG5cdC8vIGdlb2dyYXBoaWNhbCBDUlNzLiBJZiBgdW5kZWZpbmVkYCwgdGhlIGxvbmdpdHVkZSBheGlzIGRvZXMgbm90IHdyYXAgYXJvdW5kLlxyXG5cdC8vXHJcblx0Ly8gQHByb3BlcnR5IHdyYXBMYXQ6IE51bWJlcltdXHJcblx0Ly8gTGlrZSBgd3JhcExuZ2AsIGJ1dCBmb3IgdGhlIGxhdGl0dWRlICh2ZXJ0aWNhbCkgYXhpcy5cclxuXHJcblx0Ly8gd3JhcExuZzogW21pbiwgbWF4XSxcclxuXHQvLyB3cmFwTGF0OiBbbWluLCBtYXhdLFxyXG5cclxuXHQvLyBAcHJvcGVydHkgaW5maW5pdGU6IEJvb2xlYW5cclxuXHQvLyBJZiB0cnVlLCB0aGUgY29vcmRpbmF0ZSBzcGFjZSB3aWxsIGJlIHVuYm91bmRlZCAoaW5maW5pdGUgaW4gYm90aCBheGVzKVxyXG5cdGluZmluaXRlOiBmYWxzZSxcclxuXHJcblx0Ly8gQG1ldGhvZCB3cmFwTGF0TG5nKGxhdGxuZzogTGF0TG5nKTogTGF0TG5nXHJcblx0Ly8gUmV0dXJucyBhIGBMYXRMbmdgIHdoZXJlIGxhdCBhbmQgbG5nIGhhcyBiZWVuIHdyYXBwZWQgYWNjb3JkaW5nIHRvIHRoZVxyXG5cdC8vIENSUydzIGB3cmFwTGF0YCBhbmQgYHdyYXBMbmdgIHByb3BlcnRpZXMsIGlmIHRoZXkgYXJlIG91dHNpZGUgdGhlIENSUydzIGJvdW5kcy5cclxuXHR3cmFwTGF0TG5nOiBmdW5jdGlvbiAobGF0bG5nKSB7XHJcblx0XHR2YXIgbG5nID0gdGhpcy53cmFwTG5nID8gTC5VdGlsLndyYXBOdW0obGF0bG5nLmxuZywgdGhpcy53cmFwTG5nLCB0cnVlKSA6IGxhdGxuZy5sbmcsXHJcblx0XHQgICAgbGF0ID0gdGhpcy53cmFwTGF0ID8gTC5VdGlsLndyYXBOdW0obGF0bG5nLmxhdCwgdGhpcy53cmFwTGF0LCB0cnVlKSA6IGxhdGxuZy5sYXQsXHJcblx0XHQgICAgYWx0ID0gbGF0bG5nLmFsdDtcclxuXHJcblx0XHRyZXR1cm4gTC5sYXRMbmcobGF0LCBsbmcsIGFsdCk7XHJcblx0fVxyXG59O1xyXG5cbi8qXG4gKiBAbmFtZXNwYWNlIENSU1xuICogQGNycyBMLkNSUy5TaW1wbGVcbiAqXG4gKiBBIHNpbXBsZSBDUlMgdGhhdCBtYXBzIGxvbmdpdHVkZSBhbmQgbGF0aXR1ZGUgaW50byBgeGAgYW5kIGB5YCBkaXJlY3RseS5cbiAqIE1heSBiZSB1c2VkIGZvciBtYXBzIG9mIGZsYXQgc3VyZmFjZXMgKGUuZy4gZ2FtZSBtYXBzKS4gTm90ZSB0aGF0IHRoZSBgeWBcbiAqIGF4aXMgc2hvdWxkIHN0aWxsIGJlIGludmVydGVkIChnb2luZyBmcm9tIGJvdHRvbSB0byB0b3ApLiBgZGlzdGFuY2UoKWAgcmV0dXJuc1xuICogc2ltcGxlIGV1Y2xpZGVhbiBkaXN0YW5jZS5cbiAqL1xuXG5MLkNSUy5TaW1wbGUgPSBMLmV4dGVuZCh7fSwgTC5DUlMsIHtcblx0cHJvamVjdGlvbjogTC5Qcm9qZWN0aW9uLkxvbkxhdCxcblx0dHJhbnNmb3JtYXRpb246IG5ldyBMLlRyYW5zZm9ybWF0aW9uKDEsIDAsIC0xLCAwKSxcblxuXHRzY2FsZTogZnVuY3Rpb24gKHpvb20pIHtcblx0XHRyZXR1cm4gTWF0aC5wb3coMiwgem9vbSk7XG5cdH0sXG5cblx0em9vbTogZnVuY3Rpb24gKHNjYWxlKSB7XG5cdFx0cmV0dXJuIE1hdGgubG9nKHNjYWxlKSAvIE1hdGguTE4yO1xuXHR9LFxuXG5cdGRpc3RhbmNlOiBmdW5jdGlvbiAobGF0bG5nMSwgbGF0bG5nMikge1xuXHRcdHZhciBkeCA9IGxhdGxuZzIubG5nIC0gbGF0bG5nMS5sbmcsXG5cdFx0ICAgIGR5ID0gbGF0bG5nMi5sYXQgLSBsYXRsbmcxLmxhdDtcblxuXHRcdHJldHVybiBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkpO1xuXHR9LFxuXG5cdGluZmluaXRlOiB0cnVlXG59KTtcblxuLypcbiAqIEBuYW1lc3BhY2UgQ1JTXG4gKiBAY3JzIEwuQ1JTLkVhcnRoXG4gKlxuICogU2VydmVzIGFzIHRoZSBiYXNlIGZvciBDUlMgdGhhdCBhcmUgZ2xvYmFsIHN1Y2ggdGhhdCB0aGV5IGNvdmVyIHRoZSBlYXJ0aC5cbiAqIENhbiBvbmx5IGJlIHVzZWQgYXMgdGhlIGJhc2UgZm9yIG90aGVyIENSUyBhbmQgY2Fubm90IGJlIHVzZWQgZGlyZWN0bHksXG4gKiBzaW5jZSBpdCBkb2VzIG5vdCBoYXZlIGEgYGNvZGVgLCBgcHJvamVjdGlvbmAgb3IgYHRyYW5zZm9ybWF0aW9uYC4gYGRpc3RhbmNlKClgIHJldHVybnNcbiAqIG1ldGVycy5cbiAqL1xuXG5MLkNSUy5FYXJ0aCA9IEwuZXh0ZW5kKHt9LCBMLkNSUywge1xuXHR3cmFwTG5nOiBbLTE4MCwgMTgwXSxcblxuXHQvLyBNZWFuIEVhcnRoIFJhZGl1cywgYXMgcmVjb21tZW5kZWQgZm9yIHVzZSBieVxuXHQvLyB0aGUgSW50ZXJuYXRpb25hbCBVbmlvbiBvZiBHZW9kZXN5IGFuZCBHZW9waHlzaWNzLFxuXHQvLyBzZWUgaHR0cDovL3Jvc2V0dGFjb2RlLm9yZy93aWtpL0hhdmVyc2luZV9mb3JtdWxhXG5cdFI6IDYzNzEwMDAsXG5cblx0Ly8gZGlzdGFuY2UgYmV0d2VlbiB0d28gZ2VvZ3JhcGhpY2FsIHBvaW50cyB1c2luZyBzcGhlcmljYWwgbGF3IG9mIGNvc2luZXMgYXBwcm94aW1hdGlvblxuXHRkaXN0YW5jZTogZnVuY3Rpb24gKGxhdGxuZzEsIGxhdGxuZzIpIHtcblx0XHR2YXIgcmFkID0gTWF0aC5QSSAvIDE4MCxcblx0XHQgICAgbGF0MSA9IGxhdGxuZzEubGF0ICogcmFkLFxuXHRcdCAgICBsYXQyID0gbGF0bG5nMi5sYXQgKiByYWQsXG5cdFx0ICAgIGEgPSBNYXRoLnNpbihsYXQxKSAqIE1hdGguc2luKGxhdDIpICtcblx0XHQgICAgICAgIE1hdGguY29zKGxhdDEpICogTWF0aC5jb3MobGF0MikgKiBNYXRoLmNvcygobGF0bG5nMi5sbmcgLSBsYXRsbmcxLmxuZykgKiByYWQpO1xuXG5cdFx0cmV0dXJuIHRoaXMuUiAqIE1hdGguYWNvcyhNYXRoLm1pbihhLCAxKSk7XG5cdH1cbn0pO1xuXG4vKlxyXG4gKiBAbmFtZXNwYWNlIENSU1xyXG4gKiBAY3JzIEwuQ1JTLkVQU0czODU3XHJcbiAqXHJcbiAqIFRoZSBtb3N0IGNvbW1vbiBDUlMgZm9yIG9ubGluZSBtYXBzLCB1c2VkIGJ5IGFsbW9zdCBhbGwgZnJlZSBhbmQgY29tbWVyY2lhbFxyXG4gKiB0aWxlIHByb3ZpZGVycy4gVXNlcyBTcGhlcmljYWwgTWVyY2F0b3IgcHJvamVjdGlvbi4gU2V0IGluIGJ5IGRlZmF1bHQgaW5cclxuICogTWFwJ3MgYGNyc2Agb3B0aW9uLlxyXG4gKi9cclxuXHJcbkwuQ1JTLkVQU0czODU3ID0gTC5leHRlbmQoe30sIEwuQ1JTLkVhcnRoLCB7XHJcblx0Y29kZTogJ0VQU0c6Mzg1NycsXHJcblx0cHJvamVjdGlvbjogTC5Qcm9qZWN0aW9uLlNwaGVyaWNhbE1lcmNhdG9yLFxyXG5cclxuXHR0cmFuc2Zvcm1hdGlvbjogKGZ1bmN0aW9uICgpIHtcclxuXHRcdHZhciBzY2FsZSA9IDAuNSAvIChNYXRoLlBJICogTC5Qcm9qZWN0aW9uLlNwaGVyaWNhbE1lcmNhdG9yLlIpO1xyXG5cdFx0cmV0dXJuIG5ldyBMLlRyYW5zZm9ybWF0aW9uKHNjYWxlLCAwLjUsIC1zY2FsZSwgMC41KTtcclxuXHR9KCkpXHJcbn0pO1xyXG5cclxuTC5DUlMuRVBTRzkwMDkxMyA9IEwuZXh0ZW5kKHt9LCBMLkNSUy5FUFNHMzg1Nywge1xyXG5cdGNvZGU6ICdFUFNHOjkwMDkxMydcclxufSk7XHJcblxuLypcclxuICogQG5hbWVzcGFjZSBDUlNcclxuICogQGNycyBMLkNSUy5FUFNHNDMyNlxyXG4gKlxyXG4gKiBBIGNvbW1vbiBDUlMgYW1vbmcgR0lTIGVudGh1c2lhc3RzLiBVc2VzIHNpbXBsZSBFcXVpcmVjdGFuZ3VsYXIgcHJvamVjdGlvbi5cclxuICovXHJcblxyXG5MLkNSUy5FUFNHNDMyNiA9IEwuZXh0ZW5kKHt9LCBMLkNSUy5FYXJ0aCwge1xyXG5cdGNvZGU6ICdFUFNHOjQzMjYnLFxyXG5cdHByb2plY3Rpb246IEwuUHJvamVjdGlvbi5Mb25MYXQsXHJcblx0dHJhbnNmb3JtYXRpb246IG5ldyBMLlRyYW5zZm9ybWF0aW9uKDEgLyAxODAsIDEsIC0xIC8gMTgwLCAwLjUpXHJcbn0pO1xyXG5cbi8qXHJcbiAqIEBjbGFzcyBNYXBcclxuICogQGFrYSBMLk1hcFxyXG4gKiBAaW5oZXJpdHMgRXZlbnRlZFxyXG4gKlxyXG4gKiBUaGUgY2VudHJhbCBjbGFzcyBvZiB0aGUgQVBJIOKAlCBpdCBpcyB1c2VkIHRvIGNyZWF0ZSBhIG1hcCBvbiBhIHBhZ2UgYW5kIG1hbmlwdWxhdGUgaXQuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqXHJcbiAqIGBgYGpzXHJcbiAqIC8vIGluaXRpYWxpemUgdGhlIG1hcCBvbiB0aGUgXCJtYXBcIiBkaXYgd2l0aCBhIGdpdmVuIGNlbnRlciBhbmQgem9vbVxyXG4gKiB2YXIgbWFwID0gTC5tYXAoJ21hcCcsIHtcclxuICogXHRjZW50ZXI6IFs1MS41MDUsIC0wLjA5XSxcclxuICogXHR6b29tOiAxM1xyXG4gKiB9KTtcclxuICogYGBgXHJcbiAqXHJcbiAqL1xyXG5cclxuTC5NYXAgPSBMLkV2ZW50ZWQuZXh0ZW5kKHtcclxuXHJcblx0b3B0aW9uczoge1xyXG5cdFx0Ly8gQHNlY3Rpb24gTWFwIFN0YXRlIE9wdGlvbnNcclxuXHRcdC8vIEBvcHRpb24gY3JzOiBDUlMgPSBMLkNSUy5FUFNHMzg1N1xyXG5cdFx0Ly8gVGhlIFtDb29yZGluYXRlIFJlZmVyZW5jZSBTeXN0ZW1dKCNjcnMpIHRvIHVzZS4gRG9uJ3QgY2hhbmdlIHRoaXMgaWYgeW91J3JlIG5vdFxyXG5cdFx0Ly8gc3VyZSB3aGF0IGl0IG1lYW5zLlxyXG5cdFx0Y3JzOiBMLkNSUy5FUFNHMzg1NyxcclxuXHJcblx0XHQvLyBAb3B0aW9uIGNlbnRlcjogTGF0TG5nID0gdW5kZWZpbmVkXHJcblx0XHQvLyBJbml0aWFsIGdlb2dyYXBoaWMgY2VudGVyIG9mIHRoZSBtYXBcclxuXHRcdGNlbnRlcjogdW5kZWZpbmVkLFxyXG5cclxuXHRcdC8vIEBvcHRpb24gem9vbTogTnVtYmVyID0gdW5kZWZpbmVkXHJcblx0XHQvLyBJbml0aWFsIG1hcCB6b29tIGxldmVsXHJcblx0XHR6b29tOiB1bmRlZmluZWQsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiBtaW5ab29tOiBOdW1iZXIgPSB1bmRlZmluZWRcclxuXHRcdC8vIE1pbmltdW0gem9vbSBsZXZlbCBvZiB0aGUgbWFwLiBPdmVycmlkZXMgYW55IGBtaW5ab29tYCBvcHRpb24gc2V0IG9uIG1hcCBsYXllcnMuXHJcblx0XHRtaW5ab29tOiB1bmRlZmluZWQsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiBtYXhab29tOiBOdW1iZXIgPSB1bmRlZmluZWRcclxuXHRcdC8vIE1heGltdW0gem9vbSBsZXZlbCBvZiB0aGUgbWFwLiBPdmVycmlkZXMgYW55IGBtYXhab29tYCBvcHRpb24gc2V0IG9uIG1hcCBsYXllcnMuXHJcblx0XHRtYXhab29tOiB1bmRlZmluZWQsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiBsYXllcnM6IExheWVyW10gPSBbXVxyXG5cdFx0Ly8gQXJyYXkgb2YgbGF5ZXJzIHRoYXQgd2lsbCBiZSBhZGRlZCB0byB0aGUgbWFwIGluaXRpYWxseVxyXG5cdFx0bGF5ZXJzOiBbXSxcclxuXHJcblx0XHQvLyBAb3B0aW9uIG1heEJvdW5kczogTGF0TG5nQm91bmRzID0gbnVsbFxyXG5cdFx0Ly8gV2hlbiB0aGlzIG9wdGlvbiBpcyBzZXQsIHRoZSBtYXAgcmVzdHJpY3RzIHRoZSB2aWV3IHRvIHRoZSBnaXZlblxyXG5cdFx0Ly8gZ2VvZ3JhcGhpY2FsIGJvdW5kcywgYm91bmNpbmcgdGhlIHVzZXIgYmFjayB3aGVuIGhlIHRyaWVzIHRvIHBhblxyXG5cdFx0Ly8gb3V0c2lkZSB0aGUgdmlldy4gVG8gc2V0IHRoZSByZXN0cmljdGlvbiBkeW5hbWljYWxseSwgdXNlXHJcblx0XHQvLyBbYHNldE1heEJvdW5kc2BdKCNtYXAtc2V0bWF4Ym91bmRzKSBtZXRob2QuXHJcblx0XHRtYXhCb3VuZHM6IHVuZGVmaW5lZCxcclxuXHJcblx0XHQvLyBAb3B0aW9uIHJlbmRlcmVyOiBSZW5kZXJlciA9ICpcclxuXHRcdC8vIFRoZSBkZWZhdWx0IG1ldGhvZCBmb3IgZHJhd2luZyB2ZWN0b3IgbGF5ZXJzIG9uIHRoZSBtYXAuIGBMLlNWR2BcclxuXHRcdC8vIG9yIGBMLkNhbnZhc2AgYnkgZGVmYXVsdCBkZXBlbmRpbmcgb24gYnJvd3NlciBzdXBwb3J0LlxyXG5cdFx0cmVuZGVyZXI6IHVuZGVmaW5lZCxcclxuXHJcblxyXG5cdFx0Ly8gQHNlY3Rpb24gQW5pbWF0aW9uIE9wdGlvbnNcclxuXHRcdC8vIEBvcHRpb24gZmFkZUFuaW1hdGlvbjogQm9vbGVhbiA9IHRydWVcclxuXHRcdC8vIFdoZXRoZXIgdGhlIHRpbGUgZmFkZSBhbmltYXRpb24gaXMgZW5hYmxlZC4gQnkgZGVmYXVsdCBpdCdzIGVuYWJsZWRcclxuXHRcdC8vIGluIGFsbCBicm93c2VycyB0aGF0IHN1cHBvcnQgQ1NTMyBUcmFuc2l0aW9ucyBleGNlcHQgQW5kcm9pZC5cclxuXHRcdGZhZGVBbmltYXRpb246IHRydWUsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiBtYXJrZXJab29tQW5pbWF0aW9uOiBCb29sZWFuID0gdHJ1ZVxyXG5cdFx0Ly8gV2hldGhlciBtYXJrZXJzIGFuaW1hdGUgdGhlaXIgem9vbSB3aXRoIHRoZSB6b29tIGFuaW1hdGlvbiwgaWYgZGlzYWJsZWRcclxuXHRcdC8vIHRoZXkgd2lsbCBkaXNhcHBlYXIgZm9yIHRoZSBsZW5ndGggb2YgdGhlIGFuaW1hdGlvbi4gQnkgZGVmYXVsdCBpdCdzXHJcblx0XHQvLyBlbmFibGVkIGluIGFsbCBicm93c2VycyB0aGF0IHN1cHBvcnQgQ1NTMyBUcmFuc2l0aW9ucyBleGNlcHQgQW5kcm9pZC5cclxuXHRcdG1hcmtlclpvb21BbmltYXRpb246IHRydWUsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiB0cmFuc2Zvcm0zRExpbWl0OiBOdW1iZXIgPSAyXjIzXHJcblx0XHQvLyBEZWZpbmVzIHRoZSBtYXhpbXVtIHNpemUgb2YgYSBDU1MgdHJhbnNsYXRpb24gdHJhbnNmb3JtLiBUaGUgZGVmYXVsdFxyXG5cdFx0Ly8gdmFsdWUgc2hvdWxkIG5vdCBiZSBjaGFuZ2VkIHVubGVzcyBhIHdlYiBicm93c2VyIHBvc2l0aW9ucyBsYXllcnMgaW5cclxuXHRcdC8vIHRoZSB3cm9uZyBwbGFjZSBhZnRlciBkb2luZyBhIGxhcmdlIGBwYW5CeWAuXHJcblx0XHR0cmFuc2Zvcm0zRExpbWl0OiA4Mzg4NjA4LCAvLyBQcmVjaXNpb24gbGltaXQgb2YgYSAzMi1iaXQgZmxvYXRcclxuXHJcblx0XHQvLyBAc2VjdGlvbiBJbnRlcmFjdGlvbiBPcHRpb25zXHJcblx0XHQvLyBAb3B0aW9uIHpvb21TbmFwOiBOdW1iZXIgPSAxXHJcblx0XHQvLyBGb3JjZXMgdGhlIG1hcCdzIHpvb20gbGV2ZWwgdG8gYWx3YXlzIGJlIGEgbXVsdGlwbGUgb2YgdGhpcywgcGFydGljdWxhcmx5XHJcblx0XHQvLyByaWdodCBhZnRlciBhIFtgZml0Qm91bmRzKClgXSgjbWFwLWZpdGJvdW5kcykgb3IgYSBwaW5jaC16b29tLlxyXG5cdFx0Ly8gQnkgZGVmYXVsdCwgdGhlIHpvb20gbGV2ZWwgc25hcHMgdG8gdGhlIG5lYXJlc3QgaW50ZWdlcjsgbG93ZXIgdmFsdWVzXHJcblx0XHQvLyAoZS5nLiBgMC41YCBvciBgMC4xYCkgYWxsb3cgZm9yIGdyZWF0ZXIgZ3JhbnVsYXJpdHkuIEEgdmFsdWUgb2YgYDBgXHJcblx0XHQvLyBtZWFucyB0aGUgem9vbSBsZXZlbCB3aWxsIG5vdCBiZSBzbmFwcGVkIGFmdGVyIGBmaXRCb3VuZHNgIG9yIGEgcGluY2gtem9vbS5cclxuXHRcdHpvb21TbmFwOiAxLFxyXG5cclxuXHRcdC8vIEBvcHRpb24gem9vbURlbHRhOiBOdW1iZXIgPSAxXHJcblx0XHQvLyBDb250cm9scyBob3cgbXVjaCB0aGUgbWFwJ3Mgem9vbSBsZXZlbCB3aWxsIGNoYW5nZSBhZnRlciBhXHJcblx0XHQvLyBbYHpvb21JbigpYF0oI21hcC16b29taW4pLCBbYHpvb21PdXQoKWBdKCNtYXAtem9vbW91dCksIHByZXNzaW5nIGArYFxyXG5cdFx0Ly8gb3IgYC1gIG9uIHRoZSBrZXlib2FyZCwgb3IgdXNpbmcgdGhlIFt6b29tIGNvbnRyb2xzXSgjY29udHJvbC16b29tKS5cclxuXHRcdC8vIFZhbHVlcyBzbWFsbGVyIHRoYW4gYDFgIChlLmcuIGAwLjVgKSBhbGxvdyBmb3IgZ3JlYXRlciBncmFudWxhcml0eS5cclxuXHRcdHpvb21EZWx0YTogMSxcclxuXHJcblx0XHQvLyBAb3B0aW9uIHRyYWNrUmVzaXplOiBCb29sZWFuID0gdHJ1ZVxyXG5cdFx0Ly8gV2hldGhlciB0aGUgbWFwIGF1dG9tYXRpY2FsbHkgaGFuZGxlcyBicm93c2VyIHdpbmRvdyByZXNpemUgdG8gdXBkYXRlIGl0c2VsZi5cclxuXHRcdHRyYWNrUmVzaXplOiB0cnVlXHJcblx0fSxcclxuXHJcblx0aW5pdGlhbGl6ZTogZnVuY3Rpb24gKGlkLCBvcHRpb25zKSB7IC8vIChIVE1MRWxlbWVudCBvciBTdHJpbmcsIE9iamVjdClcclxuXHRcdG9wdGlvbnMgPSBMLnNldE9wdGlvbnModGhpcywgb3B0aW9ucyk7XHJcblxyXG5cdFx0dGhpcy5faW5pdENvbnRhaW5lcihpZCk7XHJcblx0XHR0aGlzLl9pbml0TGF5b3V0KCk7XHJcblxyXG5cdFx0Ly8gaGFjayBmb3IgaHR0cHM6Ly9naXRodWIuY29tL0xlYWZsZXQvTGVhZmxldC9pc3N1ZXMvMTk4MFxyXG5cdFx0dGhpcy5fb25SZXNpemUgPSBMLmJpbmQodGhpcy5fb25SZXNpemUsIHRoaXMpO1xyXG5cclxuXHRcdHRoaXMuX2luaXRFdmVudHMoKTtcclxuXHJcblx0XHRpZiAob3B0aW9ucy5tYXhCb3VuZHMpIHtcclxuXHRcdFx0dGhpcy5zZXRNYXhCb3VuZHMob3B0aW9ucy5tYXhCb3VuZHMpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChvcHRpb25zLnpvb20gIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHR0aGlzLl96b29tID0gdGhpcy5fbGltaXRab29tKG9wdGlvbnMuem9vbSk7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKG9wdGlvbnMuY2VudGVyICYmIG9wdGlvbnMuem9vbSAhPT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdHRoaXMuc2V0VmlldyhMLmxhdExuZyhvcHRpb25zLmNlbnRlciksIG9wdGlvbnMuem9vbSwge3Jlc2V0OiB0cnVlfSk7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5faGFuZGxlcnMgPSBbXTtcclxuXHRcdHRoaXMuX2xheWVycyA9IHt9O1xyXG5cdFx0dGhpcy5fem9vbUJvdW5kTGF5ZXJzID0ge307XHJcblx0XHR0aGlzLl9zaXplQ2hhbmdlZCA9IHRydWU7XHJcblxyXG5cdFx0dGhpcy5jYWxsSW5pdEhvb2tzKCk7XHJcblxyXG5cdFx0dGhpcy5fYWRkTGF5ZXJzKHRoaXMub3B0aW9ucy5sYXllcnMpO1xyXG5cdH0sXHJcblxyXG5cclxuXHQvLyBAc2VjdGlvbiBNZXRob2RzIGZvciBtb2RpZnlpbmcgbWFwIHN0YXRlXHJcblxyXG5cdC8vIEBtZXRob2Qgc2V0VmlldyhjZW50ZXI6IExhdExuZywgem9vbTogTnVtYmVyLCBvcHRpb25zPzogWm9vbS9wYW4gb3B0aW9ucyk6IHRoaXNcclxuXHQvLyBTZXRzIHRoZSB2aWV3IG9mIHRoZSBtYXAgKGdlb2dyYXBoaWNhbCBjZW50ZXIgYW5kIHpvb20pIHdpdGggdGhlIGdpdmVuXHJcblx0Ly8gYW5pbWF0aW9uIG9wdGlvbnMuXHJcblx0c2V0VmlldzogZnVuY3Rpb24gKGNlbnRlciwgem9vbSkge1xyXG5cdFx0Ly8gcmVwbGFjZWQgYnkgYW5pbWF0aW9uLXBvd2VyZWQgaW1wbGVtZW50YXRpb24gaW4gTWFwLlBhbkFuaW1hdGlvbi5qc1xyXG5cdFx0em9vbSA9IHpvb20gPT09IHVuZGVmaW5lZCA/IHRoaXMuZ2V0Wm9vbSgpIDogem9vbTtcclxuXHRcdHRoaXMuX3Jlc2V0VmlldyhMLmxhdExuZyhjZW50ZXIpLCB6b29tKTtcclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2Qgc2V0Wm9vbSh6b29tOiBOdW1iZXIsIG9wdGlvbnM6IFpvb20vcGFuIG9wdGlvbnMpOiB0aGlzXHJcblx0Ly8gU2V0cyB0aGUgem9vbSBvZiB0aGUgbWFwLlxyXG5cdHNldFpvb206IGZ1bmN0aW9uICh6b29tLCBvcHRpb25zKSB7XHJcblx0XHRpZiAoIXRoaXMuX2xvYWRlZCkge1xyXG5cdFx0XHR0aGlzLl96b29tID0gem9vbTtcclxuXHRcdFx0cmV0dXJuIHRoaXM7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gdGhpcy5zZXRWaWV3KHRoaXMuZ2V0Q2VudGVyKCksIHpvb20sIHt6b29tOiBvcHRpb25zfSk7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCB6b29tSW4oZGVsdGE/OiBOdW1iZXIsIG9wdGlvbnM/OiBab29tIG9wdGlvbnMpOiB0aGlzXHJcblx0Ly8gSW5jcmVhc2VzIHRoZSB6b29tIG9mIHRoZSBtYXAgYnkgYGRlbHRhYCAoW2B6b29tRGVsdGFgXSgjbWFwLXpvb21kZWx0YSkgYnkgZGVmYXVsdCkuXHJcblx0em9vbUluOiBmdW5jdGlvbiAoZGVsdGEsIG9wdGlvbnMpIHtcclxuXHRcdGRlbHRhID0gZGVsdGEgfHwgKEwuQnJvd3Nlci5hbnkzZCA/IHRoaXMub3B0aW9ucy56b29tRGVsdGEgOiAxKTtcclxuXHRcdHJldHVybiB0aGlzLnNldFpvb20odGhpcy5fem9vbSArIGRlbHRhLCBvcHRpb25zKTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHpvb21PdXQoZGVsdGE/OiBOdW1iZXIsIG9wdGlvbnM/OiBab29tIG9wdGlvbnMpOiB0aGlzXHJcblx0Ly8gRGVjcmVhc2VzIHRoZSB6b29tIG9mIHRoZSBtYXAgYnkgYGRlbHRhYCAoW2B6b29tRGVsdGFgXSgjbWFwLXpvb21kZWx0YSkgYnkgZGVmYXVsdCkuXHJcblx0em9vbU91dDogZnVuY3Rpb24gKGRlbHRhLCBvcHRpb25zKSB7XHJcblx0XHRkZWx0YSA9IGRlbHRhIHx8IChMLkJyb3dzZXIuYW55M2QgPyB0aGlzLm9wdGlvbnMuem9vbURlbHRhIDogMSk7XHJcblx0XHRyZXR1cm4gdGhpcy5zZXRab29tKHRoaXMuX3pvb20gLSBkZWx0YSwgb3B0aW9ucyk7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBzZXRab29tQXJvdW5kKGxhdGxuZzogTGF0TG5nLCB6b29tOiBOdW1iZXIsIG9wdGlvbnM6IFpvb20gb3B0aW9ucyk6IHRoaXNcclxuXHQvLyBab29tcyB0aGUgbWFwIHdoaWxlIGtlZXBpbmcgYSBzcGVjaWZpZWQgZ2VvZ3JhcGhpY2FsIHBvaW50IG9uIHRoZSBtYXBcclxuXHQvLyBzdGF0aW9uYXJ5IChlLmcuIHVzZWQgaW50ZXJuYWxseSBmb3Igc2Nyb2xsIHpvb20gYW5kIGRvdWJsZS1jbGljayB6b29tKS5cclxuXHQvLyBAYWx0ZXJuYXRpdmVcclxuXHQvLyBAbWV0aG9kIHNldFpvb21Bcm91bmQob2Zmc2V0OiBQb2ludCwgem9vbTogTnVtYmVyLCBvcHRpb25zOiBab29tIG9wdGlvbnMpOiB0aGlzXHJcblx0Ly8gWm9vbXMgdGhlIG1hcCB3aGlsZSBrZWVwaW5nIGEgc3BlY2lmaWVkIHBpeGVsIG9uIHRoZSBtYXAgKHJlbGF0aXZlIHRvIHRoZSB0b3AtbGVmdCBjb3JuZXIpIHN0YXRpb25hcnkuXHJcblx0c2V0Wm9vbUFyb3VuZDogZnVuY3Rpb24gKGxhdGxuZywgem9vbSwgb3B0aW9ucykge1xyXG5cdFx0dmFyIHNjYWxlID0gdGhpcy5nZXRab29tU2NhbGUoem9vbSksXHJcblx0XHQgICAgdmlld0hhbGYgPSB0aGlzLmdldFNpemUoKS5kaXZpZGVCeSgyKSxcclxuXHRcdCAgICBjb250YWluZXJQb2ludCA9IGxhdGxuZyBpbnN0YW5jZW9mIEwuUG9pbnQgPyBsYXRsbmcgOiB0aGlzLmxhdExuZ1RvQ29udGFpbmVyUG9pbnQobGF0bG5nKSxcclxuXHJcblx0XHQgICAgY2VudGVyT2Zmc2V0ID0gY29udGFpbmVyUG9pbnQuc3VidHJhY3Qodmlld0hhbGYpLm11bHRpcGx5QnkoMSAtIDEgLyBzY2FsZSksXHJcblx0XHQgICAgbmV3Q2VudGVyID0gdGhpcy5jb250YWluZXJQb2ludFRvTGF0TG5nKHZpZXdIYWxmLmFkZChjZW50ZXJPZmZzZXQpKTtcclxuXHJcblx0XHRyZXR1cm4gdGhpcy5zZXRWaWV3KG5ld0NlbnRlciwgem9vbSwge3pvb206IG9wdGlvbnN9KTtcclxuXHR9LFxyXG5cclxuXHRfZ2V0Qm91bmRzQ2VudGVyWm9vbTogZnVuY3Rpb24gKGJvdW5kcywgb3B0aW9ucykge1xyXG5cclxuXHRcdG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xyXG5cdFx0Ym91bmRzID0gYm91bmRzLmdldEJvdW5kcyA/IGJvdW5kcy5nZXRCb3VuZHMoKSA6IEwubGF0TG5nQm91bmRzKGJvdW5kcyk7XHJcblxyXG5cdFx0dmFyIHBhZGRpbmdUTCA9IEwucG9pbnQob3B0aW9ucy5wYWRkaW5nVG9wTGVmdCB8fCBvcHRpb25zLnBhZGRpbmcgfHwgWzAsIDBdKSxcclxuXHRcdCAgICBwYWRkaW5nQlIgPSBMLnBvaW50KG9wdGlvbnMucGFkZGluZ0JvdHRvbVJpZ2h0IHx8IG9wdGlvbnMucGFkZGluZyB8fCBbMCwgMF0pLFxyXG5cclxuXHRcdCAgICB6b29tID0gdGhpcy5nZXRCb3VuZHNab29tKGJvdW5kcywgZmFsc2UsIHBhZGRpbmdUTC5hZGQocGFkZGluZ0JSKSk7XHJcblxyXG5cdFx0em9vbSA9ICh0eXBlb2Ygb3B0aW9ucy5tYXhab29tID09PSAnbnVtYmVyJykgPyBNYXRoLm1pbihvcHRpb25zLm1heFpvb20sIHpvb20pIDogem9vbTtcclxuXHJcblx0XHR2YXIgcGFkZGluZ09mZnNldCA9IHBhZGRpbmdCUi5zdWJ0cmFjdChwYWRkaW5nVEwpLmRpdmlkZUJ5KDIpLFxyXG5cclxuXHRcdCAgICBzd1BvaW50ID0gdGhpcy5wcm9qZWN0KGJvdW5kcy5nZXRTb3V0aFdlc3QoKSwgem9vbSksXHJcblx0XHQgICAgbmVQb2ludCA9IHRoaXMucHJvamVjdChib3VuZHMuZ2V0Tm9ydGhFYXN0KCksIHpvb20pLFxyXG5cdFx0ICAgIGNlbnRlciA9IHRoaXMudW5wcm9qZWN0KHN3UG9pbnQuYWRkKG5lUG9pbnQpLmRpdmlkZUJ5KDIpLmFkZChwYWRkaW5nT2Zmc2V0KSwgem9vbSk7XHJcblxyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0Y2VudGVyOiBjZW50ZXIsXHJcblx0XHRcdHpvb206IHpvb21cclxuXHRcdH07XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBmaXRCb3VuZHMoYm91bmRzOiBMYXRMbmdCb3VuZHMsIG9wdGlvbnM6IGZpdEJvdW5kcyBvcHRpb25zKTogdGhpc1xyXG5cdC8vIFNldHMgYSBtYXAgdmlldyB0aGF0IGNvbnRhaW5zIHRoZSBnaXZlbiBnZW9ncmFwaGljYWwgYm91bmRzIHdpdGggdGhlXHJcblx0Ly8gbWF4aW11bSB6b29tIGxldmVsIHBvc3NpYmxlLlxyXG5cdGZpdEJvdW5kczogZnVuY3Rpb24gKGJvdW5kcywgb3B0aW9ucykge1xyXG5cclxuXHRcdGJvdW5kcyA9IEwubGF0TG5nQm91bmRzKGJvdW5kcyk7XHJcblxyXG5cdFx0aWYgKCFib3VuZHMuaXNWYWxpZCgpKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcignQm91bmRzIGFyZSBub3QgdmFsaWQuJyk7XHJcblx0XHR9XHJcblxyXG5cdFx0dmFyIHRhcmdldCA9IHRoaXMuX2dldEJvdW5kc0NlbnRlclpvb20oYm91bmRzLCBvcHRpb25zKTtcclxuXHRcdHJldHVybiB0aGlzLnNldFZpZXcodGFyZ2V0LmNlbnRlciwgdGFyZ2V0Lnpvb20sIG9wdGlvbnMpO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgZml0V29ybGQob3B0aW9ucz86IGZpdEJvdW5kcyBvcHRpb25zKTogdGhpc1xyXG5cdC8vIFNldHMgYSBtYXAgdmlldyB0aGF0IG1vc3RseSBjb250YWlucyB0aGUgd2hvbGUgd29ybGQgd2l0aCB0aGUgbWF4aW11bVxyXG5cdC8vIHpvb20gbGV2ZWwgcG9zc2libGUuXHJcblx0Zml0V29ybGQ6IGZ1bmN0aW9uIChvcHRpb25zKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5maXRCb3VuZHMoW1stOTAsIC0xODBdLCBbOTAsIDE4MF1dLCBvcHRpb25zKTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHBhblRvKGxhdGxuZzogTGF0TG5nLCBvcHRpb25zPzogUGFuIG9wdGlvbnMpOiB0aGlzXHJcblx0Ly8gUGFucyB0aGUgbWFwIHRvIGEgZ2l2ZW4gY2VudGVyLlxyXG5cdHBhblRvOiBmdW5jdGlvbiAoY2VudGVyLCBvcHRpb25zKSB7IC8vIChMYXRMbmcpXHJcblx0XHRyZXR1cm4gdGhpcy5zZXRWaWV3KGNlbnRlciwgdGhpcy5fem9vbSwge3Bhbjogb3B0aW9uc30pO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgcGFuQnkob2Zmc2V0OiBQb2ludCk6IHRoaXNcclxuXHQvLyBQYW5zIHRoZSBtYXAgYnkgYSBnaXZlbiBudW1iZXIgb2YgcGl4ZWxzIChhbmltYXRlZCkuXHJcblx0cGFuQnk6IGZ1bmN0aW9uIChvZmZzZXQpIHsgLy8gKFBvaW50KVxyXG5cdFx0Ly8gcmVwbGFjZWQgd2l0aCBhbmltYXRlZCBwYW5CeSBpbiBNYXAuUGFuQW5pbWF0aW9uLmpzXHJcblx0XHR0aGlzLmZpcmUoJ21vdmVzdGFydCcpO1xyXG5cclxuXHRcdHRoaXMuX3Jhd1BhbkJ5KEwucG9pbnQob2Zmc2V0KSk7XHJcblxyXG5cdFx0dGhpcy5maXJlKCdtb3ZlJyk7XHJcblx0XHRyZXR1cm4gdGhpcy5maXJlKCdtb3ZlZW5kJyk7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBzZXRNYXhCb3VuZHMoYm91bmRzOiBCb3VuZHMpOiB0aGlzXHJcblx0Ly8gUmVzdHJpY3RzIHRoZSBtYXAgdmlldyB0byB0aGUgZ2l2ZW4gYm91bmRzIChzZWUgdGhlIFttYXhCb3VuZHNdKCNtYXAtbWF4Ym91bmRzKSBvcHRpb24pLlxyXG5cdHNldE1heEJvdW5kczogZnVuY3Rpb24gKGJvdW5kcykge1xyXG5cdFx0Ym91bmRzID0gTC5sYXRMbmdCb3VuZHMoYm91bmRzKTtcclxuXHJcblx0XHRpZiAoIWJvdW5kcy5pc1ZhbGlkKCkpIHtcclxuXHRcdFx0dGhpcy5vcHRpb25zLm1heEJvdW5kcyA9IG51bGw7XHJcblx0XHRcdHJldHVybiB0aGlzLm9mZignbW92ZWVuZCcsIHRoaXMuX3Bhbkluc2lkZU1heEJvdW5kcyk7XHJcblx0XHR9IGVsc2UgaWYgKHRoaXMub3B0aW9ucy5tYXhCb3VuZHMpIHtcclxuXHRcdFx0dGhpcy5vZmYoJ21vdmVlbmQnLCB0aGlzLl9wYW5JbnNpZGVNYXhCb3VuZHMpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMub3B0aW9ucy5tYXhCb3VuZHMgPSBib3VuZHM7XHJcblxyXG5cdFx0aWYgKHRoaXMuX2xvYWRlZCkge1xyXG5cdFx0XHR0aGlzLl9wYW5JbnNpZGVNYXhCb3VuZHMoKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdGhpcy5vbignbW92ZWVuZCcsIHRoaXMuX3Bhbkluc2lkZU1heEJvdW5kcyk7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBzZXRNaW5ab29tKHpvb206IE51bWJlcik6IHRoaXNcclxuXHQvLyBTZXRzIHRoZSBsb3dlciBsaW1pdCBmb3IgdGhlIGF2YWlsYWJsZSB6b29tIGxldmVscyAoc2VlIHRoZSBbbWluWm9vbV0oI21hcC1taW56b29tKSBvcHRpb24pLlxyXG5cdHNldE1pblpvb206IGZ1bmN0aW9uICh6b29tKSB7XHJcblx0XHR0aGlzLm9wdGlvbnMubWluWm9vbSA9IHpvb207XHJcblxyXG5cdFx0aWYgKHRoaXMuX2xvYWRlZCAmJiB0aGlzLmdldFpvb20oKSA8IHRoaXMub3B0aW9ucy5taW5ab29tKSB7XHJcblx0XHRcdHJldHVybiB0aGlzLnNldFpvb20oem9vbSk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBzZXRNYXhab29tKHpvb206IE51bWJlcik6IHRoaXNcclxuXHQvLyBTZXRzIHRoZSB1cHBlciBsaW1pdCBmb3IgdGhlIGF2YWlsYWJsZSB6b29tIGxldmVscyAoc2VlIHRoZSBbbWF4Wm9vbV0oI21hcC1tYXh6b29tKSBvcHRpb24pLlxyXG5cdHNldE1heFpvb206IGZ1bmN0aW9uICh6b29tKSB7XHJcblx0XHR0aGlzLm9wdGlvbnMubWF4Wm9vbSA9IHpvb207XHJcblxyXG5cdFx0aWYgKHRoaXMuX2xvYWRlZCAmJiAodGhpcy5nZXRab29tKCkgPiB0aGlzLm9wdGlvbnMubWF4Wm9vbSkpIHtcclxuXHRcdFx0cmV0dXJuIHRoaXMuc2V0Wm9vbSh6b29tKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHBhbkluc2lkZUJvdW5kcyhib3VuZHM6IExhdExuZ0JvdW5kcywgb3B0aW9ucz86IFBhbiBvcHRpb25zKTogdGhpc1xyXG5cdC8vIFBhbnMgdGhlIG1hcCB0byB0aGUgY2xvc2VzdCB2aWV3IHRoYXQgd291bGQgbGllIGluc2lkZSB0aGUgZ2l2ZW4gYm91bmRzIChpZiBpdCdzIG5vdCBhbHJlYWR5KSwgY29udHJvbGxpbmcgdGhlIGFuaW1hdGlvbiB1c2luZyB0aGUgb3B0aW9ucyBzcGVjaWZpYywgaWYgYW55LlxyXG5cdHBhbkluc2lkZUJvdW5kczogZnVuY3Rpb24gKGJvdW5kcywgb3B0aW9ucykge1xyXG5cdFx0dGhpcy5fZW5mb3JjaW5nQm91bmRzID0gdHJ1ZTtcclxuXHRcdHZhciBjZW50ZXIgPSB0aGlzLmdldENlbnRlcigpLFxyXG5cdFx0ICAgIG5ld0NlbnRlciA9IHRoaXMuX2xpbWl0Q2VudGVyKGNlbnRlciwgdGhpcy5fem9vbSwgTC5sYXRMbmdCb3VuZHMoYm91bmRzKSk7XHJcblxyXG5cdFx0aWYgKCFjZW50ZXIuZXF1YWxzKG5ld0NlbnRlcikpIHtcclxuXHRcdFx0dGhpcy5wYW5UbyhuZXdDZW50ZXIsIG9wdGlvbnMpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuX2VuZm9yY2luZ0JvdW5kcyA9IGZhbHNlO1xyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBpbnZhbGlkYXRlU2l6ZShvcHRpb25zOiBab29tL1BhbiBvcHRpb25zKTogdGhpc1xyXG5cdC8vIENoZWNrcyBpZiB0aGUgbWFwIGNvbnRhaW5lciBzaXplIGNoYW5nZWQgYW5kIHVwZGF0ZXMgdGhlIG1hcCBpZiBzbyDigJRcclxuXHQvLyBjYWxsIGl0IGFmdGVyIHlvdSd2ZSBjaGFuZ2VkIHRoZSBtYXAgc2l6ZSBkeW5hbWljYWxseSwgYWxzbyBhbmltYXRpbmdcclxuXHQvLyBwYW4gYnkgZGVmYXVsdC4gSWYgYG9wdGlvbnMucGFuYCBpcyBgZmFsc2VgLCBwYW5uaW5nIHdpbGwgbm90IG9jY3VyLlxyXG5cdC8vIElmIGBvcHRpb25zLmRlYm91bmNlTW92ZWVuZGAgaXMgYHRydWVgLCBpdCB3aWxsIGRlbGF5IGBtb3ZlZW5kYCBldmVudCBzb1xyXG5cdC8vIHRoYXQgaXQgZG9lc24ndCBoYXBwZW4gb2Z0ZW4gZXZlbiBpZiB0aGUgbWV0aG9kIGlzIGNhbGxlZCBtYW55XHJcblx0Ly8gdGltZXMgaW4gYSByb3cuXHJcblxyXG5cdC8vIEBhbHRlcm5hdGl2ZVxyXG5cdC8vIEBtZXRob2QgaW52YWxpZGF0ZVNpemUoYW5pbWF0ZTogQm9vbGVhbik6IHRoaXNcclxuXHQvLyBDaGVja3MgaWYgdGhlIG1hcCBjb250YWluZXIgc2l6ZSBjaGFuZ2VkIGFuZCB1cGRhdGVzIHRoZSBtYXAgaWYgc28g4oCUXHJcblx0Ly8gY2FsbCBpdCBhZnRlciB5b3UndmUgY2hhbmdlZCB0aGUgbWFwIHNpemUgZHluYW1pY2FsbHksIGFsc28gYW5pbWF0aW5nXHJcblx0Ly8gcGFuIGJ5IGRlZmF1bHQuXHJcblx0aW52YWxpZGF0ZVNpemU6IGZ1bmN0aW9uIChvcHRpb25zKSB7XHJcblx0XHRpZiAoIXRoaXMuX2xvYWRlZCkgeyByZXR1cm4gdGhpczsgfVxyXG5cclxuXHRcdG9wdGlvbnMgPSBMLmV4dGVuZCh7XHJcblx0XHRcdGFuaW1hdGU6IGZhbHNlLFxyXG5cdFx0XHRwYW46IHRydWVcclxuXHRcdH0sIG9wdGlvbnMgPT09IHRydWUgPyB7YW5pbWF0ZTogdHJ1ZX0gOiBvcHRpb25zKTtcclxuXHJcblx0XHR2YXIgb2xkU2l6ZSA9IHRoaXMuZ2V0U2l6ZSgpO1xyXG5cdFx0dGhpcy5fc2l6ZUNoYW5nZWQgPSB0cnVlO1xyXG5cdFx0dGhpcy5fbGFzdENlbnRlciA9IG51bGw7XHJcblxyXG5cdFx0dmFyIG5ld1NpemUgPSB0aGlzLmdldFNpemUoKSxcclxuXHRcdCAgICBvbGRDZW50ZXIgPSBvbGRTaXplLmRpdmlkZUJ5KDIpLnJvdW5kKCksXHJcblx0XHQgICAgbmV3Q2VudGVyID0gbmV3U2l6ZS5kaXZpZGVCeSgyKS5yb3VuZCgpLFxyXG5cdFx0ICAgIG9mZnNldCA9IG9sZENlbnRlci5zdWJ0cmFjdChuZXdDZW50ZXIpO1xyXG5cclxuXHRcdGlmICghb2Zmc2V0LnggJiYgIW9mZnNldC55KSB7IHJldHVybiB0aGlzOyB9XHJcblxyXG5cdFx0aWYgKG9wdGlvbnMuYW5pbWF0ZSAmJiBvcHRpb25zLnBhbikge1xyXG5cdFx0XHR0aGlzLnBhbkJ5KG9mZnNldCk7XHJcblxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0aWYgKG9wdGlvbnMucGFuKSB7XHJcblx0XHRcdFx0dGhpcy5fcmF3UGFuQnkob2Zmc2V0KTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dGhpcy5maXJlKCdtb3ZlJyk7XHJcblxyXG5cdFx0XHRpZiAob3B0aW9ucy5kZWJvdW5jZU1vdmVlbmQpIHtcclxuXHRcdFx0XHRjbGVhclRpbWVvdXQodGhpcy5fc2l6ZVRpbWVyKTtcclxuXHRcdFx0XHR0aGlzLl9zaXplVGltZXIgPSBzZXRUaW1lb3V0KEwuYmluZCh0aGlzLmZpcmUsIHRoaXMsICdtb3ZlZW5kJyksIDIwMCk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0dGhpcy5maXJlKCdtb3ZlZW5kJyk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQvLyBAc2VjdGlvbiBNYXAgc3RhdGUgY2hhbmdlIGV2ZW50c1xyXG5cdFx0Ly8gQGV2ZW50IHJlc2l6ZTogUmVzaXplRXZlbnRcclxuXHRcdC8vIEZpcmVkIHdoZW4gdGhlIG1hcCBpcyByZXNpemVkLlxyXG5cdFx0cmV0dXJuIHRoaXMuZmlyZSgncmVzaXplJywge1xyXG5cdFx0XHRvbGRTaXplOiBvbGRTaXplLFxyXG5cdFx0XHRuZXdTaXplOiBuZXdTaXplXHJcblx0XHR9KTtcclxuXHR9LFxyXG5cclxuXHQvLyBAc2VjdGlvbiBNZXRob2RzIGZvciBtb2RpZnlpbmcgbWFwIHN0YXRlXHJcblx0Ly8gQG1ldGhvZCBzdG9wKCk6IHRoaXNcclxuXHQvLyBTdG9wcyB0aGUgY3VycmVudGx5IHJ1bm5pbmcgYHBhblRvYCBvciBgZmx5VG9gIGFuaW1hdGlvbiwgaWYgYW55LlxyXG5cdHN0b3A6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHRoaXMuc2V0Wm9vbSh0aGlzLl9saW1pdFpvb20odGhpcy5fem9vbSkpO1xyXG5cdFx0aWYgKCF0aGlzLm9wdGlvbnMuem9vbVNuYXApIHtcclxuXHRcdFx0dGhpcy5maXJlKCd2aWV3cmVzZXQnKTtcclxuXHRcdH1cclxuXHRcdHJldHVybiB0aGlzLl9zdG9wKCk7XHJcblx0fSxcclxuXHJcblxyXG5cdC8vIFRPRE8gaGFuZGxlci5hZGRUb1xyXG5cdC8vIFRPRE8gQXBwcm9waWF0ZSBkb2NzIHNlY3Rpb24/XHJcblx0Ly8gQHNlY3Rpb24gT3RoZXIgTWV0aG9kc1xyXG5cdC8vIEBtZXRob2QgYWRkSGFuZGxlcihuYW1lOiBTdHJpbmcsIEhhbmRsZXJDbGFzczogRnVuY3Rpb24pOiB0aGlzXHJcblx0Ly8gQWRkcyBhIG5ldyBgSGFuZGxlcmAgdG8gdGhlIG1hcCwgZ2l2ZW4gaXRzIG5hbWUgYW5kIGNvbnN0cnVjdG9yIGZ1bmN0aW9uLlxyXG5cdGFkZEhhbmRsZXI6IGZ1bmN0aW9uIChuYW1lLCBIYW5kbGVyQ2xhc3MpIHtcclxuXHRcdGlmICghSGFuZGxlckNsYXNzKSB7IHJldHVybiB0aGlzOyB9XHJcblxyXG5cdFx0dmFyIGhhbmRsZXIgPSB0aGlzW25hbWVdID0gbmV3IEhhbmRsZXJDbGFzcyh0aGlzKTtcclxuXHJcblx0XHR0aGlzLl9oYW5kbGVycy5wdXNoKGhhbmRsZXIpO1xyXG5cclxuXHRcdGlmICh0aGlzLm9wdGlvbnNbbmFtZV0pIHtcclxuXHRcdFx0aGFuZGxlci5lbmFibGUoKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHJlbW92ZSgpOiB0aGlzXHJcblx0Ly8gRGVzdHJveXMgdGhlIG1hcCBhbmQgY2xlYXJzIGFsbCByZWxhdGVkIGV2ZW50IGxpc3RlbmVycy5cclxuXHRyZW1vdmU6IGZ1bmN0aW9uICgpIHtcclxuXHJcblx0XHR0aGlzLl9pbml0RXZlbnRzKHRydWUpO1xyXG5cclxuXHRcdGlmICh0aGlzLl9jb250YWluZXJJZCAhPT0gdGhpcy5fY29udGFpbmVyLl9sZWFmbGV0X2lkKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcignTWFwIGNvbnRhaW5lciBpcyBiZWluZyByZXVzZWQgYnkgYW5vdGhlciBpbnN0YW5jZScpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRyeSB7XHJcblx0XHRcdC8vIHRocm93cyBlcnJvciBpbiBJRTYtOFxyXG5cdFx0XHRkZWxldGUgdGhpcy5fY29udGFpbmVyLl9sZWFmbGV0X2lkO1xyXG5cdFx0XHRkZWxldGUgdGhpcy5fY29udGFpbmVySWQ7XHJcblx0XHR9IGNhdGNoIChlKSB7XHJcblx0XHRcdC8qZXNsaW50LWRpc2FibGUgKi9cclxuXHRcdFx0dGhpcy5fY29udGFpbmVyLl9sZWFmbGV0X2lkID0gdW5kZWZpbmVkO1xyXG5cdFx0XHQvKmVzbGludC1lbmFibGUgKi9cclxuXHRcdFx0dGhpcy5fY29udGFpbmVySWQgPSB1bmRlZmluZWQ7XHJcblx0XHR9XHJcblxyXG5cdFx0TC5Eb21VdGlsLnJlbW92ZSh0aGlzLl9tYXBQYW5lKTtcclxuXHJcblx0XHRpZiAodGhpcy5fY2xlYXJDb250cm9sUG9zKSB7XHJcblx0XHRcdHRoaXMuX2NsZWFyQ29udHJvbFBvcygpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuX2NsZWFySGFuZGxlcnMoKTtcclxuXHJcblx0XHRpZiAodGhpcy5fbG9hZGVkKSB7XHJcblx0XHRcdC8vIEBzZWN0aW9uIE1hcCBzdGF0ZSBjaGFuZ2UgZXZlbnRzXHJcblx0XHRcdC8vIEBldmVudCB1bmxvYWQ6IEV2ZW50XHJcblx0XHRcdC8vIEZpcmVkIHdoZW4gdGhlIG1hcCBpcyBkZXN0cm95ZWQgd2l0aCBbcmVtb3ZlXSgjbWFwLXJlbW92ZSkgbWV0aG9kLlxyXG5cdFx0XHR0aGlzLmZpcmUoJ3VubG9hZCcpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZvciAodmFyIGkgaW4gdGhpcy5fbGF5ZXJzKSB7XHJcblx0XHRcdHRoaXMuX2xheWVyc1tpXS5yZW1vdmUoKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHQvLyBAc2VjdGlvbiBPdGhlciBNZXRob2RzXHJcblx0Ly8gQG1ldGhvZCBjcmVhdGVQYW5lKG5hbWU6IFN0cmluZywgY29udGFpbmVyPzogSFRNTEVsZW1lbnQpOiBIVE1MRWxlbWVudFxyXG5cdC8vIENyZWF0ZXMgYSBuZXcgW21hcCBwYW5lXSgjbWFwLXBhbmUpIHdpdGggdGhlIGdpdmVuIG5hbWUgaWYgaXQgZG9lc24ndCBleGlzdCBhbHJlYWR5LFxyXG5cdC8vIHRoZW4gcmV0dXJucyBpdC4gVGhlIHBhbmUgaXMgY3JlYXRlZCBhcyBhIGNoaWxkcmVuIG9mIGBjb250YWluZXJgLCBvclxyXG5cdC8vIGFzIGEgY2hpbGRyZW4gb2YgdGhlIG1haW4gbWFwIHBhbmUgaWYgbm90IHNldC5cclxuXHRjcmVhdGVQYW5lOiBmdW5jdGlvbiAobmFtZSwgY29udGFpbmVyKSB7XHJcblx0XHR2YXIgY2xhc3NOYW1lID0gJ2xlYWZsZXQtcGFuZScgKyAobmFtZSA/ICcgbGVhZmxldC0nICsgbmFtZS5yZXBsYWNlKCdQYW5lJywgJycpICsgJy1wYW5lJyA6ICcnKSxcclxuXHRcdCAgICBwYW5lID0gTC5Eb21VdGlsLmNyZWF0ZSgnZGl2JywgY2xhc3NOYW1lLCBjb250YWluZXIgfHwgdGhpcy5fbWFwUGFuZSk7XHJcblxyXG5cdFx0aWYgKG5hbWUpIHtcclxuXHRcdFx0dGhpcy5fcGFuZXNbbmFtZV0gPSBwYW5lO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHBhbmU7XHJcblx0fSxcclxuXHJcblx0Ly8gQHNlY3Rpb24gTWV0aG9kcyBmb3IgR2V0dGluZyBNYXAgU3RhdGVcclxuXHJcblx0Ly8gQG1ldGhvZCBnZXRDZW50ZXIoKTogTGF0TG5nXHJcblx0Ly8gUmV0dXJucyB0aGUgZ2VvZ3JhcGhpY2FsIGNlbnRlciBvZiB0aGUgbWFwIHZpZXdcclxuXHRnZXRDZW50ZXI6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHRoaXMuX2NoZWNrSWZMb2FkZWQoKTtcclxuXHJcblx0XHRpZiAodGhpcy5fbGFzdENlbnRlciAmJiAhdGhpcy5fbW92ZWQoKSkge1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5fbGFzdENlbnRlcjtcclxuXHRcdH1cclxuXHRcdHJldHVybiB0aGlzLmxheWVyUG9pbnRUb0xhdExuZyh0aGlzLl9nZXRDZW50ZXJMYXllclBvaW50KCkpO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgZ2V0Wm9vbSgpOiBOdW1iZXJcclxuXHQvLyBSZXR1cm5zIHRoZSBjdXJyZW50IHpvb20gbGV2ZWwgb2YgdGhlIG1hcCB2aWV3XHJcblx0Z2V0Wm9vbTogZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuX3pvb207XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBnZXRCb3VuZHMoKTogTGF0TG5nQm91bmRzXHJcblx0Ly8gUmV0dXJucyB0aGUgZ2VvZ3JhcGhpY2FsIGJvdW5kcyB2aXNpYmxlIGluIHRoZSBjdXJyZW50IG1hcCB2aWV3XHJcblx0Z2V0Qm91bmRzOiBmdW5jdGlvbiAoKSB7XHJcblx0XHR2YXIgYm91bmRzID0gdGhpcy5nZXRQaXhlbEJvdW5kcygpLFxyXG5cdFx0ICAgIHN3ID0gdGhpcy51bnByb2plY3QoYm91bmRzLmdldEJvdHRvbUxlZnQoKSksXHJcblx0XHQgICAgbmUgPSB0aGlzLnVucHJvamVjdChib3VuZHMuZ2V0VG9wUmlnaHQoKSk7XHJcblxyXG5cdFx0cmV0dXJuIG5ldyBMLkxhdExuZ0JvdW5kcyhzdywgbmUpO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgZ2V0TWluWm9vbSgpOiBOdW1iZXJcclxuXHQvLyBSZXR1cm5zIHRoZSBtaW5pbXVtIHpvb20gbGV2ZWwgb2YgdGhlIG1hcCAoaWYgc2V0IGluIHRoZSBgbWluWm9vbWAgb3B0aW9uIG9mIHRoZSBtYXAgb3Igb2YgYW55IGxheWVycyksIG9yIGAwYCBieSBkZWZhdWx0LlxyXG5cdGdldE1pblpvb206IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiB0aGlzLm9wdGlvbnMubWluWm9vbSA9PT0gdW5kZWZpbmVkID8gdGhpcy5fbGF5ZXJzTWluWm9vbSB8fCAwIDogdGhpcy5vcHRpb25zLm1pblpvb207XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBnZXRNYXhab29tKCk6IE51bWJlclxyXG5cdC8vIFJldHVybnMgdGhlIG1heGltdW0gem9vbSBsZXZlbCBvZiB0aGUgbWFwIChpZiBzZXQgaW4gdGhlIGBtYXhab29tYCBvcHRpb24gb2YgdGhlIG1hcCBvciBvZiBhbnkgbGF5ZXJzKS5cclxuXHRnZXRNYXhab29tOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5vcHRpb25zLm1heFpvb20gPT09IHVuZGVmaW5lZCA/XHJcblx0XHRcdCh0aGlzLl9sYXllcnNNYXhab29tID09PSB1bmRlZmluZWQgPyBJbmZpbml0eSA6IHRoaXMuX2xheWVyc01heFpvb20pIDpcclxuXHRcdFx0dGhpcy5vcHRpb25zLm1heFpvb207XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBnZXRCb3VuZHNab29tKGJvdW5kczogTGF0TG5nQm91bmRzLCBpbnNpZGU/OiBCb29sZWFuKTogTnVtYmVyXHJcblx0Ly8gUmV0dXJucyB0aGUgbWF4aW11bSB6b29tIGxldmVsIG9uIHdoaWNoIHRoZSBnaXZlbiBib3VuZHMgZml0IHRvIHRoZSBtYXBcclxuXHQvLyB2aWV3IGluIGl0cyBlbnRpcmV0eS4gSWYgYGluc2lkZWAgKG9wdGlvbmFsKSBpcyBzZXQgdG8gYHRydWVgLCB0aGUgbWV0aG9kXHJcblx0Ly8gaW5zdGVhZCByZXR1cm5zIHRoZSBtaW5pbXVtIHpvb20gbGV2ZWwgb24gd2hpY2ggdGhlIG1hcCB2aWV3IGZpdHMgaW50b1xyXG5cdC8vIHRoZSBnaXZlbiBib3VuZHMgaW4gaXRzIGVudGlyZXR5LlxyXG5cdGdldEJvdW5kc1pvb206IGZ1bmN0aW9uIChib3VuZHMsIGluc2lkZSwgcGFkZGluZykgeyAvLyAoTGF0TG5nQm91bmRzWywgQm9vbGVhbiwgUG9pbnRdKSAtPiBOdW1iZXJcclxuXHRcdGJvdW5kcyA9IEwubGF0TG5nQm91bmRzKGJvdW5kcyk7XHJcblx0XHRwYWRkaW5nID0gTC5wb2ludChwYWRkaW5nIHx8IFswLCAwXSk7XHJcblxyXG5cdFx0dmFyIHpvb20gPSB0aGlzLmdldFpvb20oKSB8fCAwLFxyXG5cdFx0ICAgIG1pbiA9IHRoaXMuZ2V0TWluWm9vbSgpLFxyXG5cdFx0ICAgIG1heCA9IHRoaXMuZ2V0TWF4Wm9vbSgpLFxyXG5cdFx0ICAgIG53ID0gYm91bmRzLmdldE5vcnRoV2VzdCgpLFxyXG5cdFx0ICAgIHNlID0gYm91bmRzLmdldFNvdXRoRWFzdCgpLFxyXG5cdFx0ICAgIHNpemUgPSB0aGlzLmdldFNpemUoKS5zdWJ0cmFjdChwYWRkaW5nKSxcclxuXHRcdCAgICBib3VuZHNTaXplID0gdGhpcy5wcm9qZWN0KHNlLCB6b29tKS5zdWJ0cmFjdCh0aGlzLnByb2plY3QobncsIHpvb20pKSxcclxuXHRcdCAgICBzbmFwID0gTC5Ccm93c2VyLmFueTNkID8gdGhpcy5vcHRpb25zLnpvb21TbmFwIDogMTtcclxuXHJcblx0XHR2YXIgc2NhbGUgPSBNYXRoLm1pbihzaXplLnggLyBib3VuZHNTaXplLngsIHNpemUueSAvIGJvdW5kc1NpemUueSk7XHJcblx0XHR6b29tID0gdGhpcy5nZXRTY2FsZVpvb20oc2NhbGUsIHpvb20pO1xyXG5cclxuXHRcdGlmIChzbmFwKSB7XHJcblx0XHRcdHpvb20gPSBNYXRoLnJvdW5kKHpvb20gLyAoc25hcCAvIDEwMCkpICogKHNuYXAgLyAxMDApOyAvLyBkb24ndCBqdW1wIGlmIHdpdGhpbiAxJSBvZiBhIHNuYXAgbGV2ZWxcclxuXHRcdFx0em9vbSA9IGluc2lkZSA/IE1hdGguY2VpbCh6b29tIC8gc25hcCkgKiBzbmFwIDogTWF0aC5mbG9vcih6b29tIC8gc25hcCkgKiBzbmFwO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBNYXRoLm1heChtaW4sIE1hdGgubWluKG1heCwgem9vbSkpO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgZ2V0U2l6ZSgpOiBQb2ludFxyXG5cdC8vIFJldHVybnMgdGhlIGN1cnJlbnQgc2l6ZSBvZiB0aGUgbWFwIGNvbnRhaW5lciAoaW4gcGl4ZWxzKS5cclxuXHRnZXRTaXplOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRpZiAoIXRoaXMuX3NpemUgfHwgdGhpcy5fc2l6ZUNoYW5nZWQpIHtcclxuXHRcdFx0dGhpcy5fc2l6ZSA9IG5ldyBMLlBvaW50KFxyXG5cdFx0XHRcdHRoaXMuX2NvbnRhaW5lci5jbGllbnRXaWR0aCxcclxuXHRcdFx0XHR0aGlzLl9jb250YWluZXIuY2xpZW50SGVpZ2h0KTtcclxuXHJcblx0XHRcdHRoaXMuX3NpemVDaGFuZ2VkID0gZmFsc2U7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gdGhpcy5fc2l6ZS5jbG9uZSgpO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgZ2V0UGl4ZWxCb3VuZHMoKTogQm91bmRzXHJcblx0Ly8gUmV0dXJucyB0aGUgYm91bmRzIG9mIHRoZSBjdXJyZW50IG1hcCB2aWV3IGluIHByb2plY3RlZCBwaXhlbFxyXG5cdC8vIGNvb3JkaW5hdGVzIChzb21ldGltZXMgdXNlZnVsIGluIGxheWVyIGFuZCBvdmVybGF5IGltcGxlbWVudGF0aW9ucykuXHJcblx0Z2V0UGl4ZWxCb3VuZHM6IGZ1bmN0aW9uIChjZW50ZXIsIHpvb20pIHtcclxuXHRcdHZhciB0b3BMZWZ0UG9pbnQgPSB0aGlzLl9nZXRUb3BMZWZ0UG9pbnQoY2VudGVyLCB6b29tKTtcclxuXHRcdHJldHVybiBuZXcgTC5Cb3VuZHModG9wTGVmdFBvaW50LCB0b3BMZWZ0UG9pbnQuYWRkKHRoaXMuZ2V0U2l6ZSgpKSk7XHJcblx0fSxcclxuXHJcblx0Ly8gVE9ETzogQ2hlY2sgc2VtYW50aWNzIC0gaXNuJ3QgdGhlIHBpeGVsIG9yaWdpbiB0aGUgMCwwIGNvb3JkIHJlbGF0aXZlIHRvXHJcblx0Ly8gdGhlIG1hcCBwYW5lPyBcImxlZnQgcG9pbnQgb2YgdGhlIG1hcCBsYXllclwiIGNhbiBiZSBjb25mdXNpbmcsIHNwZWNpYWxseVxyXG5cdC8vIHNpbmNlIHRoZXJlIGNhbiBiZSBuZWdhdGl2ZSBvZmZzZXRzLlxyXG5cdC8vIEBtZXRob2QgZ2V0UGl4ZWxPcmlnaW4oKTogUG9pbnRcclxuXHQvLyBSZXR1cm5zIHRoZSBwcm9qZWN0ZWQgcGl4ZWwgY29vcmRpbmF0ZXMgb2YgdGhlIHRvcCBsZWZ0IHBvaW50IG9mXHJcblx0Ly8gdGhlIG1hcCBsYXllciAodXNlZnVsIGluIGN1c3RvbSBsYXllciBhbmQgb3ZlcmxheSBpbXBsZW1lbnRhdGlvbnMpLlxyXG5cdGdldFBpeGVsT3JpZ2luOiBmdW5jdGlvbiAoKSB7XHJcblx0XHR0aGlzLl9jaGVja0lmTG9hZGVkKCk7XHJcblx0XHRyZXR1cm4gdGhpcy5fcGl4ZWxPcmlnaW47XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBnZXRQaXhlbFdvcmxkQm91bmRzKHpvb20/OiBOdW1iZXIpOiBCb3VuZHNcclxuXHQvLyBSZXR1cm5zIHRoZSB3b3JsZCdzIGJvdW5kcyBpbiBwaXhlbCBjb29yZGluYXRlcyBmb3Igem9vbSBsZXZlbCBgem9vbWAuXHJcblx0Ly8gSWYgYHpvb21gIGlzIG9taXR0ZWQsIHRoZSBtYXAncyBjdXJyZW50IHpvb20gbGV2ZWwgaXMgdXNlZC5cclxuXHRnZXRQaXhlbFdvcmxkQm91bmRzOiBmdW5jdGlvbiAoem9vbSkge1xyXG5cdFx0cmV0dXJuIHRoaXMub3B0aW9ucy5jcnMuZ2V0UHJvamVjdGVkQm91bmRzKHpvb20gPT09IHVuZGVmaW5lZCA/IHRoaXMuZ2V0Wm9vbSgpIDogem9vbSk7XHJcblx0fSxcclxuXHJcblx0Ly8gQHNlY3Rpb24gT3RoZXIgTWV0aG9kc1xyXG5cclxuXHQvLyBAbWV0aG9kIGdldFBhbmUocGFuZTogU3RyaW5nfEhUTUxFbGVtZW50KTogSFRNTEVsZW1lbnRcclxuXHQvLyBSZXR1cm5zIGEgW21hcCBwYW5lXSgjbWFwLXBhbmUpLCBnaXZlbiBpdHMgbmFtZSBvciBpdHMgSFRNTCBlbGVtZW50IChpdHMgaWRlbnRpdHkpLlxyXG5cdGdldFBhbmU6IGZ1bmN0aW9uIChwYW5lKSB7XHJcblx0XHRyZXR1cm4gdHlwZW9mIHBhbmUgPT09ICdzdHJpbmcnID8gdGhpcy5fcGFuZXNbcGFuZV0gOiBwYW5lO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgZ2V0UGFuZXMoKTogT2JqZWN0XHJcblx0Ly8gUmV0dXJucyBhIHBsYWluIG9iamVjdCBjb250YWluaW5nIHRoZSBuYW1lcyBvZiBhbGwgW3BhbmVzXSgjbWFwLXBhbmUpIGFzIGtleXMgYW5kXHJcblx0Ly8gdGhlIHBhbmVzIGFzIHZhbHVlcy5cclxuXHRnZXRQYW5lczogZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuX3BhbmVzO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgZ2V0Q29udGFpbmVyOiBIVE1MRWxlbWVudFxyXG5cdC8vIFJldHVybnMgdGhlIEhUTUwgZWxlbWVudCB0aGF0IGNvbnRhaW5zIHRoZSBtYXAuXHJcblx0Z2V0Q29udGFpbmVyOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5fY29udGFpbmVyO1xyXG5cdH0sXHJcblxyXG5cclxuXHQvLyBAc2VjdGlvbiBDb252ZXJzaW9uIE1ldGhvZHNcclxuXHJcblx0Ly8gQG1ldGhvZCBnZXRab29tU2NhbGUodG9ab29tOiBOdW1iZXIsIGZyb21ab29tOiBOdW1iZXIpOiBOdW1iZXJcclxuXHQvLyBSZXR1cm5zIHRoZSBzY2FsZSBmYWN0b3IgdG8gYmUgYXBwbGllZCB0byBhIG1hcCB0cmFuc2l0aW9uIGZyb20gem9vbSBsZXZlbFxyXG5cdC8vIGBmcm9tWm9vbWAgdG8gYHRvWm9vbWAuIFVzZWQgaW50ZXJuYWxseSB0byBoZWxwIHdpdGggem9vbSBhbmltYXRpb25zLlxyXG5cdGdldFpvb21TY2FsZTogZnVuY3Rpb24gKHRvWm9vbSwgZnJvbVpvb20pIHtcclxuXHRcdC8vIFRPRE8gcmVwbGFjZSB3aXRoIHVuaXZlcnNhbCBpbXBsZW1lbnRhdGlvbiBhZnRlciByZWZhY3RvcmluZyBwcm9qZWN0aW9uc1xyXG5cdFx0dmFyIGNycyA9IHRoaXMub3B0aW9ucy5jcnM7XHJcblx0XHRmcm9tWm9vbSA9IGZyb21ab29tID09PSB1bmRlZmluZWQgPyB0aGlzLl96b29tIDogZnJvbVpvb207XHJcblx0XHRyZXR1cm4gY3JzLnNjYWxlKHRvWm9vbSkgLyBjcnMuc2NhbGUoZnJvbVpvb20pO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgZ2V0U2NhbGVab29tKHNjYWxlOiBOdW1iZXIsIGZyb21ab29tOiBOdW1iZXIpOiBOdW1iZXJcclxuXHQvLyBSZXR1cm5zIHRoZSB6b29tIGxldmVsIHRoYXQgdGhlIG1hcCB3b3VsZCBlbmQgdXAgYXQsIGlmIGl0IGlzIGF0IGBmcm9tWm9vbWBcclxuXHQvLyBsZXZlbCBhbmQgZXZlcnl0aGluZyBpcyBzY2FsZWQgYnkgYSBmYWN0b3Igb2YgYHNjYWxlYC4gSW52ZXJzZSBvZlxyXG5cdC8vIFtgZ2V0Wm9vbVNjYWxlYF0oI21hcC1nZXRab29tU2NhbGUpLlxyXG5cdGdldFNjYWxlWm9vbTogZnVuY3Rpb24gKHNjYWxlLCBmcm9tWm9vbSkge1xyXG5cdFx0dmFyIGNycyA9IHRoaXMub3B0aW9ucy5jcnM7XHJcblx0XHRmcm9tWm9vbSA9IGZyb21ab29tID09PSB1bmRlZmluZWQgPyB0aGlzLl96b29tIDogZnJvbVpvb207XHJcblx0XHR2YXIgem9vbSA9IGNycy56b29tKHNjYWxlICogY3JzLnNjYWxlKGZyb21ab29tKSk7XHJcblx0XHRyZXR1cm4gaXNOYU4oem9vbSkgPyBJbmZpbml0eSA6IHpvb207XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBwcm9qZWN0KGxhdGxuZzogTGF0TG5nLCB6b29tOiBOdW1iZXIpOiBQb2ludFxyXG5cdC8vIFByb2plY3RzIGEgZ2VvZ3JhcGhpY2FsIGNvb3JkaW5hdGUgYExhdExuZ2AgYWNjb3JkaW5nIHRvIHRoZSBwcm9qZWN0aW9uXHJcblx0Ly8gb2YgdGhlIG1hcCdzIENSUywgdGhlbiBzY2FsZXMgaXQgYWNjb3JkaW5nIHRvIGB6b29tYCBhbmQgdGhlIENSUydzXHJcblx0Ly8gYFRyYW5zZm9ybWF0aW9uYC4gVGhlIHJlc3VsdCBpcyBwaXhlbCBjb29yZGluYXRlIHJlbGF0aXZlIHRvXHJcblx0Ly8gdGhlIENSUyBvcmlnaW4uXHJcblx0cHJvamVjdDogZnVuY3Rpb24gKGxhdGxuZywgem9vbSkge1xyXG5cdFx0em9vbSA9IHpvb20gPT09IHVuZGVmaW5lZCA/IHRoaXMuX3pvb20gOiB6b29tO1xyXG5cdFx0cmV0dXJuIHRoaXMub3B0aW9ucy5jcnMubGF0TG5nVG9Qb2ludChMLmxhdExuZyhsYXRsbmcpLCB6b29tKTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHVucHJvamVjdChwb2ludDogUG9pbnQsIHpvb206IE51bWJlcik6IExhdExuZ1xyXG5cdC8vIEludmVyc2Ugb2YgW2Bwcm9qZWN0YF0oI21hcC1wcm9qZWN0KS5cclxuXHR1bnByb2plY3Q6IGZ1bmN0aW9uIChwb2ludCwgem9vbSkge1xyXG5cdFx0em9vbSA9IHpvb20gPT09IHVuZGVmaW5lZCA/IHRoaXMuX3pvb20gOiB6b29tO1xyXG5cdFx0cmV0dXJuIHRoaXMub3B0aW9ucy5jcnMucG9pbnRUb0xhdExuZyhMLnBvaW50KHBvaW50KSwgem9vbSk7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBsYXllclBvaW50VG9MYXRMbmcocG9pbnQ6IFBvaW50KTogTGF0TG5nXHJcblx0Ly8gR2l2ZW4gYSBwaXhlbCBjb29yZGluYXRlIHJlbGF0aXZlIHRvIHRoZSBbb3JpZ2luIHBpeGVsXSgjbWFwLWdldHBpeGVsb3JpZ2luKSxcclxuXHQvLyByZXR1cm5zIHRoZSBjb3JyZXNwb25kaW5nIGdlb2dyYXBoaWNhbCBjb29yZGluYXRlIChmb3IgdGhlIGN1cnJlbnQgem9vbSBsZXZlbCkuXHJcblx0bGF5ZXJQb2ludFRvTGF0TG5nOiBmdW5jdGlvbiAocG9pbnQpIHtcclxuXHRcdHZhciBwcm9qZWN0ZWRQb2ludCA9IEwucG9pbnQocG9pbnQpLmFkZCh0aGlzLmdldFBpeGVsT3JpZ2luKCkpO1xyXG5cdFx0cmV0dXJuIHRoaXMudW5wcm9qZWN0KHByb2plY3RlZFBvaW50KTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGxhdExuZ1RvTGF5ZXJQb2ludChsYXRsbmc6IExhdExuZyk6IFBvaW50XHJcblx0Ly8gR2l2ZW4gYSBnZW9ncmFwaGljYWwgY29vcmRpbmF0ZSwgcmV0dXJucyB0aGUgY29ycmVzcG9uZGluZyBwaXhlbCBjb29yZGluYXRlXHJcblx0Ly8gcmVsYXRpdmUgdG8gdGhlIFtvcmlnaW4gcGl4ZWxdKCNtYXAtZ2V0cGl4ZWxvcmlnaW4pLlxyXG5cdGxhdExuZ1RvTGF5ZXJQb2ludDogZnVuY3Rpb24gKGxhdGxuZykge1xyXG5cdFx0dmFyIHByb2plY3RlZFBvaW50ID0gdGhpcy5wcm9qZWN0KEwubGF0TG5nKGxhdGxuZykpLl9yb3VuZCgpO1xyXG5cdFx0cmV0dXJuIHByb2plY3RlZFBvaW50Ll9zdWJ0cmFjdCh0aGlzLmdldFBpeGVsT3JpZ2luKCkpO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2Qgd3JhcExhdExuZyhsYXRsbmc6IExhdExuZyk6IExhdExuZ1xyXG5cdC8vIFJldHVybnMgYSBgTGF0TG5nYCB3aGVyZSBgbGF0YCBhbmQgYGxuZ2AgaGFzIGJlZW4gd3JhcHBlZCBhY2NvcmRpbmcgdG8gdGhlXHJcblx0Ly8gbWFwJ3MgQ1JTJ3MgYHdyYXBMYXRgIGFuZCBgd3JhcExuZ2AgcHJvcGVydGllcywgaWYgdGhleSBhcmUgb3V0c2lkZSB0aGVcclxuXHQvLyBDUlMncyBib3VuZHMuXHJcblx0Ly8gQnkgZGVmYXVsdCB0aGlzIG1lYW5zIGxvbmdpdHVkZSBpcyB3cmFwcGVkIGFyb3VuZCB0aGUgZGF0ZWxpbmUgc28gaXRzXHJcblx0Ly8gdmFsdWUgaXMgYmV0d2VlbiAtMTgwIGFuZCArMTgwIGRlZ3JlZXMuXHJcblx0d3JhcExhdExuZzogZnVuY3Rpb24gKGxhdGxuZykge1xyXG5cdFx0cmV0dXJuIHRoaXMub3B0aW9ucy5jcnMud3JhcExhdExuZyhMLmxhdExuZyhsYXRsbmcpKTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGRpc3RhbmNlKGxhdGxuZzE6IExhdExuZywgbGF0bG5nMjogTGF0TG5nKTogTnVtYmVyXHJcblx0Ly8gUmV0dXJucyB0aGUgZGlzdGFuY2UgYmV0d2VlbiB0d28gZ2VvZ3JhcGhpY2FsIGNvb3JkaW5hdGVzIGFjY29yZGluZyB0b1xyXG5cdC8vIHRoZSBtYXAncyBDUlMuIEJ5IGRlZmF1bHQgdGhpcyBtZWFzdXJlcyBkaXN0YW5jZSBpbiBtZXRlcnMuXHJcblx0ZGlzdGFuY2U6IGZ1bmN0aW9uIChsYXRsbmcxLCBsYXRsbmcyKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5vcHRpb25zLmNycy5kaXN0YW5jZShMLmxhdExuZyhsYXRsbmcxKSwgTC5sYXRMbmcobGF0bG5nMikpO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgY29udGFpbmVyUG9pbnRUb0xheWVyUG9pbnQocG9pbnQ6IFBvaW50KTogUG9pbnRcclxuXHQvLyBHaXZlbiBhIHBpeGVsIGNvb3JkaW5hdGUgcmVsYXRpdmUgdG8gdGhlIG1hcCBjb250YWluZXIsIHJldHVybnMgdGhlIGNvcnJlc3BvbmRpbmdcclxuXHQvLyBwaXhlbCBjb29yZGluYXRlIHJlbGF0aXZlIHRvIHRoZSBbb3JpZ2luIHBpeGVsXSgjbWFwLWdldHBpeGVsb3JpZ2luKS5cclxuXHRjb250YWluZXJQb2ludFRvTGF5ZXJQb2ludDogZnVuY3Rpb24gKHBvaW50KSB7IC8vIChQb2ludClcclxuXHRcdHJldHVybiBMLnBvaW50KHBvaW50KS5zdWJ0cmFjdCh0aGlzLl9nZXRNYXBQYW5lUG9zKCkpO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgbGF5ZXJQb2ludFRvQ29udGFpbmVyUG9pbnQocG9pbnQ6IFBvaW50KTogUG9pbnRcclxuXHQvLyBHaXZlbiBhIHBpeGVsIGNvb3JkaW5hdGUgcmVsYXRpdmUgdG8gdGhlIFtvcmlnaW4gcGl4ZWxdKCNtYXAtZ2V0cGl4ZWxvcmlnaW4pLFxyXG5cdC8vIHJldHVybnMgdGhlIGNvcnJlc3BvbmRpbmcgcGl4ZWwgY29vcmRpbmF0ZSByZWxhdGl2ZSB0byB0aGUgbWFwIGNvbnRhaW5lci5cclxuXHRsYXllclBvaW50VG9Db250YWluZXJQb2ludDogZnVuY3Rpb24gKHBvaW50KSB7IC8vIChQb2ludClcclxuXHRcdHJldHVybiBMLnBvaW50KHBvaW50KS5hZGQodGhpcy5fZ2V0TWFwUGFuZVBvcygpKTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGNvbnRhaW5lclBvaW50VG9MYXRMbmcocG9pbnQ6IFBvaW50KTogUG9pbnRcclxuXHQvLyBHaXZlbiBhIHBpeGVsIGNvb3JkaW5hdGUgcmVsYXRpdmUgdG8gdGhlIG1hcCBjb250YWluZXIsIHJldHVybnNcclxuXHQvLyB0aGUgY29ycmVzcG9uZGluZyBnZW9ncmFwaGljYWwgY29vcmRpbmF0ZSAoZm9yIHRoZSBjdXJyZW50IHpvb20gbGV2ZWwpLlxyXG5cdGNvbnRhaW5lclBvaW50VG9MYXRMbmc6IGZ1bmN0aW9uIChwb2ludCkge1xyXG5cdFx0dmFyIGxheWVyUG9pbnQgPSB0aGlzLmNvbnRhaW5lclBvaW50VG9MYXllclBvaW50KEwucG9pbnQocG9pbnQpKTtcclxuXHRcdHJldHVybiB0aGlzLmxheWVyUG9pbnRUb0xhdExuZyhsYXllclBvaW50KTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGxhdExuZ1RvQ29udGFpbmVyUG9pbnQobGF0bG5nOiBMYXRMbmcpOiBQb2ludFxyXG5cdC8vIEdpdmVuIGEgZ2VvZ3JhcGhpY2FsIGNvb3JkaW5hdGUsIHJldHVybnMgdGhlIGNvcnJlc3BvbmRpbmcgcGl4ZWwgY29vcmRpbmF0ZVxyXG5cdC8vIHJlbGF0aXZlIHRvIHRoZSBtYXAgY29udGFpbmVyLlxyXG5cdGxhdExuZ1RvQ29udGFpbmVyUG9pbnQ6IGZ1bmN0aW9uIChsYXRsbmcpIHtcclxuXHRcdHJldHVybiB0aGlzLmxheWVyUG9pbnRUb0NvbnRhaW5lclBvaW50KHRoaXMubGF0TG5nVG9MYXllclBvaW50KEwubGF0TG5nKGxhdGxuZykpKTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIG1vdXNlRXZlbnRUb0NvbnRhaW5lclBvaW50KGV2OiBNb3VzZUV2ZW50KTogUG9pbnRcclxuXHQvLyBHaXZlbiBhIE1vdXNlRXZlbnQgb2JqZWN0LCByZXR1cm5zIHRoZSBwaXhlbCBjb29yZGluYXRlIHJlbGF0aXZlIHRvIHRoZVxyXG5cdC8vIG1hcCBjb250YWluZXIgd2hlcmUgdGhlIGV2ZW50IHRvb2sgcGxhY2UuXHJcblx0bW91c2VFdmVudFRvQ29udGFpbmVyUG9pbnQ6IGZ1bmN0aW9uIChlKSB7XHJcblx0XHRyZXR1cm4gTC5Eb21FdmVudC5nZXRNb3VzZVBvc2l0aW9uKGUsIHRoaXMuX2NvbnRhaW5lcik7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBtb3VzZUV2ZW50VG9MYXllclBvaW50KGV2OiBNb3VzZUV2ZW50KTogUG9pbnRcclxuXHQvLyBHaXZlbiBhIE1vdXNlRXZlbnQgb2JqZWN0LCByZXR1cm5zIHRoZSBwaXhlbCBjb29yZGluYXRlIHJlbGF0aXZlIHRvXHJcblx0Ly8gdGhlIFtvcmlnaW4gcGl4ZWxdKCNtYXAtZ2V0cGl4ZWxvcmlnaW4pIHdoZXJlIHRoZSBldmVudCB0b29rIHBsYWNlLlxyXG5cdG1vdXNlRXZlbnRUb0xheWVyUG9pbnQ6IGZ1bmN0aW9uIChlKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5jb250YWluZXJQb2ludFRvTGF5ZXJQb2ludCh0aGlzLm1vdXNlRXZlbnRUb0NvbnRhaW5lclBvaW50KGUpKTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIG1vdXNlRXZlbnRUb0xhdExuZyhldjogTW91c2VFdmVudCk6IExhdExuZ1xyXG5cdC8vIEdpdmVuIGEgTW91c2VFdmVudCBvYmplY3QsIHJldHVybnMgZ2VvZ3JhcGhpY2FsIGNvb3JkaW5hdGUgd2hlcmUgdGhlXHJcblx0Ly8gZXZlbnQgdG9vayBwbGFjZS5cclxuXHRtb3VzZUV2ZW50VG9MYXRMbmc6IGZ1bmN0aW9uIChlKSB7IC8vIChNb3VzZUV2ZW50KVxyXG5cdFx0cmV0dXJuIHRoaXMubGF5ZXJQb2ludFRvTGF0TG5nKHRoaXMubW91c2VFdmVudFRvTGF5ZXJQb2ludChlKSk7XHJcblx0fSxcclxuXHJcblxyXG5cdC8vIG1hcCBpbml0aWFsaXphdGlvbiBtZXRob2RzXHJcblxyXG5cdF9pbml0Q29udGFpbmVyOiBmdW5jdGlvbiAoaWQpIHtcclxuXHRcdHZhciBjb250YWluZXIgPSB0aGlzLl9jb250YWluZXIgPSBMLkRvbVV0aWwuZ2V0KGlkKTtcclxuXHJcblx0XHRpZiAoIWNvbnRhaW5lcikge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ01hcCBjb250YWluZXIgbm90IGZvdW5kLicpO1xyXG5cdFx0fSBlbHNlIGlmIChjb250YWluZXIuX2xlYWZsZXRfaWQpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdNYXAgY29udGFpbmVyIGlzIGFscmVhZHkgaW5pdGlhbGl6ZWQuJyk7XHJcblx0XHR9XHJcblxyXG5cdFx0TC5Eb21FdmVudC5hZGRMaXN0ZW5lcihjb250YWluZXIsICdzY3JvbGwnLCB0aGlzLl9vblNjcm9sbCwgdGhpcyk7XHJcblx0XHR0aGlzLl9jb250YWluZXJJZCA9IEwuVXRpbC5zdGFtcChjb250YWluZXIpO1xyXG5cdH0sXHJcblxyXG5cdF9pbml0TGF5b3V0OiBmdW5jdGlvbiAoKSB7XHJcblx0XHR2YXIgY29udGFpbmVyID0gdGhpcy5fY29udGFpbmVyO1xyXG5cclxuXHRcdHRoaXMuX2ZhZGVBbmltYXRlZCA9IHRoaXMub3B0aW9ucy5mYWRlQW5pbWF0aW9uICYmIEwuQnJvd3Nlci5hbnkzZDtcclxuXHJcblx0XHRMLkRvbVV0aWwuYWRkQ2xhc3MoY29udGFpbmVyLCAnbGVhZmxldC1jb250YWluZXInICtcclxuXHRcdFx0KEwuQnJvd3Nlci50b3VjaCA/ICcgbGVhZmxldC10b3VjaCcgOiAnJykgK1xyXG5cdFx0XHQoTC5Ccm93c2VyLnJldGluYSA/ICcgbGVhZmxldC1yZXRpbmEnIDogJycpICtcclxuXHRcdFx0KEwuQnJvd3Nlci5pZWx0OSA/ICcgbGVhZmxldC1vbGRpZScgOiAnJykgK1xyXG5cdFx0XHQoTC5Ccm93c2VyLnNhZmFyaSA/ICcgbGVhZmxldC1zYWZhcmknIDogJycpICtcclxuXHRcdFx0KHRoaXMuX2ZhZGVBbmltYXRlZCA/ICcgbGVhZmxldC1mYWRlLWFuaW0nIDogJycpKTtcclxuXHJcblx0XHR2YXIgcG9zaXRpb24gPSBMLkRvbVV0aWwuZ2V0U3R5bGUoY29udGFpbmVyLCAncG9zaXRpb24nKTtcclxuXHJcblx0XHRpZiAocG9zaXRpb24gIT09ICdhYnNvbHV0ZScgJiYgcG9zaXRpb24gIT09ICdyZWxhdGl2ZScgJiYgcG9zaXRpb24gIT09ICdmaXhlZCcpIHtcclxuXHRcdFx0Y29udGFpbmVyLnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLl9pbml0UGFuZXMoKTtcclxuXHJcblx0XHRpZiAodGhpcy5faW5pdENvbnRyb2xQb3MpIHtcclxuXHRcdFx0dGhpcy5faW5pdENvbnRyb2xQb3MoKTtcclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHRfaW5pdFBhbmVzOiBmdW5jdGlvbiAoKSB7XHJcblx0XHR2YXIgcGFuZXMgPSB0aGlzLl9wYW5lcyA9IHt9O1xyXG5cdFx0dGhpcy5fcGFuZVJlbmRlcmVycyA9IHt9O1xyXG5cclxuXHRcdC8vIEBzZWN0aW9uXHJcblx0XHQvL1xyXG5cdFx0Ly8gUGFuZXMgYXJlIERPTSBlbGVtZW50cyB1c2VkIHRvIGNvbnRyb2wgdGhlIG9yZGVyaW5nIG9mIGxheWVycyBvbiB0aGUgbWFwLiBZb3VcclxuXHRcdC8vIGNhbiBhY2Nlc3MgcGFuZXMgd2l0aCBbYG1hcC5nZXRQYW5lYF0oI21hcC1nZXRwYW5lKSBvclxyXG5cdFx0Ly8gW2BtYXAuZ2V0UGFuZXNgXSgjbWFwLWdldHBhbmVzKSBtZXRob2RzLiBOZXcgcGFuZXMgY2FuIGJlIGNyZWF0ZWQgd2l0aCB0aGVcclxuXHRcdC8vIFtgbWFwLmNyZWF0ZVBhbmVgXSgjbWFwLWNyZWF0ZXBhbmUpIG1ldGhvZC5cclxuXHRcdC8vXHJcblx0XHQvLyBFdmVyeSBtYXAgaGFzIHRoZSBmb2xsb3dpbmcgZGVmYXVsdCBwYW5lcyB0aGF0IGRpZmZlciBvbmx5IGluIHpJbmRleC5cclxuXHRcdC8vXHJcblx0XHQvLyBAcGFuZSBtYXBQYW5lOiBIVE1MRWxlbWVudCA9ICdhdXRvJ1xyXG5cdFx0Ly8gUGFuZSB0aGF0IGNvbnRhaW5zIGFsbCBvdGhlciBtYXAgcGFuZXNcclxuXHJcblx0XHR0aGlzLl9tYXBQYW5lID0gdGhpcy5jcmVhdGVQYW5lKCdtYXBQYW5lJywgdGhpcy5fY29udGFpbmVyKTtcclxuXHRcdEwuRG9tVXRpbC5zZXRQb3NpdGlvbih0aGlzLl9tYXBQYW5lLCBuZXcgTC5Qb2ludCgwLCAwKSk7XHJcblxyXG5cdFx0Ly8gQHBhbmUgdGlsZVBhbmU6IEhUTUxFbGVtZW50ID0gMjAwXHJcblx0XHQvLyBQYW5lIGZvciBgR3JpZExheWVyYHMgYW5kIGBUaWxlTGF5ZXJgc1xyXG5cdFx0dGhpcy5jcmVhdGVQYW5lKCd0aWxlUGFuZScpO1xyXG5cdFx0Ly8gQHBhbmUgb3ZlcmxheVBhbmU6IEhUTUxFbGVtZW50ID0gNDAwXHJcblx0XHQvLyBQYW5lIGZvciB2ZWN0b3Igb3ZlcmxheXMgKGBQYXRoYHMpLCBsaWtlIGBQb2x5bGluZWBzIGFuZCBgUG9seWdvbmBzXHJcblx0XHR0aGlzLmNyZWF0ZVBhbmUoJ3NoYWRvd1BhbmUnKTtcclxuXHRcdC8vIEBwYW5lIHNoYWRvd1BhbmU6IEhUTUxFbGVtZW50ID0gNTAwXHJcblx0XHQvLyBQYW5lIGZvciBvdmVybGF5IHNoYWRvd3MgKGUuZy4gYE1hcmtlcmAgc2hhZG93cylcclxuXHRcdHRoaXMuY3JlYXRlUGFuZSgnb3ZlcmxheVBhbmUnKTtcclxuXHRcdC8vIEBwYW5lIG1hcmtlclBhbmU6IEhUTUxFbGVtZW50ID0gNjAwXHJcblx0XHQvLyBQYW5lIGZvciBgSWNvbmBzIG9mIGBNYXJrZXJgc1xyXG5cdFx0dGhpcy5jcmVhdGVQYW5lKCdtYXJrZXJQYW5lJyk7XHJcblx0XHQvLyBAcGFuZSB0b29sdGlwUGFuZTogSFRNTEVsZW1lbnQgPSA2NTBcclxuXHRcdC8vIFBhbmUgZm9yIHRvb2x0aXAuXHJcblx0XHR0aGlzLmNyZWF0ZVBhbmUoJ3Rvb2x0aXBQYW5lJyk7XHJcblx0XHQvLyBAcGFuZSBwb3B1cFBhbmU6IEhUTUxFbGVtZW50ID0gNzAwXHJcblx0XHQvLyBQYW5lIGZvciBgUG9wdXBgcy5cclxuXHRcdHRoaXMuY3JlYXRlUGFuZSgncG9wdXBQYW5lJyk7XHJcblxyXG5cdFx0aWYgKCF0aGlzLm9wdGlvbnMubWFya2VyWm9vbUFuaW1hdGlvbikge1xyXG5cdFx0XHRMLkRvbVV0aWwuYWRkQ2xhc3MocGFuZXMubWFya2VyUGFuZSwgJ2xlYWZsZXQtem9vbS1oaWRlJyk7XHJcblx0XHRcdEwuRG9tVXRpbC5hZGRDbGFzcyhwYW5lcy5zaGFkb3dQYW5lLCAnbGVhZmxldC16b29tLWhpZGUnKTtcclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHJcblx0Ly8gcHJpdmF0ZSBtZXRob2RzIHRoYXQgbW9kaWZ5IG1hcCBzdGF0ZVxyXG5cclxuXHQvLyBAc2VjdGlvbiBNYXAgc3RhdGUgY2hhbmdlIGV2ZW50c1xyXG5cdF9yZXNldFZpZXc6IGZ1bmN0aW9uIChjZW50ZXIsIHpvb20pIHtcclxuXHRcdEwuRG9tVXRpbC5zZXRQb3NpdGlvbih0aGlzLl9tYXBQYW5lLCBuZXcgTC5Qb2ludCgwLCAwKSk7XHJcblxyXG5cdFx0dmFyIGxvYWRpbmcgPSAhdGhpcy5fbG9hZGVkO1xyXG5cdFx0dGhpcy5fbG9hZGVkID0gdHJ1ZTtcclxuXHRcdHpvb20gPSB0aGlzLl9saW1pdFpvb20oem9vbSk7XHJcblxyXG5cdFx0dGhpcy5maXJlKCd2aWV3cHJlcmVzZXQnKTtcclxuXHJcblx0XHR2YXIgem9vbUNoYW5nZWQgPSB0aGlzLl96b29tICE9PSB6b29tO1xyXG5cdFx0dGhpc1xyXG5cdFx0XHQuX21vdmVTdGFydCh6b29tQ2hhbmdlZClcclxuXHRcdFx0Ll9tb3ZlKGNlbnRlciwgem9vbSlcclxuXHRcdFx0Ll9tb3ZlRW5kKHpvb21DaGFuZ2VkKTtcclxuXHJcblx0XHQvLyBAZXZlbnQgdmlld3Jlc2V0OiBFdmVudFxyXG5cdFx0Ly8gRmlyZWQgd2hlbiB0aGUgbWFwIG5lZWRzIHRvIHJlZHJhdyBpdHMgY29udGVudCAodGhpcyB1c3VhbGx5IGhhcHBlbnNcclxuXHRcdC8vIG9uIG1hcCB6b29tIG9yIGxvYWQpLiBWZXJ5IHVzZWZ1bCBmb3IgY3JlYXRpbmcgY3VzdG9tIG92ZXJsYXlzLlxyXG5cdFx0dGhpcy5maXJlKCd2aWV3cmVzZXQnKTtcclxuXHJcblx0XHQvLyBAZXZlbnQgbG9hZDogRXZlbnRcclxuXHRcdC8vIEZpcmVkIHdoZW4gdGhlIG1hcCBpcyBpbml0aWFsaXplZCAod2hlbiBpdHMgY2VudGVyIGFuZCB6b29tIGFyZSBzZXRcclxuXHRcdC8vIGZvciB0aGUgZmlyc3QgdGltZSkuXHJcblx0XHRpZiAobG9hZGluZykge1xyXG5cdFx0XHR0aGlzLmZpcmUoJ2xvYWQnKTtcclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHRfbW92ZVN0YXJ0OiBmdW5jdGlvbiAoem9vbUNoYW5nZWQpIHtcclxuXHRcdC8vIEBldmVudCB6b29tc3RhcnQ6IEV2ZW50XHJcblx0XHQvLyBGaXJlZCB3aGVuIHRoZSBtYXAgem9vbSBpcyBhYm91dCB0byBjaGFuZ2UgKGUuZy4gYmVmb3JlIHpvb20gYW5pbWF0aW9uKS5cclxuXHRcdC8vIEBldmVudCBtb3Zlc3RhcnQ6IEV2ZW50XHJcblx0XHQvLyBGaXJlZCB3aGVuIHRoZSB2aWV3IG9mIHRoZSBtYXAgc3RhcnRzIGNoYW5naW5nIChlLmcuIHVzZXIgc3RhcnRzIGRyYWdnaW5nIHRoZSBtYXApLlxyXG5cdFx0aWYgKHpvb21DaGFuZ2VkKSB7XHJcblx0XHRcdHRoaXMuZmlyZSgnem9vbXN0YXJ0Jyk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gdGhpcy5maXJlKCdtb3Zlc3RhcnQnKTtcclxuXHR9LFxyXG5cclxuXHRfbW92ZTogZnVuY3Rpb24gKGNlbnRlciwgem9vbSwgZGF0YSkge1xyXG5cdFx0aWYgKHpvb20gPT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHR6b29tID0gdGhpcy5fem9vbTtcclxuXHRcdH1cclxuXHRcdHZhciB6b29tQ2hhbmdlZCA9IHRoaXMuX3pvb20gIT09IHpvb207XHJcblxyXG5cdFx0dGhpcy5fem9vbSA9IHpvb207XHJcblx0XHR0aGlzLl9sYXN0Q2VudGVyID0gY2VudGVyO1xyXG5cdFx0dGhpcy5fcGl4ZWxPcmlnaW4gPSB0aGlzLl9nZXROZXdQaXhlbE9yaWdpbihjZW50ZXIpO1xyXG5cclxuXHRcdC8vIEBldmVudCB6b29tOiBFdmVudFxyXG5cdFx0Ly8gRmlyZWQgcmVwZWF0ZWRseSBkdXJpbmcgYW55IGNoYW5nZSBpbiB6b29tIGxldmVsLCBpbmNsdWRpbmcgem9vbVxyXG5cdFx0Ly8gYW5kIGZseSBhbmltYXRpb25zLlxyXG5cdFx0aWYgKHpvb21DaGFuZ2VkIHx8IChkYXRhICYmIGRhdGEucGluY2gpKSB7XHQvLyBBbHdheXMgZmlyZSAnem9vbScgaWYgcGluY2hpbmcgYmVjYXVzZSAjMzUzMFxyXG5cdFx0XHR0aGlzLmZpcmUoJ3pvb20nLCBkYXRhKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBAZXZlbnQgbW92ZTogRXZlbnRcclxuXHRcdC8vIEZpcmVkIHJlcGVhdGVkbHkgZHVyaW5nIGFueSBtb3ZlbWVudCBvZiB0aGUgbWFwLCBpbmNsdWRpbmcgcGFuIGFuZFxyXG5cdFx0Ly8gZmx5IGFuaW1hdGlvbnMuXHJcblx0XHRyZXR1cm4gdGhpcy5maXJlKCdtb3ZlJywgZGF0YSk7XHJcblx0fSxcclxuXHJcblx0X21vdmVFbmQ6IGZ1bmN0aW9uICh6b29tQ2hhbmdlZCkge1xyXG5cdFx0Ly8gQGV2ZW50IHpvb21lbmQ6IEV2ZW50XHJcblx0XHQvLyBGaXJlZCB3aGVuIHRoZSBtYXAgaGFzIGNoYW5nZWQsIGFmdGVyIGFueSBhbmltYXRpb25zLlxyXG5cdFx0aWYgKHpvb21DaGFuZ2VkKSB7XHJcblx0XHRcdHRoaXMuZmlyZSgnem9vbWVuZCcpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIEBldmVudCBtb3ZlZW5kOiBFdmVudFxyXG5cdFx0Ly8gRmlyZWQgd2hlbiB0aGUgY2VudGVyIG9mIHRoZSBtYXAgc3RvcHMgY2hhbmdpbmcgKGUuZy4gdXNlciBzdG9wcGVkXHJcblx0XHQvLyBkcmFnZ2luZyB0aGUgbWFwKS5cclxuXHRcdHJldHVybiB0aGlzLmZpcmUoJ21vdmVlbmQnKTtcclxuXHR9LFxyXG5cclxuXHRfc3RvcDogZnVuY3Rpb24gKCkge1xyXG5cdFx0TC5VdGlsLmNhbmNlbEFuaW1GcmFtZSh0aGlzLl9mbHlUb0ZyYW1lKTtcclxuXHRcdGlmICh0aGlzLl9wYW5BbmltKSB7XHJcblx0XHRcdHRoaXMuX3BhbkFuaW0uc3RvcCgpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0X3Jhd1BhbkJ5OiBmdW5jdGlvbiAob2Zmc2V0KSB7XHJcblx0XHRMLkRvbVV0aWwuc2V0UG9zaXRpb24odGhpcy5fbWFwUGFuZSwgdGhpcy5fZ2V0TWFwUGFuZVBvcygpLnN1YnRyYWN0KG9mZnNldCkpO1xyXG5cdH0sXHJcblxyXG5cdF9nZXRab29tU3BhbjogZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuZ2V0TWF4Wm9vbSgpIC0gdGhpcy5nZXRNaW5ab29tKCk7XHJcblx0fSxcclxuXHJcblx0X3Bhbkluc2lkZU1heEJvdW5kczogZnVuY3Rpb24gKCkge1xyXG5cdFx0aWYgKCF0aGlzLl9lbmZvcmNpbmdCb3VuZHMpIHtcclxuXHRcdFx0dGhpcy5wYW5JbnNpZGVCb3VuZHModGhpcy5vcHRpb25zLm1heEJvdW5kcyk7XHJcblx0XHR9XHJcblx0fSxcclxuXHJcblx0X2NoZWNrSWZMb2FkZWQ6IGZ1bmN0aW9uICgpIHtcclxuXHRcdGlmICghdGhpcy5fbG9hZGVkKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcignU2V0IG1hcCBjZW50ZXIgYW5kIHpvb20gZmlyc3QuJyk7XHJcblx0XHR9XHJcblx0fSxcclxuXHJcblx0Ly8gRE9NIGV2ZW50IGhhbmRsaW5nXHJcblxyXG5cdC8vIEBzZWN0aW9uIEludGVyYWN0aW9uIGV2ZW50c1xyXG5cdF9pbml0RXZlbnRzOiBmdW5jdGlvbiAocmVtb3ZlKSB7XHJcblx0XHRpZiAoIUwuRG9tRXZlbnQpIHsgcmV0dXJuOyB9XHJcblxyXG5cdFx0dGhpcy5fdGFyZ2V0cyA9IHt9O1xyXG5cdFx0dGhpcy5fdGFyZ2V0c1tMLnN0YW1wKHRoaXMuX2NvbnRhaW5lcildID0gdGhpcztcclxuXHJcblx0XHR2YXIgb25PZmYgPSByZW1vdmUgPyAnb2ZmJyA6ICdvbic7XHJcblxyXG5cdFx0Ly8gQGV2ZW50IGNsaWNrOiBNb3VzZUV2ZW50XHJcblx0XHQvLyBGaXJlZCB3aGVuIHRoZSB1c2VyIGNsaWNrcyAob3IgdGFwcykgdGhlIG1hcC5cclxuXHRcdC8vIEBldmVudCBkYmxjbGljazogTW91c2VFdmVudFxyXG5cdFx0Ly8gRmlyZWQgd2hlbiB0aGUgdXNlciBkb3VibGUtY2xpY2tzIChvciBkb3VibGUtdGFwcykgdGhlIG1hcC5cclxuXHRcdC8vIEBldmVudCBtb3VzZWRvd246IE1vdXNlRXZlbnRcclxuXHRcdC8vIEZpcmVkIHdoZW4gdGhlIHVzZXIgcHVzaGVzIHRoZSBtb3VzZSBidXR0b24gb24gdGhlIG1hcC5cclxuXHRcdC8vIEBldmVudCBtb3VzZXVwOiBNb3VzZUV2ZW50XHJcblx0XHQvLyBGaXJlZCB3aGVuIHRoZSB1c2VyIHJlbGVhc2VzIHRoZSBtb3VzZSBidXR0b24gb24gdGhlIG1hcC5cclxuXHRcdC8vIEBldmVudCBtb3VzZW92ZXI6IE1vdXNlRXZlbnRcclxuXHRcdC8vIEZpcmVkIHdoZW4gdGhlIG1vdXNlIGVudGVycyB0aGUgbWFwLlxyXG5cdFx0Ly8gQGV2ZW50IG1vdXNlb3V0OiBNb3VzZUV2ZW50XHJcblx0XHQvLyBGaXJlZCB3aGVuIHRoZSBtb3VzZSBsZWF2ZXMgdGhlIG1hcC5cclxuXHRcdC8vIEBldmVudCBtb3VzZW1vdmU6IE1vdXNlRXZlbnRcclxuXHRcdC8vIEZpcmVkIHdoaWxlIHRoZSBtb3VzZSBtb3ZlcyBvdmVyIHRoZSBtYXAuXHJcblx0XHQvLyBAZXZlbnQgY29udGV4dG1lbnU6IE1vdXNlRXZlbnRcclxuXHRcdC8vIEZpcmVkIHdoZW4gdGhlIHVzZXIgcHVzaGVzIHRoZSByaWdodCBtb3VzZSBidXR0b24gb24gdGhlIG1hcCwgcHJldmVudHNcclxuXHRcdC8vIGRlZmF1bHQgYnJvd3NlciBjb250ZXh0IG1lbnUgZnJvbSBzaG93aW5nIGlmIHRoZXJlIGFyZSBsaXN0ZW5lcnMgb25cclxuXHRcdC8vIHRoaXMgZXZlbnQuIEFsc28gZmlyZWQgb24gbW9iaWxlIHdoZW4gdGhlIHVzZXIgaG9sZHMgYSBzaW5nbGUgdG91Y2hcclxuXHRcdC8vIGZvciBhIHNlY29uZCAoYWxzbyBjYWxsZWQgbG9uZyBwcmVzcykuXHJcblx0XHQvLyBAZXZlbnQga2V5cHJlc3M6IEtleWJvYXJkRXZlbnRcclxuXHRcdC8vIEZpcmVkIHdoZW4gdGhlIHVzZXIgcHJlc3NlcyBhIGtleSBmcm9tIHRoZSBrZXlib2FyZCB3aGlsZSB0aGUgbWFwIGlzIGZvY3VzZWQuXHJcblx0XHRMLkRvbUV2ZW50W29uT2ZmXSh0aGlzLl9jb250YWluZXIsICdjbGljayBkYmxjbGljayBtb3VzZWRvd24gbW91c2V1cCAnICtcclxuXHRcdFx0J21vdXNlb3ZlciBtb3VzZW91dCBtb3VzZW1vdmUgY29udGV4dG1lbnUga2V5cHJlc3MnLCB0aGlzLl9oYW5kbGVET01FdmVudCwgdGhpcyk7XHJcblxyXG5cdFx0aWYgKHRoaXMub3B0aW9ucy50cmFja1Jlc2l6ZSkge1xyXG5cdFx0XHRMLkRvbUV2ZW50W29uT2ZmXSh3aW5kb3csICdyZXNpemUnLCB0aGlzLl9vblJlc2l6ZSwgdGhpcyk7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKEwuQnJvd3Nlci5hbnkzZCAmJiB0aGlzLm9wdGlvbnMudHJhbnNmb3JtM0RMaW1pdCkge1xyXG5cdFx0XHR0aGlzW29uT2ZmXSgnbW92ZWVuZCcsIHRoaXMuX29uTW92ZUVuZCk7XHJcblx0XHR9XHJcblx0fSxcclxuXHJcblx0X29uUmVzaXplOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRMLlV0aWwuY2FuY2VsQW5pbUZyYW1lKHRoaXMuX3Jlc2l6ZVJlcXVlc3QpO1xyXG5cdFx0dGhpcy5fcmVzaXplUmVxdWVzdCA9IEwuVXRpbC5yZXF1ZXN0QW5pbUZyYW1lKFxyXG5cdFx0ICAgICAgICBmdW5jdGlvbiAoKSB7IHRoaXMuaW52YWxpZGF0ZVNpemUoe2RlYm91bmNlTW92ZWVuZDogdHJ1ZX0pOyB9LCB0aGlzKTtcclxuXHR9LFxyXG5cclxuXHRfb25TY3JvbGw6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHRoaXMuX2NvbnRhaW5lci5zY3JvbGxUb3AgID0gMDtcclxuXHRcdHRoaXMuX2NvbnRhaW5lci5zY3JvbGxMZWZ0ID0gMDtcclxuXHR9LFxyXG5cclxuXHRfb25Nb3ZlRW5kOiBmdW5jdGlvbiAoKSB7XHJcblx0XHR2YXIgcG9zID0gdGhpcy5fZ2V0TWFwUGFuZVBvcygpO1xyXG5cdFx0aWYgKE1hdGgubWF4KE1hdGguYWJzKHBvcy54KSwgTWF0aC5hYnMocG9zLnkpKSA+PSB0aGlzLm9wdGlvbnMudHJhbnNmb3JtM0RMaW1pdCkge1xyXG5cdFx0XHQvLyBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD0xMjAzODczIGJ1dCBXZWJraXQgYWxzbyBoYXZlXHJcblx0XHRcdC8vIGEgcGl4ZWwgb2Zmc2V0IG9uIHZlcnkgaGlnaCB2YWx1ZXMsIHNlZTogaHR0cDovL2pzZmlkZGxlLm5ldC9kZzZyNWhoYi9cclxuXHRcdFx0dGhpcy5fcmVzZXRWaWV3KHRoaXMuZ2V0Q2VudGVyKCksIHRoaXMuZ2V0Wm9vbSgpKTtcclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHRfZmluZEV2ZW50VGFyZ2V0czogZnVuY3Rpb24gKGUsIHR5cGUpIHtcclxuXHRcdHZhciB0YXJnZXRzID0gW10sXHJcblx0XHQgICAgdGFyZ2V0LFxyXG5cdFx0ICAgIGlzSG92ZXIgPSB0eXBlID09PSAnbW91c2VvdXQnIHx8IHR5cGUgPT09ICdtb3VzZW92ZXInLFxyXG5cdFx0ICAgIHNyYyA9IGUudGFyZ2V0IHx8IGUuc3JjRWxlbWVudCxcclxuXHRcdCAgICBkcmFnZ2luZyA9IGZhbHNlO1xyXG5cclxuXHRcdHdoaWxlIChzcmMpIHtcclxuXHRcdFx0dGFyZ2V0ID0gdGhpcy5fdGFyZ2V0c1tMLnN0YW1wKHNyYyldO1xyXG5cdFx0XHRpZiAodGFyZ2V0ICYmICh0eXBlID09PSAnY2xpY2snIHx8IHR5cGUgPT09ICdwcmVjbGljaycpICYmICFlLl9zaW11bGF0ZWQgJiYgdGhpcy5fZHJhZ2dhYmxlTW92ZWQodGFyZ2V0KSkge1xyXG5cdFx0XHRcdC8vIFByZXZlbnQgZmlyaW5nIGNsaWNrIGFmdGVyIHlvdSBqdXN0IGRyYWdnZWQgYW4gb2JqZWN0LlxyXG5cdFx0XHRcdGRyYWdnaW5nID0gdHJ1ZTtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAodGFyZ2V0ICYmIHRhcmdldC5saXN0ZW5zKHR5cGUsIHRydWUpKSB7XHJcblx0XHRcdFx0aWYgKGlzSG92ZXIgJiYgIUwuRG9tRXZlbnQuX2lzRXh0ZXJuYWxUYXJnZXQoc3JjLCBlKSkgeyBicmVhazsgfVxyXG5cdFx0XHRcdHRhcmdldHMucHVzaCh0YXJnZXQpO1xyXG5cdFx0XHRcdGlmIChpc0hvdmVyKSB7IGJyZWFrOyB9XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKHNyYyA9PT0gdGhpcy5fY29udGFpbmVyKSB7IGJyZWFrOyB9XHJcblx0XHRcdHNyYyA9IHNyYy5wYXJlbnROb2RlO1xyXG5cdFx0fVxyXG5cdFx0aWYgKCF0YXJnZXRzLmxlbmd0aCAmJiAhZHJhZ2dpbmcgJiYgIWlzSG92ZXIgJiYgTC5Eb21FdmVudC5faXNFeHRlcm5hbFRhcmdldChzcmMsIGUpKSB7XHJcblx0XHRcdHRhcmdldHMgPSBbdGhpc107XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gdGFyZ2V0cztcclxuXHR9LFxyXG5cclxuXHRfaGFuZGxlRE9NRXZlbnQ6IGZ1bmN0aW9uIChlKSB7XHJcblx0XHRpZiAoIXRoaXMuX2xvYWRlZCB8fCBMLkRvbUV2ZW50Ll9za2lwcGVkKGUpKSB7IHJldHVybjsgfVxyXG5cclxuXHRcdHZhciB0eXBlID0gZS50eXBlID09PSAna2V5cHJlc3MnICYmIGUua2V5Q29kZSA9PT0gMTMgPyAnY2xpY2snIDogZS50eXBlO1xyXG5cclxuXHRcdGlmICh0eXBlID09PSAnbW91c2Vkb3duJykge1xyXG5cdFx0XHQvLyBwcmV2ZW50cyBvdXRsaW5lIHdoZW4gY2xpY2tpbmcgb24ga2V5Ym9hcmQtZm9jdXNhYmxlIGVsZW1lbnRcclxuXHRcdFx0TC5Eb21VdGlsLnByZXZlbnRPdXRsaW5lKGUudGFyZ2V0IHx8IGUuc3JjRWxlbWVudCk7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5fZmlyZURPTUV2ZW50KGUsIHR5cGUpO1xyXG5cdH0sXHJcblxyXG5cdF9maXJlRE9NRXZlbnQ6IGZ1bmN0aW9uIChlLCB0eXBlLCB0YXJnZXRzKSB7XHJcblxyXG5cdFx0aWYgKGUudHlwZSA9PT0gJ2NsaWNrJykge1xyXG5cdFx0XHQvLyBGaXJlIGEgc3ludGhldGljICdwcmVjbGljaycgZXZlbnQgd2hpY2ggcHJvcGFnYXRlcyB1cCAobWFpbmx5IGZvciBjbG9zaW5nIHBvcHVwcykuXHJcblx0XHRcdC8vIEBldmVudCBwcmVjbGljazogTW91c2VFdmVudFxyXG5cdFx0XHQvLyBGaXJlZCBiZWZvcmUgbW91c2UgY2xpY2sgb24gdGhlIG1hcCAoc29tZXRpbWVzIHVzZWZ1bCB3aGVuIHlvdVxyXG5cdFx0XHQvLyB3YW50IHNvbWV0aGluZyB0byBoYXBwZW4gb24gY2xpY2sgYmVmb3JlIGFueSBleGlzdGluZyBjbGlja1xyXG5cdFx0XHQvLyBoYW5kbGVycyBzdGFydCBydW5uaW5nKS5cclxuXHRcdFx0dmFyIHN5bnRoID0gTC5VdGlsLmV4dGVuZCh7fSwgZSk7XHJcblx0XHRcdHN5bnRoLnR5cGUgPSAncHJlY2xpY2snO1xyXG5cdFx0XHR0aGlzLl9maXJlRE9NRXZlbnQoc3ludGgsIHN5bnRoLnR5cGUsIHRhcmdldHMpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChlLl9zdG9wcGVkKSB7IHJldHVybjsgfVxyXG5cclxuXHRcdC8vIEZpbmQgdGhlIGxheWVyIHRoZSBldmVudCBpcyBwcm9wYWdhdGluZyBmcm9tIGFuZCBpdHMgcGFyZW50cy5cclxuXHRcdHRhcmdldHMgPSAodGFyZ2V0cyB8fCBbXSkuY29uY2F0KHRoaXMuX2ZpbmRFdmVudFRhcmdldHMoZSwgdHlwZSkpO1xyXG5cclxuXHRcdGlmICghdGFyZ2V0cy5sZW5ndGgpIHsgcmV0dXJuOyB9XHJcblxyXG5cdFx0dmFyIHRhcmdldCA9IHRhcmdldHNbMF07XHJcblx0XHRpZiAodHlwZSA9PT0gJ2NvbnRleHRtZW51JyAmJiB0YXJnZXQubGlzdGVucyh0eXBlLCB0cnVlKSkge1xyXG5cdFx0XHRMLkRvbUV2ZW50LnByZXZlbnREZWZhdWx0KGUpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHZhciBkYXRhID0ge1xyXG5cdFx0XHRvcmlnaW5hbEV2ZW50OiBlXHJcblx0XHR9O1xyXG5cclxuXHRcdGlmIChlLnR5cGUgIT09ICdrZXlwcmVzcycpIHtcclxuXHRcdFx0dmFyIGlzTWFya2VyID0gdGFyZ2V0IGluc3RhbmNlb2YgTC5NYXJrZXI7XHJcblx0XHRcdGRhdGEuY29udGFpbmVyUG9pbnQgPSBpc01hcmtlciA/XHJcblx0XHRcdFx0XHR0aGlzLmxhdExuZ1RvQ29udGFpbmVyUG9pbnQodGFyZ2V0LmdldExhdExuZygpKSA6IHRoaXMubW91c2VFdmVudFRvQ29udGFpbmVyUG9pbnQoZSk7XHJcblx0XHRcdGRhdGEubGF5ZXJQb2ludCA9IHRoaXMuY29udGFpbmVyUG9pbnRUb0xheWVyUG9pbnQoZGF0YS5jb250YWluZXJQb2ludCk7XHJcblx0XHRcdGRhdGEubGF0bG5nID0gaXNNYXJrZXIgPyB0YXJnZXQuZ2V0TGF0TG5nKCkgOiB0aGlzLmxheWVyUG9pbnRUb0xhdExuZyhkYXRhLmxheWVyUG9pbnQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgdGFyZ2V0cy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHR0YXJnZXRzW2ldLmZpcmUodHlwZSwgZGF0YSwgdHJ1ZSk7XHJcblx0XHRcdGlmIChkYXRhLm9yaWdpbmFsRXZlbnQuX3N0b3BwZWQgfHxcclxuXHRcdFx0XHQodGFyZ2V0c1tpXS5vcHRpb25zLm5vbkJ1YmJsaW5nRXZlbnRzICYmIEwuVXRpbC5pbmRleE9mKHRhcmdldHNbaV0ub3B0aW9ucy5ub25CdWJibGluZ0V2ZW50cywgdHlwZSkgIT09IC0xKSkgeyByZXR1cm47IH1cclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHRfZHJhZ2dhYmxlTW92ZWQ6IGZ1bmN0aW9uIChvYmopIHtcclxuXHRcdG9iaiA9IG9iai5kcmFnZ2luZyAmJiBvYmouZHJhZ2dpbmcuZW5hYmxlZCgpID8gb2JqIDogdGhpcztcclxuXHRcdHJldHVybiAob2JqLmRyYWdnaW5nICYmIG9iai5kcmFnZ2luZy5tb3ZlZCgpKSB8fCAodGhpcy5ib3hab29tICYmIHRoaXMuYm94Wm9vbS5tb3ZlZCgpKTtcclxuXHR9LFxyXG5cclxuXHRfY2xlYXJIYW5kbGVyczogZnVuY3Rpb24gKCkge1xyXG5cdFx0Zm9yICh2YXIgaSA9IDAsIGxlbiA9IHRoaXMuX2hhbmRsZXJzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcblx0XHRcdHRoaXMuX2hhbmRsZXJzW2ldLmRpc2FibGUoKTtcclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHQvLyBAc2VjdGlvbiBPdGhlciBNZXRob2RzXHJcblxyXG5cdC8vIEBtZXRob2Qgd2hlblJlYWR5KGZuOiBGdW5jdGlvbiwgY29udGV4dD86IE9iamVjdCk6IHRoaXNcclxuXHQvLyBSdW5zIHRoZSBnaXZlbiBmdW5jdGlvbiBgZm5gIHdoZW4gdGhlIG1hcCBnZXRzIGluaXRpYWxpemVkIHdpdGhcclxuXHQvLyBhIHZpZXcgKGNlbnRlciBhbmQgem9vbSkgYW5kIGF0IGxlYXN0IG9uZSBsYXllciwgb3IgaW1tZWRpYXRlbHlcclxuXHQvLyBpZiBpdCdzIGFscmVhZHkgaW5pdGlhbGl6ZWQsIG9wdGlvbmFsbHkgcGFzc2luZyBhIGZ1bmN0aW9uIGNvbnRleHQuXHJcblx0d2hlblJlYWR5OiBmdW5jdGlvbiAoY2FsbGJhY2ssIGNvbnRleHQpIHtcclxuXHRcdGlmICh0aGlzLl9sb2FkZWQpIHtcclxuXHRcdFx0Y2FsbGJhY2suY2FsbChjb250ZXh0IHx8IHRoaXMsIHt0YXJnZXQ6IHRoaXN9KTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHRoaXMub24oJ2xvYWQnLCBjYWxsYmFjaywgY29udGV4dCk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHJcblx0Ly8gcHJpdmF0ZSBtZXRob2RzIGZvciBnZXR0aW5nIG1hcCBzdGF0ZVxyXG5cclxuXHRfZ2V0TWFwUGFuZVBvczogZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuIEwuRG9tVXRpbC5nZXRQb3NpdGlvbih0aGlzLl9tYXBQYW5lKSB8fCBuZXcgTC5Qb2ludCgwLCAwKTtcclxuXHR9LFxyXG5cclxuXHRfbW92ZWQ6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHZhciBwb3MgPSB0aGlzLl9nZXRNYXBQYW5lUG9zKCk7XHJcblx0XHRyZXR1cm4gcG9zICYmICFwb3MuZXF1YWxzKFswLCAwXSk7XHJcblx0fSxcclxuXHJcblx0X2dldFRvcExlZnRQb2ludDogZnVuY3Rpb24gKGNlbnRlciwgem9vbSkge1xyXG5cdFx0dmFyIHBpeGVsT3JpZ2luID0gY2VudGVyICYmIHpvb20gIT09IHVuZGVmaW5lZCA/XHJcblx0XHRcdHRoaXMuX2dldE5ld1BpeGVsT3JpZ2luKGNlbnRlciwgem9vbSkgOlxyXG5cdFx0XHR0aGlzLmdldFBpeGVsT3JpZ2luKCk7XHJcblx0XHRyZXR1cm4gcGl4ZWxPcmlnaW4uc3VidHJhY3QodGhpcy5fZ2V0TWFwUGFuZVBvcygpKTtcclxuXHR9LFxyXG5cclxuXHRfZ2V0TmV3UGl4ZWxPcmlnaW46IGZ1bmN0aW9uIChjZW50ZXIsIHpvb20pIHtcclxuXHRcdHZhciB2aWV3SGFsZiA9IHRoaXMuZ2V0U2l6ZSgpLl9kaXZpZGVCeSgyKTtcclxuXHRcdHJldHVybiB0aGlzLnByb2plY3QoY2VudGVyLCB6b29tKS5fc3VidHJhY3Qodmlld0hhbGYpLl9hZGQodGhpcy5fZ2V0TWFwUGFuZVBvcygpKS5fcm91bmQoKTtcclxuXHR9LFxyXG5cclxuXHRfbGF0TG5nVG9OZXdMYXllclBvaW50OiBmdW5jdGlvbiAobGF0bG5nLCB6b29tLCBjZW50ZXIpIHtcclxuXHRcdHZhciB0b3BMZWZ0ID0gdGhpcy5fZ2V0TmV3UGl4ZWxPcmlnaW4oY2VudGVyLCB6b29tKTtcclxuXHRcdHJldHVybiB0aGlzLnByb2plY3QobGF0bG5nLCB6b29tKS5fc3VidHJhY3QodG9wTGVmdCk7XHJcblx0fSxcclxuXHJcblx0Ly8gbGF5ZXIgcG9pbnQgb2YgdGhlIGN1cnJlbnQgY2VudGVyXHJcblx0X2dldENlbnRlckxheWVyUG9pbnQ6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiB0aGlzLmNvbnRhaW5lclBvaW50VG9MYXllclBvaW50KHRoaXMuZ2V0U2l6ZSgpLl9kaXZpZGVCeSgyKSk7XHJcblx0fSxcclxuXHJcblx0Ly8gb2Zmc2V0IG9mIHRoZSBzcGVjaWZpZWQgcGxhY2UgdG8gdGhlIGN1cnJlbnQgY2VudGVyIGluIHBpeGVsc1xyXG5cdF9nZXRDZW50ZXJPZmZzZXQ6IGZ1bmN0aW9uIChsYXRsbmcpIHtcclxuXHRcdHJldHVybiB0aGlzLmxhdExuZ1RvTGF5ZXJQb2ludChsYXRsbmcpLnN1YnRyYWN0KHRoaXMuX2dldENlbnRlckxheWVyUG9pbnQoKSk7XHJcblx0fSxcclxuXHJcblx0Ly8gYWRqdXN0IGNlbnRlciBmb3IgdmlldyB0byBnZXQgaW5zaWRlIGJvdW5kc1xyXG5cdF9saW1pdENlbnRlcjogZnVuY3Rpb24gKGNlbnRlciwgem9vbSwgYm91bmRzKSB7XHJcblxyXG5cdFx0aWYgKCFib3VuZHMpIHsgcmV0dXJuIGNlbnRlcjsgfVxyXG5cclxuXHRcdHZhciBjZW50ZXJQb2ludCA9IHRoaXMucHJvamVjdChjZW50ZXIsIHpvb20pLFxyXG5cdFx0ICAgIHZpZXdIYWxmID0gdGhpcy5nZXRTaXplKCkuZGl2aWRlQnkoMiksXHJcblx0XHQgICAgdmlld0JvdW5kcyA9IG5ldyBMLkJvdW5kcyhjZW50ZXJQb2ludC5zdWJ0cmFjdCh2aWV3SGFsZiksIGNlbnRlclBvaW50LmFkZCh2aWV3SGFsZikpLFxyXG5cdFx0ICAgIG9mZnNldCA9IHRoaXMuX2dldEJvdW5kc09mZnNldCh2aWV3Qm91bmRzLCBib3VuZHMsIHpvb20pO1xyXG5cclxuXHRcdC8vIElmIG9mZnNldCBpcyBsZXNzIHRoYW4gYSBwaXhlbCwgaWdub3JlLlxyXG5cdFx0Ly8gVGhpcyBwcmV2ZW50cyB1bnN0YWJsZSBwcm9qZWN0aW9ucyBmcm9tIGdldHRpbmcgaW50b1xyXG5cdFx0Ly8gYW4gaW5maW5pdGUgbG9vcCBvZiB0aW55IG9mZnNldHMuXHJcblx0XHRpZiAob2Zmc2V0LnJvdW5kKCkuZXF1YWxzKFswLCAwXSkpIHtcclxuXHRcdFx0cmV0dXJuIGNlbnRlcjtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdGhpcy51bnByb2plY3QoY2VudGVyUG9pbnQuYWRkKG9mZnNldCksIHpvb20pO1xyXG5cdH0sXHJcblxyXG5cdC8vIGFkanVzdCBvZmZzZXQgZm9yIHZpZXcgdG8gZ2V0IGluc2lkZSBib3VuZHNcclxuXHRfbGltaXRPZmZzZXQ6IGZ1bmN0aW9uIChvZmZzZXQsIGJvdW5kcykge1xyXG5cdFx0aWYgKCFib3VuZHMpIHsgcmV0dXJuIG9mZnNldDsgfVxyXG5cclxuXHRcdHZhciB2aWV3Qm91bmRzID0gdGhpcy5nZXRQaXhlbEJvdW5kcygpLFxyXG5cdFx0ICAgIG5ld0JvdW5kcyA9IG5ldyBMLkJvdW5kcyh2aWV3Qm91bmRzLm1pbi5hZGQob2Zmc2V0KSwgdmlld0JvdW5kcy5tYXguYWRkKG9mZnNldCkpO1xyXG5cclxuXHRcdHJldHVybiBvZmZzZXQuYWRkKHRoaXMuX2dldEJvdW5kc09mZnNldChuZXdCb3VuZHMsIGJvdW5kcykpO1xyXG5cdH0sXHJcblxyXG5cdC8vIHJldHVybnMgb2Zmc2V0IG5lZWRlZCBmb3IgcHhCb3VuZHMgdG8gZ2V0IGluc2lkZSBtYXhCb3VuZHMgYXQgYSBzcGVjaWZpZWQgem9vbVxyXG5cdF9nZXRCb3VuZHNPZmZzZXQ6IGZ1bmN0aW9uIChweEJvdW5kcywgbWF4Qm91bmRzLCB6b29tKSB7XHJcblx0XHR2YXIgcHJvamVjdGVkTWF4Qm91bmRzID0gTC5ib3VuZHMoXHJcblx0XHQgICAgICAgIHRoaXMucHJvamVjdChtYXhCb3VuZHMuZ2V0Tm9ydGhFYXN0KCksIHpvb20pLFxyXG5cdFx0ICAgICAgICB0aGlzLnByb2plY3QobWF4Qm91bmRzLmdldFNvdXRoV2VzdCgpLCB6b29tKVxyXG5cdFx0ICAgICksXHJcblx0XHQgICAgbWluT2Zmc2V0ID0gcHJvamVjdGVkTWF4Qm91bmRzLm1pbi5zdWJ0cmFjdChweEJvdW5kcy5taW4pLFxyXG5cdFx0ICAgIG1heE9mZnNldCA9IHByb2plY3RlZE1heEJvdW5kcy5tYXguc3VidHJhY3QocHhCb3VuZHMubWF4KSxcclxuXHJcblx0XHQgICAgZHggPSB0aGlzLl9yZWJvdW5kKG1pbk9mZnNldC54LCAtbWF4T2Zmc2V0LngpLFxyXG5cdFx0ICAgIGR5ID0gdGhpcy5fcmVib3VuZChtaW5PZmZzZXQueSwgLW1heE9mZnNldC55KTtcclxuXHJcblx0XHRyZXR1cm4gbmV3IEwuUG9pbnQoZHgsIGR5KTtcclxuXHR9LFxyXG5cclxuXHRfcmVib3VuZDogZnVuY3Rpb24gKGxlZnQsIHJpZ2h0KSB7XHJcblx0XHRyZXR1cm4gbGVmdCArIHJpZ2h0ID4gMCA/XHJcblx0XHRcdE1hdGgucm91bmQobGVmdCAtIHJpZ2h0KSAvIDIgOlxyXG5cdFx0XHRNYXRoLm1heCgwLCBNYXRoLmNlaWwobGVmdCkpIC0gTWF0aC5tYXgoMCwgTWF0aC5mbG9vcihyaWdodCkpO1xyXG5cdH0sXHJcblxyXG5cdF9saW1pdFpvb206IGZ1bmN0aW9uICh6b29tKSB7XHJcblx0XHR2YXIgbWluID0gdGhpcy5nZXRNaW5ab29tKCksXHJcblx0XHQgICAgbWF4ID0gdGhpcy5nZXRNYXhab29tKCksXHJcblx0XHQgICAgc25hcCA9IEwuQnJvd3Nlci5hbnkzZCA/IHRoaXMub3B0aW9ucy56b29tU25hcCA6IDE7XHJcblx0XHRpZiAoc25hcCkge1xyXG5cdFx0XHR6b29tID0gTWF0aC5yb3VuZCh6b29tIC8gc25hcCkgKiBzbmFwO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIE1hdGgubWF4KG1pbiwgTWF0aC5taW4obWF4LCB6b29tKSk7XHJcblx0fVxyXG59KTtcclxuXHJcbi8vIEBzZWN0aW9uXHJcblxyXG4vLyBAZmFjdG9yeSBMLm1hcChpZDogU3RyaW5nLCBvcHRpb25zPzogTWFwIG9wdGlvbnMpXHJcbi8vIEluc3RhbnRpYXRlcyBhIG1hcCBvYmplY3QgZ2l2ZW4gdGhlIERPTSBJRCBvZiBhIGA8ZGl2PmAgZWxlbWVudFxyXG4vLyBhbmQgb3B0aW9uYWxseSBhbiBvYmplY3QgbGl0ZXJhbCB3aXRoIGBNYXAgb3B0aW9uc2AuXHJcbi8vXHJcbi8vIEBhbHRlcm5hdGl2ZVxyXG4vLyBAZmFjdG9yeSBMLm1hcChlbDogSFRNTEVsZW1lbnQsIG9wdGlvbnM/OiBNYXAgb3B0aW9ucylcclxuLy8gSW5zdGFudGlhdGVzIGEgbWFwIG9iamVjdCBnaXZlbiBhbiBpbnN0YW5jZSBvZiBhIGA8ZGl2PmAgSFRNTCBlbGVtZW50XHJcbi8vIGFuZCBvcHRpb25hbGx5IGFuIG9iamVjdCBsaXRlcmFsIHdpdGggYE1hcCBvcHRpb25zYC5cclxuTC5tYXAgPSBmdW5jdGlvbiAoaWQsIG9wdGlvbnMpIHtcclxuXHRyZXR1cm4gbmV3IEwuTWFwKGlkLCBvcHRpb25zKTtcclxufTtcclxuXG5cbi8qXG4gKiBAY2xhc3MgTGF5ZXJcbiAqIEBpbmhlcml0cyBFdmVudGVkXG4gKiBAYWthIEwuTGF5ZXJcbiAqIEBha2EgSUxheWVyXG4gKlxuICogQSBzZXQgb2YgbWV0aG9kcyBmcm9tIHRoZSBMYXllciBiYXNlIGNsYXNzIHRoYXQgYWxsIExlYWZsZXQgbGF5ZXJzIHVzZS5cbiAqIEluaGVyaXRzIGFsbCBtZXRob2RzLCBvcHRpb25zIGFuZCBldmVudHMgZnJvbSBgTC5FdmVudGVkYC5cbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIGBgYGpzXG4gKiB2YXIgbGF5ZXIgPSBMLk1hcmtlcihsYXRsbmcpLmFkZFRvKG1hcCk7XG4gKiBsYXllci5hZGRUbyhtYXApO1xuICogbGF5ZXIucmVtb3ZlKCk7XG4gKiBgYGBcbiAqXG4gKiBAZXZlbnQgYWRkOiBFdmVudFxuICogRmlyZWQgYWZ0ZXIgdGhlIGxheWVyIGlzIGFkZGVkIHRvIGEgbWFwXG4gKlxuICogQGV2ZW50IHJlbW92ZTogRXZlbnRcbiAqIEZpcmVkIGFmdGVyIHRoZSBsYXllciBpcyByZW1vdmVkIGZyb20gYSBtYXBcbiAqL1xuXG5cbkwuTGF5ZXIgPSBMLkV2ZW50ZWQuZXh0ZW5kKHtcblxuXHQvLyBDbGFzc2VzIGV4dGVuZGluZyBgTC5MYXllcmAgd2lsbCBpbmhlcml0IHRoZSBmb2xsb3dpbmcgb3B0aW9uczpcblx0b3B0aW9uczoge1xuXHRcdC8vIEBvcHRpb24gcGFuZTogU3RyaW5nID0gJ292ZXJsYXlQYW5lJ1xuXHRcdC8vIEJ5IGRlZmF1bHQgdGhlIGxheWVyIHdpbGwgYmUgYWRkZWQgdG8gdGhlIG1hcCdzIFtvdmVybGF5IHBhbmVdKCNtYXAtb3ZlcmxheXBhbmUpLiBPdmVycmlkaW5nIHRoaXMgb3B0aW9uIHdpbGwgY2F1c2UgdGhlIGxheWVyIHRvIGJlIHBsYWNlZCBvbiBhbm90aGVyIHBhbmUgYnkgZGVmYXVsdC5cblx0XHRwYW5lOiAnb3ZlcmxheVBhbmUnLFxuXHRcdG5vbkJ1YmJsaW5nRXZlbnRzOiBbXSAgLy8gQXJyYXkgb2YgZXZlbnRzIHRoYXQgc2hvdWxkIG5vdCBiZSBidWJibGVkIHRvIERPTSBwYXJlbnRzIChsaWtlIHRoZSBtYXApXG5cdH0sXG5cblx0LyogQHNlY3Rpb25cblx0ICogQ2xhc3NlcyBleHRlbmRpbmcgYEwuTGF5ZXJgIHdpbGwgaW5oZXJpdCB0aGUgZm9sbG93aW5nIG1ldGhvZHM6XG5cdCAqXG5cdCAqIEBtZXRob2QgYWRkVG8obWFwOiBNYXApOiB0aGlzXG5cdCAqIEFkZHMgdGhlIGxheWVyIHRvIHRoZSBnaXZlbiBtYXBcblx0ICovXG5cdGFkZFRvOiBmdW5jdGlvbiAobWFwKSB7XG5cdFx0bWFwLmFkZExheWVyKHRoaXMpO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9LFxuXG5cdC8vIEBtZXRob2QgcmVtb3ZlOiB0aGlzXG5cdC8vIFJlbW92ZXMgdGhlIGxheWVyIGZyb20gdGhlIG1hcCBpdCBpcyBjdXJyZW50bHkgYWN0aXZlIG9uLlxuXHRyZW1vdmU6IGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gdGhpcy5yZW1vdmVGcm9tKHRoaXMuX21hcCB8fCB0aGlzLl9tYXBUb0FkZCk7XG5cdH0sXG5cblx0Ly8gQG1ldGhvZCByZW1vdmVGcm9tKG1hcDogTWFwKTogdGhpc1xuXHQvLyBSZW1vdmVzIHRoZSBsYXllciBmcm9tIHRoZSBnaXZlbiBtYXBcblx0cmVtb3ZlRnJvbTogZnVuY3Rpb24gKG9iaikge1xuXHRcdGlmIChvYmopIHtcblx0XHRcdG9iai5yZW1vdmVMYXllcih0aGlzKTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0Ly8gQG1ldGhvZCBnZXRQYW5lKG5hbWU/IDogU3RyaW5nKTogSFRNTEVsZW1lbnRcblx0Ly8gUmV0dXJucyB0aGUgYEhUTUxFbGVtZW50YCByZXByZXNlbnRpbmcgdGhlIG5hbWVkIHBhbmUgb24gdGhlIG1hcC4gSWYgYG5hbWVgIGlzIG9taXR0ZWQsIHJldHVybnMgdGhlIHBhbmUgZm9yIHRoaXMgbGF5ZXIuXG5cdGdldFBhbmU6IGZ1bmN0aW9uIChuYW1lKSB7XG5cdFx0cmV0dXJuIHRoaXMuX21hcC5nZXRQYW5lKG5hbWUgPyAodGhpcy5vcHRpb25zW25hbWVdIHx8IG5hbWUpIDogdGhpcy5vcHRpb25zLnBhbmUpO1xuXHR9LFxuXG5cdGFkZEludGVyYWN0aXZlVGFyZ2V0OiBmdW5jdGlvbiAodGFyZ2V0RWwpIHtcblx0XHR0aGlzLl9tYXAuX3RhcmdldHNbTC5zdGFtcCh0YXJnZXRFbCldID0gdGhpcztcblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHRyZW1vdmVJbnRlcmFjdGl2ZVRhcmdldDogZnVuY3Rpb24gKHRhcmdldEVsKSB7XG5cdFx0ZGVsZXRlIHRoaXMuX21hcC5fdGFyZ2V0c1tMLnN0YW1wKHRhcmdldEVsKV07XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0X2xheWVyQWRkOiBmdW5jdGlvbiAoZSkge1xuXHRcdHZhciBtYXAgPSBlLnRhcmdldDtcblxuXHRcdC8vIGNoZWNrIGluIGNhc2UgbGF5ZXIgZ2V0cyBhZGRlZCBhbmQgdGhlbiByZW1vdmVkIGJlZm9yZSB0aGUgbWFwIGlzIHJlYWR5XG5cdFx0aWYgKCFtYXAuaGFzTGF5ZXIodGhpcykpIHsgcmV0dXJuOyB9XG5cblx0XHR0aGlzLl9tYXAgPSBtYXA7XG5cdFx0dGhpcy5fem9vbUFuaW1hdGVkID0gbWFwLl96b29tQW5pbWF0ZWQ7XG5cblx0XHRpZiAodGhpcy5nZXRFdmVudHMpIHtcblx0XHRcdHZhciBldmVudHMgPSB0aGlzLmdldEV2ZW50cygpO1xuXHRcdFx0bWFwLm9uKGV2ZW50cywgdGhpcyk7XG5cdFx0XHR0aGlzLm9uY2UoJ3JlbW92ZScsIGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0bWFwLm9mZihldmVudHMsIHRoaXMpO1xuXHRcdFx0fSwgdGhpcyk7XG5cdFx0fVxuXG5cdFx0dGhpcy5vbkFkZChtYXApO1xuXG5cdFx0aWYgKHRoaXMuZ2V0QXR0cmlidXRpb24gJiYgdGhpcy5fbWFwLmF0dHJpYnV0aW9uQ29udHJvbCkge1xuXHRcdFx0dGhpcy5fbWFwLmF0dHJpYnV0aW9uQ29udHJvbC5hZGRBdHRyaWJ1dGlvbih0aGlzLmdldEF0dHJpYnV0aW9uKCkpO1xuXHRcdH1cblxuXHRcdHRoaXMuZmlyZSgnYWRkJyk7XG5cdFx0bWFwLmZpcmUoJ2xheWVyYWRkJywge2xheWVyOiB0aGlzfSk7XG5cdH1cbn0pO1xuXG4vKiBAc2VjdGlvbiBFeHRlbnNpb24gbWV0aG9kc1xuICogQHVuaW5oZXJpdGFibGVcbiAqXG4gKiBFdmVyeSBsYXllciBzaG91bGQgZXh0ZW5kIGZyb20gYEwuTGF5ZXJgIGFuZCAocmUtKWltcGxlbWVudCB0aGUgZm9sbG93aW5nIG1ldGhvZHMuXG4gKlxuICogQG1ldGhvZCBvbkFkZChtYXA6IE1hcCk6IHRoaXNcbiAqIFNob3VsZCBjb250YWluIGNvZGUgdGhhdCBjcmVhdGVzIERPTSBlbGVtZW50cyBmb3IgdGhlIGxheWVyLCBhZGRzIHRoZW0gdG8gYG1hcCBwYW5lc2Agd2hlcmUgdGhleSBzaG91bGQgYmVsb25nIGFuZCBwdXRzIGxpc3RlbmVycyBvbiByZWxldmFudCBtYXAgZXZlbnRzLiBDYWxsZWQgb24gW2BtYXAuYWRkTGF5ZXIobGF5ZXIpYF0oI21hcC1hZGRsYXllcikuXG4gKlxuICogQG1ldGhvZCBvblJlbW92ZShtYXA6IE1hcCk6IHRoaXNcbiAqIFNob3VsZCBjb250YWluIGFsbCBjbGVhbiB1cCBjb2RlIHRoYXQgcmVtb3ZlcyB0aGUgbGF5ZXIncyBlbGVtZW50cyBmcm9tIHRoZSBET00gYW5kIHJlbW92ZXMgbGlzdGVuZXJzIHByZXZpb3VzbHkgYWRkZWQgaW4gW2BvbkFkZGBdKCNsYXllci1vbmFkZCkuIENhbGxlZCBvbiBbYG1hcC5yZW1vdmVMYXllcihsYXllcilgXSgjbWFwLXJlbW92ZWxheWVyKS5cbiAqXG4gKiBAbWV0aG9kIGdldEV2ZW50cygpOiBPYmplY3RcbiAqIFRoaXMgb3B0aW9uYWwgbWV0aG9kIHNob3VsZCByZXR1cm4gYW4gb2JqZWN0IGxpa2UgYHsgdmlld3Jlc2V0OiB0aGlzLl9yZXNldCB9YCBmb3IgW2BhZGRFdmVudExpc3RlbmVyYF0oI2V2ZW50ZWQtYWRkZXZlbnRsaXN0ZW5lcikuIFRoZSBldmVudCBoYW5kbGVycyBpbiB0aGlzIG9iamVjdCB3aWxsIGJlIGF1dG9tYXRpY2FsbHkgYWRkZWQgYW5kIHJlbW92ZWQgZnJvbSB0aGUgbWFwIHdpdGggeW91ciBsYXllci5cbiAqXG4gKiBAbWV0aG9kIGdldEF0dHJpYnV0aW9uKCk6IFN0cmluZ1xuICogVGhpcyBvcHRpb25hbCBtZXRob2Qgc2hvdWxkIHJldHVybiBhIHN0cmluZyBjb250YWluaW5nIEhUTUwgdG8gYmUgc2hvd24gb24gdGhlIGBBdHRyaWJ1dGlvbiBjb250cm9sYCB3aGVuZXZlciB0aGUgbGF5ZXIgaXMgdmlzaWJsZS5cbiAqXG4gKiBAbWV0aG9kIGJlZm9yZUFkZChtYXA6IE1hcCk6IHRoaXNcbiAqIE9wdGlvbmFsIG1ldGhvZC4gQ2FsbGVkIG9uIFtgbWFwLmFkZExheWVyKGxheWVyKWBdKCNtYXAtYWRkbGF5ZXIpLCBiZWZvcmUgdGhlIGxheWVyIGlzIGFkZGVkIHRvIHRoZSBtYXAsIGJlZm9yZSBldmVudHMgYXJlIGluaXRpYWxpemVkLCB3aXRob3V0IHdhaXRpbmcgdW50aWwgdGhlIG1hcCBpcyBpbiBhIHVzYWJsZSBzdGF0ZS4gVXNlIGZvciBlYXJseSBpbml0aWFsaXphdGlvbiBvbmx5LlxuICovXG5cblxuLyogQG5hbWVzcGFjZSBNYXBcbiAqIEBzZWN0aW9uIExheWVyIGV2ZW50c1xuICpcbiAqIEBldmVudCBsYXllcmFkZDogTGF5ZXJFdmVudFxuICogRmlyZWQgd2hlbiBhIG5ldyBsYXllciBpcyBhZGRlZCB0byB0aGUgbWFwLlxuICpcbiAqIEBldmVudCBsYXllcnJlbW92ZTogTGF5ZXJFdmVudFxuICogRmlyZWQgd2hlbiBzb21lIGxheWVyIGlzIHJlbW92ZWQgZnJvbSB0aGUgbWFwXG4gKlxuICogQHNlY3Rpb24gTWV0aG9kcyBmb3IgTGF5ZXJzIGFuZCBDb250cm9sc1xuICovXG5MLk1hcC5pbmNsdWRlKHtcblx0Ly8gQG1ldGhvZCBhZGRMYXllcihsYXllcjogTGF5ZXIpOiB0aGlzXG5cdC8vIEFkZHMgdGhlIGdpdmVuIGxheWVyIHRvIHRoZSBtYXBcblx0YWRkTGF5ZXI6IGZ1bmN0aW9uIChsYXllcikge1xuXHRcdHZhciBpZCA9IEwuc3RhbXAobGF5ZXIpO1xuXHRcdGlmICh0aGlzLl9sYXllcnNbaWRdKSB7IHJldHVybiB0aGlzOyB9XG5cdFx0dGhpcy5fbGF5ZXJzW2lkXSA9IGxheWVyO1xuXG5cdFx0bGF5ZXIuX21hcFRvQWRkID0gdGhpcztcblxuXHRcdGlmIChsYXllci5iZWZvcmVBZGQpIHtcblx0XHRcdGxheWVyLmJlZm9yZUFkZCh0aGlzKTtcblx0XHR9XG5cblx0XHR0aGlzLndoZW5SZWFkeShsYXllci5fbGF5ZXJBZGQsIGxheWVyKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXHR9LFxuXG5cdC8vIEBtZXRob2QgcmVtb3ZlTGF5ZXIobGF5ZXI6IExheWVyKTogdGhpc1xuXHQvLyBSZW1vdmVzIHRoZSBnaXZlbiBsYXllciBmcm9tIHRoZSBtYXAuXG5cdHJlbW92ZUxheWVyOiBmdW5jdGlvbiAobGF5ZXIpIHtcblx0XHR2YXIgaWQgPSBMLnN0YW1wKGxheWVyKTtcblxuXHRcdGlmICghdGhpcy5fbGF5ZXJzW2lkXSkgeyByZXR1cm4gdGhpczsgfVxuXG5cdFx0aWYgKHRoaXMuX2xvYWRlZCkge1xuXHRcdFx0bGF5ZXIub25SZW1vdmUodGhpcyk7XG5cdFx0fVxuXG5cdFx0aWYgKGxheWVyLmdldEF0dHJpYnV0aW9uICYmIHRoaXMuYXR0cmlidXRpb25Db250cm9sKSB7XG5cdFx0XHR0aGlzLmF0dHJpYnV0aW9uQ29udHJvbC5yZW1vdmVBdHRyaWJ1dGlvbihsYXllci5nZXRBdHRyaWJ1dGlvbigpKTtcblx0XHR9XG5cblx0XHRkZWxldGUgdGhpcy5fbGF5ZXJzW2lkXTtcblxuXHRcdGlmICh0aGlzLl9sb2FkZWQpIHtcblx0XHRcdHRoaXMuZmlyZSgnbGF5ZXJyZW1vdmUnLCB7bGF5ZXI6IGxheWVyfSk7XG5cdFx0XHRsYXllci5maXJlKCdyZW1vdmUnKTtcblx0XHR9XG5cblx0XHRsYXllci5fbWFwID0gbGF5ZXIuX21hcFRvQWRkID0gbnVsbDtcblxuXHRcdHJldHVybiB0aGlzO1xuXHR9LFxuXG5cdC8vIEBtZXRob2QgaGFzTGF5ZXIobGF5ZXI6IExheWVyKTogQm9vbGVhblxuXHQvLyBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZ2l2ZW4gbGF5ZXIgaXMgY3VycmVudGx5IGFkZGVkIHRvIHRoZSBtYXBcblx0aGFzTGF5ZXI6IGZ1bmN0aW9uIChsYXllcikge1xuXHRcdHJldHVybiAhIWxheWVyICYmIChMLnN0YW1wKGxheWVyKSBpbiB0aGlzLl9sYXllcnMpO1xuXHR9LFxuXG5cdC8qIEBtZXRob2QgZWFjaExheWVyKGZuOiBGdW5jdGlvbiwgY29udGV4dD86IE9iamVjdCk6IHRoaXNcblx0ICogSXRlcmF0ZXMgb3ZlciB0aGUgbGF5ZXJzIG9mIHRoZSBtYXAsIG9wdGlvbmFsbHkgc3BlY2lmeWluZyBjb250ZXh0IG9mIHRoZSBpdGVyYXRvciBmdW5jdGlvbi5cblx0ICogYGBgXG5cdCAqIG1hcC5lYWNoTGF5ZXIoZnVuY3Rpb24obGF5ZXIpe1xuXHQgKiAgICAgbGF5ZXIuYmluZFBvcHVwKCdIZWxsbycpO1xuXHQgKiB9KTtcblx0ICogYGBgXG5cdCAqL1xuXHRlYWNoTGF5ZXI6IGZ1bmN0aW9uIChtZXRob2QsIGNvbnRleHQpIHtcblx0XHRmb3IgKHZhciBpIGluIHRoaXMuX2xheWVycykge1xuXHRcdFx0bWV0aG9kLmNhbGwoY29udGV4dCwgdGhpcy5fbGF5ZXJzW2ldKTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0X2FkZExheWVyczogZnVuY3Rpb24gKGxheWVycykge1xuXHRcdGxheWVycyA9IGxheWVycyA/IChMLlV0aWwuaXNBcnJheShsYXllcnMpID8gbGF5ZXJzIDogW2xheWVyc10pIDogW107XG5cblx0XHRmb3IgKHZhciBpID0gMCwgbGVuID0gbGF5ZXJzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG5cdFx0XHR0aGlzLmFkZExheWVyKGxheWVyc1tpXSk7XG5cdFx0fVxuXHR9LFxuXG5cdF9hZGRab29tTGltaXQ6IGZ1bmN0aW9uIChsYXllcikge1xuXHRcdGlmIChpc05hTihsYXllci5vcHRpb25zLm1heFpvb20pIHx8ICFpc05hTihsYXllci5vcHRpb25zLm1pblpvb20pKSB7XG5cdFx0XHR0aGlzLl96b29tQm91bmRMYXllcnNbTC5zdGFtcChsYXllcildID0gbGF5ZXI7XG5cdFx0XHR0aGlzLl91cGRhdGVab29tTGV2ZWxzKCk7XG5cdFx0fVxuXHR9LFxuXG5cdF9yZW1vdmVab29tTGltaXQ6IGZ1bmN0aW9uIChsYXllcikge1xuXHRcdHZhciBpZCA9IEwuc3RhbXAobGF5ZXIpO1xuXG5cdFx0aWYgKHRoaXMuX3pvb21Cb3VuZExheWVyc1tpZF0pIHtcblx0XHRcdGRlbGV0ZSB0aGlzLl96b29tQm91bmRMYXllcnNbaWRdO1xuXHRcdFx0dGhpcy5fdXBkYXRlWm9vbUxldmVscygpO1xuXHRcdH1cblx0fSxcblxuXHRfdXBkYXRlWm9vbUxldmVsczogZnVuY3Rpb24gKCkge1xuXHRcdHZhciBtaW5ab29tID0gSW5maW5pdHksXG5cdFx0ICAgIG1heFpvb20gPSAtSW5maW5pdHksXG5cdFx0ICAgIG9sZFpvb21TcGFuID0gdGhpcy5fZ2V0Wm9vbVNwYW4oKTtcblxuXHRcdGZvciAodmFyIGkgaW4gdGhpcy5fem9vbUJvdW5kTGF5ZXJzKSB7XG5cdFx0XHR2YXIgb3B0aW9ucyA9IHRoaXMuX3pvb21Cb3VuZExheWVyc1tpXS5vcHRpb25zO1xuXG5cdFx0XHRtaW5ab29tID0gb3B0aW9ucy5taW5ab29tID09PSB1bmRlZmluZWQgPyBtaW5ab29tIDogTWF0aC5taW4obWluWm9vbSwgb3B0aW9ucy5taW5ab29tKTtcblx0XHRcdG1heFpvb20gPSBvcHRpb25zLm1heFpvb20gPT09IHVuZGVmaW5lZCA/IG1heFpvb20gOiBNYXRoLm1heChtYXhab29tLCBvcHRpb25zLm1heFpvb20pO1xuXHRcdH1cblxuXHRcdHRoaXMuX2xheWVyc01heFpvb20gPSBtYXhab29tID09PSAtSW5maW5pdHkgPyB1bmRlZmluZWQgOiBtYXhab29tO1xuXHRcdHRoaXMuX2xheWVyc01pblpvb20gPSBtaW5ab29tID09PSBJbmZpbml0eSA/IHVuZGVmaW5lZCA6IG1pblpvb207XG5cblx0XHQvLyBAc2VjdGlvbiBNYXAgc3RhdGUgY2hhbmdlIGV2ZW50c1xuXHRcdC8vIEBldmVudCB6b29tbGV2ZWxzY2hhbmdlOiBFdmVudFxuXHRcdC8vIEZpcmVkIHdoZW4gdGhlIG51bWJlciBvZiB6b29tbGV2ZWxzIG9uIHRoZSBtYXAgaXMgY2hhbmdlZCBkdWVcblx0XHQvLyB0byBhZGRpbmcgb3IgcmVtb3ZpbmcgYSBsYXllci5cblx0XHRpZiAob2xkWm9vbVNwYW4gIT09IHRoaXMuX2dldFpvb21TcGFuKCkpIHtcblx0XHRcdHRoaXMuZmlyZSgnem9vbWxldmVsc2NoYW5nZScpO1xuXHRcdH1cblx0fVxufSk7XG5cbi8qXHJcbiAqIEBuYW1lc3BhY2UgUHJvamVjdGlvblxyXG4gKiBAcHJvamVjdGlvbiBMLlByb2plY3Rpb24uTWVyY2F0b3JcclxuICpcclxuICogRWxsaXB0aWNhbCBNZXJjYXRvciBwcm9qZWN0aW9uIOKAlCBtb3JlIGNvbXBsZXggdGhhbiBTcGhlcmljYWwgTWVyY2F0b3IuIFRha2VzIGludG8gYWNjb3VudCB0aGF0IEVhcnRoIGlzIGEgZ2VvaWQsIG5vdCBhIHBlcmZlY3Qgc3BoZXJlLiBVc2VkIGJ5IHRoZSBFUFNHOjMzOTUgQ1JTLlxyXG4gKi9cclxuXHJcbkwuUHJvamVjdGlvbi5NZXJjYXRvciA9IHtcclxuXHRSOiA2Mzc4MTM3LFxyXG5cdFJfTUlOT1I6IDYzNTY3NTIuMzE0MjQ1MTc5LFxyXG5cclxuXHRib3VuZHM6IEwuYm91bmRzKFstMjAwMzc1MDguMzQyNzksIC0xNTQ5NjU3MC43Mzk3Ml0sIFsyMDAzNzUwOC4zNDI3OSwgMTg3NjQ2NTYuMjMxMzhdKSxcclxuXHJcblx0cHJvamVjdDogZnVuY3Rpb24gKGxhdGxuZykge1xyXG5cdFx0dmFyIGQgPSBNYXRoLlBJIC8gMTgwLFxyXG5cdFx0ICAgIHIgPSB0aGlzLlIsXHJcblx0XHQgICAgeSA9IGxhdGxuZy5sYXQgKiBkLFxyXG5cdFx0ICAgIHRtcCA9IHRoaXMuUl9NSU5PUiAvIHIsXHJcblx0XHQgICAgZSA9IE1hdGguc3FydCgxIC0gdG1wICogdG1wKSxcclxuXHRcdCAgICBjb24gPSBlICogTWF0aC5zaW4oeSk7XHJcblxyXG5cdFx0dmFyIHRzID0gTWF0aC50YW4oTWF0aC5QSSAvIDQgLSB5IC8gMikgLyBNYXRoLnBvdygoMSAtIGNvbikgLyAoMSArIGNvbiksIGUgLyAyKTtcclxuXHRcdHkgPSAtciAqIE1hdGgubG9nKE1hdGgubWF4KHRzLCAxRS0xMCkpO1xyXG5cclxuXHRcdHJldHVybiBuZXcgTC5Qb2ludChsYXRsbmcubG5nICogZCAqIHIsIHkpO1xyXG5cdH0sXHJcblxyXG5cdHVucHJvamVjdDogZnVuY3Rpb24gKHBvaW50KSB7XHJcblx0XHR2YXIgZCA9IDE4MCAvIE1hdGguUEksXHJcblx0XHQgICAgciA9IHRoaXMuUixcclxuXHRcdCAgICB0bXAgPSB0aGlzLlJfTUlOT1IgLyByLFxyXG5cdFx0ICAgIGUgPSBNYXRoLnNxcnQoMSAtIHRtcCAqIHRtcCksXHJcblx0XHQgICAgdHMgPSBNYXRoLmV4cCgtcG9pbnQueSAvIHIpLFxyXG5cdFx0ICAgIHBoaSA9IE1hdGguUEkgLyAyIC0gMiAqIE1hdGguYXRhbih0cyk7XHJcblxyXG5cdFx0Zm9yICh2YXIgaSA9IDAsIGRwaGkgPSAwLjEsIGNvbjsgaSA8IDE1ICYmIE1hdGguYWJzKGRwaGkpID4gMWUtNzsgaSsrKSB7XHJcblx0XHRcdGNvbiA9IGUgKiBNYXRoLnNpbihwaGkpO1xyXG5cdFx0XHRjb24gPSBNYXRoLnBvdygoMSAtIGNvbikgLyAoMSArIGNvbiksIGUgLyAyKTtcclxuXHRcdFx0ZHBoaSA9IE1hdGguUEkgLyAyIC0gMiAqIE1hdGguYXRhbih0cyAqIGNvbikgLSBwaGk7XHJcblx0XHRcdHBoaSArPSBkcGhpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBuZXcgTC5MYXRMbmcocGhpICogZCwgcG9pbnQueCAqIGQgLyByKTtcclxuXHR9XHJcbn07XHJcblxuLypcclxuICogQG5hbWVzcGFjZSBDUlNcclxuICogQGNycyBMLkNSUy5FUFNHMzM5NVxyXG4gKlxyXG4gKiBSYXJlbHkgdXNlZCBieSBzb21lIGNvbW1lcmNpYWwgdGlsZSBwcm92aWRlcnMuIFVzZXMgRWxsaXB0aWNhbCBNZXJjYXRvciBwcm9qZWN0aW9uLlxyXG4gKi9cclxuXHJcbkwuQ1JTLkVQU0czMzk1ID0gTC5leHRlbmQoe30sIEwuQ1JTLkVhcnRoLCB7XHJcblx0Y29kZTogJ0VQU0c6MzM5NScsXHJcblx0cHJvamVjdGlvbjogTC5Qcm9qZWN0aW9uLk1lcmNhdG9yLFxyXG5cclxuXHR0cmFuc2Zvcm1hdGlvbjogKGZ1bmN0aW9uICgpIHtcclxuXHRcdHZhciBzY2FsZSA9IDAuNSAvIChNYXRoLlBJICogTC5Qcm9qZWN0aW9uLk1lcmNhdG9yLlIpO1xyXG5cdFx0cmV0dXJuIG5ldyBMLlRyYW5zZm9ybWF0aW9uKHNjYWxlLCAwLjUsIC1zY2FsZSwgMC41KTtcclxuXHR9KCkpXHJcbn0pO1xyXG5cbi8qXG4gKiBAY2xhc3MgR3JpZExheWVyXG4gKiBAaW5oZXJpdHMgTGF5ZXJcbiAqIEBha2EgTC5HcmlkTGF5ZXJcbiAqXG4gKiBHZW5lcmljIGNsYXNzIGZvciBoYW5kbGluZyBhIHRpbGVkIGdyaWQgb2YgSFRNTCBlbGVtZW50cy4gVGhpcyBpcyB0aGUgYmFzZSBjbGFzcyBmb3IgYWxsIHRpbGUgbGF5ZXJzIGFuZCByZXBsYWNlcyBgVGlsZUxheWVyLkNhbnZhc2AuXG4gKiBHcmlkTGF5ZXIgY2FuIGJlIGV4dGVuZGVkIHRvIGNyZWF0ZSBhIHRpbGVkIGdyaWQgb2YgSFRNTCBlbGVtZW50cyBsaWtlIGA8Y2FudmFzPmAsIGA8aW1nPmAgb3IgYDxkaXY+YC4gR3JpZExheWVyIHdpbGwgaGFuZGxlIGNyZWF0aW5nIGFuZCBhbmltYXRpbmcgdGhlc2UgRE9NIGVsZW1lbnRzIGZvciB5b3UuXG4gKlxuICpcbiAqIEBzZWN0aW9uIFN5bmNocm9ub3VzIHVzYWdlXG4gKiBAZXhhbXBsZVxuICpcbiAqIFRvIGNyZWF0ZSBhIGN1c3RvbSBsYXllciwgZXh0ZW5kIEdyaWRMYXllciBhbmQgaW1wbGVtZW50IHRoZSBgY3JlYXRlVGlsZSgpYCBtZXRob2QsIHdoaWNoIHdpbGwgYmUgcGFzc2VkIGEgYFBvaW50YCBvYmplY3Qgd2l0aCB0aGUgYHhgLCBgeWAsIGFuZCBgemAgKHpvb20gbGV2ZWwpIGNvb3JkaW5hdGVzIHRvIGRyYXcgeW91ciB0aWxlLlxuICpcbiAqIGBgYGpzXG4gKiB2YXIgQ2FudmFzTGF5ZXIgPSBMLkdyaWRMYXllci5leHRlbmQoe1xuICogICAgIGNyZWF0ZVRpbGU6IGZ1bmN0aW9uKGNvb3Jkcyl7XG4gKiAgICAgICAgIC8vIGNyZWF0ZSBhIDxjYW52YXM+IGVsZW1lbnQgZm9yIGRyYXdpbmdcbiAqICAgICAgICAgdmFyIHRpbGUgPSBMLkRvbVV0aWwuY3JlYXRlKCdjYW52YXMnLCAnbGVhZmxldC10aWxlJyk7XG4gKlxuICogICAgICAgICAvLyBzZXR1cCB0aWxlIHdpZHRoIGFuZCBoZWlnaHQgYWNjb3JkaW5nIHRvIHRoZSBvcHRpb25zXG4gKiAgICAgICAgIHZhciBzaXplID0gdGhpcy5nZXRUaWxlU2l6ZSgpO1xuICogICAgICAgICB0aWxlLndpZHRoID0gc2l6ZS54O1xuICogICAgICAgICB0aWxlLmhlaWdodCA9IHNpemUueTtcbiAqXG4gKiAgICAgICAgIC8vIGdldCBhIGNhbnZhcyBjb250ZXh0IGFuZCBkcmF3IHNvbWV0aGluZyBvbiBpdCB1c2luZyBjb29yZHMueCwgY29vcmRzLnkgYW5kIGNvb3Jkcy56XG4gKiAgICAgICAgIHZhciBjdHggPSB0aWxlLmdldENvbnRleHQoJzJkJyk7XG4gKlxuICogICAgICAgICAvLyByZXR1cm4gdGhlIHRpbGUgc28gaXQgY2FuIGJlIHJlbmRlcmVkIG9uIHNjcmVlblxuICogICAgICAgICByZXR1cm4gdGlsZTtcbiAqICAgICB9XG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEBzZWN0aW9uIEFzeW5jaHJvbm91cyB1c2FnZVxuICogQGV4YW1wbGVcbiAqXG4gKiBUaWxlIGNyZWF0aW9uIGNhbiBhbHNvIGJlIGFzeW5jaHJvbm91cywgdGhpcyBpcyB1c2VmdWwgd2hlbiB1c2luZyBhIHRoaXJkLXBhcnR5IGRyYXdpbmcgbGlicmFyeS4gT25jZSB0aGUgdGlsZSBpcyBmaW5pc2hlZCBkcmF3aW5nIGl0IGNhbiBiZSBwYXNzZWQgdG8gdGhlIGBkb25lKClgIGNhbGxiYWNrLlxuICpcbiAqIGBgYGpzXG4gKiB2YXIgQ2FudmFzTGF5ZXIgPSBMLkdyaWRMYXllci5leHRlbmQoe1xuICogICAgIGNyZWF0ZVRpbGU6IGZ1bmN0aW9uKGNvb3JkcywgZG9uZSl7XG4gKiAgICAgICAgIHZhciBlcnJvcjtcbiAqXG4gKiAgICAgICAgIC8vIGNyZWF0ZSBhIDxjYW52YXM+IGVsZW1lbnQgZm9yIGRyYXdpbmdcbiAqICAgICAgICAgdmFyIHRpbGUgPSBMLkRvbVV0aWwuY3JlYXRlKCdjYW52YXMnLCAnbGVhZmxldC10aWxlJyk7XG4gKlxuICogICAgICAgICAvLyBzZXR1cCB0aWxlIHdpZHRoIGFuZCBoZWlnaHQgYWNjb3JkaW5nIHRvIHRoZSBvcHRpb25zXG4gKiAgICAgICAgIHZhciBzaXplID0gdGhpcy5nZXRUaWxlU2l6ZSgpO1xuICogICAgICAgICB0aWxlLndpZHRoID0gc2l6ZS54O1xuICogICAgICAgICB0aWxlLmhlaWdodCA9IHNpemUueTtcbiAqXG4gKiAgICAgICAgIC8vIGRyYXcgc29tZXRoaW5nIGFzeW5jaHJvbm91c2x5IGFuZCBwYXNzIHRoZSB0aWxlIHRvIHRoZSBkb25lKCkgY2FsbGJhY2tcbiAqICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAqICAgICAgICAgICAgIGRvbmUoZXJyb3IsIHRpbGUpO1xuICogICAgICAgICB9LCAxMDAwKTtcbiAqXG4gKiAgICAgICAgIHJldHVybiB0aWxlO1xuICogICAgIH1cbiAqIH0pO1xuICogYGBgXG4gKlxuICogQHNlY3Rpb25cbiAqL1xuXG5cbkwuR3JpZExheWVyID0gTC5MYXllci5leHRlbmQoe1xuXG5cdC8vIEBzZWN0aW9uXG5cdC8vIEBha2EgR3JpZExheWVyIG9wdGlvbnNcblx0b3B0aW9uczoge1xuXHRcdC8vIEBvcHRpb24gdGlsZVNpemU6IE51bWJlcnxQb2ludCA9IDI1NlxuXHRcdC8vIFdpZHRoIGFuZCBoZWlnaHQgb2YgdGlsZXMgaW4gdGhlIGdyaWQuIFVzZSBhIG51bWJlciBpZiB3aWR0aCBhbmQgaGVpZ2h0IGFyZSBlcXVhbCwgb3IgYEwucG9pbnQod2lkdGgsIGhlaWdodClgIG90aGVyd2lzZS5cblx0XHR0aWxlU2l6ZTogMjU2LFxuXG5cdFx0Ly8gQG9wdGlvbiBvcGFjaXR5OiBOdW1iZXIgPSAxLjBcblx0XHQvLyBPcGFjaXR5IG9mIHRoZSB0aWxlcy4gQ2FuIGJlIHVzZWQgaW4gdGhlIGBjcmVhdGVUaWxlKClgIGZ1bmN0aW9uLlxuXHRcdG9wYWNpdHk6IDEsXG5cblx0XHQvLyBAb3B0aW9uIHVwZGF0ZVdoZW5JZGxlOiBCb29sZWFuID0gZGVwZW5kc1xuXHRcdC8vIElmIGBmYWxzZWAsIG5ldyB0aWxlcyBhcmUgbG9hZGVkIGR1cmluZyBwYW5uaW5nLCBvdGhlcndpc2Ugb25seSBhZnRlciBpdCAoZm9yIGJldHRlciBwZXJmb3JtYW5jZSkuIGB0cnVlYCBieSBkZWZhdWx0IG9uIG1vYmlsZSBicm93c2Vycywgb3RoZXJ3aXNlIGBmYWxzZWAuXG5cdFx0dXBkYXRlV2hlbklkbGU6IEwuQnJvd3Nlci5tb2JpbGUsXG5cblx0XHQvLyBAb3B0aW9uIHVwZGF0ZVdoZW5ab29taW5nOiBCb29sZWFuID0gdHJ1ZVxuXHRcdC8vIEJ5IGRlZmF1bHQsIGEgc21vb3RoIHpvb20gYW5pbWF0aW9uIChkdXJpbmcgYSBbdG91Y2ggem9vbV0oI21hcC10b3VjaHpvb20pIG9yIGEgW2BmbHlUbygpYF0oI21hcC1mbHl0bykpIHdpbGwgdXBkYXRlIGdyaWQgbGF5ZXJzIGV2ZXJ5IGludGVnZXIgem9vbSBsZXZlbC4gU2V0dGluZyB0aGlzIG9wdGlvbiB0byBgZmFsc2VgIHdpbGwgdXBkYXRlIHRoZSBncmlkIGxheWVyIG9ubHkgd2hlbiB0aGUgc21vb3RoIGFuaW1hdGlvbiBlbmRzLlxuXHRcdHVwZGF0ZVdoZW5ab29taW5nOiB0cnVlLFxuXG5cdFx0Ly8gQG9wdGlvbiB1cGRhdGVJbnRlcnZhbDogTnVtYmVyID0gMjAwXG5cdFx0Ly8gVGlsZXMgd2lsbCBub3QgdXBkYXRlIG1vcmUgdGhhbiBvbmNlIGV2ZXJ5IGB1cGRhdGVJbnRlcnZhbGAgbWlsbGlzZWNvbmRzIHdoZW4gcGFubmluZy5cblx0XHR1cGRhdGVJbnRlcnZhbDogMjAwLFxuXG5cdFx0Ly8gQG9wdGlvbiBhdHRyaWJ1dGlvbjogU3RyaW5nID0gbnVsbFxuXHRcdC8vIFN0cmluZyB0byBiZSBzaG93biBpbiB0aGUgYXR0cmlidXRpb24gY29udHJvbCwgZGVzY3JpYmVzIHRoZSBsYXllciBkYXRhLCBlLmcuIFwiwqkgTWFwYm94XCIuXG5cdFx0YXR0cmlidXRpb246IG51bGwsXG5cblx0XHQvLyBAb3B0aW9uIHpJbmRleDogTnVtYmVyID0gMVxuXHRcdC8vIFRoZSBleHBsaWNpdCB6SW5kZXggb2YgdGhlIHRpbGUgbGF5ZXIuXG5cdFx0ekluZGV4OiAxLFxuXG5cdFx0Ly8gQG9wdGlvbiBib3VuZHM6IExhdExuZ0JvdW5kcyA9IHVuZGVmaW5lZFxuXHRcdC8vIElmIHNldCwgdGlsZXMgd2lsbCBvbmx5IGJlIGxvYWRlZCBpbnNpZGUgdGhlIHNldCBgTGF0TG5nQm91bmRzYC5cblx0XHRib3VuZHM6IG51bGwsXG5cblx0XHQvLyBAb3B0aW9uIG1pblpvb206IE51bWJlciA9IDBcblx0XHQvLyBUaGUgbWluaW11bSB6b29tIGxldmVsIHRoYXQgdGlsZXMgd2lsbCBiZSBsb2FkZWQgYXQuIEJ5IGRlZmF1bHQgdGhlIGVudGlyZSBtYXAuXG5cdFx0bWluWm9vbTogMCxcblxuXHRcdC8vIEBvcHRpb24gbWF4Wm9vbTogTnVtYmVyID0gdW5kZWZpbmVkXG5cdFx0Ly8gVGhlIG1heGltdW0gem9vbSBsZXZlbCB0aGF0IHRpbGVzIHdpbGwgYmUgbG9hZGVkIGF0LlxuXHRcdG1heFpvb206IHVuZGVmaW5lZCxcblxuXHRcdC8vIEBvcHRpb24gbm9XcmFwOiBCb29sZWFuID0gZmFsc2Vcblx0XHQvLyBXaGV0aGVyIHRoZSBsYXllciBpcyB3cmFwcGVkIGFyb3VuZCB0aGUgYW50aW1lcmlkaWFuLiBJZiBgdHJ1ZWAsIHRoZVxuXHRcdC8vIEdyaWRMYXllciB3aWxsIG9ubHkgYmUgZGlzcGxheWVkIG9uY2UgYXQgbG93IHpvb20gbGV2ZWxzLiBIYXMgbm9cblx0XHQvLyBlZmZlY3Qgd2hlbiB0aGUgW21hcCBDUlNdKCNtYXAtY3JzKSBkb2Vzbid0IHdyYXAgYXJvdW5kLlxuXHRcdG5vV3JhcDogZmFsc2UsXG5cblx0XHQvLyBAb3B0aW9uIHBhbmU6IFN0cmluZyA9ICd0aWxlUGFuZSdcblx0XHQvLyBgTWFwIHBhbmVgIHdoZXJlIHRoZSBncmlkIGxheWVyIHdpbGwgYmUgYWRkZWQuXG5cdFx0cGFuZTogJ3RpbGVQYW5lJyxcblxuXHRcdC8vIEBvcHRpb24gY2xhc3NOYW1lOiBTdHJpbmcgPSAnJ1xuXHRcdC8vIEEgY3VzdG9tIGNsYXNzIG5hbWUgdG8gYXNzaWduIHRvIHRoZSB0aWxlIGxheWVyLiBFbXB0eSBieSBkZWZhdWx0LlxuXHRcdGNsYXNzTmFtZTogJycsXG5cblx0XHQvLyBAb3B0aW9uIGtlZXBCdWZmZXI6IE51bWJlciA9IDJcblx0XHQvLyBXaGVuIHBhbm5pbmcgdGhlIG1hcCwga2VlcCB0aGlzIG1hbnkgcm93cyBhbmQgY29sdW1ucyBvZiB0aWxlcyBiZWZvcmUgdW5sb2FkaW5nIHRoZW0uXG5cdFx0a2VlcEJ1ZmZlcjogMlxuXHR9LFxuXG5cdGluaXRpYWxpemU6IGZ1bmN0aW9uIChvcHRpb25zKSB7XG5cdFx0TC5zZXRPcHRpb25zKHRoaXMsIG9wdGlvbnMpO1xuXHR9LFxuXG5cdG9uQWRkOiBmdW5jdGlvbiAoKSB7XG5cdFx0dGhpcy5faW5pdENvbnRhaW5lcigpO1xuXG5cdFx0dGhpcy5fbGV2ZWxzID0ge307XG5cdFx0dGhpcy5fdGlsZXMgPSB7fTtcblxuXHRcdHRoaXMuX3Jlc2V0VmlldygpO1xuXHRcdHRoaXMuX3VwZGF0ZSgpO1xuXHR9LFxuXG5cdGJlZm9yZUFkZDogZnVuY3Rpb24gKG1hcCkge1xuXHRcdG1hcC5fYWRkWm9vbUxpbWl0KHRoaXMpO1xuXHR9LFxuXG5cdG9uUmVtb3ZlOiBmdW5jdGlvbiAobWFwKSB7XG5cdFx0dGhpcy5fcmVtb3ZlQWxsVGlsZXMoKTtcblx0XHRMLkRvbVV0aWwucmVtb3ZlKHRoaXMuX2NvbnRhaW5lcik7XG5cdFx0bWFwLl9yZW1vdmVab29tTGltaXQodGhpcyk7XG5cdFx0dGhpcy5fY29udGFpbmVyID0gbnVsbDtcblx0XHR0aGlzLl90aWxlWm9vbSA9IG51bGw7XG5cdH0sXG5cblx0Ly8gQG1ldGhvZCBicmluZ1RvRnJvbnQ6IHRoaXNcblx0Ly8gQnJpbmdzIHRoZSB0aWxlIGxheWVyIHRvIHRoZSB0b3Agb2YgYWxsIHRpbGUgbGF5ZXJzLlxuXHRicmluZ1RvRnJvbnQ6IGZ1bmN0aW9uICgpIHtcblx0XHRpZiAodGhpcy5fbWFwKSB7XG5cdFx0XHRMLkRvbVV0aWwudG9Gcm9udCh0aGlzLl9jb250YWluZXIpO1xuXHRcdFx0dGhpcy5fc2V0QXV0b1pJbmRleChNYXRoLm1heCk7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzO1xuXHR9LFxuXG5cdC8vIEBtZXRob2QgYnJpbmdUb0JhY2s6IHRoaXNcblx0Ly8gQnJpbmdzIHRoZSB0aWxlIGxheWVyIHRvIHRoZSBib3R0b20gb2YgYWxsIHRpbGUgbGF5ZXJzLlxuXHRicmluZ1RvQmFjazogZnVuY3Rpb24gKCkge1xuXHRcdGlmICh0aGlzLl9tYXApIHtcblx0XHRcdEwuRG9tVXRpbC50b0JhY2sodGhpcy5fY29udGFpbmVyKTtcblx0XHRcdHRoaXMuX3NldEF1dG9aSW5kZXgoTWF0aC5taW4pO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHQvLyBAbWV0aG9kIGdldEF0dHJpYnV0aW9uOiBTdHJpbmdcblx0Ly8gVXNlZCBieSB0aGUgYGF0dHJpYnV0aW9uIGNvbnRyb2xgLCByZXR1cm5zIHRoZSBbYXR0cmlidXRpb24gb3B0aW9uXSgjZ3JpZGxheWVyLWF0dHJpYnV0aW9uKS5cblx0Z2V0QXR0cmlidXRpb246IGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gdGhpcy5vcHRpb25zLmF0dHJpYnV0aW9uO1xuXHR9LFxuXG5cdC8vIEBtZXRob2QgZ2V0Q29udGFpbmVyOiBIVE1MRWxlbWVudFxuXHQvLyBSZXR1cm5zIHRoZSBIVE1MIGVsZW1lbnQgdGhhdCBjb250YWlucyB0aGUgdGlsZXMgZm9yIHRoaXMgbGF5ZXIuXG5cdGdldENvbnRhaW5lcjogZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiB0aGlzLl9jb250YWluZXI7XG5cdH0sXG5cblx0Ly8gQG1ldGhvZCBzZXRPcGFjaXR5KG9wYWNpdHk6IE51bWJlcik6IHRoaXNcblx0Ly8gQ2hhbmdlcyB0aGUgW29wYWNpdHldKCNncmlkbGF5ZXItb3BhY2l0eSkgb2YgdGhlIGdyaWQgbGF5ZXIuXG5cdHNldE9wYWNpdHk6IGZ1bmN0aW9uIChvcGFjaXR5KSB7XG5cdFx0dGhpcy5vcHRpb25zLm9wYWNpdHkgPSBvcGFjaXR5O1xuXHRcdHRoaXMuX3VwZGF0ZU9wYWNpdHkoKTtcblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHQvLyBAbWV0aG9kIHNldFpJbmRleCh6SW5kZXg6IE51bWJlcik6IHRoaXNcblx0Ly8gQ2hhbmdlcyB0aGUgW3pJbmRleF0oI2dyaWRsYXllci16aW5kZXgpIG9mIHRoZSBncmlkIGxheWVyLlxuXHRzZXRaSW5kZXg6IGZ1bmN0aW9uICh6SW5kZXgpIHtcblx0XHR0aGlzLm9wdGlvbnMuekluZGV4ID0gekluZGV4O1xuXHRcdHRoaXMuX3VwZGF0ZVpJbmRleCgpO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0Ly8gQG1ldGhvZCBpc0xvYWRpbmc6IEJvb2xlYW5cblx0Ly8gUmV0dXJucyBgdHJ1ZWAgaWYgYW55IHRpbGUgaW4gdGhlIGdyaWQgbGF5ZXIgaGFzIG5vdCBmaW5pc2hlZCBsb2FkaW5nLlxuXHRpc0xvYWRpbmc6IGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gdGhpcy5fbG9hZGluZztcblx0fSxcblxuXHQvLyBAbWV0aG9kIHJlZHJhdzogdGhpc1xuXHQvLyBDYXVzZXMgdGhlIGxheWVyIHRvIGNsZWFyIGFsbCB0aGUgdGlsZXMgYW5kIHJlcXVlc3QgdGhlbSBhZ2Fpbi5cblx0cmVkcmF3OiBmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKHRoaXMuX21hcCkge1xuXHRcdFx0dGhpcy5fcmVtb3ZlQWxsVGlsZXMoKTtcblx0XHRcdHRoaXMuX3VwZGF0ZSgpO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHRnZXRFdmVudHM6IGZ1bmN0aW9uICgpIHtcblx0XHR2YXIgZXZlbnRzID0ge1xuXHRcdFx0dmlld3ByZXJlc2V0OiB0aGlzLl9pbnZhbGlkYXRlQWxsLFxuXHRcdFx0dmlld3Jlc2V0OiB0aGlzLl9yZXNldFZpZXcsXG5cdFx0XHR6b29tOiB0aGlzLl9yZXNldFZpZXcsXG5cdFx0XHRtb3ZlZW5kOiB0aGlzLl9vbk1vdmVFbmRcblx0XHR9O1xuXG5cdFx0aWYgKCF0aGlzLm9wdGlvbnMudXBkYXRlV2hlbklkbGUpIHtcblx0XHRcdC8vIHVwZGF0ZSB0aWxlcyBvbiBtb3ZlLCBidXQgbm90IG1vcmUgb2Z0ZW4gdGhhbiBvbmNlIHBlciBnaXZlbiBpbnRlcnZhbFxuXHRcdFx0aWYgKCF0aGlzLl9vbk1vdmUpIHtcblx0XHRcdFx0dGhpcy5fb25Nb3ZlID0gTC5VdGlsLnRocm90dGxlKHRoaXMuX29uTW92ZUVuZCwgdGhpcy5vcHRpb25zLnVwZGF0ZUludGVydmFsLCB0aGlzKTtcblx0XHRcdH1cblxuXHRcdFx0ZXZlbnRzLm1vdmUgPSB0aGlzLl9vbk1vdmU7XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuX3pvb21BbmltYXRlZCkge1xuXHRcdFx0ZXZlbnRzLnpvb21hbmltID0gdGhpcy5fYW5pbWF0ZVpvb207XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGV2ZW50cztcblx0fSxcblxuXHQvLyBAc2VjdGlvbiBFeHRlbnNpb24gbWV0aG9kc1xuXHQvLyBMYXllcnMgZXh0ZW5kaW5nIGBHcmlkTGF5ZXJgIHNoYWxsIHJlaW1wbGVtZW50IHRoZSBmb2xsb3dpbmcgbWV0aG9kLlxuXHQvLyBAbWV0aG9kIGNyZWF0ZVRpbGUoY29vcmRzOiBPYmplY3QsIGRvbmU/OiBGdW5jdGlvbik6IEhUTUxFbGVtZW50XG5cdC8vIENhbGxlZCBvbmx5IGludGVybmFsbHksIG11c3QgYmUgb3ZlcnJpZGVuIGJ5IGNsYXNzZXMgZXh0ZW5kaW5nIGBHcmlkTGF5ZXJgLlxuXHQvLyBSZXR1cm5zIHRoZSBgSFRNTEVsZW1lbnRgIGNvcnJlc3BvbmRpbmcgdG8gdGhlIGdpdmVuIGBjb29yZHNgLiBJZiB0aGUgYGRvbmVgIGNhbGxiYWNrXG5cdC8vIGlzIHNwZWNpZmllZCwgaXQgbXVzdCBiZSBjYWxsZWQgd2hlbiB0aGUgdGlsZSBoYXMgZmluaXNoZWQgbG9hZGluZyBhbmQgZHJhd2luZy5cblx0Y3JlYXRlVGlsZTogZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0fSxcblxuXHQvLyBAc2VjdGlvblxuXHQvLyBAbWV0aG9kIGdldFRpbGVTaXplOiBQb2ludFxuXHQvLyBOb3JtYWxpemVzIHRoZSBbdGlsZVNpemUgb3B0aW9uXSgjZ3JpZGxheWVyLXRpbGVzaXplKSBpbnRvIGEgcG9pbnQuIFVzZWQgYnkgdGhlIGBjcmVhdGVUaWxlKClgIG1ldGhvZC5cblx0Z2V0VGlsZVNpemU6IGZ1bmN0aW9uICgpIHtcblx0XHR2YXIgcyA9IHRoaXMub3B0aW9ucy50aWxlU2l6ZTtcblx0XHRyZXR1cm4gcyBpbnN0YW5jZW9mIEwuUG9pbnQgPyBzIDogbmV3IEwuUG9pbnQocywgcyk7XG5cdH0sXG5cblx0X3VwZGF0ZVpJbmRleDogZnVuY3Rpb24gKCkge1xuXHRcdGlmICh0aGlzLl9jb250YWluZXIgJiYgdGhpcy5vcHRpb25zLnpJbmRleCAhPT0gdW5kZWZpbmVkICYmIHRoaXMub3B0aW9ucy56SW5kZXggIT09IG51bGwpIHtcblx0XHRcdHRoaXMuX2NvbnRhaW5lci5zdHlsZS56SW5kZXggPSB0aGlzLm9wdGlvbnMuekluZGV4O1xuXHRcdH1cblx0fSxcblxuXHRfc2V0QXV0b1pJbmRleDogZnVuY3Rpb24gKGNvbXBhcmUpIHtcblx0XHQvLyBnbyB0aHJvdWdoIGFsbCBvdGhlciBsYXllcnMgb2YgdGhlIHNhbWUgcGFuZSwgc2V0IHpJbmRleCB0byBtYXggKyAxIChmcm9udCkgb3IgbWluIC0gMSAoYmFjaylcblxuXHRcdHZhciBsYXllcnMgPSB0aGlzLmdldFBhbmUoKS5jaGlsZHJlbixcblx0XHQgICAgZWRnZVpJbmRleCA9IC1jb21wYXJlKC1JbmZpbml0eSwgSW5maW5pdHkpOyAvLyAtSW5maW5pdHkgZm9yIG1heCwgSW5maW5pdHkgZm9yIG1pblxuXG5cdFx0Zm9yICh2YXIgaSA9IDAsIGxlbiA9IGxheWVycy5sZW5ndGgsIHpJbmRleDsgaSA8IGxlbjsgaSsrKSB7XG5cblx0XHRcdHpJbmRleCA9IGxheWVyc1tpXS5zdHlsZS56SW5kZXg7XG5cblx0XHRcdGlmIChsYXllcnNbaV0gIT09IHRoaXMuX2NvbnRhaW5lciAmJiB6SW5kZXgpIHtcblx0XHRcdFx0ZWRnZVpJbmRleCA9IGNvbXBhcmUoZWRnZVpJbmRleCwgK3pJbmRleCk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKGlzRmluaXRlKGVkZ2VaSW5kZXgpKSB7XG5cdFx0XHR0aGlzLm9wdGlvbnMuekluZGV4ID0gZWRnZVpJbmRleCArIGNvbXBhcmUoLTEsIDEpO1xuXHRcdFx0dGhpcy5fdXBkYXRlWkluZGV4KCk7XG5cdFx0fVxuXHR9LFxuXG5cdF91cGRhdGVPcGFjaXR5OiBmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKCF0aGlzLl9tYXApIHsgcmV0dXJuOyB9XG5cblx0XHQvLyBJRSBkb2Vzbid0IGluaGVyaXQgZmlsdGVyIG9wYWNpdHkgcHJvcGVybHksIHNvIHdlJ3JlIGZvcmNlZCB0byBzZXQgaXQgb24gdGlsZXNcblx0XHRpZiAoTC5Ccm93c2VyLmllbHQ5KSB7IHJldHVybjsgfVxuXG5cdFx0TC5Eb21VdGlsLnNldE9wYWNpdHkodGhpcy5fY29udGFpbmVyLCB0aGlzLm9wdGlvbnMub3BhY2l0eSk7XG5cblx0XHR2YXIgbm93ID0gK25ldyBEYXRlKCksXG5cdFx0ICAgIG5leHRGcmFtZSA9IGZhbHNlLFxuXHRcdCAgICB3aWxsUHJ1bmUgPSBmYWxzZTtcblxuXHRcdGZvciAodmFyIGtleSBpbiB0aGlzLl90aWxlcykge1xuXHRcdFx0dmFyIHRpbGUgPSB0aGlzLl90aWxlc1trZXldO1xuXHRcdFx0aWYgKCF0aWxlLmN1cnJlbnQgfHwgIXRpbGUubG9hZGVkKSB7IGNvbnRpbnVlOyB9XG5cblx0XHRcdHZhciBmYWRlID0gTWF0aC5taW4oMSwgKG5vdyAtIHRpbGUubG9hZGVkKSAvIDIwMCk7XG5cblx0XHRcdEwuRG9tVXRpbC5zZXRPcGFjaXR5KHRpbGUuZWwsIGZhZGUpO1xuXHRcdFx0aWYgKGZhZGUgPCAxKSB7XG5cdFx0XHRcdG5leHRGcmFtZSA9IHRydWU7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpZiAodGlsZS5hY3RpdmUpIHsgd2lsbFBydW5lID0gdHJ1ZTsgfVxuXHRcdFx0XHR0aWxlLmFjdGl2ZSA9IHRydWU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKHdpbGxQcnVuZSAmJiAhdGhpcy5fbm9QcnVuZSkgeyB0aGlzLl9wcnVuZVRpbGVzKCk7IH1cblxuXHRcdGlmIChuZXh0RnJhbWUpIHtcblx0XHRcdEwuVXRpbC5jYW5jZWxBbmltRnJhbWUodGhpcy5fZmFkZUZyYW1lKTtcblx0XHRcdHRoaXMuX2ZhZGVGcmFtZSA9IEwuVXRpbC5yZXF1ZXN0QW5pbUZyYW1lKHRoaXMuX3VwZGF0ZU9wYWNpdHksIHRoaXMpO1xuXHRcdH1cblx0fSxcblxuXHRfaW5pdENvbnRhaW5lcjogZnVuY3Rpb24gKCkge1xuXHRcdGlmICh0aGlzLl9jb250YWluZXIpIHsgcmV0dXJuOyB9XG5cblx0XHR0aGlzLl9jb250YWluZXIgPSBMLkRvbVV0aWwuY3JlYXRlKCdkaXYnLCAnbGVhZmxldC1sYXllciAnICsgKHRoaXMub3B0aW9ucy5jbGFzc05hbWUgfHwgJycpKTtcblx0XHR0aGlzLl91cGRhdGVaSW5kZXgoKTtcblxuXHRcdGlmICh0aGlzLm9wdGlvbnMub3BhY2l0eSA8IDEpIHtcblx0XHRcdHRoaXMuX3VwZGF0ZU9wYWNpdHkoKTtcblx0XHR9XG5cblx0XHR0aGlzLmdldFBhbmUoKS5hcHBlbmRDaGlsZCh0aGlzLl9jb250YWluZXIpO1xuXHR9LFxuXG5cdF91cGRhdGVMZXZlbHM6IGZ1bmN0aW9uICgpIHtcblxuXHRcdHZhciB6b29tID0gdGhpcy5fdGlsZVpvb20sXG5cdFx0ICAgIG1heFpvb20gPSB0aGlzLm9wdGlvbnMubWF4Wm9vbTtcblxuXHRcdGlmICh6b29tID09PSB1bmRlZmluZWQpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfVxuXG5cdFx0Zm9yICh2YXIgeiBpbiB0aGlzLl9sZXZlbHMpIHtcblx0XHRcdGlmICh0aGlzLl9sZXZlbHNbel0uZWwuY2hpbGRyZW4ubGVuZ3RoIHx8IHogPT09IHpvb20pIHtcblx0XHRcdFx0dGhpcy5fbGV2ZWxzW3pdLmVsLnN0eWxlLnpJbmRleCA9IG1heFpvb20gLSBNYXRoLmFicyh6b29tIC0geik7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRMLkRvbVV0aWwucmVtb3ZlKHRoaXMuX2xldmVsc1t6XS5lbCk7XG5cdFx0XHRcdHRoaXMuX3JlbW92ZVRpbGVzQXRab29tKHopO1xuXHRcdFx0XHRkZWxldGUgdGhpcy5fbGV2ZWxzW3pdO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHZhciBsZXZlbCA9IHRoaXMuX2xldmVsc1t6b29tXSxcblx0XHQgICAgbWFwID0gdGhpcy5fbWFwO1xuXG5cdFx0aWYgKCFsZXZlbCkge1xuXHRcdFx0bGV2ZWwgPSB0aGlzLl9sZXZlbHNbem9vbV0gPSB7fTtcblxuXHRcdFx0bGV2ZWwuZWwgPSBMLkRvbVV0aWwuY3JlYXRlKCdkaXYnLCAnbGVhZmxldC10aWxlLWNvbnRhaW5lciBsZWFmbGV0LXpvb20tYW5pbWF0ZWQnLCB0aGlzLl9jb250YWluZXIpO1xuXHRcdFx0bGV2ZWwuZWwuc3R5bGUuekluZGV4ID0gbWF4Wm9vbTtcblxuXHRcdFx0bGV2ZWwub3JpZ2luID0gbWFwLnByb2plY3QobWFwLnVucHJvamVjdChtYXAuZ2V0UGl4ZWxPcmlnaW4oKSksIHpvb20pLnJvdW5kKCk7XG5cdFx0XHRsZXZlbC56b29tID0gem9vbTtcblxuXHRcdFx0dGhpcy5fc2V0Wm9vbVRyYW5zZm9ybShsZXZlbCwgbWFwLmdldENlbnRlcigpLCBtYXAuZ2V0Wm9vbSgpKTtcblxuXHRcdFx0Ly8gZm9yY2UgdGhlIGJyb3dzZXIgdG8gY29uc2lkZXIgdGhlIG5ld2x5IGFkZGVkIGVsZW1lbnQgZm9yIHRyYW5zaXRpb25cblx0XHRcdEwuVXRpbC5mYWxzZUZuKGxldmVsLmVsLm9mZnNldFdpZHRoKTtcblx0XHR9XG5cblx0XHR0aGlzLl9sZXZlbCA9IGxldmVsO1xuXG5cdFx0cmV0dXJuIGxldmVsO1xuXHR9LFxuXG5cdF9wcnVuZVRpbGVzOiBmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKCF0aGlzLl9tYXApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR2YXIga2V5LCB0aWxlO1xuXG5cdFx0dmFyIHpvb20gPSB0aGlzLl9tYXAuZ2V0Wm9vbSgpO1xuXHRcdGlmICh6b29tID4gdGhpcy5vcHRpb25zLm1heFpvb20gfHxcblx0XHRcdHpvb20gPCB0aGlzLm9wdGlvbnMubWluWm9vbSkge1xuXHRcdFx0dGhpcy5fcmVtb3ZlQWxsVGlsZXMoKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRmb3IgKGtleSBpbiB0aGlzLl90aWxlcykge1xuXHRcdFx0dGlsZSA9IHRoaXMuX3RpbGVzW2tleV07XG5cdFx0XHR0aWxlLnJldGFpbiA9IHRpbGUuY3VycmVudDtcblx0XHR9XG5cblx0XHRmb3IgKGtleSBpbiB0aGlzLl90aWxlcykge1xuXHRcdFx0dGlsZSA9IHRoaXMuX3RpbGVzW2tleV07XG5cdFx0XHRpZiAodGlsZS5jdXJyZW50ICYmICF0aWxlLmFjdGl2ZSkge1xuXHRcdFx0XHR2YXIgY29vcmRzID0gdGlsZS5jb29yZHM7XG5cdFx0XHRcdGlmICghdGhpcy5fcmV0YWluUGFyZW50KGNvb3Jkcy54LCBjb29yZHMueSwgY29vcmRzLnosIGNvb3Jkcy56IC0gNSkpIHtcblx0XHRcdFx0XHR0aGlzLl9yZXRhaW5DaGlsZHJlbihjb29yZHMueCwgY29vcmRzLnksIGNvb3Jkcy56LCBjb29yZHMueiArIDIpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Zm9yIChrZXkgaW4gdGhpcy5fdGlsZXMpIHtcblx0XHRcdGlmICghdGhpcy5fdGlsZXNba2V5XS5yZXRhaW4pIHtcblx0XHRcdFx0dGhpcy5fcmVtb3ZlVGlsZShrZXkpO1xuXHRcdFx0fVxuXHRcdH1cblx0fSxcblxuXHRfcmVtb3ZlVGlsZXNBdFpvb206IGZ1bmN0aW9uICh6b29tKSB7XG5cdFx0Zm9yICh2YXIga2V5IGluIHRoaXMuX3RpbGVzKSB7XG5cdFx0XHRpZiAodGhpcy5fdGlsZXNba2V5XS5jb29yZHMueiAhPT0gem9vbSkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblx0XHRcdHRoaXMuX3JlbW92ZVRpbGUoa2V5KTtcblx0XHR9XG5cdH0sXG5cblx0X3JlbW92ZUFsbFRpbGVzOiBmdW5jdGlvbiAoKSB7XG5cdFx0Zm9yICh2YXIga2V5IGluIHRoaXMuX3RpbGVzKSB7XG5cdFx0XHR0aGlzLl9yZW1vdmVUaWxlKGtleSk7XG5cdFx0fVxuXHR9LFxuXG5cdF9pbnZhbGlkYXRlQWxsOiBmdW5jdGlvbiAoKSB7XG5cdFx0Zm9yICh2YXIgeiBpbiB0aGlzLl9sZXZlbHMpIHtcblx0XHRcdEwuRG9tVXRpbC5yZW1vdmUodGhpcy5fbGV2ZWxzW3pdLmVsKTtcblx0XHRcdGRlbGV0ZSB0aGlzLl9sZXZlbHNbel07XG5cdFx0fVxuXHRcdHRoaXMuX3JlbW92ZUFsbFRpbGVzKCk7XG5cblx0XHR0aGlzLl90aWxlWm9vbSA9IG51bGw7XG5cdH0sXG5cblx0X3JldGFpblBhcmVudDogZnVuY3Rpb24gKHgsIHksIHosIG1pblpvb20pIHtcblx0XHR2YXIgeDIgPSBNYXRoLmZsb29yKHggLyAyKSxcblx0XHQgICAgeTIgPSBNYXRoLmZsb29yKHkgLyAyKSxcblx0XHQgICAgejIgPSB6IC0gMSxcblx0XHQgICAgY29vcmRzMiA9IG5ldyBMLlBvaW50KCt4MiwgK3kyKTtcblx0XHRjb29yZHMyLnogPSArejI7XG5cblx0XHR2YXIga2V5ID0gdGhpcy5fdGlsZUNvb3Jkc1RvS2V5KGNvb3JkczIpLFxuXHRcdCAgICB0aWxlID0gdGhpcy5fdGlsZXNba2V5XTtcblxuXHRcdGlmICh0aWxlICYmIHRpbGUuYWN0aXZlKSB7XG5cdFx0XHR0aWxlLnJldGFpbiA9IHRydWU7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblxuXHRcdH0gZWxzZSBpZiAodGlsZSAmJiB0aWxlLmxvYWRlZCkge1xuXHRcdFx0dGlsZS5yZXRhaW4gPSB0cnVlO1xuXHRcdH1cblxuXHRcdGlmICh6MiA+IG1pblpvb20pIHtcblx0XHRcdHJldHVybiB0aGlzLl9yZXRhaW5QYXJlbnQoeDIsIHkyLCB6MiwgbWluWm9vbSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9LFxuXG5cdF9yZXRhaW5DaGlsZHJlbjogZnVuY3Rpb24gKHgsIHksIHosIG1heFpvb20pIHtcblxuXHRcdGZvciAodmFyIGkgPSAyICogeDsgaSA8IDIgKiB4ICsgMjsgaSsrKSB7XG5cdFx0XHRmb3IgKHZhciBqID0gMiAqIHk7IGogPCAyICogeSArIDI7IGorKykge1xuXG5cdFx0XHRcdHZhciBjb29yZHMgPSBuZXcgTC5Qb2ludChpLCBqKTtcblx0XHRcdFx0Y29vcmRzLnogPSB6ICsgMTtcblxuXHRcdFx0XHR2YXIga2V5ID0gdGhpcy5fdGlsZUNvb3Jkc1RvS2V5KGNvb3JkcyksXG5cdFx0XHRcdCAgICB0aWxlID0gdGhpcy5fdGlsZXNba2V5XTtcblxuXHRcdFx0XHRpZiAodGlsZSAmJiB0aWxlLmFjdGl2ZSkge1xuXHRcdFx0XHRcdHRpbGUucmV0YWluID0gdHJ1ZTtcblx0XHRcdFx0XHRjb250aW51ZTtcblxuXHRcdFx0XHR9IGVsc2UgaWYgKHRpbGUgJiYgdGlsZS5sb2FkZWQpIHtcblx0XHRcdFx0XHR0aWxlLnJldGFpbiA9IHRydWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoeiArIDEgPCBtYXhab29tKSB7XG5cdFx0XHRcdFx0dGhpcy5fcmV0YWluQ2hpbGRyZW4oaSwgaiwgeiArIDEsIG1heFpvb20pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXG5cdF9yZXNldFZpZXc6IGZ1bmN0aW9uIChlKSB7XG5cdFx0dmFyIGFuaW1hdGluZyA9IGUgJiYgKGUucGluY2ggfHwgZS5mbHlUbyk7XG5cdFx0dGhpcy5fc2V0Vmlldyh0aGlzLl9tYXAuZ2V0Q2VudGVyKCksIHRoaXMuX21hcC5nZXRab29tKCksIGFuaW1hdGluZywgYW5pbWF0aW5nKTtcblx0fSxcblxuXHRfYW5pbWF0ZVpvb206IGZ1bmN0aW9uIChlKSB7XG5cdFx0dGhpcy5fc2V0VmlldyhlLmNlbnRlciwgZS56b29tLCB0cnVlLCBlLm5vVXBkYXRlKTtcblx0fSxcblxuXHRfc2V0VmlldzogZnVuY3Rpb24gKGNlbnRlciwgem9vbSwgbm9QcnVuZSwgbm9VcGRhdGUpIHtcblx0XHR2YXIgdGlsZVpvb20gPSBNYXRoLnJvdW5kKHpvb20pO1xuXHRcdGlmICgodGhpcy5vcHRpb25zLm1heFpvb20gIT09IHVuZGVmaW5lZCAmJiB0aWxlWm9vbSA+IHRoaXMub3B0aW9ucy5tYXhab29tKSB8fFxuXHRcdCAgICAodGhpcy5vcHRpb25zLm1pblpvb20gIT09IHVuZGVmaW5lZCAmJiB0aWxlWm9vbSA8IHRoaXMub3B0aW9ucy5taW5ab29tKSkge1xuXHRcdFx0dGlsZVpvb20gPSB1bmRlZmluZWQ7XG5cdFx0fVxuXG5cdFx0dmFyIHRpbGVab29tQ2hhbmdlZCA9IHRoaXMub3B0aW9ucy51cGRhdGVXaGVuWm9vbWluZyAmJiAodGlsZVpvb20gIT09IHRoaXMuX3RpbGVab29tKTtcblxuXHRcdGlmICghbm9VcGRhdGUgfHwgdGlsZVpvb21DaGFuZ2VkKSB7XG5cblx0XHRcdHRoaXMuX3RpbGVab29tID0gdGlsZVpvb207XG5cblx0XHRcdGlmICh0aGlzLl9hYm9ydExvYWRpbmcpIHtcblx0XHRcdFx0dGhpcy5fYWJvcnRMb2FkaW5nKCk7XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMuX3VwZGF0ZUxldmVscygpO1xuXHRcdFx0dGhpcy5fcmVzZXRHcmlkKCk7XG5cblx0XHRcdGlmICh0aWxlWm9vbSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdHRoaXMuX3VwZGF0ZShjZW50ZXIpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIW5vUHJ1bmUpIHtcblx0XHRcdFx0dGhpcy5fcHJ1bmVUaWxlcygpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBGbGFnIHRvIHByZXZlbnQgX3VwZGF0ZU9wYWNpdHkgZnJvbSBwcnVuaW5nIHRpbGVzIGR1cmluZ1xuXHRcdFx0Ly8gYSB6b29tIGFuaW0gb3IgYSBwaW5jaCBnZXN0dXJlXG5cdFx0XHR0aGlzLl9ub1BydW5lID0gISFub1BydW5lO1xuXHRcdH1cblxuXHRcdHRoaXMuX3NldFpvb21UcmFuc2Zvcm1zKGNlbnRlciwgem9vbSk7XG5cdH0sXG5cblx0X3NldFpvb21UcmFuc2Zvcm1zOiBmdW5jdGlvbiAoY2VudGVyLCB6b29tKSB7XG5cdFx0Zm9yICh2YXIgaSBpbiB0aGlzLl9sZXZlbHMpIHtcblx0XHRcdHRoaXMuX3NldFpvb21UcmFuc2Zvcm0odGhpcy5fbGV2ZWxzW2ldLCBjZW50ZXIsIHpvb20pO1xuXHRcdH1cblx0fSxcblxuXHRfc2V0Wm9vbVRyYW5zZm9ybTogZnVuY3Rpb24gKGxldmVsLCBjZW50ZXIsIHpvb20pIHtcblx0XHR2YXIgc2NhbGUgPSB0aGlzLl9tYXAuZ2V0Wm9vbVNjYWxlKHpvb20sIGxldmVsLnpvb20pLFxuXHRcdCAgICB0cmFuc2xhdGUgPSBsZXZlbC5vcmlnaW4ubXVsdGlwbHlCeShzY2FsZSlcblx0XHQgICAgICAgIC5zdWJ0cmFjdCh0aGlzLl9tYXAuX2dldE5ld1BpeGVsT3JpZ2luKGNlbnRlciwgem9vbSkpLnJvdW5kKCk7XG5cblx0XHRpZiAoTC5Ccm93c2VyLmFueTNkKSB7XG5cdFx0XHRMLkRvbVV0aWwuc2V0VHJhbnNmb3JtKGxldmVsLmVsLCB0cmFuc2xhdGUsIHNjYWxlKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0TC5Eb21VdGlsLnNldFBvc2l0aW9uKGxldmVsLmVsLCB0cmFuc2xhdGUpO1xuXHRcdH1cblx0fSxcblxuXHRfcmVzZXRHcmlkOiBmdW5jdGlvbiAoKSB7XG5cdFx0dmFyIG1hcCA9IHRoaXMuX21hcCxcblx0XHQgICAgY3JzID0gbWFwLm9wdGlvbnMuY3JzLFxuXHRcdCAgICB0aWxlU2l6ZSA9IHRoaXMuX3RpbGVTaXplID0gdGhpcy5nZXRUaWxlU2l6ZSgpLFxuXHRcdCAgICB0aWxlWm9vbSA9IHRoaXMuX3RpbGVab29tO1xuXG5cdFx0dmFyIGJvdW5kcyA9IHRoaXMuX21hcC5nZXRQaXhlbFdvcmxkQm91bmRzKHRoaXMuX3RpbGVab29tKTtcblx0XHRpZiAoYm91bmRzKSB7XG5cdFx0XHR0aGlzLl9nbG9iYWxUaWxlUmFuZ2UgPSB0aGlzLl9weEJvdW5kc1RvVGlsZVJhbmdlKGJvdW5kcyk7XG5cdFx0fVxuXG5cdFx0dGhpcy5fd3JhcFggPSBjcnMud3JhcExuZyAmJiAhdGhpcy5vcHRpb25zLm5vV3JhcCAmJiBbXG5cdFx0XHRNYXRoLmZsb29yKG1hcC5wcm9qZWN0KFswLCBjcnMud3JhcExuZ1swXV0sIHRpbGVab29tKS54IC8gdGlsZVNpemUueCksXG5cdFx0XHRNYXRoLmNlaWwobWFwLnByb2plY3QoWzAsIGNycy53cmFwTG5nWzFdXSwgdGlsZVpvb20pLnggLyB0aWxlU2l6ZS55KVxuXHRcdF07XG5cdFx0dGhpcy5fd3JhcFkgPSBjcnMud3JhcExhdCAmJiAhdGhpcy5vcHRpb25zLm5vV3JhcCAmJiBbXG5cdFx0XHRNYXRoLmZsb29yKG1hcC5wcm9qZWN0KFtjcnMud3JhcExhdFswXSwgMF0sIHRpbGVab29tKS55IC8gdGlsZVNpemUueCksXG5cdFx0XHRNYXRoLmNlaWwobWFwLnByb2plY3QoW2Nycy53cmFwTGF0WzFdLCAwXSwgdGlsZVpvb20pLnkgLyB0aWxlU2l6ZS55KVxuXHRcdF07XG5cdH0sXG5cblx0X29uTW92ZUVuZDogZnVuY3Rpb24gKCkge1xuXHRcdGlmICghdGhpcy5fbWFwIHx8IHRoaXMuX21hcC5fYW5pbWF0aW5nWm9vbSkgeyByZXR1cm47IH1cblxuXHRcdHRoaXMuX3VwZGF0ZSgpO1xuXHR9LFxuXG5cdF9nZXRUaWxlZFBpeGVsQm91bmRzOiBmdW5jdGlvbiAoY2VudGVyKSB7XG5cdFx0dmFyIG1hcCA9IHRoaXMuX21hcCxcblx0XHQgICAgbWFwWm9vbSA9IG1hcC5fYW5pbWF0aW5nWm9vbSA/IE1hdGgubWF4KG1hcC5fYW5pbWF0ZVRvWm9vbSwgbWFwLmdldFpvb20oKSkgOiBtYXAuZ2V0Wm9vbSgpLFxuXHRcdCAgICBzY2FsZSA9IG1hcC5nZXRab29tU2NhbGUobWFwWm9vbSwgdGhpcy5fdGlsZVpvb20pLFxuXHRcdCAgICBwaXhlbENlbnRlciA9IG1hcC5wcm9qZWN0KGNlbnRlciwgdGhpcy5fdGlsZVpvb20pLmZsb29yKCksXG5cdFx0ICAgIGhhbGZTaXplID0gbWFwLmdldFNpemUoKS5kaXZpZGVCeShzY2FsZSAqIDIpO1xuXG5cdFx0cmV0dXJuIG5ldyBMLkJvdW5kcyhwaXhlbENlbnRlci5zdWJ0cmFjdChoYWxmU2l6ZSksIHBpeGVsQ2VudGVyLmFkZChoYWxmU2l6ZSkpO1xuXHR9LFxuXG5cdC8vIFByaXZhdGUgbWV0aG9kIHRvIGxvYWQgdGlsZXMgaW4gdGhlIGdyaWQncyBhY3RpdmUgem9vbSBsZXZlbCBhY2NvcmRpbmcgdG8gbWFwIGJvdW5kc1xuXHRfdXBkYXRlOiBmdW5jdGlvbiAoY2VudGVyKSB7XG5cdFx0dmFyIG1hcCA9IHRoaXMuX21hcDtcblx0XHRpZiAoIW1hcCkgeyByZXR1cm47IH1cblx0XHR2YXIgem9vbSA9IG1hcC5nZXRab29tKCk7XG5cblx0XHRpZiAoY2VudGVyID09PSB1bmRlZmluZWQpIHsgY2VudGVyID0gbWFwLmdldENlbnRlcigpOyB9XG5cdFx0aWYgKHRoaXMuX3RpbGVab29tID09PSB1bmRlZmluZWQpIHsgcmV0dXJuOyB9XHQvLyBpZiBvdXQgb2YgbWluem9vbS9tYXh6b29tXG5cblx0XHR2YXIgcGl4ZWxCb3VuZHMgPSB0aGlzLl9nZXRUaWxlZFBpeGVsQm91bmRzKGNlbnRlciksXG5cdFx0ICAgIHRpbGVSYW5nZSA9IHRoaXMuX3B4Qm91bmRzVG9UaWxlUmFuZ2UocGl4ZWxCb3VuZHMpLFxuXHRcdCAgICB0aWxlQ2VudGVyID0gdGlsZVJhbmdlLmdldENlbnRlcigpLFxuXHRcdCAgICBxdWV1ZSA9IFtdLFxuXHRcdCAgICBtYXJnaW4gPSB0aGlzLm9wdGlvbnMua2VlcEJ1ZmZlcixcblx0XHQgICAgbm9QcnVuZVJhbmdlID0gbmV3IEwuQm91bmRzKHRpbGVSYW5nZS5nZXRCb3R0b21MZWZ0KCkuc3VidHJhY3QoW21hcmdpbiwgLW1hcmdpbl0pLFxuXHRcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbGVSYW5nZS5nZXRUb3BSaWdodCgpLmFkZChbbWFyZ2luLCAtbWFyZ2luXSkpO1xuXG5cdFx0Zm9yICh2YXIga2V5IGluIHRoaXMuX3RpbGVzKSB7XG5cdFx0XHR2YXIgYyA9IHRoaXMuX3RpbGVzW2tleV0uY29vcmRzO1xuXHRcdFx0aWYgKGMueiAhPT0gdGhpcy5fdGlsZVpvb20gfHwgIW5vUHJ1bmVSYW5nZS5jb250YWlucyhMLnBvaW50KGMueCwgYy55KSkpIHtcblx0XHRcdFx0dGhpcy5fdGlsZXNba2V5XS5jdXJyZW50ID0gZmFsc2U7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gX3VwZGF0ZSBqdXN0IGxvYWRzIG1vcmUgdGlsZXMuIElmIHRoZSB0aWxlIHpvb20gbGV2ZWwgZGlmZmVycyB0b28gbXVjaFxuXHRcdC8vIGZyb20gdGhlIG1hcCdzLCBsZXQgX3NldFZpZXcgcmVzZXQgbGV2ZWxzIGFuZCBwcnVuZSBvbGQgdGlsZXMuXG5cdFx0aWYgKE1hdGguYWJzKHpvb20gLSB0aGlzLl90aWxlWm9vbSkgPiAxKSB7IHRoaXMuX3NldFZpZXcoY2VudGVyLCB6b29tKTsgcmV0dXJuOyB9XG5cblx0XHQvLyBjcmVhdGUgYSBxdWV1ZSBvZiBjb29yZGluYXRlcyB0byBsb2FkIHRpbGVzIGZyb21cblx0XHRmb3IgKHZhciBqID0gdGlsZVJhbmdlLm1pbi55OyBqIDw9IHRpbGVSYW5nZS5tYXgueTsgaisrKSB7XG5cdFx0XHRmb3IgKHZhciBpID0gdGlsZVJhbmdlLm1pbi54OyBpIDw9IHRpbGVSYW5nZS5tYXgueDsgaSsrKSB7XG5cdFx0XHRcdHZhciBjb29yZHMgPSBuZXcgTC5Qb2ludChpLCBqKTtcblx0XHRcdFx0Y29vcmRzLnogPSB0aGlzLl90aWxlWm9vbTtcblxuXHRcdFx0XHRpZiAoIXRoaXMuX2lzVmFsaWRUaWxlKGNvb3JkcykpIHsgY29udGludWU7IH1cblxuXHRcdFx0XHR2YXIgdGlsZSA9IHRoaXMuX3RpbGVzW3RoaXMuX3RpbGVDb29yZHNUb0tleShjb29yZHMpXTtcblx0XHRcdFx0aWYgKHRpbGUpIHtcblx0XHRcdFx0XHR0aWxlLmN1cnJlbnQgPSB0cnVlO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHF1ZXVlLnB1c2goY29vcmRzKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIHNvcnQgdGlsZSBxdWV1ZSB0byBsb2FkIHRpbGVzIGluIG9yZGVyIG9mIHRoZWlyIGRpc3RhbmNlIHRvIGNlbnRlclxuXHRcdHF1ZXVlLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcblx0XHRcdHJldHVybiBhLmRpc3RhbmNlVG8odGlsZUNlbnRlcikgLSBiLmRpc3RhbmNlVG8odGlsZUNlbnRlcik7XG5cdFx0fSk7XG5cblx0XHRpZiAocXVldWUubGVuZ3RoICE9PSAwKSB7XG5cdFx0XHQvLyBpZiBpdCdzIHRoZSBmaXJzdCBiYXRjaCBvZiB0aWxlcyB0byBsb2FkXG5cdFx0XHRpZiAoIXRoaXMuX2xvYWRpbmcpIHtcblx0XHRcdFx0dGhpcy5fbG9hZGluZyA9IHRydWU7XG5cdFx0XHRcdC8vIEBldmVudCBsb2FkaW5nOiBFdmVudFxuXHRcdFx0XHQvLyBGaXJlZCB3aGVuIHRoZSBncmlkIGxheWVyIHN0YXJ0cyBsb2FkaW5nIHRpbGVzLlxuXHRcdFx0XHR0aGlzLmZpcmUoJ2xvYWRpbmcnKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gY3JlYXRlIERPTSBmcmFnbWVudCB0byBhcHBlbmQgdGlsZXMgaW4gb25lIGJhdGNoXG5cdFx0XHR2YXIgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG5cblx0XHRcdGZvciAoaSA9IDA7IGkgPCBxdWV1ZS5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHR0aGlzLl9hZGRUaWxlKHF1ZXVlW2ldLCBmcmFnbWVudCk7XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMuX2xldmVsLmVsLmFwcGVuZENoaWxkKGZyYWdtZW50KTtcblx0XHR9XG5cdH0sXG5cblx0X2lzVmFsaWRUaWxlOiBmdW5jdGlvbiAoY29vcmRzKSB7XG5cdFx0dmFyIGNycyA9IHRoaXMuX21hcC5vcHRpb25zLmNycztcblxuXHRcdGlmICghY3JzLmluZmluaXRlKSB7XG5cdFx0XHQvLyBkb24ndCBsb2FkIHRpbGUgaWYgaXQncyBvdXQgb2YgYm91bmRzIGFuZCBub3Qgd3JhcHBlZFxuXHRcdFx0dmFyIGJvdW5kcyA9IHRoaXMuX2dsb2JhbFRpbGVSYW5nZTtcblx0XHRcdGlmICgoIWNycy53cmFwTG5nICYmIChjb29yZHMueCA8IGJvdW5kcy5taW4ueCB8fCBjb29yZHMueCA+IGJvdW5kcy5tYXgueCkpIHx8XG5cdFx0XHQgICAgKCFjcnMud3JhcExhdCAmJiAoY29vcmRzLnkgPCBib3VuZHMubWluLnkgfHwgY29vcmRzLnkgPiBib3VuZHMubWF4LnkpKSkgeyByZXR1cm4gZmFsc2U7IH1cblx0XHR9XG5cblx0XHRpZiAoIXRoaXMub3B0aW9ucy5ib3VuZHMpIHsgcmV0dXJuIHRydWU7IH1cblxuXHRcdC8vIGRvbid0IGxvYWQgdGlsZSBpZiBpdCBkb2Vzbid0IGludGVyc2VjdCB0aGUgYm91bmRzIGluIG9wdGlvbnNcblx0XHR2YXIgdGlsZUJvdW5kcyA9IHRoaXMuX3RpbGVDb29yZHNUb0JvdW5kcyhjb29yZHMpO1xuXHRcdHJldHVybiBMLmxhdExuZ0JvdW5kcyh0aGlzLm9wdGlvbnMuYm91bmRzKS5vdmVybGFwcyh0aWxlQm91bmRzKTtcblx0fSxcblxuXHRfa2V5VG9Cb3VuZHM6IGZ1bmN0aW9uIChrZXkpIHtcblx0XHRyZXR1cm4gdGhpcy5fdGlsZUNvb3Jkc1RvQm91bmRzKHRoaXMuX2tleVRvVGlsZUNvb3JkcyhrZXkpKTtcblx0fSxcblxuXHQvLyBjb252ZXJ0cyB0aWxlIGNvb3JkaW5hdGVzIHRvIGl0cyBnZW9ncmFwaGljYWwgYm91bmRzXG5cdF90aWxlQ29vcmRzVG9Cb3VuZHM6IGZ1bmN0aW9uIChjb29yZHMpIHtcblxuXHRcdHZhciBtYXAgPSB0aGlzLl9tYXAsXG5cdFx0ICAgIHRpbGVTaXplID0gdGhpcy5nZXRUaWxlU2l6ZSgpLFxuXG5cdFx0ICAgIG53UG9pbnQgPSBjb29yZHMuc2NhbGVCeSh0aWxlU2l6ZSksXG5cdFx0ICAgIHNlUG9pbnQgPSBud1BvaW50LmFkZCh0aWxlU2l6ZSksXG5cblx0XHQgICAgbncgPSBtYXAudW5wcm9qZWN0KG53UG9pbnQsIGNvb3Jkcy56KSxcblx0XHQgICAgc2UgPSBtYXAudW5wcm9qZWN0KHNlUG9pbnQsIGNvb3Jkcy56KTtcblxuXHRcdGlmICghdGhpcy5vcHRpb25zLm5vV3JhcCkge1xuXHRcdFx0bncgPSBtYXAud3JhcExhdExuZyhudyk7XG5cdFx0XHRzZSA9IG1hcC53cmFwTGF0TG5nKHNlKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gbmV3IEwuTGF0TG5nQm91bmRzKG53LCBzZSk7XG5cdH0sXG5cblx0Ly8gY29udmVydHMgdGlsZSBjb29yZGluYXRlcyB0byBrZXkgZm9yIHRoZSB0aWxlIGNhY2hlXG5cdF90aWxlQ29vcmRzVG9LZXk6IGZ1bmN0aW9uIChjb29yZHMpIHtcblx0XHRyZXR1cm4gY29vcmRzLnggKyAnOicgKyBjb29yZHMueSArICc6JyArIGNvb3Jkcy56O1xuXHR9LFxuXG5cdC8vIGNvbnZlcnRzIHRpbGUgY2FjaGUga2V5IHRvIGNvb3JkaW5hdGVzXG5cdF9rZXlUb1RpbGVDb29yZHM6IGZ1bmN0aW9uIChrZXkpIHtcblx0XHR2YXIgayA9IGtleS5zcGxpdCgnOicpLFxuXHRcdCAgICBjb29yZHMgPSBuZXcgTC5Qb2ludCgra1swXSwgK2tbMV0pO1xuXHRcdGNvb3Jkcy56ID0gK2tbMl07XG5cdFx0cmV0dXJuIGNvb3Jkcztcblx0fSxcblxuXHRfcmVtb3ZlVGlsZTogZnVuY3Rpb24gKGtleSkge1xuXHRcdHZhciB0aWxlID0gdGhpcy5fdGlsZXNba2V5XTtcblx0XHRpZiAoIXRpbGUpIHsgcmV0dXJuOyB9XG5cblx0XHRMLkRvbVV0aWwucmVtb3ZlKHRpbGUuZWwpO1xuXG5cdFx0ZGVsZXRlIHRoaXMuX3RpbGVzW2tleV07XG5cblx0XHQvLyBAZXZlbnQgdGlsZXVubG9hZDogVGlsZUV2ZW50XG5cdFx0Ly8gRmlyZWQgd2hlbiBhIHRpbGUgaXMgcmVtb3ZlZCAoZS5nLiB3aGVuIGEgdGlsZSBnb2VzIG9mZiB0aGUgc2NyZWVuKS5cblx0XHR0aGlzLmZpcmUoJ3RpbGV1bmxvYWQnLCB7XG5cdFx0XHR0aWxlOiB0aWxlLmVsLFxuXHRcdFx0Y29vcmRzOiB0aGlzLl9rZXlUb1RpbGVDb29yZHMoa2V5KVxuXHRcdH0pO1xuXHR9LFxuXG5cdF9pbml0VGlsZTogZnVuY3Rpb24gKHRpbGUpIHtcblx0XHRMLkRvbVV0aWwuYWRkQ2xhc3ModGlsZSwgJ2xlYWZsZXQtdGlsZScpO1xuXG5cdFx0dmFyIHRpbGVTaXplID0gdGhpcy5nZXRUaWxlU2l6ZSgpO1xuXHRcdHRpbGUuc3R5bGUud2lkdGggPSB0aWxlU2l6ZS54ICsgJ3B4Jztcblx0XHR0aWxlLnN0eWxlLmhlaWdodCA9IHRpbGVTaXplLnkgKyAncHgnO1xuXG5cdFx0dGlsZS5vbnNlbGVjdHN0YXJ0ID0gTC5VdGlsLmZhbHNlRm47XG5cdFx0dGlsZS5vbm1vdXNlbW92ZSA9IEwuVXRpbC5mYWxzZUZuO1xuXG5cdFx0Ly8gdXBkYXRlIG9wYWNpdHkgb24gdGlsZXMgaW4gSUU3LTggYmVjYXVzZSBvZiBmaWx0ZXIgaW5oZXJpdGFuY2UgcHJvYmxlbXNcblx0XHRpZiAoTC5Ccm93c2VyLmllbHQ5ICYmIHRoaXMub3B0aW9ucy5vcGFjaXR5IDwgMSkge1xuXHRcdFx0TC5Eb21VdGlsLnNldE9wYWNpdHkodGlsZSwgdGhpcy5vcHRpb25zLm9wYWNpdHkpO1xuXHRcdH1cblxuXHRcdC8vIHdpdGhvdXQgdGhpcyBoYWNrLCB0aWxlcyBkaXNhcHBlYXIgYWZ0ZXIgem9vbSBvbiBDaHJvbWUgZm9yIEFuZHJvaWRcblx0XHQvLyBodHRwczovL2dpdGh1Yi5jb20vTGVhZmxldC9MZWFmbGV0L2lzc3Vlcy8yMDc4XG5cdFx0aWYgKEwuQnJvd3Nlci5hbmRyb2lkICYmICFMLkJyb3dzZXIuYW5kcm9pZDIzKSB7XG5cdFx0XHR0aWxlLnN0eWxlLldlYmtpdEJhY2tmYWNlVmlzaWJpbGl0eSA9ICdoaWRkZW4nO1xuXHRcdH1cblx0fSxcblxuXHRfYWRkVGlsZTogZnVuY3Rpb24gKGNvb3JkcywgY29udGFpbmVyKSB7XG5cdFx0dmFyIHRpbGVQb3MgPSB0aGlzLl9nZXRUaWxlUG9zKGNvb3JkcyksXG5cdFx0ICAgIGtleSA9IHRoaXMuX3RpbGVDb29yZHNUb0tleShjb29yZHMpO1xuXG5cdFx0dmFyIHRpbGUgPSB0aGlzLmNyZWF0ZVRpbGUodGhpcy5fd3JhcENvb3Jkcyhjb29yZHMpLCBMLmJpbmQodGhpcy5fdGlsZVJlYWR5LCB0aGlzLCBjb29yZHMpKTtcblxuXHRcdHRoaXMuX2luaXRUaWxlKHRpbGUpO1xuXG5cdFx0Ly8gaWYgY3JlYXRlVGlsZSBpcyBkZWZpbmVkIHdpdGggYSBzZWNvbmQgYXJndW1lbnQgKFwiZG9uZVwiIGNhbGxiYWNrKSxcblx0XHQvLyB3ZSBrbm93IHRoYXQgdGlsZSBpcyBhc3luYyBhbmQgd2lsbCBiZSByZWFkeSBsYXRlcjsgb3RoZXJ3aXNlXG5cdFx0aWYgKHRoaXMuY3JlYXRlVGlsZS5sZW5ndGggPCAyKSB7XG5cdFx0XHQvLyBtYXJrIHRpbGUgYXMgcmVhZHksIGJ1dCBkZWxheSBvbmUgZnJhbWUgZm9yIG9wYWNpdHkgYW5pbWF0aW9uIHRvIGhhcHBlblxuXHRcdFx0TC5VdGlsLnJlcXVlc3RBbmltRnJhbWUoTC5iaW5kKHRoaXMuX3RpbGVSZWFkeSwgdGhpcywgY29vcmRzLCBudWxsLCB0aWxlKSk7XG5cdFx0fVxuXG5cdFx0TC5Eb21VdGlsLnNldFBvc2l0aW9uKHRpbGUsIHRpbGVQb3MpO1xuXG5cdFx0Ly8gc2F2ZSB0aWxlIGluIGNhY2hlXG5cdFx0dGhpcy5fdGlsZXNba2V5XSA9IHtcblx0XHRcdGVsOiB0aWxlLFxuXHRcdFx0Y29vcmRzOiBjb29yZHMsXG5cdFx0XHRjdXJyZW50OiB0cnVlXG5cdFx0fTtcblxuXHRcdGNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aWxlKTtcblx0XHQvLyBAZXZlbnQgdGlsZWxvYWRzdGFydDogVGlsZUV2ZW50XG5cdFx0Ly8gRmlyZWQgd2hlbiBhIHRpbGUgaXMgcmVxdWVzdGVkIGFuZCBzdGFydHMgbG9hZGluZy5cblx0XHR0aGlzLmZpcmUoJ3RpbGVsb2Fkc3RhcnQnLCB7XG5cdFx0XHR0aWxlOiB0aWxlLFxuXHRcdFx0Y29vcmRzOiBjb29yZHNcblx0XHR9KTtcblx0fSxcblxuXHRfdGlsZVJlYWR5OiBmdW5jdGlvbiAoY29vcmRzLCBlcnIsIHRpbGUpIHtcblx0XHRpZiAoIXRoaXMuX21hcCkgeyByZXR1cm47IH1cblxuXHRcdGlmIChlcnIpIHtcblx0XHRcdC8vIEBldmVudCB0aWxlZXJyb3I6IFRpbGVFcnJvckV2ZW50XG5cdFx0XHQvLyBGaXJlZCB3aGVuIHRoZXJlIGlzIGFuIGVycm9yIGxvYWRpbmcgYSB0aWxlLlxuXHRcdFx0dGhpcy5maXJlKCd0aWxlZXJyb3InLCB7XG5cdFx0XHRcdGVycm9yOiBlcnIsXG5cdFx0XHRcdHRpbGU6IHRpbGUsXG5cdFx0XHRcdGNvb3JkczogY29vcmRzXG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHR2YXIga2V5ID0gdGhpcy5fdGlsZUNvb3Jkc1RvS2V5KGNvb3Jkcyk7XG5cblx0XHR0aWxlID0gdGhpcy5fdGlsZXNba2V5XTtcblx0XHRpZiAoIXRpbGUpIHsgcmV0dXJuOyB9XG5cblx0XHR0aWxlLmxvYWRlZCA9ICtuZXcgRGF0ZSgpO1xuXHRcdGlmICh0aGlzLl9tYXAuX2ZhZGVBbmltYXRlZCkge1xuXHRcdFx0TC5Eb21VdGlsLnNldE9wYWNpdHkodGlsZS5lbCwgMCk7XG5cdFx0XHRMLlV0aWwuY2FuY2VsQW5pbUZyYW1lKHRoaXMuX2ZhZGVGcmFtZSk7XG5cdFx0XHR0aGlzLl9mYWRlRnJhbWUgPSBMLlV0aWwucmVxdWVzdEFuaW1GcmFtZSh0aGlzLl91cGRhdGVPcGFjaXR5LCB0aGlzKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGlsZS5hY3RpdmUgPSB0cnVlO1xuXHRcdFx0dGhpcy5fcHJ1bmVUaWxlcygpO1xuXHRcdH1cblxuXHRcdGlmICghZXJyKSB7XG5cdFx0XHRMLkRvbVV0aWwuYWRkQ2xhc3ModGlsZS5lbCwgJ2xlYWZsZXQtdGlsZS1sb2FkZWQnKTtcblxuXHRcdFx0Ly8gQGV2ZW50IHRpbGVsb2FkOiBUaWxlRXZlbnRcblx0XHRcdC8vIEZpcmVkIHdoZW4gYSB0aWxlIGxvYWRzLlxuXHRcdFx0dGhpcy5maXJlKCd0aWxlbG9hZCcsIHtcblx0XHRcdFx0dGlsZTogdGlsZS5lbCxcblx0XHRcdFx0Y29vcmRzOiBjb29yZHNcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdGlmICh0aGlzLl9ub1RpbGVzVG9Mb2FkKCkpIHtcblx0XHRcdHRoaXMuX2xvYWRpbmcgPSBmYWxzZTtcblx0XHRcdC8vIEBldmVudCBsb2FkOiBFdmVudFxuXHRcdFx0Ly8gRmlyZWQgd2hlbiB0aGUgZ3JpZCBsYXllciBsb2FkZWQgYWxsIHZpc2libGUgdGlsZXMuXG5cdFx0XHR0aGlzLmZpcmUoJ2xvYWQnKTtcblxuXHRcdFx0aWYgKEwuQnJvd3Nlci5pZWx0OSB8fCAhdGhpcy5fbWFwLl9mYWRlQW5pbWF0ZWQpIHtcblx0XHRcdFx0TC5VdGlsLnJlcXVlc3RBbmltRnJhbWUodGhpcy5fcHJ1bmVUaWxlcywgdGhpcyk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvLyBXYWl0IGEgYml0IG1vcmUgdGhhbiAwLjIgc2VjcyAodGhlIGR1cmF0aW9uIG9mIHRoZSB0aWxlIGZhZGUtaW4pXG5cdFx0XHRcdC8vIHRvIHRyaWdnZXIgYSBwcnVuaW5nLlxuXHRcdFx0XHRzZXRUaW1lb3V0KEwuYmluZCh0aGlzLl9wcnVuZVRpbGVzLCB0aGlzKSwgMjUwKTtcblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cblx0X2dldFRpbGVQb3M6IGZ1bmN0aW9uIChjb29yZHMpIHtcblx0XHRyZXR1cm4gY29vcmRzLnNjYWxlQnkodGhpcy5nZXRUaWxlU2l6ZSgpKS5zdWJ0cmFjdCh0aGlzLl9sZXZlbC5vcmlnaW4pO1xuXHR9LFxuXG5cdF93cmFwQ29vcmRzOiBmdW5jdGlvbiAoY29vcmRzKSB7XG5cdFx0dmFyIG5ld0Nvb3JkcyA9IG5ldyBMLlBvaW50KFxuXHRcdFx0dGhpcy5fd3JhcFggPyBMLlV0aWwud3JhcE51bShjb29yZHMueCwgdGhpcy5fd3JhcFgpIDogY29vcmRzLngsXG5cdFx0XHR0aGlzLl93cmFwWSA/IEwuVXRpbC53cmFwTnVtKGNvb3Jkcy55LCB0aGlzLl93cmFwWSkgOiBjb29yZHMueSk7XG5cdFx0bmV3Q29vcmRzLnogPSBjb29yZHMuejtcblx0XHRyZXR1cm4gbmV3Q29vcmRzO1xuXHR9LFxuXG5cdF9weEJvdW5kc1RvVGlsZVJhbmdlOiBmdW5jdGlvbiAoYm91bmRzKSB7XG5cdFx0dmFyIHRpbGVTaXplID0gdGhpcy5nZXRUaWxlU2l6ZSgpO1xuXHRcdHJldHVybiBuZXcgTC5Cb3VuZHMoXG5cdFx0XHRib3VuZHMubWluLnVuc2NhbGVCeSh0aWxlU2l6ZSkuZmxvb3IoKSxcblx0XHRcdGJvdW5kcy5tYXgudW5zY2FsZUJ5KHRpbGVTaXplKS5jZWlsKCkuc3VidHJhY3QoWzEsIDFdKSk7XG5cdH0sXG5cblx0X25vVGlsZXNUb0xvYWQ6IGZ1bmN0aW9uICgpIHtcblx0XHRmb3IgKHZhciBrZXkgaW4gdGhpcy5fdGlsZXMpIHtcblx0XHRcdGlmICghdGhpcy5fdGlsZXNba2V5XS5sb2FkZWQpIHsgcmV0dXJuIGZhbHNlOyB9XG5cdFx0fVxuXHRcdHJldHVybiB0cnVlO1xuXHR9XG59KTtcblxuLy8gQGZhY3RvcnkgTC5ncmlkTGF5ZXIob3B0aW9ucz86IEdyaWRMYXllciBvcHRpb25zKVxuLy8gQ3JlYXRlcyBhIG5ldyBpbnN0YW5jZSBvZiBHcmlkTGF5ZXIgd2l0aCB0aGUgc3VwcGxpZWQgb3B0aW9ucy5cbkwuZ3JpZExheWVyID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcblx0cmV0dXJuIG5ldyBMLkdyaWRMYXllcihvcHRpb25zKTtcbn07XG5cbi8qXHJcbiAqIEBjbGFzcyBUaWxlTGF5ZXJcclxuICogQGluaGVyaXRzIEdyaWRMYXllclxyXG4gKiBAYWthIEwuVGlsZUxheWVyXHJcbiAqIFVzZWQgdG8gbG9hZCBhbmQgZGlzcGxheSB0aWxlIGxheWVycyBvbiB0aGUgbWFwLiBFeHRlbmRzIGBHcmlkTGF5ZXJgLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKlxyXG4gKiBgYGBqc1xyXG4gKiBMLnRpbGVMYXllcignaHR0cDovL3tzfS50aWxlLm9zbS5vcmcve3p9L3t4fS97eX0ucG5nP3tmb299Jywge2ZvbzogJ2Jhcid9KS5hZGRUbyhtYXApO1xyXG4gKiBgYGBcclxuICpcclxuICogQHNlY3Rpb24gVVJMIHRlbXBsYXRlXHJcbiAqIEBleGFtcGxlXHJcbiAqXHJcbiAqIEEgc3RyaW5nIG9mIHRoZSBmb2xsb3dpbmcgZm9ybTpcclxuICpcclxuICogYGBgXHJcbiAqICdodHRwOi8ve3N9LnNvbWVkb21haW4uY29tL2JsYWJsYS97en0ve3h9L3t5fXtyfS5wbmcnXHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBge3N9YCBtZWFucyBvbmUgb2YgdGhlIGF2YWlsYWJsZSBzdWJkb21haW5zICh1c2VkIHNlcXVlbnRpYWxseSB0byBoZWxwIHdpdGggYnJvd3NlciBwYXJhbGxlbCByZXF1ZXN0cyBwZXIgZG9tYWluIGxpbWl0YXRpb247IHN1YmRvbWFpbiB2YWx1ZXMgYXJlIHNwZWNpZmllZCBpbiBvcHRpb25zOyBgYWAsIGBiYCBvciBgY2AgYnkgZGVmYXVsdCwgY2FuIGJlIG9taXR0ZWQpLCBge3p9YCDigJQgem9vbSBsZXZlbCwgYHt4fWAgYW5kIGB7eX1gIOKAlCB0aWxlIGNvb3JkaW5hdGVzLiBge3J9YCBjYW4gYmUgdXNlZCB0byBhZGQgQDJ4IHRvIHRoZSBVUkwgdG8gbG9hZCByZXRpbmEgdGlsZXMuXHJcbiAqXHJcbiAqIFlvdSBjYW4gdXNlIGN1c3RvbSBrZXlzIGluIHRoZSB0ZW1wbGF0ZSwgd2hpY2ggd2lsbCBiZSBbZXZhbHVhdGVkXSgjdXRpbC10ZW1wbGF0ZSkgZnJvbSBUaWxlTGF5ZXIgb3B0aW9ucywgbGlrZSB0aGlzOlxyXG4gKlxyXG4gKiBgYGBcclxuICogTC50aWxlTGF5ZXIoJ2h0dHA6Ly97c30uc29tZWRvbWFpbi5jb20ve2Zvb30ve3p9L3t4fS97eX0ucG5nJywge2ZvbzogJ2Jhcid9KTtcclxuICogYGBgXHJcbiAqL1xyXG5cclxuXHJcbkwuVGlsZUxheWVyID0gTC5HcmlkTGF5ZXIuZXh0ZW5kKHtcclxuXHJcblx0Ly8gQHNlY3Rpb25cclxuXHQvLyBAYWthIFRpbGVMYXllciBvcHRpb25zXHJcblx0b3B0aW9uczoge1xyXG5cdFx0Ly8gQG9wdGlvbiBtaW5ab29tOiBOdW1iZXIgPSAwXHJcblx0XHQvLyBNaW5pbXVtIHpvb20gbnVtYmVyLlxyXG5cdFx0bWluWm9vbTogMCxcclxuXHJcblx0XHQvLyBAb3B0aW9uIG1heFpvb206IE51bWJlciA9IDE4XHJcblx0XHQvLyBNYXhpbXVtIHpvb20gbnVtYmVyLlxyXG5cdFx0bWF4Wm9vbTogMTgsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiBtYXhOYXRpdmVab29tOiBOdW1iZXIgPSBudWxsXHJcblx0XHQvLyBNYXhpbXVtIHpvb20gbnVtYmVyIHRoZSB0aWxlIHNvdXJjZSBoYXMgYXZhaWxhYmxlLiBJZiBpdCBpcyBzcGVjaWZpZWQsXHJcblx0XHQvLyB0aGUgdGlsZXMgb24gYWxsIHpvb20gbGV2ZWxzIGhpZ2hlciB0aGFuIGBtYXhOYXRpdmVab29tYCB3aWxsIGJlIGxvYWRlZFxyXG5cdFx0Ly8gZnJvbSBgbWF4TmF0aXZlWm9vbWAgbGV2ZWwgYW5kIGF1dG8tc2NhbGVkLlxyXG5cdFx0bWF4TmF0aXZlWm9vbTogbnVsbCxcclxuXHJcblx0XHQvLyBAb3B0aW9uIHN1YmRvbWFpbnM6IFN0cmluZ3xTdHJpbmdbXSA9ICdhYmMnXHJcblx0XHQvLyBTdWJkb21haW5zIG9mIHRoZSB0aWxlIHNlcnZpY2UuIENhbiBiZSBwYXNzZWQgaW4gdGhlIGZvcm0gb2Ygb25lIHN0cmluZyAod2hlcmUgZWFjaCBsZXR0ZXIgaXMgYSBzdWJkb21haW4gbmFtZSkgb3IgYW4gYXJyYXkgb2Ygc3RyaW5ncy5cclxuXHRcdHN1YmRvbWFpbnM6ICdhYmMnLFxyXG5cclxuXHRcdC8vIEBvcHRpb24gZXJyb3JUaWxlVXJsOiBTdHJpbmcgPSAnJ1xyXG5cdFx0Ly8gVVJMIHRvIHRoZSB0aWxlIGltYWdlIHRvIHNob3cgaW4gcGxhY2Ugb2YgdGhlIHRpbGUgdGhhdCBmYWlsZWQgdG8gbG9hZC5cclxuXHRcdGVycm9yVGlsZVVybDogJycsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiB6b29tT2Zmc2V0OiBOdW1iZXIgPSAwXHJcblx0XHQvLyBUaGUgem9vbSBudW1iZXIgdXNlZCBpbiB0aWxlIFVSTHMgd2lsbCBiZSBvZmZzZXQgd2l0aCB0aGlzIHZhbHVlLlxyXG5cdFx0em9vbU9mZnNldDogMCxcclxuXHJcblx0XHQvLyBAb3B0aW9uIHRtczogQm9vbGVhbiA9IGZhbHNlXHJcblx0XHQvLyBJZiBgdHJ1ZWAsIGludmVyc2VzIFkgYXhpcyBudW1iZXJpbmcgZm9yIHRpbGVzICh0dXJuIHRoaXMgb24gZm9yIFtUTVNdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1RpbGVfTWFwX1NlcnZpY2UpIHNlcnZpY2VzKS5cclxuXHRcdHRtczogZmFsc2UsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiB6b29tUmV2ZXJzZTogQm9vbGVhbiA9IGZhbHNlXHJcblx0XHQvLyBJZiBzZXQgdG8gdHJ1ZSwgdGhlIHpvb20gbnVtYmVyIHVzZWQgaW4gdGlsZSBVUkxzIHdpbGwgYmUgcmV2ZXJzZWQgKGBtYXhab29tIC0gem9vbWAgaW5zdGVhZCBvZiBgem9vbWApXHJcblx0XHR6b29tUmV2ZXJzZTogZmFsc2UsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiBkZXRlY3RSZXRpbmE6IEJvb2xlYW4gPSBmYWxzZVxyXG5cdFx0Ly8gSWYgYHRydWVgIGFuZCB1c2VyIGlzIG9uIGEgcmV0aW5hIGRpc3BsYXksIGl0IHdpbGwgcmVxdWVzdCBmb3VyIHRpbGVzIG9mIGhhbGYgdGhlIHNwZWNpZmllZCBzaXplIGFuZCBhIGJpZ2dlciB6b29tIGxldmVsIGluIHBsYWNlIG9mIG9uZSB0byB1dGlsaXplIHRoZSBoaWdoIHJlc29sdXRpb24uXHJcblx0XHRkZXRlY3RSZXRpbmE6IGZhbHNlLFxyXG5cclxuXHRcdC8vIEBvcHRpb24gY3Jvc3NPcmlnaW46IEJvb2xlYW4gPSBmYWxzZVxyXG5cdFx0Ly8gSWYgdHJ1ZSwgYWxsIHRpbGVzIHdpbGwgaGF2ZSB0aGVpciBjcm9zc09yaWdpbiBhdHRyaWJ1dGUgc2V0IHRvICcnLiBUaGlzIGlzIG5lZWRlZCBpZiB5b3Ugd2FudCB0byBhY2Nlc3MgdGlsZSBwaXhlbCBkYXRhLlxyXG5cdFx0Y3Jvc3NPcmlnaW46IGZhbHNlXHJcblx0fSxcclxuXHJcblx0aW5pdGlhbGl6ZTogZnVuY3Rpb24gKHVybCwgb3B0aW9ucykge1xyXG5cclxuXHRcdHRoaXMuX3VybCA9IHVybDtcclxuXHJcblx0XHRvcHRpb25zID0gTC5zZXRPcHRpb25zKHRoaXMsIG9wdGlvbnMpO1xyXG5cclxuXHRcdC8vIGRldGVjdGluZyByZXRpbmEgZGlzcGxheXMsIGFkanVzdGluZyB0aWxlU2l6ZSBhbmQgem9vbSBsZXZlbHNcclxuXHRcdGlmIChvcHRpb25zLmRldGVjdFJldGluYSAmJiBMLkJyb3dzZXIucmV0aW5hICYmIG9wdGlvbnMubWF4Wm9vbSA+IDApIHtcclxuXHJcblx0XHRcdG9wdGlvbnMudGlsZVNpemUgPSBNYXRoLmZsb29yKG9wdGlvbnMudGlsZVNpemUgLyAyKTtcclxuXHJcblx0XHRcdGlmICghb3B0aW9ucy56b29tUmV2ZXJzZSkge1xyXG5cdFx0XHRcdG9wdGlvbnMuem9vbU9mZnNldCsrO1xyXG5cdFx0XHRcdG9wdGlvbnMubWF4Wm9vbS0tO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdG9wdGlvbnMuem9vbU9mZnNldC0tO1xyXG5cdFx0XHRcdG9wdGlvbnMubWluWm9vbSsrO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRvcHRpb25zLm1pblpvb20gPSBNYXRoLm1heCgwLCBvcHRpb25zLm1pblpvb20pO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICh0eXBlb2Ygb3B0aW9ucy5zdWJkb21haW5zID09PSAnc3RyaW5nJykge1xyXG5cdFx0XHRvcHRpb25zLnN1YmRvbWFpbnMgPSBvcHRpb25zLnN1YmRvbWFpbnMuc3BsaXQoJycpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIGZvciBodHRwczovL2dpdGh1Yi5jb20vTGVhZmxldC9MZWFmbGV0L2lzc3Vlcy8xMzdcclxuXHRcdGlmICghTC5Ccm93c2VyLmFuZHJvaWQpIHtcclxuXHRcdFx0dGhpcy5vbigndGlsZXVubG9hZCcsIHRoaXMuX29uVGlsZVJlbW92ZSk7XHJcblx0XHR9XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBzZXRVcmwodXJsOiBTdHJpbmcsIG5vUmVkcmF3PzogQm9vbGVhbik6IHRoaXNcclxuXHQvLyBVcGRhdGVzIHRoZSBsYXllcidzIFVSTCB0ZW1wbGF0ZSBhbmQgcmVkcmF3cyBpdCAodW5sZXNzIGBub1JlZHJhd2AgaXMgc2V0IHRvIGB0cnVlYCkuXHJcblx0c2V0VXJsOiBmdW5jdGlvbiAodXJsLCBub1JlZHJhdykge1xyXG5cdFx0dGhpcy5fdXJsID0gdXJsO1xyXG5cclxuXHRcdGlmICghbm9SZWRyYXcpIHtcclxuXHRcdFx0dGhpcy5yZWRyYXcoKTtcclxuXHRcdH1cclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgY3JlYXRlVGlsZShjb29yZHM6IE9iamVjdCwgZG9uZT86IEZ1bmN0aW9uKTogSFRNTEVsZW1lbnRcclxuXHQvLyBDYWxsZWQgb25seSBpbnRlcm5hbGx5LCBvdmVycmlkZXMgR3JpZExheWVyJ3MgW2BjcmVhdGVUaWxlKClgXSgjZ3JpZGxheWVyLWNyZWF0ZXRpbGUpXHJcblx0Ly8gdG8gcmV0dXJuIGFuIGA8aW1nPmAgSFRNTCBlbGVtZW50IHdpdGggdGhlIGFwcHJvcGlhdGUgaW1hZ2UgVVJMIGdpdmVuIGBjb29yZHNgLiBUaGUgYGRvbmVgXHJcblx0Ly8gY2FsbGJhY2sgaXMgY2FsbGVkIHdoZW4gdGhlIHRpbGUgaGFzIGJlZW4gbG9hZGVkLlxyXG5cdGNyZWF0ZVRpbGU6IGZ1bmN0aW9uIChjb29yZHMsIGRvbmUpIHtcclxuXHRcdHZhciB0aWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XHJcblxyXG5cdFx0TC5Eb21FdmVudC5vbih0aWxlLCAnbG9hZCcsIEwuYmluZCh0aGlzLl90aWxlT25Mb2FkLCB0aGlzLCBkb25lLCB0aWxlKSk7XHJcblx0XHRMLkRvbUV2ZW50Lm9uKHRpbGUsICdlcnJvcicsIEwuYmluZCh0aGlzLl90aWxlT25FcnJvciwgdGhpcywgZG9uZSwgdGlsZSkpO1xyXG5cclxuXHRcdGlmICh0aGlzLm9wdGlvbnMuY3Jvc3NPcmlnaW4pIHtcclxuXHRcdFx0dGlsZS5jcm9zc09yaWdpbiA9ICcnO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qXHJcblx0XHQgQWx0IHRhZyBpcyBzZXQgdG8gZW1wdHkgc3RyaW5nIHRvIGtlZXAgc2NyZWVuIHJlYWRlcnMgZnJvbSByZWFkaW5nIFVSTCBhbmQgZm9yIGNvbXBsaWFuY2UgcmVhc29uc1xyXG5cdFx0IGh0dHA6Ly93d3cudzMub3JnL1RSL1dDQUcyMC1URUNIUy9INjdcclxuXHRcdCovXHJcblx0XHR0aWxlLmFsdCA9ICcnO1xyXG5cclxuXHRcdHRpbGUuc3JjID0gdGhpcy5nZXRUaWxlVXJsKGNvb3Jkcyk7XHJcblxyXG5cdFx0cmV0dXJuIHRpbGU7XHJcblx0fSxcclxuXHJcblx0Ly8gQHNlY3Rpb24gRXh0ZW5zaW9uIG1ldGhvZHNcclxuXHQvLyBAdW5pbmhlcml0YWJsZVxyXG5cdC8vIExheWVycyBleHRlbmRpbmcgYFRpbGVMYXllcmAgbWlnaHQgcmVpbXBsZW1lbnQgdGhlIGZvbGxvd2luZyBtZXRob2QuXHJcblx0Ly8gQG1ldGhvZCBnZXRUaWxlVXJsKGNvb3JkczogT2JqZWN0KTogU3RyaW5nXHJcblx0Ly8gQ2FsbGVkIG9ubHkgaW50ZXJuYWxseSwgcmV0dXJucyB0aGUgVVJMIGZvciBhIHRpbGUgZ2l2ZW4gaXRzIGNvb3JkaW5hdGVzLlxyXG5cdC8vIENsYXNzZXMgZXh0ZW5kaW5nIGBUaWxlTGF5ZXJgIGNhbiBvdmVycmlkZSB0aGlzIGZ1bmN0aW9uIHRvIHByb3ZpZGUgY3VzdG9tIHRpbGUgVVJMIG5hbWluZyBzY2hlbWVzLlxyXG5cdGdldFRpbGVVcmw6IGZ1bmN0aW9uIChjb29yZHMpIHtcclxuXHRcdHZhciBkYXRhID0ge1xyXG5cdFx0XHRyOiBMLkJyb3dzZXIucmV0aW5hID8gJ0AyeCcgOiAnJyxcclxuXHRcdFx0czogdGhpcy5fZ2V0U3ViZG9tYWluKGNvb3JkcyksXHJcblx0XHRcdHg6IGNvb3Jkcy54LFxyXG5cdFx0XHR5OiBjb29yZHMueSxcclxuXHRcdFx0ejogdGhpcy5fZ2V0Wm9vbUZvclVybCgpXHJcblx0XHR9O1xyXG5cdFx0aWYgKHRoaXMuX21hcCAmJiAhdGhpcy5fbWFwLm9wdGlvbnMuY3JzLmluZmluaXRlKSB7XHJcblx0XHRcdHZhciBpbnZlcnRlZFkgPSB0aGlzLl9nbG9iYWxUaWxlUmFuZ2UubWF4LnkgLSBjb29yZHMueTtcclxuXHRcdFx0aWYgKHRoaXMub3B0aW9ucy50bXMpIHtcclxuXHRcdFx0XHRkYXRhWyd5J10gPSBpbnZlcnRlZFk7XHJcblx0XHRcdH1cclxuXHRcdFx0ZGF0YVsnLXknXSA9IGludmVydGVkWTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gTC5VdGlsLnRlbXBsYXRlKHRoaXMuX3VybCwgTC5leHRlbmQoZGF0YSwgdGhpcy5vcHRpb25zKSk7XHJcblx0fSxcclxuXHJcblx0X3RpbGVPbkxvYWQ6IGZ1bmN0aW9uIChkb25lLCB0aWxlKSB7XHJcblx0XHQvLyBGb3IgaHR0cHM6Ly9naXRodWIuY29tL0xlYWZsZXQvTGVhZmxldC9pc3N1ZXMvMzMzMlxyXG5cdFx0aWYgKEwuQnJvd3Nlci5pZWx0OSkge1xyXG5cdFx0XHRzZXRUaW1lb3V0KEwuYmluZChkb25lLCB0aGlzLCBudWxsLCB0aWxlKSwgMCk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRkb25lKG51bGwsIHRpbGUpO1xyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdF90aWxlT25FcnJvcjogZnVuY3Rpb24gKGRvbmUsIHRpbGUsIGUpIHtcclxuXHRcdHZhciBlcnJvclVybCA9IHRoaXMub3B0aW9ucy5lcnJvclRpbGVVcmw7XHJcblx0XHRpZiAoZXJyb3JVcmwpIHtcclxuXHRcdFx0dGlsZS5zcmMgPSBlcnJvclVybDtcclxuXHRcdH1cclxuXHRcdGRvbmUoZSwgdGlsZSk7XHJcblx0fSxcclxuXHJcblx0Z2V0VGlsZVNpemU6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHZhciBtYXAgPSB0aGlzLl9tYXAsXHJcblx0XHQgICAgdGlsZVNpemUgPSBMLkdyaWRMYXllci5wcm90b3R5cGUuZ2V0VGlsZVNpemUuY2FsbCh0aGlzKSxcclxuXHRcdCAgICB6b29tID0gdGhpcy5fdGlsZVpvb20gKyB0aGlzLm9wdGlvbnMuem9vbU9mZnNldCxcclxuXHRcdCAgICB6b29tTiA9IHRoaXMub3B0aW9ucy5tYXhOYXRpdmVab29tO1xyXG5cclxuXHRcdC8vIGluY3JlYXNlIHRpbGUgc2l6ZSB3aGVuIG92ZXJzY2FsaW5nXHJcblx0XHRyZXR1cm4gem9vbU4gIT09IG51bGwgJiYgem9vbSA+IHpvb21OID9cclxuXHRcdFx0XHR0aWxlU2l6ZS5kaXZpZGVCeShtYXAuZ2V0Wm9vbVNjYWxlKHpvb21OLCB6b29tKSkucm91bmQoKSA6XHJcblx0XHRcdFx0dGlsZVNpemU7XHJcblx0fSxcclxuXHJcblx0X29uVGlsZVJlbW92ZTogZnVuY3Rpb24gKGUpIHtcclxuXHRcdGUudGlsZS5vbmxvYWQgPSBudWxsO1xyXG5cdH0sXHJcblxyXG5cdF9nZXRab29tRm9yVXJsOiBmdW5jdGlvbiAoKSB7XHJcblxyXG5cdFx0dmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMsXHJcblx0XHQgICAgem9vbSA9IHRoaXMuX3RpbGVab29tO1xyXG5cclxuXHRcdGlmIChvcHRpb25zLnpvb21SZXZlcnNlKSB7XHJcblx0XHRcdHpvb20gPSBvcHRpb25zLm1heFpvb20gLSB6b29tO1xyXG5cdFx0fVxyXG5cclxuXHRcdHpvb20gKz0gb3B0aW9ucy56b29tT2Zmc2V0O1xyXG5cclxuXHRcdHJldHVybiBvcHRpb25zLm1heE5hdGl2ZVpvb20gIT09IG51bGwgPyBNYXRoLm1pbih6b29tLCBvcHRpb25zLm1heE5hdGl2ZVpvb20pIDogem9vbTtcclxuXHR9LFxyXG5cclxuXHRfZ2V0U3ViZG9tYWluOiBmdW5jdGlvbiAodGlsZVBvaW50KSB7XHJcblx0XHR2YXIgaW5kZXggPSBNYXRoLmFicyh0aWxlUG9pbnQueCArIHRpbGVQb2ludC55KSAlIHRoaXMub3B0aW9ucy5zdWJkb21haW5zLmxlbmd0aDtcclxuXHRcdHJldHVybiB0aGlzLm9wdGlvbnMuc3ViZG9tYWluc1tpbmRleF07XHJcblx0fSxcclxuXHJcblx0Ly8gc3RvcHMgbG9hZGluZyBhbGwgdGlsZXMgaW4gdGhlIGJhY2tncm91bmQgbGF5ZXJcclxuXHRfYWJvcnRMb2FkaW5nOiBmdW5jdGlvbiAoKSB7XHJcblx0XHR2YXIgaSwgdGlsZTtcclxuXHRcdGZvciAoaSBpbiB0aGlzLl90aWxlcykge1xyXG5cdFx0XHRpZiAodGhpcy5fdGlsZXNbaV0uY29vcmRzLnogIT09IHRoaXMuX3RpbGVab29tKSB7XHJcblx0XHRcdFx0dGlsZSA9IHRoaXMuX3RpbGVzW2ldLmVsO1xyXG5cclxuXHRcdFx0XHR0aWxlLm9ubG9hZCA9IEwuVXRpbC5mYWxzZUZuO1xyXG5cdFx0XHRcdHRpbGUub25lcnJvciA9IEwuVXRpbC5mYWxzZUZuO1xyXG5cclxuXHRcdFx0XHRpZiAoIXRpbGUuY29tcGxldGUpIHtcclxuXHRcdFx0XHRcdHRpbGUuc3JjID0gTC5VdGlsLmVtcHR5SW1hZ2VVcmw7XHJcblx0XHRcdFx0XHRMLkRvbVV0aWwucmVtb3ZlKHRpbGUpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxufSk7XHJcblxyXG5cclxuLy8gQGZhY3RvcnkgTC50aWxlbGF5ZXIodXJsVGVtcGxhdGU6IFN0cmluZywgb3B0aW9ucz86IFRpbGVMYXllciBvcHRpb25zKVxyXG4vLyBJbnN0YW50aWF0ZXMgYSB0aWxlIGxheWVyIG9iamVjdCBnaXZlbiBhIGBVUkwgdGVtcGxhdGVgIGFuZCBvcHRpb25hbGx5IGFuIG9wdGlvbnMgb2JqZWN0LlxyXG5cclxuTC50aWxlTGF5ZXIgPSBmdW5jdGlvbiAodXJsLCBvcHRpb25zKSB7XHJcblx0cmV0dXJuIG5ldyBMLlRpbGVMYXllcih1cmwsIG9wdGlvbnMpO1xyXG59O1xyXG5cbi8qXHJcbiAqIEBjbGFzcyBUaWxlTGF5ZXIuV01TXHJcbiAqIEBpbmhlcml0cyBUaWxlTGF5ZXJcclxuICogQGFrYSBMLlRpbGVMYXllci5XTVNcclxuICogVXNlZCB0byBkaXNwbGF5IFtXTVNdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1dlYl9NYXBfU2VydmljZSkgc2VydmljZXMgYXMgdGlsZSBsYXllcnMgb24gdGhlIG1hcC4gRXh0ZW5kcyBgVGlsZUxheWVyYC5cclxuICpcclxuICogQGV4YW1wbGVcclxuICpcclxuICogYGBganNcclxuICogdmFyIG5leHJhZCA9IEwudGlsZUxheWVyLndtcyhcImh0dHA6Ly9tZXNvbmV0LmFncm9uLmlhc3RhdGUuZWR1L2NnaS1iaW4vd21zL25leHJhZC9uMHIuY2dpXCIsIHtcclxuICogXHRsYXllcnM6ICduZXhyYWQtbjByLTkwMDkxMycsXHJcbiAqIFx0Zm9ybWF0OiAnaW1hZ2UvcG5nJyxcclxuICogXHR0cmFuc3BhcmVudDogdHJ1ZSxcclxuICogXHRhdHRyaWJ1dGlvbjogXCJXZWF0aGVyIGRhdGEgwqkgMjAxMiBJRU0gTmV4cmFkXCJcclxuICogfSk7XHJcbiAqIGBgYFxyXG4gKi9cclxuXHJcbkwuVGlsZUxheWVyLldNUyA9IEwuVGlsZUxheWVyLmV4dGVuZCh7XHJcblxyXG5cdC8vIEBzZWN0aW9uXHJcblx0Ly8gQGFrYSBUaWxlTGF5ZXIuV01TIG9wdGlvbnNcclxuXHQvLyBJZiBhbnkgY3VzdG9tIG9wdGlvbnMgbm90IGRvY3VtZW50ZWQgaGVyZSBhcmUgdXNlZCwgdGhleSB3aWxsIGJlIHNlbnQgdG8gdGhlXHJcblx0Ly8gV01TIHNlcnZlciBhcyBleHRyYSBwYXJhbWV0ZXJzIGluIGVhY2ggcmVxdWVzdCBVUkwuIFRoaXMgY2FuIGJlIHVzZWZ1bCBmb3JcclxuXHQvLyBbbm9uLXN0YW5kYXJkIHZlbmRvciBXTVMgcGFyYW1ldGVyc10oaHR0cDovL2RvY3MuZ2Vvc2VydmVyLm9yZy9zdGFibGUvZW4vdXNlci9zZXJ2aWNlcy93bXMvdmVuZG9yLmh0bWwpLlxyXG5cdGRlZmF1bHRXbXNQYXJhbXM6IHtcclxuXHRcdHNlcnZpY2U6ICdXTVMnLFxyXG5cdFx0cmVxdWVzdDogJ0dldE1hcCcsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiBsYXllcnM6IFN0cmluZyA9ICcnXHJcblx0XHQvLyAqKihyZXF1aXJlZCkqKiBDb21tYS1zZXBhcmF0ZWQgbGlzdCBvZiBXTVMgbGF5ZXJzIHRvIHNob3cuXHJcblx0XHRsYXllcnM6ICcnLFxyXG5cclxuXHRcdC8vIEBvcHRpb24gc3R5bGVzOiBTdHJpbmcgPSAnJ1xyXG5cdFx0Ly8gQ29tbWEtc2VwYXJhdGVkIGxpc3Qgb2YgV01TIHN0eWxlcy5cclxuXHRcdHN0eWxlczogJycsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiBmb3JtYXQ6IFN0cmluZyA9ICdpbWFnZS9qcGVnJ1xyXG5cdFx0Ly8gV01TIGltYWdlIGZvcm1hdCAodXNlIGAnaW1hZ2UvcG5nJ2AgZm9yIGxheWVycyB3aXRoIHRyYW5zcGFyZW5jeSkuXHJcblx0XHRmb3JtYXQ6ICdpbWFnZS9qcGVnJyxcclxuXHJcblx0XHQvLyBAb3B0aW9uIHRyYW5zcGFyZW50OiBCb29sZWFuID0gZmFsc2VcclxuXHRcdC8vIElmIGB0cnVlYCwgdGhlIFdNUyBzZXJ2aWNlIHdpbGwgcmV0dXJuIGltYWdlcyB3aXRoIHRyYW5zcGFyZW5jeS5cclxuXHRcdHRyYW5zcGFyZW50OiBmYWxzZSxcclxuXHJcblx0XHQvLyBAb3B0aW9uIHZlcnNpb246IFN0cmluZyA9ICcxLjEuMSdcclxuXHRcdC8vIFZlcnNpb24gb2YgdGhlIFdNUyBzZXJ2aWNlIHRvIHVzZVxyXG5cdFx0dmVyc2lvbjogJzEuMS4xJ1xyXG5cdH0sXHJcblxyXG5cdG9wdGlvbnM6IHtcclxuXHRcdC8vIEBvcHRpb24gY3JzOiBDUlMgPSBudWxsXHJcblx0XHQvLyBDb29yZGluYXRlIFJlZmVyZW5jZSBTeXN0ZW0gdG8gdXNlIGZvciB0aGUgV01TIHJlcXVlc3RzLCBkZWZhdWx0cyB0b1xyXG5cdFx0Ly8gbWFwIENSUy4gRG9uJ3QgY2hhbmdlIHRoaXMgaWYgeW91J3JlIG5vdCBzdXJlIHdoYXQgaXQgbWVhbnMuXHJcblx0XHRjcnM6IG51bGwsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiB1cHBlcmNhc2U6IEJvb2xlYW4gPSBmYWxzZVxyXG5cdFx0Ly8gSWYgYHRydWVgLCBXTVMgcmVxdWVzdCBwYXJhbWV0ZXIga2V5cyB3aWxsIGJlIHVwcGVyY2FzZS5cclxuXHRcdHVwcGVyY2FzZTogZmFsc2VcclxuXHR9LFxyXG5cclxuXHRpbml0aWFsaXplOiBmdW5jdGlvbiAodXJsLCBvcHRpb25zKSB7XHJcblxyXG5cdFx0dGhpcy5fdXJsID0gdXJsO1xyXG5cclxuXHRcdHZhciB3bXNQYXJhbXMgPSBMLmV4dGVuZCh7fSwgdGhpcy5kZWZhdWx0V21zUGFyYW1zKTtcclxuXHJcblx0XHQvLyBhbGwga2V5cyB0aGF0IGFyZSBub3QgVGlsZUxheWVyIG9wdGlvbnMgZ28gdG8gV01TIHBhcmFtc1xyXG5cdFx0Zm9yICh2YXIgaSBpbiBvcHRpb25zKSB7XHJcblx0XHRcdGlmICghKGkgaW4gdGhpcy5vcHRpb25zKSkge1xyXG5cdFx0XHRcdHdtc1BhcmFtc1tpXSA9IG9wdGlvbnNbaV07XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRvcHRpb25zID0gTC5zZXRPcHRpb25zKHRoaXMsIG9wdGlvbnMpO1xyXG5cclxuXHRcdHdtc1BhcmFtcy53aWR0aCA9IHdtc1BhcmFtcy5oZWlnaHQgPSBvcHRpb25zLnRpbGVTaXplICogKG9wdGlvbnMuZGV0ZWN0UmV0aW5hICYmIEwuQnJvd3Nlci5yZXRpbmEgPyAyIDogMSk7XHJcblxyXG5cdFx0dGhpcy53bXNQYXJhbXMgPSB3bXNQYXJhbXM7XHJcblx0fSxcclxuXHJcblx0b25BZGQ6IGZ1bmN0aW9uIChtYXApIHtcclxuXHJcblx0XHR0aGlzLl9jcnMgPSB0aGlzLm9wdGlvbnMuY3JzIHx8IG1hcC5vcHRpb25zLmNycztcclxuXHRcdHRoaXMuX3dtc1ZlcnNpb24gPSBwYXJzZUZsb2F0KHRoaXMud21zUGFyYW1zLnZlcnNpb24pO1xyXG5cclxuXHRcdHZhciBwcm9qZWN0aW9uS2V5ID0gdGhpcy5fd21zVmVyc2lvbiA+PSAxLjMgPyAnY3JzJyA6ICdzcnMnO1xyXG5cdFx0dGhpcy53bXNQYXJhbXNbcHJvamVjdGlvbktleV0gPSB0aGlzLl9jcnMuY29kZTtcclxuXHJcblx0XHRMLlRpbGVMYXllci5wcm90b3R5cGUub25BZGQuY2FsbCh0aGlzLCBtYXApO1xyXG5cdH0sXHJcblxyXG5cdGdldFRpbGVVcmw6IGZ1bmN0aW9uIChjb29yZHMpIHtcclxuXHJcblx0XHR2YXIgdGlsZUJvdW5kcyA9IHRoaXMuX3RpbGVDb29yZHNUb0JvdW5kcyhjb29yZHMpLFxyXG5cdFx0ICAgIG53ID0gdGhpcy5fY3JzLnByb2plY3QodGlsZUJvdW5kcy5nZXROb3J0aFdlc3QoKSksXHJcblx0XHQgICAgc2UgPSB0aGlzLl9jcnMucHJvamVjdCh0aWxlQm91bmRzLmdldFNvdXRoRWFzdCgpKSxcclxuXHJcblx0XHQgICAgYmJveCA9ICh0aGlzLl93bXNWZXJzaW9uID49IDEuMyAmJiB0aGlzLl9jcnMgPT09IEwuQ1JTLkVQU0c0MzI2ID9cclxuXHRcdFx0ICAgIFtzZS55LCBudy54LCBudy55LCBzZS54XSA6XHJcblx0XHRcdCAgICBbbncueCwgc2UueSwgc2UueCwgbncueV0pLmpvaW4oJywnKSxcclxuXHJcblx0XHQgICAgdXJsID0gTC5UaWxlTGF5ZXIucHJvdG90eXBlLmdldFRpbGVVcmwuY2FsbCh0aGlzLCBjb29yZHMpO1xyXG5cclxuXHRcdHJldHVybiB1cmwgK1xyXG5cdFx0XHRMLlV0aWwuZ2V0UGFyYW1TdHJpbmcodGhpcy53bXNQYXJhbXMsIHVybCwgdGhpcy5vcHRpb25zLnVwcGVyY2FzZSkgK1xyXG5cdFx0XHQodGhpcy5vcHRpb25zLnVwcGVyY2FzZSA/ICcmQkJPWD0nIDogJyZiYm94PScpICsgYmJveDtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHNldFBhcmFtcyhwYXJhbXM6IE9iamVjdCwgbm9SZWRyYXc/OiBCb29sZWFuKTogdGhpc1xyXG5cdC8vIE1lcmdlcyBhbiBvYmplY3Qgd2l0aCB0aGUgbmV3IHBhcmFtZXRlcnMgYW5kIHJlLXJlcXVlc3RzIHRpbGVzIG9uIHRoZSBjdXJyZW50IHNjcmVlbiAodW5sZXNzIGBub1JlZHJhd2Agd2FzIHNldCB0byB0cnVlKS5cclxuXHRzZXRQYXJhbXM6IGZ1bmN0aW9uIChwYXJhbXMsIG5vUmVkcmF3KSB7XHJcblxyXG5cdFx0TC5leHRlbmQodGhpcy53bXNQYXJhbXMsIHBhcmFtcyk7XHJcblxyXG5cdFx0aWYgKCFub1JlZHJhdykge1xyXG5cdFx0XHR0aGlzLnJlZHJhdygpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH1cclxufSk7XHJcblxyXG5cclxuLy8gQGZhY3RvcnkgTC50aWxlTGF5ZXIud21zKGJhc2VVcmw6IFN0cmluZywgb3B0aW9uczogVGlsZUxheWVyLldNUyBvcHRpb25zKVxyXG4vLyBJbnN0YW50aWF0ZXMgYSBXTVMgdGlsZSBsYXllciBvYmplY3QgZ2l2ZW4gYSBiYXNlIFVSTCBvZiB0aGUgV01TIHNlcnZpY2UgYW5kIGEgV01TIHBhcmFtZXRlcnMvb3B0aW9ucyBvYmplY3QuXHJcbkwudGlsZUxheWVyLndtcyA9IGZ1bmN0aW9uICh1cmwsIG9wdGlvbnMpIHtcclxuXHRyZXR1cm4gbmV3IEwuVGlsZUxheWVyLldNUyh1cmwsIG9wdGlvbnMpO1xyXG59O1xyXG5cbi8qXHJcbiAqIEBjbGFzcyBJbWFnZU92ZXJsYXlcclxuICogQGFrYSBMLkltYWdlT3ZlcmxheVxyXG4gKiBAaW5oZXJpdHMgSW50ZXJhY3RpdmUgbGF5ZXJcclxuICpcclxuICogVXNlZCB0byBsb2FkIGFuZCBkaXNwbGF5IGEgc2luZ2xlIGltYWdlIG92ZXIgc3BlY2lmaWMgYm91bmRzIG9mIHRoZSBtYXAuIEV4dGVuZHMgYExheWVyYC5cclxuICpcclxuICogQGV4YW1wbGVcclxuICpcclxuICogYGBganNcclxuICogdmFyIGltYWdlVXJsID0gJ2h0dHA6Ly93d3cubGliLnV0ZXhhcy5lZHUvbWFwcy9oaXN0b3JpY2FsL25ld2Fya19ual8xOTIyLmpwZycsXHJcbiAqIFx0aW1hZ2VCb3VuZHMgPSBbWzQwLjcxMjIxNiwgLTc0LjIyNjU1XSwgWzQwLjc3Mzk0MSwgLTc0LjEyNTQ0XV07XHJcbiAqIEwuaW1hZ2VPdmVybGF5KGltYWdlVXJsLCBpbWFnZUJvdW5kcykuYWRkVG8obWFwKTtcclxuICogYGBgXHJcbiAqL1xyXG5cclxuTC5JbWFnZU92ZXJsYXkgPSBMLkxheWVyLmV4dGVuZCh7XHJcblxyXG5cdC8vIEBzZWN0aW9uXHJcblx0Ly8gQGFrYSBJbWFnZU92ZXJsYXkgb3B0aW9uc1xyXG5cdG9wdGlvbnM6IHtcclxuXHRcdC8vIEBvcHRpb24gb3BhY2l0eTogTnVtYmVyID0gMS4wXHJcblx0XHQvLyBUaGUgb3BhY2l0eSBvZiB0aGUgaW1hZ2Ugb3ZlcmxheS5cclxuXHRcdG9wYWNpdHk6IDEsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiBhbHQ6IFN0cmluZyA9ICcnXHJcblx0XHQvLyBUZXh0IGZvciB0aGUgYGFsdGAgYXR0cmlidXRlIG9mIHRoZSBpbWFnZSAodXNlZnVsIGZvciBhY2Nlc3NpYmlsaXR5KS5cclxuXHRcdGFsdDogJycsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiBpbnRlcmFjdGl2ZTogQm9vbGVhbiA9IGZhbHNlXHJcblx0XHQvLyBJZiBgdHJ1ZWAsIHRoZSBpbWFnZSBvdmVybGF5IHdpbGwgZW1pdCBbbW91c2UgZXZlbnRzXSgjaW50ZXJhY3RpdmUtbGF5ZXIpIHdoZW4gY2xpY2tlZCBvciBob3ZlcmVkLlxyXG5cdFx0aW50ZXJhY3RpdmU6IGZhbHNlLFxyXG5cclxuXHRcdC8vIEBvcHRpb24gYXR0cmlidXRpb246IFN0cmluZyA9IG51bGxcclxuXHRcdC8vIEFuIG9wdGlvbmFsIHN0cmluZyBjb250YWluaW5nIEhUTUwgdG8gYmUgc2hvd24gb24gdGhlIGBBdHRyaWJ1dGlvbiBjb250cm9sYFxyXG5cdFx0YXR0cmlidXRpb246IG51bGwsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiBjcm9zc09yaWdpbjogQm9vbGVhbiA9IGZhbHNlXHJcblx0XHQvLyBJZiB0cnVlLCB0aGUgaW1hZ2Ugd2lsbCBoYXZlIGl0cyBjcm9zc09yaWdpbiBhdHRyaWJ1dGUgc2V0IHRvICcnLiBUaGlzIGlzIG5lZWRlZCBpZiB5b3Ugd2FudCB0byBhY2Nlc3MgaW1hZ2UgcGl4ZWwgZGF0YS5cclxuXHRcdGNyb3NzT3JpZ2luOiBmYWxzZVxyXG5cdH0sXHJcblxyXG5cdGluaXRpYWxpemU6IGZ1bmN0aW9uICh1cmwsIGJvdW5kcywgb3B0aW9ucykgeyAvLyAoU3RyaW5nLCBMYXRMbmdCb3VuZHMsIE9iamVjdClcclxuXHRcdHRoaXMuX3VybCA9IHVybDtcclxuXHRcdHRoaXMuX2JvdW5kcyA9IEwubGF0TG5nQm91bmRzKGJvdW5kcyk7XHJcblxyXG5cdFx0TC5zZXRPcHRpb25zKHRoaXMsIG9wdGlvbnMpO1xyXG5cdH0sXHJcblxyXG5cdG9uQWRkOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRpZiAoIXRoaXMuX2ltYWdlKSB7XHJcblx0XHRcdHRoaXMuX2luaXRJbWFnZSgpO1xyXG5cclxuXHRcdFx0aWYgKHRoaXMub3B0aW9ucy5vcGFjaXR5IDwgMSkge1xyXG5cdFx0XHRcdHRoaXMuX3VwZGF0ZU9wYWNpdHkoKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGlmICh0aGlzLm9wdGlvbnMuaW50ZXJhY3RpdmUpIHtcclxuXHRcdFx0TC5Eb21VdGlsLmFkZENsYXNzKHRoaXMuX2ltYWdlLCAnbGVhZmxldC1pbnRlcmFjdGl2ZScpO1xyXG5cdFx0XHR0aGlzLmFkZEludGVyYWN0aXZlVGFyZ2V0KHRoaXMuX2ltYWdlKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLmdldFBhbmUoKS5hcHBlbmRDaGlsZCh0aGlzLl9pbWFnZSk7XHJcblx0XHR0aGlzLl9yZXNldCgpO1xyXG5cdH0sXHJcblxyXG5cdG9uUmVtb3ZlOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRMLkRvbVV0aWwucmVtb3ZlKHRoaXMuX2ltYWdlKTtcclxuXHRcdGlmICh0aGlzLm9wdGlvbnMuaW50ZXJhY3RpdmUpIHtcclxuXHRcdFx0dGhpcy5yZW1vdmVJbnRlcmFjdGl2ZVRhcmdldCh0aGlzLl9pbWFnZSk7XHJcblx0XHR9XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBzZXRPcGFjaXR5KG9wYWNpdHk6IE51bWJlcik6IHRoaXNcclxuXHQvLyBTZXRzIHRoZSBvcGFjaXR5IG9mIHRoZSBvdmVybGF5LlxyXG5cdHNldE9wYWNpdHk6IGZ1bmN0aW9uIChvcGFjaXR5KSB7XHJcblx0XHR0aGlzLm9wdGlvbnMub3BhY2l0eSA9IG9wYWNpdHk7XHJcblxyXG5cdFx0aWYgKHRoaXMuX2ltYWdlKSB7XHJcblx0XHRcdHRoaXMuX3VwZGF0ZU9wYWNpdHkoKTtcclxuXHRcdH1cclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH0sXHJcblxyXG5cdHNldFN0eWxlOiBmdW5jdGlvbiAoc3R5bGVPcHRzKSB7XHJcblx0XHRpZiAoc3R5bGVPcHRzLm9wYWNpdHkpIHtcclxuXHRcdFx0dGhpcy5zZXRPcGFjaXR5KHN0eWxlT3B0cy5vcGFjaXR5KTtcclxuXHRcdH1cclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgYnJpbmdUb0Zyb250KCk6IHRoaXNcclxuXHQvLyBCcmluZ3MgdGhlIGxheWVyIHRvIHRoZSB0b3Agb2YgYWxsIG92ZXJsYXlzLlxyXG5cdGJyaW5nVG9Gcm9udDogZnVuY3Rpb24gKCkge1xyXG5cdFx0aWYgKHRoaXMuX21hcCkge1xyXG5cdFx0XHRMLkRvbVV0aWwudG9Gcm9udCh0aGlzLl9pbWFnZSk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGJyaW5nVG9CYWNrKCk6IHRoaXNcclxuXHQvLyBCcmluZ3MgdGhlIGxheWVyIHRvIHRoZSBib3R0b20gb2YgYWxsIG92ZXJsYXlzLlxyXG5cdGJyaW5nVG9CYWNrOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRpZiAodGhpcy5fbWFwKSB7XHJcblx0XHRcdEwuRG9tVXRpbC50b0JhY2sodGhpcy5faW1hZ2UpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBzZXRVcmwodXJsOiBTdHJpbmcpOiB0aGlzXHJcblx0Ly8gQ2hhbmdlcyB0aGUgVVJMIG9mIHRoZSBpbWFnZS5cclxuXHRzZXRVcmw6IGZ1bmN0aW9uICh1cmwpIHtcclxuXHRcdHRoaXMuX3VybCA9IHVybDtcclxuXHJcblx0XHRpZiAodGhpcy5faW1hZ2UpIHtcclxuXHRcdFx0dGhpcy5faW1hZ2Uuc3JjID0gdXJsO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0c2V0Qm91bmRzOiBmdW5jdGlvbiAoYm91bmRzKSB7XHJcblx0XHR0aGlzLl9ib3VuZHMgPSBib3VuZHM7XHJcblxyXG5cdFx0aWYgKHRoaXMuX21hcCkge1xyXG5cdFx0XHR0aGlzLl9yZXNldCgpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0Z2V0QXR0cmlidXRpb246IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiB0aGlzLm9wdGlvbnMuYXR0cmlidXRpb247XHJcblx0fSxcclxuXHJcblx0Z2V0RXZlbnRzOiBmdW5jdGlvbiAoKSB7XHJcblx0XHR2YXIgZXZlbnRzID0ge1xyXG5cdFx0XHR6b29tOiB0aGlzLl9yZXNldCxcclxuXHRcdFx0dmlld3Jlc2V0OiB0aGlzLl9yZXNldFxyXG5cdFx0fTtcclxuXHJcblx0XHRpZiAodGhpcy5fem9vbUFuaW1hdGVkKSB7XHJcblx0XHRcdGV2ZW50cy56b29tYW5pbSA9IHRoaXMuX2FuaW1hdGVab29tO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBldmVudHM7XHJcblx0fSxcclxuXHJcblx0Z2V0Qm91bmRzOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5fYm91bmRzO1xyXG5cdH0sXHJcblxyXG5cdGdldEVsZW1lbnQ6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiB0aGlzLl9pbWFnZTtcclxuXHR9LFxyXG5cclxuXHRfaW5pdEltYWdlOiBmdW5jdGlvbiAoKSB7XHJcblx0XHR2YXIgaW1nID0gdGhpcy5faW1hZ2UgPSBMLkRvbVV0aWwuY3JlYXRlKCdpbWcnLFxyXG5cdFx0XHRcdCdsZWFmbGV0LWltYWdlLWxheWVyICcgKyAodGhpcy5fem9vbUFuaW1hdGVkID8gJ2xlYWZsZXQtem9vbS1hbmltYXRlZCcgOiAnJykpO1xyXG5cclxuXHRcdGltZy5vbnNlbGVjdHN0YXJ0ID0gTC5VdGlsLmZhbHNlRm47XHJcblx0XHRpbWcub25tb3VzZW1vdmUgPSBMLlV0aWwuZmFsc2VGbjtcclxuXHJcblx0XHRpbWcub25sb2FkID0gTC5iaW5kKHRoaXMuZmlyZSwgdGhpcywgJ2xvYWQnKTtcclxuXHJcblx0XHRpZiAodGhpcy5vcHRpb25zLmNyb3NzT3JpZ2luKSB7XHJcblx0XHRcdGltZy5jcm9zc09yaWdpbiA9ICcnO1xyXG5cdFx0fVxyXG5cclxuXHRcdGltZy5zcmMgPSB0aGlzLl91cmw7XHJcblx0XHRpbWcuYWx0ID0gdGhpcy5vcHRpb25zLmFsdDtcclxuXHR9LFxyXG5cclxuXHRfYW5pbWF0ZVpvb206IGZ1bmN0aW9uIChlKSB7XHJcblx0XHR2YXIgc2NhbGUgPSB0aGlzLl9tYXAuZ2V0Wm9vbVNjYWxlKGUuem9vbSksXHJcblx0XHQgICAgb2Zmc2V0ID0gdGhpcy5fbWFwLl9sYXRMbmdUb05ld0xheWVyUG9pbnQodGhpcy5fYm91bmRzLmdldE5vcnRoV2VzdCgpLCBlLnpvb20sIGUuY2VudGVyKTtcclxuXHJcblx0XHRMLkRvbVV0aWwuc2V0VHJhbnNmb3JtKHRoaXMuX2ltYWdlLCBvZmZzZXQsIHNjYWxlKTtcclxuXHR9LFxyXG5cclxuXHRfcmVzZXQ6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHZhciBpbWFnZSA9IHRoaXMuX2ltYWdlLFxyXG5cdFx0ICAgIGJvdW5kcyA9IG5ldyBMLkJvdW5kcyhcclxuXHRcdCAgICAgICAgdGhpcy5fbWFwLmxhdExuZ1RvTGF5ZXJQb2ludCh0aGlzLl9ib3VuZHMuZ2V0Tm9ydGhXZXN0KCkpLFxyXG5cdFx0ICAgICAgICB0aGlzLl9tYXAubGF0TG5nVG9MYXllclBvaW50KHRoaXMuX2JvdW5kcy5nZXRTb3V0aEVhc3QoKSkpLFxyXG5cdFx0ICAgIHNpemUgPSBib3VuZHMuZ2V0U2l6ZSgpO1xyXG5cclxuXHRcdEwuRG9tVXRpbC5zZXRQb3NpdGlvbihpbWFnZSwgYm91bmRzLm1pbik7XHJcblxyXG5cdFx0aW1hZ2Uuc3R5bGUud2lkdGggID0gc2l6ZS54ICsgJ3B4JztcclxuXHRcdGltYWdlLnN0eWxlLmhlaWdodCA9IHNpemUueSArICdweCc7XHJcblx0fSxcclxuXHJcblx0X3VwZGF0ZU9wYWNpdHk6IGZ1bmN0aW9uICgpIHtcclxuXHRcdEwuRG9tVXRpbC5zZXRPcGFjaXR5KHRoaXMuX2ltYWdlLCB0aGlzLm9wdGlvbnMub3BhY2l0eSk7XHJcblx0fVxyXG59KTtcclxuXHJcbi8vIEBmYWN0b3J5IEwuaW1hZ2VPdmVybGF5KGltYWdlVXJsOiBTdHJpbmcsIGJvdW5kczogTGF0TG5nQm91bmRzLCBvcHRpb25zPzogSW1hZ2VPdmVybGF5IG9wdGlvbnMpXHJcbi8vIEluc3RhbnRpYXRlcyBhbiBpbWFnZSBvdmVybGF5IG9iamVjdCBnaXZlbiB0aGUgVVJMIG9mIHRoZSBpbWFnZSBhbmQgdGhlXHJcbi8vIGdlb2dyYXBoaWNhbCBib3VuZHMgaXQgaXMgdGllZCB0by5cclxuTC5pbWFnZU92ZXJsYXkgPSBmdW5jdGlvbiAodXJsLCBib3VuZHMsIG9wdGlvbnMpIHtcclxuXHRyZXR1cm4gbmV3IEwuSW1hZ2VPdmVybGF5KHVybCwgYm91bmRzLCBvcHRpb25zKTtcclxufTtcclxuXG4vKlxyXG4gKiBAY2xhc3MgSWNvblxyXG4gKiBAYWthIEwuSWNvblxyXG4gKiBAaW5oZXJpdHMgTGF5ZXJcclxuICpcclxuICogUmVwcmVzZW50cyBhbiBpY29uIHRvIHByb3ZpZGUgd2hlbiBjcmVhdGluZyBhIG1hcmtlci5cclxuICpcclxuICogQGV4YW1wbGVcclxuICpcclxuICogYGBganNcclxuICogdmFyIG15SWNvbiA9IEwuaWNvbih7XHJcbiAqICAgICBpY29uVXJsOiAnbXktaWNvbi5wbmcnLFxyXG4gKiAgICAgaWNvblJldGluYVVybDogJ215LWljb25AMngucG5nJyxcclxuICogICAgIGljb25TaXplOiBbMzgsIDk1XSxcclxuICogICAgIGljb25BbmNob3I6IFsyMiwgOTRdLFxyXG4gKiAgICAgcG9wdXBBbmNob3I6IFstMywgLTc2XSxcclxuICogICAgIHNoYWRvd1VybDogJ215LWljb24tc2hhZG93LnBuZycsXHJcbiAqICAgICBzaGFkb3dSZXRpbmFVcmw6ICdteS1pY29uLXNoYWRvd0AyeC5wbmcnLFxyXG4gKiAgICAgc2hhZG93U2l6ZTogWzY4LCA5NV0sXHJcbiAqICAgICBzaGFkb3dBbmNob3I6IFsyMiwgOTRdXHJcbiAqIH0pO1xyXG4gKlxyXG4gKiBMLm1hcmtlcihbNTAuNTA1LCAzMC41N10sIHtpY29uOiBteUljb259KS5hZGRUbyhtYXApO1xyXG4gKiBgYGBcclxuICpcclxuICogYEwuSWNvbi5EZWZhdWx0YCBleHRlbmRzIGBMLkljb25gIGFuZCBpcyB0aGUgYmx1ZSBpY29uIExlYWZsZXQgdXNlcyBmb3IgbWFya2VycyBieSBkZWZhdWx0LlxyXG4gKlxyXG4gKi9cclxuXHJcbkwuSWNvbiA9IEwuQ2xhc3MuZXh0ZW5kKHtcclxuXHJcblx0LyogQHNlY3Rpb25cclxuXHQgKiBAYWthIEljb24gb3B0aW9uc1xyXG5cdCAqXHJcblx0ICogQG9wdGlvbiBpY29uVXJsOiBTdHJpbmcgPSBudWxsXHJcblx0ICogKioocmVxdWlyZWQpKiogVGhlIFVSTCB0byB0aGUgaWNvbiBpbWFnZSAoYWJzb2x1dGUgb3IgcmVsYXRpdmUgdG8geW91ciBzY3JpcHQgcGF0aCkuXHJcblx0ICpcclxuXHQgKiBAb3B0aW9uIGljb25SZXRpbmFVcmw6IFN0cmluZyA9IG51bGxcclxuXHQgKiBUaGUgVVJMIHRvIGEgcmV0aW5hIHNpemVkIHZlcnNpb24gb2YgdGhlIGljb24gaW1hZ2UgKGFic29sdXRlIG9yIHJlbGF0aXZlIHRvIHlvdXJcclxuXHQgKiBzY3JpcHQgcGF0aCkuIFVzZWQgZm9yIFJldGluYSBzY3JlZW4gZGV2aWNlcy5cclxuXHQgKlxyXG5cdCAqIEBvcHRpb24gaWNvblNpemU6IFBvaW50ID0gbnVsbFxyXG5cdCAqIFNpemUgb2YgdGhlIGljb24gaW1hZ2UgaW4gcGl4ZWxzLlxyXG5cdCAqXHJcblx0ICogQG9wdGlvbiBpY29uQW5jaG9yOiBQb2ludCA9IG51bGxcclxuXHQgKiBUaGUgY29vcmRpbmF0ZXMgb2YgdGhlIFwidGlwXCIgb2YgdGhlIGljb24gKHJlbGF0aXZlIHRvIGl0cyB0b3AgbGVmdCBjb3JuZXIpLiBUaGUgaWNvblxyXG5cdCAqIHdpbGwgYmUgYWxpZ25lZCBzbyB0aGF0IHRoaXMgcG9pbnQgaXMgYXQgdGhlIG1hcmtlcidzIGdlb2dyYXBoaWNhbCBsb2NhdGlvbi4gQ2VudGVyZWRcclxuXHQgKiBieSBkZWZhdWx0IGlmIHNpemUgaXMgc3BlY2lmaWVkLCBhbHNvIGNhbiBiZSBzZXQgaW4gQ1NTIHdpdGggbmVnYXRpdmUgbWFyZ2lucy5cclxuXHQgKlxyXG5cdCAqIEBvcHRpb24gcG9wdXBBbmNob3I6IFBvaW50ID0gbnVsbFxyXG5cdCAqIFRoZSBjb29yZGluYXRlcyBvZiB0aGUgcG9pbnQgZnJvbSB3aGljaCBwb3B1cHMgd2lsbCBcIm9wZW5cIiwgcmVsYXRpdmUgdG8gdGhlIGljb24gYW5jaG9yLlxyXG5cdCAqXHJcblx0ICogQG9wdGlvbiBzaGFkb3dVcmw6IFN0cmluZyA9IG51bGxcclxuXHQgKiBUaGUgVVJMIHRvIHRoZSBpY29uIHNoYWRvdyBpbWFnZS4gSWYgbm90IHNwZWNpZmllZCwgbm8gc2hhZG93IGltYWdlIHdpbGwgYmUgY3JlYXRlZC5cclxuXHQgKlxyXG5cdCAqIEBvcHRpb24gc2hhZG93UmV0aW5hVXJsOiBTdHJpbmcgPSBudWxsXHJcblx0ICpcclxuXHQgKiBAb3B0aW9uIHNoYWRvd1NpemU6IFBvaW50ID0gbnVsbFxyXG5cdCAqIFNpemUgb2YgdGhlIHNoYWRvdyBpbWFnZSBpbiBwaXhlbHMuXHJcblx0ICpcclxuXHQgKiBAb3B0aW9uIHNoYWRvd0FuY2hvcjogUG9pbnQgPSBudWxsXHJcblx0ICogVGhlIGNvb3JkaW5hdGVzIG9mIHRoZSBcInRpcFwiIG9mIHRoZSBzaGFkb3cgKHJlbGF0aXZlIHRvIGl0cyB0b3AgbGVmdCBjb3JuZXIpICh0aGUgc2FtZVxyXG5cdCAqIGFzIGljb25BbmNob3IgaWYgbm90IHNwZWNpZmllZCkuXHJcblx0ICpcclxuXHQgKiBAb3B0aW9uIGNsYXNzTmFtZTogU3RyaW5nID0gJydcclxuXHQgKiBBIGN1c3RvbSBjbGFzcyBuYW1lIHRvIGFzc2lnbiB0byBib3RoIGljb24gYW5kIHNoYWRvdyBpbWFnZXMuIEVtcHR5IGJ5IGRlZmF1bHQuXHJcblx0ICovXHJcblxyXG5cdGluaXRpYWxpemU6IGZ1bmN0aW9uIChvcHRpb25zKSB7XHJcblx0XHRMLnNldE9wdGlvbnModGhpcywgb3B0aW9ucyk7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBjcmVhdGVJY29uKG9sZEljb24/OiBIVE1MRWxlbWVudCk6IEhUTUxFbGVtZW50XHJcblx0Ly8gQ2FsbGVkIGludGVybmFsbHkgd2hlbiB0aGUgaWNvbiBoYXMgdG8gYmUgc2hvd24sIHJldHVybnMgYSBgPGltZz5gIEhUTUwgZWxlbWVudFxyXG5cdC8vIHN0eWxlZCBhY2NvcmRpbmcgdG8gdGhlIG9wdGlvbnMuXHJcblx0Y3JlYXRlSWNvbjogZnVuY3Rpb24gKG9sZEljb24pIHtcclxuXHRcdHJldHVybiB0aGlzLl9jcmVhdGVJY29uKCdpY29uJywgb2xkSWNvbik7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBjcmVhdGVTaGFkb3cob2xkSWNvbj86IEhUTUxFbGVtZW50KTogSFRNTEVsZW1lbnRcclxuXHQvLyBBcyBgY3JlYXRlSWNvbmAsIGJ1dCBmb3IgdGhlIHNoYWRvdyBiZW5lYXRoIGl0LlxyXG5cdGNyZWF0ZVNoYWRvdzogZnVuY3Rpb24gKG9sZEljb24pIHtcclxuXHRcdHJldHVybiB0aGlzLl9jcmVhdGVJY29uKCdzaGFkb3cnLCBvbGRJY29uKTtcclxuXHR9LFxyXG5cclxuXHRfY3JlYXRlSWNvbjogZnVuY3Rpb24gKG5hbWUsIG9sZEljb24pIHtcclxuXHRcdHZhciBzcmMgPSB0aGlzLl9nZXRJY29uVXJsKG5hbWUpO1xyXG5cclxuXHRcdGlmICghc3JjKSB7XHJcblx0XHRcdGlmIChuYW1lID09PSAnaWNvbicpIHtcclxuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ2ljb25Vcmwgbm90IHNldCBpbiBJY29uIG9wdGlvbnMgKHNlZSB0aGUgZG9jcykuJyk7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0dmFyIGltZyA9IHRoaXMuX2NyZWF0ZUltZyhzcmMsIG9sZEljb24gJiYgb2xkSWNvbi50YWdOYW1lID09PSAnSU1HJyA/IG9sZEljb24gOiBudWxsKTtcclxuXHRcdHRoaXMuX3NldEljb25TdHlsZXMoaW1nLCBuYW1lKTtcclxuXHJcblx0XHRyZXR1cm4gaW1nO1xyXG5cdH0sXHJcblxyXG5cdF9zZXRJY29uU3R5bGVzOiBmdW5jdGlvbiAoaW1nLCBuYW1lKSB7XHJcblx0XHR2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcclxuXHRcdHZhciBzaXplT3B0aW9uID0gb3B0aW9uc1tuYW1lICsgJ1NpemUnXTtcclxuXHJcblx0XHRpZiAodHlwZW9mIHNpemVPcHRpb24gPT09ICdudW1iZXInKSB7XHJcblx0XHRcdHNpemVPcHRpb24gPSBbc2l6ZU9wdGlvbiwgc2l6ZU9wdGlvbl07XHJcblx0XHR9XHJcblxyXG5cdFx0dmFyIHNpemUgPSBMLnBvaW50KHNpemVPcHRpb24pLFxyXG5cdFx0ICAgIGFuY2hvciA9IEwucG9pbnQobmFtZSA9PT0gJ3NoYWRvdycgJiYgb3B0aW9ucy5zaGFkb3dBbmNob3IgfHwgb3B0aW9ucy5pY29uQW5jaG9yIHx8XHJcblx0XHQgICAgICAgICAgICBzaXplICYmIHNpemUuZGl2aWRlQnkoMiwgdHJ1ZSkpO1xyXG5cclxuXHRcdGltZy5jbGFzc05hbWUgPSAnbGVhZmxldC1tYXJrZXItJyArIG5hbWUgKyAnICcgKyAob3B0aW9ucy5jbGFzc05hbWUgfHwgJycpO1xyXG5cclxuXHRcdGlmIChhbmNob3IpIHtcclxuXHRcdFx0aW1nLnN0eWxlLm1hcmdpbkxlZnQgPSAoLWFuY2hvci54KSArICdweCc7XHJcblx0XHRcdGltZy5zdHlsZS5tYXJnaW5Ub3AgID0gKC1hbmNob3IueSkgKyAncHgnO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChzaXplKSB7XHJcblx0XHRcdGltZy5zdHlsZS53aWR0aCAgPSBzaXplLnggKyAncHgnO1xyXG5cdFx0XHRpbWcuc3R5bGUuaGVpZ2h0ID0gc2l6ZS55ICsgJ3B4JztcclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHRfY3JlYXRlSW1nOiBmdW5jdGlvbiAoc3JjLCBlbCkge1xyXG5cdFx0ZWwgPSBlbCB8fCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcclxuXHRcdGVsLnNyYyA9IHNyYztcclxuXHRcdHJldHVybiBlbDtcclxuXHR9LFxyXG5cclxuXHRfZ2V0SWNvblVybDogZnVuY3Rpb24gKG5hbWUpIHtcclxuXHRcdHJldHVybiBMLkJyb3dzZXIucmV0aW5hICYmIHRoaXMub3B0aW9uc1tuYW1lICsgJ1JldGluYVVybCddIHx8IHRoaXMub3B0aW9uc1tuYW1lICsgJ1VybCddO1xyXG5cdH1cclxufSk7XHJcblxyXG5cclxuLy8gQGZhY3RvcnkgTC5pY29uKG9wdGlvbnM6IEljb24gb3B0aW9ucylcclxuLy8gQ3JlYXRlcyBhbiBpY29uIGluc3RhbmNlIHdpdGggdGhlIGdpdmVuIG9wdGlvbnMuXHJcbkwuaWNvbiA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XHJcblx0cmV0dXJuIG5ldyBMLkljb24ob3B0aW9ucyk7XHJcbn07XHJcblxuLypcbiAqIEBtaW5pY2xhc3MgSWNvbi5EZWZhdWx0IChJY29uKVxuICogQGFrYSBMLkljb24uRGVmYXVsdFxuICogQHNlY3Rpb25cbiAqXG4gKiBBIHRyaXZpYWwgc3ViY2xhc3Mgb2YgYEljb25gLCByZXByZXNlbnRzIHRoZSBpY29uIHRvIHVzZSBpbiBgTWFya2VyYHMgd2hlblxuICogbm8gaWNvbiBpcyBzcGVjaWZpZWQuIFBvaW50cyB0byB0aGUgYmx1ZSBtYXJrZXIgaW1hZ2UgZGlzdHJpYnV0ZWQgd2l0aCBMZWFmbGV0XG4gKiByZWxlYXNlcy5cbiAqXG4gKiBJbiBvcmRlciB0byBjaGFuZ2UgdGhlIGRlZmF1bHQgaWNvbiwganVzdCBjaGFuZ2UgdGhlIHByb3BlcnRpZXMgb2YgYEwuSWNvbi5EZWZhdWx0LnByb3RvdHlwZS5vcHRpb25zYFxuICogKHdoaWNoIGlzIGEgc2V0IG9mIGBJY29uIG9wdGlvbnNgKS5cbiAqL1xuXG5MLkljb24uRGVmYXVsdCA9IEwuSWNvbi5leHRlbmQoe1xuXG5cdG9wdGlvbnM6IHtcblx0XHRpY29uVXJsOiAgICAgICAnbWFya2VyLWljb24ucG5nJyxcblx0XHRpY29uUmV0aW5hVXJsOiAnbWFya2VyLWljb24tMngucG5nJyxcblx0XHRzaGFkb3dVcmw6ICAgICAnbWFya2VyLXNoYWRvdy5wbmcnLFxuXHRcdGljb25TaXplOiAgICBbMjUsIDQxXSxcblx0XHRpY29uQW5jaG9yOiAgWzEyLCA0MV0sXG5cdFx0cG9wdXBBbmNob3I6IFsxLCAtMzRdLFxuXHRcdHRvb2x0aXBBbmNob3I6IFsxNiwgLTI4XSxcblx0XHRzaGFkb3dTaXplOiAgWzQxLCA0MV1cblx0fSxcblxuXHRfZ2V0SWNvblVybDogZnVuY3Rpb24gKG5hbWUpIHtcblx0XHRpZiAoIUwuSWNvbi5EZWZhdWx0LmltYWdlUGF0aCkge1x0Ly8gRGVwcmVjYXRlZCwgYmFja3dhcmRzLWNvbXBhdGliaWxpdHkgb25seVxuXHRcdFx0TC5JY29uLkRlZmF1bHQuaW1hZ2VQYXRoID0gdGhpcy5fZGV0ZWN0SWNvblBhdGgoKTtcblx0XHR9XG5cblx0XHQvLyBAb3B0aW9uIGltYWdlUGF0aDogU3RyaW5nXG5cdFx0Ly8gYEwuSWNvbi5EZWZhdWx0YCB3aWxsIHRyeSB0byBhdXRvLWRldGVjdCB0aGUgYWJzb2x1dGUgbG9jYXRpb24gb2YgdGhlXG5cdFx0Ly8gYmx1ZSBpY29uIGltYWdlcy4gSWYgeW91IGFyZSBwbGFjaW5nIHRoZXNlIGltYWdlcyBpbiBhIG5vbi1zdGFuZGFyZFxuXHRcdC8vIHdheSwgc2V0IHRoaXMgb3B0aW9uIHRvIHBvaW50IHRvIHRoZSByaWdodCBhYnNvbHV0ZSBwYXRoLlxuXHRcdHJldHVybiAodGhpcy5vcHRpb25zLmltYWdlUGF0aCB8fCBMLkljb24uRGVmYXVsdC5pbWFnZVBhdGgpICsgTC5JY29uLnByb3RvdHlwZS5fZ2V0SWNvblVybC5jYWxsKHRoaXMsIG5hbWUpO1xuXHR9LFxuXG5cdF9kZXRlY3RJY29uUGF0aDogZnVuY3Rpb24gKCkge1xuXHRcdHZhciBlbCA9IEwuRG9tVXRpbC5jcmVhdGUoJ2RpdicsICAnbGVhZmxldC1kZWZhdWx0LWljb24tcGF0aCcsIGRvY3VtZW50LmJvZHkpO1xuXHRcdHZhciBwYXRoID0gTC5Eb21VdGlsLmdldFN0eWxlKGVsLCAnYmFja2dyb3VuZC1pbWFnZScpIHx8XG5cdFx0ICAgICAgICAgICBMLkRvbVV0aWwuZ2V0U3R5bGUoZWwsICdiYWNrZ3JvdW5kSW1hZ2UnKTtcdC8vIElFOFxuXG5cdFx0ZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChlbCk7XG5cblx0XHRyZXR1cm4gcGF0aC5pbmRleE9mKCd1cmwnKSA9PT0gMCA/XG5cdFx0XHRwYXRoLnJlcGxhY2UoL151cmxcXChbXFxcIlxcJ10/LywgJycpLnJlcGxhY2UoL21hcmtlci1pY29uXFwucG5nW1xcXCJcXCddP1xcKSQvLCAnJykgOiAnJztcblx0fVxufSk7XG5cbi8qXHJcbiAqIEBjbGFzcyBNYXJrZXJcclxuICogQGluaGVyaXRzIEludGVyYWN0aXZlIGxheWVyXHJcbiAqIEBha2EgTC5NYXJrZXJcclxuICogTC5NYXJrZXIgaXMgdXNlZCB0byBkaXNwbGF5IGNsaWNrYWJsZS9kcmFnZ2FibGUgaWNvbnMgb24gdGhlIG1hcC4gRXh0ZW5kcyBgTGF5ZXJgLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKlxyXG4gKiBgYGBqc1xyXG4gKiBMLm1hcmtlcihbNTAuNSwgMzAuNV0pLmFkZFRvKG1hcCk7XHJcbiAqIGBgYFxyXG4gKi9cclxuXHJcbkwuTWFya2VyID0gTC5MYXllci5leHRlbmQoe1xyXG5cclxuXHQvLyBAc2VjdGlvblxyXG5cdC8vIEBha2EgTWFya2VyIG9wdGlvbnNcclxuXHRvcHRpb25zOiB7XHJcblx0XHQvLyBAb3B0aW9uIGljb246IEljb24gPSAqXHJcblx0XHQvLyBJY29uIGNsYXNzIHRvIHVzZSBmb3IgcmVuZGVyaW5nIHRoZSBtYXJrZXIuIFNlZSBbSWNvbiBkb2N1bWVudGF0aW9uXSgjTC5JY29uKSBmb3IgZGV0YWlscyBvbiBob3cgdG8gY3VzdG9taXplIHRoZSBtYXJrZXIgaWNvbi4gSWYgbm90IHNwZWNpZmllZCwgYSBuZXcgYEwuSWNvbi5EZWZhdWx0YCBpcyB1c2VkLlxyXG5cdFx0aWNvbjogbmV3IEwuSWNvbi5EZWZhdWx0KCksXHJcblxyXG5cdFx0Ly8gT3B0aW9uIGluaGVyaXRlZCBmcm9tIFwiSW50ZXJhY3RpdmUgbGF5ZXJcIiBhYnN0cmFjdCBjbGFzc1xyXG5cdFx0aW50ZXJhY3RpdmU6IHRydWUsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiBkcmFnZ2FibGU6IEJvb2xlYW4gPSBmYWxzZVxyXG5cdFx0Ly8gV2hldGhlciB0aGUgbWFya2VyIGlzIGRyYWdnYWJsZSB3aXRoIG1vdXNlL3RvdWNoIG9yIG5vdC5cclxuXHRcdGRyYWdnYWJsZTogZmFsc2UsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiBrZXlib2FyZDogQm9vbGVhbiA9IHRydWVcclxuXHRcdC8vIFdoZXRoZXIgdGhlIG1hcmtlciBjYW4gYmUgdGFiYmVkIHRvIHdpdGggYSBrZXlib2FyZCBhbmQgY2xpY2tlZCBieSBwcmVzc2luZyBlbnRlci5cclxuXHRcdGtleWJvYXJkOiB0cnVlLFxyXG5cclxuXHRcdC8vIEBvcHRpb24gdGl0bGU6IFN0cmluZyA9ICcnXHJcblx0XHQvLyBUZXh0IGZvciB0aGUgYnJvd3NlciB0b29sdGlwIHRoYXQgYXBwZWFyIG9uIG1hcmtlciBob3ZlciAobm8gdG9vbHRpcCBieSBkZWZhdWx0KS5cclxuXHRcdHRpdGxlOiAnJyxcclxuXHJcblx0XHQvLyBAb3B0aW9uIGFsdDogU3RyaW5nID0gJydcclxuXHRcdC8vIFRleHQgZm9yIHRoZSBgYWx0YCBhdHRyaWJ1dGUgb2YgdGhlIGljb24gaW1hZ2UgKHVzZWZ1bCBmb3IgYWNjZXNzaWJpbGl0eSkuXHJcblx0XHRhbHQ6ICcnLFxyXG5cclxuXHRcdC8vIEBvcHRpb24gekluZGV4T2Zmc2V0OiBOdW1iZXIgPSAwXHJcblx0XHQvLyBCeSBkZWZhdWx0LCBtYXJrZXIgaW1hZ2VzIHpJbmRleCBpcyBzZXQgYXV0b21hdGljYWxseSBiYXNlZCBvbiBpdHMgbGF0aXR1ZGUuIFVzZSB0aGlzIG9wdGlvbiBpZiB5b3Ugd2FudCB0byBwdXQgdGhlIG1hcmtlciBvbiB0b3Agb2YgYWxsIG90aGVycyAob3IgYmVsb3cpLCBzcGVjaWZ5aW5nIGEgaGlnaCB2YWx1ZSBsaWtlIGAxMDAwYCAob3IgaGlnaCBuZWdhdGl2ZSB2YWx1ZSwgcmVzcGVjdGl2ZWx5KS5cclxuXHRcdHpJbmRleE9mZnNldDogMCxcclxuXHJcblx0XHQvLyBAb3B0aW9uIG9wYWNpdHk6IE51bWJlciA9IDEuMFxyXG5cdFx0Ly8gVGhlIG9wYWNpdHkgb2YgdGhlIG1hcmtlci5cclxuXHRcdG9wYWNpdHk6IDEsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiByaXNlT25Ib3ZlcjogQm9vbGVhbiA9IGZhbHNlXHJcblx0XHQvLyBJZiBgdHJ1ZWAsIHRoZSBtYXJrZXIgd2lsbCBnZXQgb24gdG9wIG9mIG90aGVycyB3aGVuIHlvdSBob3ZlciB0aGUgbW91c2Ugb3ZlciBpdC5cclxuXHRcdHJpc2VPbkhvdmVyOiBmYWxzZSxcclxuXHJcblx0XHQvLyBAb3B0aW9uIHJpc2VPZmZzZXQ6IE51bWJlciA9IDI1MFxyXG5cdFx0Ly8gVGhlIHotaW5kZXggb2Zmc2V0IHVzZWQgZm9yIHRoZSBgcmlzZU9uSG92ZXJgIGZlYXR1cmUuXHJcblx0XHRyaXNlT2Zmc2V0OiAyNTAsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiBwYW5lOiBTdHJpbmcgPSAnbWFya2VyUGFuZSdcclxuXHRcdC8vIGBNYXAgcGFuZWAgd2hlcmUgdGhlIG1hcmtlcnMgaWNvbiB3aWxsIGJlIGFkZGVkLlxyXG5cdFx0cGFuZTogJ21hcmtlclBhbmUnLFxyXG5cclxuXHRcdC8vIEZJWE1FOiBzaGFkb3dQYW5lIGlzIG5vIGxvbmdlciBhIHZhbGlkIG9wdGlvblxyXG5cdFx0bm9uQnViYmxpbmdFdmVudHM6IFsnY2xpY2snLCAnZGJsY2xpY2snLCAnbW91c2VvdmVyJywgJ21vdXNlb3V0JywgJ2NvbnRleHRtZW51J11cclxuXHR9LFxyXG5cclxuXHQvKiBAc2VjdGlvblxyXG5cdCAqXHJcblx0ICogSW4gYWRkaXRpb24gdG8gW3NoYXJlZCBsYXllciBtZXRob2RzXSgjTGF5ZXIpIGxpa2UgYGFkZFRvKClgIGFuZCBgcmVtb3ZlKClgIGFuZCBbcG9wdXAgbWV0aG9kc10oI1BvcHVwKSBsaWtlIGJpbmRQb3B1cCgpIHlvdSBjYW4gYWxzbyB1c2UgdGhlIGZvbGxvd2luZyBtZXRob2RzOlxyXG5cdCAqL1xyXG5cclxuXHRpbml0aWFsaXplOiBmdW5jdGlvbiAobGF0bG5nLCBvcHRpb25zKSB7XHJcblx0XHRMLnNldE9wdGlvbnModGhpcywgb3B0aW9ucyk7XHJcblx0XHR0aGlzLl9sYXRsbmcgPSBMLmxhdExuZyhsYXRsbmcpO1xyXG5cdH0sXHJcblxyXG5cdG9uQWRkOiBmdW5jdGlvbiAobWFwKSB7XHJcblx0XHR0aGlzLl96b29tQW5pbWF0ZWQgPSB0aGlzLl96b29tQW5pbWF0ZWQgJiYgbWFwLm9wdGlvbnMubWFya2VyWm9vbUFuaW1hdGlvbjtcclxuXHJcblx0XHRpZiAodGhpcy5fem9vbUFuaW1hdGVkKSB7XHJcblx0XHRcdG1hcC5vbignem9vbWFuaW0nLCB0aGlzLl9hbmltYXRlWm9vbSwgdGhpcyk7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5faW5pdEljb24oKTtcclxuXHRcdHRoaXMudXBkYXRlKCk7XHJcblx0fSxcclxuXHJcblx0b25SZW1vdmU6IGZ1bmN0aW9uIChtYXApIHtcclxuXHRcdGlmICh0aGlzLmRyYWdnaW5nICYmIHRoaXMuZHJhZ2dpbmcuZW5hYmxlZCgpKSB7XHJcblx0XHRcdHRoaXMub3B0aW9ucy5kcmFnZ2FibGUgPSB0cnVlO1xyXG5cdFx0XHR0aGlzLmRyYWdnaW5nLnJlbW92ZUhvb2tzKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHRoaXMuX3pvb21BbmltYXRlZCkge1xyXG5cdFx0XHRtYXAub2ZmKCd6b29tYW5pbScsIHRoaXMuX2FuaW1hdGVab29tLCB0aGlzKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLl9yZW1vdmVJY29uKCk7XHJcblx0XHR0aGlzLl9yZW1vdmVTaGFkb3coKTtcclxuXHR9LFxyXG5cclxuXHRnZXRFdmVudHM6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdHpvb206IHRoaXMudXBkYXRlLFxyXG5cdFx0XHR2aWV3cmVzZXQ6IHRoaXMudXBkYXRlXHJcblx0XHR9O1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgZ2V0TGF0TG5nOiBMYXRMbmdcclxuXHQvLyBSZXR1cm5zIHRoZSBjdXJyZW50IGdlb2dyYXBoaWNhbCBwb3NpdGlvbiBvZiB0aGUgbWFya2VyLlxyXG5cdGdldExhdExuZzogZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuX2xhdGxuZztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHNldExhdExuZyhsYXRsbmc6IExhdExuZyk6IHRoaXNcclxuXHQvLyBDaGFuZ2VzIHRoZSBtYXJrZXIgcG9zaXRpb24gdG8gdGhlIGdpdmVuIHBvaW50LlxyXG5cdHNldExhdExuZzogZnVuY3Rpb24gKGxhdGxuZykge1xyXG5cdFx0dmFyIG9sZExhdExuZyA9IHRoaXMuX2xhdGxuZztcclxuXHRcdHRoaXMuX2xhdGxuZyA9IEwubGF0TG5nKGxhdGxuZyk7XHJcblx0XHR0aGlzLnVwZGF0ZSgpO1xyXG5cclxuXHRcdC8vIEBldmVudCBtb3ZlOiBFdmVudFxyXG5cdFx0Ly8gRmlyZWQgd2hlbiB0aGUgbWFya2VyIGlzIG1vdmVkIHZpYSBbYHNldExhdExuZ2BdKCNtYXJrZXItc2V0bGF0bG5nKSBvciBieSBbZHJhZ2dpbmddKCNtYXJrZXItZHJhZ2dpbmcpLiBPbGQgYW5kIG5ldyBjb29yZGluYXRlcyBhcmUgaW5jbHVkZWQgaW4gZXZlbnQgYXJndW1lbnRzIGFzIGBvbGRMYXRMbmdgLCBgbGF0bG5nYC5cclxuXHRcdHJldHVybiB0aGlzLmZpcmUoJ21vdmUnLCB7b2xkTGF0TG5nOiBvbGRMYXRMbmcsIGxhdGxuZzogdGhpcy5fbGF0bG5nfSk7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBzZXRaSW5kZXhPZmZzZXQob2Zmc2V0OiBOdW1iZXIpOiB0aGlzXHJcblx0Ly8gQ2hhbmdlcyB0aGUgW3pJbmRleCBvZmZzZXRdKCNtYXJrZXItemluZGV4b2Zmc2V0KSBvZiB0aGUgbWFya2VyLlxyXG5cdHNldFpJbmRleE9mZnNldDogZnVuY3Rpb24gKG9mZnNldCkge1xyXG5cdFx0dGhpcy5vcHRpb25zLnpJbmRleE9mZnNldCA9IG9mZnNldDtcclxuXHRcdHJldHVybiB0aGlzLnVwZGF0ZSgpO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2Qgc2V0SWNvbihpY29uOiBJY29uKTogdGhpc1xyXG5cdC8vIENoYW5nZXMgdGhlIG1hcmtlciBpY29uLlxyXG5cdHNldEljb246IGZ1bmN0aW9uIChpY29uKSB7XHJcblxyXG5cdFx0dGhpcy5vcHRpb25zLmljb24gPSBpY29uO1xyXG5cclxuXHRcdGlmICh0aGlzLl9tYXApIHtcclxuXHRcdFx0dGhpcy5faW5pdEljb24oKTtcclxuXHRcdFx0dGhpcy51cGRhdGUoKTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAodGhpcy5fcG9wdXApIHtcclxuXHRcdFx0dGhpcy5iaW5kUG9wdXAodGhpcy5fcG9wdXAsIHRoaXMuX3BvcHVwLm9wdGlvbnMpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH0sXHJcblxyXG5cdGdldEVsZW1lbnQ6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiB0aGlzLl9pY29uO1xyXG5cdH0sXHJcblxyXG5cdHVwZGF0ZTogZnVuY3Rpb24gKCkge1xyXG5cclxuXHRcdGlmICh0aGlzLl9pY29uKSB7XHJcblx0XHRcdHZhciBwb3MgPSB0aGlzLl9tYXAubGF0TG5nVG9MYXllclBvaW50KHRoaXMuX2xhdGxuZykucm91bmQoKTtcclxuXHRcdFx0dGhpcy5fc2V0UG9zKHBvcyk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0X2luaXRJY29uOiBmdW5jdGlvbiAoKSB7XHJcblx0XHR2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucyxcclxuXHRcdCAgICBjbGFzc1RvQWRkID0gJ2xlYWZsZXQtem9vbS0nICsgKHRoaXMuX3pvb21BbmltYXRlZCA/ICdhbmltYXRlZCcgOiAnaGlkZScpO1xyXG5cclxuXHRcdHZhciBpY29uID0gb3B0aW9ucy5pY29uLmNyZWF0ZUljb24odGhpcy5faWNvbiksXHJcblx0XHQgICAgYWRkSWNvbiA9IGZhbHNlO1xyXG5cclxuXHRcdC8vIGlmIHdlJ3JlIG5vdCByZXVzaW5nIHRoZSBpY29uLCByZW1vdmUgdGhlIG9sZCBvbmUgYW5kIGluaXQgbmV3IG9uZVxyXG5cdFx0aWYgKGljb24gIT09IHRoaXMuX2ljb24pIHtcclxuXHRcdFx0aWYgKHRoaXMuX2ljb24pIHtcclxuXHRcdFx0XHR0aGlzLl9yZW1vdmVJY29uKCk7XHJcblx0XHRcdH1cclxuXHRcdFx0YWRkSWNvbiA9IHRydWU7XHJcblxyXG5cdFx0XHRpZiAob3B0aW9ucy50aXRsZSkge1xyXG5cdFx0XHRcdGljb24udGl0bGUgPSBvcHRpb25zLnRpdGxlO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmIChvcHRpb25zLmFsdCkge1xyXG5cdFx0XHRcdGljb24uYWx0ID0gb3B0aW9ucy5hbHQ7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRMLkRvbVV0aWwuYWRkQ2xhc3MoaWNvbiwgY2xhc3NUb0FkZCk7XHJcblxyXG5cdFx0aWYgKG9wdGlvbnMua2V5Ym9hcmQpIHtcclxuXHRcdFx0aWNvbi50YWJJbmRleCA9ICcwJztcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLl9pY29uID0gaWNvbjtcclxuXHJcblx0XHRpZiAob3B0aW9ucy5yaXNlT25Ib3Zlcikge1xyXG5cdFx0XHR0aGlzLm9uKHtcclxuXHRcdFx0XHRtb3VzZW92ZXI6IHRoaXMuX2JyaW5nVG9Gcm9udCxcclxuXHRcdFx0XHRtb3VzZW91dDogdGhpcy5fcmVzZXRaSW5kZXhcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblxyXG5cdFx0dmFyIG5ld1NoYWRvdyA9IG9wdGlvbnMuaWNvbi5jcmVhdGVTaGFkb3codGhpcy5fc2hhZG93KSxcclxuXHRcdCAgICBhZGRTaGFkb3cgPSBmYWxzZTtcclxuXHJcblx0XHRpZiAobmV3U2hhZG93ICE9PSB0aGlzLl9zaGFkb3cpIHtcclxuXHRcdFx0dGhpcy5fcmVtb3ZlU2hhZG93KCk7XHJcblx0XHRcdGFkZFNoYWRvdyA9IHRydWU7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKG5ld1NoYWRvdykge1xyXG5cdFx0XHRMLkRvbVV0aWwuYWRkQ2xhc3MobmV3U2hhZG93LCBjbGFzc1RvQWRkKTtcclxuXHRcdH1cclxuXHRcdHRoaXMuX3NoYWRvdyA9IG5ld1NoYWRvdztcclxuXHJcblxyXG5cdFx0aWYgKG9wdGlvbnMub3BhY2l0eSA8IDEpIHtcclxuXHRcdFx0dGhpcy5fdXBkYXRlT3BhY2l0eSgpO1xyXG5cdFx0fVxyXG5cclxuXHJcblx0XHRpZiAoYWRkSWNvbikge1xyXG5cdFx0XHR0aGlzLmdldFBhbmUoKS5hcHBlbmRDaGlsZCh0aGlzLl9pY29uKTtcclxuXHRcdH1cclxuXHRcdHRoaXMuX2luaXRJbnRlcmFjdGlvbigpO1xyXG5cdFx0aWYgKG5ld1NoYWRvdyAmJiBhZGRTaGFkb3cpIHtcclxuXHRcdFx0dGhpcy5nZXRQYW5lKCdzaGFkb3dQYW5lJykuYXBwZW5kQ2hpbGQodGhpcy5fc2hhZG93KTtcclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHRfcmVtb3ZlSWNvbjogZnVuY3Rpb24gKCkge1xyXG5cdFx0aWYgKHRoaXMub3B0aW9ucy5yaXNlT25Ib3Zlcikge1xyXG5cdFx0XHR0aGlzLm9mZih7XHJcblx0XHRcdFx0bW91c2VvdmVyOiB0aGlzLl9icmluZ1RvRnJvbnQsXHJcblx0XHRcdFx0bW91c2VvdXQ6IHRoaXMuX3Jlc2V0WkluZGV4XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdEwuRG9tVXRpbC5yZW1vdmUodGhpcy5faWNvbik7XHJcblx0XHR0aGlzLnJlbW92ZUludGVyYWN0aXZlVGFyZ2V0KHRoaXMuX2ljb24pO1xyXG5cclxuXHRcdHRoaXMuX2ljb24gPSBudWxsO1xyXG5cdH0sXHJcblxyXG5cdF9yZW1vdmVTaGFkb3c6IGZ1bmN0aW9uICgpIHtcclxuXHRcdGlmICh0aGlzLl9zaGFkb3cpIHtcclxuXHRcdFx0TC5Eb21VdGlsLnJlbW92ZSh0aGlzLl9zaGFkb3cpO1xyXG5cdFx0fVxyXG5cdFx0dGhpcy5fc2hhZG93ID0gbnVsbDtcclxuXHR9LFxyXG5cclxuXHRfc2V0UG9zOiBmdW5jdGlvbiAocG9zKSB7XHJcblx0XHRMLkRvbVV0aWwuc2V0UG9zaXRpb24odGhpcy5faWNvbiwgcG9zKTtcclxuXHJcblx0XHRpZiAodGhpcy5fc2hhZG93KSB7XHJcblx0XHRcdEwuRG9tVXRpbC5zZXRQb3NpdGlvbih0aGlzLl9zaGFkb3csIHBvcyk7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5fekluZGV4ID0gcG9zLnkgKyB0aGlzLm9wdGlvbnMuekluZGV4T2Zmc2V0O1xyXG5cclxuXHRcdHRoaXMuX3Jlc2V0WkluZGV4KCk7XHJcblx0fSxcclxuXHJcblx0X3VwZGF0ZVpJbmRleDogZnVuY3Rpb24gKG9mZnNldCkge1xyXG5cdFx0dGhpcy5faWNvbi5zdHlsZS56SW5kZXggPSB0aGlzLl96SW5kZXggKyBvZmZzZXQ7XHJcblx0fSxcclxuXHJcblx0X2FuaW1hdGVab29tOiBmdW5jdGlvbiAob3B0KSB7XHJcblx0XHR2YXIgcG9zID0gdGhpcy5fbWFwLl9sYXRMbmdUb05ld0xheWVyUG9pbnQodGhpcy5fbGF0bG5nLCBvcHQuem9vbSwgb3B0LmNlbnRlcikucm91bmQoKTtcclxuXHJcblx0XHR0aGlzLl9zZXRQb3MocG9zKTtcclxuXHR9LFxyXG5cclxuXHRfaW5pdEludGVyYWN0aW9uOiBmdW5jdGlvbiAoKSB7XHJcblxyXG5cdFx0aWYgKCF0aGlzLm9wdGlvbnMuaW50ZXJhY3RpdmUpIHsgcmV0dXJuOyB9XHJcblxyXG5cdFx0TC5Eb21VdGlsLmFkZENsYXNzKHRoaXMuX2ljb24sICdsZWFmbGV0LWludGVyYWN0aXZlJyk7XHJcblxyXG5cdFx0dGhpcy5hZGRJbnRlcmFjdGl2ZVRhcmdldCh0aGlzLl9pY29uKTtcclxuXHJcblx0XHRpZiAoTC5IYW5kbGVyLk1hcmtlckRyYWcpIHtcclxuXHRcdFx0dmFyIGRyYWdnYWJsZSA9IHRoaXMub3B0aW9ucy5kcmFnZ2FibGU7XHJcblx0XHRcdGlmICh0aGlzLmRyYWdnaW5nKSB7XHJcblx0XHRcdFx0ZHJhZ2dhYmxlID0gdGhpcy5kcmFnZ2luZy5lbmFibGVkKCk7XHJcblx0XHRcdFx0dGhpcy5kcmFnZ2luZy5kaXNhYmxlKCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHRoaXMuZHJhZ2dpbmcgPSBuZXcgTC5IYW5kbGVyLk1hcmtlckRyYWcodGhpcyk7XHJcblxyXG5cdFx0XHRpZiAoZHJhZ2dhYmxlKSB7XHJcblx0XHRcdFx0dGhpcy5kcmFnZ2luZy5lbmFibGUoKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2Qgc2V0T3BhY2l0eShvcGFjaXR5OiBOdW1iZXIpOiB0aGlzXHJcblx0Ly8gQ2hhbmdlcyB0aGUgb3BhY2l0eSBvZiB0aGUgbWFya2VyLlxyXG5cdHNldE9wYWNpdHk6IGZ1bmN0aW9uIChvcGFjaXR5KSB7XHJcblx0XHR0aGlzLm9wdGlvbnMub3BhY2l0eSA9IG9wYWNpdHk7XHJcblx0XHRpZiAodGhpcy5fbWFwKSB7XHJcblx0XHRcdHRoaXMuX3VwZGF0ZU9wYWNpdHkoKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHRfdXBkYXRlT3BhY2l0eTogZnVuY3Rpb24gKCkge1xyXG5cdFx0dmFyIG9wYWNpdHkgPSB0aGlzLm9wdGlvbnMub3BhY2l0eTtcclxuXHJcblx0XHRMLkRvbVV0aWwuc2V0T3BhY2l0eSh0aGlzLl9pY29uLCBvcGFjaXR5KTtcclxuXHJcblx0XHRpZiAodGhpcy5fc2hhZG93KSB7XHJcblx0XHRcdEwuRG9tVXRpbC5zZXRPcGFjaXR5KHRoaXMuX3NoYWRvdywgb3BhY2l0eSk7XHJcblx0XHR9XHJcblx0fSxcclxuXHJcblx0X2JyaW5nVG9Gcm9udDogZnVuY3Rpb24gKCkge1xyXG5cdFx0dGhpcy5fdXBkYXRlWkluZGV4KHRoaXMub3B0aW9ucy5yaXNlT2Zmc2V0KTtcclxuXHR9LFxyXG5cclxuXHRfcmVzZXRaSW5kZXg6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHRoaXMuX3VwZGF0ZVpJbmRleCgwKTtcclxuXHR9XHJcbn0pO1xyXG5cclxuXHJcbi8vIGZhY3RvcnkgTC5tYXJrZXIobGF0bG5nOiBMYXRMbmcsIG9wdGlvbnM/IDogTWFya2VyIG9wdGlvbnMpXHJcblxyXG4vLyBAZmFjdG9yeSBMLm1hcmtlcihsYXRsbmc6IExhdExuZywgb3B0aW9ucz8gOiBNYXJrZXIgb3B0aW9ucylcclxuLy8gSW5zdGFudGlhdGVzIGEgTWFya2VyIG9iamVjdCBnaXZlbiBhIGdlb2dyYXBoaWNhbCBwb2ludCBhbmQgb3B0aW9uYWxseSBhbiBvcHRpb25zIG9iamVjdC5cclxuTC5tYXJrZXIgPSBmdW5jdGlvbiAobGF0bG5nLCBvcHRpb25zKSB7XHJcblx0cmV0dXJuIG5ldyBMLk1hcmtlcihsYXRsbmcsIG9wdGlvbnMpO1xyXG59O1xyXG5cbi8qXG4gKiBAY2xhc3MgRGl2SWNvblxuICogQGFrYSBMLkRpdkljb25cbiAqIEBpbmhlcml0cyBJY29uXG4gKlxuICogUmVwcmVzZW50cyBhIGxpZ2h0d2VpZ2h0IGljb24gZm9yIG1hcmtlcnMgdGhhdCB1c2VzIGEgc2ltcGxlIGA8ZGl2PmBcbiAqIGVsZW1lbnQgaW5zdGVhZCBvZiBhbiBpbWFnZS4gSW5oZXJpdHMgZnJvbSBgSWNvbmAgYnV0IGlnbm9yZXMgdGhlIGBpY29uVXJsYCBhbmQgc2hhZG93IG9wdGlvbnMuXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYGpzXG4gKiB2YXIgbXlJY29uID0gTC5kaXZJY29uKHtjbGFzc05hbWU6ICdteS1kaXYtaWNvbid9KTtcbiAqIC8vIHlvdSBjYW4gc2V0IC5teS1kaXYtaWNvbiBzdHlsZXMgaW4gQ1NTXG4gKlxuICogTC5tYXJrZXIoWzUwLjUwNSwgMzAuNTddLCB7aWNvbjogbXlJY29ufSkuYWRkVG8obWFwKTtcbiAqIGBgYFxuICpcbiAqIEJ5IGRlZmF1bHQsIGl0IGhhcyBhICdsZWFmbGV0LWRpdi1pY29uJyBDU1MgY2xhc3MgYW5kIGlzIHN0eWxlZCBhcyBhIGxpdHRsZSB3aGl0ZSBzcXVhcmUgd2l0aCBhIHNoYWRvdy5cbiAqL1xuXG5MLkRpdkljb24gPSBMLkljb24uZXh0ZW5kKHtcblx0b3B0aW9uczoge1xuXHRcdC8vIEBzZWN0aW9uXG5cdFx0Ly8gQGFrYSBEaXZJY29uIG9wdGlvbnNcblx0XHRpY29uU2l6ZTogWzEyLCAxMl0sIC8vIGFsc28gY2FuIGJlIHNldCB0aHJvdWdoIENTU1xuXG5cdFx0Ly8gaWNvbkFuY2hvcjogKFBvaW50KSxcblx0XHQvLyBwb3B1cEFuY2hvcjogKFBvaW50KSxcblxuXHRcdC8vIEBvcHRpb24gaHRtbDogU3RyaW5nID0gJydcblx0XHQvLyBDdXN0b20gSFRNTCBjb2RlIHRvIHB1dCBpbnNpZGUgdGhlIGRpdiBlbGVtZW50LCBlbXB0eSBieSBkZWZhdWx0LlxuXHRcdGh0bWw6IGZhbHNlLFxuXG5cdFx0Ly8gQG9wdGlvbiBiZ1BvczogUG9pbnQgPSBbMCwgMF1cblx0XHQvLyBPcHRpb25hbCByZWxhdGl2ZSBwb3NpdGlvbiBvZiB0aGUgYmFja2dyb3VuZCwgaW4gcGl4ZWxzXG5cdFx0YmdQb3M6IG51bGwsXG5cblx0XHRjbGFzc05hbWU6ICdsZWFmbGV0LWRpdi1pY29uJ1xuXHR9LFxuXG5cdGNyZWF0ZUljb246IGZ1bmN0aW9uIChvbGRJY29uKSB7XG5cdFx0dmFyIGRpdiA9IChvbGRJY29uICYmIG9sZEljb24udGFnTmFtZSA9PT0gJ0RJVicpID8gb2xkSWNvbiA6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLFxuXHRcdCAgICBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXG5cdFx0ZGl2LmlubmVySFRNTCA9IG9wdGlvbnMuaHRtbCAhPT0gZmFsc2UgPyBvcHRpb25zLmh0bWwgOiAnJztcblxuXHRcdGlmIChvcHRpb25zLmJnUG9zKSB7XG5cdFx0XHR2YXIgYmdQb3MgPSBMLnBvaW50KG9wdGlvbnMuYmdQb3MpO1xuXHRcdFx0ZGl2LnN0eWxlLmJhY2tncm91bmRQb3NpdGlvbiA9ICgtYmdQb3MueCkgKyAncHggJyArICgtYmdQb3MueSkgKyAncHgnO1xuXHRcdH1cblx0XHR0aGlzLl9zZXRJY29uU3R5bGVzKGRpdiwgJ2ljb24nKTtcblxuXHRcdHJldHVybiBkaXY7XG5cdH0sXG5cblx0Y3JlYXRlU2hhZG93OiBmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cbn0pO1xuXG4vLyBAZmFjdG9yeSBMLmRpdkljb24ob3B0aW9uczogRGl2SWNvbiBvcHRpb25zKVxuLy8gQ3JlYXRlcyBhIGBEaXZJY29uYCBpbnN0YW5jZSB3aXRoIHRoZSBnaXZlbiBvcHRpb25zLlxuTC5kaXZJY29uID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcblx0cmV0dXJuIG5ldyBMLkRpdkljb24ob3B0aW9ucyk7XG59O1xuXG4vKlxyXG4gKiBAY2xhc3MgRGl2T3ZlcmxheVxyXG4gKiBAaW5oZXJpdHMgTGF5ZXJcclxuICogQGFrYSBMLkRpdk92ZXJsYXlcclxuICogQmFzZSBtb2RlbCBmb3IgTC5Qb3B1cCBhbmQgTC5Ub29sdGlwLiBJbmhlcml0IGZyb20gaXQgZm9yIGN1c3RvbSBwb3B1cCBsaWtlIHBsdWdpbnMuXHJcbiAqL1xyXG5cclxuLy8gQG5hbWVzcGFjZSBEaXZPdmVybGF5XHJcbkwuRGl2T3ZlcmxheSA9IEwuTGF5ZXIuZXh0ZW5kKHtcclxuXHJcblx0Ly8gQHNlY3Rpb25cclxuXHQvLyBAYWthIERpdk92ZXJsYXkgb3B0aW9uc1xyXG5cdG9wdGlvbnM6IHtcclxuXHRcdC8vIEBvcHRpb24gb2Zmc2V0OiBQb2ludCA9IFBvaW50KDAsIDcpXHJcblx0XHQvLyBUaGUgb2Zmc2V0IG9mIHRoZSBwb3B1cCBwb3NpdGlvbi4gVXNlZnVsIHRvIGNvbnRyb2wgdGhlIGFuY2hvclxyXG5cdFx0Ly8gb2YgdGhlIHBvcHVwIHdoZW4gb3BlbmluZyBpdCBvbiBzb21lIG92ZXJsYXlzLlxyXG5cdFx0b2Zmc2V0OiBbMCwgN10sXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiBjbGFzc05hbWU6IFN0cmluZyA9ICcnXHJcblx0XHQvLyBBIGN1c3RvbSBDU1MgY2xhc3MgbmFtZSB0byBhc3NpZ24gdG8gdGhlIHBvcHVwLlxyXG5cdFx0Y2xhc3NOYW1lOiAnJyxcclxuXHJcblx0XHQvLyBAb3B0aW9uIHBhbmU6IFN0cmluZyA9ICdwb3B1cFBhbmUnXHJcblx0XHQvLyBgTWFwIHBhbmVgIHdoZXJlIHRoZSBwb3B1cCB3aWxsIGJlIGFkZGVkLlxyXG5cdFx0cGFuZTogJ3BvcHVwUGFuZSdcclxuXHR9LFxyXG5cclxuXHRpbml0aWFsaXplOiBmdW5jdGlvbiAob3B0aW9ucywgc291cmNlKSB7XHJcblx0XHRMLnNldE9wdGlvbnModGhpcywgb3B0aW9ucyk7XHJcblxyXG5cdFx0dGhpcy5fc291cmNlID0gc291cmNlO1xyXG5cdH0sXHJcblxyXG5cdG9uQWRkOiBmdW5jdGlvbiAobWFwKSB7XHJcblx0XHR0aGlzLl96b29tQW5pbWF0ZWQgPSBtYXAuX3pvb21BbmltYXRlZDtcclxuXHJcblx0XHRpZiAoIXRoaXMuX2NvbnRhaW5lcikge1xyXG5cdFx0XHR0aGlzLl9pbml0TGF5b3V0KCk7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKG1hcC5fZmFkZUFuaW1hdGVkKSB7XHJcblx0XHRcdEwuRG9tVXRpbC5zZXRPcGFjaXR5KHRoaXMuX2NvbnRhaW5lciwgMCk7XHJcblx0XHR9XHJcblxyXG5cdFx0Y2xlYXJUaW1lb3V0KHRoaXMuX3JlbW92ZVRpbWVvdXQpO1xyXG5cdFx0dGhpcy5nZXRQYW5lKCkuYXBwZW5kQ2hpbGQodGhpcy5fY29udGFpbmVyKTtcclxuXHRcdHRoaXMudXBkYXRlKCk7XHJcblxyXG5cdFx0aWYgKG1hcC5fZmFkZUFuaW1hdGVkKSB7XHJcblx0XHRcdEwuRG9tVXRpbC5zZXRPcGFjaXR5KHRoaXMuX2NvbnRhaW5lciwgMSk7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5icmluZ1RvRnJvbnQoKTtcclxuXHR9LFxyXG5cclxuXHRvblJlbW92ZTogZnVuY3Rpb24gKG1hcCkge1xyXG5cdFx0aWYgKG1hcC5fZmFkZUFuaW1hdGVkKSB7XHJcblx0XHRcdEwuRG9tVXRpbC5zZXRPcGFjaXR5KHRoaXMuX2NvbnRhaW5lciwgMCk7XHJcblx0XHRcdHRoaXMuX3JlbW92ZVRpbWVvdXQgPSBzZXRUaW1lb3V0KEwuYmluZChMLkRvbVV0aWwucmVtb3ZlLCBMLkRvbVV0aWwsIHRoaXMuX2NvbnRhaW5lciksIDIwMCk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRMLkRvbVV0aWwucmVtb3ZlKHRoaXMuX2NvbnRhaW5lcik7XHJcblx0XHR9XHJcblx0fSxcclxuXHJcblx0Ly8gQG5hbWVzcGFjZSBQb3B1cFxyXG5cdC8vIEBtZXRob2QgZ2V0TGF0TG5nOiBMYXRMbmdcclxuXHQvLyBSZXR1cm5zIHRoZSBnZW9ncmFwaGljYWwgcG9pbnQgb2YgcG9wdXAuXHJcblx0Z2V0TGF0TG5nOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5fbGF0bG5nO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2Qgc2V0TGF0TG5nKGxhdGxuZzogTGF0TG5nKTogdGhpc1xyXG5cdC8vIFNldHMgdGhlIGdlb2dyYXBoaWNhbCBwb2ludCB3aGVyZSB0aGUgcG9wdXAgd2lsbCBvcGVuLlxyXG5cdHNldExhdExuZzogZnVuY3Rpb24gKGxhdGxuZykge1xyXG5cdFx0dGhpcy5fbGF0bG5nID0gTC5sYXRMbmcobGF0bG5nKTtcclxuXHRcdGlmICh0aGlzLl9tYXApIHtcclxuXHRcdFx0dGhpcy5fdXBkYXRlUG9zaXRpb24oKTtcclxuXHRcdFx0dGhpcy5fYWRqdXN0UGFuKCk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGdldENvbnRlbnQ6IFN0cmluZ3xIVE1MRWxlbWVudFxyXG5cdC8vIFJldHVybnMgdGhlIGNvbnRlbnQgb2YgdGhlIHBvcHVwLlxyXG5cdGdldENvbnRlbnQ6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiB0aGlzLl9jb250ZW50O1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2Qgc2V0Q29udGVudChodG1sQ29udGVudDogU3RyaW5nfEhUTUxFbGVtZW50fEZ1bmN0aW9uKTogdGhpc1xyXG5cdC8vIFNldHMgdGhlIEhUTUwgY29udGVudCBvZiB0aGUgcG9wdXAuIElmIGEgZnVuY3Rpb24gaXMgcGFzc2VkIHRoZSBzb3VyY2UgbGF5ZXIgd2lsbCBiZSBwYXNzZWQgdG8gdGhlIGZ1bmN0aW9uLiBUaGUgZnVuY3Rpb24gc2hvdWxkIHJldHVybiBhIGBTdHJpbmdgIG9yIGBIVE1MRWxlbWVudGAgdG8gYmUgdXNlZCBpbiB0aGUgcG9wdXAuXHJcblx0c2V0Q29udGVudDogZnVuY3Rpb24gKGNvbnRlbnQpIHtcclxuXHRcdHRoaXMuX2NvbnRlbnQgPSBjb250ZW50O1xyXG5cdFx0dGhpcy51cGRhdGUoKTtcclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgZ2V0RWxlbWVudDogU3RyaW5nfEhUTUxFbGVtZW50XHJcblx0Ly8gQWxpYXMgZm9yIFtnZXRDb250ZW50KCldKCNwb3B1cC1nZXRjb250ZW50KVxyXG5cdGdldEVsZW1lbnQ6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiB0aGlzLl9jb250YWluZXI7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCB1cGRhdGU6IG51bGxcclxuXHQvLyBVcGRhdGVzIHRoZSBwb3B1cCBjb250ZW50LCBsYXlvdXQgYW5kIHBvc2l0aW9uLiBVc2VmdWwgZm9yIHVwZGF0aW5nIHRoZSBwb3B1cCBhZnRlciBzb21ldGhpbmcgaW5zaWRlIGNoYW5nZWQsIGUuZy4gaW1hZ2UgbG9hZGVkLlxyXG5cdHVwZGF0ZTogZnVuY3Rpb24gKCkge1xyXG5cdFx0aWYgKCF0aGlzLl9tYXApIHsgcmV0dXJuOyB9XHJcblxyXG5cdFx0dGhpcy5fY29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJztcclxuXHJcblx0XHR0aGlzLl91cGRhdGVDb250ZW50KCk7XHJcblx0XHR0aGlzLl91cGRhdGVMYXlvdXQoKTtcclxuXHRcdHRoaXMuX3VwZGF0ZVBvc2l0aW9uKCk7XHJcblxyXG5cdFx0dGhpcy5fY29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHkgPSAnJztcclxuXHJcblx0XHR0aGlzLl9hZGp1c3RQYW4oKTtcclxuXHR9LFxyXG5cclxuXHRnZXRFdmVudHM6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHZhciBldmVudHMgPSB7XHJcblx0XHRcdHpvb206IHRoaXMuX3VwZGF0ZVBvc2l0aW9uLFxyXG5cdFx0XHR2aWV3cmVzZXQ6IHRoaXMuX3VwZGF0ZVBvc2l0aW9uXHJcblx0XHR9O1xyXG5cclxuXHRcdGlmICh0aGlzLl96b29tQW5pbWF0ZWQpIHtcclxuXHRcdFx0ZXZlbnRzLnpvb21hbmltID0gdGhpcy5fYW5pbWF0ZVpvb207XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gZXZlbnRzO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgaXNPcGVuOiBCb29sZWFuXHJcblx0Ly8gUmV0dXJucyBgdHJ1ZWAgd2hlbiB0aGUgcG9wdXAgaXMgdmlzaWJsZSBvbiB0aGUgbWFwLlxyXG5cdGlzT3BlbjogZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuICEhdGhpcy5fbWFwICYmIHRoaXMuX21hcC5oYXNMYXllcih0aGlzKTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGJyaW5nVG9Gcm9udDogdGhpc1xyXG5cdC8vIEJyaW5ncyB0aGlzIHBvcHVwIGluIGZyb250IG9mIG90aGVyIHBvcHVwcyAoaW4gdGhlIHNhbWUgbWFwIHBhbmUpLlxyXG5cdGJyaW5nVG9Gcm9udDogZnVuY3Rpb24gKCkge1xyXG5cdFx0aWYgKHRoaXMuX21hcCkge1xyXG5cdFx0XHRMLkRvbVV0aWwudG9Gcm9udCh0aGlzLl9jb250YWluZXIpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBicmluZ1RvQmFjazogdGhpc1xyXG5cdC8vIEJyaW5ncyB0aGlzIHBvcHVwIHRvIHRoZSBiYWNrIG9mIG90aGVyIHBvcHVwcyAoaW4gdGhlIHNhbWUgbWFwIHBhbmUpLlxyXG5cdGJyaW5nVG9CYWNrOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRpZiAodGhpcy5fbWFwKSB7XHJcblx0XHRcdEwuRG9tVXRpbC50b0JhY2sodGhpcy5fY29udGFpbmVyKTtcclxuXHRcdH1cclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH0sXHJcblxyXG5cdF91cGRhdGVDb250ZW50OiBmdW5jdGlvbiAoKSB7XHJcblx0XHRpZiAoIXRoaXMuX2NvbnRlbnQpIHsgcmV0dXJuOyB9XHJcblxyXG5cdFx0dmFyIG5vZGUgPSB0aGlzLl9jb250ZW50Tm9kZTtcclxuXHRcdHZhciBjb250ZW50ID0gKHR5cGVvZiB0aGlzLl9jb250ZW50ID09PSAnZnVuY3Rpb24nKSA/IHRoaXMuX2NvbnRlbnQodGhpcy5fc291cmNlIHx8IHRoaXMpIDogdGhpcy5fY29udGVudDtcclxuXHJcblx0XHRpZiAodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSB7XHJcblx0XHRcdG5vZGUuaW5uZXJIVE1MID0gY29udGVudDtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHdoaWxlIChub2RlLmhhc0NoaWxkTm9kZXMoKSkge1xyXG5cdFx0XHRcdG5vZGUucmVtb3ZlQ2hpbGQobm9kZS5maXJzdENoaWxkKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRub2RlLmFwcGVuZENoaWxkKGNvbnRlbnQpO1xyXG5cdFx0fVxyXG5cdFx0dGhpcy5maXJlKCdjb250ZW50dXBkYXRlJyk7XHJcblx0fSxcclxuXHJcblx0X3VwZGF0ZVBvc2l0aW9uOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRpZiAoIXRoaXMuX21hcCkgeyByZXR1cm47IH1cclxuXHJcblx0XHR2YXIgcG9zID0gdGhpcy5fbWFwLmxhdExuZ1RvTGF5ZXJQb2ludCh0aGlzLl9sYXRsbmcpLFxyXG5cdFx0ICAgIG9mZnNldCA9IEwucG9pbnQodGhpcy5vcHRpb25zLm9mZnNldCksXHJcblx0XHQgICAgYW5jaG9yID0gdGhpcy5fZ2V0QW5jaG9yKCk7XHJcblxyXG5cdFx0aWYgKHRoaXMuX3pvb21BbmltYXRlZCkge1xyXG5cdFx0XHRMLkRvbVV0aWwuc2V0UG9zaXRpb24odGhpcy5fY29udGFpbmVyLCBwb3MuYWRkKGFuY2hvcikpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0b2Zmc2V0ID0gb2Zmc2V0LmFkZChwb3MpLmFkZChhbmNob3IpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHZhciBib3R0b20gPSB0aGlzLl9jb250YWluZXJCb3R0b20gPSAtb2Zmc2V0LnksXHJcblx0XHQgICAgbGVmdCA9IHRoaXMuX2NvbnRhaW5lckxlZnQgPSAtTWF0aC5yb3VuZCh0aGlzLl9jb250YWluZXJXaWR0aCAvIDIpICsgb2Zmc2V0Lng7XHJcblxyXG5cdFx0Ly8gYm90dG9tIHBvc2l0aW9uIHRoZSBwb3B1cCBpbiBjYXNlIHRoZSBoZWlnaHQgb2YgdGhlIHBvcHVwIGNoYW5nZXMgKGltYWdlcyBsb2FkaW5nIGV0YylcclxuXHRcdHRoaXMuX2NvbnRhaW5lci5zdHlsZS5ib3R0b20gPSBib3R0b20gKyAncHgnO1xyXG5cdFx0dGhpcy5fY29udGFpbmVyLnN0eWxlLmxlZnQgPSBsZWZ0ICsgJ3B4JztcclxuXHR9LFxyXG5cclxuXHRfZ2V0QW5jaG9yOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gWzAsIDBdO1xyXG5cdH1cclxuXHJcbn0pO1xyXG5cbi8qXHJcbiAqIEBjbGFzcyBQb3B1cFxyXG4gKiBAaW5oZXJpdHMgRGl2T3ZlcmxheVxyXG4gKiBAYWthIEwuUG9wdXBcclxuICogVXNlZCB0byBvcGVuIHBvcHVwcyBpbiBjZXJ0YWluIHBsYWNlcyBvZiB0aGUgbWFwLiBVc2UgW01hcC5vcGVuUG9wdXBdKCNtYXAtb3BlbnBvcHVwKSB0b1xyXG4gKiBvcGVuIHBvcHVwcyB3aGlsZSBtYWtpbmcgc3VyZSB0aGF0IG9ubHkgb25lIHBvcHVwIGlzIG9wZW4gYXQgb25lIHRpbWVcclxuICogKHJlY29tbWVuZGVkIGZvciB1c2FiaWxpdHkpLCBvciB1c2UgW01hcC5hZGRMYXllcl0oI21hcC1hZGRsYXllcikgdG8gb3BlbiBhcyBtYW55IGFzIHlvdSB3YW50LlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKlxyXG4gKiBJZiB5b3Ugd2FudCB0byBqdXN0IGJpbmQgYSBwb3B1cCB0byBtYXJrZXIgY2xpY2sgYW5kIHRoZW4gb3BlbiBpdCwgaXQncyByZWFsbHkgZWFzeTpcclxuICpcclxuICogYGBganNcclxuICogbWFya2VyLmJpbmRQb3B1cChwb3B1cENvbnRlbnQpLm9wZW5Qb3B1cCgpO1xyXG4gKiBgYGBcclxuICogUGF0aCBvdmVybGF5cyBsaWtlIHBvbHlsaW5lcyBhbHNvIGhhdmUgYSBgYmluZFBvcHVwYCBtZXRob2QuXHJcbiAqIEhlcmUncyBhIG1vcmUgY29tcGxpY2F0ZWQgd2F5IHRvIG9wZW4gYSBwb3B1cCBvbiBhIG1hcDpcclxuICpcclxuICogYGBganNcclxuICogdmFyIHBvcHVwID0gTC5wb3B1cCgpXHJcbiAqIFx0LnNldExhdExuZyhsYXRsbmcpXHJcbiAqIFx0LnNldENvbnRlbnQoJzxwPkhlbGxvIHdvcmxkITxiciAvPlRoaXMgaXMgYSBuaWNlIHBvcHVwLjwvcD4nKVxyXG4gKiBcdC5vcGVuT24obWFwKTtcclxuICogYGBgXHJcbiAqL1xyXG5cclxuXHJcbi8vIEBuYW1lc3BhY2UgUG9wdXBcclxuTC5Qb3B1cCA9IEwuRGl2T3ZlcmxheS5leHRlbmQoe1xyXG5cclxuXHQvLyBAc2VjdGlvblxyXG5cdC8vIEBha2EgUG9wdXAgb3B0aW9uc1xyXG5cdG9wdGlvbnM6IHtcclxuXHRcdC8vIEBvcHRpb24gbWF4V2lkdGg6IE51bWJlciA9IDMwMFxyXG5cdFx0Ly8gTWF4IHdpZHRoIG9mIHRoZSBwb3B1cCwgaW4gcGl4ZWxzLlxyXG5cdFx0bWF4V2lkdGg6IDMwMCxcclxuXHJcblx0XHQvLyBAb3B0aW9uIG1pbldpZHRoOiBOdW1iZXIgPSA1MFxyXG5cdFx0Ly8gTWluIHdpZHRoIG9mIHRoZSBwb3B1cCwgaW4gcGl4ZWxzLlxyXG5cdFx0bWluV2lkdGg6IDUwLFxyXG5cclxuXHRcdC8vIEBvcHRpb24gbWF4SGVpZ2h0OiBOdW1iZXIgPSBudWxsXHJcblx0XHQvLyBJZiBzZXQsIGNyZWF0ZXMgYSBzY3JvbGxhYmxlIGNvbnRhaW5lciBvZiB0aGUgZ2l2ZW4gaGVpZ2h0XHJcblx0XHQvLyBpbnNpZGUgYSBwb3B1cCBpZiBpdHMgY29udGVudCBleGNlZWRzIGl0LlxyXG5cdFx0bWF4SGVpZ2h0OiBudWxsLFxyXG5cclxuXHRcdC8vIEBvcHRpb24gYXV0b1BhbjogQm9vbGVhbiA9IHRydWVcclxuXHRcdC8vIFNldCBpdCB0byBgZmFsc2VgIGlmIHlvdSBkb24ndCB3YW50IHRoZSBtYXAgdG8gZG8gcGFubmluZyBhbmltYXRpb25cclxuXHRcdC8vIHRvIGZpdCB0aGUgb3BlbmVkIHBvcHVwLlxyXG5cdFx0YXV0b1BhbjogdHJ1ZSxcclxuXHJcblx0XHQvLyBAb3B0aW9uIGF1dG9QYW5QYWRkaW5nVG9wTGVmdDogUG9pbnQgPSBudWxsXHJcblx0XHQvLyBUaGUgbWFyZ2luIGJldHdlZW4gdGhlIHBvcHVwIGFuZCB0aGUgdG9wIGxlZnQgY29ybmVyIG9mIHRoZSBtYXBcclxuXHRcdC8vIHZpZXcgYWZ0ZXIgYXV0b3Bhbm5pbmcgd2FzIHBlcmZvcm1lZC5cclxuXHRcdGF1dG9QYW5QYWRkaW5nVG9wTGVmdDogbnVsbCxcclxuXHJcblx0XHQvLyBAb3B0aW9uIGF1dG9QYW5QYWRkaW5nQm90dG9tUmlnaHQ6IFBvaW50ID0gbnVsbFxyXG5cdFx0Ly8gVGhlIG1hcmdpbiBiZXR3ZWVuIHRoZSBwb3B1cCBhbmQgdGhlIGJvdHRvbSByaWdodCBjb3JuZXIgb2YgdGhlIG1hcFxyXG5cdFx0Ly8gdmlldyBhZnRlciBhdXRvcGFubmluZyB3YXMgcGVyZm9ybWVkLlxyXG5cdFx0YXV0b1BhblBhZGRpbmdCb3R0b21SaWdodDogbnVsbCxcclxuXHJcblx0XHQvLyBAb3B0aW9uIGF1dG9QYW5QYWRkaW5nOiBQb2ludCA9IFBvaW50KDUsIDUpXHJcblx0XHQvLyBFcXVpdmFsZW50IG9mIHNldHRpbmcgYm90aCB0b3AgbGVmdCBhbmQgYm90dG9tIHJpZ2h0IGF1dG9wYW4gcGFkZGluZyB0byB0aGUgc2FtZSB2YWx1ZS5cclxuXHRcdGF1dG9QYW5QYWRkaW5nOiBbNSwgNV0sXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiBrZWVwSW5WaWV3OiBCb29sZWFuID0gZmFsc2VcclxuXHRcdC8vIFNldCBpdCB0byBgdHJ1ZWAgaWYgeW91IHdhbnQgdG8gcHJldmVudCB1c2VycyBmcm9tIHBhbm5pbmcgdGhlIHBvcHVwXHJcblx0XHQvLyBvZmYgb2YgdGhlIHNjcmVlbiB3aGlsZSBpdCBpcyBvcGVuLlxyXG5cdFx0a2VlcEluVmlldzogZmFsc2UsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiBjbG9zZUJ1dHRvbjogQm9vbGVhbiA9IHRydWVcclxuXHRcdC8vIENvbnRyb2xzIHRoZSBwcmVzZW5jZSBvZiBhIGNsb3NlIGJ1dHRvbiBpbiB0aGUgcG9wdXAuXHJcblx0XHRjbG9zZUJ1dHRvbjogdHJ1ZSxcclxuXHJcblx0XHQvLyBAb3B0aW9uIGF1dG9DbG9zZTogQm9vbGVhbiA9IHRydWVcclxuXHRcdC8vIFNldCBpdCB0byBgZmFsc2VgIGlmIHlvdSB3YW50IHRvIG92ZXJyaWRlIHRoZSBkZWZhdWx0IGJlaGF2aW9yIG9mXHJcblx0XHQvLyB0aGUgcG9wdXAgY2xvc2luZyB3aGVuIHVzZXIgY2xpY2tzIHRoZSBtYXAgKHNldCBnbG9iYWxseSBieVxyXG5cdFx0Ly8gdGhlIE1hcCdzIFtjbG9zZVBvcHVwT25DbGlja10oI21hcC1jbG9zZXBvcHVwb25jbGljaykgb3B0aW9uKS5cclxuXHRcdGF1dG9DbG9zZTogdHJ1ZSxcclxuXHJcblx0XHQvLyBAb3B0aW9uIGNsYXNzTmFtZTogU3RyaW5nID0gJydcclxuXHRcdC8vIEEgY3VzdG9tIENTUyBjbGFzcyBuYW1lIHRvIGFzc2lnbiB0byB0aGUgcG9wdXAuXHJcblx0XHRjbGFzc05hbWU6ICcnXHJcblx0fSxcclxuXHJcblx0Ly8gQG5hbWVzcGFjZSBQb3B1cFxyXG5cdC8vIEBtZXRob2Qgb3Blbk9uKG1hcDogTWFwKTogdGhpc1xyXG5cdC8vIEFkZHMgdGhlIHBvcHVwIHRvIHRoZSBtYXAgYW5kIGNsb3NlcyB0aGUgcHJldmlvdXMgb25lLiBUaGUgc2FtZSBhcyBgbWFwLm9wZW5Qb3B1cChwb3B1cClgLlxyXG5cdG9wZW5PbjogZnVuY3Rpb24gKG1hcCkge1xyXG5cdFx0bWFwLm9wZW5Qb3B1cCh0aGlzKTtcclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH0sXHJcblxyXG5cdG9uQWRkOiBmdW5jdGlvbiAobWFwKSB7XHJcblx0XHRMLkRpdk92ZXJsYXkucHJvdG90eXBlLm9uQWRkLmNhbGwodGhpcywgbWFwKTtcclxuXHJcblx0XHQvLyBAbmFtZXNwYWNlIE1hcFxyXG5cdFx0Ly8gQHNlY3Rpb24gUG9wdXAgZXZlbnRzXHJcblx0XHQvLyBAZXZlbnQgcG9wdXBvcGVuOiBQb3B1cEV2ZW50XHJcblx0XHQvLyBGaXJlZCB3aGVuIGEgcG9wdXAgaXMgb3BlbmVkIGluIHRoZSBtYXBcclxuXHRcdG1hcC5maXJlKCdwb3B1cG9wZW4nLCB7cG9wdXA6IHRoaXN9KTtcclxuXHJcblx0XHRpZiAodGhpcy5fc291cmNlKSB7XHJcblx0XHRcdC8vIEBuYW1lc3BhY2UgTGF5ZXJcclxuXHRcdFx0Ly8gQHNlY3Rpb24gUG9wdXAgZXZlbnRzXHJcblx0XHRcdC8vIEBldmVudCBwb3B1cG9wZW46IFBvcHVwRXZlbnRcclxuXHRcdFx0Ly8gRmlyZWQgd2hlbiBhIHBvcHVwIGJvdW5kIHRvIHRoaXMgbGF5ZXIgaXMgb3BlbmVkXHJcblx0XHRcdHRoaXMuX3NvdXJjZS5maXJlKCdwb3B1cG9wZW4nLCB7cG9wdXA6IHRoaXN9LCB0cnVlKTtcclxuXHRcdFx0Ly8gRm9yIG5vbi1wYXRoIGxheWVycywgd2UgdG9nZ2xlIHRoZSBwb3B1cCB3aGVuIGNsaWNraW5nXHJcblx0XHRcdC8vIGFnYWluIHRoZSBsYXllciwgc28gcHJldmVudCB0aGUgbWFwIHRvIHJlb3BlbiBpdC5cclxuXHRcdFx0aWYgKCEodGhpcy5fc291cmNlIGluc3RhbmNlb2YgTC5QYXRoKSkge1xyXG5cdFx0XHRcdHRoaXMuX3NvdXJjZS5vbigncHJlY2xpY2snLCBMLkRvbUV2ZW50LnN0b3BQcm9wYWdhdGlvbik7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHRvblJlbW92ZTogZnVuY3Rpb24gKG1hcCkge1xyXG5cdFx0TC5EaXZPdmVybGF5LnByb3RvdHlwZS5vblJlbW92ZS5jYWxsKHRoaXMsIG1hcCk7XHJcblxyXG5cdFx0Ly8gQG5hbWVzcGFjZSBNYXBcclxuXHRcdC8vIEBzZWN0aW9uIFBvcHVwIGV2ZW50c1xyXG5cdFx0Ly8gQGV2ZW50IHBvcHVwY2xvc2U6IFBvcHVwRXZlbnRcclxuXHRcdC8vIEZpcmVkIHdoZW4gYSBwb3B1cCBpbiB0aGUgbWFwIGlzIGNsb3NlZFxyXG5cdFx0bWFwLmZpcmUoJ3BvcHVwY2xvc2UnLCB7cG9wdXA6IHRoaXN9KTtcclxuXHJcblx0XHRpZiAodGhpcy5fc291cmNlKSB7XHJcblx0XHRcdC8vIEBuYW1lc3BhY2UgTGF5ZXJcclxuXHRcdFx0Ly8gQHNlY3Rpb24gUG9wdXAgZXZlbnRzXHJcblx0XHRcdC8vIEBldmVudCBwb3B1cGNsb3NlOiBQb3B1cEV2ZW50XHJcblx0XHRcdC8vIEZpcmVkIHdoZW4gYSBwb3B1cCBib3VuZCB0byB0aGlzIGxheWVyIGlzIGNsb3NlZFxyXG5cdFx0XHR0aGlzLl9zb3VyY2UuZmlyZSgncG9wdXBjbG9zZScsIHtwb3B1cDogdGhpc30sIHRydWUpO1xyXG5cdFx0XHRpZiAoISh0aGlzLl9zb3VyY2UgaW5zdGFuY2VvZiBMLlBhdGgpKSB7XHJcblx0XHRcdFx0dGhpcy5fc291cmNlLm9mZigncHJlY2xpY2snLCBMLkRvbUV2ZW50LnN0b3BQcm9wYWdhdGlvbik7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHRnZXRFdmVudHM6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHZhciBldmVudHMgPSBMLkRpdk92ZXJsYXkucHJvdG90eXBlLmdldEV2ZW50cy5jYWxsKHRoaXMpO1xyXG5cclxuXHRcdGlmICgnY2xvc2VPbkNsaWNrJyBpbiB0aGlzLm9wdGlvbnMgPyB0aGlzLm9wdGlvbnMuY2xvc2VPbkNsaWNrIDogdGhpcy5fbWFwLm9wdGlvbnMuY2xvc2VQb3B1cE9uQ2xpY2spIHtcclxuXHRcdFx0ZXZlbnRzLnByZWNsaWNrID0gdGhpcy5fY2xvc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHRoaXMub3B0aW9ucy5rZWVwSW5WaWV3KSB7XHJcblx0XHRcdGV2ZW50cy5tb3ZlZW5kID0gdGhpcy5fYWRqdXN0UGFuO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBldmVudHM7XHJcblx0fSxcclxuXHJcblx0X2Nsb3NlOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRpZiAodGhpcy5fbWFwKSB7XHJcblx0XHRcdHRoaXMuX21hcC5jbG9zZVBvcHVwKHRoaXMpO1xyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdF9pbml0TGF5b3V0OiBmdW5jdGlvbiAoKSB7XHJcblx0XHR2YXIgcHJlZml4ID0gJ2xlYWZsZXQtcG9wdXAnLFxyXG5cdFx0ICAgIGNvbnRhaW5lciA9IHRoaXMuX2NvbnRhaW5lciA9IEwuRG9tVXRpbC5jcmVhdGUoJ2RpdicsXHJcblx0XHRcdHByZWZpeCArICcgJyArICh0aGlzLm9wdGlvbnMuY2xhc3NOYW1lIHx8ICcnKSArXHJcblx0XHRcdCcgbGVhZmxldC16b29tLWFuaW1hdGVkJyk7XHJcblxyXG5cdFx0aWYgKHRoaXMub3B0aW9ucy5jbG9zZUJ1dHRvbikge1xyXG5cdFx0XHR2YXIgY2xvc2VCdXR0b24gPSB0aGlzLl9jbG9zZUJ1dHRvbiA9IEwuRG9tVXRpbC5jcmVhdGUoJ2EnLCBwcmVmaXggKyAnLWNsb3NlLWJ1dHRvbicsIGNvbnRhaW5lcik7XHJcblx0XHRcdGNsb3NlQnV0dG9uLmhyZWYgPSAnI2Nsb3NlJztcclxuXHRcdFx0Y2xvc2VCdXR0b24uaW5uZXJIVE1MID0gJyYjMjE1Oyc7XHJcblxyXG5cdFx0XHRMLkRvbUV2ZW50Lm9uKGNsb3NlQnV0dG9uLCAnY2xpY2snLCB0aGlzLl9vbkNsb3NlQnV0dG9uQ2xpY2ssIHRoaXMpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHZhciB3cmFwcGVyID0gdGhpcy5fd3JhcHBlciA9IEwuRG9tVXRpbC5jcmVhdGUoJ2RpdicsIHByZWZpeCArICctY29udGVudC13cmFwcGVyJywgY29udGFpbmVyKTtcclxuXHRcdHRoaXMuX2NvbnRlbnROb2RlID0gTC5Eb21VdGlsLmNyZWF0ZSgnZGl2JywgcHJlZml4ICsgJy1jb250ZW50Jywgd3JhcHBlcik7XHJcblxyXG5cdFx0TC5Eb21FdmVudFxyXG5cdFx0XHQuZGlzYWJsZUNsaWNrUHJvcGFnYXRpb24od3JhcHBlcilcclxuXHRcdFx0LmRpc2FibGVTY3JvbGxQcm9wYWdhdGlvbih0aGlzLl9jb250ZW50Tm9kZSlcclxuXHRcdFx0Lm9uKHdyYXBwZXIsICdjb250ZXh0bWVudScsIEwuRG9tRXZlbnQuc3RvcFByb3BhZ2F0aW9uKTtcclxuXHJcblx0XHR0aGlzLl90aXBDb250YWluZXIgPSBMLkRvbVV0aWwuY3JlYXRlKCdkaXYnLCBwcmVmaXggKyAnLXRpcC1jb250YWluZXInLCBjb250YWluZXIpO1xyXG5cdFx0dGhpcy5fdGlwID0gTC5Eb21VdGlsLmNyZWF0ZSgnZGl2JywgcHJlZml4ICsgJy10aXAnLCB0aGlzLl90aXBDb250YWluZXIpO1xyXG5cdH0sXHJcblxyXG5cdF91cGRhdGVMYXlvdXQ6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHZhciBjb250YWluZXIgPSB0aGlzLl9jb250ZW50Tm9kZSxcclxuXHRcdCAgICBzdHlsZSA9IGNvbnRhaW5lci5zdHlsZTtcclxuXHJcblx0XHRzdHlsZS53aWR0aCA9ICcnO1xyXG5cdFx0c3R5bGUud2hpdGVTcGFjZSA9ICdub3dyYXAnO1xyXG5cclxuXHRcdHZhciB3aWR0aCA9IGNvbnRhaW5lci5vZmZzZXRXaWR0aDtcclxuXHRcdHdpZHRoID0gTWF0aC5taW4od2lkdGgsIHRoaXMub3B0aW9ucy5tYXhXaWR0aCk7XHJcblx0XHR3aWR0aCA9IE1hdGgubWF4KHdpZHRoLCB0aGlzLm9wdGlvbnMubWluV2lkdGgpO1xyXG5cclxuXHRcdHN0eWxlLndpZHRoID0gKHdpZHRoICsgMSkgKyAncHgnO1xyXG5cdFx0c3R5bGUud2hpdGVTcGFjZSA9ICcnO1xyXG5cclxuXHRcdHN0eWxlLmhlaWdodCA9ICcnO1xyXG5cclxuXHRcdHZhciBoZWlnaHQgPSBjb250YWluZXIub2Zmc2V0SGVpZ2h0LFxyXG5cdFx0ICAgIG1heEhlaWdodCA9IHRoaXMub3B0aW9ucy5tYXhIZWlnaHQsXHJcblx0XHQgICAgc2Nyb2xsZWRDbGFzcyA9ICdsZWFmbGV0LXBvcHVwLXNjcm9sbGVkJztcclxuXHJcblx0XHRpZiAobWF4SGVpZ2h0ICYmIGhlaWdodCA+IG1heEhlaWdodCkge1xyXG5cdFx0XHRzdHlsZS5oZWlnaHQgPSBtYXhIZWlnaHQgKyAncHgnO1xyXG5cdFx0XHRMLkRvbVV0aWwuYWRkQ2xhc3MoY29udGFpbmVyLCBzY3JvbGxlZENsYXNzKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdEwuRG9tVXRpbC5yZW1vdmVDbGFzcyhjb250YWluZXIsIHNjcm9sbGVkQ2xhc3MpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuX2NvbnRhaW5lcldpZHRoID0gdGhpcy5fY29udGFpbmVyLm9mZnNldFdpZHRoO1xyXG5cdH0sXHJcblxyXG5cdF9hbmltYXRlWm9vbTogZnVuY3Rpb24gKGUpIHtcclxuXHRcdHZhciBwb3MgPSB0aGlzLl9tYXAuX2xhdExuZ1RvTmV3TGF5ZXJQb2ludCh0aGlzLl9sYXRsbmcsIGUuem9vbSwgZS5jZW50ZXIpLFxyXG5cdFx0ICAgIGFuY2hvciA9IHRoaXMuX2dldEFuY2hvcigpO1xyXG5cdFx0TC5Eb21VdGlsLnNldFBvc2l0aW9uKHRoaXMuX2NvbnRhaW5lciwgcG9zLmFkZChhbmNob3IpKTtcclxuXHR9LFxyXG5cclxuXHRfYWRqdXN0UGFuOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRpZiAoIXRoaXMub3B0aW9ucy5hdXRvUGFuIHx8ICh0aGlzLl9tYXAuX3BhbkFuaW0gJiYgdGhpcy5fbWFwLl9wYW5BbmltLl9pblByb2dyZXNzKSkgeyByZXR1cm47IH1cclxuXHJcblx0XHR2YXIgbWFwID0gdGhpcy5fbWFwLFxyXG5cdFx0ICAgIG1hcmdpbkJvdHRvbSA9IHBhcnNlSW50KEwuRG9tVXRpbC5nZXRTdHlsZSh0aGlzLl9jb250YWluZXIsICdtYXJnaW5Cb3R0b20nKSwgMTApIHx8IDAsXHJcblx0XHQgICAgY29udGFpbmVySGVpZ2h0ID0gdGhpcy5fY29udGFpbmVyLm9mZnNldEhlaWdodCArIG1hcmdpbkJvdHRvbSxcclxuXHRcdCAgICBjb250YWluZXJXaWR0aCA9IHRoaXMuX2NvbnRhaW5lcldpZHRoLFxyXG5cdFx0ICAgIGxheWVyUG9zID0gbmV3IEwuUG9pbnQodGhpcy5fY29udGFpbmVyTGVmdCwgLWNvbnRhaW5lckhlaWdodCAtIHRoaXMuX2NvbnRhaW5lckJvdHRvbSk7XHJcblxyXG5cdFx0bGF5ZXJQb3MuX2FkZChMLkRvbVV0aWwuZ2V0UG9zaXRpb24odGhpcy5fY29udGFpbmVyKSk7XHJcblxyXG5cdFx0dmFyIGNvbnRhaW5lclBvcyA9IG1hcC5sYXllclBvaW50VG9Db250YWluZXJQb2ludChsYXllclBvcyksXHJcblx0XHQgICAgcGFkZGluZyA9IEwucG9pbnQodGhpcy5vcHRpb25zLmF1dG9QYW5QYWRkaW5nKSxcclxuXHRcdCAgICBwYWRkaW5nVEwgPSBMLnBvaW50KHRoaXMub3B0aW9ucy5hdXRvUGFuUGFkZGluZ1RvcExlZnQgfHwgcGFkZGluZyksXHJcblx0XHQgICAgcGFkZGluZ0JSID0gTC5wb2ludCh0aGlzLm9wdGlvbnMuYXV0b1BhblBhZGRpbmdCb3R0b21SaWdodCB8fCBwYWRkaW5nKSxcclxuXHRcdCAgICBzaXplID0gbWFwLmdldFNpemUoKSxcclxuXHRcdCAgICBkeCA9IDAsXHJcblx0XHQgICAgZHkgPSAwO1xyXG5cclxuXHRcdGlmIChjb250YWluZXJQb3MueCArIGNvbnRhaW5lcldpZHRoICsgcGFkZGluZ0JSLnggPiBzaXplLngpIHsgLy8gcmlnaHRcclxuXHRcdFx0ZHggPSBjb250YWluZXJQb3MueCArIGNvbnRhaW5lcldpZHRoIC0gc2l6ZS54ICsgcGFkZGluZ0JSLng7XHJcblx0XHR9XHJcblx0XHRpZiAoY29udGFpbmVyUG9zLnggLSBkeCAtIHBhZGRpbmdUTC54IDwgMCkgeyAvLyBsZWZ0XHJcblx0XHRcdGR4ID0gY29udGFpbmVyUG9zLnggLSBwYWRkaW5nVEwueDtcclxuXHRcdH1cclxuXHRcdGlmIChjb250YWluZXJQb3MueSArIGNvbnRhaW5lckhlaWdodCArIHBhZGRpbmdCUi55ID4gc2l6ZS55KSB7IC8vIGJvdHRvbVxyXG5cdFx0XHRkeSA9IGNvbnRhaW5lclBvcy55ICsgY29udGFpbmVySGVpZ2h0IC0gc2l6ZS55ICsgcGFkZGluZ0JSLnk7XHJcblx0XHR9XHJcblx0XHRpZiAoY29udGFpbmVyUG9zLnkgLSBkeSAtIHBhZGRpbmdUTC55IDwgMCkgeyAvLyB0b3BcclxuXHRcdFx0ZHkgPSBjb250YWluZXJQb3MueSAtIHBhZGRpbmdUTC55O1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIEBuYW1lc3BhY2UgTWFwXHJcblx0XHQvLyBAc2VjdGlvbiBQb3B1cCBldmVudHNcclxuXHRcdC8vIEBldmVudCBhdXRvcGFuc3RhcnQ6IEV2ZW50XHJcblx0XHQvLyBGaXJlZCB3aGVuIHRoZSBtYXAgc3RhcnRzIGF1dG9wYW5uaW5nIHdoZW4gb3BlbmluZyBhIHBvcHVwLlxyXG5cdFx0aWYgKGR4IHx8IGR5KSB7XHJcblx0XHRcdG1hcFxyXG5cdFx0XHQgICAgLmZpcmUoJ2F1dG9wYW5zdGFydCcpXHJcblx0XHRcdCAgICAucGFuQnkoW2R4LCBkeV0pO1xyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdF9vbkNsb3NlQnV0dG9uQ2xpY2s6IGZ1bmN0aW9uIChlKSB7XHJcblx0XHR0aGlzLl9jbG9zZSgpO1xyXG5cdFx0TC5Eb21FdmVudC5zdG9wKGUpO1xyXG5cdH0sXHJcblxyXG5cdF9nZXRBbmNob3I6IGZ1bmN0aW9uICgpIHtcclxuXHRcdC8vIFdoZXJlIHNob3VsZCB3ZSBhbmNob3IgdGhlIHBvcHVwIG9uIHRoZSBzb3VyY2UgbGF5ZXI/XHJcblx0XHRyZXR1cm4gTC5wb2ludCh0aGlzLl9zb3VyY2UgJiYgdGhpcy5fc291cmNlLl9nZXRQb3B1cEFuY2hvciA/IHRoaXMuX3NvdXJjZS5fZ2V0UG9wdXBBbmNob3IoKSA6IFswLCAwXSk7XHJcblx0fVxyXG5cclxufSk7XHJcblxyXG4vLyBAbmFtZXNwYWNlIFBvcHVwXHJcbi8vIEBmYWN0b3J5IEwucG9wdXAob3B0aW9ucz86IFBvcHVwIG9wdGlvbnMsIHNvdXJjZT86IExheWVyKVxyXG4vLyBJbnN0YW50aWF0ZXMgYSBgUG9wdXBgIG9iamVjdCBnaXZlbiBhbiBvcHRpb25hbCBgb3B0aW9uc2Agb2JqZWN0IHRoYXQgZGVzY3JpYmVzIGl0cyBhcHBlYXJhbmNlIGFuZCBsb2NhdGlvbiBhbmQgYW4gb3B0aW9uYWwgYHNvdXJjZWAgb2JqZWN0IHRoYXQgaXMgdXNlZCB0byB0YWcgdGhlIHBvcHVwIHdpdGggYSByZWZlcmVuY2UgdG8gdGhlIExheWVyIHRvIHdoaWNoIGl0IHJlZmVycy5cclxuTC5wb3B1cCA9IGZ1bmN0aW9uIChvcHRpb25zLCBzb3VyY2UpIHtcclxuXHRyZXR1cm4gbmV3IEwuUG9wdXAob3B0aW9ucywgc291cmNlKTtcclxufTtcclxuXHJcblxyXG4vKiBAbmFtZXNwYWNlIE1hcFxyXG4gKiBAc2VjdGlvbiBJbnRlcmFjdGlvbiBPcHRpb25zXHJcbiAqIEBvcHRpb24gY2xvc2VQb3B1cE9uQ2xpY2s6IEJvb2xlYW4gPSB0cnVlXHJcbiAqIFNldCBpdCB0byBgZmFsc2VgIGlmIHlvdSBkb24ndCB3YW50IHBvcHVwcyB0byBjbG9zZSB3aGVuIHVzZXIgY2xpY2tzIHRoZSBtYXAuXHJcbiAqL1xyXG5MLk1hcC5tZXJnZU9wdGlvbnMoe1xyXG5cdGNsb3NlUG9wdXBPbkNsaWNrOiB0cnVlXHJcbn0pO1xyXG5cclxuXHJcbi8vIEBuYW1lc3BhY2UgTWFwXHJcbi8vIEBzZWN0aW9uIE1ldGhvZHMgZm9yIExheWVycyBhbmQgQ29udHJvbHNcclxuTC5NYXAuaW5jbHVkZSh7XHJcblx0Ly8gQG1ldGhvZCBvcGVuUG9wdXAocG9wdXA6IFBvcHVwKTogdGhpc1xyXG5cdC8vIE9wZW5zIHRoZSBzcGVjaWZpZWQgcG9wdXAgd2hpbGUgY2xvc2luZyB0aGUgcHJldmlvdXNseSBvcGVuZWQgKHRvIG1ha2Ugc3VyZSBvbmx5IG9uZSBpcyBvcGVuZWQgYXQgb25lIHRpbWUgZm9yIHVzYWJpbGl0eSkuXHJcblx0Ly8gQGFsdGVybmF0aXZlXHJcblx0Ly8gQG1ldGhvZCBvcGVuUG9wdXAoY29udGVudDogU3RyaW5nfEhUTUxFbGVtZW50LCBsYXRsbmc6IExhdExuZywgb3B0aW9ucz86IFBvcHVwIG9wdGlvbnMpOiB0aGlzXHJcblx0Ly8gQ3JlYXRlcyBhIHBvcHVwIHdpdGggdGhlIHNwZWNpZmllZCBjb250ZW50IGFuZCBvcHRpb25zIGFuZCBvcGVucyBpdCBpbiB0aGUgZ2l2ZW4gcG9pbnQgb24gYSBtYXAuXHJcblx0b3BlblBvcHVwOiBmdW5jdGlvbiAocG9wdXAsIGxhdGxuZywgb3B0aW9ucykge1xyXG5cdFx0aWYgKCEocG9wdXAgaW5zdGFuY2VvZiBMLlBvcHVwKSkge1xyXG5cdFx0XHRwb3B1cCA9IG5ldyBMLlBvcHVwKG9wdGlvbnMpLnNldENvbnRlbnQocG9wdXApO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChsYXRsbmcpIHtcclxuXHRcdFx0cG9wdXAuc2V0TGF0TG5nKGxhdGxuZyk7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHRoaXMuaGFzTGF5ZXIocG9wdXApKSB7XHJcblx0XHRcdHJldHVybiB0aGlzO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICh0aGlzLl9wb3B1cCAmJiB0aGlzLl9wb3B1cC5vcHRpb25zLmF1dG9DbG9zZSkge1xyXG5cdFx0XHR0aGlzLmNsb3NlUG9wdXAoKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLl9wb3B1cCA9IHBvcHVwO1xyXG5cdFx0cmV0dXJuIHRoaXMuYWRkTGF5ZXIocG9wdXApO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgY2xvc2VQb3B1cChwb3B1cD86IFBvcHVwKTogdGhpc1xyXG5cdC8vIENsb3NlcyB0aGUgcG9wdXAgcHJldmlvdXNseSBvcGVuZWQgd2l0aCBbb3BlblBvcHVwXSgjbWFwLW9wZW5wb3B1cCkgKG9yIHRoZSBnaXZlbiBvbmUpLlxyXG5cdGNsb3NlUG9wdXA6IGZ1bmN0aW9uIChwb3B1cCkge1xyXG5cdFx0aWYgKCFwb3B1cCB8fCBwb3B1cCA9PT0gdGhpcy5fcG9wdXApIHtcclxuXHRcdFx0cG9wdXAgPSB0aGlzLl9wb3B1cDtcclxuXHRcdFx0dGhpcy5fcG9wdXAgPSBudWxsO1xyXG5cdFx0fVxyXG5cdFx0aWYgKHBvcHVwKSB7XHJcblx0XHRcdHRoaXMucmVtb3ZlTGF5ZXIocG9wdXApO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fVxyXG59KTtcclxuXG4vKlxuICogQG5hbWVzcGFjZSBMYXllclxuICogQHNlY3Rpb24gUG9wdXAgbWV0aG9kcyBleGFtcGxlXG4gKlxuICogQWxsIGxheWVycyBzaGFyZSBhIHNldCBvZiBtZXRob2RzIGNvbnZlbmllbnQgZm9yIGJpbmRpbmcgcG9wdXBzIHRvIGl0LlxuICpcbiAqIGBgYGpzXG4gKiB2YXIgbGF5ZXIgPSBMLlBvbHlnb24obGF0bG5ncykuYmluZFBvcHVwKCdIaSBUaGVyZSEnKS5hZGRUbyhtYXApO1xuICogbGF5ZXIub3BlblBvcHVwKCk7XG4gKiBsYXllci5jbG9zZVBvcHVwKCk7XG4gKiBgYGBcbiAqXG4gKiBQb3B1cHMgd2lsbCBhbHNvIGJlIGF1dG9tYXRpY2FsbHkgb3BlbmVkIHdoZW4gdGhlIGxheWVyIGlzIGNsaWNrZWQgb24gYW5kIGNsb3NlZCB3aGVuIHRoZSBsYXllciBpcyByZW1vdmVkIGZyb20gdGhlIG1hcCBvciBhbm90aGVyIHBvcHVwIGlzIG9wZW5lZC5cbiAqL1xuXG4vLyBAc2VjdGlvbiBQb3B1cCBtZXRob2RzXG5MLkxheWVyLmluY2x1ZGUoe1xuXG5cdC8vIEBtZXRob2QgYmluZFBvcHVwKGNvbnRlbnQ6IFN0cmluZ3xIVE1MRWxlbWVudHxGdW5jdGlvbnxQb3B1cCwgb3B0aW9ucz86IFBvcHVwIG9wdGlvbnMpOiB0aGlzXG5cdC8vIEJpbmRzIGEgcG9wdXAgdG8gdGhlIGxheWVyIHdpdGggdGhlIHBhc3NlZCBgY29udGVudGAgYW5kIHNldHMgdXAgdGhlXG5cdC8vIG5lY2Nlc3NhcnkgZXZlbnQgbGlzdGVuZXJzLiBJZiBhIGBGdW5jdGlvbmAgaXMgcGFzc2VkIGl0IHdpbGwgcmVjZWl2ZVxuXHQvLyB0aGUgbGF5ZXIgYXMgdGhlIGZpcnN0IGFyZ3VtZW50IGFuZCBzaG91bGQgcmV0dXJuIGEgYFN0cmluZ2Agb3IgYEhUTUxFbGVtZW50YC5cblx0YmluZFBvcHVwOiBmdW5jdGlvbiAoY29udGVudCwgb3B0aW9ucykge1xuXG5cdFx0aWYgKGNvbnRlbnQgaW5zdGFuY2VvZiBMLlBvcHVwKSB7XG5cdFx0XHRMLnNldE9wdGlvbnMoY29udGVudCwgb3B0aW9ucyk7XG5cdFx0XHR0aGlzLl9wb3B1cCA9IGNvbnRlbnQ7XG5cdFx0XHRjb250ZW50Ll9zb3VyY2UgPSB0aGlzO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRpZiAoIXRoaXMuX3BvcHVwIHx8IG9wdGlvbnMpIHtcblx0XHRcdFx0dGhpcy5fcG9wdXAgPSBuZXcgTC5Qb3B1cChvcHRpb25zLCB0aGlzKTtcblx0XHRcdH1cblx0XHRcdHRoaXMuX3BvcHVwLnNldENvbnRlbnQoY29udGVudCk7XG5cdFx0fVxuXG5cdFx0aWYgKCF0aGlzLl9wb3B1cEhhbmRsZXJzQWRkZWQpIHtcblx0XHRcdHRoaXMub24oe1xuXHRcdFx0XHRjbGljazogdGhpcy5fb3BlblBvcHVwLFxuXHRcdFx0XHRyZW1vdmU6IHRoaXMuY2xvc2VQb3B1cCxcblx0XHRcdFx0bW92ZTogdGhpcy5fbW92ZVBvcHVwXG5cdFx0XHR9KTtcblx0XHRcdHRoaXMuX3BvcHVwSGFuZGxlcnNBZGRlZCA9IHRydWU7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0Ly8gQG1ldGhvZCB1bmJpbmRQb3B1cCgpOiB0aGlzXG5cdC8vIFJlbW92ZXMgdGhlIHBvcHVwIHByZXZpb3VzbHkgYm91bmQgd2l0aCBgYmluZFBvcHVwYC5cblx0dW5iaW5kUG9wdXA6IGZ1bmN0aW9uICgpIHtcblx0XHRpZiAodGhpcy5fcG9wdXApIHtcblx0XHRcdHRoaXMub2ZmKHtcblx0XHRcdFx0Y2xpY2s6IHRoaXMuX29wZW5Qb3B1cCxcblx0XHRcdFx0cmVtb3ZlOiB0aGlzLmNsb3NlUG9wdXAsXG5cdFx0XHRcdG1vdmU6IHRoaXMuX21vdmVQb3B1cFxuXHRcdFx0fSk7XG5cdFx0XHR0aGlzLl9wb3B1cEhhbmRsZXJzQWRkZWQgPSBmYWxzZTtcblx0XHRcdHRoaXMuX3BvcHVwID0gbnVsbDtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0Ly8gQG1ldGhvZCBvcGVuUG9wdXAobGF0bG5nPzogTGF0TG5nKTogdGhpc1xuXHQvLyBPcGVucyB0aGUgYm91bmQgcG9wdXAgYXQgdGhlIHNwZWNpZmljZWQgYGxhdGxuZ2Agb3IgYXQgdGhlIGRlZmF1bHQgcG9wdXAgYW5jaG9yIGlmIG5vIGBsYXRsbmdgIGlzIHBhc3NlZC5cblx0b3BlblBvcHVwOiBmdW5jdGlvbiAobGF5ZXIsIGxhdGxuZykge1xuXHRcdGlmICghKGxheWVyIGluc3RhbmNlb2YgTC5MYXllcikpIHtcblx0XHRcdGxhdGxuZyA9IGxheWVyO1xuXHRcdFx0bGF5ZXIgPSB0aGlzO1xuXHRcdH1cblxuXHRcdGlmIChsYXllciBpbnN0YW5jZW9mIEwuRmVhdHVyZUdyb3VwKSB7XG5cdFx0XHRmb3IgKHZhciBpZCBpbiB0aGlzLl9sYXllcnMpIHtcblx0XHRcdFx0bGF5ZXIgPSB0aGlzLl9sYXllcnNbaWRdO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoIWxhdGxuZykge1xuXHRcdFx0bGF0bG5nID0gbGF5ZXIuZ2V0Q2VudGVyID8gbGF5ZXIuZ2V0Q2VudGVyKCkgOiBsYXllci5nZXRMYXRMbmcoKTtcblx0XHR9XG5cblx0XHRpZiAodGhpcy5fcG9wdXAgJiYgdGhpcy5fbWFwKSB7XG5cdFx0XHQvLyBzZXQgcG9wdXAgc291cmNlIHRvIHRoaXMgbGF5ZXJcblx0XHRcdHRoaXMuX3BvcHVwLl9zb3VyY2UgPSBsYXllcjtcblxuXHRcdFx0Ly8gdXBkYXRlIHRoZSBwb3B1cCAoY29udGVudCwgbGF5b3V0LCBlY3QuLi4pXG5cdFx0XHR0aGlzLl9wb3B1cC51cGRhdGUoKTtcblxuXHRcdFx0Ly8gb3BlbiB0aGUgcG9wdXAgb24gdGhlIG1hcFxuXHRcdFx0dGhpcy5fbWFwLm9wZW5Qb3B1cCh0aGlzLl9wb3B1cCwgbGF0bG5nKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHQvLyBAbWV0aG9kIGNsb3NlUG9wdXAoKTogdGhpc1xuXHQvLyBDbG9zZXMgdGhlIHBvcHVwIGJvdW5kIHRvIHRoaXMgbGF5ZXIgaWYgaXQgaXMgb3Blbi5cblx0Y2xvc2VQb3B1cDogZnVuY3Rpb24gKCkge1xuXHRcdGlmICh0aGlzLl9wb3B1cCkge1xuXHRcdFx0dGhpcy5fcG9wdXAuX2Nsb3NlKCk7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzO1xuXHR9LFxuXG5cdC8vIEBtZXRob2QgdG9nZ2xlUG9wdXAoKTogdGhpc1xuXHQvLyBPcGVucyBvciBjbG9zZXMgdGhlIHBvcHVwIGJvdW5kIHRvIHRoaXMgbGF5ZXIgZGVwZW5kaW5nIG9uIGl0cyBjdXJyZW50IHN0YXRlLlxuXHR0b2dnbGVQb3B1cDogZnVuY3Rpb24gKHRhcmdldCkge1xuXHRcdGlmICh0aGlzLl9wb3B1cCkge1xuXHRcdFx0aWYgKHRoaXMuX3BvcHVwLl9tYXApIHtcblx0XHRcdFx0dGhpcy5jbG9zZVBvcHVwKCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aGlzLm9wZW5Qb3B1cCh0YXJnZXQpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHQvLyBAbWV0aG9kIGlzUG9wdXBPcGVuKCk6IGJvb2xlYW5cblx0Ly8gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHBvcHVwIGJvdW5kIHRvIHRoaXMgbGF5ZXIgaXMgY3VycmVudGx5IG9wZW4uXG5cdGlzUG9wdXBPcGVuOiBmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuIHRoaXMuX3BvcHVwLmlzT3BlbigpO1xuXHR9LFxuXG5cdC8vIEBtZXRob2Qgc2V0UG9wdXBDb250ZW50KGNvbnRlbnQ6IFN0cmluZ3xIVE1MRWxlbWVudHxQb3B1cCk6IHRoaXNcblx0Ly8gU2V0cyB0aGUgY29udGVudCBvZiB0aGUgcG9wdXAgYm91bmQgdG8gdGhpcyBsYXllci5cblx0c2V0UG9wdXBDb250ZW50OiBmdW5jdGlvbiAoY29udGVudCkge1xuXHRcdGlmICh0aGlzLl9wb3B1cCkge1xuXHRcdFx0dGhpcy5fcG9wdXAuc2V0Q29udGVudChjb250ZW50KTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0Ly8gQG1ldGhvZCBnZXRQb3B1cCgpOiBQb3B1cFxuXHQvLyBSZXR1cm5zIHRoZSBwb3B1cCBib3VuZCB0byB0aGlzIGxheWVyLlxuXHRnZXRQb3B1cDogZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiB0aGlzLl9wb3B1cDtcblx0fSxcblxuXHRfb3BlblBvcHVwOiBmdW5jdGlvbiAoZSkge1xuXHRcdHZhciBsYXllciA9IGUubGF5ZXIgfHwgZS50YXJnZXQ7XG5cblx0XHRpZiAoIXRoaXMuX3BvcHVwKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKCF0aGlzLl9tYXApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBwcmV2ZW50IG1hcCBjbGlja1xuXHRcdEwuRG9tRXZlbnQuc3RvcChlKTtcblxuXHRcdC8vIGlmIHRoaXMgaW5oZXJpdHMgZnJvbSBQYXRoIGl0cyBhIHZlY3RvciBhbmQgd2UgY2FuIGp1c3Rcblx0XHQvLyBvcGVuIHRoZSBwb3B1cCBhdCB0aGUgbmV3IGxvY2F0aW9uXG5cdFx0aWYgKGxheWVyIGluc3RhbmNlb2YgTC5QYXRoKSB7XG5cdFx0XHR0aGlzLm9wZW5Qb3B1cChlLmxheWVyIHx8IGUudGFyZ2V0LCBlLmxhdGxuZyk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gb3RoZXJ3aXNlIHRyZWF0IGl0IGxpa2UgYSBtYXJrZXIgYW5kIGZpZ3VyZSBvdXRcblx0XHQvLyBpZiB3ZSBzaG91bGQgdG9nZ2xlIGl0IG9wZW4vY2xvc2VkXG5cdFx0aWYgKHRoaXMuX21hcC5oYXNMYXllcih0aGlzLl9wb3B1cCkgJiYgdGhpcy5fcG9wdXAuX3NvdXJjZSA9PT0gbGF5ZXIpIHtcblx0XHRcdHRoaXMuY2xvc2VQb3B1cCgpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLm9wZW5Qb3B1cChsYXllciwgZS5sYXRsbmcpO1xuXHRcdH1cblx0fSxcblxuXHRfbW92ZVBvcHVwOiBmdW5jdGlvbiAoZSkge1xuXHRcdHRoaXMuX3BvcHVwLnNldExhdExuZyhlLmxhdGxuZyk7XG5cdH1cbn0pO1xuXG4vKlxyXG4gKiBQb3B1cCBleHRlbnNpb24gdG8gTC5NYXJrZXIsIGFkZGluZyBwb3B1cC1yZWxhdGVkIG1ldGhvZHMuXHJcbiAqL1xyXG5cclxuTC5NYXJrZXIuaW5jbHVkZSh7XHJcblx0X2dldFBvcHVwQW5jaG9yOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5vcHRpb25zLmljb24ub3B0aW9ucy5wb3B1cEFuY2hvciB8fCBbMCwgMF07XHJcblx0fVxyXG59KTtcclxuXG4vKlxuICogQGNsYXNzIFRvb2x0aXBcbiAqIEBpbmhlcml0cyBEaXZPdmVybGF5XG4gKiBAYWthIEwuVG9vbHRpcFxuICogVXNlZCB0byBkaXNwbGF5IHNtYWxsIHRleHRzIG9uIHRvcCBvZiBtYXAgbGF5ZXJzLlxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogYGBganNcbiAqIG1hcmtlci5iaW5kVG9vbHRpcChcIm15IHRvb2x0aXAgdGV4dFwiKS5vcGVuVG9vbHRpcCgpO1xuICogYGBgXG4gKiBOb3RlIGFib3V0IHRvb2x0aXAgb2Zmc2V0LiBMZWFmbGV0IHRha2VzIHR3byBvcHRpb25zIGluIGNvbnNpZGVyYXRpb25cbiAqIGZvciBjb21wdXRpbmcgdG9vbHRpcCBvZmZzZXRpbmc6XG4gKiAtIHRoZSBgb2Zmc2V0YCBUb29sdGlwIG9wdGlvbjogaXQgZGVmYXVsdHMgdG8gWzAsIDBdLCBhbmQgaXQncyBzcGVjaWZpYyB0byBvbmUgdG9vbHRpcC5cbiAqICAgQWRkIGEgcG9zaXRpdmUgeCBvZmZzZXQgdG8gbW92ZSB0aGUgdG9vbHRpcCB0byB0aGUgcmlnaHQsIGFuZCBhIHBvc2l0aXZlIHkgb2Zmc2V0IHRvXG4gKiAgIG1vdmUgaXQgdG8gdGhlIGJvdHRvbS4gTmVnYXRpdmVzIHdpbGwgbW92ZSB0byB0aGUgbGVmdCBhbmQgdG9wLlxuICogLSB0aGUgYHRvb2x0aXBBbmNob3JgIEljb24gb3B0aW9uOiB0aGlzIHdpbGwgb25seSBiZSBjb25zaWRlcmVkIGZvciBNYXJrZXIuIFlvdVxuICogICBzaG91bGQgYWRhcHQgdGhpcyB2YWx1ZSBpZiB5b3UgdXNlIGEgY3VzdG9tIGljb24uXG4gKi9cblxuXG4vLyBAbmFtZXNwYWNlIFRvb2x0aXBcbkwuVG9vbHRpcCA9IEwuRGl2T3ZlcmxheS5leHRlbmQoe1xuXG5cdC8vIEBzZWN0aW9uXG5cdC8vIEBha2EgVG9vbHRpcCBvcHRpb25zXG5cdG9wdGlvbnM6IHtcblx0XHQvLyBAb3B0aW9uIHBhbmU6IFN0cmluZyA9ICd0b29sdGlwUGFuZSdcblx0XHQvLyBgTWFwIHBhbmVgIHdoZXJlIHRoZSB0b29sdGlwIHdpbGwgYmUgYWRkZWQuXG5cdFx0cGFuZTogJ3Rvb2x0aXBQYW5lJyxcblxuXHRcdC8vIEBvcHRpb24gb2Zmc2V0OiBQb2ludCA9IFBvaW50KDAsIDApXG5cdFx0Ly8gT3B0aW9uYWwgb2Zmc2V0IG9mIHRoZSB0b29sdGlwIHBvc2l0aW9uLlxuXHRcdG9mZnNldDogWzAsIDBdLFxuXG5cdFx0Ly8gQG9wdGlvbiBkaXJlY3Rpb246IFN0cmluZyA9ICdhdXRvJ1xuXHRcdC8vIERpcmVjdGlvbiB3aGVyZSB0byBvcGVuIHRoZSB0b29sdGlwLiBQb3NzaWJsZSB2YWx1ZXMgYXJlOiBgcmlnaHRgLCBgbGVmdGAsXG5cdFx0Ly8gYHRvcGAsIGBib3R0b21gLCBgY2VudGVyYCwgYGF1dG9gLlxuXHRcdC8vIGBhdXRvYCB3aWxsIGR5bmFtaWNhbHkgc3dpdGNoIGJldHdlZW4gYHJpZ2h0YCBhbmQgYGxlZnRgIGFjY29yZGluZyB0byB0aGUgdG9vbHRpcFxuXHRcdC8vIHBvc2l0aW9uIG9uIHRoZSBtYXAuXG5cdFx0ZGlyZWN0aW9uOiAnYXV0bycsXG5cblx0XHQvLyBAb3B0aW9uIHBlcm1hbmVudDogQm9vbGVhbiA9IGZhbHNlXG5cdFx0Ly8gV2hldGhlciB0byBvcGVuIHRoZSB0b29sdGlwIHBlcm1hbmVudGx5IG9yIG9ubHkgb24gbW91c2VvdmVyLlxuXHRcdHBlcm1hbmVudDogZmFsc2UsXG5cblx0XHQvLyBAb3B0aW9uIHN0aWNreTogQm9vbGVhbiA9IGZhbHNlXG5cdFx0Ly8gSWYgdHJ1ZSwgdGhlIHRvb2x0aXAgd2lsbCBmb2xsb3cgdGhlIG1vdXNlIGluc3RlYWQgb2YgYmVpbmcgZml4ZWQgYXQgdGhlIGZlYXR1cmUgY2VudGVyLlxuXHRcdHN0aWNreTogZmFsc2UsXG5cblx0XHQvLyBAb3B0aW9uIGludGVyYWN0aXZlOiBCb29sZWFuID0gZmFsc2Vcblx0XHQvLyBJZiB0cnVlLCB0aGUgdG9vbHRpcCB3aWxsIGxpc3RlbiB0byB0aGUgZmVhdHVyZSBldmVudHMuXG5cdFx0aW50ZXJhY3RpdmU6IGZhbHNlLFxuXG5cdFx0Ly8gQG9wdGlvbiBvcGFjaXR5OiBOdW1iZXIgPSAwLjlcblx0XHQvLyBUb29sdGlwIGNvbnRhaW5lciBvcGFjaXR5LlxuXHRcdG9wYWNpdHk6IDAuOVxuXHR9LFxuXG5cdG9uQWRkOiBmdW5jdGlvbiAobWFwKSB7XG5cdFx0TC5EaXZPdmVybGF5LnByb3RvdHlwZS5vbkFkZC5jYWxsKHRoaXMsIG1hcCk7XG5cdFx0dGhpcy5zZXRPcGFjaXR5KHRoaXMub3B0aW9ucy5vcGFjaXR5KTtcblxuXHRcdC8vIEBuYW1lc3BhY2UgTWFwXG5cdFx0Ly8gQHNlY3Rpb24gVG9vbHRpcCBldmVudHNcblx0XHQvLyBAZXZlbnQgdG9vbHRpcG9wZW46IFRvb2x0aXBFdmVudFxuXHRcdC8vIEZpcmVkIHdoZW4gYSB0b29sdGlwIGlzIG9wZW5lZCBpbiB0aGUgbWFwLlxuXHRcdG1hcC5maXJlKCd0b29sdGlwb3BlbicsIHt0b29sdGlwOiB0aGlzfSk7XG5cblx0XHRpZiAodGhpcy5fc291cmNlKSB7XG5cdFx0XHQvLyBAbmFtZXNwYWNlIExheWVyXG5cdFx0XHQvLyBAc2VjdGlvbiBUb29sdGlwIGV2ZW50c1xuXHRcdFx0Ly8gQGV2ZW50IHRvb2x0aXBvcGVuOiBUb29sdGlwRXZlbnRcblx0XHRcdC8vIEZpcmVkIHdoZW4gYSB0b29sdGlwIGJvdW5kIHRvIHRoaXMgbGF5ZXIgaXMgb3BlbmVkLlxuXHRcdFx0dGhpcy5fc291cmNlLmZpcmUoJ3Rvb2x0aXBvcGVuJywge3Rvb2x0aXA6IHRoaXN9LCB0cnVlKTtcblx0XHR9XG5cdH0sXG5cblx0b25SZW1vdmU6IGZ1bmN0aW9uIChtYXApIHtcblx0XHRMLkRpdk92ZXJsYXkucHJvdG90eXBlLm9uUmVtb3ZlLmNhbGwodGhpcywgbWFwKTtcblxuXHRcdC8vIEBuYW1lc3BhY2UgTWFwXG5cdFx0Ly8gQHNlY3Rpb24gVG9vbHRpcCBldmVudHNcblx0XHQvLyBAZXZlbnQgdG9vbHRpcGNsb3NlOiBUb29sdGlwRXZlbnRcblx0XHQvLyBGaXJlZCB3aGVuIGEgdG9vbHRpcCBpbiB0aGUgbWFwIGlzIGNsb3NlZC5cblx0XHRtYXAuZmlyZSgndG9vbHRpcGNsb3NlJywge3Rvb2x0aXA6IHRoaXN9KTtcblxuXHRcdGlmICh0aGlzLl9zb3VyY2UpIHtcblx0XHRcdC8vIEBuYW1lc3BhY2UgTGF5ZXJcblx0XHRcdC8vIEBzZWN0aW9uIFRvb2x0aXAgZXZlbnRzXG5cdFx0XHQvLyBAZXZlbnQgdG9vbHRpcGNsb3NlOiBUb29sdGlwRXZlbnRcblx0XHRcdC8vIEZpcmVkIHdoZW4gYSB0b29sdGlwIGJvdW5kIHRvIHRoaXMgbGF5ZXIgaXMgY2xvc2VkLlxuXHRcdFx0dGhpcy5fc291cmNlLmZpcmUoJ3Rvb2x0aXBjbG9zZScsIHt0b29sdGlwOiB0aGlzfSwgdHJ1ZSk7XG5cdFx0fVxuXHR9LFxuXG5cdGdldEV2ZW50czogZnVuY3Rpb24gKCkge1xuXHRcdHZhciBldmVudHMgPSBMLkRpdk92ZXJsYXkucHJvdG90eXBlLmdldEV2ZW50cy5jYWxsKHRoaXMpO1xuXG5cdFx0aWYgKEwuQnJvd3Nlci50b3VjaCAmJiAhdGhpcy5vcHRpb25zLnBlcm1hbmVudCkge1xuXHRcdFx0ZXZlbnRzLnByZWNsaWNrID0gdGhpcy5fY2xvc2U7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGV2ZW50cztcblx0fSxcblxuXHRfY2xvc2U6IGZ1bmN0aW9uICgpIHtcblx0XHRpZiAodGhpcy5fbWFwKSB7XG5cdFx0XHR0aGlzLl9tYXAuY2xvc2VUb29sdGlwKHRoaXMpO1xuXHRcdH1cblx0fSxcblxuXHRfaW5pdExheW91dDogZnVuY3Rpb24gKCkge1xuXHRcdHZhciBwcmVmaXggPSAnbGVhZmxldC10b29sdGlwJyxcblx0XHQgICAgY2xhc3NOYW1lID0gcHJlZml4ICsgJyAnICsgKHRoaXMub3B0aW9ucy5jbGFzc05hbWUgfHwgJycpICsgJyBsZWFmbGV0LXpvb20tJyArICh0aGlzLl96b29tQW5pbWF0ZWQgPyAnYW5pbWF0ZWQnIDogJ2hpZGUnKTtcblxuXHRcdHRoaXMuX2NvbnRlbnROb2RlID0gdGhpcy5fY29udGFpbmVyID0gTC5Eb21VdGlsLmNyZWF0ZSgnZGl2JywgY2xhc3NOYW1lKTtcblx0fSxcblxuXHRfdXBkYXRlTGF5b3V0OiBmdW5jdGlvbiAoKSB7fSxcblxuXHRfYWRqdXN0UGFuOiBmdW5jdGlvbiAoKSB7fSxcblxuXHRfc2V0UG9zaXRpb246IGZ1bmN0aW9uIChwb3MpIHtcblx0XHR2YXIgbWFwID0gdGhpcy5fbWFwLFxuXHRcdCAgICBjb250YWluZXIgPSB0aGlzLl9jb250YWluZXIsXG5cdFx0ICAgIGNlbnRlclBvaW50ID0gbWFwLmxhdExuZ1RvQ29udGFpbmVyUG9pbnQobWFwLmdldENlbnRlcigpKSxcblx0XHQgICAgdG9vbHRpcFBvaW50ID0gbWFwLmxheWVyUG9pbnRUb0NvbnRhaW5lclBvaW50KHBvcyksXG5cdFx0ICAgIGRpcmVjdGlvbiA9IHRoaXMub3B0aW9ucy5kaXJlY3Rpb24sXG5cdFx0ICAgIHRvb2x0aXBXaWR0aCA9IGNvbnRhaW5lci5vZmZzZXRXaWR0aCxcblx0XHQgICAgdG9vbHRpcEhlaWdodCA9IGNvbnRhaW5lci5vZmZzZXRIZWlnaHQsXG5cdFx0ICAgIG9mZnNldCA9IEwucG9pbnQodGhpcy5vcHRpb25zLm9mZnNldCksXG5cdFx0ICAgIGFuY2hvciA9IHRoaXMuX2dldEFuY2hvcigpO1xuXG5cdFx0aWYgKGRpcmVjdGlvbiA9PT0gJ3RvcCcpIHtcblx0XHRcdHBvcyA9IHBvcy5hZGQoTC5wb2ludCgtdG9vbHRpcFdpZHRoIC8gMiArIG9mZnNldC54LCAtdG9vbHRpcEhlaWdodCArIG9mZnNldC55ICsgYW5jaG9yLnkpKTtcblx0XHR9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PT0gJ2JvdHRvbScpIHtcblx0XHRcdHBvcyA9IHBvcy5zdWJ0cmFjdChMLnBvaW50KHRvb2x0aXBXaWR0aCAvIDIgLSBvZmZzZXQueCwgLW9mZnNldC55KSk7XG5cdFx0fSBlbHNlIGlmIChkaXJlY3Rpb24gPT09ICdjZW50ZXInKSB7XG5cdFx0XHRwb3MgPSBwb3Muc3VidHJhY3QoTC5wb2ludCh0b29sdGlwV2lkdGggLyAyICsgb2Zmc2V0LngsIHRvb2x0aXBIZWlnaHQgLyAyIC0gYW5jaG9yLnkgKyBvZmZzZXQueSkpO1xuXHRcdH0gZWxzZSBpZiAoZGlyZWN0aW9uID09PSAncmlnaHQnIHx8IGRpcmVjdGlvbiA9PT0gJ2F1dG8nICYmIHRvb2x0aXBQb2ludC54IDwgY2VudGVyUG9pbnQueCkge1xuXHRcdFx0ZGlyZWN0aW9uID0gJ3JpZ2h0Jztcblx0XHRcdHBvcyA9IHBvcy5hZGQoW29mZnNldC54ICsgYW5jaG9yLngsIGFuY2hvci55IC0gdG9vbHRpcEhlaWdodCAvIDIgKyBvZmZzZXQueV0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRkaXJlY3Rpb24gPSAnbGVmdCc7XG5cdFx0XHRwb3MgPSBwb3Muc3VidHJhY3QoTC5wb2ludCh0b29sdGlwV2lkdGggKyBhbmNob3IueCAtIG9mZnNldC54LCB0b29sdGlwSGVpZ2h0IC8gMiAtIGFuY2hvci55IC0gb2Zmc2V0LnkpKTtcblx0XHR9XG5cblx0XHRMLkRvbVV0aWwucmVtb3ZlQ2xhc3MoY29udGFpbmVyLCAnbGVhZmxldC10b29sdGlwLXJpZ2h0Jyk7XG5cdFx0TC5Eb21VdGlsLnJlbW92ZUNsYXNzKGNvbnRhaW5lciwgJ2xlYWZsZXQtdG9vbHRpcC1sZWZ0Jyk7XG5cdFx0TC5Eb21VdGlsLnJlbW92ZUNsYXNzKGNvbnRhaW5lciwgJ2xlYWZsZXQtdG9vbHRpcC10b3AnKTtcblx0XHRMLkRvbVV0aWwucmVtb3ZlQ2xhc3MoY29udGFpbmVyLCAnbGVhZmxldC10b29sdGlwLWJvdHRvbScpO1xuXHRcdEwuRG9tVXRpbC5hZGRDbGFzcyhjb250YWluZXIsICdsZWFmbGV0LXRvb2x0aXAtJyArIGRpcmVjdGlvbik7XG5cdFx0TC5Eb21VdGlsLnNldFBvc2l0aW9uKGNvbnRhaW5lciwgcG9zKTtcblx0fSxcblxuXHRfdXBkYXRlUG9zaXRpb246IGZ1bmN0aW9uICgpIHtcblx0XHR2YXIgcG9zID0gdGhpcy5fbWFwLmxhdExuZ1RvTGF5ZXJQb2ludCh0aGlzLl9sYXRsbmcpO1xuXHRcdHRoaXMuX3NldFBvc2l0aW9uKHBvcyk7XG5cdH0sXG5cblx0c2V0T3BhY2l0eTogZnVuY3Rpb24gKG9wYWNpdHkpIHtcblx0XHR0aGlzLm9wdGlvbnMub3BhY2l0eSA9IG9wYWNpdHk7XG5cblx0XHRpZiAodGhpcy5fY29udGFpbmVyKSB7XG5cdFx0XHRMLkRvbVV0aWwuc2V0T3BhY2l0eSh0aGlzLl9jb250YWluZXIsIG9wYWNpdHkpO1xuXHRcdH1cblx0fSxcblxuXHRfYW5pbWF0ZVpvb206IGZ1bmN0aW9uIChlKSB7XG5cdFx0dmFyIHBvcyA9IHRoaXMuX21hcC5fbGF0TG5nVG9OZXdMYXllclBvaW50KHRoaXMuX2xhdGxuZywgZS56b29tLCBlLmNlbnRlcik7XG5cdFx0dGhpcy5fc2V0UG9zaXRpb24ocG9zKTtcblx0fSxcblxuXHRfZ2V0QW5jaG9yOiBmdW5jdGlvbiAoKSB7XG5cdFx0Ly8gV2hlcmUgc2hvdWxkIHdlIGFuY2hvciB0aGUgdG9vbHRpcCBvbiB0aGUgc291cmNlIGxheWVyP1xuXHRcdHJldHVybiBMLnBvaW50KHRoaXMuX3NvdXJjZSAmJiB0aGlzLl9zb3VyY2UuX2dldFRvb2x0aXBBbmNob3IgJiYgIXRoaXMub3B0aW9ucy5zdGlja3kgPyB0aGlzLl9zb3VyY2UuX2dldFRvb2x0aXBBbmNob3IoKSA6IFswLCAwXSk7XG5cdH1cblxufSk7XG5cbi8vIEBuYW1lc3BhY2UgVG9vbHRpcFxuLy8gQGZhY3RvcnkgTC50b29sdGlwKG9wdGlvbnM/OiBUb29sdGlwIG9wdGlvbnMsIHNvdXJjZT86IExheWVyKVxuLy8gSW5zdGFudGlhdGVzIGEgVG9vbHRpcCBvYmplY3QgZ2l2ZW4gYW4gb3B0aW9uYWwgYG9wdGlvbnNgIG9iamVjdCB0aGF0IGRlc2NyaWJlcyBpdHMgYXBwZWFyYW5jZSBhbmQgbG9jYXRpb24gYW5kIGFuIG9wdGlvbmFsIGBzb3VyY2VgIG9iamVjdCB0aGF0IGlzIHVzZWQgdG8gdGFnIHRoZSB0b29sdGlwIHdpdGggYSByZWZlcmVuY2UgdG8gdGhlIExheWVyIHRvIHdoaWNoIGl0IHJlZmVycy5cbkwudG9vbHRpcCA9IGZ1bmN0aW9uIChvcHRpb25zLCBzb3VyY2UpIHtcblx0cmV0dXJuIG5ldyBMLlRvb2x0aXAob3B0aW9ucywgc291cmNlKTtcbn07XG5cbi8vIEBuYW1lc3BhY2UgTWFwXG4vLyBAc2VjdGlvbiBNZXRob2RzIGZvciBMYXllcnMgYW5kIENvbnRyb2xzXG5MLk1hcC5pbmNsdWRlKHtcblxuXHQvLyBAbWV0aG9kIG9wZW5Ub29sdGlwKHRvb2x0aXA6IFRvb2x0aXApOiB0aGlzXG5cdC8vIE9wZW5zIHRoZSBzcGVjaWZpZWQgdG9vbHRpcC5cblx0Ly8gQGFsdGVybmF0aXZlXG5cdC8vIEBtZXRob2Qgb3BlblRvb2x0aXAoY29udGVudDogU3RyaW5nfEhUTUxFbGVtZW50LCBsYXRsbmc6IExhdExuZywgb3B0aW9ucz86IFRvb2x0aXAgb3B0aW9ucyk6IHRoaXNcblx0Ly8gQ3JlYXRlcyBhIHRvb2x0aXAgd2l0aCB0aGUgc3BlY2lmaWVkIGNvbnRlbnQgYW5kIG9wdGlvbnMgYW5kIG9wZW4gaXQuXG5cdG9wZW5Ub29sdGlwOiBmdW5jdGlvbiAodG9vbHRpcCwgbGF0bG5nLCBvcHRpb25zKSB7XG5cdFx0aWYgKCEodG9vbHRpcCBpbnN0YW5jZW9mIEwuVG9vbHRpcCkpIHtcblx0XHRcdHRvb2x0aXAgPSBuZXcgTC5Ub29sdGlwKG9wdGlvbnMpLnNldENvbnRlbnQodG9vbHRpcCk7XG5cdFx0fVxuXG5cdFx0aWYgKGxhdGxuZykge1xuXHRcdFx0dG9vbHRpcC5zZXRMYXRMbmcobGF0bG5nKTtcblx0XHR9XG5cblx0XHRpZiAodGhpcy5oYXNMYXllcih0b29sdGlwKSkge1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMuYWRkTGF5ZXIodG9vbHRpcCk7XG5cdH0sXG5cblx0Ly8gQG1ldGhvZCBjbG9zZVRvb2x0aXAodG9vbHRpcD86IFRvb2x0aXApOiB0aGlzXG5cdC8vIENsb3NlcyB0aGUgdG9vbHRpcCBnaXZlbiBhcyBwYXJhbWV0ZXIuXG5cdGNsb3NlVG9vbHRpcDogZnVuY3Rpb24gKHRvb2x0aXApIHtcblx0XHRpZiAodG9vbHRpcCkge1xuXHRcdFx0dGhpcy5yZW1vdmVMYXllcih0b29sdGlwKTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cblxufSk7XG5cbi8qXG4gKiBAbmFtZXNwYWNlIExheWVyXG4gKiBAc2VjdGlvbiBUb29sdGlwIG1ldGhvZHMgZXhhbXBsZVxuICpcbiAqIEFsbCBsYXllcnMgc2hhcmUgYSBzZXQgb2YgbWV0aG9kcyBjb252ZW5pZW50IGZvciBiaW5kaW5nIHRvb2x0aXBzIHRvIGl0LlxuICpcbiAqIGBgYGpzXG4gKiB2YXIgbGF5ZXIgPSBMLlBvbHlnb24obGF0bG5ncykuYmluZFRvb2x0aXAoJ0hpIFRoZXJlIScpLmFkZFRvKG1hcCk7XG4gKiBsYXllci5vcGVuVG9vbHRpcCgpO1xuICogbGF5ZXIuY2xvc2VUb29sdGlwKCk7XG4gKiBgYGBcbiAqL1xuXG4vLyBAc2VjdGlvbiBUb29sdGlwIG1ldGhvZHNcbkwuTGF5ZXIuaW5jbHVkZSh7XG5cblx0Ly8gQG1ldGhvZCBiaW5kVG9vbHRpcChjb250ZW50OiBTdHJpbmd8SFRNTEVsZW1lbnR8RnVuY3Rpb258VG9vbHRpcCwgb3B0aW9ucz86IFRvb2x0aXAgb3B0aW9ucyk6IHRoaXNcblx0Ly8gQmluZHMgYSB0b29sdGlwIHRvIHRoZSBsYXllciB3aXRoIHRoZSBwYXNzZWQgYGNvbnRlbnRgIGFuZCBzZXRzIHVwIHRoZVxuXHQvLyBuZWNjZXNzYXJ5IGV2ZW50IGxpc3RlbmVycy4gSWYgYSBgRnVuY3Rpb25gIGlzIHBhc3NlZCBpdCB3aWxsIHJlY2VpdmVcblx0Ly8gdGhlIGxheWVyIGFzIHRoZSBmaXJzdCBhcmd1bWVudCBhbmQgc2hvdWxkIHJldHVybiBhIGBTdHJpbmdgIG9yIGBIVE1MRWxlbWVudGAuXG5cdGJpbmRUb29sdGlwOiBmdW5jdGlvbiAoY29udGVudCwgb3B0aW9ucykge1xuXG5cdFx0aWYgKGNvbnRlbnQgaW5zdGFuY2VvZiBMLlRvb2x0aXApIHtcblx0XHRcdEwuc2V0T3B0aW9ucyhjb250ZW50LCBvcHRpb25zKTtcblx0XHRcdHRoaXMuX3Rvb2x0aXAgPSBjb250ZW50O1xuXHRcdFx0Y29udGVudC5fc291cmNlID0gdGhpcztcblx0XHR9IGVsc2Uge1xuXHRcdFx0aWYgKCF0aGlzLl90b29sdGlwIHx8IG9wdGlvbnMpIHtcblx0XHRcdFx0dGhpcy5fdG9vbHRpcCA9IEwudG9vbHRpcChvcHRpb25zLCB0aGlzKTtcblx0XHRcdH1cblx0XHRcdHRoaXMuX3Rvb2x0aXAuc2V0Q29udGVudChjb250ZW50KTtcblxuXHRcdH1cblxuXHRcdHRoaXMuX2luaXRUb29sdGlwSW50ZXJhY3Rpb25zKCk7XG5cblx0XHRpZiAodGhpcy5fdG9vbHRpcC5vcHRpb25zLnBlcm1hbmVudCAmJiB0aGlzLl9tYXAgJiYgdGhpcy5fbWFwLmhhc0xheWVyKHRoaXMpKSB7XG5cdFx0XHR0aGlzLm9wZW5Ub29sdGlwKCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0Ly8gQG1ldGhvZCB1bmJpbmRUb29sdGlwKCk6IHRoaXNcblx0Ly8gUmVtb3ZlcyB0aGUgdG9vbHRpcCBwcmV2aW91c2x5IGJvdW5kIHdpdGggYGJpbmRUb29sdGlwYC5cblx0dW5iaW5kVG9vbHRpcDogZnVuY3Rpb24gKCkge1xuXHRcdGlmICh0aGlzLl90b29sdGlwKSB7XG5cdFx0XHR0aGlzLl9pbml0VG9vbHRpcEludGVyYWN0aW9ucyh0cnVlKTtcblx0XHRcdHRoaXMuY2xvc2VUb29sdGlwKCk7XG5cdFx0XHR0aGlzLl90b29sdGlwID0gbnVsbDtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0X2luaXRUb29sdGlwSW50ZXJhY3Rpb25zOiBmdW5jdGlvbiAocmVtb3ZlKSB7XG5cdFx0aWYgKCFyZW1vdmUgJiYgdGhpcy5fdG9vbHRpcEhhbmRsZXJzQWRkZWQpIHsgcmV0dXJuOyB9XG5cdFx0dmFyIG9uT2ZmID0gcmVtb3ZlID8gJ29mZicgOiAnb24nLFxuXHRcdCAgICBldmVudHMgPSB7XG5cdFx0XHRyZW1vdmU6IHRoaXMuY2xvc2VUb29sdGlwLFxuXHRcdFx0bW92ZTogdGhpcy5fbW92ZVRvb2x0aXBcblx0XHQgICAgfTtcblx0XHRpZiAoIXRoaXMuX3Rvb2x0aXAub3B0aW9ucy5wZXJtYW5lbnQpIHtcblx0XHRcdGV2ZW50cy5tb3VzZW92ZXIgPSB0aGlzLl9vcGVuVG9vbHRpcDtcblx0XHRcdGV2ZW50cy5tb3VzZW91dCA9IHRoaXMuY2xvc2VUb29sdGlwO1xuXHRcdFx0aWYgKHRoaXMuX3Rvb2x0aXAub3B0aW9ucy5zdGlja3kpIHtcblx0XHRcdFx0ZXZlbnRzLm1vdXNlbW92ZSA9IHRoaXMuX21vdmVUb29sdGlwO1xuXHRcdFx0fVxuXHRcdFx0aWYgKEwuQnJvd3Nlci50b3VjaCkge1xuXHRcdFx0XHRldmVudHMuY2xpY2sgPSB0aGlzLl9vcGVuVG9vbHRpcDtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0ZXZlbnRzLmFkZCA9IHRoaXMuX29wZW5Ub29sdGlwO1xuXHRcdH1cblx0XHR0aGlzW29uT2ZmXShldmVudHMpO1xuXHRcdHRoaXMuX3Rvb2x0aXBIYW5kbGVyc0FkZGVkID0gIXJlbW92ZTtcblx0fSxcblxuXHQvLyBAbWV0aG9kIG9wZW5Ub29sdGlwKGxhdGxuZz86IExhdExuZyk6IHRoaXNcblx0Ly8gT3BlbnMgdGhlIGJvdW5kIHRvb2x0aXAgYXQgdGhlIHNwZWNpZmljZWQgYGxhdGxuZ2Agb3IgYXQgdGhlIGRlZmF1bHQgdG9vbHRpcCBhbmNob3IgaWYgbm8gYGxhdGxuZ2AgaXMgcGFzc2VkLlxuXHRvcGVuVG9vbHRpcDogZnVuY3Rpb24gKGxheWVyLCBsYXRsbmcpIHtcblx0XHRpZiAoIShsYXllciBpbnN0YW5jZW9mIEwuTGF5ZXIpKSB7XG5cdFx0XHRsYXRsbmcgPSBsYXllcjtcblx0XHRcdGxheWVyID0gdGhpcztcblx0XHR9XG5cblx0XHRpZiAobGF5ZXIgaW5zdGFuY2VvZiBMLkZlYXR1cmVHcm91cCkge1xuXHRcdFx0Zm9yICh2YXIgaWQgaW4gdGhpcy5fbGF5ZXJzKSB7XG5cdFx0XHRcdGxheWVyID0gdGhpcy5fbGF5ZXJzW2lkXTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKCFsYXRsbmcpIHtcblx0XHRcdGxhdGxuZyA9IGxheWVyLmdldENlbnRlciA/IGxheWVyLmdldENlbnRlcigpIDogbGF5ZXIuZ2V0TGF0TG5nKCk7XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuX3Rvb2x0aXAgJiYgdGhpcy5fbWFwKSB7XG5cblx0XHRcdC8vIHNldCB0b29sdGlwIHNvdXJjZSB0byB0aGlzIGxheWVyXG5cdFx0XHR0aGlzLl90b29sdGlwLl9zb3VyY2UgPSBsYXllcjtcblxuXHRcdFx0Ly8gdXBkYXRlIHRoZSB0b29sdGlwIChjb250ZW50LCBsYXlvdXQsIGVjdC4uLilcblx0XHRcdHRoaXMuX3Rvb2x0aXAudXBkYXRlKCk7XG5cblx0XHRcdC8vIG9wZW4gdGhlIHRvb2x0aXAgb24gdGhlIG1hcFxuXHRcdFx0dGhpcy5fbWFwLm9wZW5Ub29sdGlwKHRoaXMuX3Rvb2x0aXAsIGxhdGxuZyk7XG5cblx0XHRcdC8vIFRvb2x0aXAgY29udGFpbmVyIG1heSBub3QgYmUgZGVmaW5lZCBpZiBub3QgcGVybWFuZW50IGFuZCBuZXZlclxuXHRcdFx0Ly8gb3BlbmVkLlxuXHRcdFx0aWYgKHRoaXMuX3Rvb2x0aXAub3B0aW9ucy5pbnRlcmFjdGl2ZSAmJiB0aGlzLl90b29sdGlwLl9jb250YWluZXIpIHtcblx0XHRcdFx0TC5Eb21VdGlsLmFkZENsYXNzKHRoaXMuX3Rvb2x0aXAuX2NvbnRhaW5lciwgJ2xlYWZsZXQtY2xpY2thYmxlJyk7XG5cdFx0XHRcdHRoaXMuYWRkSW50ZXJhY3RpdmVUYXJnZXQodGhpcy5fdG9vbHRpcC5fY29udGFpbmVyKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHQvLyBAbWV0aG9kIGNsb3NlVG9vbHRpcCgpOiB0aGlzXG5cdC8vIENsb3NlcyB0aGUgdG9vbHRpcCBib3VuZCB0byB0aGlzIGxheWVyIGlmIGl0IGlzIG9wZW4uXG5cdGNsb3NlVG9vbHRpcDogZnVuY3Rpb24gKCkge1xuXHRcdGlmICh0aGlzLl90b29sdGlwKSB7XG5cdFx0XHR0aGlzLl90b29sdGlwLl9jbG9zZSgpO1xuXHRcdFx0aWYgKHRoaXMuX3Rvb2x0aXAub3B0aW9ucy5pbnRlcmFjdGl2ZSAmJiB0aGlzLl90b29sdGlwLl9jb250YWluZXIpIHtcblx0XHRcdFx0TC5Eb21VdGlsLnJlbW92ZUNsYXNzKHRoaXMuX3Rvb2x0aXAuX2NvbnRhaW5lciwgJ2xlYWZsZXQtY2xpY2thYmxlJyk7XG5cdFx0XHRcdHRoaXMucmVtb3ZlSW50ZXJhY3RpdmVUYXJnZXQodGhpcy5fdG9vbHRpcC5fY29udGFpbmVyKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0Ly8gQG1ldGhvZCB0b2dnbGVUb29sdGlwKCk6IHRoaXNcblx0Ly8gT3BlbnMgb3IgY2xvc2VzIHRoZSB0b29sdGlwIGJvdW5kIHRvIHRoaXMgbGF5ZXIgZGVwZW5kaW5nIG9uIGl0cyBjdXJyZW50IHN0YXRlLlxuXHR0b2dnbGVUb29sdGlwOiBmdW5jdGlvbiAodGFyZ2V0KSB7XG5cdFx0aWYgKHRoaXMuX3Rvb2x0aXApIHtcblx0XHRcdGlmICh0aGlzLl90b29sdGlwLl9tYXApIHtcblx0XHRcdFx0dGhpcy5jbG9zZVRvb2x0aXAoKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMub3BlblRvb2x0aXAodGFyZ2V0KTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0Ly8gQG1ldGhvZCBpc1Rvb2x0aXBPcGVuKCk6IGJvb2xlYW5cblx0Ly8gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHRvb2x0aXAgYm91bmQgdG8gdGhpcyBsYXllciBpcyBjdXJyZW50bHkgb3Blbi5cblx0aXNUb29sdGlwT3BlbjogZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiB0aGlzLl90b29sdGlwLmlzT3BlbigpO1xuXHR9LFxuXG5cdC8vIEBtZXRob2Qgc2V0VG9vbHRpcENvbnRlbnQoY29udGVudDogU3RyaW5nfEhUTUxFbGVtZW50fFRvb2x0aXApOiB0aGlzXG5cdC8vIFNldHMgdGhlIGNvbnRlbnQgb2YgdGhlIHRvb2x0aXAgYm91bmQgdG8gdGhpcyBsYXllci5cblx0c2V0VG9vbHRpcENvbnRlbnQ6IGZ1bmN0aW9uIChjb250ZW50KSB7XG5cdFx0aWYgKHRoaXMuX3Rvb2x0aXApIHtcblx0XHRcdHRoaXMuX3Rvb2x0aXAuc2V0Q29udGVudChjb250ZW50KTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0Ly8gQG1ldGhvZCBnZXRUb29sdGlwKCk6IFRvb2x0aXBcblx0Ly8gUmV0dXJucyB0aGUgdG9vbHRpcCBib3VuZCB0byB0aGlzIGxheWVyLlxuXHRnZXRUb29sdGlwOiBmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuIHRoaXMuX3Rvb2x0aXA7XG5cdH0sXG5cblx0X29wZW5Ub29sdGlwOiBmdW5jdGlvbiAoZSkge1xuXHRcdHZhciBsYXllciA9IGUubGF5ZXIgfHwgZS50YXJnZXQ7XG5cblx0XHRpZiAoIXRoaXMuX3Rvb2x0aXAgfHwgIXRoaXMuX21hcCkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHR0aGlzLm9wZW5Ub29sdGlwKGxheWVyLCB0aGlzLl90b29sdGlwLm9wdGlvbnMuc3RpY2t5ID8gZS5sYXRsbmcgOiB1bmRlZmluZWQpO1xuXHR9LFxuXG5cdF9tb3ZlVG9vbHRpcDogZnVuY3Rpb24gKGUpIHtcblx0XHR2YXIgbGF0bG5nID0gZS5sYXRsbmcsIGNvbnRhaW5lclBvaW50LCBsYXllclBvaW50O1xuXHRcdGlmICh0aGlzLl90b29sdGlwLm9wdGlvbnMuc3RpY2t5ICYmIGUub3JpZ2luYWxFdmVudCkge1xuXHRcdFx0Y29udGFpbmVyUG9pbnQgPSB0aGlzLl9tYXAubW91c2VFdmVudFRvQ29udGFpbmVyUG9pbnQoZS5vcmlnaW5hbEV2ZW50KTtcblx0XHRcdGxheWVyUG9pbnQgPSB0aGlzLl9tYXAuY29udGFpbmVyUG9pbnRUb0xheWVyUG9pbnQoY29udGFpbmVyUG9pbnQpO1xuXHRcdFx0bGF0bG5nID0gdGhpcy5fbWFwLmxheWVyUG9pbnRUb0xhdExuZyhsYXllclBvaW50KTtcblx0XHR9XG5cdFx0dGhpcy5fdG9vbHRpcC5zZXRMYXRMbmcobGF0bG5nKTtcblx0fVxufSk7XG5cbi8qXHJcbiAqIFRvb2x0aXAgZXh0ZW5zaW9uIHRvIEwuTWFya2VyLCBhZGRpbmcgdG9vbHRpcC1yZWxhdGVkIG1ldGhvZHMuXHJcbiAqL1xyXG5cclxuTC5NYXJrZXIuaW5jbHVkZSh7XHJcblx0X2dldFRvb2x0aXBBbmNob3I6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiB0aGlzLm9wdGlvbnMuaWNvbi5vcHRpb25zLnRvb2x0aXBBbmNob3IgfHwgWzAsIDBdO1xyXG5cdH1cclxufSk7XHJcblxuLypcclxuICogQGNsYXNzIExheWVyR3JvdXBcclxuICogQGFrYSBMLkxheWVyR3JvdXBcclxuICogQGluaGVyaXRzIExheWVyXHJcbiAqXHJcbiAqIFVzZWQgdG8gZ3JvdXAgc2V2ZXJhbCBsYXllcnMgYW5kIGhhbmRsZSB0aGVtIGFzIG9uZS4gSWYgeW91IGFkZCBpdCB0byB0aGUgbWFwLFxyXG4gKiBhbnkgbGF5ZXJzIGFkZGVkIG9yIHJlbW92ZWQgZnJvbSB0aGUgZ3JvdXAgd2lsbCBiZSBhZGRlZC9yZW1vdmVkIG9uIHRoZSBtYXAgYXNcclxuICogd2VsbC4gRXh0ZW5kcyBgTGF5ZXJgLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKlxyXG4gKiBgYGBqc1xyXG4gKiBMLmxheWVyR3JvdXAoW21hcmtlcjEsIG1hcmtlcjJdKVxyXG4gKiBcdC5hZGRMYXllcihwb2x5bGluZSlcclxuICogXHQuYWRkVG8obWFwKTtcclxuICogYGBgXHJcbiAqL1xyXG5cclxuTC5MYXllckdyb3VwID0gTC5MYXllci5leHRlbmQoe1xyXG5cclxuXHRpbml0aWFsaXplOiBmdW5jdGlvbiAobGF5ZXJzKSB7XHJcblx0XHR0aGlzLl9sYXllcnMgPSB7fTtcclxuXHJcblx0XHR2YXIgaSwgbGVuO1xyXG5cclxuXHRcdGlmIChsYXllcnMpIHtcclxuXHRcdFx0Zm9yIChpID0gMCwgbGVuID0gbGF5ZXJzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcblx0XHRcdFx0dGhpcy5hZGRMYXllcihsYXllcnNbaV0pO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBhZGRMYXllcihsYXllcjogTGF5ZXIpOiB0aGlzXHJcblx0Ly8gQWRkcyB0aGUgZ2l2ZW4gbGF5ZXIgdG8gdGhlIGdyb3VwLlxyXG5cdGFkZExheWVyOiBmdW5jdGlvbiAobGF5ZXIpIHtcclxuXHRcdHZhciBpZCA9IHRoaXMuZ2V0TGF5ZXJJZChsYXllcik7XHJcblxyXG5cdFx0dGhpcy5fbGF5ZXJzW2lkXSA9IGxheWVyO1xyXG5cclxuXHRcdGlmICh0aGlzLl9tYXApIHtcclxuXHRcdFx0dGhpcy5fbWFwLmFkZExheWVyKGxheWVyKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHJlbW92ZUxheWVyKGxheWVyOiBMYXllcik6IHRoaXNcclxuXHQvLyBSZW1vdmVzIHRoZSBnaXZlbiBsYXllciBmcm9tIHRoZSBncm91cC5cclxuXHQvLyBAYWx0ZXJuYXRpdmVcclxuXHQvLyBAbWV0aG9kIHJlbW92ZUxheWVyKGlkOiBOdW1iZXIpOiB0aGlzXHJcblx0Ly8gUmVtb3ZlcyB0aGUgbGF5ZXIgd2l0aCB0aGUgZ2l2ZW4gaW50ZXJuYWwgSUQgZnJvbSB0aGUgZ3JvdXAuXHJcblx0cmVtb3ZlTGF5ZXI6IGZ1bmN0aW9uIChsYXllcikge1xyXG5cdFx0dmFyIGlkID0gbGF5ZXIgaW4gdGhpcy5fbGF5ZXJzID8gbGF5ZXIgOiB0aGlzLmdldExheWVySWQobGF5ZXIpO1xyXG5cclxuXHRcdGlmICh0aGlzLl9tYXAgJiYgdGhpcy5fbGF5ZXJzW2lkXSkge1xyXG5cdFx0XHR0aGlzLl9tYXAucmVtb3ZlTGF5ZXIodGhpcy5fbGF5ZXJzW2lkXSk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZGVsZXRlIHRoaXMuX2xheWVyc1tpZF07XHJcblxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBoYXNMYXllcihsYXllcjogTGF5ZXIpOiBCb29sZWFuXHJcblx0Ly8gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGdpdmVuIGxheWVyIGlzIGN1cnJlbnRseSBhZGRlZCB0byB0aGUgZ3JvdXAuXHJcblx0aGFzTGF5ZXI6IGZ1bmN0aW9uIChsYXllcikge1xyXG5cdFx0cmV0dXJuICEhbGF5ZXIgJiYgKGxheWVyIGluIHRoaXMuX2xheWVycyB8fCB0aGlzLmdldExheWVySWQobGF5ZXIpIGluIHRoaXMuX2xheWVycyk7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBjbGVhckxheWVycygpOiB0aGlzXHJcblx0Ly8gUmVtb3ZlcyBhbGwgdGhlIGxheWVycyBmcm9tIHRoZSBncm91cC5cclxuXHRjbGVhckxheWVyczogZnVuY3Rpb24gKCkge1xyXG5cdFx0Zm9yICh2YXIgaSBpbiB0aGlzLl9sYXllcnMpIHtcclxuXHRcdFx0dGhpcy5yZW1vdmVMYXllcih0aGlzLl9sYXllcnNbaV0pO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBpbnZva2UobWV0aG9kTmFtZTogU3RyaW5nLCDigKYpOiB0aGlzXHJcblx0Ly8gQ2FsbHMgYG1ldGhvZE5hbWVgIG9uIGV2ZXJ5IGxheWVyIGNvbnRhaW5lZCBpbiB0aGlzIGdyb3VwLCBwYXNzaW5nIGFueVxyXG5cdC8vIGFkZGl0aW9uYWwgcGFyYW1ldGVycy4gSGFzIG5vIGVmZmVjdCBpZiB0aGUgbGF5ZXJzIGNvbnRhaW5lZCBkbyBub3RcclxuXHQvLyBpbXBsZW1lbnQgYG1ldGhvZE5hbWVgLlxyXG5cdGludm9rZTogZnVuY3Rpb24gKG1ldGhvZE5hbWUpIHtcclxuXHRcdHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSxcclxuXHRcdCAgICBpLCBsYXllcjtcclxuXHJcblx0XHRmb3IgKGkgaW4gdGhpcy5fbGF5ZXJzKSB7XHJcblx0XHRcdGxheWVyID0gdGhpcy5fbGF5ZXJzW2ldO1xyXG5cclxuXHRcdFx0aWYgKGxheWVyW21ldGhvZE5hbWVdKSB7XHJcblx0XHRcdFx0bGF5ZXJbbWV0aG9kTmFtZV0uYXBwbHkobGF5ZXIsIGFyZ3MpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0b25BZGQ6IGZ1bmN0aW9uIChtYXApIHtcclxuXHRcdGZvciAodmFyIGkgaW4gdGhpcy5fbGF5ZXJzKSB7XHJcblx0XHRcdG1hcC5hZGRMYXllcih0aGlzLl9sYXllcnNbaV0pO1xyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdG9uUmVtb3ZlOiBmdW5jdGlvbiAobWFwKSB7XHJcblx0XHRmb3IgKHZhciBpIGluIHRoaXMuX2xheWVycykge1xyXG5cdFx0XHRtYXAucmVtb3ZlTGF5ZXIodGhpcy5fbGF5ZXJzW2ldKTtcclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGVhY2hMYXllcihmbjogRnVuY3Rpb24sIGNvbnRleHQ/OiBPYmplY3QpOiB0aGlzXHJcblx0Ly8gSXRlcmF0ZXMgb3ZlciB0aGUgbGF5ZXJzIG9mIHRoZSBncm91cCwgb3B0aW9uYWxseSBzcGVjaWZ5aW5nIGNvbnRleHQgb2YgdGhlIGl0ZXJhdG9yIGZ1bmN0aW9uLlxyXG5cdC8vIGBgYGpzXHJcblx0Ly8gZ3JvdXAuZWFjaExheWVyKGZ1bmN0aW9uIChsYXllcikge1xyXG5cdC8vIFx0bGF5ZXIuYmluZFBvcHVwKCdIZWxsbycpO1xyXG5cdC8vIH0pO1xyXG5cdC8vIGBgYFxyXG5cdGVhY2hMYXllcjogZnVuY3Rpb24gKG1ldGhvZCwgY29udGV4dCkge1xyXG5cdFx0Zm9yICh2YXIgaSBpbiB0aGlzLl9sYXllcnMpIHtcclxuXHRcdFx0bWV0aG9kLmNhbGwoY29udGV4dCwgdGhpcy5fbGF5ZXJzW2ldKTtcclxuXHRcdH1cclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgZ2V0TGF5ZXIoaWQ6IE51bWJlcik6IExheWVyXHJcblx0Ly8gUmV0dXJucyB0aGUgbGF5ZXIgd2l0aCB0aGUgZ2l2ZW4gaW50ZXJuYWwgSUQuXHJcblx0Z2V0TGF5ZXI6IGZ1bmN0aW9uIChpZCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuX2xheWVyc1tpZF07XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBnZXRMYXllcnMoKTogTGF5ZXJbXVxyXG5cdC8vIFJldHVybnMgYW4gYXJyYXkgb2YgYWxsIHRoZSBsYXllcnMgYWRkZWQgdG8gdGhlIGdyb3VwLlxyXG5cdGdldExheWVyczogZnVuY3Rpb24gKCkge1xyXG5cdFx0dmFyIGxheWVycyA9IFtdO1xyXG5cclxuXHRcdGZvciAodmFyIGkgaW4gdGhpcy5fbGF5ZXJzKSB7XHJcblx0XHRcdGxheWVycy5wdXNoKHRoaXMuX2xheWVyc1tpXSk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gbGF5ZXJzO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2Qgc2V0WkluZGV4KHpJbmRleDogTnVtYmVyKTogdGhpc1xyXG5cdC8vIENhbGxzIGBzZXRaSW5kZXhgIG9uIGV2ZXJ5IGxheWVyIGNvbnRhaW5lZCBpbiB0aGlzIGdyb3VwLCBwYXNzaW5nIHRoZSB6LWluZGV4LlxyXG5cdHNldFpJbmRleDogZnVuY3Rpb24gKHpJbmRleCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuaW52b2tlKCdzZXRaSW5kZXgnLCB6SW5kZXgpO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgZ2V0TGF5ZXJJZChsYXllcjogTGF5ZXIpOiBOdW1iZXJcclxuXHQvLyBSZXR1cm5zIHRoZSBpbnRlcm5hbCBJRCBmb3IgYSBsYXllclxyXG5cdGdldExheWVySWQ6IGZ1bmN0aW9uIChsYXllcikge1xyXG5cdFx0cmV0dXJuIEwuc3RhbXAobGF5ZXIpO1xyXG5cdH1cclxufSk7XHJcblxyXG5cclxuLy8gQGZhY3RvcnkgTC5sYXllckdyb3VwKGxheWVyczogTGF5ZXJbXSlcclxuLy8gQ3JlYXRlIGEgbGF5ZXIgZ3JvdXAsIG9wdGlvbmFsbHkgZ2l2ZW4gYW4gaW5pdGlhbCBzZXQgb2YgbGF5ZXJzLlxyXG5MLmxheWVyR3JvdXAgPSBmdW5jdGlvbiAobGF5ZXJzKSB7XHJcblx0cmV0dXJuIG5ldyBMLkxheWVyR3JvdXAobGF5ZXJzKTtcclxufTtcclxuXG4vKlxyXG4gKiBAY2xhc3MgRmVhdHVyZUdyb3VwXHJcbiAqIEBha2EgTC5GZWF0dXJlR3JvdXBcclxuICogQGluaGVyaXRzIExheWVyR3JvdXBcclxuICpcclxuICogRXh0ZW5kZWQgYExheWVyR3JvdXBgIHRoYXQgbWFrZXMgaXQgZWFzaWVyIHRvIGRvIHRoZSBzYW1lIHRoaW5nIHRvIGFsbCBpdHMgbWVtYmVyIGxheWVyczpcclxuICogICogW2BiaW5kUG9wdXBgXSgjbGF5ZXItYmluZHBvcHVwKSBiaW5kcyBhIHBvcHVwIHRvIGFsbCBvZiB0aGUgbGF5ZXJzIGF0IG9uY2UgKGxpa2V3aXNlIHdpdGggW2BiaW5kVG9vbHRpcGBdKCNsYXllci1iaW5kdG9vbHRpcCkpXHJcbiAqICAqIEV2ZW50cyBhcmUgcHJvcGFnYXRlZCB0byB0aGUgYEZlYXR1cmVHcm91cGAsIHNvIGlmIHRoZSBncm91cCBoYXMgYW4gZXZlbnRcclxuICogaGFuZGxlciwgaXQgd2lsbCBoYW5kbGUgZXZlbnRzIGZyb20gYW55IG9mIHRoZSBsYXllcnMuIFRoaXMgaW5jbHVkZXMgbW91c2UgZXZlbnRzXHJcbiAqIGFuZCBjdXN0b20gZXZlbnRzLlxyXG4gKiAgKiBIYXMgYGxheWVyYWRkYCBhbmQgYGxheWVycmVtb3ZlYCBldmVudHNcclxuICpcclxuICogQGV4YW1wbGVcclxuICpcclxuICogYGBganNcclxuICogTC5mZWF0dXJlR3JvdXAoW21hcmtlcjEsIG1hcmtlcjIsIHBvbHlsaW5lXSlcclxuICogXHQuYmluZFBvcHVwKCdIZWxsbyB3b3JsZCEnKVxyXG4gKiBcdC5vbignY2xpY2snLCBmdW5jdGlvbigpIHsgYWxlcnQoJ0NsaWNrZWQgb24gYSBtZW1iZXIgb2YgdGhlIGdyb3VwIScpOyB9KVxyXG4gKiBcdC5hZGRUbyhtYXApO1xyXG4gKiBgYGBcclxuICovXHJcblxyXG5MLkZlYXR1cmVHcm91cCA9IEwuTGF5ZXJHcm91cC5leHRlbmQoe1xyXG5cclxuXHRhZGRMYXllcjogZnVuY3Rpb24gKGxheWVyKSB7XHJcblx0XHRpZiAodGhpcy5oYXNMYXllcihsYXllcikpIHtcclxuXHRcdFx0cmV0dXJuIHRoaXM7XHJcblx0XHR9XHJcblxyXG5cdFx0bGF5ZXIuYWRkRXZlbnRQYXJlbnQodGhpcyk7XHJcblxyXG5cdFx0TC5MYXllckdyb3VwLnByb3RvdHlwZS5hZGRMYXllci5jYWxsKHRoaXMsIGxheWVyKTtcclxuXHJcblx0XHQvLyBAZXZlbnQgbGF5ZXJhZGQ6IExheWVyRXZlbnRcclxuXHRcdC8vIEZpcmVkIHdoZW4gYSBsYXllciBpcyBhZGRlZCB0byB0aGlzIGBGZWF0dXJlR3JvdXBgXHJcblx0XHRyZXR1cm4gdGhpcy5maXJlKCdsYXllcmFkZCcsIHtsYXllcjogbGF5ZXJ9KTtcclxuXHR9LFxyXG5cclxuXHRyZW1vdmVMYXllcjogZnVuY3Rpb24gKGxheWVyKSB7XHJcblx0XHRpZiAoIXRoaXMuaGFzTGF5ZXIobGF5ZXIpKSB7XHJcblx0XHRcdHJldHVybiB0aGlzO1xyXG5cdFx0fVxyXG5cdFx0aWYgKGxheWVyIGluIHRoaXMuX2xheWVycykge1xyXG5cdFx0XHRsYXllciA9IHRoaXMuX2xheWVyc1tsYXllcl07XHJcblx0XHR9XHJcblxyXG5cdFx0bGF5ZXIucmVtb3ZlRXZlbnRQYXJlbnQodGhpcyk7XHJcblxyXG5cdFx0TC5MYXllckdyb3VwLnByb3RvdHlwZS5yZW1vdmVMYXllci5jYWxsKHRoaXMsIGxheWVyKTtcclxuXHJcblx0XHQvLyBAZXZlbnQgbGF5ZXJyZW1vdmU6IExheWVyRXZlbnRcclxuXHRcdC8vIEZpcmVkIHdoZW4gYSBsYXllciBpcyByZW1vdmVkIGZyb20gdGhpcyBgRmVhdHVyZUdyb3VwYFxyXG5cdFx0cmV0dXJuIHRoaXMuZmlyZSgnbGF5ZXJyZW1vdmUnLCB7bGF5ZXI6IGxheWVyfSk7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBzZXRTdHlsZShzdHlsZTogUGF0aCBvcHRpb25zKTogdGhpc1xyXG5cdC8vIFNldHMgdGhlIGdpdmVuIHBhdGggb3B0aW9ucyB0byBlYWNoIGxheWVyIG9mIHRoZSBncm91cCB0aGF0IGhhcyBhIGBzZXRTdHlsZWAgbWV0aG9kLlxyXG5cdHNldFN0eWxlOiBmdW5jdGlvbiAoc3R5bGUpIHtcclxuXHRcdHJldHVybiB0aGlzLmludm9rZSgnc2V0U3R5bGUnLCBzdHlsZSk7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBicmluZ1RvRnJvbnQoKTogdGhpc1xyXG5cdC8vIEJyaW5ncyB0aGUgbGF5ZXIgZ3JvdXAgdG8gdGhlIHRvcCBvZiBhbGwgb3RoZXIgbGF5ZXJzXHJcblx0YnJpbmdUb0Zyb250OiBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5pbnZva2UoJ2JyaW5nVG9Gcm9udCcpO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgYnJpbmdUb0JhY2soKTogdGhpc1xyXG5cdC8vIEJyaW5ncyB0aGUgbGF5ZXIgZ3JvdXAgdG8gdGhlIHRvcCBvZiBhbGwgb3RoZXIgbGF5ZXJzXHJcblx0YnJpbmdUb0JhY2s6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiB0aGlzLmludm9rZSgnYnJpbmdUb0JhY2snKTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGdldEJvdW5kcygpOiBMYXRMbmdCb3VuZHNcclxuXHQvLyBSZXR1cm5zIHRoZSBMYXRMbmdCb3VuZHMgb2YgdGhlIEZlYXR1cmUgR3JvdXAgKGNyZWF0ZWQgZnJvbSBib3VuZHMgYW5kIGNvb3JkaW5hdGVzIG9mIGl0cyBjaGlsZHJlbikuXHJcblx0Z2V0Qm91bmRzOiBmdW5jdGlvbiAoKSB7XHJcblx0XHR2YXIgYm91bmRzID0gbmV3IEwuTGF0TG5nQm91bmRzKCk7XHJcblxyXG5cdFx0Zm9yICh2YXIgaWQgaW4gdGhpcy5fbGF5ZXJzKSB7XHJcblx0XHRcdHZhciBsYXllciA9IHRoaXMuX2xheWVyc1tpZF07XHJcblx0XHRcdGJvdW5kcy5leHRlbmQobGF5ZXIuZ2V0Qm91bmRzID8gbGF5ZXIuZ2V0Qm91bmRzKCkgOiBsYXllci5nZXRMYXRMbmcoKSk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gYm91bmRzO1xyXG5cdH1cclxufSk7XHJcblxyXG4vLyBAZmFjdG9yeSBMLmZlYXR1cmVHcm91cChsYXllcnM6IExheWVyW10pXHJcbi8vIENyZWF0ZSBhIGZlYXR1cmUgZ3JvdXAsIG9wdGlvbmFsbHkgZ2l2ZW4gYW4gaW5pdGlhbCBzZXQgb2YgbGF5ZXJzLlxyXG5MLmZlYXR1cmVHcm91cCA9IGZ1bmN0aW9uIChsYXllcnMpIHtcclxuXHRyZXR1cm4gbmV3IEwuRmVhdHVyZUdyb3VwKGxheWVycyk7XHJcbn07XHJcblxuLypcbiAqIEBjbGFzcyBSZW5kZXJlclxuICogQGluaGVyaXRzIExheWVyXG4gKiBAYWthIEwuUmVuZGVyZXJcbiAqXG4gKiBCYXNlIGNsYXNzIGZvciB2ZWN0b3IgcmVuZGVyZXIgaW1wbGVtZW50YXRpb25zIChgU1ZHYCwgYENhbnZhc2ApLiBIYW5kbGVzIHRoZVxuICogRE9NIGNvbnRhaW5lciBvZiB0aGUgcmVuZGVyZXIsIGl0cyBib3VuZHMsIGFuZCBpdHMgem9vbSBhbmltYXRpb24uXG4gKlxuICogQSBgUmVuZGVyZXJgIHdvcmtzIGFzIGFuIGltcGxpY2l0IGxheWVyIGdyb3VwIGZvciBhbGwgYFBhdGhgcyAtIHRoZSByZW5kZXJlclxuICogaXRzZWxmIGNhbiBiZSBhZGRlZCBvciByZW1vdmVkIHRvIHRoZSBtYXAuIEFsbCBwYXRocyB1c2UgYSByZW5kZXJlciwgd2hpY2ggY2FuXG4gKiBiZSBpbXBsaWNpdCAodGhlIG1hcCB3aWxsIGRlY2lkZSB0aGUgdHlwZSBvZiByZW5kZXJlciBhbmQgdXNlIGl0IGF1dG9tYXRpY2FsbHkpXG4gKiBvciBleHBsaWNpdCAodXNpbmcgdGhlIFtgcmVuZGVyZXJgXSgjcGF0aC1yZW5kZXJlcikgb3B0aW9uIG9mIHRoZSBwYXRoKS5cbiAqXG4gKiBEbyBub3QgdXNlIHRoaXMgY2xhc3MgZGlyZWN0bHksIHVzZSBgU1ZHYCBhbmQgYENhbnZhc2AgaW5zdGVhZC5cbiAqXG4gKiBAZXZlbnQgdXBkYXRlOiBFdmVudFxuICogRmlyZWQgd2hlbiB0aGUgcmVuZGVyZXIgdXBkYXRlcyBpdHMgYm91bmRzLCBjZW50ZXIgYW5kIHpvb20sIGZvciBleGFtcGxlIHdoZW5cbiAqIGl0cyBtYXAgaGFzIG1vdmVkXG4gKi9cblxuTC5SZW5kZXJlciA9IEwuTGF5ZXIuZXh0ZW5kKHtcblxuXHQvLyBAc2VjdGlvblxuXHQvLyBAYWthIFJlbmRlcmVyIG9wdGlvbnNcblx0b3B0aW9uczoge1xuXHRcdC8vIEBvcHRpb24gcGFkZGluZzogTnVtYmVyID0gMC4xXG5cdFx0Ly8gSG93IG11Y2ggdG8gZXh0ZW5kIHRoZSBjbGlwIGFyZWEgYXJvdW5kIHRoZSBtYXAgdmlldyAocmVsYXRpdmUgdG8gaXRzIHNpemUpXG5cdFx0Ly8gZS5nLiAwLjEgd291bGQgYmUgMTAlIG9mIG1hcCB2aWV3IGluIGVhY2ggZGlyZWN0aW9uXG5cdFx0cGFkZGluZzogMC4xXG5cdH0sXG5cblx0aW5pdGlhbGl6ZTogZnVuY3Rpb24gKG9wdGlvbnMpIHtcblx0XHRMLnNldE9wdGlvbnModGhpcywgb3B0aW9ucyk7XG5cdFx0TC5zdGFtcCh0aGlzKTtcblx0fSxcblxuXHRvbkFkZDogZnVuY3Rpb24gKCkge1xuXHRcdGlmICghdGhpcy5fY29udGFpbmVyKSB7XG5cdFx0XHR0aGlzLl9pbml0Q29udGFpbmVyKCk7IC8vIGRlZmluZWQgYnkgcmVuZGVyZXIgaW1wbGVtZW50YXRpb25zXG5cblx0XHRcdGlmICh0aGlzLl96b29tQW5pbWF0ZWQpIHtcblx0XHRcdFx0TC5Eb21VdGlsLmFkZENsYXNzKHRoaXMuX2NvbnRhaW5lciwgJ2xlYWZsZXQtem9vbS1hbmltYXRlZCcpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHRoaXMuZ2V0UGFuZSgpLmFwcGVuZENoaWxkKHRoaXMuX2NvbnRhaW5lcik7XG5cdFx0dGhpcy5fdXBkYXRlKCk7XG5cdH0sXG5cblx0b25SZW1vdmU6IGZ1bmN0aW9uICgpIHtcblx0XHRMLkRvbVV0aWwucmVtb3ZlKHRoaXMuX2NvbnRhaW5lcik7XG5cdH0sXG5cblx0Z2V0RXZlbnRzOiBmdW5jdGlvbiAoKSB7XG5cdFx0dmFyIGV2ZW50cyA9IHtcblx0XHRcdHZpZXdyZXNldDogdGhpcy5fcmVzZXQsXG5cdFx0XHR6b29tOiB0aGlzLl9vblpvb20sXG5cdFx0XHRtb3ZlZW5kOiB0aGlzLl91cGRhdGVcblx0XHR9O1xuXHRcdGlmICh0aGlzLl96b29tQW5pbWF0ZWQpIHtcblx0XHRcdGV2ZW50cy56b29tYW5pbSA9IHRoaXMuX29uQW5pbVpvb207XG5cdFx0fVxuXHRcdHJldHVybiBldmVudHM7XG5cdH0sXG5cblx0X29uQW5pbVpvb206IGZ1bmN0aW9uIChldikge1xuXHRcdHRoaXMuX3VwZGF0ZVRyYW5zZm9ybShldi5jZW50ZXIsIGV2Lnpvb20pO1xuXHR9LFxuXG5cdF9vblpvb206IGZ1bmN0aW9uICgpIHtcblx0XHR0aGlzLl91cGRhdGVUcmFuc2Zvcm0odGhpcy5fbWFwLmdldENlbnRlcigpLCB0aGlzLl9tYXAuZ2V0Wm9vbSgpKTtcblx0fSxcblxuXHRfdXBkYXRlVHJhbnNmb3JtOiBmdW5jdGlvbiAoY2VudGVyLCB6b29tKSB7XG5cdFx0dmFyIHNjYWxlID0gdGhpcy5fbWFwLmdldFpvb21TY2FsZSh6b29tLCB0aGlzLl96b29tKSxcblx0XHQgICAgcG9zaXRpb24gPSBMLkRvbVV0aWwuZ2V0UG9zaXRpb24odGhpcy5fY29udGFpbmVyKSxcblx0XHQgICAgdmlld0hhbGYgPSB0aGlzLl9tYXAuZ2V0U2l6ZSgpLm11bHRpcGx5QnkoMC41ICsgdGhpcy5vcHRpb25zLnBhZGRpbmcpLFxuXHRcdCAgICBjdXJyZW50Q2VudGVyUG9pbnQgPSB0aGlzLl9tYXAucHJvamVjdCh0aGlzLl9jZW50ZXIsIHpvb20pLFxuXHRcdCAgICBkZXN0Q2VudGVyUG9pbnQgPSB0aGlzLl9tYXAucHJvamVjdChjZW50ZXIsIHpvb20pLFxuXHRcdCAgICBjZW50ZXJPZmZzZXQgPSBkZXN0Q2VudGVyUG9pbnQuc3VidHJhY3QoY3VycmVudENlbnRlclBvaW50KSxcblxuXHRcdCAgICB0b3BMZWZ0T2Zmc2V0ID0gdmlld0hhbGYubXVsdGlwbHlCeSgtc2NhbGUpLmFkZChwb3NpdGlvbikuYWRkKHZpZXdIYWxmKS5zdWJ0cmFjdChjZW50ZXJPZmZzZXQpO1xuXG5cdFx0aWYgKEwuQnJvd3Nlci5hbnkzZCkge1xuXHRcdFx0TC5Eb21VdGlsLnNldFRyYW5zZm9ybSh0aGlzLl9jb250YWluZXIsIHRvcExlZnRPZmZzZXQsIHNjYWxlKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0TC5Eb21VdGlsLnNldFBvc2l0aW9uKHRoaXMuX2NvbnRhaW5lciwgdG9wTGVmdE9mZnNldCk7XG5cdFx0fVxuXHR9LFxuXG5cdF9yZXNldDogZnVuY3Rpb24gKCkge1xuXHRcdHRoaXMuX3VwZGF0ZSgpO1xuXHRcdHRoaXMuX3VwZGF0ZVRyYW5zZm9ybSh0aGlzLl9jZW50ZXIsIHRoaXMuX3pvb20pO1xuXHR9LFxuXG5cdF91cGRhdGU6IGZ1bmN0aW9uICgpIHtcblx0XHQvLyBVcGRhdGUgcGl4ZWwgYm91bmRzIG9mIHJlbmRlcmVyIGNvbnRhaW5lciAoZm9yIHBvc2l0aW9uaW5nL3NpemluZy9jbGlwcGluZyBsYXRlcilcblx0XHQvLyBTdWJjbGFzc2VzIGFyZSByZXNwb25zaWJsZSBvZiBmaXJpbmcgdGhlICd1cGRhdGUnIGV2ZW50LlxuXHRcdHZhciBwID0gdGhpcy5vcHRpb25zLnBhZGRpbmcsXG5cdFx0ICAgIHNpemUgPSB0aGlzLl9tYXAuZ2V0U2l6ZSgpLFxuXHRcdCAgICBtaW4gPSB0aGlzLl9tYXAuY29udGFpbmVyUG9pbnRUb0xheWVyUG9pbnQoc2l6ZS5tdWx0aXBseUJ5KC1wKSkucm91bmQoKTtcblxuXHRcdHRoaXMuX2JvdW5kcyA9IG5ldyBMLkJvdW5kcyhtaW4sIG1pbi5hZGQoc2l6ZS5tdWx0aXBseUJ5KDEgKyBwICogMikpLnJvdW5kKCkpO1xuXG5cdFx0dGhpcy5fY2VudGVyID0gdGhpcy5fbWFwLmdldENlbnRlcigpO1xuXHRcdHRoaXMuX3pvb20gPSB0aGlzLl9tYXAuZ2V0Wm9vbSgpO1xuXHR9XG59KTtcblxuXG5MLk1hcC5pbmNsdWRlKHtcblx0Ly8gQG5hbWVzcGFjZSBNYXA7IEBtZXRob2QgZ2V0UmVuZGVyZXIobGF5ZXI6IFBhdGgpOiBSZW5kZXJlclxuXHQvLyBSZXR1cm5zIHRoZSBpbnN0YW5jZSBvZiBgUmVuZGVyZXJgIHRoYXQgc2hvdWxkIGJlIHVzZWQgdG8gcmVuZGVyIHRoZSBnaXZlblxuXHQvLyBgUGF0aGAuIEl0IHdpbGwgZW5zdXJlIHRoYXQgdGhlIGByZW5kZXJlcmAgb3B0aW9ucyBvZiB0aGUgbWFwIGFuZCBwYXRoc1xuXHQvLyBhcmUgcmVzcGVjdGVkLCBhbmQgdGhhdCB0aGUgcmVuZGVyZXJzIGRvIGV4aXN0IG9uIHRoZSBtYXAuXG5cdGdldFJlbmRlcmVyOiBmdW5jdGlvbiAobGF5ZXIpIHtcblx0XHQvLyBAbmFtZXNwYWNlIFBhdGg7IEBvcHRpb24gcmVuZGVyZXI6IFJlbmRlcmVyXG5cdFx0Ly8gVXNlIHRoaXMgc3BlY2lmaWMgaW5zdGFuY2Ugb2YgYFJlbmRlcmVyYCBmb3IgdGhpcyBwYXRoLiBUYWtlc1xuXHRcdC8vIHByZWNlZGVuY2Ugb3ZlciB0aGUgbWFwJ3MgW2RlZmF1bHQgcmVuZGVyZXJdKCNtYXAtcmVuZGVyZXIpLlxuXHRcdHZhciByZW5kZXJlciA9IGxheWVyLm9wdGlvbnMucmVuZGVyZXIgfHwgdGhpcy5fZ2V0UGFuZVJlbmRlcmVyKGxheWVyLm9wdGlvbnMucGFuZSkgfHwgdGhpcy5vcHRpb25zLnJlbmRlcmVyIHx8IHRoaXMuX3JlbmRlcmVyO1xuXG5cdFx0aWYgKCFyZW5kZXJlcikge1xuXHRcdFx0Ly8gQG5hbWVzcGFjZSBNYXA7IEBvcHRpb24gcHJlZmVyQ2FudmFzOiBCb29sZWFuID0gZmFsc2Vcblx0XHRcdC8vIFdoZXRoZXIgYFBhdGhgcyBzaG91bGQgYmUgcmVuZGVyZWQgb24gYSBgQ2FudmFzYCByZW5kZXJlci5cblx0XHRcdC8vIEJ5IGRlZmF1bHQsIGFsbCBgUGF0aGBzIGFyZSByZW5kZXJlZCBpbiBhIGBTVkdgIHJlbmRlcmVyLlxuXHRcdFx0cmVuZGVyZXIgPSB0aGlzLl9yZW5kZXJlciA9ICh0aGlzLm9wdGlvbnMucHJlZmVyQ2FudmFzICYmIEwuY2FudmFzKCkpIHx8IEwuc3ZnKCk7XG5cdFx0fVxuXG5cdFx0aWYgKCF0aGlzLmhhc0xheWVyKHJlbmRlcmVyKSkge1xuXHRcdFx0dGhpcy5hZGRMYXllcihyZW5kZXJlcik7XG5cdFx0fVxuXHRcdHJldHVybiByZW5kZXJlcjtcblx0fSxcblxuXHRfZ2V0UGFuZVJlbmRlcmVyOiBmdW5jdGlvbiAobmFtZSkge1xuXHRcdGlmIChuYW1lID09PSAnb3ZlcmxheVBhbmUnIHx8IG5hbWUgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdHZhciByZW5kZXJlciA9IHRoaXMuX3BhbmVSZW5kZXJlcnNbbmFtZV07XG5cdFx0aWYgKHJlbmRlcmVyID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHJlbmRlcmVyID0gKEwuU1ZHICYmIEwuc3ZnKHtwYW5lOiBuYW1lfSkpIHx8IChMLkNhbnZhcyAmJiBMLmNhbnZhcyh7cGFuZTogbmFtZX0pKTtcblx0XHRcdHRoaXMuX3BhbmVSZW5kZXJlcnNbbmFtZV0gPSByZW5kZXJlcjtcblx0XHR9XG5cdFx0cmV0dXJuIHJlbmRlcmVyO1xuXHR9XG59KTtcblxuLypcbiAqIEBjbGFzcyBQYXRoXG4gKiBAYWthIEwuUGF0aFxuICogQGluaGVyaXRzIEludGVyYWN0aXZlIGxheWVyXG4gKlxuICogQW4gYWJzdHJhY3QgY2xhc3MgdGhhdCBjb250YWlucyBvcHRpb25zIGFuZCBjb25zdGFudHMgc2hhcmVkIGJldHdlZW4gdmVjdG9yXG4gKiBvdmVybGF5cyAoUG9seWdvbiwgUG9seWxpbmUsIENpcmNsZSkuIERvIG5vdCB1c2UgaXQgZGlyZWN0bHkuIEV4dGVuZHMgYExheWVyYC5cbiAqL1xuXG5MLlBhdGggPSBMLkxheWVyLmV4dGVuZCh7XG5cblx0Ly8gQHNlY3Rpb25cblx0Ly8gQGFrYSBQYXRoIG9wdGlvbnNcblx0b3B0aW9uczoge1xuXHRcdC8vIEBvcHRpb24gc3Ryb2tlOiBCb29sZWFuID0gdHJ1ZVxuXHRcdC8vIFdoZXRoZXIgdG8gZHJhdyBzdHJva2UgYWxvbmcgdGhlIHBhdGguIFNldCBpdCB0byBgZmFsc2VgIHRvIGRpc2FibGUgYm9yZGVycyBvbiBwb2x5Z29ucyBvciBjaXJjbGVzLlxuXHRcdHN0cm9rZTogdHJ1ZSxcblxuXHRcdC8vIEBvcHRpb24gY29sb3I6IFN0cmluZyA9ICcjMzM4OGZmJ1xuXHRcdC8vIFN0cm9rZSBjb2xvclxuXHRcdGNvbG9yOiAnIzMzODhmZicsXG5cblx0XHQvLyBAb3B0aW9uIHdlaWdodDogTnVtYmVyID0gM1xuXHRcdC8vIFN0cm9rZSB3aWR0aCBpbiBwaXhlbHNcblx0XHR3ZWlnaHQ6IDMsXG5cblx0XHQvLyBAb3B0aW9uIG9wYWNpdHk6IE51bWJlciA9IDEuMFxuXHRcdC8vIFN0cm9rZSBvcGFjaXR5XG5cdFx0b3BhY2l0eTogMSxcblxuXHRcdC8vIEBvcHRpb24gbGluZUNhcDogU3RyaW5nPSAncm91bmQnXG5cdFx0Ly8gQSBzdHJpbmcgdGhhdCBkZWZpbmVzIFtzaGFwZSB0byBiZSB1c2VkIGF0IHRoZSBlbmRdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL1NWRy9BdHRyaWJ1dGUvc3Ryb2tlLWxpbmVjYXApIG9mIHRoZSBzdHJva2UuXG5cdFx0bGluZUNhcDogJ3JvdW5kJyxcblxuXHRcdC8vIEBvcHRpb24gbGluZUpvaW46IFN0cmluZyA9ICdyb3VuZCdcblx0XHQvLyBBIHN0cmluZyB0aGF0IGRlZmluZXMgW3NoYXBlIHRvIGJlIHVzZWQgYXQgdGhlIGNvcm5lcnNdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL1NWRy9BdHRyaWJ1dGUvc3Ryb2tlLWxpbmVqb2luKSBvZiB0aGUgc3Ryb2tlLlxuXHRcdGxpbmVKb2luOiAncm91bmQnLFxuXG5cdFx0Ly8gQG9wdGlvbiBkYXNoQXJyYXk6IFN0cmluZyA9IG51bGxcblx0XHQvLyBBIHN0cmluZyB0aGF0IGRlZmluZXMgdGhlIHN0cm9rZSBbZGFzaCBwYXR0ZXJuXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9kb2NzL1dlYi9TVkcvQXR0cmlidXRlL3N0cm9rZS1kYXNoYXJyYXkpLiBEb2Vzbid0IHdvcmsgb24gYENhbnZhc2AtcG93ZXJlZCBsYXllcnMgaW4gW3NvbWUgb2xkIGJyb3dzZXJzXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9kb2NzL1dlYi9BUEkvQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEL3NldExpbmVEYXNoI0Jyb3dzZXJfY29tcGF0aWJpbGl0eSkuXG5cdFx0ZGFzaEFycmF5OiBudWxsLFxuXG5cdFx0Ly8gQG9wdGlvbiBkYXNoT2Zmc2V0OiBTdHJpbmcgPSBudWxsXG5cdFx0Ly8gQSBzdHJpbmcgdGhhdCBkZWZpbmVzIHRoZSBbZGlzdGFuY2UgaW50byB0aGUgZGFzaCBwYXR0ZXJuIHRvIHN0YXJ0IHRoZSBkYXNoXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9kb2NzL1dlYi9TVkcvQXR0cmlidXRlL3N0cm9rZS1kYXNob2Zmc2V0KS4gRG9lc24ndCB3b3JrIG9uIGBDYW52YXNgLXBvd2VyZWQgbGF5ZXJzIGluIFtzb21lIG9sZCBicm93c2Vyc10oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvQVBJL0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC9zZXRMaW5lRGFzaCNCcm93c2VyX2NvbXBhdGliaWxpdHkpLlxuXHRcdGRhc2hPZmZzZXQ6IG51bGwsXG5cblx0XHQvLyBAb3B0aW9uIGZpbGw6IEJvb2xlYW4gPSBkZXBlbmRzXG5cdFx0Ly8gV2hldGhlciB0byBmaWxsIHRoZSBwYXRoIHdpdGggY29sb3IuIFNldCBpdCB0byBgZmFsc2VgIHRvIGRpc2FibGUgZmlsbGluZyBvbiBwb2x5Z29ucyBvciBjaXJjbGVzLlxuXHRcdGZpbGw6IGZhbHNlLFxuXG5cdFx0Ly8gQG9wdGlvbiBmaWxsQ29sb3I6IFN0cmluZyA9ICpcblx0XHQvLyBGaWxsIGNvbG9yLiBEZWZhdWx0cyB0byB0aGUgdmFsdWUgb2YgdGhlIFtgY29sb3JgXSgjcGF0aC1jb2xvcikgb3B0aW9uXG5cdFx0ZmlsbENvbG9yOiBudWxsLFxuXG5cdFx0Ly8gQG9wdGlvbiBmaWxsT3BhY2l0eTogTnVtYmVyID0gMC4yXG5cdFx0Ly8gRmlsbCBvcGFjaXR5LlxuXHRcdGZpbGxPcGFjaXR5OiAwLjIsXG5cblx0XHQvLyBAb3B0aW9uIGZpbGxSdWxlOiBTdHJpbmcgPSAnZXZlbm9kZCdcblx0XHQvLyBBIHN0cmluZyB0aGF0IGRlZmluZXMgW2hvdyB0aGUgaW5zaWRlIG9mIGEgc2hhcGVdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL1NWRy9BdHRyaWJ1dGUvZmlsbC1ydWxlKSBpcyBkZXRlcm1pbmVkLlxuXHRcdGZpbGxSdWxlOiAnZXZlbm9kZCcsXG5cblx0XHQvLyBjbGFzc05hbWU6ICcnLFxuXG5cdFx0Ly8gT3B0aW9uIGluaGVyaXRlZCBmcm9tIFwiSW50ZXJhY3RpdmUgbGF5ZXJcIiBhYnN0cmFjdCBjbGFzc1xuXHRcdGludGVyYWN0aXZlOiB0cnVlXG5cdH0sXG5cblx0YmVmb3JlQWRkOiBmdW5jdGlvbiAobWFwKSB7XG5cdFx0Ly8gUmVuZGVyZXIgaXMgc2V0IGhlcmUgYmVjYXVzZSB3ZSBuZWVkIHRvIGNhbGwgcmVuZGVyZXIuZ2V0RXZlbnRzXG5cdFx0Ly8gYmVmb3JlIHRoaXMuZ2V0RXZlbnRzLlxuXHRcdHRoaXMuX3JlbmRlcmVyID0gbWFwLmdldFJlbmRlcmVyKHRoaXMpO1xuXHR9LFxuXG5cdG9uQWRkOiBmdW5jdGlvbiAoKSB7XG5cdFx0dGhpcy5fcmVuZGVyZXIuX2luaXRQYXRoKHRoaXMpO1xuXHRcdHRoaXMuX3Jlc2V0KCk7XG5cdFx0dGhpcy5fcmVuZGVyZXIuX2FkZFBhdGgodGhpcyk7XG5cdFx0dGhpcy5fcmVuZGVyZXIub24oJ3VwZGF0ZScsIHRoaXMuX3VwZGF0ZSwgdGhpcyk7XG5cdH0sXG5cblx0b25SZW1vdmU6IGZ1bmN0aW9uICgpIHtcblx0XHR0aGlzLl9yZW5kZXJlci5fcmVtb3ZlUGF0aCh0aGlzKTtcblx0XHR0aGlzLl9yZW5kZXJlci5vZmYoJ3VwZGF0ZScsIHRoaXMuX3VwZGF0ZSwgdGhpcyk7XG5cdH0sXG5cblx0Z2V0RXZlbnRzOiBmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHpvb21lbmQ6IHRoaXMuX3Byb2plY3QsXG5cdFx0XHR2aWV3cmVzZXQ6IHRoaXMuX3Jlc2V0XG5cdFx0fTtcblx0fSxcblxuXHQvLyBAbWV0aG9kIHJlZHJhdygpOiB0aGlzXG5cdC8vIFJlZHJhd3MgdGhlIGxheWVyLiBTb21ldGltZXMgdXNlZnVsIGFmdGVyIHlvdSBjaGFuZ2VkIHRoZSBjb29yZGluYXRlcyB0aGF0IHRoZSBwYXRoIHVzZXMuXG5cdHJlZHJhdzogZnVuY3Rpb24gKCkge1xuXHRcdGlmICh0aGlzLl9tYXApIHtcblx0XHRcdHRoaXMuX3JlbmRlcmVyLl91cGRhdGVQYXRoKHRoaXMpO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHQvLyBAbWV0aG9kIHNldFN0eWxlKHN0eWxlOiBQYXRoIG9wdGlvbnMpOiB0aGlzXG5cdC8vIENoYW5nZXMgdGhlIGFwcGVhcmFuY2Ugb2YgYSBQYXRoIGJhc2VkIG9uIHRoZSBvcHRpb25zIGluIHRoZSBgUGF0aCBvcHRpb25zYCBvYmplY3QuXG5cdHNldFN0eWxlOiBmdW5jdGlvbiAoc3R5bGUpIHtcblx0XHRMLnNldE9wdGlvbnModGhpcywgc3R5bGUpO1xuXHRcdGlmICh0aGlzLl9yZW5kZXJlcikge1xuXHRcdFx0dGhpcy5fcmVuZGVyZXIuX3VwZGF0ZVN0eWxlKHRoaXMpO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHQvLyBAbWV0aG9kIGJyaW5nVG9Gcm9udCgpOiB0aGlzXG5cdC8vIEJyaW5ncyB0aGUgbGF5ZXIgdG8gdGhlIHRvcCBvZiBhbGwgcGF0aCBsYXllcnMuXG5cdGJyaW5nVG9Gcm9udDogZnVuY3Rpb24gKCkge1xuXHRcdGlmICh0aGlzLl9yZW5kZXJlcikge1xuXHRcdFx0dGhpcy5fcmVuZGVyZXIuX2JyaW5nVG9Gcm9udCh0aGlzKTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0Ly8gQG1ldGhvZCBicmluZ1RvQmFjaygpOiB0aGlzXG5cdC8vIEJyaW5ncyB0aGUgbGF5ZXIgdG8gdGhlIGJvdHRvbSBvZiBhbGwgcGF0aCBsYXllcnMuXG5cdGJyaW5nVG9CYWNrOiBmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKHRoaXMuX3JlbmRlcmVyKSB7XG5cdFx0XHR0aGlzLl9yZW5kZXJlci5fYnJpbmdUb0JhY2sodGhpcyk7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzO1xuXHR9LFxuXG5cdGdldEVsZW1lbnQ6IGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gdGhpcy5fcGF0aDtcblx0fSxcblxuXHRfcmVzZXQ6IGZ1bmN0aW9uICgpIHtcblx0XHQvLyBkZWZpbmVkIGluIGNoaWxkcmVuIGNsYXNzZXNcblx0XHR0aGlzLl9wcm9qZWN0KCk7XG5cdFx0dGhpcy5fdXBkYXRlKCk7XG5cdH0sXG5cblx0X2NsaWNrVG9sZXJhbmNlOiBmdW5jdGlvbiAoKSB7XG5cdFx0Ly8gdXNlZCB3aGVuIGRvaW5nIGhpdCBkZXRlY3Rpb24gZm9yIENhbnZhcyBsYXllcnNcblx0XHRyZXR1cm4gKHRoaXMub3B0aW9ucy5zdHJva2UgPyB0aGlzLm9wdGlvbnMud2VpZ2h0IC8gMiA6IDApICsgKEwuQnJvd3Nlci50b3VjaCA/IDEwIDogMCk7XG5cdH1cbn0pO1xuXG4vKlxyXG4gKiBAbmFtZXNwYWNlIExpbmVVdGlsXHJcbiAqXHJcbiAqIFZhcmlvdXMgdXRpbGl0eSBmdW5jdGlvbnMgZm9yIHBvbHlpbmUgcG9pbnRzIHByb2Nlc3NpbmcsIHVzZWQgYnkgTGVhZmxldCBpbnRlcm5hbGx5IHRvIG1ha2UgcG9seWxpbmVzIGxpZ2h0bmluZy1mYXN0LlxyXG4gKi9cclxuXHJcbkwuTGluZVV0aWwgPSB7XHJcblxyXG5cdC8vIFNpbXBsaWZ5IHBvbHlsaW5lIHdpdGggdmVydGV4IHJlZHVjdGlvbiBhbmQgRG91Z2xhcy1QZXVja2VyIHNpbXBsaWZpY2F0aW9uLlxyXG5cdC8vIEltcHJvdmVzIHJlbmRlcmluZyBwZXJmb3JtYW5jZSBkcmFtYXRpY2FsbHkgYnkgbGVzc2VuaW5nIHRoZSBudW1iZXIgb2YgcG9pbnRzIHRvIGRyYXcuXHJcblxyXG5cdC8vIEBmdW5jdGlvbiBzaW1wbGlmeShwb2ludHM6IFBvaW50W10sIHRvbGVyYW5jZTogTnVtYmVyKTogUG9pbnRbXVxyXG5cdC8vIERyYW1hdGljYWxseSByZWR1Y2VzIHRoZSBudW1iZXIgb2YgcG9pbnRzIGluIGEgcG9seWxpbmUgd2hpbGUgcmV0YWluaW5nXHJcblx0Ly8gaXRzIHNoYXBlIGFuZCByZXR1cm5zIGEgbmV3IGFycmF5IG9mIHNpbXBsaWZpZWQgcG9pbnRzLCB1c2luZyB0aGVcclxuXHQvLyBbRG91Z2xhcy1QZXVja2VyIGFsZ29yaXRobV0oaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Eb3VnbGFzLVBldWNrZXJfYWxnb3JpdGhtKS5cclxuXHQvLyBVc2VkIGZvciBhIGh1Z2UgcGVyZm9ybWFuY2UgYm9vc3Qgd2hlbiBwcm9jZXNzaW5nL2Rpc3BsYXlpbmcgTGVhZmxldCBwb2x5bGluZXMgZm9yXHJcblx0Ly8gZWFjaCB6b29tIGxldmVsIGFuZCBhbHNvIHJlZHVjaW5nIHZpc3VhbCBub2lzZS4gdG9sZXJhbmNlIGFmZmVjdHMgdGhlIGFtb3VudCBvZlxyXG5cdC8vIHNpbXBsaWZpY2F0aW9uIChsZXNzZXIgdmFsdWUgbWVhbnMgaGlnaGVyIHF1YWxpdHkgYnV0IHNsb3dlciBhbmQgd2l0aCBtb3JlIHBvaW50cykuXHJcblx0Ly8gQWxzbyByZWxlYXNlZCBhcyBhIHNlcGFyYXRlZCBtaWNyby1saWJyYXJ5IFtTaW1wbGlmeS5qc10oaHR0cDovL21vdXJuZXIuZ2l0aHViLmNvbS9zaW1wbGlmeS1qcy8pLlxyXG5cdHNpbXBsaWZ5OiBmdW5jdGlvbiAocG9pbnRzLCB0b2xlcmFuY2UpIHtcclxuXHRcdGlmICghdG9sZXJhbmNlIHx8ICFwb2ludHMubGVuZ3RoKSB7XHJcblx0XHRcdHJldHVybiBwb2ludHMuc2xpY2UoKTtcclxuXHRcdH1cclxuXHJcblx0XHR2YXIgc3FUb2xlcmFuY2UgPSB0b2xlcmFuY2UgKiB0b2xlcmFuY2U7XHJcblxyXG5cdFx0Ly8gc3RhZ2UgMTogdmVydGV4IHJlZHVjdGlvblxyXG5cdFx0cG9pbnRzID0gdGhpcy5fcmVkdWNlUG9pbnRzKHBvaW50cywgc3FUb2xlcmFuY2UpO1xyXG5cclxuXHRcdC8vIHN0YWdlIDI6IERvdWdsYXMtUGV1Y2tlciBzaW1wbGlmaWNhdGlvblxyXG5cdFx0cG9pbnRzID0gdGhpcy5fc2ltcGxpZnlEUChwb2ludHMsIHNxVG9sZXJhbmNlKTtcclxuXHJcblx0XHRyZXR1cm4gcG9pbnRzO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBmdW5jdGlvbiBwb2ludFRvU2VnbWVudERpc3RhbmNlKHA6IFBvaW50LCBwMTogUG9pbnQsIHAyOiBQb2ludCk6IE51bWJlclxyXG5cdC8vIFJldHVybnMgdGhlIGRpc3RhbmNlIGJldHdlZW4gcG9pbnQgYHBgIGFuZCBzZWdtZW50IGBwMWAgdG8gYHAyYC5cclxuXHRwb2ludFRvU2VnbWVudERpc3RhbmNlOiAgZnVuY3Rpb24gKHAsIHAxLCBwMikge1xyXG5cdFx0cmV0dXJuIE1hdGguc3FydCh0aGlzLl9zcUNsb3Nlc3RQb2ludE9uU2VnbWVudChwLCBwMSwgcDIsIHRydWUpKTtcclxuXHR9LFxyXG5cclxuXHQvLyBAZnVuY3Rpb24gY2xvc2VzdFBvaW50T25TZWdtZW50KHA6IFBvaW50LCBwMTogUG9pbnQsIHAyOiBQb2ludCk6IE51bWJlclxyXG5cdC8vIFJldHVybnMgdGhlIGNsb3Nlc3QgcG9pbnQgZnJvbSBhIHBvaW50IGBwYCBvbiBhIHNlZ21lbnQgYHAxYCB0byBgcDJgLlxyXG5cdGNsb3Nlc3RQb2ludE9uU2VnbWVudDogZnVuY3Rpb24gKHAsIHAxLCBwMikge1xyXG5cdFx0cmV0dXJuIHRoaXMuX3NxQ2xvc2VzdFBvaW50T25TZWdtZW50KHAsIHAxLCBwMik7XHJcblx0fSxcclxuXHJcblx0Ly8gRG91Z2xhcy1QZXVja2VyIHNpbXBsaWZpY2F0aW9uLCBzZWUgaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Eb3VnbGFzLVBldWNrZXJfYWxnb3JpdGhtXHJcblx0X3NpbXBsaWZ5RFA6IGZ1bmN0aW9uIChwb2ludHMsIHNxVG9sZXJhbmNlKSB7XHJcblxyXG5cdFx0dmFyIGxlbiA9IHBvaW50cy5sZW5ndGgsXHJcblx0XHQgICAgQXJyYXlDb25zdHJ1Y3RvciA9IHR5cGVvZiBVaW50OEFycmF5ICE9PSB1bmRlZmluZWQgKyAnJyA/IFVpbnQ4QXJyYXkgOiBBcnJheSxcclxuXHRcdCAgICBtYXJrZXJzID0gbmV3IEFycmF5Q29uc3RydWN0b3IobGVuKTtcclxuXHJcblx0XHRtYXJrZXJzWzBdID0gbWFya2Vyc1tsZW4gLSAxXSA9IDE7XHJcblxyXG5cdFx0dGhpcy5fc2ltcGxpZnlEUFN0ZXAocG9pbnRzLCBtYXJrZXJzLCBzcVRvbGVyYW5jZSwgMCwgbGVuIC0gMSk7XHJcblxyXG5cdFx0dmFyIGksXHJcblx0XHQgICAgbmV3UG9pbnRzID0gW107XHJcblxyXG5cdFx0Zm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XHJcblx0XHRcdGlmIChtYXJrZXJzW2ldKSB7XHJcblx0XHRcdFx0bmV3UG9pbnRzLnB1c2gocG9pbnRzW2ldKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBuZXdQb2ludHM7XHJcblx0fSxcclxuXHJcblx0X3NpbXBsaWZ5RFBTdGVwOiBmdW5jdGlvbiAocG9pbnRzLCBtYXJrZXJzLCBzcVRvbGVyYW5jZSwgZmlyc3QsIGxhc3QpIHtcclxuXHJcblx0XHR2YXIgbWF4U3FEaXN0ID0gMCxcclxuXHRcdCAgICBpbmRleCwgaSwgc3FEaXN0O1xyXG5cclxuXHRcdGZvciAoaSA9IGZpcnN0ICsgMTsgaSA8PSBsYXN0IC0gMTsgaSsrKSB7XHJcblx0XHRcdHNxRGlzdCA9IHRoaXMuX3NxQ2xvc2VzdFBvaW50T25TZWdtZW50KHBvaW50c1tpXSwgcG9pbnRzW2ZpcnN0XSwgcG9pbnRzW2xhc3RdLCB0cnVlKTtcclxuXHJcblx0XHRcdGlmIChzcURpc3QgPiBtYXhTcURpc3QpIHtcclxuXHRcdFx0XHRpbmRleCA9IGk7XHJcblx0XHRcdFx0bWF4U3FEaXN0ID0gc3FEaXN0O1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKG1heFNxRGlzdCA+IHNxVG9sZXJhbmNlKSB7XHJcblx0XHRcdG1hcmtlcnNbaW5kZXhdID0gMTtcclxuXHJcblx0XHRcdHRoaXMuX3NpbXBsaWZ5RFBTdGVwKHBvaW50cywgbWFya2Vycywgc3FUb2xlcmFuY2UsIGZpcnN0LCBpbmRleCk7XHJcblx0XHRcdHRoaXMuX3NpbXBsaWZ5RFBTdGVwKHBvaW50cywgbWFya2Vycywgc3FUb2xlcmFuY2UsIGluZGV4LCBsYXN0KTtcclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHQvLyByZWR1Y2UgcG9pbnRzIHRoYXQgYXJlIHRvbyBjbG9zZSB0byBlYWNoIG90aGVyIHRvIGEgc2luZ2xlIHBvaW50XHJcblx0X3JlZHVjZVBvaW50czogZnVuY3Rpb24gKHBvaW50cywgc3FUb2xlcmFuY2UpIHtcclxuXHRcdHZhciByZWR1Y2VkUG9pbnRzID0gW3BvaW50c1swXV07XHJcblxyXG5cdFx0Zm9yICh2YXIgaSA9IDEsIHByZXYgPSAwLCBsZW4gPSBwb2ludHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuXHRcdFx0aWYgKHRoaXMuX3NxRGlzdChwb2ludHNbaV0sIHBvaW50c1twcmV2XSkgPiBzcVRvbGVyYW5jZSkge1xyXG5cdFx0XHRcdHJlZHVjZWRQb2ludHMucHVzaChwb2ludHNbaV0pO1xyXG5cdFx0XHRcdHByZXYgPSBpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRpZiAocHJldiA8IGxlbiAtIDEpIHtcclxuXHRcdFx0cmVkdWNlZFBvaW50cy5wdXNoKHBvaW50c1tsZW4gLSAxXSk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gcmVkdWNlZFBvaW50cztcclxuXHR9LFxyXG5cclxuXHJcblx0Ly8gQGZ1bmN0aW9uIGNsaXBTZWdtZW50KGE6IFBvaW50LCBiOiBQb2ludCwgYm91bmRzOiBCb3VuZHMsIHVzZUxhc3RDb2RlPzogQm9vbGVhbiwgcm91bmQ/OiBCb29sZWFuKTogUG9pbnRbXXxCb29sZWFuXHJcblx0Ly8gQ2xpcHMgdGhlIHNlZ21lbnQgYSB0byBiIGJ5IHJlY3Rhbmd1bGFyIGJvdW5kcyB3aXRoIHRoZVxyXG5cdC8vIFtDb2hlbi1TdXRoZXJsYW5kIGFsZ29yaXRobV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ29oZW4lRTIlODAlOTNTdXRoZXJsYW5kX2FsZ29yaXRobSlcclxuXHQvLyAobW9kaWZ5aW5nIHRoZSBzZWdtZW50IHBvaW50cyBkaXJlY3RseSEpLiBVc2VkIGJ5IExlYWZsZXQgdG8gb25seSBzaG93IHBvbHlsaW5lXHJcblx0Ly8gcG9pbnRzIHRoYXQgYXJlIG9uIHRoZSBzY3JlZW4gb3IgbmVhciwgaW5jcmVhc2luZyBwZXJmb3JtYW5jZS5cclxuXHRjbGlwU2VnbWVudDogZnVuY3Rpb24gKGEsIGIsIGJvdW5kcywgdXNlTGFzdENvZGUsIHJvdW5kKSB7XHJcblx0XHR2YXIgY29kZUEgPSB1c2VMYXN0Q29kZSA/IHRoaXMuX2xhc3RDb2RlIDogdGhpcy5fZ2V0Qml0Q29kZShhLCBib3VuZHMpLFxyXG5cdFx0ICAgIGNvZGVCID0gdGhpcy5fZ2V0Qml0Q29kZShiLCBib3VuZHMpLFxyXG5cclxuXHRcdCAgICBjb2RlT3V0LCBwLCBuZXdDb2RlO1xyXG5cclxuXHRcdC8vIHNhdmUgMm5kIGNvZGUgdG8gYXZvaWQgY2FsY3VsYXRpbmcgaXQgb24gdGhlIG5leHQgc2VnbWVudFxyXG5cdFx0dGhpcy5fbGFzdENvZGUgPSBjb2RlQjtcclxuXHJcblx0XHR3aGlsZSAodHJ1ZSkge1xyXG5cdFx0XHQvLyBpZiBhLGIgaXMgaW5zaWRlIHRoZSBjbGlwIHdpbmRvdyAodHJpdmlhbCBhY2NlcHQpXHJcblx0XHRcdGlmICghKGNvZGVBIHwgY29kZUIpKSB7XHJcblx0XHRcdFx0cmV0dXJuIFthLCBiXTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gaWYgYSxiIGlzIG91dHNpZGUgdGhlIGNsaXAgd2luZG93ICh0cml2aWFsIHJlamVjdClcclxuXHRcdFx0aWYgKGNvZGVBICYgY29kZUIpIHtcclxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIG90aGVyIGNhc2VzXHJcblx0XHRcdGNvZGVPdXQgPSBjb2RlQSB8fCBjb2RlQjtcclxuXHRcdFx0cCA9IHRoaXMuX2dldEVkZ2VJbnRlcnNlY3Rpb24oYSwgYiwgY29kZU91dCwgYm91bmRzLCByb3VuZCk7XHJcblx0XHRcdG5ld0NvZGUgPSB0aGlzLl9nZXRCaXRDb2RlKHAsIGJvdW5kcyk7XHJcblxyXG5cdFx0XHRpZiAoY29kZU91dCA9PT0gY29kZUEpIHtcclxuXHRcdFx0XHRhID0gcDtcclxuXHRcdFx0XHRjb2RlQSA9IG5ld0NvZGU7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0YiA9IHA7XHJcblx0XHRcdFx0Y29kZUIgPSBuZXdDb2RlO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fSxcclxuXHJcblx0X2dldEVkZ2VJbnRlcnNlY3Rpb246IGZ1bmN0aW9uIChhLCBiLCBjb2RlLCBib3VuZHMsIHJvdW5kKSB7XHJcblx0XHR2YXIgZHggPSBiLnggLSBhLngsXHJcblx0XHQgICAgZHkgPSBiLnkgLSBhLnksXHJcblx0XHQgICAgbWluID0gYm91bmRzLm1pbixcclxuXHRcdCAgICBtYXggPSBib3VuZHMubWF4LFxyXG5cdFx0ICAgIHgsIHk7XHJcblxyXG5cdFx0aWYgKGNvZGUgJiA4KSB7IC8vIHRvcFxyXG5cdFx0XHR4ID0gYS54ICsgZHggKiAobWF4LnkgLSBhLnkpIC8gZHk7XHJcblx0XHRcdHkgPSBtYXgueTtcclxuXHJcblx0XHR9IGVsc2UgaWYgKGNvZGUgJiA0KSB7IC8vIGJvdHRvbVxyXG5cdFx0XHR4ID0gYS54ICsgZHggKiAobWluLnkgLSBhLnkpIC8gZHk7XHJcblx0XHRcdHkgPSBtaW4ueTtcclxuXHJcblx0XHR9IGVsc2UgaWYgKGNvZGUgJiAyKSB7IC8vIHJpZ2h0XHJcblx0XHRcdHggPSBtYXgueDtcclxuXHRcdFx0eSA9IGEueSArIGR5ICogKG1heC54IC0gYS54KSAvIGR4O1xyXG5cclxuXHRcdH0gZWxzZSBpZiAoY29kZSAmIDEpIHsgLy8gbGVmdFxyXG5cdFx0XHR4ID0gbWluLng7XHJcblx0XHRcdHkgPSBhLnkgKyBkeSAqIChtaW4ueCAtIGEueCkgLyBkeDtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gbmV3IEwuUG9pbnQoeCwgeSwgcm91bmQpO1xyXG5cdH0sXHJcblxyXG5cdF9nZXRCaXRDb2RlOiBmdW5jdGlvbiAocCwgYm91bmRzKSB7XHJcblx0XHR2YXIgY29kZSA9IDA7XHJcblxyXG5cdFx0aWYgKHAueCA8IGJvdW5kcy5taW4ueCkgeyAvLyBsZWZ0XHJcblx0XHRcdGNvZGUgfD0gMTtcclxuXHRcdH0gZWxzZSBpZiAocC54ID4gYm91bmRzLm1heC54KSB7IC8vIHJpZ2h0XHJcblx0XHRcdGNvZGUgfD0gMjtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAocC55IDwgYm91bmRzLm1pbi55KSB7IC8vIGJvdHRvbVxyXG5cdFx0XHRjb2RlIHw9IDQ7XHJcblx0XHR9IGVsc2UgaWYgKHAueSA+IGJvdW5kcy5tYXgueSkgeyAvLyB0b3BcclxuXHRcdFx0Y29kZSB8PSA4O1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBjb2RlO1xyXG5cdH0sXHJcblxyXG5cdC8vIHNxdWFyZSBkaXN0YW5jZSAodG8gYXZvaWQgdW5uZWNlc3NhcnkgTWF0aC5zcXJ0IGNhbGxzKVxyXG5cdF9zcURpc3Q6IGZ1bmN0aW9uIChwMSwgcDIpIHtcclxuXHRcdHZhciBkeCA9IHAyLnggLSBwMS54LFxyXG5cdFx0ICAgIGR5ID0gcDIueSAtIHAxLnk7XHJcblx0XHRyZXR1cm4gZHggKiBkeCArIGR5ICogZHk7XHJcblx0fSxcclxuXHJcblx0Ly8gcmV0dXJuIGNsb3Nlc3QgcG9pbnQgb24gc2VnbWVudCBvciBkaXN0YW5jZSB0byB0aGF0IHBvaW50XHJcblx0X3NxQ2xvc2VzdFBvaW50T25TZWdtZW50OiBmdW5jdGlvbiAocCwgcDEsIHAyLCBzcURpc3QpIHtcclxuXHRcdHZhciB4ID0gcDEueCxcclxuXHRcdCAgICB5ID0gcDEueSxcclxuXHRcdCAgICBkeCA9IHAyLnggLSB4LFxyXG5cdFx0ICAgIGR5ID0gcDIueSAtIHksXHJcblx0XHQgICAgZG90ID0gZHggKiBkeCArIGR5ICogZHksXHJcblx0XHQgICAgdDtcclxuXHJcblx0XHRpZiAoZG90ID4gMCkge1xyXG5cdFx0XHR0ID0gKChwLnggLSB4KSAqIGR4ICsgKHAueSAtIHkpICogZHkpIC8gZG90O1xyXG5cclxuXHRcdFx0aWYgKHQgPiAxKSB7XHJcblx0XHRcdFx0eCA9IHAyLng7XHJcblx0XHRcdFx0eSA9IHAyLnk7XHJcblx0XHRcdH0gZWxzZSBpZiAodCA+IDApIHtcclxuXHRcdFx0XHR4ICs9IGR4ICogdDtcclxuXHRcdFx0XHR5ICs9IGR5ICogdDtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGR4ID0gcC54IC0geDtcclxuXHRcdGR5ID0gcC55IC0geTtcclxuXHJcblx0XHRyZXR1cm4gc3FEaXN0ID8gZHggKiBkeCArIGR5ICogZHkgOiBuZXcgTC5Qb2ludCh4LCB5KTtcclxuXHR9XHJcbn07XHJcblxuLypcbiAqIEBjbGFzcyBQb2x5bGluZVxuICogQGFrYSBMLlBvbHlsaW5lXG4gKiBAaW5oZXJpdHMgUGF0aFxuICpcbiAqIEEgY2xhc3MgZm9yIGRyYXdpbmcgcG9seWxpbmUgb3ZlcmxheXMgb24gYSBtYXAuIEV4dGVuZHMgYFBhdGhgLlxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogYGBganNcbiAqIC8vIGNyZWF0ZSBhIHJlZCBwb2x5bGluZSBmcm9tIGFuIGFycmF5IG9mIExhdExuZyBwb2ludHNcbiAqIHZhciBsYXRsbmdzID0gW1xuICogXHRbLTEyMi42OCwgNDUuNTFdLFxuICogXHRbLTEyMi40MywgMzcuNzddLFxuICogXHRbLTExOC4yLCAzNC4wNF1cbiAqIF07XG4gKlxuICogdmFyIHBvbHlsaW5lID0gTC5wb2x5bGluZShsYXRsbmdzLCB7Y29sb3I6ICdyZWQnfSkuYWRkVG8obWFwKTtcbiAqXG4gKiAvLyB6b29tIHRoZSBtYXAgdG8gdGhlIHBvbHlsaW5lXG4gKiBtYXAuZml0Qm91bmRzKHBvbHlsaW5lLmdldEJvdW5kcygpKTtcbiAqIGBgYFxuICpcbiAqIFlvdSBjYW4gYWxzbyBwYXNzIGEgbXVsdGktZGltZW5zaW9uYWwgYXJyYXkgdG8gcmVwcmVzZW50IGEgYE11bHRpUG9seWxpbmVgIHNoYXBlOlxuICpcbiAqIGBgYGpzXG4gKiAvLyBjcmVhdGUgYSByZWQgcG9seWxpbmUgZnJvbSBhbiBhcnJheSBvZiBhcnJheXMgb2YgTGF0TG5nIHBvaW50c1xuICogdmFyIGxhdGxuZ3MgPSBbXG4gKiBcdFtbLTEyMi42OCwgNDUuNTFdLFxuICogXHQgWy0xMjIuNDMsIDM3Ljc3XSxcbiAqIFx0IFstMTE4LjIsIDM0LjA0XV0sXG4gKiBcdFtbLTczLjkxLCA0MC43OF0sXG4gKiBcdCBbLTg3LjYyLCA0MS44M10sXG4gKiBcdCBbLTk2LjcyLCAzMi43Nl1dXG4gKiBdO1xuICogYGBgXG4gKi9cblxuTC5Qb2x5bGluZSA9IEwuUGF0aC5leHRlbmQoe1xuXG5cdC8vIEBzZWN0aW9uXG5cdC8vIEBha2EgUG9seWxpbmUgb3B0aW9uc1xuXHRvcHRpb25zOiB7XG5cdFx0Ly8gQG9wdGlvbiBzbW9vdGhGYWN0b3I6IE51bWJlciA9IDEuMFxuXHRcdC8vIEhvdyBtdWNoIHRvIHNpbXBsaWZ5IHRoZSBwb2x5bGluZSBvbiBlYWNoIHpvb20gbGV2ZWwuIE1vcmUgbWVhbnNcblx0XHQvLyBiZXR0ZXIgcGVyZm9ybWFuY2UgYW5kIHNtb290aGVyIGxvb2ssIGFuZCBsZXNzIG1lYW5zIG1vcmUgYWNjdXJhdGUgcmVwcmVzZW50YXRpb24uXG5cdFx0c21vb3RoRmFjdG9yOiAxLjAsXG5cblx0XHQvLyBAb3B0aW9uIG5vQ2xpcDogQm9vbGVhbiA9IGZhbHNlXG5cdFx0Ly8gRGlzYWJsZSBwb2x5bGluZSBjbGlwcGluZy5cblx0XHRub0NsaXA6IGZhbHNlXG5cdH0sXG5cblx0aW5pdGlhbGl6ZTogZnVuY3Rpb24gKGxhdGxuZ3MsIG9wdGlvbnMpIHtcblx0XHRMLnNldE9wdGlvbnModGhpcywgb3B0aW9ucyk7XG5cdFx0dGhpcy5fc2V0TGF0TG5ncyhsYXRsbmdzKTtcblx0fSxcblxuXHQvLyBAbWV0aG9kIGdldExhdExuZ3MoKTogTGF0TG5nW11cblx0Ly8gUmV0dXJucyBhbiBhcnJheSBvZiB0aGUgcG9pbnRzIGluIHRoZSBwYXRoLCBvciBuZXN0ZWQgYXJyYXlzIG9mIHBvaW50cyBpbiBjYXNlIG9mIG11bHRpLXBvbHlsaW5lLlxuXHRnZXRMYXRMbmdzOiBmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuIHRoaXMuX2xhdGxuZ3M7XG5cdH0sXG5cblx0Ly8gQG1ldGhvZCBzZXRMYXRMbmdzKGxhdGxuZ3M6IExhdExuZ1tdKTogdGhpc1xuXHQvLyBSZXBsYWNlcyBhbGwgdGhlIHBvaW50cyBpbiB0aGUgcG9seWxpbmUgd2l0aCB0aGUgZ2l2ZW4gYXJyYXkgb2YgZ2VvZ3JhcGhpY2FsIHBvaW50cy5cblx0c2V0TGF0TG5nczogZnVuY3Rpb24gKGxhdGxuZ3MpIHtcblx0XHR0aGlzLl9zZXRMYXRMbmdzKGxhdGxuZ3MpO1xuXHRcdHJldHVybiB0aGlzLnJlZHJhdygpO1xuXHR9LFxuXG5cdC8vIEBtZXRob2QgaXNFbXB0eSgpOiBCb29sZWFuXG5cdC8vIFJldHVybnMgYHRydWVgIGlmIHRoZSBQb2x5bGluZSBoYXMgbm8gTGF0TG5ncy5cblx0aXNFbXB0eTogZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiAhdGhpcy5fbGF0bG5ncy5sZW5ndGg7XG5cdH0sXG5cblx0Y2xvc2VzdExheWVyUG9pbnQ6IGZ1bmN0aW9uIChwKSB7XG5cdFx0dmFyIG1pbkRpc3RhbmNlID0gSW5maW5pdHksXG5cdFx0ICAgIG1pblBvaW50ID0gbnVsbCxcblx0XHQgICAgY2xvc2VzdCA9IEwuTGluZVV0aWwuX3NxQ2xvc2VzdFBvaW50T25TZWdtZW50LFxuXHRcdCAgICBwMSwgcDI7XG5cblx0XHRmb3IgKHZhciBqID0gMCwgakxlbiA9IHRoaXMuX3BhcnRzLmxlbmd0aDsgaiA8IGpMZW47IGorKykge1xuXHRcdFx0dmFyIHBvaW50cyA9IHRoaXMuX3BhcnRzW2pdO1xuXG5cdFx0XHRmb3IgKHZhciBpID0gMSwgbGVuID0gcG9pbnRzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG5cdFx0XHRcdHAxID0gcG9pbnRzW2kgLSAxXTtcblx0XHRcdFx0cDIgPSBwb2ludHNbaV07XG5cblx0XHRcdFx0dmFyIHNxRGlzdCA9IGNsb3Nlc3QocCwgcDEsIHAyLCB0cnVlKTtcblxuXHRcdFx0XHRpZiAoc3FEaXN0IDwgbWluRGlzdGFuY2UpIHtcblx0XHRcdFx0XHRtaW5EaXN0YW5jZSA9IHNxRGlzdDtcblx0XHRcdFx0XHRtaW5Qb2ludCA9IGNsb3Nlc3QocCwgcDEsIHAyKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XHRpZiAobWluUG9pbnQpIHtcblx0XHRcdG1pblBvaW50LmRpc3RhbmNlID0gTWF0aC5zcXJ0KG1pbkRpc3RhbmNlKTtcblx0XHR9XG5cdFx0cmV0dXJuIG1pblBvaW50O1xuXHR9LFxuXG5cdC8vIEBtZXRob2QgZ2V0Q2VudGVyKCk6IExhdExuZ1xuXHQvLyBSZXR1cm5zIHRoZSBjZW50ZXIgKFtjZW50cm9pZF0oaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9DZW50cm9pZCkpIG9mIHRoZSBwb2x5bGluZS5cblx0Z2V0Q2VudGVyOiBmdW5jdGlvbiAoKSB7XG5cdFx0Ly8gdGhyb3dzIGVycm9yIHdoZW4gbm90IHlldCBhZGRlZCB0byBtYXAgYXMgdGhpcyBjZW50ZXIgY2FsY3VsYXRpb24gcmVxdWlyZXMgcHJvamVjdGVkIGNvb3JkaW5hdGVzXG5cdFx0aWYgKCF0aGlzLl9tYXApIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcignTXVzdCBhZGQgbGF5ZXIgdG8gbWFwIGJlZm9yZSB1c2luZyBnZXRDZW50ZXIoKScpO1xuXHRcdH1cblxuXHRcdHZhciBpLCBoYWxmRGlzdCwgc2VnRGlzdCwgZGlzdCwgcDEsIHAyLCByYXRpbyxcblx0XHQgICAgcG9pbnRzID0gdGhpcy5fcmluZ3NbMF0sXG5cdFx0ICAgIGxlbiA9IHBvaW50cy5sZW5ndGg7XG5cblx0XHRpZiAoIWxlbikgeyByZXR1cm4gbnVsbDsgfVxuXG5cdFx0Ly8gcG9seWxpbmUgY2VudHJvaWQgYWxnb3JpdGhtOyBvbmx5IHVzZXMgdGhlIGZpcnN0IHJpbmcgaWYgdGhlcmUgYXJlIG11bHRpcGxlXG5cblx0XHRmb3IgKGkgPSAwLCBoYWxmRGlzdCA9IDA7IGkgPCBsZW4gLSAxOyBpKyspIHtcblx0XHRcdGhhbGZEaXN0ICs9IHBvaW50c1tpXS5kaXN0YW5jZVRvKHBvaW50c1tpICsgMV0pIC8gMjtcblx0XHR9XG5cblx0XHQvLyBUaGUgbGluZSBpcyBzbyBzbWFsbCBpbiB0aGUgY3VycmVudCB2aWV3IHRoYXQgYWxsIHBvaW50cyBhcmUgb24gdGhlIHNhbWUgcGl4ZWwuXG5cdFx0aWYgKGhhbGZEaXN0ID09PSAwKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5fbWFwLmxheWVyUG9pbnRUb0xhdExuZyhwb2ludHNbMF0pO1xuXHRcdH1cblxuXHRcdGZvciAoaSA9IDAsIGRpc3QgPSAwOyBpIDwgbGVuIC0gMTsgaSsrKSB7XG5cdFx0XHRwMSA9IHBvaW50c1tpXTtcblx0XHRcdHAyID0gcG9pbnRzW2kgKyAxXTtcblx0XHRcdHNlZ0Rpc3QgPSBwMS5kaXN0YW5jZVRvKHAyKTtcblx0XHRcdGRpc3QgKz0gc2VnRGlzdDtcblxuXHRcdFx0aWYgKGRpc3QgPiBoYWxmRGlzdCkge1xuXHRcdFx0XHRyYXRpbyA9IChkaXN0IC0gaGFsZkRpc3QpIC8gc2VnRGlzdDtcblx0XHRcdFx0cmV0dXJuIHRoaXMuX21hcC5sYXllclBvaW50VG9MYXRMbmcoW1xuXHRcdFx0XHRcdHAyLnggLSByYXRpbyAqIChwMi54IC0gcDEueCksXG5cdFx0XHRcdFx0cDIueSAtIHJhdGlvICogKHAyLnkgLSBwMS55KVxuXHRcdFx0XHRdKTtcblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cblx0Ly8gQG1ldGhvZCBnZXRCb3VuZHMoKTogTGF0TG5nQm91bmRzXG5cdC8vIFJldHVybnMgdGhlIGBMYXRMbmdCb3VuZHNgIG9mIHRoZSBwYXRoLlxuXHRnZXRCb3VuZHM6IGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gdGhpcy5fYm91bmRzO1xuXHR9LFxuXG5cdC8vIEBtZXRob2QgYWRkTGF0TG5nKGxhdGxuZzogTGF0TG5nLCBsYXRsbmdzPyBMYXRMbmdbXSk6IHRoaXNcblx0Ly8gQWRkcyBhIGdpdmVuIHBvaW50IHRvIHRoZSBwb2x5bGluZS4gQnkgZGVmYXVsdCwgYWRkcyB0byB0aGUgZmlyc3QgcmluZyBvZlxuXHQvLyB0aGUgcG9seWxpbmUgaW4gY2FzZSBvZiBhIG11bHRpLXBvbHlsaW5lLCBidXQgY2FuIGJlIG92ZXJyaWRkZW4gYnkgcGFzc2luZ1xuXHQvLyBhIHNwZWNpZmljIHJpbmcgYXMgYSBMYXRMbmcgYXJyYXkgKHRoYXQgeW91IGNhbiBlYXJsaWVyIGFjY2VzcyB3aXRoIFtgZ2V0TGF0TG5nc2BdKCNwb2x5bGluZS1nZXRsYXRsbmdzKSkuXG5cdGFkZExhdExuZzogZnVuY3Rpb24gKGxhdGxuZywgbGF0bG5ncykge1xuXHRcdGxhdGxuZ3MgPSBsYXRsbmdzIHx8IHRoaXMuX2RlZmF1bHRTaGFwZSgpO1xuXHRcdGxhdGxuZyA9IEwubGF0TG5nKGxhdGxuZyk7XG5cdFx0bGF0bG5ncy5wdXNoKGxhdGxuZyk7XG5cdFx0dGhpcy5fYm91bmRzLmV4dGVuZChsYXRsbmcpO1xuXHRcdHJldHVybiB0aGlzLnJlZHJhdygpO1xuXHR9LFxuXG5cdF9zZXRMYXRMbmdzOiBmdW5jdGlvbiAobGF0bG5ncykge1xuXHRcdHRoaXMuX2JvdW5kcyA9IG5ldyBMLkxhdExuZ0JvdW5kcygpO1xuXHRcdHRoaXMuX2xhdGxuZ3MgPSB0aGlzLl9jb252ZXJ0TGF0TG5ncyhsYXRsbmdzKTtcblx0fSxcblxuXHRfZGVmYXVsdFNoYXBlOiBmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuIEwuUG9seWxpbmUuX2ZsYXQodGhpcy5fbGF0bG5ncykgPyB0aGlzLl9sYXRsbmdzIDogdGhpcy5fbGF0bG5nc1swXTtcblx0fSxcblxuXHQvLyByZWN1cnNpdmVseSBjb252ZXJ0IGxhdGxuZ3MgaW5wdXQgaW50byBhY3R1YWwgTGF0TG5nIGluc3RhbmNlczsgY2FsY3VsYXRlIGJvdW5kcyBhbG9uZyB0aGUgd2F5XG5cdF9jb252ZXJ0TGF0TG5nczogZnVuY3Rpb24gKGxhdGxuZ3MpIHtcblx0XHR2YXIgcmVzdWx0ID0gW10sXG5cdFx0ICAgIGZsYXQgPSBMLlBvbHlsaW5lLl9mbGF0KGxhdGxuZ3MpO1xuXG5cdFx0Zm9yICh2YXIgaSA9IDAsIGxlbiA9IGxhdGxuZ3MubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcblx0XHRcdGlmIChmbGF0KSB7XG5cdFx0XHRcdHJlc3VsdFtpXSA9IEwubGF0TG5nKGxhdGxuZ3NbaV0pO1xuXHRcdFx0XHR0aGlzLl9ib3VuZHMuZXh0ZW5kKHJlc3VsdFtpXSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXN1bHRbaV0gPSB0aGlzLl9jb252ZXJ0TGF0TG5ncyhsYXRsbmdzW2ldKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9LFxuXG5cdF9wcm9qZWN0OiBmdW5jdGlvbiAoKSB7XG5cdFx0dmFyIHB4Qm91bmRzID0gbmV3IEwuQm91bmRzKCk7XG5cdFx0dGhpcy5fcmluZ3MgPSBbXTtcblx0XHR0aGlzLl9wcm9qZWN0TGF0bG5ncyh0aGlzLl9sYXRsbmdzLCB0aGlzLl9yaW5ncywgcHhCb3VuZHMpO1xuXG5cdFx0dmFyIHcgPSB0aGlzLl9jbGlja1RvbGVyYW5jZSgpLFxuXHRcdCAgICBwID0gbmV3IEwuUG9pbnQodywgdyk7XG5cblx0XHRpZiAodGhpcy5fYm91bmRzLmlzVmFsaWQoKSAmJiBweEJvdW5kcy5pc1ZhbGlkKCkpIHtcblx0XHRcdHB4Qm91bmRzLm1pbi5fc3VidHJhY3QocCk7XG5cdFx0XHRweEJvdW5kcy5tYXguX2FkZChwKTtcblx0XHRcdHRoaXMuX3B4Qm91bmRzID0gcHhCb3VuZHM7XG5cdFx0fVxuXHR9LFxuXG5cdC8vIHJlY3Vyc2l2ZWx5IHR1cm5zIGxhdGxuZ3MgaW50byBhIHNldCBvZiByaW5ncyB3aXRoIHByb2plY3RlZCBjb29yZGluYXRlc1xuXHRfcHJvamVjdExhdGxuZ3M6IGZ1bmN0aW9uIChsYXRsbmdzLCByZXN1bHQsIHByb2plY3RlZEJvdW5kcykge1xuXHRcdHZhciBmbGF0ID0gbGF0bG5nc1swXSBpbnN0YW5jZW9mIEwuTGF0TG5nLFxuXHRcdCAgICBsZW4gPSBsYXRsbmdzLmxlbmd0aCxcblx0XHQgICAgaSwgcmluZztcblxuXHRcdGlmIChmbGF0KSB7XG5cdFx0XHRyaW5nID0gW107XG5cdFx0XHRmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcblx0XHRcdFx0cmluZ1tpXSA9IHRoaXMuX21hcC5sYXRMbmdUb0xheWVyUG9pbnQobGF0bG5nc1tpXSk7XG5cdFx0XHRcdHByb2plY3RlZEJvdW5kcy5leHRlbmQocmluZ1tpXSk7XG5cdFx0XHR9XG5cdFx0XHRyZXN1bHQucHVzaChyaW5nKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Zm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG5cdFx0XHRcdHRoaXMuX3Byb2plY3RMYXRsbmdzKGxhdGxuZ3NbaV0sIHJlc3VsdCwgcHJvamVjdGVkQm91bmRzKTtcblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cblx0Ly8gY2xpcCBwb2x5bGluZSBieSByZW5kZXJlciBib3VuZHMgc28gdGhhdCB3ZSBoYXZlIGxlc3MgdG8gcmVuZGVyIGZvciBwZXJmb3JtYW5jZVxuXHRfY2xpcFBvaW50czogZnVuY3Rpb24gKCkge1xuXHRcdHZhciBib3VuZHMgPSB0aGlzLl9yZW5kZXJlci5fYm91bmRzO1xuXG5cdFx0dGhpcy5fcGFydHMgPSBbXTtcblx0XHRpZiAoIXRoaXMuX3B4Qm91bmRzIHx8ICF0aGlzLl9weEJvdW5kcy5pbnRlcnNlY3RzKGJvdW5kcykpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAodGhpcy5vcHRpb25zLm5vQ2xpcCkge1xuXHRcdFx0dGhpcy5fcGFydHMgPSB0aGlzLl9yaW5ncztcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR2YXIgcGFydHMgPSB0aGlzLl9wYXJ0cyxcblx0XHQgICAgaSwgaiwgaywgbGVuLCBsZW4yLCBzZWdtZW50LCBwb2ludHM7XG5cblx0XHRmb3IgKGkgPSAwLCBrID0gMCwgbGVuID0gdGhpcy5fcmluZ3MubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcblx0XHRcdHBvaW50cyA9IHRoaXMuX3JpbmdzW2ldO1xuXG5cdFx0XHRmb3IgKGogPSAwLCBsZW4yID0gcG9pbnRzLmxlbmd0aDsgaiA8IGxlbjIgLSAxOyBqKyspIHtcblx0XHRcdFx0c2VnbWVudCA9IEwuTGluZVV0aWwuY2xpcFNlZ21lbnQocG9pbnRzW2pdLCBwb2ludHNbaiArIDFdLCBib3VuZHMsIGosIHRydWUpO1xuXG5cdFx0XHRcdGlmICghc2VnbWVudCkgeyBjb250aW51ZTsgfVxuXG5cdFx0XHRcdHBhcnRzW2tdID0gcGFydHNba10gfHwgW107XG5cdFx0XHRcdHBhcnRzW2tdLnB1c2goc2VnbWVudFswXSk7XG5cblx0XHRcdFx0Ly8gaWYgc2VnbWVudCBnb2VzIG91dCBvZiBzY3JlZW4sIG9yIGl0J3MgdGhlIGxhc3Qgb25lLCBpdCdzIHRoZSBlbmQgb2YgdGhlIGxpbmUgcGFydFxuXHRcdFx0XHRpZiAoKHNlZ21lbnRbMV0gIT09IHBvaW50c1tqICsgMV0pIHx8IChqID09PSBsZW4yIC0gMikpIHtcblx0XHRcdFx0XHRwYXJ0c1trXS5wdXNoKHNlZ21lbnRbMV0pO1xuXHRcdFx0XHRcdGsrKztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fSxcblxuXHQvLyBzaW1wbGlmeSBlYWNoIGNsaXBwZWQgcGFydCBvZiB0aGUgcG9seWxpbmUgZm9yIHBlcmZvcm1hbmNlXG5cdF9zaW1wbGlmeVBvaW50czogZnVuY3Rpb24gKCkge1xuXHRcdHZhciBwYXJ0cyA9IHRoaXMuX3BhcnRzLFxuXHRcdCAgICB0b2xlcmFuY2UgPSB0aGlzLm9wdGlvbnMuc21vb3RoRmFjdG9yO1xuXG5cdFx0Zm9yICh2YXIgaSA9IDAsIGxlbiA9IHBhcnRzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG5cdFx0XHRwYXJ0c1tpXSA9IEwuTGluZVV0aWwuc2ltcGxpZnkocGFydHNbaV0sIHRvbGVyYW5jZSk7XG5cdFx0fVxuXHR9LFxuXG5cdF91cGRhdGU6IGZ1bmN0aW9uICgpIHtcblx0XHRpZiAoIXRoaXMuX21hcCkgeyByZXR1cm47IH1cblxuXHRcdHRoaXMuX2NsaXBQb2ludHMoKTtcblx0XHR0aGlzLl9zaW1wbGlmeVBvaW50cygpO1xuXHRcdHRoaXMuX3VwZGF0ZVBhdGgoKTtcblx0fSxcblxuXHRfdXBkYXRlUGF0aDogZnVuY3Rpb24gKCkge1xuXHRcdHRoaXMuX3JlbmRlcmVyLl91cGRhdGVQb2x5KHRoaXMpO1xuXHR9XG59KTtcblxuLy8gQGZhY3RvcnkgTC5wb2x5bGluZShsYXRsbmdzOiBMYXRMbmdbXSwgb3B0aW9ucz86IFBvbHlsaW5lIG9wdGlvbnMpXG4vLyBJbnN0YW50aWF0ZXMgYSBwb2x5bGluZSBvYmplY3QgZ2l2ZW4gYW4gYXJyYXkgb2YgZ2VvZ3JhcGhpY2FsIHBvaW50cyBhbmRcbi8vIG9wdGlvbmFsbHkgYW4gb3B0aW9ucyBvYmplY3QuIFlvdSBjYW4gY3JlYXRlIGEgYFBvbHlsaW5lYCBvYmplY3Qgd2l0aFxuLy8gbXVsdGlwbGUgc2VwYXJhdGUgbGluZXMgKGBNdWx0aVBvbHlsaW5lYCkgYnkgcGFzc2luZyBhbiBhcnJheSBvZiBhcnJheXNcbi8vIG9mIGdlb2dyYXBoaWMgcG9pbnRzLlxuTC5wb2x5bGluZSA9IGZ1bmN0aW9uIChsYXRsbmdzLCBvcHRpb25zKSB7XG5cdHJldHVybiBuZXcgTC5Qb2x5bGluZShsYXRsbmdzLCBvcHRpb25zKTtcbn07XG5cbkwuUG9seWxpbmUuX2ZsYXQgPSBmdW5jdGlvbiAobGF0bG5ncykge1xuXHQvLyB0cnVlIGlmIGl0J3MgYSBmbGF0IGFycmF5IG9mIGxhdGxuZ3M7IGZhbHNlIGlmIG5lc3RlZFxuXHRyZXR1cm4gIUwuVXRpbC5pc0FycmF5KGxhdGxuZ3NbMF0pIHx8ICh0eXBlb2YgbGF0bG5nc1swXVswXSAhPT0gJ29iamVjdCcgJiYgdHlwZW9mIGxhdGxuZ3NbMF1bMF0gIT09ICd1bmRlZmluZWQnKTtcbn07XG5cbi8qXHJcbiAqIEBuYW1lc3BhY2UgUG9seVV0aWxcclxuICogVmFyaW91cyB1dGlsaXR5IGZ1bmN0aW9ucyBmb3IgcG9seWdvbiBnZW9tZXRyaWVzLlxyXG4gKi9cclxuXHJcbkwuUG9seVV0aWwgPSB7fTtcclxuXHJcbi8qIEBmdW5jdGlvbiBjbGlwUG9seWdvbihwb2ludHM6IFBvaW50W10sIGJvdW5kczogQm91bmRzLCByb3VuZD86IEJvb2xlYW4pOiBQb2ludFtdXHJcbiAqIENsaXBzIHRoZSBwb2x5Z29uIGdlb21ldHJ5IGRlZmluZWQgYnkgdGhlIGdpdmVuIGBwb2ludHNgIGJ5IHRoZSBnaXZlbiBib3VuZHMgKHVzaW5nIHRoZSBbU3V0aGVybGFuZC1Ib2RnZW1hbiBhbGdvcml0aG1dKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1N1dGhlcmxhbmQlRTIlODAlOTNIb2RnbWFuX2FsZ29yaXRobSkpLlxyXG4gKiBVc2VkIGJ5IExlYWZsZXQgdG8gb25seSBzaG93IHBvbHlnb24gcG9pbnRzIHRoYXQgYXJlIG9uIHRoZSBzY3JlZW4gb3IgbmVhciwgaW5jcmVhc2luZ1xyXG4gKiBwZXJmb3JtYW5jZS4gTm90ZSB0aGF0IHBvbHlnb24gcG9pbnRzIG5lZWRzIGRpZmZlcmVudCBhbGdvcml0aG0gZm9yIGNsaXBwaW5nXHJcbiAqIHRoYW4gcG9seWxpbmUsIHNvIHRoZXJlJ3MgYSBzZXBlcmF0ZSBtZXRob2QgZm9yIGl0LlxyXG4gKi9cclxuTC5Qb2x5VXRpbC5jbGlwUG9seWdvbiA9IGZ1bmN0aW9uIChwb2ludHMsIGJvdW5kcywgcm91bmQpIHtcclxuXHR2YXIgY2xpcHBlZFBvaW50cyxcclxuXHQgICAgZWRnZXMgPSBbMSwgNCwgMiwgOF0sXHJcblx0ICAgIGksIGosIGssXHJcblx0ICAgIGEsIGIsXHJcblx0ICAgIGxlbiwgZWRnZSwgcCxcclxuXHQgICAgbHUgPSBMLkxpbmVVdGlsO1xyXG5cclxuXHRmb3IgKGkgPSAwLCBsZW4gPSBwb2ludHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuXHRcdHBvaW50c1tpXS5fY29kZSA9IGx1Ll9nZXRCaXRDb2RlKHBvaW50c1tpXSwgYm91bmRzKTtcclxuXHR9XHJcblxyXG5cdC8vIGZvciBlYWNoIGVkZ2UgKGxlZnQsIGJvdHRvbSwgcmlnaHQsIHRvcClcclxuXHRmb3IgKGsgPSAwOyBrIDwgNDsgaysrKSB7XHJcblx0XHRlZGdlID0gZWRnZXNba107XHJcblx0XHRjbGlwcGVkUG9pbnRzID0gW107XHJcblxyXG5cdFx0Zm9yIChpID0gMCwgbGVuID0gcG9pbnRzLmxlbmd0aCwgaiA9IGxlbiAtIDE7IGkgPCBsZW47IGogPSBpKyspIHtcclxuXHRcdFx0YSA9IHBvaW50c1tpXTtcclxuXHRcdFx0YiA9IHBvaW50c1tqXTtcclxuXHJcblx0XHRcdC8vIGlmIGEgaXMgaW5zaWRlIHRoZSBjbGlwIHdpbmRvd1xyXG5cdFx0XHRpZiAoIShhLl9jb2RlICYgZWRnZSkpIHtcclxuXHRcdFx0XHQvLyBpZiBiIGlzIG91dHNpZGUgdGhlIGNsaXAgd2luZG93IChhLT5iIGdvZXMgb3V0IG9mIHNjcmVlbilcclxuXHRcdFx0XHRpZiAoYi5fY29kZSAmIGVkZ2UpIHtcclxuXHRcdFx0XHRcdHAgPSBsdS5fZ2V0RWRnZUludGVyc2VjdGlvbihiLCBhLCBlZGdlLCBib3VuZHMsIHJvdW5kKTtcclxuXHRcdFx0XHRcdHAuX2NvZGUgPSBsdS5fZ2V0Qml0Q29kZShwLCBib3VuZHMpO1xyXG5cdFx0XHRcdFx0Y2xpcHBlZFBvaW50cy5wdXNoKHApO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRjbGlwcGVkUG9pbnRzLnB1c2goYSk7XHJcblxyXG5cdFx0XHQvLyBlbHNlIGlmIGIgaXMgaW5zaWRlIHRoZSBjbGlwIHdpbmRvdyAoYS0+YiBlbnRlcnMgdGhlIHNjcmVlbilcclxuXHRcdFx0fSBlbHNlIGlmICghKGIuX2NvZGUgJiBlZGdlKSkge1xyXG5cdFx0XHRcdHAgPSBsdS5fZ2V0RWRnZUludGVyc2VjdGlvbihiLCBhLCBlZGdlLCBib3VuZHMsIHJvdW5kKTtcclxuXHRcdFx0XHRwLl9jb2RlID0gbHUuX2dldEJpdENvZGUocCwgYm91bmRzKTtcclxuXHRcdFx0XHRjbGlwcGVkUG9pbnRzLnB1c2gocCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHBvaW50cyA9IGNsaXBwZWRQb2ludHM7XHJcblx0fVxyXG5cclxuXHRyZXR1cm4gcG9pbnRzO1xyXG59O1xyXG5cbi8qXG4gKiBAY2xhc3MgUG9seWdvblxuICogQGFrYSBMLlBvbHlnb25cbiAqIEBpbmhlcml0cyBQb2x5bGluZVxuICpcbiAqIEEgY2xhc3MgZm9yIGRyYXdpbmcgcG9seWdvbiBvdmVybGF5cyBvbiBhIG1hcC4gRXh0ZW5kcyBgUG9seWxpbmVgLlxuICpcbiAqIE5vdGUgdGhhdCBwb2ludHMgeW91IHBhc3Mgd2hlbiBjcmVhdGluZyBhIHBvbHlnb24gc2hvdWxkbid0IGhhdmUgYW4gYWRkaXRpb25hbCBsYXN0IHBvaW50IGVxdWFsIHRvIHRoZSBmaXJzdCBvbmUg4oCUIGl0J3MgYmV0dGVyIHRvIGZpbHRlciBvdXQgc3VjaCBwb2ludHMuXG4gKlxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogYGBganNcbiAqIC8vIGNyZWF0ZSBhIHJlZCBwb2x5Z29uIGZyb20gYW4gYXJyYXkgb2YgTGF0TG5nIHBvaW50c1xuICogdmFyIGxhdGxuZ3MgPSBbWy0xMTEuMDMsIDQxXSxbLTExMS4wNCwgNDVdLFstMTA0LjA1LCA0NV0sWy0xMDQuMDUsIDQxXV07XG4gKlxuICogdmFyIHBvbHlnb24gPSBMLnBvbHlnb24obGF0bG5ncywge2NvbG9yOiAncmVkJ30pLmFkZFRvKG1hcCk7XG4gKlxuICogLy8gem9vbSB0aGUgbWFwIHRvIHRoZSBwb2x5Z29uXG4gKiBtYXAuZml0Qm91bmRzKHBvbHlnb24uZ2V0Qm91bmRzKCkpO1xuICogYGBgXG4gKlxuICogWW91IGNhbiBhbHNvIHBhc3MgYW4gYXJyYXkgb2YgYXJyYXlzIG9mIGxhdGxuZ3MsIHdpdGggdGhlIGZpcnN0IGFycmF5IHJlcHJlc2VudGluZyB0aGUgb3V0ZXIgc2hhcGUgYW5kIHRoZSBvdGhlciBhcnJheXMgcmVwcmVzZW50aW5nIGhvbGVzIGluIHRoZSBvdXRlciBzaGFwZTpcbiAqXG4gKiBgYGBqc1xuICogdmFyIGxhdGxuZ3MgPSBbXG4gKiAgIFtbLTExMS4wMywgNDFdLFstMTExLjA0LCA0NV0sWy0xMDQuMDUsIDQ1XSxbLTEwNC4wNSwgNDFdXSwgLy8gb3V0ZXIgcmluZ1xuICogICBbWy0xMDguNTgsMzcuMjldLFstMTA4LjU4LDQwLjcxXSxbLTEwMi41MCw0MC43MV0sWy0xMDIuNTAsMzcuMjldXSAvLyBob2xlXG4gKiBdO1xuICogYGBgXG4gKlxuICogQWRkaXRpb25hbGx5LCB5b3UgY2FuIHBhc3MgYSBtdWx0aS1kaW1lbnNpb25hbCBhcnJheSB0byByZXByZXNlbnQgYSBNdWx0aVBvbHlnb24gc2hhcGUuXG4gKlxuICogYGBganNcbiAqIHZhciBsYXRsbmdzID0gW1xuICogICBbIC8vIGZpcnN0IHBvbHlnb25cbiAqICAgICBbWy0xMTEuMDMsIDQxXSxbLTExMS4wNCwgNDVdLFstMTA0LjA1LCA0NV0sWy0xMDQuMDUsIDQxXV0sIC8vIG91dGVyIHJpbmdcbiAqICAgICBbWy0xMDguNTgsMzcuMjldLFstMTA4LjU4LDQwLjcxXSxbLTEwMi41MCw0MC43MV0sWy0xMDIuNTAsMzcuMjldXSAvLyBob2xlXG4gKiAgIF0sXG4gKiAgIFsgLy8gc2Vjb25kIHBvbHlnb25cbiAqICAgICBbWy0xMDkuMDUsIDM3XSxbLTEwOS4wMywgNDFdLFstMTAyLjA1LCA0MV0sWy0xMDIuMDQsIDM3XSxbLTEwOS4wNSwgMzhdXVxuICogICBdXG4gKiBdO1xuICogYGBgXG4gKi9cblxuTC5Qb2x5Z29uID0gTC5Qb2x5bGluZS5leHRlbmQoe1xuXG5cdG9wdGlvbnM6IHtcblx0XHRmaWxsOiB0cnVlXG5cdH0sXG5cblx0aXNFbXB0eTogZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiAhdGhpcy5fbGF0bG5ncy5sZW5ndGggfHwgIXRoaXMuX2xhdGxuZ3NbMF0ubGVuZ3RoO1xuXHR9LFxuXG5cdGdldENlbnRlcjogZnVuY3Rpb24gKCkge1xuXHRcdC8vIHRocm93cyBlcnJvciB3aGVuIG5vdCB5ZXQgYWRkZWQgdG8gbWFwIGFzIHRoaXMgY2VudGVyIGNhbGN1bGF0aW9uIHJlcXVpcmVzIHByb2plY3RlZCBjb29yZGluYXRlc1xuXHRcdGlmICghdGhpcy5fbWFwKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ011c3QgYWRkIGxheWVyIHRvIG1hcCBiZWZvcmUgdXNpbmcgZ2V0Q2VudGVyKCknKTtcblx0XHR9XG5cblx0XHR2YXIgaSwgaiwgcDEsIHAyLCBmLCBhcmVhLCB4LCB5LCBjZW50ZXIsXG5cdFx0ICAgIHBvaW50cyA9IHRoaXMuX3JpbmdzWzBdLFxuXHRcdCAgICBsZW4gPSBwb2ludHMubGVuZ3RoO1xuXG5cdFx0aWYgKCFsZW4pIHsgcmV0dXJuIG51bGw7IH1cblxuXHRcdC8vIHBvbHlnb24gY2VudHJvaWQgYWxnb3JpdGhtOyBvbmx5IHVzZXMgdGhlIGZpcnN0IHJpbmcgaWYgdGhlcmUgYXJlIG11bHRpcGxlXG5cblx0XHRhcmVhID0geCA9IHkgPSAwO1xuXG5cdFx0Zm9yIChpID0gMCwgaiA9IGxlbiAtIDE7IGkgPCBsZW47IGogPSBpKyspIHtcblx0XHRcdHAxID0gcG9pbnRzW2ldO1xuXHRcdFx0cDIgPSBwb2ludHNbal07XG5cblx0XHRcdGYgPSBwMS55ICogcDIueCAtIHAyLnkgKiBwMS54O1xuXHRcdFx0eCArPSAocDEueCArIHAyLngpICogZjtcblx0XHRcdHkgKz0gKHAxLnkgKyBwMi55KSAqIGY7XG5cdFx0XHRhcmVhICs9IGYgKiAzO1xuXHRcdH1cblxuXHRcdGlmIChhcmVhID09PSAwKSB7XG5cdFx0XHQvLyBQb2x5Z29uIGlzIHNvIHNtYWxsIHRoYXQgYWxsIHBvaW50cyBhcmUgb24gc2FtZSBwaXhlbC5cblx0XHRcdGNlbnRlciA9IHBvaW50c1swXTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Y2VudGVyID0gW3ggLyBhcmVhLCB5IC8gYXJlYV07XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzLl9tYXAubGF5ZXJQb2ludFRvTGF0TG5nKGNlbnRlcik7XG5cdH0sXG5cblx0X2NvbnZlcnRMYXRMbmdzOiBmdW5jdGlvbiAobGF0bG5ncykge1xuXHRcdHZhciByZXN1bHQgPSBMLlBvbHlsaW5lLnByb3RvdHlwZS5fY29udmVydExhdExuZ3MuY2FsbCh0aGlzLCBsYXRsbmdzKSxcblx0XHQgICAgbGVuID0gcmVzdWx0Lmxlbmd0aDtcblxuXHRcdC8vIHJlbW92ZSBsYXN0IHBvaW50IGlmIGl0IGVxdWFscyBmaXJzdCBvbmVcblx0XHRpZiAobGVuID49IDIgJiYgcmVzdWx0WzBdIGluc3RhbmNlb2YgTC5MYXRMbmcgJiYgcmVzdWx0WzBdLmVxdWFscyhyZXN1bHRbbGVuIC0gMV0pKSB7XG5cdFx0XHRyZXN1bHQucG9wKCk7XG5cdFx0fVxuXHRcdHJldHVybiByZXN1bHQ7XG5cdH0sXG5cblx0X3NldExhdExuZ3M6IGZ1bmN0aW9uIChsYXRsbmdzKSB7XG5cdFx0TC5Qb2x5bGluZS5wcm90b3R5cGUuX3NldExhdExuZ3MuY2FsbCh0aGlzLCBsYXRsbmdzKTtcblx0XHRpZiAoTC5Qb2x5bGluZS5fZmxhdCh0aGlzLl9sYXRsbmdzKSkge1xuXHRcdFx0dGhpcy5fbGF0bG5ncyA9IFt0aGlzLl9sYXRsbmdzXTtcblx0XHR9XG5cdH0sXG5cblx0X2RlZmF1bHRTaGFwZTogZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiBMLlBvbHlsaW5lLl9mbGF0KHRoaXMuX2xhdGxuZ3NbMF0pID8gdGhpcy5fbGF0bG5nc1swXSA6IHRoaXMuX2xhdGxuZ3NbMF1bMF07XG5cdH0sXG5cblx0X2NsaXBQb2ludHM6IGZ1bmN0aW9uICgpIHtcblx0XHQvLyBwb2x5Z29ucyBuZWVkIGEgZGlmZmVyZW50IGNsaXBwaW5nIGFsZ29yaXRobSBzbyB3ZSByZWRlZmluZSB0aGF0XG5cblx0XHR2YXIgYm91bmRzID0gdGhpcy5fcmVuZGVyZXIuX2JvdW5kcyxcblx0XHQgICAgdyA9IHRoaXMub3B0aW9ucy53ZWlnaHQsXG5cdFx0ICAgIHAgPSBuZXcgTC5Qb2ludCh3LCB3KTtcblxuXHRcdC8vIGluY3JlYXNlIGNsaXAgcGFkZGluZyBieSBzdHJva2Ugd2lkdGggdG8gYXZvaWQgc3Ryb2tlIG9uIGNsaXAgZWRnZXNcblx0XHRib3VuZHMgPSBuZXcgTC5Cb3VuZHMoYm91bmRzLm1pbi5zdWJ0cmFjdChwKSwgYm91bmRzLm1heC5hZGQocCkpO1xuXG5cdFx0dGhpcy5fcGFydHMgPSBbXTtcblx0XHRpZiAoIXRoaXMuX3B4Qm91bmRzIHx8ICF0aGlzLl9weEJvdW5kcy5pbnRlcnNlY3RzKGJvdW5kcykpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAodGhpcy5vcHRpb25zLm5vQ2xpcCkge1xuXHRcdFx0dGhpcy5fcGFydHMgPSB0aGlzLl9yaW5ncztcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRmb3IgKHZhciBpID0gMCwgbGVuID0gdGhpcy5fcmluZ3MubGVuZ3RoLCBjbGlwcGVkOyBpIDwgbGVuOyBpKyspIHtcblx0XHRcdGNsaXBwZWQgPSBMLlBvbHlVdGlsLmNsaXBQb2x5Z29uKHRoaXMuX3JpbmdzW2ldLCBib3VuZHMsIHRydWUpO1xuXHRcdFx0aWYgKGNsaXBwZWQubGVuZ3RoKSB7XG5cdFx0XHRcdHRoaXMuX3BhcnRzLnB1c2goY2xpcHBlZCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXG5cdF91cGRhdGVQYXRoOiBmdW5jdGlvbiAoKSB7XG5cdFx0dGhpcy5fcmVuZGVyZXIuX3VwZGF0ZVBvbHkodGhpcywgdHJ1ZSk7XG5cdH1cbn0pO1xuXG5cbi8vIEBmYWN0b3J5IEwucG9seWdvbihsYXRsbmdzOiBMYXRMbmdbXSwgb3B0aW9ucz86IFBvbHlsaW5lIG9wdGlvbnMpXG5MLnBvbHlnb24gPSBmdW5jdGlvbiAobGF0bG5ncywgb3B0aW9ucykge1xuXHRyZXR1cm4gbmV3IEwuUG9seWdvbihsYXRsbmdzLCBvcHRpb25zKTtcbn07XG5cbi8qXG4gKiBMLlJlY3RhbmdsZSBleHRlbmRzIFBvbHlnb24gYW5kIGNyZWF0ZXMgYSByZWN0YW5nbGUgd2hlbiBwYXNzZWQgYSBMYXRMbmdCb3VuZHMgb2JqZWN0LlxuICovXG5cbi8qXG4gKiBAY2xhc3MgUmVjdGFuZ2xlXG4gKiBAYWthIEwuUmV0YW5nbGVcbiAqIEBpbmhlcml0cyBQb2x5Z29uXG4gKlxuICogQSBjbGFzcyBmb3IgZHJhd2luZyByZWN0YW5nbGUgb3ZlcmxheXMgb24gYSBtYXAuIEV4dGVuZHMgYFBvbHlnb25gLlxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogYGBganNcbiAqIC8vIGRlZmluZSByZWN0YW5nbGUgZ2VvZ3JhcGhpY2FsIGJvdW5kc1xuICogdmFyIGJvdW5kcyA9IFtbNTQuNTU5MzIyLCAtNS43Njc4MjJdLCBbNTYuMTIxMDYwNCwgLTMuMDIxMjQwXV07XG4gKlxuICogLy8gY3JlYXRlIGFuIG9yYW5nZSByZWN0YW5nbGVcbiAqIEwucmVjdGFuZ2xlKGJvdW5kcywge2NvbG9yOiBcIiNmZjc4MDBcIiwgd2VpZ2h0OiAxfSkuYWRkVG8obWFwKTtcbiAqXG4gKiAvLyB6b29tIHRoZSBtYXAgdG8gdGhlIHJlY3RhbmdsZSBib3VuZHNcbiAqIG1hcC5maXRCb3VuZHMoYm91bmRzKTtcbiAqIGBgYFxuICpcbiAqL1xuXG5cbkwuUmVjdGFuZ2xlID0gTC5Qb2x5Z29uLmV4dGVuZCh7XG5cdGluaXRpYWxpemU6IGZ1bmN0aW9uIChsYXRMbmdCb3VuZHMsIG9wdGlvbnMpIHtcblx0XHRMLlBvbHlnb24ucHJvdG90eXBlLmluaXRpYWxpemUuY2FsbCh0aGlzLCB0aGlzLl9ib3VuZHNUb0xhdExuZ3MobGF0TG5nQm91bmRzKSwgb3B0aW9ucyk7XG5cdH0sXG5cblx0Ly8gQG1ldGhvZCBzZXRCb3VuZHMobGF0TG5nQm91bmRzOiBMYXRMbmdCb3VuZHMpOiB0aGlzXG5cdC8vIFJlZHJhd3MgdGhlIHJlY3RhbmdsZSB3aXRoIHRoZSBwYXNzZWQgYm91bmRzLlxuXHRzZXRCb3VuZHM6IGZ1bmN0aW9uIChsYXRMbmdCb3VuZHMpIHtcblx0XHRyZXR1cm4gdGhpcy5zZXRMYXRMbmdzKHRoaXMuX2JvdW5kc1RvTGF0TG5ncyhsYXRMbmdCb3VuZHMpKTtcblx0fSxcblxuXHRfYm91bmRzVG9MYXRMbmdzOiBmdW5jdGlvbiAobGF0TG5nQm91bmRzKSB7XG5cdFx0bGF0TG5nQm91bmRzID0gTC5sYXRMbmdCb3VuZHMobGF0TG5nQm91bmRzKTtcblx0XHRyZXR1cm4gW1xuXHRcdFx0bGF0TG5nQm91bmRzLmdldFNvdXRoV2VzdCgpLFxuXHRcdFx0bGF0TG5nQm91bmRzLmdldE5vcnRoV2VzdCgpLFxuXHRcdFx0bGF0TG5nQm91bmRzLmdldE5vcnRoRWFzdCgpLFxuXHRcdFx0bGF0TG5nQm91bmRzLmdldFNvdXRoRWFzdCgpXG5cdFx0XTtcblx0fVxufSk7XG5cblxuLy8gQGZhY3RvcnkgTC5yZWN0YW5nbGUobGF0TG5nQm91bmRzOiBMYXRMbmdCb3VuZHMsIG9wdGlvbnM/OiBQb2x5bGluZSBvcHRpb25zKVxuTC5yZWN0YW5nbGUgPSBmdW5jdGlvbiAobGF0TG5nQm91bmRzLCBvcHRpb25zKSB7XG5cdHJldHVybiBuZXcgTC5SZWN0YW5nbGUobGF0TG5nQm91bmRzLCBvcHRpb25zKTtcbn07XG5cbi8qXG4gKiBAY2xhc3MgQ2lyY2xlTWFya2VyXG4gKiBAYWthIEwuQ2lyY2xlTWFya2VyXG4gKiBAaW5oZXJpdHMgUGF0aFxuICpcbiAqIEEgY2lyY2xlIG9mIGEgZml4ZWQgc2l6ZSB3aXRoIHJhZGl1cyBzcGVjaWZpZWQgaW4gcGl4ZWxzLiBFeHRlbmRzIGBQYXRoYC5cbiAqL1xuXG5MLkNpcmNsZU1hcmtlciA9IEwuUGF0aC5leHRlbmQoe1xuXG5cdC8vIEBzZWN0aW9uXG5cdC8vIEBha2EgQ2lyY2xlTWFya2VyIG9wdGlvbnNcblx0b3B0aW9uczoge1xuXHRcdGZpbGw6IHRydWUsXG5cblx0XHQvLyBAb3B0aW9uIHJhZGl1czogTnVtYmVyID0gMTBcblx0XHQvLyBSYWRpdXMgb2YgdGhlIGNpcmNsZSBtYXJrZXIsIGluIHBpeGVsc1xuXHRcdHJhZGl1czogMTBcblx0fSxcblxuXHRpbml0aWFsaXplOiBmdW5jdGlvbiAobGF0bG5nLCBvcHRpb25zKSB7XG5cdFx0TC5zZXRPcHRpb25zKHRoaXMsIG9wdGlvbnMpO1xuXHRcdHRoaXMuX2xhdGxuZyA9IEwubGF0TG5nKGxhdGxuZyk7XG5cdFx0dGhpcy5fcmFkaXVzID0gdGhpcy5vcHRpb25zLnJhZGl1cztcblx0fSxcblxuXHQvLyBAbWV0aG9kIHNldExhdExuZyhsYXRMbmc6IExhdExuZyk6IHRoaXNcblx0Ly8gU2V0cyB0aGUgcG9zaXRpb24gb2YgYSBjaXJjbGUgbWFya2VyIHRvIGEgbmV3IGxvY2F0aW9uLlxuXHRzZXRMYXRMbmc6IGZ1bmN0aW9uIChsYXRsbmcpIHtcblx0XHR0aGlzLl9sYXRsbmcgPSBMLmxhdExuZyhsYXRsbmcpO1xuXHRcdHRoaXMucmVkcmF3KCk7XG5cdFx0cmV0dXJuIHRoaXMuZmlyZSgnbW92ZScsIHtsYXRsbmc6IHRoaXMuX2xhdGxuZ30pO1xuXHR9LFxuXG5cdC8vIEBtZXRob2QgZ2V0TGF0TG5nKCk6IExhdExuZ1xuXHQvLyBSZXR1cm5zIHRoZSBjdXJyZW50IGdlb2dyYXBoaWNhbCBwb3NpdGlvbiBvZiB0aGUgY2lyY2xlIG1hcmtlclxuXHRnZXRMYXRMbmc6IGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gdGhpcy5fbGF0bG5nO1xuXHR9LFxuXG5cdC8vIEBtZXRob2Qgc2V0UmFkaXVzKHJhZGl1czogTnVtYmVyKTogdGhpc1xuXHQvLyBTZXRzIHRoZSByYWRpdXMgb2YgYSBjaXJjbGUgbWFya2VyLiBVbml0cyBhcmUgaW4gcGl4ZWxzLlxuXHRzZXRSYWRpdXM6IGZ1bmN0aW9uIChyYWRpdXMpIHtcblx0XHR0aGlzLm9wdGlvbnMucmFkaXVzID0gdGhpcy5fcmFkaXVzID0gcmFkaXVzO1xuXHRcdHJldHVybiB0aGlzLnJlZHJhdygpO1xuXHR9LFxuXG5cdC8vIEBtZXRob2QgZ2V0UmFkaXVzKCk6IE51bWJlclxuXHQvLyBSZXR1cm5zIHRoZSBjdXJyZW50IHJhZGl1cyBvZiB0aGUgY2lyY2xlXG5cdGdldFJhZGl1czogZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiB0aGlzLl9yYWRpdXM7XG5cdH0sXG5cblx0c2V0U3R5bGUgOiBmdW5jdGlvbiAob3B0aW9ucykge1xuXHRcdHZhciByYWRpdXMgPSBvcHRpb25zICYmIG9wdGlvbnMucmFkaXVzIHx8IHRoaXMuX3JhZGl1cztcblx0XHRMLlBhdGgucHJvdG90eXBlLnNldFN0eWxlLmNhbGwodGhpcywgb3B0aW9ucyk7XG5cdFx0dGhpcy5zZXRSYWRpdXMocmFkaXVzKTtcblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHRfcHJvamVjdDogZnVuY3Rpb24gKCkge1xuXHRcdHRoaXMuX3BvaW50ID0gdGhpcy5fbWFwLmxhdExuZ1RvTGF5ZXJQb2ludCh0aGlzLl9sYXRsbmcpO1xuXHRcdHRoaXMuX3VwZGF0ZUJvdW5kcygpO1xuXHR9LFxuXG5cdF91cGRhdGVCb3VuZHM6IGZ1bmN0aW9uICgpIHtcblx0XHR2YXIgciA9IHRoaXMuX3JhZGl1cyxcblx0XHQgICAgcjIgPSB0aGlzLl9yYWRpdXNZIHx8IHIsXG5cdFx0ICAgIHcgPSB0aGlzLl9jbGlja1RvbGVyYW5jZSgpLFxuXHRcdCAgICBwID0gW3IgKyB3LCByMiArIHddO1xuXHRcdHRoaXMuX3B4Qm91bmRzID0gbmV3IEwuQm91bmRzKHRoaXMuX3BvaW50LnN1YnRyYWN0KHApLCB0aGlzLl9wb2ludC5hZGQocCkpO1xuXHR9LFxuXG5cdF91cGRhdGU6IGZ1bmN0aW9uICgpIHtcblx0XHRpZiAodGhpcy5fbWFwKSB7XG5cdFx0XHR0aGlzLl91cGRhdGVQYXRoKCk7XG5cdFx0fVxuXHR9LFxuXG5cdF91cGRhdGVQYXRoOiBmdW5jdGlvbiAoKSB7XG5cdFx0dGhpcy5fcmVuZGVyZXIuX3VwZGF0ZUNpcmNsZSh0aGlzKTtcblx0fSxcblxuXHRfZW1wdHk6IGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gdGhpcy5fcmFkaXVzICYmICF0aGlzLl9yZW5kZXJlci5fYm91bmRzLmludGVyc2VjdHModGhpcy5fcHhCb3VuZHMpO1xuXHR9XG59KTtcblxuXG4vLyBAZmFjdG9yeSBMLmNpcmNsZU1hcmtlcihsYXRsbmc6IExhdExuZywgb3B0aW9ucz86IENpcmNsZU1hcmtlciBvcHRpb25zKVxuLy8gSW5zdGFudGlhdGVzIGEgY2lyY2xlIG1hcmtlciBvYmplY3QgZ2l2ZW4gYSBnZW9ncmFwaGljYWwgcG9pbnQsIGFuZCBhbiBvcHRpb25hbCBvcHRpb25zIG9iamVjdC5cbkwuY2lyY2xlTWFya2VyID0gZnVuY3Rpb24gKGxhdGxuZywgb3B0aW9ucykge1xuXHRyZXR1cm4gbmV3IEwuQ2lyY2xlTWFya2VyKGxhdGxuZywgb3B0aW9ucyk7XG59O1xuXG4vKlxuICogQGNsYXNzIENpcmNsZVxuICogQGFrYSBMLkNpcmNsZVxuICogQGluaGVyaXRzIENpcmNsZU1hcmtlclxuICpcbiAqIEEgY2xhc3MgZm9yIGRyYXdpbmcgY2lyY2xlIG92ZXJsYXlzIG9uIGEgbWFwLiBFeHRlbmRzIGBDaXJjbGVNYXJrZXJgLlxuICpcbiAqIEl0J3MgYW4gYXBwcm94aW1hdGlvbiBhbmQgc3RhcnRzIHRvIGRpdmVyZ2UgZnJvbSBhIHJlYWwgY2lyY2xlIGNsb3NlciB0byBwb2xlcyAoZHVlIHRvIHByb2plY3Rpb24gZGlzdG9ydGlvbikuXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiBgYGBqc1xuICogTC5jaXJjbGUoWzUwLjUsIDMwLjVdLCB7cmFkaXVzOiAyMDB9KS5hZGRUbyhtYXApO1xuICogYGBgXG4gKi9cblxuTC5DaXJjbGUgPSBMLkNpcmNsZU1hcmtlci5leHRlbmQoe1xuXG5cdGluaXRpYWxpemU6IGZ1bmN0aW9uIChsYXRsbmcsIG9wdGlvbnMsIGxlZ2FjeU9wdGlvbnMpIHtcblx0XHRpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdudW1iZXInKSB7XG5cdFx0XHQvLyBCYWNrd2FyZHMgY29tcGF0aWJpbGl0eSB3aXRoIDAuNy54IGZhY3RvcnkgKGxhdGxuZywgcmFkaXVzLCBvcHRpb25zPylcblx0XHRcdG9wdGlvbnMgPSBMLmV4dGVuZCh7fSwgbGVnYWN5T3B0aW9ucywge3JhZGl1czogb3B0aW9uc30pO1xuXHRcdH1cblx0XHRMLnNldE9wdGlvbnModGhpcywgb3B0aW9ucyk7XG5cdFx0dGhpcy5fbGF0bG5nID0gTC5sYXRMbmcobGF0bG5nKTtcblxuXHRcdGlmIChpc05hTih0aGlzLm9wdGlvbnMucmFkaXVzKSkgeyB0aHJvdyBuZXcgRXJyb3IoJ0NpcmNsZSByYWRpdXMgY2Fubm90IGJlIE5hTicpOyB9XG5cblx0XHQvLyBAc2VjdGlvblxuXHRcdC8vIEBha2EgQ2lyY2xlIG9wdGlvbnNcblx0XHQvLyBAb3B0aW9uIHJhZGl1czogTnVtYmVyOyBSYWRpdXMgb2YgdGhlIGNpcmNsZSwgaW4gbWV0ZXJzLlxuXHRcdHRoaXMuX21SYWRpdXMgPSB0aGlzLm9wdGlvbnMucmFkaXVzO1xuXHR9LFxuXG5cdC8vIEBtZXRob2Qgc2V0UmFkaXVzKHJhZGl1czogTnVtYmVyKTogdGhpc1xuXHQvLyBTZXRzIHRoZSByYWRpdXMgb2YgYSBjaXJjbGUuIFVuaXRzIGFyZSBpbiBtZXRlcnMuXG5cdHNldFJhZGl1czogZnVuY3Rpb24gKHJhZGl1cykge1xuXHRcdHRoaXMuX21SYWRpdXMgPSByYWRpdXM7XG5cdFx0cmV0dXJuIHRoaXMucmVkcmF3KCk7XG5cdH0sXG5cblx0Ly8gQG1ldGhvZCBnZXRSYWRpdXMoKTogTnVtYmVyXG5cdC8vIFJldHVybnMgdGhlIGN1cnJlbnQgcmFkaXVzIG9mIGEgY2lyY2xlLiBVbml0cyBhcmUgaW4gbWV0ZXJzLlxuXHRnZXRSYWRpdXM6IGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gdGhpcy5fbVJhZGl1cztcblx0fSxcblxuXHQvLyBAbWV0aG9kIGdldEJvdW5kcygpOiBMYXRMbmdCb3VuZHNcblx0Ly8gUmV0dXJucyB0aGUgYExhdExuZ0JvdW5kc2Agb2YgdGhlIHBhdGguXG5cdGdldEJvdW5kczogZnVuY3Rpb24gKCkge1xuXHRcdHZhciBoYWxmID0gW3RoaXMuX3JhZGl1cywgdGhpcy5fcmFkaXVzWSB8fCB0aGlzLl9yYWRpdXNdO1xuXG5cdFx0cmV0dXJuIG5ldyBMLkxhdExuZ0JvdW5kcyhcblx0XHRcdHRoaXMuX21hcC5sYXllclBvaW50VG9MYXRMbmcodGhpcy5fcG9pbnQuc3VidHJhY3QoaGFsZikpLFxuXHRcdFx0dGhpcy5fbWFwLmxheWVyUG9pbnRUb0xhdExuZyh0aGlzLl9wb2ludC5hZGQoaGFsZikpKTtcblx0fSxcblxuXHRzZXRTdHlsZTogTC5QYXRoLnByb3RvdHlwZS5zZXRTdHlsZSxcblxuXHRfcHJvamVjdDogZnVuY3Rpb24gKCkge1xuXG5cdFx0dmFyIGxuZyA9IHRoaXMuX2xhdGxuZy5sbmcsXG5cdFx0ICAgIGxhdCA9IHRoaXMuX2xhdGxuZy5sYXQsXG5cdFx0ICAgIG1hcCA9IHRoaXMuX21hcCxcblx0XHQgICAgY3JzID0gbWFwLm9wdGlvbnMuY3JzO1xuXG5cdFx0aWYgKGNycy5kaXN0YW5jZSA9PT0gTC5DUlMuRWFydGguZGlzdGFuY2UpIHtcblx0XHRcdHZhciBkID0gTWF0aC5QSSAvIDE4MCxcblx0XHRcdCAgICBsYXRSID0gKHRoaXMuX21SYWRpdXMgLyBMLkNSUy5FYXJ0aC5SKSAvIGQsXG5cdFx0XHQgICAgdG9wID0gbWFwLnByb2plY3QoW2xhdCArIGxhdFIsIGxuZ10pLFxuXHRcdFx0ICAgIGJvdHRvbSA9IG1hcC5wcm9qZWN0KFtsYXQgLSBsYXRSLCBsbmddKSxcblx0XHRcdCAgICBwID0gdG9wLmFkZChib3R0b20pLmRpdmlkZUJ5KDIpLFxuXHRcdFx0ICAgIGxhdDIgPSBtYXAudW5wcm9qZWN0KHApLmxhdCxcblx0XHRcdCAgICBsbmdSID0gTWF0aC5hY29zKChNYXRoLmNvcyhsYXRSICogZCkgLSBNYXRoLnNpbihsYXQgKiBkKSAqIE1hdGguc2luKGxhdDIgKiBkKSkgL1xuXHRcdFx0ICAgICAgICAgICAgKE1hdGguY29zKGxhdCAqIGQpICogTWF0aC5jb3MobGF0MiAqIGQpKSkgLyBkO1xuXG5cdFx0XHRpZiAoaXNOYU4obG5nUikgfHwgbG5nUiA9PT0gMCkge1xuXHRcdFx0XHRsbmdSID0gbGF0UiAvIE1hdGguY29zKE1hdGguUEkgLyAxODAgKiBsYXQpOyAvLyBGYWxsYmFjayBmb3IgZWRnZSBjYXNlLCAjMjQyNVxuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLl9wb2ludCA9IHAuc3VidHJhY3QobWFwLmdldFBpeGVsT3JpZ2luKCkpO1xuXHRcdFx0dGhpcy5fcmFkaXVzID0gaXNOYU4obG5nUikgPyAwIDogTWF0aC5tYXgoTWF0aC5yb3VuZChwLnggLSBtYXAucHJvamVjdChbbGF0MiwgbG5nIC0gbG5nUl0pLngpLCAxKTtcblx0XHRcdHRoaXMuX3JhZGl1c1kgPSBNYXRoLm1heChNYXRoLnJvdW5kKHAueSAtIHRvcC55KSwgMSk7XG5cblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFyIGxhdGxuZzIgPSBjcnMudW5wcm9qZWN0KGNycy5wcm9qZWN0KHRoaXMuX2xhdGxuZykuc3VidHJhY3QoW3RoaXMuX21SYWRpdXMsIDBdKSk7XG5cblx0XHRcdHRoaXMuX3BvaW50ID0gbWFwLmxhdExuZ1RvTGF5ZXJQb2ludCh0aGlzLl9sYXRsbmcpO1xuXHRcdFx0dGhpcy5fcmFkaXVzID0gdGhpcy5fcG9pbnQueCAtIG1hcC5sYXRMbmdUb0xheWVyUG9pbnQobGF0bG5nMikueDtcblx0XHR9XG5cblx0XHR0aGlzLl91cGRhdGVCb3VuZHMoKTtcblx0fVxufSk7XG5cbi8vIEBmYWN0b3J5IEwuY2lyY2xlKGxhdGxuZzogTGF0TG5nLCBvcHRpb25zPzogQ2lyY2xlIG9wdGlvbnMpXG4vLyBJbnN0YW50aWF0ZXMgYSBjaXJjbGUgb2JqZWN0IGdpdmVuIGEgZ2VvZ3JhcGhpY2FsIHBvaW50LCBhbmQgYW4gb3B0aW9ucyBvYmplY3Rcbi8vIHdoaWNoIGNvbnRhaW5zIHRoZSBjaXJjbGUgcmFkaXVzLlxuLy8gQGFsdGVybmF0aXZlXG4vLyBAZmFjdG9yeSBMLmNpcmNsZShsYXRsbmc6IExhdExuZywgcmFkaXVzOiBOdW1iZXIsIG9wdGlvbnM/OiBDaXJjbGUgb3B0aW9ucylcbi8vIE9ic29sZXRlIHdheSBvZiBpbnN0YW50aWF0aW5nIGEgY2lyY2xlLCBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIDAuNy54IGNvZGUuXG4vLyBEbyBub3QgdXNlIGluIG5ldyBhcHBsaWNhdGlvbnMgb3IgcGx1Z2lucy5cbkwuY2lyY2xlID0gZnVuY3Rpb24gKGxhdGxuZywgb3B0aW9ucywgbGVnYWN5T3B0aW9ucykge1xuXHRyZXR1cm4gbmV3IEwuQ2lyY2xlKGxhdGxuZywgb3B0aW9ucywgbGVnYWN5T3B0aW9ucyk7XG59O1xuXG4vKlxuICogQGNsYXNzIFNWR1xuICogQGluaGVyaXRzIFJlbmRlcmVyXG4gKiBAYWthIEwuU1ZHXG4gKlxuICogQWxsb3dzIHZlY3RvciBsYXllcnMgdG8gYmUgZGlzcGxheWVkIHdpdGggW1NWR10oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvU1ZHKS5cbiAqIEluaGVyaXRzIGBSZW5kZXJlcmAuXG4gKlxuICogRHVlIHRvIFt0ZWNobmljYWwgbGltaXRhdGlvbnNdKGh0dHA6Ly9jYW5pdXNlLmNvbS8jc2VhcmNoPXN2ZyksIFNWRyBpcyBub3RcbiAqIGF2YWlsYWJsZSBpbiBhbGwgd2ViIGJyb3dzZXJzLCBub3RhYmx5IEFuZHJvaWQgMi54IGFuZCAzLnguXG4gKlxuICogQWx0aG91Z2ggU1ZHIGlzIG5vdCBhdmFpbGFibGUgb24gSUU3IGFuZCBJRTgsIHRoZXNlIGJyb3dzZXJzIHN1cHBvcnRcbiAqIFtWTUxdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1ZlY3Rvcl9NYXJrdXBfTGFuZ3VhZ2UpXG4gKiAoYSBub3cgZGVwcmVjYXRlZCB0ZWNobm9sb2d5KSwgYW5kIHRoZSBTVkcgcmVuZGVyZXIgd2lsbCBmYWxsIGJhY2sgdG8gVk1MIGluXG4gKiB0aGlzIGNhc2UuXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiBVc2UgU1ZHIGJ5IGRlZmF1bHQgZm9yIGFsbCBwYXRocyBpbiB0aGUgbWFwOlxuICpcbiAqIGBgYGpzXG4gKiB2YXIgbWFwID0gTC5tYXAoJ21hcCcsIHtcbiAqIFx0cmVuZGVyZXI6IEwuc3ZnKClcbiAqIH0pO1xuICogYGBgXG4gKlxuICogVXNlIGEgU1ZHIHJlbmRlcmVyIHdpdGggZXh0cmEgcGFkZGluZyBmb3Igc3BlY2lmaWMgdmVjdG9yIGdlb21ldHJpZXM6XG4gKlxuICogYGBganNcbiAqIHZhciBtYXAgPSBMLm1hcCgnbWFwJyk7XG4gKiB2YXIgbXlSZW5kZXJlciA9IEwuc3ZnKHsgcGFkZGluZzogMC41IH0pO1xuICogdmFyIGxpbmUgPSBMLnBvbHlsaW5lKCBjb29yZGluYXRlcywgeyByZW5kZXJlcjogbXlSZW5kZXJlciB9ICk7XG4gKiB2YXIgY2lyY2xlID0gTC5jaXJjbGUoIGNlbnRlciwgeyByZW5kZXJlcjogbXlSZW5kZXJlciB9ICk7XG4gKiBgYGBcbiAqL1xuXG5MLlNWRyA9IEwuUmVuZGVyZXIuZXh0ZW5kKHtcblxuXHRnZXRFdmVudHM6IGZ1bmN0aW9uICgpIHtcblx0XHR2YXIgZXZlbnRzID0gTC5SZW5kZXJlci5wcm90b3R5cGUuZ2V0RXZlbnRzLmNhbGwodGhpcyk7XG5cdFx0ZXZlbnRzLnpvb21zdGFydCA9IHRoaXMuX29uWm9vbVN0YXJ0O1xuXHRcdHJldHVybiBldmVudHM7XG5cdH0sXG5cblx0X2luaXRDb250YWluZXI6IGZ1bmN0aW9uICgpIHtcblx0XHR0aGlzLl9jb250YWluZXIgPSBMLlNWRy5jcmVhdGUoJ3N2ZycpO1xuXG5cdFx0Ly8gbWFrZXMgaXQgcG9zc2libGUgdG8gY2xpY2sgdGhyb3VnaCBzdmcgcm9vdDsgd2UnbGwgcmVzZXQgaXQgYmFjayBpbiBpbmRpdmlkdWFsIHBhdGhzXG5cdFx0dGhpcy5fY29udGFpbmVyLnNldEF0dHJpYnV0ZSgncG9pbnRlci1ldmVudHMnLCAnbm9uZScpO1xuXG5cdFx0dGhpcy5fcm9vdEdyb3VwID0gTC5TVkcuY3JlYXRlKCdnJyk7XG5cdFx0dGhpcy5fY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuX3Jvb3RHcm91cCk7XG5cdH0sXG5cblx0X29uWm9vbVN0YXJ0OiBmdW5jdGlvbiAoKSB7XG5cdFx0Ly8gRHJhZy10aGVuLXBpbmNoIGludGVyYWN0aW9ucyBtaWdodCBtZXNzIHVwIHRoZSBjZW50ZXIgYW5kIHpvb20uXG5cdFx0Ly8gSW4gdGhpcyBjYXNlLCB0aGUgZWFzaWVzdCB3YXkgdG8gcHJldmVudCB0aGlzIGlzIHJlLWRvIHRoZSByZW5kZXJlclxuXHRcdC8vICAgYm91bmRzIGFuZCBwYWRkaW5nIHdoZW4gdGhlIHpvb21pbmcgc3RhcnRzLlxuXHRcdHRoaXMuX3VwZGF0ZSgpO1xuXHR9LFxuXG5cdF91cGRhdGU6IGZ1bmN0aW9uICgpIHtcblx0XHRpZiAodGhpcy5fbWFwLl9hbmltYXRpbmdab29tICYmIHRoaXMuX2JvdW5kcykgeyByZXR1cm47IH1cblxuXHRcdEwuUmVuZGVyZXIucHJvdG90eXBlLl91cGRhdGUuY2FsbCh0aGlzKTtcblxuXHRcdHZhciBiID0gdGhpcy5fYm91bmRzLFxuXHRcdCAgICBzaXplID0gYi5nZXRTaXplKCksXG5cdFx0ICAgIGNvbnRhaW5lciA9IHRoaXMuX2NvbnRhaW5lcjtcblxuXHRcdC8vIHNldCBzaXplIG9mIHN2Zy1jb250YWluZXIgaWYgY2hhbmdlZFxuXHRcdGlmICghdGhpcy5fc3ZnU2l6ZSB8fCAhdGhpcy5fc3ZnU2l6ZS5lcXVhbHMoc2l6ZSkpIHtcblx0XHRcdHRoaXMuX3N2Z1NpemUgPSBzaXplO1xuXHRcdFx0Y29udGFpbmVyLnNldEF0dHJpYnV0ZSgnd2lkdGgnLCBzaXplLngpO1xuXHRcdFx0Y29udGFpbmVyLnNldEF0dHJpYnV0ZSgnaGVpZ2h0Jywgc2l6ZS55KTtcblx0XHR9XG5cblx0XHQvLyBtb3ZlbWVudDogdXBkYXRlIGNvbnRhaW5lciB2aWV3Qm94IHNvIHRoYXQgd2UgZG9uJ3QgaGF2ZSB0byBjaGFuZ2UgY29vcmRpbmF0ZXMgb2YgaW5kaXZpZHVhbCBsYXllcnNcblx0XHRMLkRvbVV0aWwuc2V0UG9zaXRpb24oY29udGFpbmVyLCBiLm1pbik7XG5cdFx0Y29udGFpbmVyLnNldEF0dHJpYnV0ZSgndmlld0JveCcsIFtiLm1pbi54LCBiLm1pbi55LCBzaXplLngsIHNpemUueV0uam9pbignICcpKTtcblxuXHRcdHRoaXMuZmlyZSgndXBkYXRlJyk7XG5cdH0sXG5cblx0Ly8gbWV0aG9kcyBiZWxvdyBhcmUgY2FsbGVkIGJ5IHZlY3RvciBsYXllcnMgaW1wbGVtZW50YXRpb25zXG5cblx0X2luaXRQYXRoOiBmdW5jdGlvbiAobGF5ZXIpIHtcblx0XHR2YXIgcGF0aCA9IGxheWVyLl9wYXRoID0gTC5TVkcuY3JlYXRlKCdwYXRoJyk7XG5cblx0XHQvLyBAbmFtZXNwYWNlIFBhdGhcblx0XHQvLyBAb3B0aW9uIGNsYXNzTmFtZTogU3RyaW5nID0gbnVsbFxuXHRcdC8vIEN1c3RvbSBjbGFzcyBuYW1lIHNldCBvbiBhbiBlbGVtZW50LiBPbmx5IGZvciBTVkcgcmVuZGVyZXIuXG5cdFx0aWYgKGxheWVyLm9wdGlvbnMuY2xhc3NOYW1lKSB7XG5cdFx0XHRMLkRvbVV0aWwuYWRkQ2xhc3MocGF0aCwgbGF5ZXIub3B0aW9ucy5jbGFzc05hbWUpO1xuXHRcdH1cblxuXHRcdGlmIChsYXllci5vcHRpb25zLmludGVyYWN0aXZlKSB7XG5cdFx0XHRMLkRvbVV0aWwuYWRkQ2xhc3MocGF0aCwgJ2xlYWZsZXQtaW50ZXJhY3RpdmUnKTtcblx0XHR9XG5cblx0XHR0aGlzLl91cGRhdGVTdHlsZShsYXllcik7XG5cdH0sXG5cblx0X2FkZFBhdGg6IGZ1bmN0aW9uIChsYXllcikge1xuXHRcdHRoaXMuX3Jvb3RHcm91cC5hcHBlbmRDaGlsZChsYXllci5fcGF0aCk7XG5cdFx0bGF5ZXIuYWRkSW50ZXJhY3RpdmVUYXJnZXQobGF5ZXIuX3BhdGgpO1xuXHR9LFxuXG5cdF9yZW1vdmVQYXRoOiBmdW5jdGlvbiAobGF5ZXIpIHtcblx0XHRMLkRvbVV0aWwucmVtb3ZlKGxheWVyLl9wYXRoKTtcblx0XHRsYXllci5yZW1vdmVJbnRlcmFjdGl2ZVRhcmdldChsYXllci5fcGF0aCk7XG5cdH0sXG5cblx0X3VwZGF0ZVBhdGg6IGZ1bmN0aW9uIChsYXllcikge1xuXHRcdGxheWVyLl9wcm9qZWN0KCk7XG5cdFx0bGF5ZXIuX3VwZGF0ZSgpO1xuXHR9LFxuXG5cdF91cGRhdGVTdHlsZTogZnVuY3Rpb24gKGxheWVyKSB7XG5cdFx0dmFyIHBhdGggPSBsYXllci5fcGF0aCxcblx0XHQgICAgb3B0aW9ucyA9IGxheWVyLm9wdGlvbnM7XG5cblx0XHRpZiAoIXBhdGgpIHsgcmV0dXJuOyB9XG5cblx0XHRpZiAob3B0aW9ucy5zdHJva2UpIHtcblx0XHRcdHBhdGguc2V0QXR0cmlidXRlKCdzdHJva2UnLCBvcHRpb25zLmNvbG9yKTtcblx0XHRcdHBhdGguc2V0QXR0cmlidXRlKCdzdHJva2Utb3BhY2l0eScsIG9wdGlvbnMub3BhY2l0eSk7XG5cdFx0XHRwYXRoLnNldEF0dHJpYnV0ZSgnc3Ryb2tlLXdpZHRoJywgb3B0aW9ucy53ZWlnaHQpO1xuXHRcdFx0cGF0aC5zZXRBdHRyaWJ1dGUoJ3N0cm9rZS1saW5lY2FwJywgb3B0aW9ucy5saW5lQ2FwKTtcblx0XHRcdHBhdGguc2V0QXR0cmlidXRlKCdzdHJva2UtbGluZWpvaW4nLCBvcHRpb25zLmxpbmVKb2luKTtcblxuXHRcdFx0aWYgKG9wdGlvbnMuZGFzaEFycmF5KSB7XG5cdFx0XHRcdHBhdGguc2V0QXR0cmlidXRlKCdzdHJva2UtZGFzaGFycmF5Jywgb3B0aW9ucy5kYXNoQXJyYXkpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cGF0aC5yZW1vdmVBdHRyaWJ1dGUoJ3N0cm9rZS1kYXNoYXJyYXknKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKG9wdGlvbnMuZGFzaE9mZnNldCkge1xuXHRcdFx0XHRwYXRoLnNldEF0dHJpYnV0ZSgnc3Ryb2tlLWRhc2hvZmZzZXQnLCBvcHRpb25zLmRhc2hPZmZzZXQpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cGF0aC5yZW1vdmVBdHRyaWJ1dGUoJ3N0cm9rZS1kYXNob2Zmc2V0Jyk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdHBhdGguc2V0QXR0cmlidXRlKCdzdHJva2UnLCAnbm9uZScpO1xuXHRcdH1cblxuXHRcdGlmIChvcHRpb25zLmZpbGwpIHtcblx0XHRcdHBhdGguc2V0QXR0cmlidXRlKCdmaWxsJywgb3B0aW9ucy5maWxsQ29sb3IgfHwgb3B0aW9ucy5jb2xvcik7XG5cdFx0XHRwYXRoLnNldEF0dHJpYnV0ZSgnZmlsbC1vcGFjaXR5Jywgb3B0aW9ucy5maWxsT3BhY2l0eSk7XG5cdFx0XHRwYXRoLnNldEF0dHJpYnV0ZSgnZmlsbC1ydWxlJywgb3B0aW9ucy5maWxsUnVsZSB8fCAnZXZlbm9kZCcpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRwYXRoLnNldEF0dHJpYnV0ZSgnZmlsbCcsICdub25lJyk7XG5cdFx0fVxuXHR9LFxuXG5cdF91cGRhdGVQb2x5OiBmdW5jdGlvbiAobGF5ZXIsIGNsb3NlZCkge1xuXHRcdHRoaXMuX3NldFBhdGgobGF5ZXIsIEwuU1ZHLnBvaW50c1RvUGF0aChsYXllci5fcGFydHMsIGNsb3NlZCkpO1xuXHR9LFxuXG5cdF91cGRhdGVDaXJjbGU6IGZ1bmN0aW9uIChsYXllcikge1xuXHRcdHZhciBwID0gbGF5ZXIuX3BvaW50LFxuXHRcdCAgICByID0gbGF5ZXIuX3JhZGl1cyxcblx0XHQgICAgcjIgPSBsYXllci5fcmFkaXVzWSB8fCByLFxuXHRcdCAgICBhcmMgPSAnYScgKyByICsgJywnICsgcjIgKyAnIDAgMSwwICc7XG5cblx0XHQvLyBkcmF3aW5nIGEgY2lyY2xlIHdpdGggdHdvIGhhbGYtYXJjc1xuXHRcdHZhciBkID0gbGF5ZXIuX2VtcHR5KCkgPyAnTTAgMCcgOlxuXHRcdFx0XHQnTScgKyAocC54IC0gcikgKyAnLCcgKyBwLnkgK1xuXHRcdFx0XHRhcmMgKyAociAqIDIpICsgJywwICcgK1xuXHRcdFx0XHRhcmMgKyAoLXIgKiAyKSArICcsMCAnO1xuXG5cdFx0dGhpcy5fc2V0UGF0aChsYXllciwgZCk7XG5cdH0sXG5cblx0X3NldFBhdGg6IGZ1bmN0aW9uIChsYXllciwgcGF0aCkge1xuXHRcdGxheWVyLl9wYXRoLnNldEF0dHJpYnV0ZSgnZCcsIHBhdGgpO1xuXHR9LFxuXG5cdC8vIFNWRyBkb2VzIG5vdCBoYXZlIHRoZSBjb25jZXB0IG9mIHpJbmRleCBzbyB3ZSByZXNvcnQgdG8gY2hhbmdpbmcgdGhlIERPTSBvcmRlciBvZiBlbGVtZW50c1xuXHRfYnJpbmdUb0Zyb250OiBmdW5jdGlvbiAobGF5ZXIpIHtcblx0XHRMLkRvbVV0aWwudG9Gcm9udChsYXllci5fcGF0aCk7XG5cdH0sXG5cblx0X2JyaW5nVG9CYWNrOiBmdW5jdGlvbiAobGF5ZXIpIHtcblx0XHRMLkRvbVV0aWwudG9CYWNrKGxheWVyLl9wYXRoKTtcblx0fVxufSk7XG5cblxuLy8gQG5hbWVzcGFjZSBTVkc7IEBzZWN0aW9uXG4vLyBUaGVyZSBhcmUgc2V2ZXJhbCBzdGF0aWMgZnVuY3Rpb25zIHdoaWNoIGNhbiBiZSBjYWxsZWQgd2l0aG91dCBpbnN0YW50aWF0aW5nIEwuU1ZHOlxuTC5leHRlbmQoTC5TVkcsIHtcblx0Ly8gQGZ1bmN0aW9uIGNyZWF0ZShuYW1lOiBTdHJpbmcpOiBTVkdFbGVtZW50XG5cdC8vIFJldHVybnMgYSBpbnN0YW5jZSBvZiBbU1ZHRWxlbWVudF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvQVBJL1NWR0VsZW1lbnQpLFxuXHQvLyBjb3JyZXNwb25kaW5nIHRvIHRoZSBjbGFzcyBuYW1lIHBhc3NlZC4gRm9yIGV4YW1wbGUsIHVzaW5nICdsaW5lJyB3aWxsIHJldHVyblxuXHQvLyBhbiBpbnN0YW5jZSBvZiBbU1ZHTGluZUVsZW1lbnRdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL0FQSS9TVkdMaW5lRWxlbWVudCkuXG5cdGNyZWF0ZTogZnVuY3Rpb24gKG5hbWUpIHtcblx0XHRyZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsIG5hbWUpO1xuXHR9LFxuXG5cdC8vIEBmdW5jdGlvbiBwb2ludHNUb1BhdGgocmluZ3M6IFBvaW50W10sIGNsb3NlZDogQm9vbGVhbik6IFN0cmluZ1xuXHQvLyBHZW5lcmF0ZXMgYSBTVkcgcGF0aCBzdHJpbmcgZm9yIG11bHRpcGxlIHJpbmdzLCB3aXRoIGVhY2ggcmluZyB0dXJuaW5nXG5cdC8vIGludG8gXCJNLi5MLi5MLi5cIiBpbnN0cnVjdGlvbnNcblx0cG9pbnRzVG9QYXRoOiBmdW5jdGlvbiAocmluZ3MsIGNsb3NlZCkge1xuXHRcdHZhciBzdHIgPSAnJyxcblx0XHQgICAgaSwgaiwgbGVuLCBsZW4yLCBwb2ludHMsIHA7XG5cblx0XHRmb3IgKGkgPSAwLCBsZW4gPSByaW5ncy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuXHRcdFx0cG9pbnRzID0gcmluZ3NbaV07XG5cblx0XHRcdGZvciAoaiA9IDAsIGxlbjIgPSBwb2ludHMubGVuZ3RoOyBqIDwgbGVuMjsgaisrKSB7XG5cdFx0XHRcdHAgPSBwb2ludHNbal07XG5cdFx0XHRcdHN0ciArPSAoaiA/ICdMJyA6ICdNJykgKyBwLnggKyAnICcgKyBwLnk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIGNsb3NlcyB0aGUgcmluZyBmb3IgcG9seWdvbnM7IFwieFwiIGlzIFZNTCBzeW50YXhcblx0XHRcdHN0ciArPSBjbG9zZWQgPyAoTC5Ccm93c2VyLnN2ZyA/ICd6JyA6ICd4JykgOiAnJztcblx0XHR9XG5cblx0XHQvLyBTVkcgY29tcGxhaW5zIGFib3V0IGVtcHR5IHBhdGggc3RyaW5nc1xuXHRcdHJldHVybiBzdHIgfHwgJ00wIDAnO1xuXHR9XG59KTtcblxuLy8gQG5hbWVzcGFjZSBCcm93c2VyOyBAcHJvcGVydHkgc3ZnOiBCb29sZWFuXG4vLyBgdHJ1ZWAgd2hlbiB0aGUgYnJvd3NlciBzdXBwb3J0cyBbU1ZHXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9kb2NzL1dlYi9TVkcpLlxuTC5Ccm93c2VyLnN2ZyA9ICEhKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyAmJiBMLlNWRy5jcmVhdGUoJ3N2ZycpLmNyZWF0ZVNWR1JlY3QpO1xuXG5cbi8vIEBuYW1lc3BhY2UgU1ZHXG4vLyBAZmFjdG9yeSBMLnN2ZyhvcHRpb25zPzogUmVuZGVyZXIgb3B0aW9ucylcbi8vIENyZWF0ZXMgYSBTVkcgcmVuZGVyZXIgd2l0aCB0aGUgZ2l2ZW4gb3B0aW9ucy5cbkwuc3ZnID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcblx0cmV0dXJuIEwuQnJvd3Nlci5zdmcgfHwgTC5Ccm93c2VyLnZtbCA/IG5ldyBMLlNWRyhvcHRpb25zKSA6IG51bGw7XG59O1xuXG4vKlxuICogVGhhbmtzIHRvIERtaXRyeSBCYXJhbm92c2t5IGFuZCBoaXMgUmFwaGFlbCBsaWJyYXJ5IGZvciBpbnNwaXJhdGlvbiFcbiAqL1xuXG4vKlxuICogQGNsYXNzIFNWR1xuICpcbiAqIEFsdGhvdWdoIFNWRyBpcyBub3QgYXZhaWxhYmxlIG9uIElFNyBhbmQgSUU4LCB0aGVzZSBicm93c2VycyBzdXBwb3J0IFtWTUxdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1ZlY3Rvcl9NYXJrdXBfTGFuZ3VhZ2UpLCBhbmQgdGhlIFNWRyByZW5kZXJlciB3aWxsIGZhbGwgYmFjayB0byBWTUwgaW4gdGhpcyBjYXNlLlxuICpcbiAqIFZNTCB3YXMgZGVwcmVjYXRlZCBpbiAyMDEyLCB3aGljaCBtZWFucyBWTUwgZnVuY3Rpb25hbGl0eSBleGlzdHMgb25seSBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHlcbiAqIHdpdGggb2xkIHZlcnNpb25zIG9mIEludGVybmV0IEV4cGxvcmVyLlxuICovXG5cbi8vIEBuYW1lc3BhY2UgQnJvd3NlcjsgQHByb3BlcnR5IHZtbDogQm9vbGVhblxuLy8gYHRydWVgIGlmIHRoZSBicm93c2VyIHN1cHBvcnRzIFtWTUxdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1ZlY3Rvcl9NYXJrdXBfTGFuZ3VhZ2UpLlxuTC5Ccm93c2VyLnZtbCA9ICFMLkJyb3dzZXIuc3ZnICYmIChmdW5jdGlvbiAoKSB7XG5cdHRyeSB7XG5cdFx0dmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHRcdGRpdi5pbm5lckhUTUwgPSAnPHY6c2hhcGUgYWRqPVwiMVwiLz4nO1xuXG5cdFx0dmFyIHNoYXBlID0gZGl2LmZpcnN0Q2hpbGQ7XG5cdFx0c2hhcGUuc3R5bGUuYmVoYXZpb3IgPSAndXJsKCNkZWZhdWx0I1ZNTCknO1xuXG5cdFx0cmV0dXJuIHNoYXBlICYmICh0eXBlb2Ygc2hhcGUuYWRqID09PSAnb2JqZWN0Jyk7XG5cblx0fSBjYXRjaCAoZSkge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxufSgpKTtcblxuLy8gcmVkZWZpbmUgc29tZSBTVkcgbWV0aG9kcyB0byBoYW5kbGUgVk1MIHN5bnRheCB3aGljaCBpcyBzaW1pbGFyIGJ1dCB3aXRoIHNvbWUgZGlmZmVyZW5jZXNcbkwuU1ZHLmluY2x1ZGUoIUwuQnJvd3Nlci52bWwgPyB7fSA6IHtcblxuXHRfaW5pdENvbnRhaW5lcjogZnVuY3Rpb24gKCkge1xuXHRcdHRoaXMuX2NvbnRhaW5lciA9IEwuRG9tVXRpbC5jcmVhdGUoJ2RpdicsICdsZWFmbGV0LXZtbC1jb250YWluZXInKTtcblx0fSxcblxuXHRfdXBkYXRlOiBmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKHRoaXMuX21hcC5fYW5pbWF0aW5nWm9vbSkgeyByZXR1cm47IH1cblx0XHRMLlJlbmRlcmVyLnByb3RvdHlwZS5fdXBkYXRlLmNhbGwodGhpcyk7XG5cdFx0dGhpcy5maXJlKCd1cGRhdGUnKTtcblx0fSxcblxuXHRfaW5pdFBhdGg6IGZ1bmN0aW9uIChsYXllcikge1xuXHRcdHZhciBjb250YWluZXIgPSBsYXllci5fY29udGFpbmVyID0gTC5TVkcuY3JlYXRlKCdzaGFwZScpO1xuXG5cdFx0TC5Eb21VdGlsLmFkZENsYXNzKGNvbnRhaW5lciwgJ2xlYWZsZXQtdm1sLXNoYXBlICcgKyAodGhpcy5vcHRpb25zLmNsYXNzTmFtZSB8fCAnJykpO1xuXG5cdFx0Y29udGFpbmVyLmNvb3Jkc2l6ZSA9ICcxIDEnO1xuXG5cdFx0bGF5ZXIuX3BhdGggPSBMLlNWRy5jcmVhdGUoJ3BhdGgnKTtcblx0XHRjb250YWluZXIuYXBwZW5kQ2hpbGQobGF5ZXIuX3BhdGgpO1xuXG5cdFx0dGhpcy5fdXBkYXRlU3R5bGUobGF5ZXIpO1xuXHR9LFxuXG5cdF9hZGRQYXRoOiBmdW5jdGlvbiAobGF5ZXIpIHtcblx0XHR2YXIgY29udGFpbmVyID0gbGF5ZXIuX2NvbnRhaW5lcjtcblx0XHR0aGlzLl9jb250YWluZXIuYXBwZW5kQ2hpbGQoY29udGFpbmVyKTtcblxuXHRcdGlmIChsYXllci5vcHRpb25zLmludGVyYWN0aXZlKSB7XG5cdFx0XHRsYXllci5hZGRJbnRlcmFjdGl2ZVRhcmdldChjb250YWluZXIpO1xuXHRcdH1cblx0fSxcblxuXHRfcmVtb3ZlUGF0aDogZnVuY3Rpb24gKGxheWVyKSB7XG5cdFx0dmFyIGNvbnRhaW5lciA9IGxheWVyLl9jb250YWluZXI7XG5cdFx0TC5Eb21VdGlsLnJlbW92ZShjb250YWluZXIpO1xuXHRcdGxheWVyLnJlbW92ZUludGVyYWN0aXZlVGFyZ2V0KGNvbnRhaW5lcik7XG5cdH0sXG5cblx0X3VwZGF0ZVN0eWxlOiBmdW5jdGlvbiAobGF5ZXIpIHtcblx0XHR2YXIgc3Ryb2tlID0gbGF5ZXIuX3N0cm9rZSxcblx0XHQgICAgZmlsbCA9IGxheWVyLl9maWxsLFxuXHRcdCAgICBvcHRpb25zID0gbGF5ZXIub3B0aW9ucyxcblx0XHQgICAgY29udGFpbmVyID0gbGF5ZXIuX2NvbnRhaW5lcjtcblxuXHRcdGNvbnRhaW5lci5zdHJva2VkID0gISFvcHRpb25zLnN0cm9rZTtcblx0XHRjb250YWluZXIuZmlsbGVkID0gISFvcHRpb25zLmZpbGw7XG5cblx0XHRpZiAob3B0aW9ucy5zdHJva2UpIHtcblx0XHRcdGlmICghc3Ryb2tlKSB7XG5cdFx0XHRcdHN0cm9rZSA9IGxheWVyLl9zdHJva2UgPSBMLlNWRy5jcmVhdGUoJ3N0cm9rZScpO1xuXHRcdFx0fVxuXHRcdFx0Y29udGFpbmVyLmFwcGVuZENoaWxkKHN0cm9rZSk7XG5cdFx0XHRzdHJva2Uud2VpZ2h0ID0gb3B0aW9ucy53ZWlnaHQgKyAncHgnO1xuXHRcdFx0c3Ryb2tlLmNvbG9yID0gb3B0aW9ucy5jb2xvcjtcblx0XHRcdHN0cm9rZS5vcGFjaXR5ID0gb3B0aW9ucy5vcGFjaXR5O1xuXG5cdFx0XHRpZiAob3B0aW9ucy5kYXNoQXJyYXkpIHtcblx0XHRcdFx0c3Ryb2tlLmRhc2hTdHlsZSA9IEwuVXRpbC5pc0FycmF5KG9wdGlvbnMuZGFzaEFycmF5KSA/XG5cdFx0XHRcdCAgICBvcHRpb25zLmRhc2hBcnJheS5qb2luKCcgJykgOlxuXHRcdFx0XHQgICAgb3B0aW9ucy5kYXNoQXJyYXkucmVwbGFjZSgvKCAqLCAqKS9nLCAnICcpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0c3Ryb2tlLmRhc2hTdHlsZSA9ICcnO1xuXHRcdFx0fVxuXHRcdFx0c3Ryb2tlLmVuZGNhcCA9IG9wdGlvbnMubGluZUNhcC5yZXBsYWNlKCdidXR0JywgJ2ZsYXQnKTtcblx0XHRcdHN0cm9rZS5qb2luc3R5bGUgPSBvcHRpb25zLmxpbmVKb2luO1xuXG5cdFx0fSBlbHNlIGlmIChzdHJva2UpIHtcblx0XHRcdGNvbnRhaW5lci5yZW1vdmVDaGlsZChzdHJva2UpO1xuXHRcdFx0bGF5ZXIuX3N0cm9rZSA9IG51bGw7XG5cdFx0fVxuXG5cdFx0aWYgKG9wdGlvbnMuZmlsbCkge1xuXHRcdFx0aWYgKCFmaWxsKSB7XG5cdFx0XHRcdGZpbGwgPSBsYXllci5fZmlsbCA9IEwuU1ZHLmNyZWF0ZSgnZmlsbCcpO1xuXHRcdFx0fVxuXHRcdFx0Y29udGFpbmVyLmFwcGVuZENoaWxkKGZpbGwpO1xuXHRcdFx0ZmlsbC5jb2xvciA9IG9wdGlvbnMuZmlsbENvbG9yIHx8IG9wdGlvbnMuY29sb3I7XG5cdFx0XHRmaWxsLm9wYWNpdHkgPSBvcHRpb25zLmZpbGxPcGFjaXR5O1xuXG5cdFx0fSBlbHNlIGlmIChmaWxsKSB7XG5cdFx0XHRjb250YWluZXIucmVtb3ZlQ2hpbGQoZmlsbCk7XG5cdFx0XHRsYXllci5fZmlsbCA9IG51bGw7XG5cdFx0fVxuXHR9LFxuXG5cdF91cGRhdGVDaXJjbGU6IGZ1bmN0aW9uIChsYXllcikge1xuXHRcdHZhciBwID0gbGF5ZXIuX3BvaW50LnJvdW5kKCksXG5cdFx0ICAgIHIgPSBNYXRoLnJvdW5kKGxheWVyLl9yYWRpdXMpLFxuXHRcdCAgICByMiA9IE1hdGgucm91bmQobGF5ZXIuX3JhZGl1c1kgfHwgcik7XG5cblx0XHR0aGlzLl9zZXRQYXRoKGxheWVyLCBsYXllci5fZW1wdHkoKSA/ICdNMCAwJyA6XG5cdFx0XHRcdCdBTCAnICsgcC54ICsgJywnICsgcC55ICsgJyAnICsgciArICcsJyArIHIyICsgJyAwLCcgKyAoNjU1MzUgKiAzNjApKTtcblx0fSxcblxuXHRfc2V0UGF0aDogZnVuY3Rpb24gKGxheWVyLCBwYXRoKSB7XG5cdFx0bGF5ZXIuX3BhdGgudiA9IHBhdGg7XG5cdH0sXG5cblx0X2JyaW5nVG9Gcm9udDogZnVuY3Rpb24gKGxheWVyKSB7XG5cdFx0TC5Eb21VdGlsLnRvRnJvbnQobGF5ZXIuX2NvbnRhaW5lcik7XG5cdH0sXG5cblx0X2JyaW5nVG9CYWNrOiBmdW5jdGlvbiAobGF5ZXIpIHtcblx0XHRMLkRvbVV0aWwudG9CYWNrKGxheWVyLl9jb250YWluZXIpO1xuXHR9XG59KTtcblxuaWYgKEwuQnJvd3Nlci52bWwpIHtcblx0TC5TVkcuY3JlYXRlID0gKGZ1bmN0aW9uICgpIHtcblx0XHR0cnkge1xuXHRcdFx0ZG9jdW1lbnQubmFtZXNwYWNlcy5hZGQoJ2x2bWwnLCAndXJuOnNjaGVtYXMtbWljcm9zb2Z0LWNvbTp2bWwnKTtcblx0XHRcdHJldHVybiBmdW5jdGlvbiAobmFtZSkge1xuXHRcdFx0XHRyZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnPGx2bWw6JyArIG5hbWUgKyAnIGNsYXNzPVwibHZtbFwiPicpO1xuXHRcdFx0fTtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24gKG5hbWUpIHtcblx0XHRcdFx0cmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJzwnICsgbmFtZSArICcgeG1sbnM9XCJ1cm46c2NoZW1hcy1taWNyb3NvZnQuY29tOnZtbFwiIGNsYXNzPVwibHZtbFwiPicpO1xuXHRcdFx0fTtcblx0XHR9XG5cdH0pKCk7XG59XG5cbi8qXG4gKiBAY2xhc3MgQ2FudmFzXG4gKiBAaW5oZXJpdHMgUmVuZGVyZXJcbiAqIEBha2EgTC5DYW52YXNcbiAqXG4gKiBBbGxvd3MgdmVjdG9yIGxheWVycyB0byBiZSBkaXNwbGF5ZWQgd2l0aCBbYDxjYW52YXM+YF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvQVBJL0NhbnZhc19BUEkpLlxuICogSW5oZXJpdHMgYFJlbmRlcmVyYC5cbiAqXG4gKiBEdWUgdG8gW3RlY2huaWNhbCBsaW1pdGF0aW9uc10oaHR0cDovL2Nhbml1c2UuY29tLyNzZWFyY2g9Y2FudmFzKSwgQ2FudmFzIGlzIG5vdFxuICogYXZhaWxhYmxlIGluIGFsbCB3ZWIgYnJvd3NlcnMsIG5vdGFibHkgSUU4LCBhbmQgb3ZlcmxhcHBpbmcgZ2VvbWV0cmllcyBtaWdodFxuICogbm90IGRpc3BsYXkgcHJvcGVybHkgaW4gc29tZSBlZGdlIGNhc2VzLlxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogVXNlIENhbnZhcyBieSBkZWZhdWx0IGZvciBhbGwgcGF0aHMgaW4gdGhlIG1hcDpcbiAqXG4gKiBgYGBqc1xuICogdmFyIG1hcCA9IEwubWFwKCdtYXAnLCB7XG4gKiBcdHJlbmRlcmVyOiBMLmNhbnZhcygpXG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIFVzZSBhIENhbnZhcyByZW5kZXJlciB3aXRoIGV4dHJhIHBhZGRpbmcgZm9yIHNwZWNpZmljIHZlY3RvciBnZW9tZXRyaWVzOlxuICpcbiAqIGBgYGpzXG4gKiB2YXIgbWFwID0gTC5tYXAoJ21hcCcpO1xuICogdmFyIG15UmVuZGVyZXIgPSBMLmNhbnZhcyh7IHBhZGRpbmc6IDAuNSB9KTtcbiAqIHZhciBsaW5lID0gTC5wb2x5bGluZSggY29vcmRpbmF0ZXMsIHsgcmVuZGVyZXI6IG15UmVuZGVyZXIgfSApO1xuICogdmFyIGNpcmNsZSA9IEwuY2lyY2xlKCBjZW50ZXIsIHsgcmVuZGVyZXI6IG15UmVuZGVyZXIgfSApO1xuICogYGBgXG4gKi9cblxuTC5DYW52YXMgPSBMLlJlbmRlcmVyLmV4dGVuZCh7XG5cblx0b25BZGQ6IGZ1bmN0aW9uICgpIHtcblx0XHRMLlJlbmRlcmVyLnByb3RvdHlwZS5vbkFkZC5jYWxsKHRoaXMpO1xuXG5cdFx0dGhpcy5fbGF5ZXJzID0gdGhpcy5fbGF5ZXJzIHx8IHt9O1xuXG5cdFx0Ly8gUmVkcmF3IHZlY3RvcnMgc2luY2UgY2FudmFzIGlzIGNsZWFyZWQgdXBvbiByZW1vdmFsLFxuXHRcdC8vIGluIGNhc2Ugb2YgcmVtb3ZpbmcgdGhlIHJlbmRlcmVyIGl0c2VsZiBmcm9tIHRoZSBtYXAuXG5cdFx0dGhpcy5fZHJhdygpO1xuXHR9LFxuXG5cdF9pbml0Q29udGFpbmVyOiBmdW5jdGlvbiAoKSB7XG5cdFx0dmFyIGNvbnRhaW5lciA9IHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuXG5cdFx0TC5Eb21FdmVudFxuXHRcdFx0Lm9uKGNvbnRhaW5lciwgJ21vdXNlbW92ZScsIEwuVXRpbC50aHJvdHRsZSh0aGlzLl9vbk1vdXNlTW92ZSwgMzIsIHRoaXMpLCB0aGlzKVxuXHRcdFx0Lm9uKGNvbnRhaW5lciwgJ2NsaWNrIGRibGNsaWNrIG1vdXNlZG93biBtb3VzZXVwIGNvbnRleHRtZW51JywgdGhpcy5fb25DbGljaywgdGhpcylcblx0XHRcdC5vbihjb250YWluZXIsICdtb3VzZW91dCcsIHRoaXMuX2hhbmRsZU1vdXNlT3V0LCB0aGlzKTtcblxuXHRcdHRoaXMuX2N0eCA9IGNvbnRhaW5lci5nZXRDb250ZXh0KCcyZCcpO1xuXHR9LFxuXG5cdF91cGRhdGU6IGZ1bmN0aW9uICgpIHtcblx0XHRpZiAodGhpcy5fbWFwLl9hbmltYXRpbmdab29tICYmIHRoaXMuX2JvdW5kcykgeyByZXR1cm47IH1cblxuXHRcdHRoaXMuX2RyYXduTGF5ZXJzID0ge307XG5cblx0XHRMLlJlbmRlcmVyLnByb3RvdHlwZS5fdXBkYXRlLmNhbGwodGhpcyk7XG5cblx0XHR2YXIgYiA9IHRoaXMuX2JvdW5kcyxcblx0XHQgICAgY29udGFpbmVyID0gdGhpcy5fY29udGFpbmVyLFxuXHRcdCAgICBzaXplID0gYi5nZXRTaXplKCksXG5cdFx0ICAgIG0gPSBMLkJyb3dzZXIucmV0aW5hID8gMiA6IDE7XG5cblx0XHRMLkRvbVV0aWwuc2V0UG9zaXRpb24oY29udGFpbmVyLCBiLm1pbik7XG5cblx0XHQvLyBzZXQgY2FudmFzIHNpemUgKGFsc28gY2xlYXJpbmcgaXQpOyB1c2UgZG91YmxlIHNpemUgb24gcmV0aW5hXG5cdFx0Y29udGFpbmVyLndpZHRoID0gbSAqIHNpemUueDtcblx0XHRjb250YWluZXIuaGVpZ2h0ID0gbSAqIHNpemUueTtcblx0XHRjb250YWluZXIuc3R5bGUud2lkdGggPSBzaXplLnggKyAncHgnO1xuXHRcdGNvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSBzaXplLnkgKyAncHgnO1xuXG5cdFx0aWYgKEwuQnJvd3Nlci5yZXRpbmEpIHtcblx0XHRcdHRoaXMuX2N0eC5zY2FsZSgyLCAyKTtcblx0XHR9XG5cblx0XHQvLyB0cmFuc2xhdGUgc28gd2UgdXNlIHRoZSBzYW1lIHBhdGggY29vcmRpbmF0ZXMgYWZ0ZXIgY2FudmFzIGVsZW1lbnQgbW92ZXNcblx0XHR0aGlzLl9jdHgudHJhbnNsYXRlKC1iLm1pbi54LCAtYi5taW4ueSk7XG5cblx0XHQvLyBUZWxsIHBhdGhzIHRvIHJlZHJhdyB0aGVtc2VsdmVzXG5cdFx0dGhpcy5maXJlKCd1cGRhdGUnKTtcblx0fSxcblxuXHRfaW5pdFBhdGg6IGZ1bmN0aW9uIChsYXllcikge1xuXHRcdHRoaXMuX3VwZGF0ZURhc2hBcnJheShsYXllcik7XG5cdFx0dGhpcy5fbGF5ZXJzW0wuc3RhbXAobGF5ZXIpXSA9IGxheWVyO1xuXHR9LFxuXG5cdF9hZGRQYXRoOiBMLlV0aWwuZmFsc2VGbixcblxuXHRfcmVtb3ZlUGF0aDogZnVuY3Rpb24gKGxheWVyKSB7XG5cdFx0bGF5ZXIuX3JlbW92ZWQgPSB0cnVlO1xuXHRcdHRoaXMuX3JlcXVlc3RSZWRyYXcobGF5ZXIpO1xuXHR9LFxuXG5cdF91cGRhdGVQYXRoOiBmdW5jdGlvbiAobGF5ZXIpIHtcblx0XHR0aGlzLl9yZWRyYXdCb3VuZHMgPSBsYXllci5fcHhCb3VuZHM7XG5cdFx0dGhpcy5fZHJhdyh0cnVlKTtcblx0XHRsYXllci5fcHJvamVjdCgpO1xuXHRcdGxheWVyLl91cGRhdGUoKTtcblx0XHR0aGlzLl9kcmF3KCk7XG5cdFx0dGhpcy5fcmVkcmF3Qm91bmRzID0gbnVsbDtcblx0fSxcblxuXHRfdXBkYXRlU3R5bGU6IGZ1bmN0aW9uIChsYXllcikge1xuXHRcdHRoaXMuX3VwZGF0ZURhc2hBcnJheShsYXllcik7XG5cdFx0dGhpcy5fcmVxdWVzdFJlZHJhdyhsYXllcik7XG5cdH0sXG5cblx0X3VwZGF0ZURhc2hBcnJheTogZnVuY3Rpb24gKGxheWVyKSB7XG5cdFx0aWYgKGxheWVyLm9wdGlvbnMuZGFzaEFycmF5KSB7XG5cdFx0XHR2YXIgcGFydHMgPSBsYXllci5vcHRpb25zLmRhc2hBcnJheS5zcGxpdCgnLCcpLFxuXHRcdFx0ICAgIGRhc2hBcnJheSA9IFtdLFxuXHRcdFx0ICAgIGk7XG5cdFx0XHRmb3IgKGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0ZGFzaEFycmF5LnB1c2goTnVtYmVyKHBhcnRzW2ldKSk7XG5cdFx0XHR9XG5cdFx0XHRsYXllci5vcHRpb25zLl9kYXNoQXJyYXkgPSBkYXNoQXJyYXk7XG5cdFx0fVxuXHR9LFxuXG5cdF9yZXF1ZXN0UmVkcmF3OiBmdW5jdGlvbiAobGF5ZXIpIHtcblx0XHRpZiAoIXRoaXMuX21hcCkgeyByZXR1cm47IH1cblxuXHRcdHZhciBwYWRkaW5nID0gKGxheWVyLm9wdGlvbnMud2VpZ2h0IHx8IDApICsgMTtcblx0XHR0aGlzLl9yZWRyYXdCb3VuZHMgPSB0aGlzLl9yZWRyYXdCb3VuZHMgfHwgbmV3IEwuQm91bmRzKCk7XG5cdFx0dGhpcy5fcmVkcmF3Qm91bmRzLmV4dGVuZChsYXllci5fcHhCb3VuZHMubWluLnN1YnRyYWN0KFtwYWRkaW5nLCBwYWRkaW5nXSkpO1xuXHRcdHRoaXMuX3JlZHJhd0JvdW5kcy5leHRlbmQobGF5ZXIuX3B4Qm91bmRzLm1heC5hZGQoW3BhZGRpbmcsIHBhZGRpbmddKSk7XG5cblx0XHR0aGlzLl9yZWRyYXdSZXF1ZXN0ID0gdGhpcy5fcmVkcmF3UmVxdWVzdCB8fCBMLlV0aWwucmVxdWVzdEFuaW1GcmFtZSh0aGlzLl9yZWRyYXcsIHRoaXMpO1xuXHR9LFxuXG5cdF9yZWRyYXc6IGZ1bmN0aW9uICgpIHtcblx0XHR0aGlzLl9yZWRyYXdSZXF1ZXN0ID0gbnVsbDtcblxuXHRcdHRoaXMuX2RyYXcodHJ1ZSk7IC8vIGNsZWFyIGxheWVycyBpbiByZWRyYXcgYm91bmRzXG5cdFx0dGhpcy5fZHJhdygpOyAvLyBkcmF3IGxheWVyc1xuXG5cdFx0dGhpcy5fcmVkcmF3Qm91bmRzID0gbnVsbDtcblx0fSxcblxuXHRfZHJhdzogZnVuY3Rpb24gKGNsZWFyKSB7XG5cdFx0dGhpcy5fY2xlYXIgPSBjbGVhcjtcblx0XHR2YXIgbGF5ZXIsIGJvdW5kcyA9IHRoaXMuX3JlZHJhd0JvdW5kcztcblx0XHR0aGlzLl9jdHguc2F2ZSgpO1xuXHRcdGlmIChib3VuZHMpIHtcblx0XHRcdHRoaXMuX2N0eC5iZWdpblBhdGgoKTtcblx0XHRcdHRoaXMuX2N0eC5yZWN0KGJvdW5kcy5taW4ueCwgYm91bmRzLm1pbi55LCBib3VuZHMubWF4LnggLSBib3VuZHMubWluLngsIGJvdW5kcy5tYXgueSAtIGJvdW5kcy5taW4ueSk7XG5cdFx0XHR0aGlzLl9jdHguY2xpcCgpO1xuXHRcdH1cblxuXHRcdGZvciAodmFyIGlkIGluIHRoaXMuX2xheWVycykge1xuXHRcdFx0bGF5ZXIgPSB0aGlzLl9sYXllcnNbaWRdO1xuXHRcdFx0aWYgKCFib3VuZHMgfHwgKGxheWVyLl9weEJvdW5kcyAmJiBsYXllci5fcHhCb3VuZHMuaW50ZXJzZWN0cyhib3VuZHMpKSkge1xuXHRcdFx0XHRsYXllci5fdXBkYXRlUGF0aCgpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKGNsZWFyICYmIGxheWVyLl9yZW1vdmVkKSB7XG5cdFx0XHRcdGRlbGV0ZSBsYXllci5fcmVtb3ZlZDtcblx0XHRcdFx0ZGVsZXRlIHRoaXMuX2xheWVyc1tpZF07XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHRoaXMuX2N0eC5yZXN0b3JlKCk7ICAvLyBSZXN0b3JlIHN0YXRlIGJlZm9yZSBjbGlwcGluZy5cblx0fSxcblxuXHRfdXBkYXRlUG9seTogZnVuY3Rpb24gKGxheWVyLCBjbG9zZWQpIHtcblxuXHRcdHZhciBpLCBqLCBsZW4yLCBwLFxuXHRcdCAgICBwYXJ0cyA9IGxheWVyLl9wYXJ0cyxcblx0XHQgICAgbGVuID0gcGFydHMubGVuZ3RoLFxuXHRcdCAgICBjdHggPSB0aGlzLl9jdHg7XG5cblx0XHRpZiAoIWxlbikgeyByZXR1cm47IH1cblxuXHRcdHRoaXMuX2RyYXduTGF5ZXJzW2xheWVyLl9sZWFmbGV0X2lkXSA9IGxheWVyO1xuXG5cdFx0Y3R4LmJlZ2luUGF0aCgpO1xuXG5cdFx0aWYgKGN0eC5zZXRMaW5lRGFzaCkge1xuXHRcdFx0Y3R4LnNldExpbmVEYXNoKGxheWVyLm9wdGlvbnMgJiYgbGF5ZXIub3B0aW9ucy5fZGFzaEFycmF5IHx8IFtdKTtcblx0XHR9XG5cblx0XHRmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcblx0XHRcdGZvciAoaiA9IDAsIGxlbjIgPSBwYXJ0c1tpXS5sZW5ndGg7IGogPCBsZW4yOyBqKyspIHtcblx0XHRcdFx0cCA9IHBhcnRzW2ldW2pdO1xuXHRcdFx0XHRjdHhbaiA/ICdsaW5lVG8nIDogJ21vdmVUbyddKHAueCwgcC55KTtcblx0XHRcdH1cblx0XHRcdGlmIChjbG9zZWQpIHtcblx0XHRcdFx0Y3R4LmNsb3NlUGF0aCgpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHRoaXMuX2ZpbGxTdHJva2UoY3R4LCBsYXllcik7XG5cblx0XHQvLyBUT0RPIG9wdGltaXphdGlvbjogMSBmaWxsL3N0cm9rZSBmb3IgYWxsIGZlYXR1cmVzIHdpdGggZXF1YWwgc3R5bGUgaW5zdGVhZCBvZiAxIGZvciBlYWNoIGZlYXR1cmVcblx0fSxcblxuXHRfdXBkYXRlQ2lyY2xlOiBmdW5jdGlvbiAobGF5ZXIpIHtcblxuXHRcdGlmIChsYXllci5fZW1wdHkoKSkgeyByZXR1cm47IH1cblxuXHRcdHZhciBwID0gbGF5ZXIuX3BvaW50LFxuXHRcdCAgICBjdHggPSB0aGlzLl9jdHgsXG5cdFx0ICAgIHIgPSBsYXllci5fcmFkaXVzLFxuXHRcdCAgICBzID0gKGxheWVyLl9yYWRpdXNZIHx8IHIpIC8gcjtcblxuXHRcdHRoaXMuX2RyYXduTGF5ZXJzW2xheWVyLl9sZWFmbGV0X2lkXSA9IGxheWVyO1xuXG5cdFx0aWYgKHMgIT09IDEpIHtcblx0XHRcdGN0eC5zYXZlKCk7XG5cdFx0XHRjdHguc2NhbGUoMSwgcyk7XG5cdFx0fVxuXG5cdFx0Y3R4LmJlZ2luUGF0aCgpO1xuXHRcdGN0eC5hcmMocC54LCBwLnkgLyBzLCByLCAwLCBNYXRoLlBJICogMiwgZmFsc2UpO1xuXG5cdFx0aWYgKHMgIT09IDEpIHtcblx0XHRcdGN0eC5yZXN0b3JlKCk7XG5cdFx0fVxuXG5cdFx0dGhpcy5fZmlsbFN0cm9rZShjdHgsIGxheWVyKTtcblx0fSxcblxuXHRfZmlsbFN0cm9rZTogZnVuY3Rpb24gKGN0eCwgbGF5ZXIpIHtcblx0XHR2YXIgY2xlYXIgPSB0aGlzLl9jbGVhcixcblx0XHQgICAgb3B0aW9ucyA9IGxheWVyLm9wdGlvbnM7XG5cblx0XHRjdHguZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gY2xlYXIgPyAnZGVzdGluYXRpb24tb3V0JyA6ICdzb3VyY2Utb3Zlcic7XG5cblx0XHRpZiAob3B0aW9ucy5maWxsKSB7XG5cdFx0XHRjdHguZ2xvYmFsQWxwaGEgPSBjbGVhciA/IDEgOiBvcHRpb25zLmZpbGxPcGFjaXR5O1xuXHRcdFx0Y3R4LmZpbGxTdHlsZSA9IG9wdGlvbnMuZmlsbENvbG9yIHx8IG9wdGlvbnMuY29sb3I7XG5cdFx0XHRjdHguZmlsbChvcHRpb25zLmZpbGxSdWxlIHx8ICdldmVub2RkJyk7XG5cdFx0fVxuXG5cdFx0aWYgKG9wdGlvbnMuc3Ryb2tlICYmIG9wdGlvbnMud2VpZ2h0ICE9PSAwKSB7XG5cdFx0XHRjdHguZ2xvYmFsQWxwaGEgPSBjbGVhciA/IDEgOiBvcHRpb25zLm9wYWNpdHk7XG5cblx0XHRcdC8vIGlmIGNsZWFyaW5nIHNoYXBlLCBkbyBpdCB3aXRoIHRoZSBwcmV2aW91c2x5IGRyYXduIGxpbmUgd2lkdGhcblx0XHRcdGxheWVyLl9wcmV2V2VpZ2h0ID0gY3R4LmxpbmVXaWR0aCA9IGNsZWFyID8gbGF5ZXIuX3ByZXZXZWlnaHQgKyAxIDogb3B0aW9ucy53ZWlnaHQ7XG5cblx0XHRcdGN0eC5zdHJva2VTdHlsZSA9IG9wdGlvbnMuY29sb3I7XG5cdFx0XHRjdHgubGluZUNhcCA9IG9wdGlvbnMubGluZUNhcDtcblx0XHRcdGN0eC5saW5lSm9pbiA9IG9wdGlvbnMubGluZUpvaW47XG5cdFx0XHRjdHguc3Ryb2tlKCk7XG5cdFx0fVxuXHR9LFxuXG5cdC8vIENhbnZhcyBvYnZpb3VzbHkgZG9lc24ndCBoYXZlIG1vdXNlIGV2ZW50cyBmb3IgaW5kaXZpZHVhbCBkcmF3biBvYmplY3RzLFxuXHQvLyBzbyB3ZSBlbXVsYXRlIHRoYXQgYnkgY2FsY3VsYXRpbmcgd2hhdCdzIHVuZGVyIHRoZSBtb3VzZSBvbiBtb3VzZW1vdmUvY2xpY2sgbWFudWFsbHlcblxuXHRfb25DbGljazogZnVuY3Rpb24gKGUpIHtcblx0XHR2YXIgcG9pbnQgPSB0aGlzLl9tYXAubW91c2VFdmVudFRvTGF5ZXJQb2ludChlKSwgbGF5ZXJzID0gW10sIGxheWVyO1xuXG5cdFx0Zm9yICh2YXIgaWQgaW4gdGhpcy5fbGF5ZXJzKSB7XG5cdFx0XHRsYXllciA9IHRoaXMuX2xheWVyc1tpZF07XG5cdFx0XHRpZiAobGF5ZXIub3B0aW9ucy5pbnRlcmFjdGl2ZSAmJiBsYXllci5fY29udGFpbnNQb2ludChwb2ludCkgJiYgIXRoaXMuX21hcC5fZHJhZ2dhYmxlTW92ZWQobGF5ZXIpKSB7XG5cdFx0XHRcdEwuRG9tRXZlbnQuX2Zha2VTdG9wKGUpO1xuXHRcdFx0XHRsYXllcnMucHVzaChsYXllcik7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGlmIChsYXllcnMubGVuZ3RoKSAge1xuXHRcdFx0dGhpcy5fZmlyZUV2ZW50KGxheWVycywgZSk7XG5cdFx0fVxuXHR9LFxuXG5cdF9vbk1vdXNlTW92ZTogZnVuY3Rpb24gKGUpIHtcblx0XHRpZiAoIXRoaXMuX21hcCB8fCB0aGlzLl9tYXAuZHJhZ2dpbmcubW92aW5nKCkgfHwgdGhpcy5fbWFwLl9hbmltYXRpbmdab29tKSB7IHJldHVybjsgfVxuXG5cdFx0dmFyIHBvaW50ID0gdGhpcy5fbWFwLm1vdXNlRXZlbnRUb0xheWVyUG9pbnQoZSk7XG5cdFx0dGhpcy5faGFuZGxlTW91c2VPdXQoZSwgcG9pbnQpO1xuXHRcdHRoaXMuX2hhbmRsZU1vdXNlSG92ZXIoZSwgcG9pbnQpO1xuXHR9LFxuXG5cblx0X2hhbmRsZU1vdXNlT3V0OiBmdW5jdGlvbiAoZSwgcG9pbnQpIHtcblx0XHR2YXIgbGF5ZXIgPSB0aGlzLl9ob3ZlcmVkTGF5ZXI7XG5cdFx0aWYgKGxheWVyICYmIChlLnR5cGUgPT09ICdtb3VzZW91dCcgfHwgIWxheWVyLl9jb250YWluc1BvaW50KHBvaW50KSkpIHtcblx0XHRcdC8vIGlmIHdlJ3JlIGxlYXZpbmcgdGhlIGxheWVyLCBmaXJlIG1vdXNlb3V0XG5cdFx0XHRMLkRvbVV0aWwucmVtb3ZlQ2xhc3ModGhpcy5fY29udGFpbmVyLCAnbGVhZmxldC1pbnRlcmFjdGl2ZScpO1xuXHRcdFx0dGhpcy5fZmlyZUV2ZW50KFtsYXllcl0sIGUsICdtb3VzZW91dCcpO1xuXHRcdFx0dGhpcy5faG92ZXJlZExheWVyID0gbnVsbDtcblx0XHR9XG5cdH0sXG5cblx0X2hhbmRsZU1vdXNlSG92ZXI6IGZ1bmN0aW9uIChlLCBwb2ludCkge1xuXHRcdHZhciBpZCwgbGF5ZXI7XG5cblx0XHRmb3IgKGlkIGluIHRoaXMuX2RyYXduTGF5ZXJzKSB7XG5cdFx0XHRsYXllciA9IHRoaXMuX2RyYXduTGF5ZXJzW2lkXTtcblx0XHRcdGlmIChsYXllci5vcHRpb25zLmludGVyYWN0aXZlICYmIGxheWVyLl9jb250YWluc1BvaW50KHBvaW50KSkge1xuXHRcdFx0XHRMLkRvbVV0aWwuYWRkQ2xhc3ModGhpcy5fY29udGFpbmVyLCAnbGVhZmxldC1pbnRlcmFjdGl2ZScpOyAvLyBjaGFuZ2UgY3Vyc29yXG5cdFx0XHRcdHRoaXMuX2ZpcmVFdmVudChbbGF5ZXJdLCBlLCAnbW91c2VvdmVyJyk7XG5cdFx0XHRcdHRoaXMuX2hvdmVyZWRMYXllciA9IGxheWVyO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmICh0aGlzLl9ob3ZlcmVkTGF5ZXIpIHtcblx0XHRcdHRoaXMuX2ZpcmVFdmVudChbdGhpcy5faG92ZXJlZExheWVyXSwgZSk7XG5cdFx0fVxuXHR9LFxuXG5cdF9maXJlRXZlbnQ6IGZ1bmN0aW9uIChsYXllcnMsIGUsIHR5cGUpIHtcblx0XHR0aGlzLl9tYXAuX2ZpcmVET01FdmVudChlLCB0eXBlIHx8IGUudHlwZSwgbGF5ZXJzKTtcblx0fSxcblxuXHQvLyBUT0RPIF9icmluZ1RvRnJvbnQgJiBfYnJpbmdUb0JhY2ssIHByZXR0eSB0cmlja3lcblxuXHRfYnJpbmdUb0Zyb250OiBMLlV0aWwuZmFsc2VGbixcblx0X2JyaW5nVG9CYWNrOiBMLlV0aWwuZmFsc2VGblxufSk7XG5cbi8vIEBuYW1lc3BhY2UgQnJvd3NlcjsgQHByb3BlcnR5IGNhbnZhczogQm9vbGVhblxuLy8gYHRydWVgIHdoZW4gdGhlIGJyb3dzZXIgc3VwcG9ydHMgW2A8Y2FudmFzPmBdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL0FQSS9DYW52YXNfQVBJKS5cbkwuQnJvd3Nlci5jYW52YXMgPSAoZnVuY3Rpb24gKCkge1xuXHRyZXR1cm4gISFkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKS5nZXRDb250ZXh0O1xufSgpKTtcblxuLy8gQG5hbWVzcGFjZSBDYW52YXNcbi8vIEBmYWN0b3J5IEwuY2FudmFzKG9wdGlvbnM/OiBSZW5kZXJlciBvcHRpb25zKVxuLy8gQ3JlYXRlcyBhIENhbnZhcyByZW5kZXJlciB3aXRoIHRoZSBnaXZlbiBvcHRpb25zLlxuTC5jYW52YXMgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuXHRyZXR1cm4gTC5Ccm93c2VyLmNhbnZhcyA/IG5ldyBMLkNhbnZhcyhvcHRpb25zKSA6IG51bGw7XG59O1xuXG5MLlBvbHlsaW5lLnByb3RvdHlwZS5fY29udGFpbnNQb2ludCA9IGZ1bmN0aW9uIChwLCBjbG9zZWQpIHtcblx0dmFyIGksIGosIGssIGxlbiwgbGVuMiwgcGFydCxcblx0ICAgIHcgPSB0aGlzLl9jbGlja1RvbGVyYW5jZSgpO1xuXG5cdGlmICghdGhpcy5fcHhCb3VuZHMuY29udGFpbnMocCkpIHsgcmV0dXJuIGZhbHNlOyB9XG5cblx0Ly8gaGl0IGRldGVjdGlvbiBmb3IgcG9seWxpbmVzXG5cdGZvciAoaSA9IDAsIGxlbiA9IHRoaXMuX3BhcnRzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG5cdFx0cGFydCA9IHRoaXMuX3BhcnRzW2ldO1xuXG5cdFx0Zm9yIChqID0gMCwgbGVuMiA9IHBhcnQubGVuZ3RoLCBrID0gbGVuMiAtIDE7IGogPCBsZW4yOyBrID0gaisrKSB7XG5cdFx0XHRpZiAoIWNsb3NlZCAmJiAoaiA9PT0gMCkpIHsgY29udGludWU7IH1cblxuXHRcdFx0aWYgKEwuTGluZVV0aWwucG9pbnRUb1NlZ21lbnREaXN0YW5jZShwLCBwYXJ0W2tdLCBwYXJ0W2pdKSA8PSB3KSB7XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRyZXR1cm4gZmFsc2U7XG59O1xuXG5MLlBvbHlnb24ucHJvdG90eXBlLl9jb250YWluc1BvaW50ID0gZnVuY3Rpb24gKHApIHtcblx0dmFyIGluc2lkZSA9IGZhbHNlLFxuXHQgICAgcGFydCwgcDEsIHAyLCBpLCBqLCBrLCBsZW4sIGxlbjI7XG5cblx0aWYgKCF0aGlzLl9weEJvdW5kcy5jb250YWlucyhwKSkgeyByZXR1cm4gZmFsc2U7IH1cblxuXHQvLyByYXkgY2FzdGluZyBhbGdvcml0aG0gZm9yIGRldGVjdGluZyBpZiBwb2ludCBpcyBpbiBwb2x5Z29uXG5cdGZvciAoaSA9IDAsIGxlbiA9IHRoaXMuX3BhcnRzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG5cdFx0cGFydCA9IHRoaXMuX3BhcnRzW2ldO1xuXG5cdFx0Zm9yIChqID0gMCwgbGVuMiA9IHBhcnQubGVuZ3RoLCBrID0gbGVuMiAtIDE7IGogPCBsZW4yOyBrID0gaisrKSB7XG5cdFx0XHRwMSA9IHBhcnRbal07XG5cdFx0XHRwMiA9IHBhcnRba107XG5cblx0XHRcdGlmICgoKHAxLnkgPiBwLnkpICE9PSAocDIueSA+IHAueSkpICYmIChwLnggPCAocDIueCAtIHAxLngpICogKHAueSAtIHAxLnkpIC8gKHAyLnkgLSBwMS55KSArIHAxLngpKSB7XG5cdFx0XHRcdGluc2lkZSA9ICFpbnNpZGU7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Ly8gYWxzbyBjaGVjayBpZiBpdCdzIG9uIHBvbHlnb24gc3Ryb2tlXG5cdHJldHVybiBpbnNpZGUgfHwgTC5Qb2x5bGluZS5wcm90b3R5cGUuX2NvbnRhaW5zUG9pbnQuY2FsbCh0aGlzLCBwLCB0cnVlKTtcbn07XG5cbkwuQ2lyY2xlTWFya2VyLnByb3RvdHlwZS5fY29udGFpbnNQb2ludCA9IGZ1bmN0aW9uIChwKSB7XG5cdHJldHVybiBwLmRpc3RhbmNlVG8odGhpcy5fcG9pbnQpIDw9IHRoaXMuX3JhZGl1cyArIHRoaXMuX2NsaWNrVG9sZXJhbmNlKCk7XG59O1xuXG4vKlxyXG4gKiBAY2xhc3MgR2VvSlNPTlxyXG4gKiBAYWthIEwuR2VvSlNPTlxyXG4gKiBAaW5oZXJpdHMgRmVhdHVyZUdyb3VwXHJcbiAqXHJcbiAqIFJlcHJlc2VudHMgYSBHZW9KU09OIG9iamVjdCBvciBhbiBhcnJheSBvZiBHZW9KU09OIG9iamVjdHMuIEFsbG93cyB5b3UgdG8gcGFyc2VcclxuICogR2VvSlNPTiBkYXRhIGFuZCBkaXNwbGF5IGl0IG9uIHRoZSBtYXAuIEV4dGVuZHMgYEZlYXR1cmVHcm91cGAuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqXHJcbiAqIGBgYGpzXHJcbiAqIEwuZ2VvSlNPTihkYXRhLCB7XHJcbiAqIFx0c3R5bGU6IGZ1bmN0aW9uIChmZWF0dXJlKSB7XHJcbiAqIFx0XHRyZXR1cm4ge2NvbG9yOiBmZWF0dXJlLnByb3BlcnRpZXMuY29sb3J9O1xyXG4gKiBcdH1cclxuICogfSkuYmluZFBvcHVwKGZ1bmN0aW9uIChsYXllcikge1xyXG4gKiBcdHJldHVybiBsYXllci5mZWF0dXJlLnByb3BlcnRpZXMuZGVzY3JpcHRpb247XHJcbiAqIH0pLmFkZFRvKG1hcCk7XHJcbiAqIGBgYFxyXG4gKi9cclxuXHJcbkwuR2VvSlNPTiA9IEwuRmVhdHVyZUdyb3VwLmV4dGVuZCh7XHJcblxyXG5cdC8qIEBzZWN0aW9uXHJcblx0ICogQGFrYSBHZW9KU09OIG9wdGlvbnNcclxuXHQgKlxyXG5cdCAqIEBvcHRpb24gcG9pbnRUb0xheWVyOiBGdW5jdGlvbiA9ICpcclxuXHQgKiBBIGBGdW5jdGlvbmAgZGVmaW5pbmcgaG93IEdlb0pTT04gcG9pbnRzIHNwYXduIExlYWZsZXQgbGF5ZXJzLiBJdCBpcyBpbnRlcm5hbGx5XHJcblx0ICogY2FsbGVkIHdoZW4gZGF0YSBpcyBhZGRlZCwgcGFzc2luZyB0aGUgR2VvSlNPTiBwb2ludCBmZWF0dXJlIGFuZCBpdHMgYExhdExuZ2AuXHJcblx0ICogVGhlIGRlZmF1bHQgaXMgdG8gc3Bhd24gYSBkZWZhdWx0IGBNYXJrZXJgOlxyXG5cdCAqIGBgYGpzXHJcblx0ICogZnVuY3Rpb24oZ2VvSnNvblBvaW50LCBsYXRsbmcpIHtcclxuXHQgKiBcdHJldHVybiBMLm1hcmtlcihsYXRsbmcpO1xyXG5cdCAqIH1cclxuXHQgKiBgYGBcclxuXHQgKlxyXG5cdCAqIEBvcHRpb24gc3R5bGU6IEZ1bmN0aW9uID0gKlxyXG5cdCAqIEEgYEZ1bmN0aW9uYCBkZWZpbmluZyB0aGUgYFBhdGggb3B0aW9uc2AgZm9yIHN0eWxpbmcgR2VvSlNPTiBsaW5lcyBhbmQgcG9seWdvbnMsXHJcblx0ICogY2FsbGVkIGludGVybmFsbHkgd2hlbiBkYXRhIGlzIGFkZGVkLlxyXG5cdCAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRvIG5vdCBvdmVycmlkZSBhbnkgZGVmYXVsdHM6XHJcblx0ICogYGBganNcclxuXHQgKiBmdW5jdGlvbiAoZ2VvSnNvbkZlYXR1cmUpIHtcclxuXHQgKiBcdHJldHVybiB7fVxyXG5cdCAqIH1cclxuXHQgKiBgYGBcclxuXHQgKlxyXG5cdCAqIEBvcHRpb24gb25FYWNoRmVhdHVyZTogRnVuY3Rpb24gPSAqXHJcblx0ICogQSBgRnVuY3Rpb25gIHRoYXQgd2lsbCBiZSBjYWxsZWQgb25jZSBmb3IgZWFjaCBjcmVhdGVkIGBGZWF0dXJlYCwgYWZ0ZXIgaXQgaGFzXHJcblx0ICogYmVlbiBjcmVhdGVkIGFuZCBzdHlsZWQuIFVzZWZ1bCBmb3IgYXR0YWNoaW5nIGV2ZW50cyBhbmQgcG9wdXBzIHRvIGZlYXR1cmVzLlxyXG5cdCAqIFRoZSBkZWZhdWx0IGlzIHRvIGRvIG5vdGhpbmcgd2l0aCB0aGUgbmV3bHkgY3JlYXRlZCBsYXllcnM6XHJcblx0ICogYGBganNcclxuXHQgKiBmdW5jdGlvbiAoZmVhdHVyZSwgbGF5ZXIpIHt9XHJcblx0ICogYGBgXHJcblx0ICpcclxuXHQgKiBAb3B0aW9uIGZpbHRlcjogRnVuY3Rpb24gPSAqXHJcblx0ICogQSBgRnVuY3Rpb25gIHRoYXQgd2lsbCBiZSB1c2VkIHRvIGRlY2lkZSB3aGV0aGVyIHRvIGluY2x1ZGUgYSBmZWF0dXJlIG9yIG5vdC5cclxuXHQgKiBUaGUgZGVmYXVsdCBpcyB0byBpbmNsdWRlIGFsbCBmZWF0dXJlczpcclxuXHQgKiBgYGBqc1xyXG5cdCAqIGZ1bmN0aW9uIChnZW9Kc29uRmVhdHVyZSkge1xyXG5cdCAqIFx0cmV0dXJuIHRydWU7XHJcblx0ICogfVxyXG5cdCAqIGBgYFxyXG5cdCAqIE5vdGU6IGR5bmFtaWNhbGx5IGNoYW5naW5nIHRoZSBgZmlsdGVyYCBvcHRpb24gd2lsbCBoYXZlIGVmZmVjdCBvbmx5IG9uIG5ld2x5XHJcblx0ICogYWRkZWQgZGF0YS4gSXQgd2lsbCBfbm90XyByZS1ldmFsdWF0ZSBhbHJlYWR5IGluY2x1ZGVkIGZlYXR1cmVzLlxyXG5cdCAqXHJcblx0ICogQG9wdGlvbiBjb29yZHNUb0xhdExuZzogRnVuY3Rpb24gPSAqXHJcblx0ICogQSBgRnVuY3Rpb25gIHRoYXQgd2lsbCBiZSB1c2VkIGZvciBjb252ZXJ0aW5nIEdlb0pTT04gY29vcmRpbmF0ZXMgdG8gYExhdExuZ2BzLlxyXG5cdCAqIFRoZSBkZWZhdWx0IGlzIHRoZSBgY29vcmRzVG9MYXRMbmdgIHN0YXRpYyBtZXRob2QuXHJcblx0ICovXHJcblxyXG5cdGluaXRpYWxpemU6IGZ1bmN0aW9uIChnZW9qc29uLCBvcHRpb25zKSB7XHJcblx0XHRMLnNldE9wdGlvbnModGhpcywgb3B0aW9ucyk7XHJcblxyXG5cdFx0dGhpcy5fbGF5ZXJzID0ge307XHJcblxyXG5cdFx0aWYgKGdlb2pzb24pIHtcclxuXHRcdFx0dGhpcy5hZGREYXRhKGdlb2pzb24pO1xyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgYWRkRGF0YSggPEdlb0pTT04+IGRhdGEgKTogTGF5ZXJcclxuXHQvLyBBZGRzIGEgR2VvSlNPTiBvYmplY3QgdG8gdGhlIGxheWVyLlxyXG5cdGFkZERhdGE6IGZ1bmN0aW9uIChnZW9qc29uKSB7XHJcblx0XHR2YXIgZmVhdHVyZXMgPSBMLlV0aWwuaXNBcnJheShnZW9qc29uKSA/IGdlb2pzb24gOiBnZW9qc29uLmZlYXR1cmVzLFxyXG5cdFx0ICAgIGksIGxlbiwgZmVhdHVyZTtcclxuXHJcblx0XHRpZiAoZmVhdHVyZXMpIHtcclxuXHRcdFx0Zm9yIChpID0gMCwgbGVuID0gZmVhdHVyZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuXHRcdFx0XHQvLyBvbmx5IGFkZCB0aGlzIGlmIGdlb21ldHJ5IG9yIGdlb21ldHJpZXMgYXJlIHNldCBhbmQgbm90IG51bGxcclxuXHRcdFx0XHRmZWF0dXJlID0gZmVhdHVyZXNbaV07XHJcblx0XHRcdFx0aWYgKGZlYXR1cmUuZ2VvbWV0cmllcyB8fCBmZWF0dXJlLmdlb21ldHJ5IHx8IGZlYXR1cmUuZmVhdHVyZXMgfHwgZmVhdHVyZS5jb29yZGluYXRlcykge1xyXG5cdFx0XHRcdFx0dGhpcy5hZGREYXRhKGZlYXR1cmUpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gdGhpcztcclxuXHRcdH1cclxuXHJcblx0XHR2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcclxuXHJcblx0XHRpZiAob3B0aW9ucy5maWx0ZXIgJiYgIW9wdGlvbnMuZmlsdGVyKGdlb2pzb24pKSB7IHJldHVybiB0aGlzOyB9XHJcblxyXG5cdFx0dmFyIGxheWVyID0gTC5HZW9KU09OLmdlb21ldHJ5VG9MYXllcihnZW9qc29uLCBvcHRpb25zKTtcclxuXHRcdGlmICghbGF5ZXIpIHtcclxuXHRcdFx0cmV0dXJuIHRoaXM7XHJcblx0XHR9XHJcblx0XHRsYXllci5mZWF0dXJlID0gTC5HZW9KU09OLmFzRmVhdHVyZShnZW9qc29uKTtcclxuXHJcblx0XHRsYXllci5kZWZhdWx0T3B0aW9ucyA9IGxheWVyLm9wdGlvbnM7XHJcblx0XHR0aGlzLnJlc2V0U3R5bGUobGF5ZXIpO1xyXG5cclxuXHRcdGlmIChvcHRpb25zLm9uRWFjaEZlYXR1cmUpIHtcclxuXHRcdFx0b3B0aW9ucy5vbkVhY2hGZWF0dXJlKGdlb2pzb24sIGxheWVyKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdGhpcy5hZGRMYXllcihsYXllcik7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCByZXNldFN0eWxlKCA8UGF0aD4gbGF5ZXIgKTogTGF5ZXJcclxuXHQvLyBSZXNldHMgdGhlIGdpdmVuIHZlY3RvciBsYXllcidzIHN0eWxlIHRvIHRoZSBvcmlnaW5hbCBHZW9KU09OIHN0eWxlLCB1c2VmdWwgZm9yIHJlc2V0dGluZyBzdHlsZSBhZnRlciBob3ZlciBldmVudHMuXHJcblx0cmVzZXRTdHlsZTogZnVuY3Rpb24gKGxheWVyKSB7XHJcblx0XHQvLyByZXNldCBhbnkgY3VzdG9tIHN0eWxlc1xyXG5cdFx0bGF5ZXIub3B0aW9ucyA9IEwuVXRpbC5leHRlbmQoe30sIGxheWVyLmRlZmF1bHRPcHRpb25zKTtcclxuXHRcdHRoaXMuX3NldExheWVyU3R5bGUobGF5ZXIsIHRoaXMub3B0aW9ucy5zdHlsZSk7XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHNldFN0eWxlKCA8RnVuY3Rpb24+IHN0eWxlICk6IExheWVyXHJcblx0Ly8gQ2hhbmdlcyBzdHlsZXMgb2YgR2VvSlNPTiB2ZWN0b3IgbGF5ZXJzIHdpdGggdGhlIGdpdmVuIHN0eWxlIGZ1bmN0aW9uLlxyXG5cdHNldFN0eWxlOiBmdW5jdGlvbiAoc3R5bGUpIHtcclxuXHRcdHJldHVybiB0aGlzLmVhY2hMYXllcihmdW5jdGlvbiAobGF5ZXIpIHtcclxuXHRcdFx0dGhpcy5fc2V0TGF5ZXJTdHlsZShsYXllciwgc3R5bGUpO1xyXG5cdFx0fSwgdGhpcyk7XHJcblx0fSxcclxuXHJcblx0X3NldExheWVyU3R5bGU6IGZ1bmN0aW9uIChsYXllciwgc3R5bGUpIHtcclxuXHRcdGlmICh0eXBlb2Ygc3R5bGUgPT09ICdmdW5jdGlvbicpIHtcclxuXHRcdFx0c3R5bGUgPSBzdHlsZShsYXllci5mZWF0dXJlKTtcclxuXHRcdH1cclxuXHRcdGlmIChsYXllci5zZXRTdHlsZSkge1xyXG5cdFx0XHRsYXllci5zZXRTdHlsZShzdHlsZSk7XHJcblx0XHR9XHJcblx0fVxyXG59KTtcclxuXHJcbi8vIEBzZWN0aW9uXHJcbi8vIFRoZXJlIGFyZSBzZXZlcmFsIHN0YXRpYyBmdW5jdGlvbnMgd2hpY2ggY2FuIGJlIGNhbGxlZCB3aXRob3V0IGluc3RhbnRpYXRpbmcgTC5HZW9KU09OOlxyXG5MLmV4dGVuZChMLkdlb0pTT04sIHtcclxuXHQvLyBAZnVuY3Rpb24gZ2VvbWV0cnlUb0xheWVyKGZlYXR1cmVEYXRhOiBPYmplY3QsIG9wdGlvbnM/OiBHZW9KU09OIG9wdGlvbnMpOiBMYXllclxyXG5cdC8vIENyZWF0ZXMgYSBgTGF5ZXJgIGZyb20gYSBnaXZlbiBHZW9KU09OIGZlYXR1cmUuIENhbiB1c2UgYSBjdXN0b21cclxuXHQvLyBbYHBvaW50VG9MYXllcmBdKCNnZW9qc29uLXBvaW50dG9sYXllcikgYW5kL29yIFtgY29vcmRzVG9MYXRMbmdgXSgjZ2VvanNvbi1jb29yZHN0b2xhdGxuZylcclxuXHQvLyBmdW5jdGlvbnMgaWYgcHJvdmlkZWQgYXMgb3B0aW9ucy5cclxuXHRnZW9tZXRyeVRvTGF5ZXI6IGZ1bmN0aW9uIChnZW9qc29uLCBvcHRpb25zKSB7XHJcblxyXG5cdFx0dmFyIGdlb21ldHJ5ID0gZ2VvanNvbi50eXBlID09PSAnRmVhdHVyZScgPyBnZW9qc29uLmdlb21ldHJ5IDogZ2VvanNvbixcclxuXHRcdCAgICBjb29yZHMgPSBnZW9tZXRyeSA/IGdlb21ldHJ5LmNvb3JkaW5hdGVzIDogbnVsbCxcclxuXHRcdCAgICBsYXllcnMgPSBbXSxcclxuXHRcdCAgICBwb2ludFRvTGF5ZXIgPSBvcHRpb25zICYmIG9wdGlvbnMucG9pbnRUb0xheWVyLFxyXG5cdFx0ICAgIGNvb3Jkc1RvTGF0TG5nID0gb3B0aW9ucyAmJiBvcHRpb25zLmNvb3Jkc1RvTGF0TG5nIHx8IHRoaXMuY29vcmRzVG9MYXRMbmcsXHJcblx0XHQgICAgbGF0bG5nLCBsYXRsbmdzLCBpLCBsZW47XHJcblxyXG5cdFx0aWYgKCFjb29yZHMgJiYgIWdlb21ldHJ5KSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdHN3aXRjaCAoZ2VvbWV0cnkudHlwZSkge1xyXG5cdFx0Y2FzZSAnUG9pbnQnOlxyXG5cdFx0XHRsYXRsbmcgPSBjb29yZHNUb0xhdExuZyhjb29yZHMpO1xyXG5cdFx0XHRyZXR1cm4gcG9pbnRUb0xheWVyID8gcG9pbnRUb0xheWVyKGdlb2pzb24sIGxhdGxuZykgOiBuZXcgTC5NYXJrZXIobGF0bG5nKTtcclxuXHJcblx0XHRjYXNlICdNdWx0aVBvaW50JzpcclxuXHRcdFx0Zm9yIChpID0gMCwgbGVuID0gY29vcmRzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcblx0XHRcdFx0bGF0bG5nID0gY29vcmRzVG9MYXRMbmcoY29vcmRzW2ldKTtcclxuXHRcdFx0XHRsYXllcnMucHVzaChwb2ludFRvTGF5ZXIgPyBwb2ludFRvTGF5ZXIoZ2VvanNvbiwgbGF0bG5nKSA6IG5ldyBMLk1hcmtlcihsYXRsbmcpKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gbmV3IEwuRmVhdHVyZUdyb3VwKGxheWVycyk7XHJcblxyXG5cdFx0Y2FzZSAnTGluZVN0cmluZyc6XHJcblx0XHRjYXNlICdNdWx0aUxpbmVTdHJpbmcnOlxyXG5cdFx0XHRsYXRsbmdzID0gdGhpcy5jb29yZHNUb0xhdExuZ3MoY29vcmRzLCBnZW9tZXRyeS50eXBlID09PSAnTGluZVN0cmluZycgPyAwIDogMSwgY29vcmRzVG9MYXRMbmcpO1xyXG5cdFx0XHRyZXR1cm4gbmV3IEwuUG9seWxpbmUobGF0bG5ncywgb3B0aW9ucyk7XHJcblxyXG5cdFx0Y2FzZSAnUG9seWdvbic6XHJcblx0XHRjYXNlICdNdWx0aVBvbHlnb24nOlxyXG5cdFx0XHRsYXRsbmdzID0gdGhpcy5jb29yZHNUb0xhdExuZ3MoY29vcmRzLCBnZW9tZXRyeS50eXBlID09PSAnUG9seWdvbicgPyAxIDogMiwgY29vcmRzVG9MYXRMbmcpO1xyXG5cdFx0XHRyZXR1cm4gbmV3IEwuUG9seWdvbihsYXRsbmdzLCBvcHRpb25zKTtcclxuXHJcblx0XHRjYXNlICdHZW9tZXRyeUNvbGxlY3Rpb24nOlxyXG5cdFx0XHRmb3IgKGkgPSAwLCBsZW4gPSBnZW9tZXRyeS5nZW9tZXRyaWVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcblx0XHRcdFx0dmFyIGxheWVyID0gdGhpcy5nZW9tZXRyeVRvTGF5ZXIoe1xyXG5cdFx0XHRcdFx0Z2VvbWV0cnk6IGdlb21ldHJ5Lmdlb21ldHJpZXNbaV0sXHJcblx0XHRcdFx0XHR0eXBlOiAnRmVhdHVyZScsXHJcblx0XHRcdFx0XHRwcm9wZXJ0aWVzOiBnZW9qc29uLnByb3BlcnRpZXNcclxuXHRcdFx0XHR9LCBvcHRpb25zKTtcclxuXHJcblx0XHRcdFx0aWYgKGxheWVyKSB7XHJcblx0XHRcdFx0XHRsYXllcnMucHVzaChsYXllcik7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiBuZXcgTC5GZWF0dXJlR3JvdXAobGF5ZXJzKTtcclxuXHJcblx0XHRkZWZhdWx0OlxyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgR2VvSlNPTiBvYmplY3QuJyk7XHJcblx0XHR9XHJcblx0fSxcclxuXHJcblx0Ly8gQGZ1bmN0aW9uIGNvb3Jkc1RvTGF0TG5nKGNvb3JkczogQXJyYXkpOiBMYXRMbmdcclxuXHQvLyBDcmVhdGVzIGEgYExhdExuZ2Agb2JqZWN0IGZyb20gYW4gYXJyYXkgb2YgMiBudW1iZXJzIChsb25naXR1ZGUsIGxhdGl0dWRlKVxyXG5cdC8vIG9yIDMgbnVtYmVycyAobG9uZ2l0dWRlLCBsYXRpdHVkZSwgYWx0aXR1ZGUpIHVzZWQgaW4gR2VvSlNPTiBmb3IgcG9pbnRzLlxyXG5cdGNvb3Jkc1RvTGF0TG5nOiBmdW5jdGlvbiAoY29vcmRzKSB7XHJcblx0XHRyZXR1cm4gbmV3IEwuTGF0TG5nKGNvb3Jkc1sxXSwgY29vcmRzWzBdLCBjb29yZHNbMl0pO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBmdW5jdGlvbiBjb29yZHNUb0xhdExuZ3MoY29vcmRzOiBBcnJheSwgbGV2ZWxzRGVlcD86IE51bWJlciwgY29vcmRzVG9MYXRMbmc/OiBGdW5jdGlvbik6IEFycmF5XHJcblx0Ly8gQ3JlYXRlcyBhIG11bHRpZGltZW5zaW9uYWwgYXJyYXkgb2YgYExhdExuZ2BzIGZyb20gYSBHZW9KU09OIGNvb3JkaW5hdGVzIGFycmF5LlxyXG5cdC8vIGBsZXZlbHNEZWVwYCBzcGVjaWZpZXMgdGhlIG5lc3RpbmcgbGV2ZWwgKDAgaXMgZm9yIGFuIGFycmF5IG9mIHBvaW50cywgMSBmb3IgYW4gYXJyYXkgb2YgYXJyYXlzIG9mIHBvaW50cywgZXRjLiwgMCBieSBkZWZhdWx0KS5cclxuXHQvLyBDYW4gdXNlIGEgY3VzdG9tIFtgY29vcmRzVG9MYXRMbmdgXSgjZ2VvanNvbi1jb29yZHN0b2xhdGxuZykgZnVuY3Rpb24uXHJcblx0Y29vcmRzVG9MYXRMbmdzOiBmdW5jdGlvbiAoY29vcmRzLCBsZXZlbHNEZWVwLCBjb29yZHNUb0xhdExuZykge1xyXG5cdFx0dmFyIGxhdGxuZ3MgPSBbXTtcclxuXHJcblx0XHRmb3IgKHZhciBpID0gMCwgbGVuID0gY29vcmRzLmxlbmd0aCwgbGF0bG5nOyBpIDwgbGVuOyBpKyspIHtcclxuXHRcdFx0bGF0bG5nID0gbGV2ZWxzRGVlcCA/XHJcblx0XHRcdCAgICAgICAgdGhpcy5jb29yZHNUb0xhdExuZ3MoY29vcmRzW2ldLCBsZXZlbHNEZWVwIC0gMSwgY29vcmRzVG9MYXRMbmcpIDpcclxuXHRcdFx0ICAgICAgICAoY29vcmRzVG9MYXRMbmcgfHwgdGhpcy5jb29yZHNUb0xhdExuZykoY29vcmRzW2ldKTtcclxuXHJcblx0XHRcdGxhdGxuZ3MucHVzaChsYXRsbmcpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBsYXRsbmdzO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBmdW5jdGlvbiBsYXRMbmdUb0Nvb3JkcyhsYXRsbmc6IExhdExuZyk6IEFycmF5XHJcblx0Ly8gUmV2ZXJzZSBvZiBbYGNvb3Jkc1RvTGF0TG5nYF0oI2dlb2pzb24tY29vcmRzdG9sYXRsbmcpXHJcblx0bGF0TG5nVG9Db29yZHM6IGZ1bmN0aW9uIChsYXRsbmcpIHtcclxuXHRcdHJldHVybiBsYXRsbmcuYWx0ICE9PSB1bmRlZmluZWQgP1xyXG5cdFx0XHRcdFtsYXRsbmcubG5nLCBsYXRsbmcubGF0LCBsYXRsbmcuYWx0XSA6XHJcblx0XHRcdFx0W2xhdGxuZy5sbmcsIGxhdGxuZy5sYXRdO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBmdW5jdGlvbiBsYXRMbmdzVG9Db29yZHMobGF0bG5nczogQXJyYXksIGxldmVsc0RlZXA/OiBOdW1iZXIsIGNsb3NlZD86IEJvb2xlYW4pOiBBcnJheVxyXG5cdC8vIFJldmVyc2Ugb2YgW2Bjb29yZHNUb0xhdExuZ3NgXSgjZ2VvanNvbi1jb29yZHN0b2xhdGxuZ3MpXHJcblx0Ly8gYGNsb3NlZGAgZGV0ZXJtaW5lcyB3aGV0aGVyIHRoZSBmaXJzdCBwb2ludCBzaG91bGQgYmUgYXBwZW5kZWQgdG8gdGhlIGVuZCBvZiB0aGUgYXJyYXkgdG8gY2xvc2UgdGhlIGZlYXR1cmUsIG9ubHkgdXNlZCB3aGVuIGBsZXZlbHNEZWVwYCBpcyAwLiBGYWxzZSBieSBkZWZhdWx0LlxyXG5cdGxhdExuZ3NUb0Nvb3JkczogZnVuY3Rpb24gKGxhdGxuZ3MsIGxldmVsc0RlZXAsIGNsb3NlZCkge1xyXG5cdFx0dmFyIGNvb3JkcyA9IFtdO1xyXG5cclxuXHRcdGZvciAodmFyIGkgPSAwLCBsZW4gPSBsYXRsbmdzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcblx0XHRcdGNvb3Jkcy5wdXNoKGxldmVsc0RlZXAgP1xyXG5cdFx0XHRcdEwuR2VvSlNPTi5sYXRMbmdzVG9Db29yZHMobGF0bG5nc1tpXSwgbGV2ZWxzRGVlcCAtIDEsIGNsb3NlZCkgOlxyXG5cdFx0XHRcdEwuR2VvSlNPTi5sYXRMbmdUb0Nvb3JkcyhsYXRsbmdzW2ldKSk7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCFsZXZlbHNEZWVwICYmIGNsb3NlZCkge1xyXG5cdFx0XHRjb29yZHMucHVzaChjb29yZHNbMF0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBjb29yZHM7XHJcblx0fSxcclxuXHJcblx0Z2V0RmVhdHVyZTogZnVuY3Rpb24gKGxheWVyLCBuZXdHZW9tZXRyeSkge1xyXG5cdFx0cmV0dXJuIGxheWVyLmZlYXR1cmUgP1xyXG5cdFx0XHRcdEwuZXh0ZW5kKHt9LCBsYXllci5mZWF0dXJlLCB7Z2VvbWV0cnk6IG5ld0dlb21ldHJ5fSkgOlxyXG5cdFx0XHRcdEwuR2VvSlNPTi5hc0ZlYXR1cmUobmV3R2VvbWV0cnkpO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBmdW5jdGlvbiBhc0ZlYXR1cmUoZ2VvanNvbjogT2JqZWN0KTogT2JqZWN0XHJcblx0Ly8gTm9ybWFsaXplIEdlb0pTT04gZ2VvbWV0cmllcy9mZWF0dXJlcyBpbnRvIEdlb0pTT04gZmVhdHVyZXMuXHJcblx0YXNGZWF0dXJlOiBmdW5jdGlvbiAoZ2VvanNvbikge1xyXG5cdFx0aWYgKGdlb2pzb24udHlwZSA9PT0gJ0ZlYXR1cmUnKSB7XHJcblx0XHRcdHJldHVybiBnZW9qc29uO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB7XHJcblx0XHRcdHR5cGU6ICdGZWF0dXJlJyxcclxuXHRcdFx0cHJvcGVydGllczoge30sXHJcblx0XHRcdGdlb21ldHJ5OiBnZW9qc29uXHJcblx0XHR9O1xyXG5cdH1cclxufSk7XHJcblxyXG52YXIgUG9pbnRUb0dlb0pTT04gPSB7XHJcblx0dG9HZW9KU09OOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gTC5HZW9KU09OLmdldEZlYXR1cmUodGhpcywge1xyXG5cdFx0XHR0eXBlOiAnUG9pbnQnLFxyXG5cdFx0XHRjb29yZGluYXRlczogTC5HZW9KU09OLmxhdExuZ1RvQ29vcmRzKHRoaXMuZ2V0TGF0TG5nKCkpXHJcblx0XHR9KTtcclxuXHR9XHJcbn07XHJcblxyXG5MLk1hcmtlci5pbmNsdWRlKFBvaW50VG9HZW9KU09OKTtcclxuXHJcbi8vIEBuYW1lc3BhY2UgQ2lyY2xlTWFya2VyXHJcbi8vIEBtZXRob2QgdG9HZW9KU09OKCk6IE9iamVjdFxyXG4vLyBSZXR1cm5zIGEgW2BHZW9KU09OYF0oaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9HZW9KU09OKSByZXByZXNlbnRhdGlvbiBvZiB0aGUgY2lyY2xlIG1hcmtlciAoYXMgYSBHZW9KU09OIGBQb2ludGAgRmVhdHVyZSkuXHJcbkwuQ2lyY2xlLmluY2x1ZGUoUG9pbnRUb0dlb0pTT04pO1xyXG5MLkNpcmNsZU1hcmtlci5pbmNsdWRlKFBvaW50VG9HZW9KU09OKTtcclxuXHJcblxyXG4vLyBAbmFtZXNwYWNlIFBvbHlsaW5lXHJcbi8vIEBtZXRob2QgdG9HZW9KU09OKCk6IE9iamVjdFxyXG4vLyBSZXR1cm5zIGEgW2BHZW9KU09OYF0oaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9HZW9KU09OKSByZXByZXNlbnRhdGlvbiBvZiB0aGUgcG9seWxpbmUgKGFzIGEgR2VvSlNPTiBgTGluZVN0cmluZ2Agb3IgYE11bHRpTGluZVN0cmluZ2AgRmVhdHVyZSkuXHJcbkwuUG9seWxpbmUucHJvdG90eXBlLnRvR2VvSlNPTiA9IGZ1bmN0aW9uICgpIHtcclxuXHR2YXIgbXVsdGkgPSAhTC5Qb2x5bGluZS5fZmxhdCh0aGlzLl9sYXRsbmdzKTtcclxuXHJcblx0dmFyIGNvb3JkcyA9IEwuR2VvSlNPTi5sYXRMbmdzVG9Db29yZHModGhpcy5fbGF0bG5ncywgbXVsdGkgPyAxIDogMCk7XHJcblxyXG5cdHJldHVybiBMLkdlb0pTT04uZ2V0RmVhdHVyZSh0aGlzLCB7XHJcblx0XHR0eXBlOiAobXVsdGkgPyAnTXVsdGknIDogJycpICsgJ0xpbmVTdHJpbmcnLFxyXG5cdFx0Y29vcmRpbmF0ZXM6IGNvb3Jkc1xyXG5cdH0pO1xyXG59O1xyXG5cclxuLy8gQG5hbWVzcGFjZSBQb2x5Z29uXHJcbi8vIEBtZXRob2QgdG9HZW9KU09OKCk6IE9iamVjdFxyXG4vLyBSZXR1cm5zIGEgW2BHZW9KU09OYF0oaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9HZW9KU09OKSByZXByZXNlbnRhdGlvbiBvZiB0aGUgcG9seWdvbiAoYXMgYSBHZW9KU09OIGBQb2x5Z29uYCBvciBgTXVsdGlQb2x5Z29uYCBGZWF0dXJlKS5cclxuTC5Qb2x5Z29uLnByb3RvdHlwZS50b0dlb0pTT04gPSBmdW5jdGlvbiAoKSB7XHJcblx0dmFyIGhvbGVzID0gIUwuUG9seWxpbmUuX2ZsYXQodGhpcy5fbGF0bG5ncyksXHJcblx0ICAgIG11bHRpID0gaG9sZXMgJiYgIUwuUG9seWxpbmUuX2ZsYXQodGhpcy5fbGF0bG5nc1swXSk7XHJcblxyXG5cdHZhciBjb29yZHMgPSBMLkdlb0pTT04ubGF0TG5nc1RvQ29vcmRzKHRoaXMuX2xhdGxuZ3MsIG11bHRpID8gMiA6IGhvbGVzID8gMSA6IDAsIHRydWUpO1xyXG5cclxuXHRpZiAoIWhvbGVzKSB7XHJcblx0XHRjb29yZHMgPSBbY29vcmRzXTtcclxuXHR9XHJcblxyXG5cdHJldHVybiBMLkdlb0pTT04uZ2V0RmVhdHVyZSh0aGlzLCB7XHJcblx0XHR0eXBlOiAobXVsdGkgPyAnTXVsdGknIDogJycpICsgJ1BvbHlnb24nLFxyXG5cdFx0Y29vcmRpbmF0ZXM6IGNvb3Jkc1xyXG5cdH0pO1xyXG59O1xyXG5cclxuXHJcbi8vIEBuYW1lc3BhY2UgTGF5ZXJHcm91cFxyXG5MLkxheWVyR3JvdXAuaW5jbHVkZSh7XHJcblx0dG9NdWx0aVBvaW50OiBmdW5jdGlvbiAoKSB7XHJcblx0XHR2YXIgY29vcmRzID0gW107XHJcblxyXG5cdFx0dGhpcy5lYWNoTGF5ZXIoZnVuY3Rpb24gKGxheWVyKSB7XHJcblx0XHRcdGNvb3Jkcy5wdXNoKGxheWVyLnRvR2VvSlNPTigpLmdlb21ldHJ5LmNvb3JkaW5hdGVzKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdHJldHVybiBMLkdlb0pTT04uZ2V0RmVhdHVyZSh0aGlzLCB7XHJcblx0XHRcdHR5cGU6ICdNdWx0aVBvaW50JyxcclxuXHRcdFx0Y29vcmRpbmF0ZXM6IGNvb3Jkc1xyXG5cdFx0fSk7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCB0b0dlb0pTT04oKTogT2JqZWN0XHJcblx0Ly8gUmV0dXJucyBhIFtgR2VvSlNPTmBdKGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvR2VvSlNPTikgcmVwcmVzZW50YXRpb24gb2YgdGhlIGxheWVyIGdyb3VwIChhcyBhIEdlb0pTT04gYEdlb21ldHJ5Q29sbGVjdGlvbmApLlxyXG5cdHRvR2VvSlNPTjogZnVuY3Rpb24gKCkge1xyXG5cclxuXHRcdHZhciB0eXBlID0gdGhpcy5mZWF0dXJlICYmIHRoaXMuZmVhdHVyZS5nZW9tZXRyeSAmJiB0aGlzLmZlYXR1cmUuZ2VvbWV0cnkudHlwZTtcclxuXHJcblx0XHRpZiAodHlwZSA9PT0gJ011bHRpUG9pbnQnKSB7XHJcblx0XHRcdHJldHVybiB0aGlzLnRvTXVsdGlQb2ludCgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHZhciBpc0dlb21ldHJ5Q29sbGVjdGlvbiA9IHR5cGUgPT09ICdHZW9tZXRyeUNvbGxlY3Rpb24nLFxyXG5cdFx0ICAgIGpzb25zID0gW107XHJcblxyXG5cdFx0dGhpcy5lYWNoTGF5ZXIoZnVuY3Rpb24gKGxheWVyKSB7XHJcblx0XHRcdGlmIChsYXllci50b0dlb0pTT04pIHtcclxuXHRcdFx0XHR2YXIganNvbiA9IGxheWVyLnRvR2VvSlNPTigpO1xyXG5cdFx0XHRcdGpzb25zLnB1c2goaXNHZW9tZXRyeUNvbGxlY3Rpb24gPyBqc29uLmdlb21ldHJ5IDogTC5HZW9KU09OLmFzRmVhdHVyZShqc29uKSk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cclxuXHRcdGlmIChpc0dlb21ldHJ5Q29sbGVjdGlvbikge1xyXG5cdFx0XHRyZXR1cm4gTC5HZW9KU09OLmdldEZlYXR1cmUodGhpcywge1xyXG5cdFx0XHRcdGdlb21ldHJpZXM6IGpzb25zLFxyXG5cdFx0XHRcdHR5cGU6ICdHZW9tZXRyeUNvbGxlY3Rpb24nXHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB7XHJcblx0XHRcdHR5cGU6ICdGZWF0dXJlQ29sbGVjdGlvbicsXHJcblx0XHRcdGZlYXR1cmVzOiBqc29uc1xyXG5cdFx0fTtcclxuXHR9XHJcbn0pO1xyXG5cclxuLy8gQG5hbWVzcGFjZSBHZW9KU09OXHJcbi8vIEBmYWN0b3J5IEwuZ2VvSlNPTihnZW9qc29uPzogT2JqZWN0LCBvcHRpb25zPzogR2VvSlNPTiBvcHRpb25zKVxyXG4vLyBDcmVhdGVzIGEgR2VvSlNPTiBsYXllci4gT3B0aW9uYWxseSBhY2NlcHRzIGFuIG9iamVjdCBpblxyXG4vLyBbR2VvSlNPTiBmb3JtYXRdKGh0dHA6Ly9nZW9qc29uLm9yZy9nZW9qc29uLXNwZWMuaHRtbCkgdG8gZGlzcGxheSBvbiB0aGUgbWFwXHJcbi8vICh5b3UgY2FuIGFsdGVybmF0aXZlbHkgYWRkIGl0IGxhdGVyIHdpdGggYGFkZERhdGFgIG1ldGhvZCkgYW5kIGFuIGBvcHRpb25zYCBvYmplY3QuXHJcbkwuZ2VvSlNPTiA9IGZ1bmN0aW9uIChnZW9qc29uLCBvcHRpb25zKSB7XHJcblx0cmV0dXJuIG5ldyBMLkdlb0pTT04oZ2VvanNvbiwgb3B0aW9ucyk7XHJcbn07XHJcbi8vIEJhY2t3YXJkIGNvbXBhdGliaWxpdHkuXHJcbkwuZ2VvSnNvbiA9IEwuZ2VvSlNPTjtcclxuXG4vKlxyXG4gKiBAbmFtZXNwYWNlIERvbUV2ZW50XHJcbiAqIFV0aWxpdHkgZnVuY3Rpb25zIHRvIHdvcmsgd2l0aCB0aGUgW0RPTSBldmVudHNdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL0FQSS9FdmVudCksIHVzZWQgYnkgTGVhZmxldCBpbnRlcm5hbGx5LlxyXG4gKi9cclxuXHJcbi8vIEluc3BpcmVkIGJ5IEpvaG4gUmVzaWcsIERlYW4gRWR3YXJkcyBhbmQgWVVJIGFkZEV2ZW50IGltcGxlbWVudGF0aW9ucy5cclxuXHJcblxyXG5cclxudmFyIGV2ZW50c0tleSA9ICdfbGVhZmxldF9ldmVudHMnO1xyXG5cclxuTC5Eb21FdmVudCA9IHtcclxuXHJcblx0Ly8gQGZ1bmN0aW9uIG9uKGVsOiBIVE1MRWxlbWVudCwgdHlwZXM6IFN0cmluZywgZm46IEZ1bmN0aW9uLCBjb250ZXh0PzogT2JqZWN0KTogdGhpc1xyXG5cdC8vIEFkZHMgYSBsaXN0ZW5lciBmdW5jdGlvbiAoYGZuYCkgdG8gYSBwYXJ0aWN1bGFyIERPTSBldmVudCB0eXBlIG9mIHRoZVxyXG5cdC8vIGVsZW1lbnQgYGVsYC4gWW91IGNhbiBvcHRpb25hbGx5IHNwZWNpZnkgdGhlIGNvbnRleHQgb2YgdGhlIGxpc3RlbmVyXHJcblx0Ly8gKG9iamVjdCB0aGUgYHRoaXNgIGtleXdvcmQgd2lsbCBwb2ludCB0bykuIFlvdSBjYW4gYWxzbyBwYXNzIHNldmVyYWxcclxuXHQvLyBzcGFjZS1zZXBhcmF0ZWQgdHlwZXMgKGUuZy4gYCdjbGljayBkYmxjbGljaydgKS5cclxuXHJcblx0Ly8gQGFsdGVybmF0aXZlXHJcblx0Ly8gQGZ1bmN0aW9uIG9uKGVsOiBIVE1MRWxlbWVudCwgZXZlbnRNYXA6IE9iamVjdCwgY29udGV4dD86IE9iamVjdCk6IHRoaXNcclxuXHQvLyBBZGRzIGEgc2V0IG9mIHR5cGUvbGlzdGVuZXIgcGFpcnMsIGUuZy4gYHtjbGljazogb25DbGljaywgbW91c2Vtb3ZlOiBvbk1vdXNlTW92ZX1gXHJcblx0b246IGZ1bmN0aW9uIChvYmosIHR5cGVzLCBmbiwgY29udGV4dCkge1xyXG5cclxuXHRcdGlmICh0eXBlb2YgdHlwZXMgPT09ICdvYmplY3QnKSB7XHJcblx0XHRcdGZvciAodmFyIHR5cGUgaW4gdHlwZXMpIHtcclxuXHRcdFx0XHR0aGlzLl9vbihvYmosIHR5cGUsIHR5cGVzW3R5cGVdLCBmbik7XHJcblx0XHRcdH1cclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHR5cGVzID0gTC5VdGlsLnNwbGl0V29yZHModHlwZXMpO1xyXG5cclxuXHRcdFx0Zm9yICh2YXIgaSA9IDAsIGxlbiA9IHR5cGVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcblx0XHRcdFx0dGhpcy5fb24ob2JqLCB0eXBlc1tpXSwgZm4sIGNvbnRleHQpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0Ly8gQGZ1bmN0aW9uIG9mZihlbDogSFRNTEVsZW1lbnQsIHR5cGVzOiBTdHJpbmcsIGZuOiBGdW5jdGlvbiwgY29udGV4dD86IE9iamVjdCk6IHRoaXNcclxuXHQvLyBSZW1vdmVzIGEgcHJldmlvdXNseSBhZGRlZCBsaXN0ZW5lciBmdW5jdGlvbi4gSWYgbm8gZnVuY3Rpb24gaXMgc3BlY2lmaWVkLFxyXG5cdC8vIGl0IHdpbGwgcmVtb3ZlIGFsbCB0aGUgbGlzdGVuZXJzIG9mIHRoYXQgcGFydGljdWxhciBET00gZXZlbnQgZnJvbSB0aGUgZWxlbWVudC5cclxuXHQvLyBOb3RlIHRoYXQgaWYgeW91IHBhc3NlZCBhIGN1c3RvbSBjb250ZXh0IHRvIG9uLCB5b3UgbXVzdCBwYXNzIHRoZSBzYW1lXHJcblx0Ly8gY29udGV4dCB0byBgb2ZmYCBpbiBvcmRlciB0byByZW1vdmUgdGhlIGxpc3RlbmVyLlxyXG5cclxuXHQvLyBAYWx0ZXJuYXRpdmVcclxuXHQvLyBAZnVuY3Rpb24gb2ZmKGVsOiBIVE1MRWxlbWVudCwgZXZlbnRNYXA6IE9iamVjdCwgY29udGV4dD86IE9iamVjdCk6IHRoaXNcclxuXHQvLyBSZW1vdmVzIGEgc2V0IG9mIHR5cGUvbGlzdGVuZXIgcGFpcnMsIGUuZy4gYHtjbGljazogb25DbGljaywgbW91c2Vtb3ZlOiBvbk1vdXNlTW92ZX1gXHJcblx0b2ZmOiBmdW5jdGlvbiAob2JqLCB0eXBlcywgZm4sIGNvbnRleHQpIHtcclxuXHJcblx0XHRpZiAodHlwZW9mIHR5cGVzID09PSAnb2JqZWN0Jykge1xyXG5cdFx0XHRmb3IgKHZhciB0eXBlIGluIHR5cGVzKSB7XHJcblx0XHRcdFx0dGhpcy5fb2ZmKG9iaiwgdHlwZSwgdHlwZXNbdHlwZV0sIGZuKTtcclxuXHRcdFx0fVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dHlwZXMgPSBMLlV0aWwuc3BsaXRXb3Jkcyh0eXBlcyk7XHJcblxyXG5cdFx0XHRmb3IgKHZhciBpID0gMCwgbGVuID0gdHlwZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuXHRcdFx0XHR0aGlzLl9vZmYob2JqLCB0eXBlc1tpXSwgZm4sIGNvbnRleHQpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0X29uOiBmdW5jdGlvbiAob2JqLCB0eXBlLCBmbiwgY29udGV4dCkge1xyXG5cdFx0dmFyIGlkID0gdHlwZSArIEwuc3RhbXAoZm4pICsgKGNvbnRleHQgPyAnXycgKyBMLnN0YW1wKGNvbnRleHQpIDogJycpO1xyXG5cclxuXHRcdGlmIChvYmpbZXZlbnRzS2V5XSAmJiBvYmpbZXZlbnRzS2V5XVtpZF0pIHsgcmV0dXJuIHRoaXM7IH1cclxuXHJcblx0XHR2YXIgaGFuZGxlciA9IGZ1bmN0aW9uIChlKSB7XHJcblx0XHRcdHJldHVybiBmbi5jYWxsKGNvbnRleHQgfHwgb2JqLCBlIHx8IHdpbmRvdy5ldmVudCk7XHJcblx0XHR9O1xyXG5cclxuXHRcdHZhciBvcmlnaW5hbEhhbmRsZXIgPSBoYW5kbGVyO1xyXG5cclxuXHRcdGlmIChMLkJyb3dzZXIucG9pbnRlciAmJiB0eXBlLmluZGV4T2YoJ3RvdWNoJykgPT09IDApIHtcclxuXHRcdFx0dGhpcy5hZGRQb2ludGVyTGlzdGVuZXIob2JqLCB0eXBlLCBoYW5kbGVyLCBpZCk7XHJcblxyXG5cdFx0fSBlbHNlIGlmIChMLkJyb3dzZXIudG91Y2ggJiYgKHR5cGUgPT09ICdkYmxjbGljaycpICYmIHRoaXMuYWRkRG91YmxlVGFwTGlzdGVuZXIpIHtcclxuXHRcdFx0dGhpcy5hZGREb3VibGVUYXBMaXN0ZW5lcihvYmosIGhhbmRsZXIsIGlkKTtcclxuXHJcblx0XHR9IGVsc2UgaWYgKCdhZGRFdmVudExpc3RlbmVyJyBpbiBvYmopIHtcclxuXHJcblx0XHRcdGlmICh0eXBlID09PSAnbW91c2V3aGVlbCcpIHtcclxuXHRcdFx0XHRvYmouYWRkRXZlbnRMaXN0ZW5lcignb253aGVlbCcgaW4gb2JqID8gJ3doZWVsJyA6ICdtb3VzZXdoZWVsJywgaGFuZGxlciwgZmFsc2UpO1xyXG5cclxuXHRcdFx0fSBlbHNlIGlmICgodHlwZSA9PT0gJ21vdXNlZW50ZXInKSB8fCAodHlwZSA9PT0gJ21vdXNlbGVhdmUnKSkge1xyXG5cdFx0XHRcdGhhbmRsZXIgPSBmdW5jdGlvbiAoZSkge1xyXG5cdFx0XHRcdFx0ZSA9IGUgfHwgd2luZG93LmV2ZW50O1xyXG5cdFx0XHRcdFx0aWYgKEwuRG9tRXZlbnQuX2lzRXh0ZXJuYWxUYXJnZXQob2JqLCBlKSkge1xyXG5cdFx0XHRcdFx0XHRvcmlnaW5hbEhhbmRsZXIoZSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fTtcclxuXHRcdFx0XHRvYmouYWRkRXZlbnRMaXN0ZW5lcih0eXBlID09PSAnbW91c2VlbnRlcicgPyAnbW91c2VvdmVyJyA6ICdtb3VzZW91dCcsIGhhbmRsZXIsIGZhbHNlKTtcclxuXHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0aWYgKHR5cGUgPT09ICdjbGljaycgJiYgTC5Ccm93c2VyLmFuZHJvaWQpIHtcclxuXHRcdFx0XHRcdGhhbmRsZXIgPSBmdW5jdGlvbiAoZSkge1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gTC5Eb21FdmVudC5fZmlsdGVyQ2xpY2soZSwgb3JpZ2luYWxIYW5kbGVyKTtcclxuXHRcdFx0XHRcdH07XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdG9iai5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGhhbmRsZXIsIGZhbHNlKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdH0gZWxzZSBpZiAoJ2F0dGFjaEV2ZW50JyBpbiBvYmopIHtcclxuXHRcdFx0b2JqLmF0dGFjaEV2ZW50KCdvbicgKyB0eXBlLCBoYW5kbGVyKTtcclxuXHRcdH1cclxuXHJcblx0XHRvYmpbZXZlbnRzS2V5XSA9IG9ialtldmVudHNLZXldIHx8IHt9O1xyXG5cdFx0b2JqW2V2ZW50c0tleV1baWRdID0gaGFuZGxlcjtcclxuXHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHRfb2ZmOiBmdW5jdGlvbiAob2JqLCB0eXBlLCBmbiwgY29udGV4dCkge1xyXG5cclxuXHRcdHZhciBpZCA9IHR5cGUgKyBMLnN0YW1wKGZuKSArIChjb250ZXh0ID8gJ18nICsgTC5zdGFtcChjb250ZXh0KSA6ICcnKSxcclxuXHRcdCAgICBoYW5kbGVyID0gb2JqW2V2ZW50c0tleV0gJiYgb2JqW2V2ZW50c0tleV1baWRdO1xyXG5cclxuXHRcdGlmICghaGFuZGxlcikgeyByZXR1cm4gdGhpczsgfVxyXG5cclxuXHRcdGlmIChMLkJyb3dzZXIucG9pbnRlciAmJiB0eXBlLmluZGV4T2YoJ3RvdWNoJykgPT09IDApIHtcclxuXHRcdFx0dGhpcy5yZW1vdmVQb2ludGVyTGlzdGVuZXIob2JqLCB0eXBlLCBpZCk7XHJcblxyXG5cdFx0fSBlbHNlIGlmIChMLkJyb3dzZXIudG91Y2ggJiYgKHR5cGUgPT09ICdkYmxjbGljaycpICYmIHRoaXMucmVtb3ZlRG91YmxlVGFwTGlzdGVuZXIpIHtcclxuXHRcdFx0dGhpcy5yZW1vdmVEb3VibGVUYXBMaXN0ZW5lcihvYmosIGlkKTtcclxuXHJcblx0XHR9IGVsc2UgaWYgKCdyZW1vdmVFdmVudExpc3RlbmVyJyBpbiBvYmopIHtcclxuXHJcblx0XHRcdGlmICh0eXBlID09PSAnbW91c2V3aGVlbCcpIHtcclxuXHRcdFx0XHRvYmoucmVtb3ZlRXZlbnRMaXN0ZW5lcignb253aGVlbCcgaW4gb2JqID8gJ3doZWVsJyA6ICdtb3VzZXdoZWVsJywgaGFuZGxlciwgZmFsc2UpO1xyXG5cclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRvYmoucmVtb3ZlRXZlbnRMaXN0ZW5lcihcclxuXHRcdFx0XHRcdHR5cGUgPT09ICdtb3VzZWVudGVyJyA/ICdtb3VzZW92ZXInIDpcclxuXHRcdFx0XHRcdHR5cGUgPT09ICdtb3VzZWxlYXZlJyA/ICdtb3VzZW91dCcgOiB0eXBlLCBoYW5kbGVyLCBmYWxzZSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHR9IGVsc2UgaWYgKCdkZXRhY2hFdmVudCcgaW4gb2JqKSB7XHJcblx0XHRcdG9iai5kZXRhY2hFdmVudCgnb24nICsgdHlwZSwgaGFuZGxlcik7XHJcblx0XHR9XHJcblxyXG5cdFx0b2JqW2V2ZW50c0tleV1baWRdID0gbnVsbDtcclxuXHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHQvLyBAZnVuY3Rpb24gc3RvcFByb3BhZ2F0aW9uKGV2OiBET01FdmVudCk6IHRoaXNcclxuXHQvLyBTdG9wIHRoZSBnaXZlbiBldmVudCBmcm9tIHByb3BhZ2F0aW9uIHRvIHBhcmVudCBlbGVtZW50cy4gVXNlZCBpbnNpZGUgdGhlIGxpc3RlbmVyIGZ1bmN0aW9uczpcclxuXHQvLyBgYGBqc1xyXG5cdC8vIEwuRG9tRXZlbnQub24oZGl2LCAnY2xpY2snLCBmdW5jdGlvbiAoZXYpIHtcclxuXHQvLyBcdEwuRG9tRXZlbnQuc3RvcFByb3BhZ2F0aW9uKGV2KTtcclxuXHQvLyB9KTtcclxuXHQvLyBgYGBcclxuXHRzdG9wUHJvcGFnYXRpb246IGZ1bmN0aW9uIChlKSB7XHJcblxyXG5cdFx0aWYgKGUuc3RvcFByb3BhZ2F0aW9uKSB7XHJcblx0XHRcdGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblx0XHR9IGVsc2UgaWYgKGUub3JpZ2luYWxFdmVudCkgeyAgLy8gSW4gY2FzZSBvZiBMZWFmbGV0IGV2ZW50LlxyXG5cdFx0XHRlLm9yaWdpbmFsRXZlbnQuX3N0b3BwZWQgPSB0cnVlO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0ZS5jYW5jZWxCdWJibGUgPSB0cnVlO1xyXG5cdFx0fVxyXG5cdFx0TC5Eb21FdmVudC5fc2tpcHBlZChlKTtcclxuXHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHQvLyBAZnVuY3Rpb24gZGlzYWJsZVNjcm9sbFByb3BhZ2F0aW9uKGVsOiBIVE1MRWxlbWVudCk6IHRoaXNcclxuXHQvLyBBZGRzIGBzdG9wUHJvcGFnYXRpb25gIHRvIHRoZSBlbGVtZW50J3MgYCdtb3VzZXdoZWVsJ2AgZXZlbnRzIChwbHVzIGJyb3dzZXIgdmFyaWFudHMpLlxyXG5cdGRpc2FibGVTY3JvbGxQcm9wYWdhdGlvbjogZnVuY3Rpb24gKGVsKSB7XHJcblx0XHRyZXR1cm4gTC5Eb21FdmVudC5vbihlbCwgJ21vdXNld2hlZWwnLCBMLkRvbUV2ZW50LnN0b3BQcm9wYWdhdGlvbik7XHJcblx0fSxcclxuXHJcblx0Ly8gQGZ1bmN0aW9uIGRpc2FibGVDbGlja1Byb3BhZ2F0aW9uKGVsOiBIVE1MRWxlbWVudCk6IHRoaXNcclxuXHQvLyBBZGRzIGBzdG9wUHJvcGFnYXRpb25gIHRvIHRoZSBlbGVtZW50J3MgYCdjbGljaydgLCBgJ2RvdWJsZWNsaWNrJ2AsXHJcblx0Ly8gYCdtb3VzZWRvd24nYCBhbmQgYCd0b3VjaHN0YXJ0J2AgZXZlbnRzIChwbHVzIGJyb3dzZXIgdmFyaWFudHMpLlxyXG5cdGRpc2FibGVDbGlja1Byb3BhZ2F0aW9uOiBmdW5jdGlvbiAoZWwpIHtcclxuXHRcdHZhciBzdG9wID0gTC5Eb21FdmVudC5zdG9wUHJvcGFnYXRpb247XHJcblxyXG5cdFx0TC5Eb21FdmVudC5vbihlbCwgTC5EcmFnZ2FibGUuU1RBUlQuam9pbignICcpLCBzdG9wKTtcclxuXHJcblx0XHRyZXR1cm4gTC5Eb21FdmVudC5vbihlbCwge1xyXG5cdFx0XHRjbGljazogTC5Eb21FdmVudC5fZmFrZVN0b3AsXHJcblx0XHRcdGRibGNsaWNrOiBzdG9wXHJcblx0XHR9KTtcclxuXHR9LFxyXG5cclxuXHQvLyBAZnVuY3Rpb24gcHJldmVudERlZmF1bHQoZXY6IERPTUV2ZW50KTogdGhpc1xyXG5cdC8vIFByZXZlbnRzIHRoZSBkZWZhdWx0IGFjdGlvbiBvZiB0aGUgRE9NIEV2ZW50IGBldmAgZnJvbSBoYXBwZW5pbmcgKHN1Y2ggYXNcclxuXHQvLyBmb2xsb3dpbmcgYSBsaW5rIGluIHRoZSBocmVmIG9mIHRoZSBhIGVsZW1lbnQsIG9yIGRvaW5nIGEgUE9TVCByZXF1ZXN0XHJcblx0Ly8gd2l0aCBwYWdlIHJlbG9hZCB3aGVuIGEgYDxmb3JtPmAgaXMgc3VibWl0dGVkKS5cclxuXHQvLyBVc2UgaXQgaW5zaWRlIGxpc3RlbmVyIGZ1bmN0aW9ucy5cclxuXHRwcmV2ZW50RGVmYXVsdDogZnVuY3Rpb24gKGUpIHtcclxuXHJcblx0XHRpZiAoZS5wcmV2ZW50RGVmYXVsdCkge1xyXG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRlLnJldHVyblZhbHVlID0gZmFsc2U7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHQvLyBAZnVuY3Rpb24gc3RvcChldik6IHRoaXNcclxuXHQvLyBEb2VzIGBzdG9wUHJvcGFnYXRpb25gIGFuZCBgcHJldmVudERlZmF1bHRgIGF0IHRoZSBzYW1lIHRpbWUuXHJcblx0c3RvcDogZnVuY3Rpb24gKGUpIHtcclxuXHRcdHJldHVybiBMLkRvbUV2ZW50XHJcblx0XHRcdC5wcmV2ZW50RGVmYXVsdChlKVxyXG5cdFx0XHQuc3RvcFByb3BhZ2F0aW9uKGUpO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBmdW5jdGlvbiBnZXRNb3VzZVBvc2l0aW9uKGV2OiBET01FdmVudCwgY29udGFpbmVyPzogSFRNTEVsZW1lbnQpOiBQb2ludFxyXG5cdC8vIEdldHMgbm9ybWFsaXplZCBtb3VzZSBwb3NpdGlvbiBmcm9tIGEgRE9NIGV2ZW50IHJlbGF0aXZlIHRvIHRoZVxyXG5cdC8vIGBjb250YWluZXJgIG9yIHRvIHRoZSB3aG9sZSBwYWdlIGlmIG5vdCBzcGVjaWZpZWQuXHJcblx0Z2V0TW91c2VQb3NpdGlvbjogZnVuY3Rpb24gKGUsIGNvbnRhaW5lcikge1xyXG5cdFx0aWYgKCFjb250YWluZXIpIHtcclxuXHRcdFx0cmV0dXJuIG5ldyBMLlBvaW50KGUuY2xpZW50WCwgZS5jbGllbnRZKTtcclxuXHRcdH1cclxuXHJcblx0XHR2YXIgcmVjdCA9IGNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuXHJcblx0XHRyZXR1cm4gbmV3IEwuUG9pbnQoXHJcblx0XHRcdGUuY2xpZW50WCAtIHJlY3QubGVmdCAtIGNvbnRhaW5lci5jbGllbnRMZWZ0LFxyXG5cdFx0XHRlLmNsaWVudFkgLSByZWN0LnRvcCAtIGNvbnRhaW5lci5jbGllbnRUb3ApO1xyXG5cdH0sXHJcblxyXG5cdC8vIENocm9tZSBvbiBXaW4gc2Nyb2xscyBkb3VibGUgdGhlIHBpeGVscyBhcyBpbiBvdGhlciBwbGF0Zm9ybXMgKHNlZSAjNDUzOCksXHJcblx0Ly8gYW5kIEZpcmVmb3ggc2Nyb2xscyBkZXZpY2UgcGl4ZWxzLCBub3QgQ1NTIHBpeGVsc1xyXG5cdF93aGVlbFB4RmFjdG9yOiAoTC5Ccm93c2VyLndpbiAmJiBMLkJyb3dzZXIuY2hyb21lKSA/IDIgOlxyXG5cdCAgICAgICAgICAgICAgICBMLkJyb3dzZXIuZ2Vja28gPyB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyA6XHJcblx0ICAgICAgICAgICAgICAgIDEsXHJcblxyXG5cdC8vIEBmdW5jdGlvbiBnZXRXaGVlbERlbHRhKGV2OiBET01FdmVudCk6IE51bWJlclxyXG5cdC8vIEdldHMgbm9ybWFsaXplZCB3aGVlbCBkZWx0YSBmcm9tIGEgbW91c2V3aGVlbCBET00gZXZlbnQsIGluIHZlcnRpY2FsXHJcblx0Ly8gcGl4ZWxzIHNjcm9sbGVkIChuZWdhdGl2ZSBpZiBzY3JvbGxpbmcgZG93bikuXHJcblx0Ly8gRXZlbnRzIGZyb20gcG9pbnRpbmcgZGV2aWNlcyB3aXRob3V0IHByZWNpc2Ugc2Nyb2xsaW5nIGFyZSBtYXBwZWQgdG9cclxuXHQvLyBhIGJlc3QgZ3Vlc3Mgb2YgNjAgcGl4ZWxzLlxyXG5cdGdldFdoZWVsRGVsdGE6IGZ1bmN0aW9uIChlKSB7XHJcblx0XHRyZXR1cm4gKEwuQnJvd3Nlci5lZGdlKSA/IGUud2hlZWxEZWx0YVkgLyAyIDogLy8gRG9uJ3QgdHJ1c3Qgd2luZG93LWdlb21ldHJ5LWJhc2VkIGRlbHRhXHJcblx0XHQgICAgICAgKGUuZGVsdGFZICYmIGUuZGVsdGFNb2RlID09PSAwKSA/IC1lLmRlbHRhWSAvIEwuRG9tRXZlbnQuX3doZWVsUHhGYWN0b3IgOiAvLyBQaXhlbHNcclxuXHRcdCAgICAgICAoZS5kZWx0YVkgJiYgZS5kZWx0YU1vZGUgPT09IDEpID8gLWUuZGVsdGFZICogMjAgOiAvLyBMaW5lc1xyXG5cdFx0ICAgICAgIChlLmRlbHRhWSAmJiBlLmRlbHRhTW9kZSA9PT0gMikgPyAtZS5kZWx0YVkgKiA2MCA6IC8vIFBhZ2VzXHJcblx0XHQgICAgICAgKGUuZGVsdGFYIHx8IGUuZGVsdGFaKSA/IDAgOlx0Ly8gU2tpcCBob3Jpem9udGFsL2RlcHRoIHdoZWVsIGV2ZW50c1xyXG5cdFx0ICAgICAgIGUud2hlZWxEZWx0YSA/IChlLndoZWVsRGVsdGFZIHx8IGUud2hlZWxEZWx0YSkgLyAyIDogLy8gTGVnYWN5IElFIHBpeGVsc1xyXG5cdFx0ICAgICAgIChlLmRldGFpbCAmJiBNYXRoLmFicyhlLmRldGFpbCkgPCAzMjc2NSkgPyAtZS5kZXRhaWwgKiAyMCA6IC8vIExlZ2FjeSBNb3ogbGluZXNcclxuXHRcdCAgICAgICBlLmRldGFpbCA/IGUuZGV0YWlsIC8gLTMyNzY1ICogNjAgOiAvLyBMZWdhY3kgTW96IHBhZ2VzXHJcblx0XHQgICAgICAgMDtcclxuXHR9LFxyXG5cclxuXHRfc2tpcEV2ZW50czoge30sXHJcblxyXG5cdF9mYWtlU3RvcDogZnVuY3Rpb24gKGUpIHtcclxuXHRcdC8vIGZha2VzIHN0b3BQcm9wYWdhdGlvbiBieSBzZXR0aW5nIGEgc3BlY2lhbCBldmVudCBmbGFnLCBjaGVja2VkL3Jlc2V0IHdpdGggTC5Eb21FdmVudC5fc2tpcHBlZChlKVxyXG5cdFx0TC5Eb21FdmVudC5fc2tpcEV2ZW50c1tlLnR5cGVdID0gdHJ1ZTtcclxuXHR9LFxyXG5cclxuXHRfc2tpcHBlZDogZnVuY3Rpb24gKGUpIHtcclxuXHRcdHZhciBza2lwcGVkID0gdGhpcy5fc2tpcEV2ZW50c1tlLnR5cGVdO1xyXG5cdFx0Ly8gcmVzZXQgd2hlbiBjaGVja2luZywgYXMgaXQncyBvbmx5IHVzZWQgaW4gbWFwIGNvbnRhaW5lciBhbmQgcHJvcGFnYXRlcyBvdXRzaWRlIG9mIHRoZSBtYXBcclxuXHRcdHRoaXMuX3NraXBFdmVudHNbZS50eXBlXSA9IGZhbHNlO1xyXG5cdFx0cmV0dXJuIHNraXBwZWQ7XHJcblx0fSxcclxuXHJcblx0Ly8gY2hlY2sgaWYgZWxlbWVudCByZWFsbHkgbGVmdC9lbnRlcmVkIHRoZSBldmVudCB0YXJnZXQgKGZvciBtb3VzZWVudGVyL21vdXNlbGVhdmUpXHJcblx0X2lzRXh0ZXJuYWxUYXJnZXQ6IGZ1bmN0aW9uIChlbCwgZSkge1xyXG5cclxuXHRcdHZhciByZWxhdGVkID0gZS5yZWxhdGVkVGFyZ2V0O1xyXG5cclxuXHRcdGlmICghcmVsYXRlZCkgeyByZXR1cm4gdHJ1ZTsgfVxyXG5cclxuXHRcdHRyeSB7XHJcblx0XHRcdHdoaWxlIChyZWxhdGVkICYmIChyZWxhdGVkICE9PSBlbCkpIHtcclxuXHRcdFx0XHRyZWxhdGVkID0gcmVsYXRlZC5wYXJlbnROb2RlO1xyXG5cdFx0XHR9XHJcblx0XHR9IGNhdGNoIChlcnIpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIChyZWxhdGVkICE9PSBlbCk7XHJcblx0fSxcclxuXHJcblx0Ly8gdGhpcyBpcyBhIGhvcnJpYmxlIHdvcmthcm91bmQgZm9yIGEgYnVnIGluIEFuZHJvaWQgd2hlcmUgYSBzaW5nbGUgdG91Y2ggdHJpZ2dlcnMgdHdvIGNsaWNrIGV2ZW50c1xyXG5cdF9maWx0ZXJDbGljazogZnVuY3Rpb24gKGUsIGhhbmRsZXIpIHtcclxuXHRcdHZhciB0aW1lU3RhbXAgPSAoZS50aW1lU3RhbXAgfHwgKGUub3JpZ2luYWxFdmVudCAmJiBlLm9yaWdpbmFsRXZlbnQudGltZVN0YW1wKSksXHJcblx0XHQgICAgZWxhcHNlZCA9IEwuRG9tRXZlbnQuX2xhc3RDbGljayAmJiAodGltZVN0YW1wIC0gTC5Eb21FdmVudC5fbGFzdENsaWNrKTtcclxuXHJcblx0XHQvLyBhcmUgdGhleSBjbG9zZXIgdG9nZXRoZXIgdGhhbiA1MDBtcyB5ZXQgbW9yZSB0aGFuIDEwMG1zP1xyXG5cdFx0Ly8gQW5kcm9pZCB0eXBpY2FsbHkgdHJpZ2dlcnMgdGhlbSB+MzAwbXMgYXBhcnQgd2hpbGUgbXVsdGlwbGUgbGlzdGVuZXJzXHJcblx0XHQvLyBvbiB0aGUgc2FtZSBldmVudCBzaG91bGQgYmUgdHJpZ2dlcmVkIGZhciBmYXN0ZXI7XHJcblx0XHQvLyBvciBjaGVjayBpZiBjbGljayBpcyBzaW11bGF0ZWQgb24gdGhlIGVsZW1lbnQsIGFuZCBpZiBpdCBpcywgcmVqZWN0IGFueSBub24tc2ltdWxhdGVkIGV2ZW50c1xyXG5cclxuXHRcdGlmICgoZWxhcHNlZCAmJiBlbGFwc2VkID4gMTAwICYmIGVsYXBzZWQgPCA1MDApIHx8IChlLnRhcmdldC5fc2ltdWxhdGVkQ2xpY2sgJiYgIWUuX3NpbXVsYXRlZCkpIHtcclxuXHRcdFx0TC5Eb21FdmVudC5zdG9wKGUpO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblx0XHRMLkRvbUV2ZW50Ll9sYXN0Q2xpY2sgPSB0aW1lU3RhbXA7XHJcblxyXG5cdFx0aGFuZGxlcihlKTtcclxuXHR9XHJcbn07XHJcblxyXG4vLyBAZnVuY3Rpb24gYWRkTGlzdGVuZXIo4oCmKTogdGhpc1xyXG4vLyBBbGlhcyB0byBbYEwuRG9tRXZlbnQub25gXSgjZG9tZXZlbnQtb24pXHJcbkwuRG9tRXZlbnQuYWRkTGlzdGVuZXIgPSBMLkRvbUV2ZW50Lm9uO1xyXG5cclxuLy8gQGZ1bmN0aW9uIHJlbW92ZUxpc3RlbmVyKOKApik6IHRoaXNcclxuLy8gQWxpYXMgdG8gW2BMLkRvbUV2ZW50Lm9mZmBdKCNkb21ldmVudC1vZmYpXHJcbkwuRG9tRXZlbnQucmVtb3ZlTGlzdGVuZXIgPSBMLkRvbUV2ZW50Lm9mZjtcclxuXG4vKlxyXG4gKiBAY2xhc3MgRHJhZ2dhYmxlXHJcbiAqIEBha2EgTC5EcmFnZ2FibGVcclxuICogQGluaGVyaXRzIEV2ZW50ZWRcclxuICpcclxuICogQSBjbGFzcyBmb3IgbWFraW5nIERPTSBlbGVtZW50cyBkcmFnZ2FibGUgKGluY2x1ZGluZyB0b3VjaCBzdXBwb3J0KS5cclxuICogVXNlZCBpbnRlcm5hbGx5IGZvciBtYXAgYW5kIG1hcmtlciBkcmFnZ2luZy4gT25seSB3b3JrcyBmb3IgZWxlbWVudHNcclxuICogdGhhdCB3ZXJlIHBvc2l0aW9uZWQgd2l0aCBbYEwuRG9tVXRpbC5zZXRQb3NpdGlvbmBdKCNkb211dGlsLXNldHBvc2l0aW9uKS5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogYGBganNcclxuICogdmFyIGRyYWdnYWJsZSA9IG5ldyBMLkRyYWdnYWJsZShlbGVtZW50VG9EcmFnKTtcclxuICogZHJhZ2dhYmxlLmVuYWJsZSgpO1xyXG4gKiBgYGBcclxuICovXHJcblxyXG5MLkRyYWdnYWJsZSA9IEwuRXZlbnRlZC5leHRlbmQoe1xyXG5cclxuXHRvcHRpb25zOiB7XHJcblx0XHQvLyBAb3B0aW9uIGNsaWNrVG9sZXJhbmNlOiBOdW1iZXIgPSAzXHJcblx0XHQvLyBUaGUgbWF4IG51bWJlciBvZiBwaXhlbHMgYSB1c2VyIGNhbiBzaGlmdCB0aGUgbW91c2UgcG9pbnRlciBkdXJpbmcgYSBjbGlja1xyXG5cdFx0Ly8gZm9yIGl0IHRvIGJlIGNvbnNpZGVyZWQgYSB2YWxpZCBjbGljayAoYXMgb3Bwb3NlZCB0byBhIG1vdXNlIGRyYWcpLlxyXG5cdFx0Y2xpY2tUb2xlcmFuY2U6IDNcclxuXHR9LFxyXG5cclxuXHRzdGF0aWNzOiB7XHJcblx0XHRTVEFSVDogTC5Ccm93c2VyLnRvdWNoID8gWyd0b3VjaHN0YXJ0JywgJ21vdXNlZG93biddIDogWydtb3VzZWRvd24nXSxcclxuXHRcdEVORDoge1xyXG5cdFx0XHRtb3VzZWRvd246ICdtb3VzZXVwJyxcclxuXHRcdFx0dG91Y2hzdGFydDogJ3RvdWNoZW5kJyxcclxuXHRcdFx0cG9pbnRlcmRvd246ICd0b3VjaGVuZCcsXHJcblx0XHRcdE1TUG9pbnRlckRvd246ICd0b3VjaGVuZCdcclxuXHRcdH0sXHJcblx0XHRNT1ZFOiB7XHJcblx0XHRcdG1vdXNlZG93bjogJ21vdXNlbW92ZScsXHJcblx0XHRcdHRvdWNoc3RhcnQ6ICd0b3VjaG1vdmUnLFxyXG5cdFx0XHRwb2ludGVyZG93bjogJ3RvdWNobW92ZScsXHJcblx0XHRcdE1TUG9pbnRlckRvd246ICd0b3VjaG1vdmUnXHJcblx0XHR9XHJcblx0fSxcclxuXHJcblx0Ly8gQGNvbnN0cnVjdG9yIEwuRHJhZ2dhYmxlKGVsOiBIVE1MRWxlbWVudCwgZHJhZ0hhbmRsZT86IEhUTUxFbGVtZW50LCBwcmV2ZW50T3V0bGluZTogQm9vbGVhbilcclxuXHQvLyBDcmVhdGVzIGEgYERyYWdnYWJsZWAgb2JqZWN0IGZvciBtb3ZpbmcgYGVsYCB3aGVuIHlvdSBzdGFydCBkcmFnZ2luZyB0aGUgYGRyYWdIYW5kbGVgIGVsZW1lbnQgKGVxdWFscyBgZWxgIGl0c2VsZiBieSBkZWZhdWx0KS5cclxuXHRpbml0aWFsaXplOiBmdW5jdGlvbiAoZWxlbWVudCwgZHJhZ1N0YXJ0VGFyZ2V0LCBwcmV2ZW50T3V0bGluZSkge1xyXG5cdFx0dGhpcy5fZWxlbWVudCA9IGVsZW1lbnQ7XHJcblx0XHR0aGlzLl9kcmFnU3RhcnRUYXJnZXQgPSBkcmFnU3RhcnRUYXJnZXQgfHwgZWxlbWVudDtcclxuXHRcdHRoaXMuX3ByZXZlbnRPdXRsaW5lID0gcHJldmVudE91dGxpbmU7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBlbmFibGUoKVxyXG5cdC8vIEVuYWJsZXMgdGhlIGRyYWdnaW5nIGFiaWxpdHlcclxuXHRlbmFibGU6IGZ1bmN0aW9uICgpIHtcclxuXHRcdGlmICh0aGlzLl9lbmFibGVkKSB7IHJldHVybjsgfVxyXG5cclxuXHRcdEwuRG9tRXZlbnQub24odGhpcy5fZHJhZ1N0YXJ0VGFyZ2V0LCBMLkRyYWdnYWJsZS5TVEFSVC5qb2luKCcgJyksIHRoaXMuX29uRG93biwgdGhpcyk7XHJcblxyXG5cdFx0dGhpcy5fZW5hYmxlZCA9IHRydWU7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBkaXNhYmxlKClcclxuXHQvLyBEaXNhYmxlcyB0aGUgZHJhZ2dpbmcgYWJpbGl0eVxyXG5cdGRpc2FibGU6IGZ1bmN0aW9uICgpIHtcclxuXHRcdGlmICghdGhpcy5fZW5hYmxlZCkgeyByZXR1cm47IH1cclxuXHJcblx0XHRMLkRvbUV2ZW50Lm9mZih0aGlzLl9kcmFnU3RhcnRUYXJnZXQsIEwuRHJhZ2dhYmxlLlNUQVJULmpvaW4oJyAnKSwgdGhpcy5fb25Eb3duLCB0aGlzKTtcclxuXHJcblx0XHR0aGlzLl9lbmFibGVkID0gZmFsc2U7XHJcblx0XHR0aGlzLl9tb3ZlZCA9IGZhbHNlO1xyXG5cdH0sXHJcblxyXG5cdF9vbkRvd246IGZ1bmN0aW9uIChlKSB7XHJcblx0XHQvLyBJZ25vcmUgc2ltdWxhdGVkIGV2ZW50cywgc2luY2Ugd2UgaGFuZGxlIGJvdGggdG91Y2ggYW5kXHJcblx0XHQvLyBtb3VzZSBleHBsaWNpdGx5OyBvdGhlcndpc2Ugd2UgcmlzayBnZXR0aW5nIGR1cGxpY2F0ZXMgb2ZcclxuXHRcdC8vIHRvdWNoIGV2ZW50cywgc2VlICM0MzE1LlxyXG5cdFx0Ly8gQWxzbyBpZ25vcmUgdGhlIGV2ZW50IGlmIGRpc2FibGVkOyB0aGlzIGhhcHBlbnMgaW4gSUUxMVxyXG5cdFx0Ly8gdW5kZXIgc29tZSBjaXJjdW1zdGFuY2VzLCBzZWUgIzM2NjYuXHJcblx0XHRpZiAoZS5fc2ltdWxhdGVkIHx8ICF0aGlzLl9lbmFibGVkKSB7IHJldHVybjsgfVxyXG5cclxuXHRcdHRoaXMuX21vdmVkID0gZmFsc2U7XHJcblxyXG5cdFx0aWYgKEwuRG9tVXRpbC5oYXNDbGFzcyh0aGlzLl9lbGVtZW50LCAnbGVhZmxldC16b29tLWFuaW0nKSkgeyByZXR1cm47IH1cclxuXHJcblx0XHRpZiAoTC5EcmFnZ2FibGUuX2RyYWdnaW5nIHx8IGUuc2hpZnRLZXkgfHwgKChlLndoaWNoICE9PSAxKSAmJiAoZS5idXR0b24gIT09IDEpICYmICFlLnRvdWNoZXMpIHx8ICF0aGlzLl9lbmFibGVkKSB7IHJldHVybjsgfVxyXG5cdFx0TC5EcmFnZ2FibGUuX2RyYWdnaW5nID0gdHJ1ZTsgIC8vIFByZXZlbnQgZHJhZ2dpbmcgbXVsdGlwbGUgb2JqZWN0cyBhdCBvbmNlLlxyXG5cclxuXHRcdGlmICh0aGlzLl9wcmV2ZW50T3V0bGluZSkge1xyXG5cdFx0XHRMLkRvbVV0aWwucHJldmVudE91dGxpbmUodGhpcy5fZWxlbWVudCk7XHJcblx0XHR9XHJcblxyXG5cdFx0TC5Eb21VdGlsLmRpc2FibGVJbWFnZURyYWcoKTtcclxuXHRcdEwuRG9tVXRpbC5kaXNhYmxlVGV4dFNlbGVjdGlvbigpO1xyXG5cclxuXHRcdGlmICh0aGlzLl9tb3ZpbmcpIHsgcmV0dXJuOyB9XHJcblxyXG5cdFx0Ly8gQGV2ZW50IGRvd246IEV2ZW50XHJcblx0XHQvLyBGaXJlZCB3aGVuIGEgZHJhZyBpcyBhYm91dCB0byBzdGFydC5cclxuXHRcdHRoaXMuZmlyZSgnZG93bicpO1xyXG5cclxuXHRcdHZhciBmaXJzdCA9IGUudG91Y2hlcyA/IGUudG91Y2hlc1swXSA6IGU7XHJcblxyXG5cdFx0dGhpcy5fc3RhcnRQb2ludCA9IG5ldyBMLlBvaW50KGZpcnN0LmNsaWVudFgsIGZpcnN0LmNsaWVudFkpO1xyXG5cclxuXHRcdEwuRG9tRXZlbnRcclxuXHRcdFx0Lm9uKGRvY3VtZW50LCBMLkRyYWdnYWJsZS5NT1ZFW2UudHlwZV0sIHRoaXMuX29uTW92ZSwgdGhpcylcclxuXHRcdFx0Lm9uKGRvY3VtZW50LCBMLkRyYWdnYWJsZS5FTkRbZS50eXBlXSwgdGhpcy5fb25VcCwgdGhpcyk7XHJcblx0fSxcclxuXHJcblx0X29uTW92ZTogZnVuY3Rpb24gKGUpIHtcclxuXHRcdC8vIElnbm9yZSBzaW11bGF0ZWQgZXZlbnRzLCBzaW5jZSB3ZSBoYW5kbGUgYm90aCB0b3VjaCBhbmRcclxuXHRcdC8vIG1vdXNlIGV4cGxpY2l0bHk7IG90aGVyd2lzZSB3ZSByaXNrIGdldHRpbmcgZHVwbGljYXRlcyBvZlxyXG5cdFx0Ly8gdG91Y2ggZXZlbnRzLCBzZWUgIzQzMTUuXHJcblx0XHQvLyBBbHNvIGlnbm9yZSB0aGUgZXZlbnQgaWYgZGlzYWJsZWQ7IHRoaXMgaGFwcGVucyBpbiBJRTExXHJcblx0XHQvLyB1bmRlciBzb21lIGNpcmN1bXN0YW5jZXMsIHNlZSAjMzY2Ni5cclxuXHRcdGlmIChlLl9zaW11bGF0ZWQgfHwgIXRoaXMuX2VuYWJsZWQpIHsgcmV0dXJuOyB9XHJcblxyXG5cdFx0aWYgKGUudG91Y2hlcyAmJiBlLnRvdWNoZXMubGVuZ3RoID4gMSkge1xyXG5cdFx0XHR0aGlzLl9tb3ZlZCA9IHRydWU7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHR2YXIgZmlyc3QgPSAoZS50b3VjaGVzICYmIGUudG91Y2hlcy5sZW5ndGggPT09IDEgPyBlLnRvdWNoZXNbMF0gOiBlKSxcclxuXHRcdCAgICBuZXdQb2ludCA9IG5ldyBMLlBvaW50KGZpcnN0LmNsaWVudFgsIGZpcnN0LmNsaWVudFkpLFxyXG5cdFx0ICAgIG9mZnNldCA9IG5ld1BvaW50LnN1YnRyYWN0KHRoaXMuX3N0YXJ0UG9pbnQpO1xyXG5cclxuXHRcdGlmICghb2Zmc2V0LnggJiYgIW9mZnNldC55KSB7IHJldHVybjsgfVxyXG5cdFx0aWYgKE1hdGguYWJzKG9mZnNldC54KSArIE1hdGguYWJzKG9mZnNldC55KSA8IHRoaXMub3B0aW9ucy5jbGlja1RvbGVyYW5jZSkgeyByZXR1cm47IH1cclxuXHJcblx0XHRMLkRvbUV2ZW50LnByZXZlbnREZWZhdWx0KGUpO1xyXG5cclxuXHRcdGlmICghdGhpcy5fbW92ZWQpIHtcclxuXHRcdFx0Ly8gQGV2ZW50IGRyYWdzdGFydDogRXZlbnRcclxuXHRcdFx0Ly8gRmlyZWQgd2hlbiBhIGRyYWcgc3RhcnRzXHJcblx0XHRcdHRoaXMuZmlyZSgnZHJhZ3N0YXJ0Jyk7XHJcblxyXG5cdFx0XHR0aGlzLl9tb3ZlZCA9IHRydWU7XHJcblx0XHRcdHRoaXMuX3N0YXJ0UG9zID0gTC5Eb21VdGlsLmdldFBvc2l0aW9uKHRoaXMuX2VsZW1lbnQpLnN1YnRyYWN0KG9mZnNldCk7XHJcblxyXG5cdFx0XHRMLkRvbVV0aWwuYWRkQ2xhc3MoZG9jdW1lbnQuYm9keSwgJ2xlYWZsZXQtZHJhZ2dpbmcnKTtcclxuXHJcblx0XHRcdHRoaXMuX2xhc3RUYXJnZXQgPSBlLnRhcmdldCB8fCBlLnNyY0VsZW1lbnQ7XHJcblx0XHRcdC8vIElFIGFuZCBFZGdlIGRvIG5vdCBnaXZlIHRoZSA8dXNlPiBlbGVtZW50LCBzbyBmZXRjaCBpdFxyXG5cdFx0XHQvLyBpZiBuZWNlc3NhcnlcclxuXHRcdFx0aWYgKCh3aW5kb3cuU1ZHRWxlbWVudEluc3RhbmNlKSAmJiAodGhpcy5fbGFzdFRhcmdldCBpbnN0YW5jZW9mIFNWR0VsZW1lbnRJbnN0YW5jZSkpIHtcclxuXHRcdFx0XHR0aGlzLl9sYXN0VGFyZ2V0ID0gdGhpcy5fbGFzdFRhcmdldC5jb3JyZXNwb25kaW5nVXNlRWxlbWVudDtcclxuXHRcdFx0fVxyXG5cdFx0XHRMLkRvbVV0aWwuYWRkQ2xhc3ModGhpcy5fbGFzdFRhcmdldCwgJ2xlYWZsZXQtZHJhZy10YXJnZXQnKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLl9uZXdQb3MgPSB0aGlzLl9zdGFydFBvcy5hZGQob2Zmc2V0KTtcclxuXHRcdHRoaXMuX21vdmluZyA9IHRydWU7XHJcblxyXG5cdFx0TC5VdGlsLmNhbmNlbEFuaW1GcmFtZSh0aGlzLl9hbmltUmVxdWVzdCk7XHJcblx0XHR0aGlzLl9sYXN0RXZlbnQgPSBlO1xyXG5cdFx0dGhpcy5fYW5pbVJlcXVlc3QgPSBMLlV0aWwucmVxdWVzdEFuaW1GcmFtZSh0aGlzLl91cGRhdGVQb3NpdGlvbiwgdGhpcywgdHJ1ZSk7XHJcblx0fSxcclxuXHJcblx0X3VwZGF0ZVBvc2l0aW9uOiBmdW5jdGlvbiAoKSB7XHJcblx0XHR2YXIgZSA9IHtvcmlnaW5hbEV2ZW50OiB0aGlzLl9sYXN0RXZlbnR9O1xyXG5cclxuXHRcdC8vIEBldmVudCBwcmVkcmFnOiBFdmVudFxyXG5cdFx0Ly8gRmlyZWQgY29udGludW91c2x5IGR1cmluZyBkcmFnZ2luZyAqYmVmb3JlKiBlYWNoIGNvcnJlc3BvbmRpbmdcclxuXHRcdC8vIHVwZGF0ZSBvZiB0aGUgZWxlbWVudCdzIHBvc2l0aW9uLlxyXG5cdFx0dGhpcy5maXJlKCdwcmVkcmFnJywgZSk7XHJcblx0XHRMLkRvbVV0aWwuc2V0UG9zaXRpb24odGhpcy5fZWxlbWVudCwgdGhpcy5fbmV3UG9zKTtcclxuXHJcblx0XHQvLyBAZXZlbnQgZHJhZzogRXZlbnRcclxuXHRcdC8vIEZpcmVkIGNvbnRpbnVvdXNseSBkdXJpbmcgZHJhZ2dpbmcuXHJcblx0XHR0aGlzLmZpcmUoJ2RyYWcnLCBlKTtcclxuXHR9LFxyXG5cclxuXHRfb25VcDogZnVuY3Rpb24gKGUpIHtcclxuXHRcdC8vIElnbm9yZSBzaW11bGF0ZWQgZXZlbnRzLCBzaW5jZSB3ZSBoYW5kbGUgYm90aCB0b3VjaCBhbmRcclxuXHRcdC8vIG1vdXNlIGV4cGxpY2l0bHk7IG90aGVyd2lzZSB3ZSByaXNrIGdldHRpbmcgZHVwbGljYXRlcyBvZlxyXG5cdFx0Ly8gdG91Y2ggZXZlbnRzLCBzZWUgIzQzMTUuXHJcblx0XHQvLyBBbHNvIGlnbm9yZSB0aGUgZXZlbnQgaWYgZGlzYWJsZWQ7IHRoaXMgaGFwcGVucyBpbiBJRTExXHJcblx0XHQvLyB1bmRlciBzb21lIGNpcmN1bXN0YW5jZXMsIHNlZSAjMzY2Ni5cclxuXHRcdGlmIChlLl9zaW11bGF0ZWQgfHwgIXRoaXMuX2VuYWJsZWQpIHsgcmV0dXJuOyB9XHJcblxyXG5cdFx0TC5Eb21VdGlsLnJlbW92ZUNsYXNzKGRvY3VtZW50LmJvZHksICdsZWFmbGV0LWRyYWdnaW5nJyk7XHJcblxyXG5cdFx0aWYgKHRoaXMuX2xhc3RUYXJnZXQpIHtcclxuXHRcdFx0TC5Eb21VdGlsLnJlbW92ZUNsYXNzKHRoaXMuX2xhc3RUYXJnZXQsICdsZWFmbGV0LWRyYWctdGFyZ2V0Jyk7XHJcblx0XHRcdHRoaXMuX2xhc3RUYXJnZXQgPSBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZvciAodmFyIGkgaW4gTC5EcmFnZ2FibGUuTU9WRSkge1xyXG5cdFx0XHRMLkRvbUV2ZW50XHJcblx0XHRcdFx0Lm9mZihkb2N1bWVudCwgTC5EcmFnZ2FibGUuTU9WRVtpXSwgdGhpcy5fb25Nb3ZlLCB0aGlzKVxyXG5cdFx0XHRcdC5vZmYoZG9jdW1lbnQsIEwuRHJhZ2dhYmxlLkVORFtpXSwgdGhpcy5fb25VcCwgdGhpcyk7XHJcblx0XHR9XHJcblxyXG5cdFx0TC5Eb21VdGlsLmVuYWJsZUltYWdlRHJhZygpO1xyXG5cdFx0TC5Eb21VdGlsLmVuYWJsZVRleHRTZWxlY3Rpb24oKTtcclxuXHJcblx0XHRpZiAodGhpcy5fbW92ZWQgJiYgdGhpcy5fbW92aW5nKSB7XHJcblx0XHRcdC8vIGVuc3VyZSBkcmFnIGlzIG5vdCBmaXJlZCBhZnRlciBkcmFnZW5kXHJcblx0XHRcdEwuVXRpbC5jYW5jZWxBbmltRnJhbWUodGhpcy5fYW5pbVJlcXVlc3QpO1xyXG5cclxuXHRcdFx0Ly8gQGV2ZW50IGRyYWdlbmQ6IERyYWdFbmRFdmVudFxyXG5cdFx0XHQvLyBGaXJlZCB3aGVuIHRoZSBkcmFnIGVuZHMuXHJcblx0XHRcdHRoaXMuZmlyZSgnZHJhZ2VuZCcsIHtcclxuXHRcdFx0XHRkaXN0YW5jZTogdGhpcy5fbmV3UG9zLmRpc3RhbmNlVG8odGhpcy5fc3RhcnRQb3MpXHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuX21vdmluZyA9IGZhbHNlO1xyXG5cdFx0TC5EcmFnZ2FibGUuX2RyYWdnaW5nID0gZmFsc2U7XHJcblx0fVxyXG59KTtcclxuXG4vKlxuXHRMLkhhbmRsZXIgaXMgYSBiYXNlIGNsYXNzIGZvciBoYW5kbGVyIGNsYXNzZXMgdGhhdCBhcmUgdXNlZCBpbnRlcm5hbGx5IHRvIGluamVjdFxuXHRpbnRlcmFjdGlvbiBmZWF0dXJlcyBsaWtlIGRyYWdnaW5nIHRvIGNsYXNzZXMgbGlrZSBNYXAgYW5kIE1hcmtlci5cbiovXG5cbi8vIEBjbGFzcyBIYW5kbGVyXG4vLyBAYWthIEwuSGFuZGxlclxuLy8gQWJzdHJhY3QgY2xhc3MgZm9yIG1hcCBpbnRlcmFjdGlvbiBoYW5kbGVyc1xuXG5MLkhhbmRsZXIgPSBMLkNsYXNzLmV4dGVuZCh7XG5cdGluaXRpYWxpemU6IGZ1bmN0aW9uIChtYXApIHtcblx0XHR0aGlzLl9tYXAgPSBtYXA7XG5cdH0sXG5cblx0Ly8gQG1ldGhvZCBlbmFibGUoKTogdGhpc1xuXHQvLyBFbmFibGVzIHRoZSBoYW5kbGVyXG5cdGVuYWJsZTogZnVuY3Rpb24gKCkge1xuXHRcdGlmICh0aGlzLl9lbmFibGVkKSB7IHJldHVybiB0aGlzOyB9XG5cblx0XHR0aGlzLl9lbmFibGVkID0gdHJ1ZTtcblx0XHR0aGlzLmFkZEhvb2tzKCk7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0Ly8gQG1ldGhvZCBkaXNhYmxlKCk6IHRoaXNcblx0Ly8gRGlzYWJsZXMgdGhlIGhhbmRsZXJcblx0ZGlzYWJsZTogZnVuY3Rpb24gKCkge1xuXHRcdGlmICghdGhpcy5fZW5hYmxlZCkgeyByZXR1cm4gdGhpczsgfVxuXG5cdFx0dGhpcy5fZW5hYmxlZCA9IGZhbHNlO1xuXHRcdHRoaXMucmVtb3ZlSG9va3MoKTtcblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHQvLyBAbWV0aG9kIGVuYWJsZWQoKTogQm9vbGVhblxuXHQvLyBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgaGFuZGxlciBpcyBlbmFibGVkXG5cdGVuYWJsZWQ6IGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gISF0aGlzLl9lbmFibGVkO1xuXHR9XG5cblx0Ly8gQHNlY3Rpb24gRXh0ZW5zaW9uIG1ldGhvZHNcblx0Ly8gQ2xhc3NlcyBpbmhlcml0aW5nIGZyb20gYEhhbmRsZXJgIG11c3QgaW1wbGVtZW50IHRoZSB0d28gZm9sbG93aW5nIG1ldGhvZHM6XG5cdC8vIEBtZXRob2QgYWRkSG9va3MoKVxuXHQvLyBDYWxsZWQgd2hlbiB0aGUgaGFuZGxlciBpcyBlbmFibGVkLCBzaG91bGQgYWRkIGV2ZW50IGhvb2tzLlxuXHQvLyBAbWV0aG9kIHJlbW92ZUhvb2tzKClcblx0Ly8gQ2FsbGVkIHdoZW4gdGhlIGhhbmRsZXIgaXMgZGlzYWJsZWQsIHNob3VsZCByZW1vdmUgdGhlIGV2ZW50IGhvb2tzIGFkZGVkIHByZXZpb3VzbHkuXG59KTtcblxuLypcbiAqIEwuSGFuZGxlci5NYXBEcmFnIGlzIHVzZWQgdG8gbWFrZSB0aGUgbWFwIGRyYWdnYWJsZSAod2l0aCBwYW5uaW5nIGluZXJ0aWEpLCBlbmFibGVkIGJ5IGRlZmF1bHQuXG4gKi9cblxuLy8gQG5hbWVzcGFjZSBNYXBcbi8vIEBzZWN0aW9uIEludGVyYWN0aW9uIE9wdGlvbnNcbkwuTWFwLm1lcmdlT3B0aW9ucyh7XG5cdC8vIEBvcHRpb24gZHJhZ2dpbmc6IEJvb2xlYW4gPSB0cnVlXG5cdC8vIFdoZXRoZXIgdGhlIG1hcCBiZSBkcmFnZ2FibGUgd2l0aCBtb3VzZS90b3VjaCBvciBub3QuXG5cdGRyYWdnaW5nOiB0cnVlLFxuXG5cdC8vIEBzZWN0aW9uIFBhbm5pbmcgSW5lcnRpYSBPcHRpb25zXG5cdC8vIEBvcHRpb24gaW5lcnRpYTogQm9vbGVhbiA9ICpcblx0Ly8gSWYgZW5hYmxlZCwgcGFubmluZyBvZiB0aGUgbWFwIHdpbGwgaGF2ZSBhbiBpbmVydGlhIGVmZmVjdCB3aGVyZVxuXHQvLyB0aGUgbWFwIGJ1aWxkcyBtb21lbnR1bSB3aGlsZSBkcmFnZ2luZyBhbmQgY29udGludWVzIG1vdmluZyBpblxuXHQvLyB0aGUgc2FtZSBkaXJlY3Rpb24gZm9yIHNvbWUgdGltZS4gRmVlbHMgZXNwZWNpYWxseSBuaWNlIG9uIHRvdWNoXG5cdC8vIGRldmljZXMuIEVuYWJsZWQgYnkgZGVmYXVsdCB1bmxlc3MgcnVubmluZyBvbiBvbGQgQW5kcm9pZCBkZXZpY2VzLlxuXHRpbmVydGlhOiAhTC5Ccm93c2VyLmFuZHJvaWQyMyxcblxuXHQvLyBAb3B0aW9uIGluZXJ0aWFEZWNlbGVyYXRpb246IE51bWJlciA9IDMwMDBcblx0Ly8gVGhlIHJhdGUgd2l0aCB3aGljaCB0aGUgaW5lcnRpYWwgbW92ZW1lbnQgc2xvd3MgZG93biwgaW4gcGl4ZWxzL3NlY29uZMKyLlxuXHRpbmVydGlhRGVjZWxlcmF0aW9uOiAzNDAwLCAvLyBweC9zXjJcblxuXHQvLyBAb3B0aW9uIGluZXJ0aWFNYXhTcGVlZDogTnVtYmVyID0gSW5maW5pdHlcblx0Ly8gTWF4IHNwZWVkIG9mIHRoZSBpbmVydGlhbCBtb3ZlbWVudCwgaW4gcGl4ZWxzL3NlY29uZC5cblx0aW5lcnRpYU1heFNwZWVkOiBJbmZpbml0eSwgLy8gcHgvc1xuXG5cdC8vIEBvcHRpb24gZWFzZUxpbmVhcml0eTogTnVtYmVyID0gMC4yXG5cdGVhc2VMaW5lYXJpdHk6IDAuMixcblxuXHQvLyBUT0RPIHJlZmFjdG9yLCBtb3ZlIHRvIENSU1xuXHQvLyBAb3B0aW9uIHdvcmxkQ29weUp1bXA6IEJvb2xlYW4gPSBmYWxzZVxuXHQvLyBXaXRoIHRoaXMgb3B0aW9uIGVuYWJsZWQsIHRoZSBtYXAgdHJhY2tzIHdoZW4geW91IHBhbiB0byBhbm90aGVyIFwiY29weVwiXG5cdC8vIG9mIHRoZSB3b3JsZCBhbmQgc2VhbWxlc3NseSBqdW1wcyB0byB0aGUgb3JpZ2luYWwgb25lIHNvIHRoYXQgYWxsIG92ZXJsYXlzXG5cdC8vIGxpa2UgbWFya2VycyBhbmQgdmVjdG9yIGxheWVycyBhcmUgc3RpbGwgdmlzaWJsZS5cblx0d29ybGRDb3B5SnVtcDogZmFsc2UsXG5cblx0Ly8gQG9wdGlvbiBtYXhCb3VuZHNWaXNjb3NpdHk6IE51bWJlciA9IDAuMFxuXHQvLyBJZiBgbWF4Qm91bmRzYCBpcyBzZXQsIHRoaXMgb3B0aW9uIHdpbGwgY29udHJvbCBob3cgc29saWQgdGhlIGJvdW5kc1xuXHQvLyBhcmUgd2hlbiBkcmFnZ2luZyB0aGUgbWFwIGFyb3VuZC4gVGhlIGRlZmF1bHQgdmFsdWUgb2YgYDAuMGAgYWxsb3dzIHRoZVxuXHQvLyB1c2VyIHRvIGRyYWcgb3V0c2lkZSB0aGUgYm91bmRzIGF0IG5vcm1hbCBzcGVlZCwgaGlnaGVyIHZhbHVlcyB3aWxsXG5cdC8vIHNsb3cgZG93biBtYXAgZHJhZ2dpbmcgb3V0c2lkZSBib3VuZHMsIGFuZCBgMS4wYCBtYWtlcyB0aGUgYm91bmRzIGZ1bGx5XG5cdC8vIHNvbGlkLCBwcmV2ZW50aW5nIHRoZSB1c2VyIGZyb20gZHJhZ2dpbmcgb3V0c2lkZSB0aGUgYm91bmRzLlxuXHRtYXhCb3VuZHNWaXNjb3NpdHk6IDAuMFxufSk7XG5cbkwuTWFwLkRyYWcgPSBMLkhhbmRsZXIuZXh0ZW5kKHtcblx0YWRkSG9va3M6IGZ1bmN0aW9uICgpIHtcblx0XHRpZiAoIXRoaXMuX2RyYWdnYWJsZSkge1xuXHRcdFx0dmFyIG1hcCA9IHRoaXMuX21hcDtcblxuXHRcdFx0dGhpcy5fZHJhZ2dhYmxlID0gbmV3IEwuRHJhZ2dhYmxlKG1hcC5fbWFwUGFuZSwgbWFwLl9jb250YWluZXIpO1xuXG5cdFx0XHR0aGlzLl9kcmFnZ2FibGUub24oe1xuXHRcdFx0XHRkb3duOiB0aGlzLl9vbkRvd24sXG5cdFx0XHRcdGRyYWdzdGFydDogdGhpcy5fb25EcmFnU3RhcnQsXG5cdFx0XHRcdGRyYWc6IHRoaXMuX29uRHJhZyxcblx0XHRcdFx0ZHJhZ2VuZDogdGhpcy5fb25EcmFnRW5kXG5cdFx0XHR9LCB0aGlzKTtcblxuXHRcdFx0dGhpcy5fZHJhZ2dhYmxlLm9uKCdwcmVkcmFnJywgdGhpcy5fb25QcmVEcmFnTGltaXQsIHRoaXMpO1xuXHRcdFx0aWYgKG1hcC5vcHRpb25zLndvcmxkQ29weUp1bXApIHtcblx0XHRcdFx0dGhpcy5fZHJhZ2dhYmxlLm9uKCdwcmVkcmFnJywgdGhpcy5fb25QcmVEcmFnV3JhcCwgdGhpcyk7XG5cdFx0XHRcdG1hcC5vbignem9vbWVuZCcsIHRoaXMuX29uWm9vbUVuZCwgdGhpcyk7XG5cblx0XHRcdFx0bWFwLndoZW5SZWFkeSh0aGlzLl9vblpvb21FbmQsIHRoaXMpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRMLkRvbVV0aWwuYWRkQ2xhc3ModGhpcy5fbWFwLl9jb250YWluZXIsICdsZWFmbGV0LWdyYWIgbGVhZmxldC10b3VjaC1kcmFnJyk7XG5cdFx0dGhpcy5fZHJhZ2dhYmxlLmVuYWJsZSgpO1xuXHRcdHRoaXMuX3Bvc2l0aW9ucyA9IFtdO1xuXHRcdHRoaXMuX3RpbWVzID0gW107XG5cdH0sXG5cblx0cmVtb3ZlSG9va3M6IGZ1bmN0aW9uICgpIHtcblx0XHRMLkRvbVV0aWwucmVtb3ZlQ2xhc3ModGhpcy5fbWFwLl9jb250YWluZXIsICdsZWFmbGV0LWdyYWInKTtcblx0XHRMLkRvbVV0aWwucmVtb3ZlQ2xhc3ModGhpcy5fbWFwLl9jb250YWluZXIsICdsZWFmbGV0LXRvdWNoLWRyYWcnKTtcblx0XHR0aGlzLl9kcmFnZ2FibGUuZGlzYWJsZSgpO1xuXHR9LFxuXG5cdG1vdmVkOiBmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuIHRoaXMuX2RyYWdnYWJsZSAmJiB0aGlzLl9kcmFnZ2FibGUuX21vdmVkO1xuXHR9LFxuXG5cdG1vdmluZzogZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiB0aGlzLl9kcmFnZ2FibGUgJiYgdGhpcy5fZHJhZ2dhYmxlLl9tb3Zpbmc7XG5cdH0sXG5cblx0X29uRG93bjogZnVuY3Rpb24gKCkge1xuXHRcdHRoaXMuX21hcC5fc3RvcCgpO1xuXHR9LFxuXG5cdF9vbkRyYWdTdGFydDogZnVuY3Rpb24gKCkge1xuXHRcdHZhciBtYXAgPSB0aGlzLl9tYXA7XG5cblx0XHRpZiAodGhpcy5fbWFwLm9wdGlvbnMubWF4Qm91bmRzICYmIHRoaXMuX21hcC5vcHRpb25zLm1heEJvdW5kc1Zpc2Nvc2l0eSkge1xuXHRcdFx0dmFyIGJvdW5kcyA9IEwubGF0TG5nQm91bmRzKHRoaXMuX21hcC5vcHRpb25zLm1heEJvdW5kcyk7XG5cblx0XHRcdHRoaXMuX29mZnNldExpbWl0ID0gTC5ib3VuZHMoXG5cdFx0XHRcdHRoaXMuX21hcC5sYXRMbmdUb0NvbnRhaW5lclBvaW50KGJvdW5kcy5nZXROb3J0aFdlc3QoKSkubXVsdGlwbHlCeSgtMSksXG5cdFx0XHRcdHRoaXMuX21hcC5sYXRMbmdUb0NvbnRhaW5lclBvaW50KGJvdW5kcy5nZXRTb3V0aEVhc3QoKSkubXVsdGlwbHlCeSgtMSlcblx0XHRcdFx0XHQuYWRkKHRoaXMuX21hcC5nZXRTaXplKCkpKTtcblxuXHRcdFx0dGhpcy5fdmlzY29zaXR5ID0gTWF0aC5taW4oMS4wLCBNYXRoLm1heCgwLjAsIHRoaXMuX21hcC5vcHRpb25zLm1heEJvdW5kc1Zpc2Nvc2l0eSkpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLl9vZmZzZXRMaW1pdCA9IG51bGw7XG5cdFx0fVxuXG5cdFx0bWFwXG5cdFx0ICAgIC5maXJlKCdtb3Zlc3RhcnQnKVxuXHRcdCAgICAuZmlyZSgnZHJhZ3N0YXJ0Jyk7XG5cblx0XHRpZiAobWFwLm9wdGlvbnMuaW5lcnRpYSkge1xuXHRcdFx0dGhpcy5fcG9zaXRpb25zID0gW107XG5cdFx0XHR0aGlzLl90aW1lcyA9IFtdO1xuXHRcdH1cblx0fSxcblxuXHRfb25EcmFnOiBmdW5jdGlvbiAoZSkge1xuXHRcdGlmICh0aGlzLl9tYXAub3B0aW9ucy5pbmVydGlhKSB7XG5cdFx0XHR2YXIgdGltZSA9IHRoaXMuX2xhc3RUaW1lID0gK25ldyBEYXRlKCksXG5cdFx0XHQgICAgcG9zID0gdGhpcy5fbGFzdFBvcyA9IHRoaXMuX2RyYWdnYWJsZS5fYWJzUG9zIHx8IHRoaXMuX2RyYWdnYWJsZS5fbmV3UG9zO1xuXG5cdFx0XHR0aGlzLl9wb3NpdGlvbnMucHVzaChwb3MpO1xuXHRcdFx0dGhpcy5fdGltZXMucHVzaCh0aW1lKTtcblxuXHRcdFx0aWYgKHRpbWUgLSB0aGlzLl90aW1lc1swXSA+IDUwKSB7XG5cdFx0XHRcdHRoaXMuX3Bvc2l0aW9ucy5zaGlmdCgpO1xuXHRcdFx0XHR0aGlzLl90aW1lcy5zaGlmdCgpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHRoaXMuX21hcFxuXHRcdCAgICAuZmlyZSgnbW92ZScsIGUpXG5cdFx0ICAgIC5maXJlKCdkcmFnJywgZSk7XG5cdH0sXG5cblx0X29uWm9vbUVuZDogZnVuY3Rpb24gKCkge1xuXHRcdHZhciBweENlbnRlciA9IHRoaXMuX21hcC5nZXRTaXplKCkuZGl2aWRlQnkoMiksXG5cdFx0ICAgIHB4V29ybGRDZW50ZXIgPSB0aGlzLl9tYXAubGF0TG5nVG9MYXllclBvaW50KFswLCAwXSk7XG5cblx0XHR0aGlzLl9pbml0aWFsV29ybGRPZmZzZXQgPSBweFdvcmxkQ2VudGVyLnN1YnRyYWN0KHB4Q2VudGVyKS54O1xuXHRcdHRoaXMuX3dvcmxkV2lkdGggPSB0aGlzLl9tYXAuZ2V0UGl4ZWxXb3JsZEJvdW5kcygpLmdldFNpemUoKS54O1xuXHR9LFxuXG5cdF92aXNjb3VzTGltaXQ6IGZ1bmN0aW9uICh2YWx1ZSwgdGhyZXNob2xkKSB7XG5cdFx0cmV0dXJuIHZhbHVlIC0gKHZhbHVlIC0gdGhyZXNob2xkKSAqIHRoaXMuX3Zpc2Nvc2l0eTtcblx0fSxcblxuXHRfb25QcmVEcmFnTGltaXQ6IGZ1bmN0aW9uICgpIHtcblx0XHRpZiAoIXRoaXMuX3Zpc2Nvc2l0eSB8fCAhdGhpcy5fb2Zmc2V0TGltaXQpIHsgcmV0dXJuOyB9XG5cblx0XHR2YXIgb2Zmc2V0ID0gdGhpcy5fZHJhZ2dhYmxlLl9uZXdQb3Muc3VidHJhY3QodGhpcy5fZHJhZ2dhYmxlLl9zdGFydFBvcyk7XG5cblx0XHR2YXIgbGltaXQgPSB0aGlzLl9vZmZzZXRMaW1pdDtcblx0XHRpZiAob2Zmc2V0LnggPCBsaW1pdC5taW4ueCkgeyBvZmZzZXQueCA9IHRoaXMuX3Zpc2NvdXNMaW1pdChvZmZzZXQueCwgbGltaXQubWluLngpOyB9XG5cdFx0aWYgKG9mZnNldC55IDwgbGltaXQubWluLnkpIHsgb2Zmc2V0LnkgPSB0aGlzLl92aXNjb3VzTGltaXQob2Zmc2V0LnksIGxpbWl0Lm1pbi55KTsgfVxuXHRcdGlmIChvZmZzZXQueCA+IGxpbWl0Lm1heC54KSB7IG9mZnNldC54ID0gdGhpcy5fdmlzY291c0xpbWl0KG9mZnNldC54LCBsaW1pdC5tYXgueCk7IH1cblx0XHRpZiAob2Zmc2V0LnkgPiBsaW1pdC5tYXgueSkgeyBvZmZzZXQueSA9IHRoaXMuX3Zpc2NvdXNMaW1pdChvZmZzZXQueSwgbGltaXQubWF4LnkpOyB9XG5cblx0XHR0aGlzLl9kcmFnZ2FibGUuX25ld1BvcyA9IHRoaXMuX2RyYWdnYWJsZS5fc3RhcnRQb3MuYWRkKG9mZnNldCk7XG5cdH0sXG5cblx0X29uUHJlRHJhZ1dyYXA6IGZ1bmN0aW9uICgpIHtcblx0XHQvLyBUT0RPIHJlZmFjdG9yIHRvIGJlIGFibGUgdG8gYWRqdXN0IG1hcCBwYW5lIHBvc2l0aW9uIGFmdGVyIHpvb21cblx0XHR2YXIgd29ybGRXaWR0aCA9IHRoaXMuX3dvcmxkV2lkdGgsXG5cdFx0ICAgIGhhbGZXaWR0aCA9IE1hdGgucm91bmQod29ybGRXaWR0aCAvIDIpLFxuXHRcdCAgICBkeCA9IHRoaXMuX2luaXRpYWxXb3JsZE9mZnNldCxcblx0XHQgICAgeCA9IHRoaXMuX2RyYWdnYWJsZS5fbmV3UG9zLngsXG5cdFx0ICAgIG5ld1gxID0gKHggLSBoYWxmV2lkdGggKyBkeCkgJSB3b3JsZFdpZHRoICsgaGFsZldpZHRoIC0gZHgsXG5cdFx0ICAgIG5ld1gyID0gKHggKyBoYWxmV2lkdGggKyBkeCkgJSB3b3JsZFdpZHRoIC0gaGFsZldpZHRoIC0gZHgsXG5cdFx0ICAgIG5ld1ggPSBNYXRoLmFicyhuZXdYMSArIGR4KSA8IE1hdGguYWJzKG5ld1gyICsgZHgpID8gbmV3WDEgOiBuZXdYMjtcblxuXHRcdHRoaXMuX2RyYWdnYWJsZS5fYWJzUG9zID0gdGhpcy5fZHJhZ2dhYmxlLl9uZXdQb3MuY2xvbmUoKTtcblx0XHR0aGlzLl9kcmFnZ2FibGUuX25ld1Bvcy54ID0gbmV3WDtcblx0fSxcblxuXHRfb25EcmFnRW5kOiBmdW5jdGlvbiAoZSkge1xuXHRcdHZhciBtYXAgPSB0aGlzLl9tYXAsXG5cdFx0ICAgIG9wdGlvbnMgPSBtYXAub3B0aW9ucyxcblxuXHRcdCAgICBub0luZXJ0aWEgPSAhb3B0aW9ucy5pbmVydGlhIHx8IHRoaXMuX3RpbWVzLmxlbmd0aCA8IDI7XG5cblx0XHRtYXAuZmlyZSgnZHJhZ2VuZCcsIGUpO1xuXG5cdFx0aWYgKG5vSW5lcnRpYSkge1xuXHRcdFx0bWFwLmZpcmUoJ21vdmVlbmQnKTtcblxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdHZhciBkaXJlY3Rpb24gPSB0aGlzLl9sYXN0UG9zLnN1YnRyYWN0KHRoaXMuX3Bvc2l0aW9uc1swXSksXG5cdFx0XHQgICAgZHVyYXRpb24gPSAodGhpcy5fbGFzdFRpbWUgLSB0aGlzLl90aW1lc1swXSkgLyAxMDAwLFxuXHRcdFx0ICAgIGVhc2UgPSBvcHRpb25zLmVhc2VMaW5lYXJpdHksXG5cblx0XHRcdCAgICBzcGVlZFZlY3RvciA9IGRpcmVjdGlvbi5tdWx0aXBseUJ5KGVhc2UgLyBkdXJhdGlvbiksXG5cdFx0XHQgICAgc3BlZWQgPSBzcGVlZFZlY3Rvci5kaXN0YW5jZVRvKFswLCAwXSksXG5cblx0XHRcdCAgICBsaW1pdGVkU3BlZWQgPSBNYXRoLm1pbihvcHRpb25zLmluZXJ0aWFNYXhTcGVlZCwgc3BlZWQpLFxuXHRcdFx0ICAgIGxpbWl0ZWRTcGVlZFZlY3RvciA9IHNwZWVkVmVjdG9yLm11bHRpcGx5QnkobGltaXRlZFNwZWVkIC8gc3BlZWQpLFxuXG5cdFx0XHQgICAgZGVjZWxlcmF0aW9uRHVyYXRpb24gPSBsaW1pdGVkU3BlZWQgLyAob3B0aW9ucy5pbmVydGlhRGVjZWxlcmF0aW9uICogZWFzZSksXG5cdFx0XHQgICAgb2Zmc2V0ID0gbGltaXRlZFNwZWVkVmVjdG9yLm11bHRpcGx5QnkoLWRlY2VsZXJhdGlvbkR1cmF0aW9uIC8gMikucm91bmQoKTtcblxuXHRcdFx0aWYgKCFvZmZzZXQueCAmJiAhb2Zmc2V0LnkpIHtcblx0XHRcdFx0bWFwLmZpcmUoJ21vdmVlbmQnKTtcblxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0b2Zmc2V0ID0gbWFwLl9saW1pdE9mZnNldChvZmZzZXQsIG1hcC5vcHRpb25zLm1heEJvdW5kcyk7XG5cblx0XHRcdFx0TC5VdGlsLnJlcXVlc3RBbmltRnJhbWUoZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdG1hcC5wYW5CeShvZmZzZXQsIHtcblx0XHRcdFx0XHRcdGR1cmF0aW9uOiBkZWNlbGVyYXRpb25EdXJhdGlvbixcblx0XHRcdFx0XHRcdGVhc2VMaW5lYXJpdHk6IGVhc2UsXG5cdFx0XHRcdFx0XHRub01vdmVTdGFydDogdHJ1ZSxcblx0XHRcdFx0XHRcdGFuaW1hdGU6IHRydWVcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59KTtcblxuLy8gQHNlY3Rpb24gSGFuZGxlcnNcbi8vIEBwcm9wZXJ0eSBkcmFnZ2luZzogSGFuZGxlclxuLy8gTWFwIGRyYWdnaW5nIGhhbmRsZXIgKGJ5IGJvdGggbW91c2UgYW5kIHRvdWNoKS5cbkwuTWFwLmFkZEluaXRIb29rKCdhZGRIYW5kbGVyJywgJ2RyYWdnaW5nJywgTC5NYXAuRHJhZyk7XG5cbi8qXG4gKiBMLkhhbmRsZXIuRG91YmxlQ2xpY2tab29tIGlzIHVzZWQgdG8gaGFuZGxlIGRvdWJsZS1jbGljayB6b29tIG9uIHRoZSBtYXAsIGVuYWJsZWQgYnkgZGVmYXVsdC5cbiAqL1xuXG4vLyBAbmFtZXNwYWNlIE1hcFxuLy8gQHNlY3Rpb24gSW50ZXJhY3Rpb24gT3B0aW9uc1xuXG5MLk1hcC5tZXJnZU9wdGlvbnMoe1xuXHQvLyBAb3B0aW9uIGRvdWJsZUNsaWNrWm9vbTogQm9vbGVhbnxTdHJpbmcgPSB0cnVlXG5cdC8vIFdoZXRoZXIgdGhlIG1hcCBjYW4gYmUgem9vbWVkIGluIGJ5IGRvdWJsZSBjbGlja2luZyBvbiBpdCBhbmRcblx0Ly8gem9vbWVkIG91dCBieSBkb3VibGUgY2xpY2tpbmcgd2hpbGUgaG9sZGluZyBzaGlmdC4gSWYgcGFzc2VkXG5cdC8vIGAnY2VudGVyJ2AsIGRvdWJsZS1jbGljayB6b29tIHdpbGwgem9vbSB0byB0aGUgY2VudGVyIG9mIHRoZVxuXHQvLyAgdmlldyByZWdhcmRsZXNzIG9mIHdoZXJlIHRoZSBtb3VzZSB3YXMuXG5cdGRvdWJsZUNsaWNrWm9vbTogdHJ1ZVxufSk7XG5cbkwuTWFwLkRvdWJsZUNsaWNrWm9vbSA9IEwuSGFuZGxlci5leHRlbmQoe1xuXHRhZGRIb29rczogZnVuY3Rpb24gKCkge1xuXHRcdHRoaXMuX21hcC5vbignZGJsY2xpY2snLCB0aGlzLl9vbkRvdWJsZUNsaWNrLCB0aGlzKTtcblx0fSxcblxuXHRyZW1vdmVIb29rczogZnVuY3Rpb24gKCkge1xuXHRcdHRoaXMuX21hcC5vZmYoJ2RibGNsaWNrJywgdGhpcy5fb25Eb3VibGVDbGljaywgdGhpcyk7XG5cdH0sXG5cblx0X29uRG91YmxlQ2xpY2s6IGZ1bmN0aW9uIChlKSB7XG5cdFx0dmFyIG1hcCA9IHRoaXMuX21hcCxcblx0XHQgICAgb2xkWm9vbSA9IG1hcC5nZXRab29tKCksXG5cdFx0ICAgIGRlbHRhID0gbWFwLm9wdGlvbnMuem9vbURlbHRhLFxuXHRcdCAgICB6b29tID0gZS5vcmlnaW5hbEV2ZW50LnNoaWZ0S2V5ID8gb2xkWm9vbSAtIGRlbHRhIDogb2xkWm9vbSArIGRlbHRhO1xuXG5cdFx0aWYgKG1hcC5vcHRpb25zLmRvdWJsZUNsaWNrWm9vbSA9PT0gJ2NlbnRlcicpIHtcblx0XHRcdG1hcC5zZXRab29tKHpvb20pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRtYXAuc2V0Wm9vbUFyb3VuZChlLmNvbnRhaW5lclBvaW50LCB6b29tKTtcblx0XHR9XG5cdH1cbn0pO1xuXG4vLyBAc2VjdGlvbiBIYW5kbGVyc1xuLy9cbi8vIE1hcCBwcm9wZXJ0aWVzIGluY2x1ZGUgaW50ZXJhY3Rpb24gaGFuZGxlcnMgdGhhdCBhbGxvdyB5b3UgdG8gY29udHJvbFxuLy8gaW50ZXJhY3Rpb24gYmVoYXZpb3IgaW4gcnVudGltZSwgZW5hYmxpbmcgb3IgZGlzYWJsaW5nIGNlcnRhaW4gZmVhdHVyZXMgc3VjaFxuLy8gYXMgZHJhZ2dpbmcgb3IgdG91Y2ggem9vbSAoc2VlIGBIYW5kbGVyYCBtZXRob2RzKS4gRm9yIGV4YW1wbGU6XG4vL1xuLy8gYGBganNcbi8vIG1hcC5kb3VibGVDbGlja1pvb20uZGlzYWJsZSgpO1xuLy8gYGBgXG4vL1xuLy8gQHByb3BlcnR5IGRvdWJsZUNsaWNrWm9vbTogSGFuZGxlclxuLy8gRG91YmxlIGNsaWNrIHpvb20gaGFuZGxlci5cbkwuTWFwLmFkZEluaXRIb29rKCdhZGRIYW5kbGVyJywgJ2RvdWJsZUNsaWNrWm9vbScsIEwuTWFwLkRvdWJsZUNsaWNrWm9vbSk7XG5cbi8qXG4gKiBMLkhhbmRsZXIuU2Nyb2xsV2hlZWxab29tIGlzIHVzZWQgYnkgTC5NYXAgdG8gZW5hYmxlIG1vdXNlIHNjcm9sbCB3aGVlbCB6b29tIG9uIHRoZSBtYXAuXG4gKi9cblxuLy8gQG5hbWVzcGFjZSBNYXBcbi8vIEBzZWN0aW9uIEludGVyYWN0aW9uIE9wdGlvbnNcbkwuTWFwLm1lcmdlT3B0aW9ucyh7XG5cdC8vIEBzZWN0aW9uIE1vdXNld2hlZWwgb3B0aW9uc1xuXHQvLyBAb3B0aW9uIHNjcm9sbFdoZWVsWm9vbTogQm9vbGVhbnxTdHJpbmcgPSB0cnVlXG5cdC8vIFdoZXRoZXIgdGhlIG1hcCBjYW4gYmUgem9vbWVkIGJ5IHVzaW5nIHRoZSBtb3VzZSB3aGVlbC4gSWYgcGFzc2VkIGAnY2VudGVyJ2AsXG5cdC8vIGl0IHdpbGwgem9vbSB0byB0aGUgY2VudGVyIG9mIHRoZSB2aWV3IHJlZ2FyZGxlc3Mgb2Ygd2hlcmUgdGhlIG1vdXNlIHdhcy5cblx0c2Nyb2xsV2hlZWxab29tOiB0cnVlLFxuXG5cdC8vIEBvcHRpb24gd2hlZWxEZWJvdW5jZVRpbWU6IE51bWJlciA9IDQwXG5cdC8vIExpbWl0cyB0aGUgcmF0ZSBhdCB3aGljaCBhIHdoZWVsIGNhbiBmaXJlIChpbiBtaWxsaXNlY29uZHMpLiBCeSBkZWZhdWx0XG5cdC8vIHVzZXIgY2FuJ3Qgem9vbSB2aWEgd2hlZWwgbW9yZSBvZnRlbiB0aGFuIG9uY2UgcGVyIDQwIG1zLlxuXHR3aGVlbERlYm91bmNlVGltZTogNDAsXG5cblx0Ly8gQG9wdGlvbiB3aGVlbFB4UGVyWm9vbUxldmVsOiBOdW1iZXIgPSA2MFxuXHQvLyBIb3cgbWFueSBzY3JvbGwgcGl4ZWxzIChhcyByZXBvcnRlZCBieSBbTC5Eb21FdmVudC5nZXRXaGVlbERlbHRhXSgjZG9tZXZlbnQtZ2V0d2hlZWxkZWx0YSkpXG5cdC8vIG1lYW4gYSBjaGFuZ2Ugb2Ygb25lIGZ1bGwgem9vbSBsZXZlbC4gU21hbGxlciB2YWx1ZXMgd2lsbCBtYWtlIHdoZWVsLXpvb21pbmdcblx0Ly8gZmFzdGVyIChhbmQgdmljZSB2ZXJzYSkuXG5cdHdoZWVsUHhQZXJab29tTGV2ZWw6IDYwXG59KTtcblxuTC5NYXAuU2Nyb2xsV2hlZWxab29tID0gTC5IYW5kbGVyLmV4dGVuZCh7XG5cdGFkZEhvb2tzOiBmdW5jdGlvbiAoKSB7XG5cdFx0TC5Eb21FdmVudC5vbih0aGlzLl9tYXAuX2NvbnRhaW5lciwgJ21vdXNld2hlZWwnLCB0aGlzLl9vbldoZWVsU2Nyb2xsLCB0aGlzKTtcblxuXHRcdHRoaXMuX2RlbHRhID0gMDtcblx0fSxcblxuXHRyZW1vdmVIb29rczogZnVuY3Rpb24gKCkge1xuXHRcdEwuRG9tRXZlbnQub2ZmKHRoaXMuX21hcC5fY29udGFpbmVyLCAnbW91c2V3aGVlbCcsIHRoaXMuX29uV2hlZWxTY3JvbGwsIHRoaXMpO1xuXHR9LFxuXG5cdF9vbldoZWVsU2Nyb2xsOiBmdW5jdGlvbiAoZSkge1xuXHRcdHZhciBkZWx0YSA9IEwuRG9tRXZlbnQuZ2V0V2hlZWxEZWx0YShlKTtcblxuXHRcdHZhciBkZWJvdW5jZSA9IHRoaXMuX21hcC5vcHRpb25zLndoZWVsRGVib3VuY2VUaW1lO1xuXG5cdFx0dGhpcy5fZGVsdGEgKz0gZGVsdGE7XG5cdFx0dGhpcy5fbGFzdE1vdXNlUG9zID0gdGhpcy5fbWFwLm1vdXNlRXZlbnRUb0NvbnRhaW5lclBvaW50KGUpO1xuXG5cdFx0aWYgKCF0aGlzLl9zdGFydFRpbWUpIHtcblx0XHRcdHRoaXMuX3N0YXJ0VGltZSA9ICtuZXcgRGF0ZSgpO1xuXHRcdH1cblxuXHRcdHZhciBsZWZ0ID0gTWF0aC5tYXgoZGVib3VuY2UgLSAoK25ldyBEYXRlKCkgLSB0aGlzLl9zdGFydFRpbWUpLCAwKTtcblxuXHRcdGNsZWFyVGltZW91dCh0aGlzLl90aW1lcik7XG5cdFx0dGhpcy5fdGltZXIgPSBzZXRUaW1lb3V0KEwuYmluZCh0aGlzLl9wZXJmb3JtWm9vbSwgdGhpcyksIGxlZnQpO1xuXG5cdFx0TC5Eb21FdmVudC5zdG9wKGUpO1xuXHR9LFxuXG5cdF9wZXJmb3JtWm9vbTogZnVuY3Rpb24gKCkge1xuXHRcdHZhciBtYXAgPSB0aGlzLl9tYXAsXG5cdFx0ICAgIHpvb20gPSBtYXAuZ2V0Wm9vbSgpLFxuXHRcdCAgICBzbmFwID0gdGhpcy5fbWFwLm9wdGlvbnMuem9vbVNuYXAgfHwgMDtcblxuXHRcdG1hcC5fc3RvcCgpOyAvLyBzdG9wIHBhbm5pbmcgYW5kIGZseSBhbmltYXRpb25zIGlmIGFueVxuXG5cdFx0Ly8gbWFwIHRoZSBkZWx0YSB3aXRoIGEgc2lnbW9pZCBmdW5jdGlvbiB0byAtNC4uNCByYW5nZSBsZWFuaW5nIG9uIC0xLi4xXG5cdFx0dmFyIGQyID0gdGhpcy5fZGVsdGEgLyAodGhpcy5fbWFwLm9wdGlvbnMud2hlZWxQeFBlclpvb21MZXZlbCAqIDQpLFxuXHRcdCAgICBkMyA9IDQgKiBNYXRoLmxvZygyIC8gKDEgKyBNYXRoLmV4cCgtTWF0aC5hYnMoZDIpKSkpIC8gTWF0aC5MTjIsXG5cdFx0ICAgIGQ0ID0gc25hcCA/IE1hdGguY2VpbChkMyAvIHNuYXApICogc25hcCA6IGQzLFxuXHRcdCAgICBkZWx0YSA9IG1hcC5fbGltaXRab29tKHpvb20gKyAodGhpcy5fZGVsdGEgPiAwID8gZDQgOiAtZDQpKSAtIHpvb207XG5cblx0XHR0aGlzLl9kZWx0YSA9IDA7XG5cdFx0dGhpcy5fc3RhcnRUaW1lID0gbnVsbDtcblxuXHRcdGlmICghZGVsdGEpIHsgcmV0dXJuOyB9XG5cblx0XHRpZiAobWFwLm9wdGlvbnMuc2Nyb2xsV2hlZWxab29tID09PSAnY2VudGVyJykge1xuXHRcdFx0bWFwLnNldFpvb20oem9vbSArIGRlbHRhKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0bWFwLnNldFpvb21Bcm91bmQodGhpcy5fbGFzdE1vdXNlUG9zLCB6b29tICsgZGVsdGEpO1xuXHRcdH1cblx0fVxufSk7XG5cbi8vIEBzZWN0aW9uIEhhbmRsZXJzXG4vLyBAcHJvcGVydHkgc2Nyb2xsV2hlZWxab29tOiBIYW5kbGVyXG4vLyBTY3JvbGwgd2hlZWwgem9vbSBoYW5kbGVyLlxuTC5NYXAuYWRkSW5pdEhvb2soJ2FkZEhhbmRsZXInLCAnc2Nyb2xsV2hlZWxab29tJywgTC5NYXAuU2Nyb2xsV2hlZWxab29tKTtcblxuLypcbiAqIEBjbGFzcyBQb3NBbmltYXRpb25cbiAqIEBha2EgTC5Qb3NBbmltYXRpb25cbiAqIEBpbmhlcml0cyBFdmVudGVkXG4gKiBVc2VkIGludGVybmFsbHkgZm9yIHBhbm5pbmcgYW5pbWF0aW9ucywgdXRpbGl6aW5nIENTUzMgVHJhbnNpdGlvbnMgZm9yIG1vZGVybiBicm93c2VycyBhbmQgYSB0aW1lciBmYWxsYmFjayBmb3IgSUU2LTkuXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYGpzXG4gKiB2YXIgZnggPSBuZXcgTC5Qb3NBbmltYXRpb24oKTtcbiAqIGZ4LnJ1bihlbCwgWzMwMCwgNTAwXSwgMC41KTtcbiAqIGBgYFxuICpcbiAqIEBjb25zdHJ1Y3RvciBMLlBvc0FuaW1hdGlvbigpXG4gKiBDcmVhdGVzIGEgYFBvc0FuaW1hdGlvbmAgb2JqZWN0LlxuICpcbiAqL1xuXG5MLlBvc0FuaW1hdGlvbiA9IEwuRXZlbnRlZC5leHRlbmQoe1xuXG5cdC8vIEBtZXRob2QgcnVuKGVsOiBIVE1MRWxlbWVudCwgbmV3UG9zOiBQb2ludCwgZHVyYXRpb24/OiBOdW1iZXIsIGVhc2VMaW5lYXJpdHk/OiBOdW1iZXIpXG5cdC8vIFJ1biBhbiBhbmltYXRpb24gb2YgYSBnaXZlbiBlbGVtZW50IHRvIGEgbmV3IHBvc2l0aW9uLCBvcHRpb25hbGx5IHNldHRpbmdcblx0Ly8gZHVyYXRpb24gaW4gc2Vjb25kcyAoYDAuMjVgIGJ5IGRlZmF1bHQpIGFuZCBlYXNpbmcgbGluZWFyaXR5IGZhY3RvciAoM3JkXG5cdC8vIGFyZ3VtZW50IG9mIHRoZSBbY3ViaWMgYmV6aWVyIGN1cnZlXShodHRwOi8vY3ViaWMtYmV6aWVyLmNvbS8jMCwwLC41LDEpLFxuXHQvLyBgMC41YCBieSBkZWZhdWx0KS5cblx0cnVuOiBmdW5jdGlvbiAoZWwsIG5ld1BvcywgZHVyYXRpb24sIGVhc2VMaW5lYXJpdHkpIHtcblx0XHR0aGlzLnN0b3AoKTtcblxuXHRcdHRoaXMuX2VsID0gZWw7XG5cdFx0dGhpcy5faW5Qcm9ncmVzcyA9IHRydWU7XG5cdFx0dGhpcy5fZHVyYXRpb24gPSBkdXJhdGlvbiB8fCAwLjI1O1xuXHRcdHRoaXMuX2Vhc2VPdXRQb3dlciA9IDEgLyBNYXRoLm1heChlYXNlTGluZWFyaXR5IHx8IDAuNSwgMC4yKTtcblxuXHRcdHRoaXMuX3N0YXJ0UG9zID0gTC5Eb21VdGlsLmdldFBvc2l0aW9uKGVsKTtcblx0XHR0aGlzLl9vZmZzZXQgPSBuZXdQb3Muc3VidHJhY3QodGhpcy5fc3RhcnRQb3MpO1xuXHRcdHRoaXMuX3N0YXJ0VGltZSA9ICtuZXcgRGF0ZSgpO1xuXG5cdFx0Ly8gQGV2ZW50IHN0YXJ0OiBFdmVudFxuXHRcdC8vIEZpcmVkIHdoZW4gdGhlIGFuaW1hdGlvbiBzdGFydHNcblx0XHR0aGlzLmZpcmUoJ3N0YXJ0Jyk7XG5cblx0XHR0aGlzLl9hbmltYXRlKCk7XG5cdH0sXG5cblx0Ly8gQG1ldGhvZCBzdG9wKClcblx0Ly8gU3RvcHMgdGhlIGFuaW1hdGlvbiAoaWYgY3VycmVudGx5IHJ1bm5pbmcpLlxuXHRzdG9wOiBmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKCF0aGlzLl9pblByb2dyZXNzKSB7IHJldHVybjsgfVxuXG5cdFx0dGhpcy5fc3RlcCh0cnVlKTtcblx0XHR0aGlzLl9jb21wbGV0ZSgpO1xuXHR9LFxuXG5cdF9hbmltYXRlOiBmdW5jdGlvbiAoKSB7XG5cdFx0Ly8gYW5pbWF0aW9uIGxvb3Bcblx0XHR0aGlzLl9hbmltSWQgPSBMLlV0aWwucmVxdWVzdEFuaW1GcmFtZSh0aGlzLl9hbmltYXRlLCB0aGlzKTtcblx0XHR0aGlzLl9zdGVwKCk7XG5cdH0sXG5cblx0X3N0ZXA6IGZ1bmN0aW9uIChyb3VuZCkge1xuXHRcdHZhciBlbGFwc2VkID0gKCtuZXcgRGF0ZSgpKSAtIHRoaXMuX3N0YXJ0VGltZSxcblx0XHQgICAgZHVyYXRpb24gPSB0aGlzLl9kdXJhdGlvbiAqIDEwMDA7XG5cblx0XHRpZiAoZWxhcHNlZCA8IGR1cmF0aW9uKSB7XG5cdFx0XHR0aGlzLl9ydW5GcmFtZSh0aGlzLl9lYXNlT3V0KGVsYXBzZWQgLyBkdXJhdGlvbiksIHJvdW5kKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5fcnVuRnJhbWUoMSk7XG5cdFx0XHR0aGlzLl9jb21wbGV0ZSgpO1xuXHRcdH1cblx0fSxcblxuXHRfcnVuRnJhbWU6IGZ1bmN0aW9uIChwcm9ncmVzcywgcm91bmQpIHtcblx0XHR2YXIgcG9zID0gdGhpcy5fc3RhcnRQb3MuYWRkKHRoaXMuX29mZnNldC5tdWx0aXBseUJ5KHByb2dyZXNzKSk7XG5cdFx0aWYgKHJvdW5kKSB7XG5cdFx0XHRwb3MuX3JvdW5kKCk7XG5cdFx0fVxuXHRcdEwuRG9tVXRpbC5zZXRQb3NpdGlvbih0aGlzLl9lbCwgcG9zKTtcblxuXHRcdC8vIEBldmVudCBzdGVwOiBFdmVudFxuXHRcdC8vIEZpcmVkIGNvbnRpbnVvdXNseSBkdXJpbmcgdGhlIGFuaW1hdGlvbi5cblx0XHR0aGlzLmZpcmUoJ3N0ZXAnKTtcblx0fSxcblxuXHRfY29tcGxldGU6IGZ1bmN0aW9uICgpIHtcblx0XHRMLlV0aWwuY2FuY2VsQW5pbUZyYW1lKHRoaXMuX2FuaW1JZCk7XG5cblx0XHR0aGlzLl9pblByb2dyZXNzID0gZmFsc2U7XG5cdFx0Ly8gQGV2ZW50IGVuZDogRXZlbnRcblx0XHQvLyBGaXJlZCB3aGVuIHRoZSBhbmltYXRpb24gZW5kcy5cblx0XHR0aGlzLmZpcmUoJ2VuZCcpO1xuXHR9LFxuXG5cdF9lYXNlT3V0OiBmdW5jdGlvbiAodCkge1xuXHRcdHJldHVybiAxIC0gTWF0aC5wb3coMSAtIHQsIHRoaXMuX2Vhc2VPdXRQb3dlcik7XG5cdH1cbn0pO1xuXG4vKlxuICogRXh0ZW5kcyBMLk1hcCB0byBoYW5kbGUgcGFubmluZyBhbmltYXRpb25zLlxuICovXG5cbkwuTWFwLmluY2x1ZGUoe1xuXG5cdHNldFZpZXc6IGZ1bmN0aW9uIChjZW50ZXIsIHpvb20sIG9wdGlvbnMpIHtcblxuXHRcdHpvb20gPSB6b29tID09PSB1bmRlZmluZWQgPyB0aGlzLl96b29tIDogdGhpcy5fbGltaXRab29tKHpvb20pO1xuXHRcdGNlbnRlciA9IHRoaXMuX2xpbWl0Q2VudGVyKEwubGF0TG5nKGNlbnRlciksIHpvb20sIHRoaXMub3B0aW9ucy5tYXhCb3VuZHMpO1xuXHRcdG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG5cdFx0dGhpcy5fc3RvcCgpO1xuXG5cdFx0aWYgKHRoaXMuX2xvYWRlZCAmJiAhb3B0aW9ucy5yZXNldCAmJiBvcHRpb25zICE9PSB0cnVlKSB7XG5cblx0XHRcdGlmIChvcHRpb25zLmFuaW1hdGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRvcHRpb25zLnpvb20gPSBMLmV4dGVuZCh7YW5pbWF0ZTogb3B0aW9ucy5hbmltYXRlfSwgb3B0aW9ucy56b29tKTtcblx0XHRcdFx0b3B0aW9ucy5wYW4gPSBMLmV4dGVuZCh7YW5pbWF0ZTogb3B0aW9ucy5hbmltYXRlLCBkdXJhdGlvbjogb3B0aW9ucy5kdXJhdGlvbn0sIG9wdGlvbnMucGFuKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gdHJ5IGFuaW1hdGluZyBwYW4gb3Igem9vbVxuXHRcdFx0dmFyIG1vdmVkID0gKHRoaXMuX3pvb20gIT09IHpvb20pID9cblx0XHRcdFx0dGhpcy5fdHJ5QW5pbWF0ZWRab29tICYmIHRoaXMuX3RyeUFuaW1hdGVkWm9vbShjZW50ZXIsIHpvb20sIG9wdGlvbnMuem9vbSkgOlxuXHRcdFx0XHR0aGlzLl90cnlBbmltYXRlZFBhbihjZW50ZXIsIG9wdGlvbnMucGFuKTtcblxuXHRcdFx0aWYgKG1vdmVkKSB7XG5cdFx0XHRcdC8vIHByZXZlbnQgcmVzaXplIGhhbmRsZXIgY2FsbCwgdGhlIHZpZXcgd2lsbCByZWZyZXNoIGFmdGVyIGFuaW1hdGlvbiBhbnl3YXlcblx0XHRcdFx0Y2xlYXJUaW1lb3V0KHRoaXMuX3NpemVUaW1lcik7XG5cdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIGFuaW1hdGlvbiBkaWRuJ3Qgc3RhcnQsIGp1c3QgcmVzZXQgdGhlIG1hcCB2aWV3XG5cdFx0dGhpcy5fcmVzZXRWaWV3KGNlbnRlciwgem9vbSk7XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHRwYW5CeTogZnVuY3Rpb24gKG9mZnNldCwgb3B0aW9ucykge1xuXHRcdG9mZnNldCA9IEwucG9pbnQob2Zmc2V0KS5yb3VuZCgpO1xuXHRcdG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG5cdFx0aWYgKCFvZmZzZXQueCAmJiAhb2Zmc2V0LnkpIHtcblx0XHRcdHJldHVybiB0aGlzLmZpcmUoJ21vdmVlbmQnKTtcblx0XHR9XG5cdFx0Ly8gSWYgd2UgcGFuIHRvbyBmYXIsIENocm9tZSBnZXRzIGlzc3VlcyB3aXRoIHRpbGVzXG5cdFx0Ly8gYW5kIG1ha2VzIHRoZW0gZGlzYXBwZWFyIG9yIGFwcGVhciBpbiB0aGUgd3JvbmcgcGxhY2UgKHNsaWdodGx5IG9mZnNldCkgIzI2MDJcblx0XHRpZiAob3B0aW9ucy5hbmltYXRlICE9PSB0cnVlICYmICF0aGlzLmdldFNpemUoKS5jb250YWlucyhvZmZzZXQpKSB7XG5cdFx0XHR0aGlzLl9yZXNldFZpZXcodGhpcy51bnByb2plY3QodGhpcy5wcm9qZWN0KHRoaXMuZ2V0Q2VudGVyKCkpLmFkZChvZmZzZXQpKSwgdGhpcy5nZXRab29tKCkpO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fVxuXG5cdFx0aWYgKCF0aGlzLl9wYW5BbmltKSB7XG5cdFx0XHR0aGlzLl9wYW5BbmltID0gbmV3IEwuUG9zQW5pbWF0aW9uKCk7XG5cblx0XHRcdHRoaXMuX3BhbkFuaW0ub24oe1xuXHRcdFx0XHQnc3RlcCc6IHRoaXMuX29uUGFuVHJhbnNpdGlvblN0ZXAsXG5cdFx0XHRcdCdlbmQnOiB0aGlzLl9vblBhblRyYW5zaXRpb25FbmRcblx0XHRcdH0sIHRoaXMpO1xuXHRcdH1cblxuXHRcdC8vIGRvbid0IGZpcmUgbW92ZXN0YXJ0IGlmIGFuaW1hdGluZyBpbmVydGlhXG5cdFx0aWYgKCFvcHRpb25zLm5vTW92ZVN0YXJ0KSB7XG5cdFx0XHR0aGlzLmZpcmUoJ21vdmVzdGFydCcpO1xuXHRcdH1cblxuXHRcdC8vIGFuaW1hdGUgcGFuIHVubGVzcyBhbmltYXRlOiBmYWxzZSBzcGVjaWZpZWRcblx0XHRpZiAob3B0aW9ucy5hbmltYXRlICE9PSBmYWxzZSkge1xuXHRcdFx0TC5Eb21VdGlsLmFkZENsYXNzKHRoaXMuX21hcFBhbmUsICdsZWFmbGV0LXBhbi1hbmltJyk7XG5cblx0XHRcdHZhciBuZXdQb3MgPSB0aGlzLl9nZXRNYXBQYW5lUG9zKCkuc3VidHJhY3Qob2Zmc2V0KS5yb3VuZCgpO1xuXHRcdFx0dGhpcy5fcGFuQW5pbS5ydW4odGhpcy5fbWFwUGFuZSwgbmV3UG9zLCBvcHRpb25zLmR1cmF0aW9uIHx8IDAuMjUsIG9wdGlvbnMuZWFzZUxpbmVhcml0eSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMuX3Jhd1BhbkJ5KG9mZnNldCk7XG5cdFx0XHR0aGlzLmZpcmUoJ21vdmUnKS5maXJlKCdtb3ZlZW5kJyk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0X29uUGFuVHJhbnNpdGlvblN0ZXA6IGZ1bmN0aW9uICgpIHtcblx0XHR0aGlzLmZpcmUoJ21vdmUnKTtcblx0fSxcblxuXHRfb25QYW5UcmFuc2l0aW9uRW5kOiBmdW5jdGlvbiAoKSB7XG5cdFx0TC5Eb21VdGlsLnJlbW92ZUNsYXNzKHRoaXMuX21hcFBhbmUsICdsZWFmbGV0LXBhbi1hbmltJyk7XG5cdFx0dGhpcy5maXJlKCdtb3ZlZW5kJyk7XG5cdH0sXG5cblx0X3RyeUFuaW1hdGVkUGFuOiBmdW5jdGlvbiAoY2VudGVyLCBvcHRpb25zKSB7XG5cdFx0Ly8gZGlmZmVyZW5jZSBiZXR3ZWVuIHRoZSBuZXcgYW5kIGN1cnJlbnQgY2VudGVycyBpbiBwaXhlbHNcblx0XHR2YXIgb2Zmc2V0ID0gdGhpcy5fZ2V0Q2VudGVyT2Zmc2V0KGNlbnRlcikuX2Zsb29yKCk7XG5cblx0XHQvLyBkb24ndCBhbmltYXRlIHRvbyBmYXIgdW5sZXNzIGFuaW1hdGU6IHRydWUgc3BlY2lmaWVkIGluIG9wdGlvbnNcblx0XHRpZiAoKG9wdGlvbnMgJiYgb3B0aW9ucy5hbmltYXRlKSAhPT0gdHJ1ZSAmJiAhdGhpcy5nZXRTaXplKCkuY29udGFpbnMob2Zmc2V0KSkgeyByZXR1cm4gZmFsc2U7IH1cblxuXHRcdHRoaXMucGFuQnkob2Zmc2V0LCBvcHRpb25zKTtcblxuXHRcdHJldHVybiB0cnVlO1xuXHR9XG59KTtcblxuLypcbiAqIEV4dGVuZHMgTC5NYXAgdG8gaGFuZGxlIHpvb20gYW5pbWF0aW9ucy5cbiAqL1xuXG4vLyBAbmFtZXNwYWNlIE1hcFxuLy8gQHNlY3Rpb24gQW5pbWF0aW9uIE9wdGlvbnNcbkwuTWFwLm1lcmdlT3B0aW9ucyh7XG5cdC8vIEBvcHRpb24gem9vbUFuaW1hdGlvbjogQm9vbGVhbiA9IHRydWVcblx0Ly8gV2hldGhlciB0aGUgbWFwIHpvb20gYW5pbWF0aW9uIGlzIGVuYWJsZWQuIEJ5IGRlZmF1bHQgaXQncyBlbmFibGVkXG5cdC8vIGluIGFsbCBicm93c2VycyB0aGF0IHN1cHBvcnQgQ1NTMyBUcmFuc2l0aW9ucyBleGNlcHQgQW5kcm9pZC5cblx0em9vbUFuaW1hdGlvbjogdHJ1ZSxcblxuXHQvLyBAb3B0aW9uIHpvb21BbmltYXRpb25UaHJlc2hvbGQ6IE51bWJlciA9IDRcblx0Ly8gV29uJ3QgYW5pbWF0ZSB6b29tIGlmIHRoZSB6b29tIGRpZmZlcmVuY2UgZXhjZWVkcyB0aGlzIHZhbHVlLlxuXHR6b29tQW5pbWF0aW9uVGhyZXNob2xkOiA0XG59KTtcblxudmFyIHpvb21BbmltYXRlZCA9IEwuRG9tVXRpbC5UUkFOU0lUSU9OICYmIEwuQnJvd3Nlci5hbnkzZCAmJiAhTC5Ccm93c2VyLm1vYmlsZU9wZXJhO1xuXG5pZiAoem9vbUFuaW1hdGVkKSB7XG5cblx0TC5NYXAuYWRkSW5pdEhvb2soZnVuY3Rpb24gKCkge1xuXHRcdC8vIGRvbid0IGFuaW1hdGUgb24gYnJvd3NlcnMgd2l0aG91dCBoYXJkd2FyZS1hY2NlbGVyYXRlZCB0cmFuc2l0aW9ucyBvciBvbGQgQW5kcm9pZC9PcGVyYVxuXHRcdHRoaXMuX3pvb21BbmltYXRlZCA9IHRoaXMub3B0aW9ucy56b29tQW5pbWF0aW9uO1xuXG5cdFx0Ly8gem9vbSB0cmFuc2l0aW9ucyBydW4gd2l0aCB0aGUgc2FtZSBkdXJhdGlvbiBmb3IgYWxsIGxheWVycywgc28gaWYgb25lIG9mIHRyYW5zaXRpb25lbmQgZXZlbnRzXG5cdFx0Ly8gaGFwcGVucyBhZnRlciBzdGFydGluZyB6b29tIGFuaW1hdGlvbiAocHJvcGFnYXRpbmcgdG8gdGhlIG1hcCBwYW5lKSwgd2Uga25vdyB0aGF0IGl0IGVuZGVkIGdsb2JhbGx5XG5cdFx0aWYgKHRoaXMuX3pvb21BbmltYXRlZCkge1xuXG5cdFx0XHR0aGlzLl9jcmVhdGVBbmltUHJveHkoKTtcblxuXHRcdFx0TC5Eb21FdmVudC5vbih0aGlzLl9wcm94eSwgTC5Eb21VdGlsLlRSQU5TSVRJT05fRU5ELCB0aGlzLl9jYXRjaFRyYW5zaXRpb25FbmQsIHRoaXMpO1xuXHRcdH1cblx0fSk7XG59XG5cbkwuTWFwLmluY2x1ZGUoIXpvb21BbmltYXRlZCA/IHt9IDoge1xuXG5cdF9jcmVhdGVBbmltUHJveHk6IGZ1bmN0aW9uICgpIHtcblxuXHRcdHZhciBwcm94eSA9IHRoaXMuX3Byb3h5ID0gTC5Eb21VdGlsLmNyZWF0ZSgnZGl2JywgJ2xlYWZsZXQtcHJveHkgbGVhZmxldC16b29tLWFuaW1hdGVkJyk7XG5cdFx0dGhpcy5fcGFuZXMubWFwUGFuZS5hcHBlbmRDaGlsZChwcm94eSk7XG5cblx0XHR0aGlzLm9uKCd6b29tYW5pbScsIGZ1bmN0aW9uIChlKSB7XG5cdFx0XHR2YXIgcHJvcCA9IEwuRG9tVXRpbC5UUkFOU0ZPUk0sXG5cdFx0XHQgICAgdHJhbnNmb3JtID0gcHJveHkuc3R5bGVbcHJvcF07XG5cblx0XHRcdEwuRG9tVXRpbC5zZXRUcmFuc2Zvcm0ocHJveHksIHRoaXMucHJvamVjdChlLmNlbnRlciwgZS56b29tKSwgdGhpcy5nZXRab29tU2NhbGUoZS56b29tLCAxKSk7XG5cblx0XHRcdC8vIHdvcmthcm91bmQgZm9yIGNhc2Ugd2hlbiB0cmFuc2Zvcm0gaXMgdGhlIHNhbWUgYW5kIHNvIHRyYW5zaXRpb25lbmQgZXZlbnQgaXMgbm90IGZpcmVkXG5cdFx0XHRpZiAodHJhbnNmb3JtID09PSBwcm94eS5zdHlsZVtwcm9wXSAmJiB0aGlzLl9hbmltYXRpbmdab29tKSB7XG5cdFx0XHRcdHRoaXMuX29uWm9vbVRyYW5zaXRpb25FbmQoKTtcblx0XHRcdH1cblx0XHR9LCB0aGlzKTtcblxuXHRcdHRoaXMub24oJ2xvYWQgbW92ZWVuZCcsIGZ1bmN0aW9uICgpIHtcblx0XHRcdHZhciBjID0gdGhpcy5nZXRDZW50ZXIoKSxcblx0XHRcdCAgICB6ID0gdGhpcy5nZXRab29tKCk7XG5cdFx0XHRMLkRvbVV0aWwuc2V0VHJhbnNmb3JtKHByb3h5LCB0aGlzLnByb2plY3QoYywgeiksIHRoaXMuZ2V0Wm9vbVNjYWxlKHosIDEpKTtcblx0XHR9LCB0aGlzKTtcblx0fSxcblxuXHRfY2F0Y2hUcmFuc2l0aW9uRW5kOiBmdW5jdGlvbiAoZSkge1xuXHRcdGlmICh0aGlzLl9hbmltYXRpbmdab29tICYmIGUucHJvcGVydHlOYW1lLmluZGV4T2YoJ3RyYW5zZm9ybScpID49IDApIHtcblx0XHRcdHRoaXMuX29uWm9vbVRyYW5zaXRpb25FbmQoKTtcblx0XHR9XG5cdH0sXG5cblx0X25vdGhpbmdUb0FuaW1hdGU6IGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gIXRoaXMuX2NvbnRhaW5lci5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdsZWFmbGV0LXpvb20tYW5pbWF0ZWQnKS5sZW5ndGg7XG5cdH0sXG5cblx0X3RyeUFuaW1hdGVkWm9vbTogZnVuY3Rpb24gKGNlbnRlciwgem9vbSwgb3B0aW9ucykge1xuXG5cdFx0aWYgKHRoaXMuX2FuaW1hdGluZ1pvb20pIHsgcmV0dXJuIHRydWU7IH1cblxuXHRcdG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG5cdFx0Ly8gZG9uJ3QgYW5pbWF0ZSBpZiBkaXNhYmxlZCwgbm90IHN1cHBvcnRlZCBvciB6b29tIGRpZmZlcmVuY2UgaXMgdG9vIGxhcmdlXG5cdFx0aWYgKCF0aGlzLl96b29tQW5pbWF0ZWQgfHwgb3B0aW9ucy5hbmltYXRlID09PSBmYWxzZSB8fCB0aGlzLl9ub3RoaW5nVG9BbmltYXRlKCkgfHxcblx0XHQgICAgICAgIE1hdGguYWJzKHpvb20gLSB0aGlzLl96b29tKSA+IHRoaXMub3B0aW9ucy56b29tQW5pbWF0aW9uVGhyZXNob2xkKSB7IHJldHVybiBmYWxzZTsgfVxuXG5cdFx0Ly8gb2Zmc2V0IGlzIHRoZSBwaXhlbCBjb29yZHMgb2YgdGhlIHpvb20gb3JpZ2luIHJlbGF0aXZlIHRvIHRoZSBjdXJyZW50IGNlbnRlclxuXHRcdHZhciBzY2FsZSA9IHRoaXMuZ2V0Wm9vbVNjYWxlKHpvb20pLFxuXHRcdCAgICBvZmZzZXQgPSB0aGlzLl9nZXRDZW50ZXJPZmZzZXQoY2VudGVyKS5fZGl2aWRlQnkoMSAtIDEgLyBzY2FsZSk7XG5cblx0XHQvLyBkb24ndCBhbmltYXRlIGlmIHRoZSB6b29tIG9yaWdpbiBpc24ndCB3aXRoaW4gb25lIHNjcmVlbiBmcm9tIHRoZSBjdXJyZW50IGNlbnRlciwgdW5sZXNzIGZvcmNlZFxuXHRcdGlmIChvcHRpb25zLmFuaW1hdGUgIT09IHRydWUgJiYgIXRoaXMuZ2V0U2l6ZSgpLmNvbnRhaW5zKG9mZnNldCkpIHsgcmV0dXJuIGZhbHNlOyB9XG5cblx0XHRMLlV0aWwucmVxdWVzdEFuaW1GcmFtZShmdW5jdGlvbiAoKSB7XG5cdFx0XHR0aGlzXG5cdFx0XHQgICAgLl9tb3ZlU3RhcnQodHJ1ZSlcblx0XHRcdCAgICAuX2FuaW1hdGVab29tKGNlbnRlciwgem9vbSwgdHJ1ZSk7XG5cdFx0fSwgdGhpcyk7XG5cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fSxcblxuXHRfYW5pbWF0ZVpvb206IGZ1bmN0aW9uIChjZW50ZXIsIHpvb20sIHN0YXJ0QW5pbSwgbm9VcGRhdGUpIHtcblx0XHRpZiAoc3RhcnRBbmltKSB7XG5cdFx0XHR0aGlzLl9hbmltYXRpbmdab29tID0gdHJ1ZTtcblxuXHRcdFx0Ly8gcmVtZW1iZXIgd2hhdCBjZW50ZXIvem9vbSB0byBzZXQgYWZ0ZXIgYW5pbWF0aW9uXG5cdFx0XHR0aGlzLl9hbmltYXRlVG9DZW50ZXIgPSBjZW50ZXI7XG5cdFx0XHR0aGlzLl9hbmltYXRlVG9ab29tID0gem9vbTtcblxuXHRcdFx0TC5Eb21VdGlsLmFkZENsYXNzKHRoaXMuX21hcFBhbmUsICdsZWFmbGV0LXpvb20tYW5pbScpO1xuXHRcdH1cblxuXHRcdC8vIEBldmVudCB6b29tYW5pbTogWm9vbUFuaW1FdmVudFxuXHRcdC8vIEZpcmVkIG9uIGV2ZXJ5IGZyYW1lIG9mIGEgem9vbSBhbmltYXRpb25cblx0XHR0aGlzLmZpcmUoJ3pvb21hbmltJywge1xuXHRcdFx0Y2VudGVyOiBjZW50ZXIsXG5cdFx0XHR6b29tOiB6b29tLFxuXHRcdFx0bm9VcGRhdGU6IG5vVXBkYXRlXG5cdFx0fSk7XG5cblx0XHQvLyBXb3JrIGFyb3VuZCB3ZWJraXQgbm90IGZpcmluZyAndHJhbnNpdGlvbmVuZCcsIHNlZSBodHRwczovL2dpdGh1Yi5jb20vTGVhZmxldC9MZWFmbGV0L2lzc3Vlcy8zNjg5LCAyNjkzXG5cdFx0c2V0VGltZW91dChMLmJpbmQodGhpcy5fb25ab29tVHJhbnNpdGlvbkVuZCwgdGhpcyksIDI1MCk7XG5cdH0sXG5cblx0X29uWm9vbVRyYW5zaXRpb25FbmQ6IGZ1bmN0aW9uICgpIHtcblx0XHRpZiAoIXRoaXMuX2FuaW1hdGluZ1pvb20pIHsgcmV0dXJuOyB9XG5cblx0XHRMLkRvbVV0aWwucmVtb3ZlQ2xhc3ModGhpcy5fbWFwUGFuZSwgJ2xlYWZsZXQtem9vbS1hbmltJyk7XG5cblx0XHR0aGlzLl9hbmltYXRpbmdab29tID0gZmFsc2U7XG5cblx0XHR0aGlzLl9tb3ZlKHRoaXMuX2FuaW1hdGVUb0NlbnRlciwgdGhpcy5fYW5pbWF0ZVRvWm9vbSk7XG5cblx0XHQvLyBUaGlzIGFuaW0gZnJhbWUgc2hvdWxkIHByZXZlbnQgYW4gb2JzY3VyZSBpT1Mgd2Via2l0IHRpbGUgbG9hZGluZyByYWNlIGNvbmRpdGlvbi5cblx0XHRMLlV0aWwucmVxdWVzdEFuaW1GcmFtZShmdW5jdGlvbiAoKSB7XG5cdFx0XHR0aGlzLl9tb3ZlRW5kKHRydWUpO1xuXHRcdH0sIHRoaXMpO1xuXHR9XG59KTtcblxuLy8gQG5hbWVzcGFjZSBNYXBcbi8vIEBzZWN0aW9uIE1ldGhvZHMgZm9yIG1vZGlmeWluZyBtYXAgc3RhdGVcbkwuTWFwLmluY2x1ZGUoe1xuXG5cdC8vIEBtZXRob2QgZmx5VG8obGF0bG5nOiBMYXRMbmcsIHpvb20/OiBOdW1iZXIsIG9wdGlvbnM/OiBab29tL3BhbiBvcHRpb25zKTogdGhpc1xuXHQvLyBTZXRzIHRoZSB2aWV3IG9mIHRoZSBtYXAgKGdlb2dyYXBoaWNhbCBjZW50ZXIgYW5kIHpvb20pIHBlcmZvcm1pbmcgYSBzbW9vdGhcblx0Ly8gcGFuLXpvb20gYW5pbWF0aW9uLlxuXHRmbHlUbzogZnVuY3Rpb24gKHRhcmdldENlbnRlciwgdGFyZ2V0Wm9vbSwgb3B0aW9ucykge1xuXG5cdFx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cdFx0aWYgKG9wdGlvbnMuYW5pbWF0ZSA9PT0gZmFsc2UgfHwgIUwuQnJvd3Nlci5hbnkzZCkge1xuXHRcdFx0cmV0dXJuIHRoaXMuc2V0Vmlldyh0YXJnZXRDZW50ZXIsIHRhcmdldFpvb20sIG9wdGlvbnMpO1xuXHRcdH1cblxuXHRcdHRoaXMuX3N0b3AoKTtcblxuXHRcdHZhciBmcm9tID0gdGhpcy5wcm9qZWN0KHRoaXMuZ2V0Q2VudGVyKCkpLFxuXHRcdCAgICB0byA9IHRoaXMucHJvamVjdCh0YXJnZXRDZW50ZXIpLFxuXHRcdCAgICBzaXplID0gdGhpcy5nZXRTaXplKCksXG5cdFx0ICAgIHN0YXJ0Wm9vbSA9IHRoaXMuX3pvb207XG5cblx0XHR0YXJnZXRDZW50ZXIgPSBMLmxhdExuZyh0YXJnZXRDZW50ZXIpO1xuXHRcdHRhcmdldFpvb20gPSB0YXJnZXRab29tID09PSB1bmRlZmluZWQgPyBzdGFydFpvb20gOiB0YXJnZXRab29tO1xuXG5cdFx0dmFyIHcwID0gTWF0aC5tYXgoc2l6ZS54LCBzaXplLnkpLFxuXHRcdCAgICB3MSA9IHcwICogdGhpcy5nZXRab29tU2NhbGUoc3RhcnRab29tLCB0YXJnZXRab29tKSxcblx0XHQgICAgdTEgPSAodG8uZGlzdGFuY2VUbyhmcm9tKSkgfHwgMSxcblx0XHQgICAgcmhvID0gMS40Mixcblx0XHQgICAgcmhvMiA9IHJobyAqIHJobztcblxuXHRcdGZ1bmN0aW9uIHIoaSkge1xuXHRcdFx0dmFyIHMxID0gaSA/IC0xIDogMSxcblx0XHRcdCAgICBzMiA9IGkgPyB3MSA6IHcwLFxuXHRcdFx0ICAgIHQxID0gdzEgKiB3MSAtIHcwICogdzAgKyBzMSAqIHJobzIgKiByaG8yICogdTEgKiB1MSxcblx0XHRcdCAgICBiMSA9IDIgKiBzMiAqIHJobzIgKiB1MSxcblx0XHRcdCAgICBiID0gdDEgLyBiMSxcblx0XHRcdCAgICBzcSA9IE1hdGguc3FydChiICogYiArIDEpIC0gYjtcblxuXHRcdFx0ICAgIC8vIHdvcmthcm91bmQgZm9yIGZsb2F0aW5nIHBvaW50IHByZWNpc2lvbiBidWcgd2hlbiBzcSA9IDAsIGxvZyA9IC1JbmZpbml0ZSxcblx0XHRcdCAgICAvLyB0aHVzIHRyaWdnZXJpbmcgYW4gaW5maW5pdGUgbG9vcCBpbiBmbHlUb1xuXHRcdFx0ICAgIHZhciBsb2cgPSBzcSA8IDAuMDAwMDAwMDAxID8gLTE4IDogTWF0aC5sb2coc3EpO1xuXG5cdFx0XHRyZXR1cm4gbG9nO1xuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIHNpbmgobikgeyByZXR1cm4gKE1hdGguZXhwKG4pIC0gTWF0aC5leHAoLW4pKSAvIDI7IH1cblx0XHRmdW5jdGlvbiBjb3NoKG4pIHsgcmV0dXJuIChNYXRoLmV4cChuKSArIE1hdGguZXhwKC1uKSkgLyAyOyB9XG5cdFx0ZnVuY3Rpb24gdGFuaChuKSB7IHJldHVybiBzaW5oKG4pIC8gY29zaChuKTsgfVxuXG5cdFx0dmFyIHIwID0gcigwKTtcblxuXHRcdGZ1bmN0aW9uIHcocykgeyByZXR1cm4gdzAgKiAoY29zaChyMCkgLyBjb3NoKHIwICsgcmhvICogcykpOyB9XG5cdFx0ZnVuY3Rpb24gdShzKSB7IHJldHVybiB3MCAqIChjb3NoKHIwKSAqIHRhbmgocjAgKyByaG8gKiBzKSAtIHNpbmgocjApKSAvIHJobzI7IH1cblxuXHRcdGZ1bmN0aW9uIGVhc2VPdXQodCkgeyByZXR1cm4gMSAtIE1hdGgucG93KDEgLSB0LCAxLjUpOyB9XG5cblx0XHR2YXIgc3RhcnQgPSBEYXRlLm5vdygpLFxuXHRcdCAgICBTID0gKHIoMSkgLSByMCkgLyByaG8sXG5cdFx0ICAgIGR1cmF0aW9uID0gb3B0aW9ucy5kdXJhdGlvbiA/IDEwMDAgKiBvcHRpb25zLmR1cmF0aW9uIDogMTAwMCAqIFMgKiAwLjg7XG5cblx0XHRmdW5jdGlvbiBmcmFtZSgpIHtcblx0XHRcdHZhciB0ID0gKERhdGUubm93KCkgLSBzdGFydCkgLyBkdXJhdGlvbixcblx0XHRcdCAgICBzID0gZWFzZU91dCh0KSAqIFM7XG5cblx0XHRcdGlmICh0IDw9IDEpIHtcblx0XHRcdFx0dGhpcy5fZmx5VG9GcmFtZSA9IEwuVXRpbC5yZXF1ZXN0QW5pbUZyYW1lKGZyYW1lLCB0aGlzKTtcblxuXHRcdFx0XHR0aGlzLl9tb3ZlKFxuXHRcdFx0XHRcdHRoaXMudW5wcm9qZWN0KGZyb20uYWRkKHRvLnN1YnRyYWN0KGZyb20pLm11bHRpcGx5QnkodShzKSAvIHUxKSksIHN0YXJ0Wm9vbSksXG5cdFx0XHRcdFx0dGhpcy5nZXRTY2FsZVpvb20odzAgLyB3KHMpLCBzdGFydFpvb20pLFxuXHRcdFx0XHRcdHtmbHlUbzogdHJ1ZX0pO1xuXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aGlzXG5cdFx0XHRcdFx0Ll9tb3ZlKHRhcmdldENlbnRlciwgdGFyZ2V0Wm9vbSlcblx0XHRcdFx0XHQuX21vdmVFbmQodHJ1ZSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0dGhpcy5fbW92ZVN0YXJ0KHRydWUpO1xuXG5cdFx0ZnJhbWUuY2FsbCh0aGlzKTtcblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHQvLyBAbWV0aG9kIGZseVRvQm91bmRzKGJvdW5kczogTGF0TG5nQm91bmRzLCBvcHRpb25zPzogZml0Qm91bmRzIG9wdGlvbnMpOiB0aGlzXG5cdC8vIFNldHMgdGhlIHZpZXcgb2YgdGhlIG1hcCB3aXRoIGEgc21vb3RoIGFuaW1hdGlvbiBsaWtlIFtgZmx5VG9gXSgjbWFwLWZseXRvKSxcblx0Ly8gYnV0IHRha2VzIGEgYm91bmRzIHBhcmFtZXRlciBsaWtlIFtgZml0Qm91bmRzYF0oI21hcC1maXRib3VuZHMpLlxuXHRmbHlUb0JvdW5kczogZnVuY3Rpb24gKGJvdW5kcywgb3B0aW9ucykge1xuXHRcdHZhciB0YXJnZXQgPSB0aGlzLl9nZXRCb3VuZHNDZW50ZXJab29tKGJvdW5kcywgb3B0aW9ucyk7XG5cdFx0cmV0dXJuIHRoaXMuZmx5VG8odGFyZ2V0LmNlbnRlciwgdGFyZ2V0Lnpvb20sIG9wdGlvbnMpO1xuXHR9XG59KTtcblxuLypcclxuICogRXh0ZW5kcyB0aGUgZXZlbnQgaGFuZGxpbmcgY29kZSB3aXRoIGRvdWJsZSB0YXAgc3VwcG9ydCBmb3IgbW9iaWxlIGJyb3dzZXJzLlxyXG4gKi9cclxuXHJcbkwuZXh0ZW5kKEwuRG9tRXZlbnQsIHtcclxuXHJcblx0X3RvdWNoc3RhcnQ6IEwuQnJvd3Nlci5tc1BvaW50ZXIgPyAnTVNQb2ludGVyRG93bicgOiBMLkJyb3dzZXIucG9pbnRlciA/ICdwb2ludGVyZG93bicgOiAndG91Y2hzdGFydCcsXHJcblx0X3RvdWNoZW5kOiBMLkJyb3dzZXIubXNQb2ludGVyID8gJ01TUG9pbnRlclVwJyA6IEwuQnJvd3Nlci5wb2ludGVyID8gJ3BvaW50ZXJ1cCcgOiAndG91Y2hlbmQnLFxyXG5cclxuXHQvLyBpbnNwaXJlZCBieSBaZXB0byB0b3VjaCBjb2RlIGJ5IFRob21hcyBGdWNoc1xyXG5cdGFkZERvdWJsZVRhcExpc3RlbmVyOiBmdW5jdGlvbiAob2JqLCBoYW5kbGVyLCBpZCkge1xyXG5cdFx0dmFyIGxhc3QsIHRvdWNoLFxyXG5cdFx0ICAgIGRvdWJsZVRhcCA9IGZhbHNlLFxyXG5cdFx0ICAgIGRlbGF5ID0gMjUwO1xyXG5cclxuXHRcdGZ1bmN0aW9uIG9uVG91Y2hTdGFydChlKSB7XHJcblx0XHRcdHZhciBjb3VudDtcclxuXHJcblx0XHRcdGlmIChMLkJyb3dzZXIucG9pbnRlcikge1xyXG5cdFx0XHRcdGNvdW50ID0gTC5Eb21FdmVudC5fcG9pbnRlcnNDb3VudDtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRjb3VudCA9IGUudG91Y2hlcy5sZW5ndGg7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmIChjb3VudCA+IDEpIHsgcmV0dXJuOyB9XHJcblxyXG5cdFx0XHR2YXIgbm93ID0gRGF0ZS5ub3coKSxcclxuXHRcdFx0ICAgIGRlbHRhID0gbm93IC0gKGxhc3QgfHwgbm93KTtcclxuXHJcblx0XHRcdHRvdWNoID0gZS50b3VjaGVzID8gZS50b3VjaGVzWzBdIDogZTtcclxuXHRcdFx0ZG91YmxlVGFwID0gKGRlbHRhID4gMCAmJiBkZWx0YSA8PSBkZWxheSk7XHJcblx0XHRcdGxhc3QgPSBub3c7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gb25Ub3VjaEVuZCgpIHtcclxuXHRcdFx0aWYgKGRvdWJsZVRhcCAmJiAhdG91Y2guY2FuY2VsQnViYmxlKSB7XHJcblx0XHRcdFx0aWYgKEwuQnJvd3Nlci5wb2ludGVyKSB7XHJcblx0XHRcdFx0XHQvLyB3b3JrIGFyb3VuZCAudHlwZSBiZWluZyByZWFkb25seSB3aXRoIE1TUG9pbnRlciogZXZlbnRzXHJcblx0XHRcdFx0XHR2YXIgbmV3VG91Y2ggPSB7fSxcclxuXHRcdFx0XHRcdCAgICBwcm9wLCBpO1xyXG5cclxuXHRcdFx0XHRcdGZvciAoaSBpbiB0b3VjaCkge1xyXG5cdFx0XHRcdFx0XHRwcm9wID0gdG91Y2hbaV07XHJcblx0XHRcdFx0XHRcdG5ld1RvdWNoW2ldID0gcHJvcCAmJiBwcm9wLmJpbmQgPyBwcm9wLmJpbmQodG91Y2gpIDogcHJvcDtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdHRvdWNoID0gbmV3VG91Y2g7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHRvdWNoLnR5cGUgPSAnZGJsY2xpY2snO1xyXG5cdFx0XHRcdGhhbmRsZXIodG91Y2gpO1xyXG5cdFx0XHRcdGxhc3QgPSBudWxsO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0dmFyIHByZSA9ICdfbGVhZmxldF8nLFxyXG5cdFx0ICAgIHRvdWNoc3RhcnQgPSB0aGlzLl90b3VjaHN0YXJ0LFxyXG5cdFx0ICAgIHRvdWNoZW5kID0gdGhpcy5fdG91Y2hlbmQ7XHJcblxyXG5cdFx0b2JqW3ByZSArIHRvdWNoc3RhcnQgKyBpZF0gPSBvblRvdWNoU3RhcnQ7XHJcblx0XHRvYmpbcHJlICsgdG91Y2hlbmQgKyBpZF0gPSBvblRvdWNoRW5kO1xyXG5cdFx0b2JqW3ByZSArICdkYmxjbGljaycgKyBpZF0gPSBoYW5kbGVyO1xyXG5cclxuXHRcdG9iai5hZGRFdmVudExpc3RlbmVyKHRvdWNoc3RhcnQsIG9uVG91Y2hTdGFydCwgZmFsc2UpO1xyXG5cdFx0b2JqLmFkZEV2ZW50TGlzdGVuZXIodG91Y2hlbmQsIG9uVG91Y2hFbmQsIGZhbHNlKTtcclxuXHJcblx0XHQvLyBPbiBzb21lIHBsYXRmb3JtcyAobm90YWJseSwgY2hyb21lIG9uIHdpbjEwICsgdG91Y2hzY3JlZW4gKyBtb3VzZSksXHJcblx0XHQvLyB0aGUgYnJvd3NlciBkb2Vzbid0IGZpcmUgdG91Y2hlbmQvcG9pbnRlcnVwIGV2ZW50cyBidXQgZG9lcyBmaXJlXHJcblx0XHQvLyBuYXRpdmUgZGJsY2xpY2tzLiBTZWUgIzQxMjcuXHJcblx0XHRpZiAoIUwuQnJvd3Nlci5lZGdlKSB7XHJcblx0XHRcdG9iai5hZGRFdmVudExpc3RlbmVyKCdkYmxjbGljaycsIGhhbmRsZXIsIGZhbHNlKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHRyZW1vdmVEb3VibGVUYXBMaXN0ZW5lcjogZnVuY3Rpb24gKG9iaiwgaWQpIHtcclxuXHRcdHZhciBwcmUgPSAnX2xlYWZsZXRfJyxcclxuXHRcdCAgICB0b3VjaHN0YXJ0ID0gb2JqW3ByZSArIHRoaXMuX3RvdWNoc3RhcnQgKyBpZF0sXHJcblx0XHQgICAgdG91Y2hlbmQgPSBvYmpbcHJlICsgdGhpcy5fdG91Y2hlbmQgKyBpZF0sXHJcblx0XHQgICAgZGJsY2xpY2sgPSBvYmpbcHJlICsgJ2RibGNsaWNrJyArIGlkXTtcclxuXHJcblx0XHRvYmoucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLl90b3VjaHN0YXJ0LCB0b3VjaHN0YXJ0LCBmYWxzZSk7XHJcblx0XHRvYmoucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLl90b3VjaGVuZCwgdG91Y2hlbmQsIGZhbHNlKTtcclxuXHRcdGlmICghTC5Ccm93c2VyLmVkZ2UpIHtcclxuXHRcdFx0b2JqLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2RibGNsaWNrJywgZGJsY2xpY2ssIGZhbHNlKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9XHJcbn0pO1xyXG5cbi8qXG4gKiBFeHRlbmRzIEwuRG9tRXZlbnQgdG8gcHJvdmlkZSB0b3VjaCBzdXBwb3J0IGZvciBJbnRlcm5ldCBFeHBsb3JlciBhbmQgV2luZG93cy1iYXNlZCBkZXZpY2VzLlxuICovXG5cbkwuZXh0ZW5kKEwuRG9tRXZlbnQsIHtcblxuXHRQT0lOVEVSX0RPV046ICAgTC5Ccm93c2VyLm1zUG9pbnRlciA/ICdNU1BvaW50ZXJEb3duJyAgIDogJ3BvaW50ZXJkb3duJyxcblx0UE9JTlRFUl9NT1ZFOiAgIEwuQnJvd3Nlci5tc1BvaW50ZXIgPyAnTVNQb2ludGVyTW92ZScgICA6ICdwb2ludGVybW92ZScsXG5cdFBPSU5URVJfVVA6ICAgICBMLkJyb3dzZXIubXNQb2ludGVyID8gJ01TUG9pbnRlclVwJyAgICAgOiAncG9pbnRlcnVwJyxcblx0UE9JTlRFUl9DQU5DRUw6IEwuQnJvd3Nlci5tc1BvaW50ZXIgPyAnTVNQb2ludGVyQ2FuY2VsJyA6ICdwb2ludGVyY2FuY2VsJyxcblx0VEFHX1dISVRFX0xJU1Q6IFsnSU5QVVQnLCAnU0VMRUNUJywgJ09QVElPTiddLFxuXG5cdF9wb2ludGVyczoge30sXG5cdF9wb2ludGVyc0NvdW50OiAwLFxuXG5cdC8vIFByb3ZpZGVzIGEgdG91Y2ggZXZlbnRzIHdyYXBwZXIgZm9yIChtcylwb2ludGVyIGV2ZW50cy5cblx0Ly8gcmVmIGh0dHA6Ly93d3cudzMub3JnL1RSL3BvaW50ZXJldmVudHMvIGh0dHBzOi8vd3d3LnczLm9yZy9CdWdzL1B1YmxpYy9zaG93X2J1Zy5jZ2k/aWQ9MjI4OTBcblxuXHRhZGRQb2ludGVyTGlzdGVuZXI6IGZ1bmN0aW9uIChvYmosIHR5cGUsIGhhbmRsZXIsIGlkKSB7XG5cblx0XHRpZiAodHlwZSA9PT0gJ3RvdWNoc3RhcnQnKSB7XG5cdFx0XHR0aGlzLl9hZGRQb2ludGVyU3RhcnQob2JqLCBoYW5kbGVyLCBpZCk7XG5cblx0XHR9IGVsc2UgaWYgKHR5cGUgPT09ICd0b3VjaG1vdmUnKSB7XG5cdFx0XHR0aGlzLl9hZGRQb2ludGVyTW92ZShvYmosIGhhbmRsZXIsIGlkKTtcblxuXHRcdH0gZWxzZSBpZiAodHlwZSA9PT0gJ3RvdWNoZW5kJykge1xuXHRcdFx0dGhpcy5fYWRkUG9pbnRlckVuZChvYmosIGhhbmRsZXIsIGlkKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHRyZW1vdmVQb2ludGVyTGlzdGVuZXI6IGZ1bmN0aW9uIChvYmosIHR5cGUsIGlkKSB7XG5cdFx0dmFyIGhhbmRsZXIgPSBvYmpbJ19sZWFmbGV0XycgKyB0eXBlICsgaWRdO1xuXG5cdFx0aWYgKHR5cGUgPT09ICd0b3VjaHN0YXJ0Jykge1xuXHRcdFx0b2JqLnJlbW92ZUV2ZW50TGlzdGVuZXIodGhpcy5QT0lOVEVSX0RPV04sIGhhbmRsZXIsIGZhbHNlKTtcblxuXHRcdH0gZWxzZSBpZiAodHlwZSA9PT0gJ3RvdWNobW92ZScpIHtcblx0XHRcdG9iai5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMuUE9JTlRFUl9NT1ZFLCBoYW5kbGVyLCBmYWxzZSk7XG5cblx0XHR9IGVsc2UgaWYgKHR5cGUgPT09ICd0b3VjaGVuZCcpIHtcblx0XHRcdG9iai5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMuUE9JTlRFUl9VUCwgaGFuZGxlciwgZmFsc2UpO1xuXHRcdFx0b2JqLnJlbW92ZUV2ZW50TGlzdGVuZXIodGhpcy5QT0lOVEVSX0NBTkNFTCwgaGFuZGxlciwgZmFsc2UpO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXHR9LFxuXG5cdF9hZGRQb2ludGVyU3RhcnQ6IGZ1bmN0aW9uIChvYmosIGhhbmRsZXIsIGlkKSB7XG5cdFx0dmFyIG9uRG93biA9IEwuYmluZChmdW5jdGlvbiAoZSkge1xuXHRcdFx0aWYgKGUucG9pbnRlclR5cGUgIT09ICdtb3VzZScgJiYgZS5wb2ludGVyVHlwZSAhPT0gZS5NU1BPSU5URVJfVFlQRV9NT1VTRSkge1xuXHRcdFx0XHQvLyBJbiBJRTExLCBzb21lIHRvdWNoIGV2ZW50cyBuZWVkcyB0byBmaXJlIGZvciBmb3JtIGNvbnRyb2xzLCBvclxuXHRcdFx0XHQvLyB0aGUgY29udHJvbHMgd2lsbCBzdG9wIHdvcmtpbmcuIFdlIGtlZXAgYSB3aGl0ZWxpc3Qgb2YgdGFnIG5hbWVzIHRoYXRcblx0XHRcdFx0Ly8gbmVlZCB0aGVzZSBldmVudHMuIEZvciBvdGhlciB0YXJnZXQgdGFncywgd2UgcHJldmVudCBkZWZhdWx0IG9uIHRoZSBldmVudC5cblx0XHRcdFx0aWYgKHRoaXMuVEFHX1dISVRFX0xJU1QuaW5kZXhPZihlLnRhcmdldC50YWdOYW1lKSA8IDApIHtcblx0XHRcdFx0XHRMLkRvbUV2ZW50LnByZXZlbnREZWZhdWx0KGUpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLl9oYW5kbGVQb2ludGVyKGUsIGhhbmRsZXIpO1xuXHRcdH0sIHRoaXMpO1xuXG5cdFx0b2JqWydfbGVhZmxldF90b3VjaHN0YXJ0JyArIGlkXSA9IG9uRG93bjtcblx0XHRvYmouYWRkRXZlbnRMaXN0ZW5lcih0aGlzLlBPSU5URVJfRE9XTiwgb25Eb3duLCBmYWxzZSk7XG5cblx0XHQvLyBuZWVkIHRvIGtlZXAgdHJhY2sgb2Ygd2hhdCBwb2ludGVycyBhbmQgaG93IG1hbnkgYXJlIGFjdGl2ZSB0byBwcm92aWRlIGUudG91Y2hlcyBlbXVsYXRpb25cblx0XHRpZiAoIXRoaXMuX3BvaW50ZXJEb2NMaXN0ZW5lcikge1xuXHRcdFx0dmFyIHBvaW50ZXJVcCA9IEwuYmluZCh0aGlzLl9nbG9iYWxQb2ludGVyVXAsIHRoaXMpO1xuXG5cdFx0XHQvLyB3ZSBsaXN0ZW4gZG9jdW1lbnRFbGVtZW50IGFzIGFueSBkcmFncyB0aGF0IGVuZCBieSBtb3ZpbmcgdGhlIHRvdWNoIG9mZiB0aGUgc2NyZWVuIGdldCBmaXJlZCB0aGVyZVxuXHRcdFx0ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIodGhpcy5QT0lOVEVSX0RPV04sIEwuYmluZCh0aGlzLl9nbG9iYWxQb2ludGVyRG93biwgdGhpcyksIHRydWUpO1xuXHRcdFx0ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIodGhpcy5QT0lOVEVSX01PVkUsIEwuYmluZCh0aGlzLl9nbG9iYWxQb2ludGVyTW92ZSwgdGhpcyksIHRydWUpO1xuXHRcdFx0ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIodGhpcy5QT0lOVEVSX1VQLCBwb2ludGVyVXAsIHRydWUpO1xuXHRcdFx0ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIodGhpcy5QT0lOVEVSX0NBTkNFTCwgcG9pbnRlclVwLCB0cnVlKTtcblxuXHRcdFx0dGhpcy5fcG9pbnRlckRvY0xpc3RlbmVyID0gdHJ1ZTtcblx0XHR9XG5cdH0sXG5cblx0X2dsb2JhbFBvaW50ZXJEb3duOiBmdW5jdGlvbiAoZSkge1xuXHRcdHRoaXMuX3BvaW50ZXJzW2UucG9pbnRlcklkXSA9IGU7XG5cdFx0dGhpcy5fcG9pbnRlcnNDb3VudCsrO1xuXHR9LFxuXG5cdF9nbG9iYWxQb2ludGVyTW92ZTogZnVuY3Rpb24gKGUpIHtcblx0XHRpZiAodGhpcy5fcG9pbnRlcnNbZS5wb2ludGVySWRdKSB7XG5cdFx0XHR0aGlzLl9wb2ludGVyc1tlLnBvaW50ZXJJZF0gPSBlO1xuXHRcdH1cblx0fSxcblxuXHRfZ2xvYmFsUG9pbnRlclVwOiBmdW5jdGlvbiAoZSkge1xuXHRcdGRlbGV0ZSB0aGlzLl9wb2ludGVyc1tlLnBvaW50ZXJJZF07XG5cdFx0dGhpcy5fcG9pbnRlcnNDb3VudC0tO1xuXHR9LFxuXG5cdF9oYW5kbGVQb2ludGVyOiBmdW5jdGlvbiAoZSwgaGFuZGxlcikge1xuXHRcdGUudG91Y2hlcyA9IFtdO1xuXHRcdGZvciAodmFyIGkgaW4gdGhpcy5fcG9pbnRlcnMpIHtcblx0XHRcdGUudG91Y2hlcy5wdXNoKHRoaXMuX3BvaW50ZXJzW2ldKTtcblx0XHR9XG5cdFx0ZS5jaGFuZ2VkVG91Y2hlcyA9IFtlXTtcblxuXHRcdGhhbmRsZXIoZSk7XG5cdH0sXG5cblx0X2FkZFBvaW50ZXJNb3ZlOiBmdW5jdGlvbiAob2JqLCBoYW5kbGVyLCBpZCkge1xuXHRcdHZhciBvbk1vdmUgPSBMLmJpbmQoZnVuY3Rpb24gKGUpIHtcblx0XHRcdC8vIGRvbid0IGZpcmUgdG91Y2ggbW92ZXMgd2hlbiBtb3VzZSBpc24ndCBkb3duXG5cdFx0XHRpZiAoKGUucG9pbnRlclR5cGUgPT09IGUuTVNQT0lOVEVSX1RZUEVfTU9VU0UgfHwgZS5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJykgJiYgZS5idXR0b25zID09PSAwKSB7IHJldHVybjsgfVxuXG5cdFx0XHR0aGlzLl9oYW5kbGVQb2ludGVyKGUsIGhhbmRsZXIpO1xuXHRcdH0sIHRoaXMpO1xuXG5cdFx0b2JqWydfbGVhZmxldF90b3VjaG1vdmUnICsgaWRdID0gb25Nb3ZlO1xuXHRcdG9iai5hZGRFdmVudExpc3RlbmVyKHRoaXMuUE9JTlRFUl9NT1ZFLCBvbk1vdmUsIGZhbHNlKTtcblx0fSxcblxuXHRfYWRkUG9pbnRlckVuZDogZnVuY3Rpb24gKG9iaiwgaGFuZGxlciwgaWQpIHtcblx0XHR2YXIgb25VcCA9IEwuYmluZChmdW5jdGlvbiAoZSkge1xuXHRcdFx0dGhpcy5faGFuZGxlUG9pbnRlcihlLCBoYW5kbGVyKTtcblx0XHR9LCB0aGlzKTtcblxuXHRcdG9ialsnX2xlYWZsZXRfdG91Y2hlbmQnICsgaWRdID0gb25VcDtcblx0XHRvYmouYWRkRXZlbnRMaXN0ZW5lcih0aGlzLlBPSU5URVJfVVAsIG9uVXAsIGZhbHNlKTtcblx0XHRvYmouYWRkRXZlbnRMaXN0ZW5lcih0aGlzLlBPSU5URVJfQ0FOQ0VMLCBvblVwLCBmYWxzZSk7XG5cdH1cbn0pO1xuXG4vKlxuICogTC5IYW5kbGVyLlRvdWNoWm9vbSBpcyB1c2VkIGJ5IEwuTWFwIHRvIGFkZCBwaW5jaCB6b29tIG9uIHN1cHBvcnRlZCBtb2JpbGUgYnJvd3NlcnMuXG4gKi9cblxuLy8gQG5hbWVzcGFjZSBNYXBcbi8vIEBzZWN0aW9uIEludGVyYWN0aW9uIE9wdGlvbnNcbkwuTWFwLm1lcmdlT3B0aW9ucyh7XG5cdC8vIEBzZWN0aW9uIFRvdWNoIGludGVyYWN0aW9uIG9wdGlvbnNcblx0Ly8gQG9wdGlvbiB0b3VjaFpvb206IEJvb2xlYW58U3RyaW5nID0gKlxuXHQvLyBXaGV0aGVyIHRoZSBtYXAgY2FuIGJlIHpvb21lZCBieSB0b3VjaC1kcmFnZ2luZyB3aXRoIHR3byBmaW5nZXJzLiBJZlxuXHQvLyBwYXNzZWQgYCdjZW50ZXInYCwgaXQgd2lsbCB6b29tIHRvIHRoZSBjZW50ZXIgb2YgdGhlIHZpZXcgcmVnYXJkbGVzcyBvZlxuXHQvLyB3aGVyZSB0aGUgdG91Y2ggZXZlbnRzIChmaW5nZXJzKSB3ZXJlLiBFbmFibGVkIGZvciB0b3VjaC1jYXBhYmxlIHdlYlxuXHQvLyBicm93c2VycyBleGNlcHQgZm9yIG9sZCBBbmRyb2lkcy5cblx0dG91Y2hab29tOiBMLkJyb3dzZXIudG91Y2ggJiYgIUwuQnJvd3Nlci5hbmRyb2lkMjMsXG5cblx0Ly8gQG9wdGlvbiBib3VuY2VBdFpvb21MaW1pdHM6IEJvb2xlYW4gPSB0cnVlXG5cdC8vIFNldCBpdCB0byBmYWxzZSBpZiB5b3UgZG9uJ3Qgd2FudCB0aGUgbWFwIHRvIHpvb20gYmV5b25kIG1pbi9tYXggem9vbVxuXHQvLyBhbmQgdGhlbiBib3VuY2UgYmFjayB3aGVuIHBpbmNoLXpvb21pbmcuXG5cdGJvdW5jZUF0Wm9vbUxpbWl0czogdHJ1ZVxufSk7XG5cbkwuTWFwLlRvdWNoWm9vbSA9IEwuSGFuZGxlci5leHRlbmQoe1xuXHRhZGRIb29rczogZnVuY3Rpb24gKCkge1xuXHRcdEwuRG9tVXRpbC5hZGRDbGFzcyh0aGlzLl9tYXAuX2NvbnRhaW5lciwgJ2xlYWZsZXQtdG91Y2gtem9vbScpO1xuXHRcdEwuRG9tRXZlbnQub24odGhpcy5fbWFwLl9jb250YWluZXIsICd0b3VjaHN0YXJ0JywgdGhpcy5fb25Ub3VjaFN0YXJ0LCB0aGlzKTtcblx0fSxcblxuXHRyZW1vdmVIb29rczogZnVuY3Rpb24gKCkge1xuXHRcdEwuRG9tVXRpbC5yZW1vdmVDbGFzcyh0aGlzLl9tYXAuX2NvbnRhaW5lciwgJ2xlYWZsZXQtdG91Y2gtem9vbScpO1xuXHRcdEwuRG9tRXZlbnQub2ZmKHRoaXMuX21hcC5fY29udGFpbmVyLCAndG91Y2hzdGFydCcsIHRoaXMuX29uVG91Y2hTdGFydCwgdGhpcyk7XG5cdH0sXG5cblx0X29uVG91Y2hTdGFydDogZnVuY3Rpb24gKGUpIHtcblx0XHR2YXIgbWFwID0gdGhpcy5fbWFwO1xuXHRcdGlmICghZS50b3VjaGVzIHx8IGUudG91Y2hlcy5sZW5ndGggIT09IDIgfHwgbWFwLl9hbmltYXRpbmdab29tIHx8IHRoaXMuX3pvb21pbmcpIHsgcmV0dXJuOyB9XG5cblx0XHR2YXIgcDEgPSBtYXAubW91c2VFdmVudFRvQ29udGFpbmVyUG9pbnQoZS50b3VjaGVzWzBdKSxcblx0XHQgICAgcDIgPSBtYXAubW91c2VFdmVudFRvQ29udGFpbmVyUG9pbnQoZS50b3VjaGVzWzFdKTtcblxuXHRcdHRoaXMuX2NlbnRlclBvaW50ID0gbWFwLmdldFNpemUoKS5fZGl2aWRlQnkoMik7XG5cdFx0dGhpcy5fc3RhcnRMYXRMbmcgPSBtYXAuY29udGFpbmVyUG9pbnRUb0xhdExuZyh0aGlzLl9jZW50ZXJQb2ludCk7XG5cdFx0aWYgKG1hcC5vcHRpb25zLnRvdWNoWm9vbSAhPT0gJ2NlbnRlcicpIHtcblx0XHRcdHRoaXMuX3BpbmNoU3RhcnRMYXRMbmcgPSBtYXAuY29udGFpbmVyUG9pbnRUb0xhdExuZyhwMS5hZGQocDIpLl9kaXZpZGVCeSgyKSk7XG5cdFx0fVxuXG5cdFx0dGhpcy5fc3RhcnREaXN0ID0gcDEuZGlzdGFuY2VUbyhwMik7XG5cdFx0dGhpcy5fc3RhcnRab29tID0gbWFwLmdldFpvb20oKTtcblxuXHRcdHRoaXMuX21vdmVkID0gZmFsc2U7XG5cdFx0dGhpcy5fem9vbWluZyA9IHRydWU7XG5cblx0XHRtYXAuX3N0b3AoKTtcblxuXHRcdEwuRG9tRXZlbnRcblx0XHQgICAgLm9uKGRvY3VtZW50LCAndG91Y2htb3ZlJywgdGhpcy5fb25Ub3VjaE1vdmUsIHRoaXMpXG5cdFx0ICAgIC5vbihkb2N1bWVudCwgJ3RvdWNoZW5kJywgdGhpcy5fb25Ub3VjaEVuZCwgdGhpcyk7XG5cblx0XHRMLkRvbUV2ZW50LnByZXZlbnREZWZhdWx0KGUpO1xuXHR9LFxuXG5cdF9vblRvdWNoTW92ZTogZnVuY3Rpb24gKGUpIHtcblx0XHRpZiAoIWUudG91Y2hlcyB8fCBlLnRvdWNoZXMubGVuZ3RoICE9PSAyIHx8ICF0aGlzLl96b29taW5nKSB7IHJldHVybjsgfVxuXG5cdFx0dmFyIG1hcCA9IHRoaXMuX21hcCxcblx0XHQgICAgcDEgPSBtYXAubW91c2VFdmVudFRvQ29udGFpbmVyUG9pbnQoZS50b3VjaGVzWzBdKSxcblx0XHQgICAgcDIgPSBtYXAubW91c2VFdmVudFRvQ29udGFpbmVyUG9pbnQoZS50b3VjaGVzWzFdKSxcblx0XHQgICAgc2NhbGUgPSBwMS5kaXN0YW5jZVRvKHAyKSAvIHRoaXMuX3N0YXJ0RGlzdDtcblxuXG5cdFx0dGhpcy5fem9vbSA9IG1hcC5nZXRTY2FsZVpvb20oc2NhbGUsIHRoaXMuX3N0YXJ0Wm9vbSk7XG5cblx0XHRpZiAoIW1hcC5vcHRpb25zLmJvdW5jZUF0Wm9vbUxpbWl0cyAmJiAoXG5cdFx0XHQodGhpcy5fem9vbSA8IG1hcC5nZXRNaW5ab29tKCkgJiYgc2NhbGUgPCAxKSB8fFxuXHRcdFx0KHRoaXMuX3pvb20gPiBtYXAuZ2V0TWF4Wm9vbSgpICYmIHNjYWxlID4gMSkpKSB7XG5cdFx0XHR0aGlzLl96b29tID0gbWFwLl9saW1pdFpvb20odGhpcy5fem9vbSk7XG5cdFx0fVxuXG5cdFx0aWYgKG1hcC5vcHRpb25zLnRvdWNoWm9vbSA9PT0gJ2NlbnRlcicpIHtcblx0XHRcdHRoaXMuX2NlbnRlciA9IHRoaXMuX3N0YXJ0TGF0TG5nO1xuXHRcdFx0aWYgKHNjYWxlID09PSAxKSB7IHJldHVybjsgfVxuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBHZXQgZGVsdGEgZnJvbSBwaW5jaCB0byBjZW50ZXIsIHNvIGNlbnRlckxhdExuZyBpcyBkZWx0YSBhcHBsaWVkIHRvIGluaXRpYWwgcGluY2hMYXRMbmdcblx0XHRcdHZhciBkZWx0YSA9IHAxLl9hZGQocDIpLl9kaXZpZGVCeSgyKS5fc3VidHJhY3QodGhpcy5fY2VudGVyUG9pbnQpO1xuXHRcdFx0aWYgKHNjYWxlID09PSAxICYmIGRlbHRhLnggPT09IDAgJiYgZGVsdGEueSA9PT0gMCkgeyByZXR1cm47IH1cblx0XHRcdHRoaXMuX2NlbnRlciA9IG1hcC51bnByb2plY3QobWFwLnByb2plY3QodGhpcy5fcGluY2hTdGFydExhdExuZywgdGhpcy5fem9vbSkuc3VidHJhY3QoZGVsdGEpLCB0aGlzLl96b29tKTtcblx0XHR9XG5cblx0XHRpZiAoIXRoaXMuX21vdmVkKSB7XG5cdFx0XHRtYXAuX21vdmVTdGFydCh0cnVlKTtcblx0XHRcdHRoaXMuX21vdmVkID0gdHJ1ZTtcblx0XHR9XG5cblx0XHRMLlV0aWwuY2FuY2VsQW5pbUZyYW1lKHRoaXMuX2FuaW1SZXF1ZXN0KTtcblxuXHRcdHZhciBtb3ZlRm4gPSBMLmJpbmQobWFwLl9tb3ZlLCBtYXAsIHRoaXMuX2NlbnRlciwgdGhpcy5fem9vbSwge3BpbmNoOiB0cnVlLCByb3VuZDogZmFsc2V9KTtcblx0XHR0aGlzLl9hbmltUmVxdWVzdCA9IEwuVXRpbC5yZXF1ZXN0QW5pbUZyYW1lKG1vdmVGbiwgdGhpcywgdHJ1ZSk7XG5cblx0XHRMLkRvbUV2ZW50LnByZXZlbnREZWZhdWx0KGUpO1xuXHR9LFxuXG5cdF9vblRvdWNoRW5kOiBmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKCF0aGlzLl9tb3ZlZCB8fCAhdGhpcy5fem9vbWluZykge1xuXHRcdFx0dGhpcy5fem9vbWluZyA9IGZhbHNlO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHRoaXMuX3pvb21pbmcgPSBmYWxzZTtcblx0XHRMLlV0aWwuY2FuY2VsQW5pbUZyYW1lKHRoaXMuX2FuaW1SZXF1ZXN0KTtcblxuXHRcdEwuRG9tRXZlbnRcblx0XHQgICAgLm9mZihkb2N1bWVudCwgJ3RvdWNobW92ZScsIHRoaXMuX29uVG91Y2hNb3ZlKVxuXHRcdCAgICAub2ZmKGRvY3VtZW50LCAndG91Y2hlbmQnLCB0aGlzLl9vblRvdWNoRW5kKTtcblxuXHRcdC8vIFBpbmNoIHVwZGF0ZXMgR3JpZExheWVycycgbGV2ZWxzIG9ubHkgd2hlbiB6b29tU25hcCBpcyBvZmYsIHNvIHpvb21TbmFwIGJlY29tZXMgbm9VcGRhdGUuXG5cdFx0aWYgKHRoaXMuX21hcC5vcHRpb25zLnpvb21BbmltYXRpb24pIHtcblx0XHRcdHRoaXMuX21hcC5fYW5pbWF0ZVpvb20odGhpcy5fY2VudGVyLCB0aGlzLl9tYXAuX2xpbWl0Wm9vbSh0aGlzLl96b29tKSwgdHJ1ZSwgdGhpcy5fbWFwLm9wdGlvbnMuem9vbVNuYXApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLl9tYXAuX3Jlc2V0Vmlldyh0aGlzLl9jZW50ZXIsIHRoaXMuX21hcC5fbGltaXRab29tKHRoaXMuX3pvb20pKTtcblx0XHR9XG5cdH1cbn0pO1xuXG4vLyBAc2VjdGlvbiBIYW5kbGVyc1xuLy8gQHByb3BlcnR5IHRvdWNoWm9vbTogSGFuZGxlclxuLy8gVG91Y2ggem9vbSBoYW5kbGVyLlxuTC5NYXAuYWRkSW5pdEhvb2soJ2FkZEhhbmRsZXInLCAndG91Y2hab29tJywgTC5NYXAuVG91Y2hab29tKTtcblxuLypcbiAqIEwuTWFwLlRhcCBpcyB1c2VkIHRvIGVuYWJsZSBtb2JpbGUgaGFja3MgbGlrZSBxdWljayB0YXBzIGFuZCBsb25nIGhvbGQuXG4gKi9cblxuLy8gQG5hbWVzcGFjZSBNYXBcbi8vIEBzZWN0aW9uIEludGVyYWN0aW9uIE9wdGlvbnNcbkwuTWFwLm1lcmdlT3B0aW9ucyh7XG5cdC8vIEBzZWN0aW9uIFRvdWNoIGludGVyYWN0aW9uIG9wdGlvbnNcblx0Ly8gQG9wdGlvbiB0YXA6IEJvb2xlYW4gPSB0cnVlXG5cdC8vIEVuYWJsZXMgbW9iaWxlIGhhY2tzIGZvciBzdXBwb3J0aW5nIGluc3RhbnQgdGFwcyAoZml4aW5nIDIwMG1zIGNsaWNrXG5cdC8vIGRlbGF5IG9uIGlPUy9BbmRyb2lkKSBhbmQgdG91Y2ggaG9sZHMgKGZpcmVkIGFzIGBjb250ZXh0bWVudWAgZXZlbnRzKS5cblx0dGFwOiB0cnVlLFxuXG5cdC8vIEBvcHRpb24gdGFwVG9sZXJhbmNlOiBOdW1iZXIgPSAxNVxuXHQvLyBUaGUgbWF4IG51bWJlciBvZiBwaXhlbHMgYSB1c2VyIGNhbiBzaGlmdCBoaXMgZmluZ2VyIGR1cmluZyB0b3VjaFxuXHQvLyBmb3IgaXQgdG8gYmUgY29uc2lkZXJlZCBhIHZhbGlkIHRhcC5cblx0dGFwVG9sZXJhbmNlOiAxNVxufSk7XG5cbkwuTWFwLlRhcCA9IEwuSGFuZGxlci5leHRlbmQoe1xuXHRhZGRIb29rczogZnVuY3Rpb24gKCkge1xuXHRcdEwuRG9tRXZlbnQub24odGhpcy5fbWFwLl9jb250YWluZXIsICd0b3VjaHN0YXJ0JywgdGhpcy5fb25Eb3duLCB0aGlzKTtcblx0fSxcblxuXHRyZW1vdmVIb29rczogZnVuY3Rpb24gKCkge1xuXHRcdEwuRG9tRXZlbnQub2ZmKHRoaXMuX21hcC5fY29udGFpbmVyLCAndG91Y2hzdGFydCcsIHRoaXMuX29uRG93biwgdGhpcyk7XG5cdH0sXG5cblx0X29uRG93bjogZnVuY3Rpb24gKGUpIHtcblx0XHRpZiAoIWUudG91Y2hlcykgeyByZXR1cm47IH1cblxuXHRcdEwuRG9tRXZlbnQucHJldmVudERlZmF1bHQoZSk7XG5cblx0XHR0aGlzLl9maXJlQ2xpY2sgPSB0cnVlO1xuXG5cdFx0Ly8gZG9uJ3Qgc2ltdWxhdGUgY2xpY2sgb3IgdHJhY2sgbG9uZ3ByZXNzIGlmIG1vcmUgdGhhbiAxIHRvdWNoXG5cdFx0aWYgKGUudG91Y2hlcy5sZW5ndGggPiAxKSB7XG5cdFx0XHR0aGlzLl9maXJlQ2xpY2sgPSBmYWxzZTtcblx0XHRcdGNsZWFyVGltZW91dCh0aGlzLl9ob2xkVGltZW91dCk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dmFyIGZpcnN0ID0gZS50b3VjaGVzWzBdLFxuXHRcdCAgICBlbCA9IGZpcnN0LnRhcmdldDtcblxuXHRcdHRoaXMuX3N0YXJ0UG9zID0gdGhpcy5fbmV3UG9zID0gbmV3IEwuUG9pbnQoZmlyc3QuY2xpZW50WCwgZmlyc3QuY2xpZW50WSk7XG5cblx0XHQvLyBpZiB0b3VjaGluZyBhIGxpbmssIGhpZ2hsaWdodCBpdFxuXHRcdGlmIChlbC50YWdOYW1lICYmIGVsLnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ2EnKSB7XG5cdFx0XHRMLkRvbVV0aWwuYWRkQ2xhc3MoZWwsICdsZWFmbGV0LWFjdGl2ZScpO1xuXHRcdH1cblxuXHRcdC8vIHNpbXVsYXRlIGxvbmcgaG9sZCBidXQgc2V0dGluZyBhIHRpbWVvdXRcblx0XHR0aGlzLl9ob2xkVGltZW91dCA9IHNldFRpbWVvdXQoTC5iaW5kKGZ1bmN0aW9uICgpIHtcblx0XHRcdGlmICh0aGlzLl9pc1RhcFZhbGlkKCkpIHtcblx0XHRcdFx0dGhpcy5fZmlyZUNsaWNrID0gZmFsc2U7XG5cdFx0XHRcdHRoaXMuX29uVXAoKTtcblx0XHRcdFx0dGhpcy5fc2ltdWxhdGVFdmVudCgnY29udGV4dG1lbnUnLCBmaXJzdCk7XG5cdFx0XHR9XG5cdFx0fSwgdGhpcyksIDEwMDApO1xuXG5cdFx0dGhpcy5fc2ltdWxhdGVFdmVudCgnbW91c2Vkb3duJywgZmlyc3QpO1xuXG5cdFx0TC5Eb21FdmVudC5vbihkb2N1bWVudCwge1xuXHRcdFx0dG91Y2htb3ZlOiB0aGlzLl9vbk1vdmUsXG5cdFx0XHR0b3VjaGVuZDogdGhpcy5fb25VcFxuXHRcdH0sIHRoaXMpO1xuXHR9LFxuXG5cdF9vblVwOiBmdW5jdGlvbiAoZSkge1xuXHRcdGNsZWFyVGltZW91dCh0aGlzLl9ob2xkVGltZW91dCk7XG5cblx0XHRMLkRvbUV2ZW50Lm9mZihkb2N1bWVudCwge1xuXHRcdFx0dG91Y2htb3ZlOiB0aGlzLl9vbk1vdmUsXG5cdFx0XHR0b3VjaGVuZDogdGhpcy5fb25VcFxuXHRcdH0sIHRoaXMpO1xuXG5cdFx0aWYgKHRoaXMuX2ZpcmVDbGljayAmJiBlICYmIGUuY2hhbmdlZFRvdWNoZXMpIHtcblxuXHRcdFx0dmFyIGZpcnN0ID0gZS5jaGFuZ2VkVG91Y2hlc1swXSxcblx0XHRcdCAgICBlbCA9IGZpcnN0LnRhcmdldDtcblxuXHRcdFx0aWYgKGVsICYmIGVsLnRhZ05hbWUgJiYgZWwudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSAnYScpIHtcblx0XHRcdFx0TC5Eb21VdGlsLnJlbW92ZUNsYXNzKGVsLCAnbGVhZmxldC1hY3RpdmUnKTtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5fc2ltdWxhdGVFdmVudCgnbW91c2V1cCcsIGZpcnN0KTtcblxuXHRcdFx0Ly8gc2ltdWxhdGUgY2xpY2sgaWYgdGhlIHRvdWNoIGRpZG4ndCBtb3ZlIHRvbyBtdWNoXG5cdFx0XHRpZiAodGhpcy5faXNUYXBWYWxpZCgpKSB7XG5cdFx0XHRcdHRoaXMuX3NpbXVsYXRlRXZlbnQoJ2NsaWNrJywgZmlyc3QpO1xuXHRcdFx0fVxuXHRcdH1cblx0fSxcblxuXHRfaXNUYXBWYWxpZDogZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiB0aGlzLl9uZXdQb3MuZGlzdGFuY2VUbyh0aGlzLl9zdGFydFBvcykgPD0gdGhpcy5fbWFwLm9wdGlvbnMudGFwVG9sZXJhbmNlO1xuXHR9LFxuXG5cdF9vbk1vdmU6IGZ1bmN0aW9uIChlKSB7XG5cdFx0dmFyIGZpcnN0ID0gZS50b3VjaGVzWzBdO1xuXHRcdHRoaXMuX25ld1BvcyA9IG5ldyBMLlBvaW50KGZpcnN0LmNsaWVudFgsIGZpcnN0LmNsaWVudFkpO1xuXHRcdHRoaXMuX3NpbXVsYXRlRXZlbnQoJ21vdXNlbW92ZScsIGZpcnN0KTtcblx0fSxcblxuXHRfc2ltdWxhdGVFdmVudDogZnVuY3Rpb24gKHR5cGUsIGUpIHtcblx0XHR2YXIgc2ltdWxhdGVkRXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnTW91c2VFdmVudHMnKTtcblxuXHRcdHNpbXVsYXRlZEV2ZW50Ll9zaW11bGF0ZWQgPSB0cnVlO1xuXHRcdGUudGFyZ2V0Ll9zaW11bGF0ZWRDbGljayA9IHRydWU7XG5cblx0XHRzaW11bGF0ZWRFdmVudC5pbml0TW91c2VFdmVudChcblx0XHQgICAgICAgIHR5cGUsIHRydWUsIHRydWUsIHdpbmRvdywgMSxcblx0XHQgICAgICAgIGUuc2NyZWVuWCwgZS5zY3JlZW5ZLFxuXHRcdCAgICAgICAgZS5jbGllbnRYLCBlLmNsaWVudFksXG5cdFx0ICAgICAgICBmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgMCwgbnVsbCk7XG5cblx0XHRlLnRhcmdldC5kaXNwYXRjaEV2ZW50KHNpbXVsYXRlZEV2ZW50KTtcblx0fVxufSk7XG5cbi8vIEBzZWN0aW9uIEhhbmRsZXJzXG4vLyBAcHJvcGVydHkgdGFwOiBIYW5kbGVyXG4vLyBNb2JpbGUgdG91Y2ggaGFja3MgKHF1aWNrIHRhcCBhbmQgdG91Y2ggaG9sZCkgaGFuZGxlci5cbmlmIChMLkJyb3dzZXIudG91Y2ggJiYgIUwuQnJvd3Nlci5wb2ludGVyKSB7XG5cdEwuTWFwLmFkZEluaXRIb29rKCdhZGRIYW5kbGVyJywgJ3RhcCcsIEwuTWFwLlRhcCk7XG59XG5cbi8qXG4gKiBMLkhhbmRsZXIuQm94Wm9vbSBpcyB1c2VkIHRvIGFkZCBzaGlmdC1kcmFnIHpvb20gaW50ZXJhY3Rpb24gdG8gdGhlIG1hcFxuICogKHpvb20gdG8gYSBzZWxlY3RlZCBib3VuZGluZyBib3gpLCBlbmFibGVkIGJ5IGRlZmF1bHQuXG4gKi9cblxuLy8gQG5hbWVzcGFjZSBNYXBcbi8vIEBzZWN0aW9uIEludGVyYWN0aW9uIE9wdGlvbnNcbkwuTWFwLm1lcmdlT3B0aW9ucyh7XG5cdC8vIEBvcHRpb24gYm94Wm9vbTogQm9vbGVhbiA9IHRydWVcblx0Ly8gV2hldGhlciB0aGUgbWFwIGNhbiBiZSB6b29tZWQgdG8gYSByZWN0YW5ndWxhciBhcmVhIHNwZWNpZmllZCBieVxuXHQvLyBkcmFnZ2luZyB0aGUgbW91c2Ugd2hpbGUgcHJlc3NpbmcgdGhlIHNoaWZ0IGtleS5cblx0Ym94Wm9vbTogdHJ1ZVxufSk7XG5cbkwuTWFwLkJveFpvb20gPSBMLkhhbmRsZXIuZXh0ZW5kKHtcblx0aW5pdGlhbGl6ZTogZnVuY3Rpb24gKG1hcCkge1xuXHRcdHRoaXMuX21hcCA9IG1hcDtcblx0XHR0aGlzLl9jb250YWluZXIgPSBtYXAuX2NvbnRhaW5lcjtcblx0XHR0aGlzLl9wYW5lID0gbWFwLl9wYW5lcy5vdmVybGF5UGFuZTtcblx0fSxcblxuXHRhZGRIb29rczogZnVuY3Rpb24gKCkge1xuXHRcdEwuRG9tRXZlbnQub24odGhpcy5fY29udGFpbmVyLCAnbW91c2Vkb3duJywgdGhpcy5fb25Nb3VzZURvd24sIHRoaXMpO1xuXHR9LFxuXG5cdHJlbW92ZUhvb2tzOiBmdW5jdGlvbiAoKSB7XG5cdFx0TC5Eb21FdmVudC5vZmYodGhpcy5fY29udGFpbmVyLCAnbW91c2Vkb3duJywgdGhpcy5fb25Nb3VzZURvd24sIHRoaXMpO1xuXHR9LFxuXG5cdG1vdmVkOiBmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuIHRoaXMuX21vdmVkO1xuXHR9LFxuXG5cdF9yZXNldFN0YXRlOiBmdW5jdGlvbiAoKSB7XG5cdFx0dGhpcy5fbW92ZWQgPSBmYWxzZTtcblx0fSxcblxuXHRfb25Nb3VzZURvd246IGZ1bmN0aW9uIChlKSB7XG5cdFx0aWYgKCFlLnNoaWZ0S2V5IHx8ICgoZS53aGljaCAhPT0gMSkgJiYgKGUuYnV0dG9uICE9PSAxKSkpIHsgcmV0dXJuIGZhbHNlOyB9XG5cblx0XHR0aGlzLl9yZXNldFN0YXRlKCk7XG5cblx0XHRMLkRvbVV0aWwuZGlzYWJsZVRleHRTZWxlY3Rpb24oKTtcblx0XHRMLkRvbVV0aWwuZGlzYWJsZUltYWdlRHJhZygpO1xuXG5cdFx0dGhpcy5fc3RhcnRQb2ludCA9IHRoaXMuX21hcC5tb3VzZUV2ZW50VG9Db250YWluZXJQb2ludChlKTtcblxuXHRcdEwuRG9tRXZlbnQub24oZG9jdW1lbnQsIHtcblx0XHRcdGNvbnRleHRtZW51OiBMLkRvbUV2ZW50LnN0b3AsXG5cdFx0XHRtb3VzZW1vdmU6IHRoaXMuX29uTW91c2VNb3ZlLFxuXHRcdFx0bW91c2V1cDogdGhpcy5fb25Nb3VzZVVwLFxuXHRcdFx0a2V5ZG93bjogdGhpcy5fb25LZXlEb3duXG5cdFx0fSwgdGhpcyk7XG5cdH0sXG5cblx0X29uTW91c2VNb3ZlOiBmdW5jdGlvbiAoZSkge1xuXHRcdGlmICghdGhpcy5fbW92ZWQpIHtcblx0XHRcdHRoaXMuX21vdmVkID0gdHJ1ZTtcblxuXHRcdFx0dGhpcy5fYm94ID0gTC5Eb21VdGlsLmNyZWF0ZSgnZGl2JywgJ2xlYWZsZXQtem9vbS1ib3gnLCB0aGlzLl9jb250YWluZXIpO1xuXHRcdFx0TC5Eb21VdGlsLmFkZENsYXNzKHRoaXMuX2NvbnRhaW5lciwgJ2xlYWZsZXQtY3Jvc3NoYWlyJyk7XG5cblx0XHRcdHRoaXMuX21hcC5maXJlKCdib3h6b29tc3RhcnQnKTtcblx0XHR9XG5cblx0XHR0aGlzLl9wb2ludCA9IHRoaXMuX21hcC5tb3VzZUV2ZW50VG9Db250YWluZXJQb2ludChlKTtcblxuXHRcdHZhciBib3VuZHMgPSBuZXcgTC5Cb3VuZHModGhpcy5fcG9pbnQsIHRoaXMuX3N0YXJ0UG9pbnQpLFxuXHRcdCAgICBzaXplID0gYm91bmRzLmdldFNpemUoKTtcblxuXHRcdEwuRG9tVXRpbC5zZXRQb3NpdGlvbih0aGlzLl9ib3gsIGJvdW5kcy5taW4pO1xuXG5cdFx0dGhpcy5fYm94LnN0eWxlLndpZHRoICA9IHNpemUueCArICdweCc7XG5cdFx0dGhpcy5fYm94LnN0eWxlLmhlaWdodCA9IHNpemUueSArICdweCc7XG5cdH0sXG5cblx0X2ZpbmlzaDogZnVuY3Rpb24gKCkge1xuXHRcdGlmICh0aGlzLl9tb3ZlZCkge1xuXHRcdFx0TC5Eb21VdGlsLnJlbW92ZSh0aGlzLl9ib3gpO1xuXHRcdFx0TC5Eb21VdGlsLnJlbW92ZUNsYXNzKHRoaXMuX2NvbnRhaW5lciwgJ2xlYWZsZXQtY3Jvc3NoYWlyJyk7XG5cdFx0fVxuXG5cdFx0TC5Eb21VdGlsLmVuYWJsZVRleHRTZWxlY3Rpb24oKTtcblx0XHRMLkRvbVV0aWwuZW5hYmxlSW1hZ2VEcmFnKCk7XG5cblx0XHRMLkRvbUV2ZW50Lm9mZihkb2N1bWVudCwge1xuXHRcdFx0Y29udGV4dG1lbnU6IEwuRG9tRXZlbnQuc3RvcCxcblx0XHRcdG1vdXNlbW92ZTogdGhpcy5fb25Nb3VzZU1vdmUsXG5cdFx0XHRtb3VzZXVwOiB0aGlzLl9vbk1vdXNlVXAsXG5cdFx0XHRrZXlkb3duOiB0aGlzLl9vbktleURvd25cblx0XHR9LCB0aGlzKTtcblx0fSxcblxuXHRfb25Nb3VzZVVwOiBmdW5jdGlvbiAoZSkge1xuXHRcdGlmICgoZS53aGljaCAhPT0gMSkgJiYgKGUuYnV0dG9uICE9PSAxKSkgeyByZXR1cm47IH1cblxuXHRcdHRoaXMuX2ZpbmlzaCgpO1xuXG5cdFx0aWYgKCF0aGlzLl9tb3ZlZCkgeyByZXR1cm47IH1cblx0XHQvLyBQb3N0cG9uZSB0byBuZXh0IEpTIHRpY2sgc28gaW50ZXJuYWwgY2xpY2sgZXZlbnQgaGFuZGxpbmdcblx0XHQvLyBzdGlsbCBzZWUgaXQgYXMgXCJtb3ZlZFwiLlxuXHRcdHNldFRpbWVvdXQoTC5iaW5kKHRoaXMuX3Jlc2V0U3RhdGUsIHRoaXMpLCAwKTtcblxuXHRcdHZhciBib3VuZHMgPSBuZXcgTC5MYXRMbmdCb3VuZHMoXG5cdFx0ICAgICAgICB0aGlzLl9tYXAuY29udGFpbmVyUG9pbnRUb0xhdExuZyh0aGlzLl9zdGFydFBvaW50KSxcblx0XHQgICAgICAgIHRoaXMuX21hcC5jb250YWluZXJQb2ludFRvTGF0TG5nKHRoaXMuX3BvaW50KSk7XG5cblx0XHR0aGlzLl9tYXBcblx0XHRcdC5maXRCb3VuZHMoYm91bmRzKVxuXHRcdFx0LmZpcmUoJ2JveHpvb21lbmQnLCB7Ym94Wm9vbUJvdW5kczogYm91bmRzfSk7XG5cdH0sXG5cblx0X29uS2V5RG93bjogZnVuY3Rpb24gKGUpIHtcblx0XHRpZiAoZS5rZXlDb2RlID09PSAyNykge1xuXHRcdFx0dGhpcy5fZmluaXNoKCk7XG5cdFx0fVxuXHR9XG59KTtcblxuLy8gQHNlY3Rpb24gSGFuZGxlcnNcbi8vIEBwcm9wZXJ0eSBib3hab29tOiBIYW5kbGVyXG4vLyBCb3ggKHNoaWZ0LWRyYWcgd2l0aCBtb3VzZSkgem9vbSBoYW5kbGVyLlxuTC5NYXAuYWRkSW5pdEhvb2soJ2FkZEhhbmRsZXInLCAnYm94Wm9vbScsIEwuTWFwLkJveFpvb20pO1xuXG4vKlxuICogTC5NYXAuS2V5Ym9hcmQgaXMgaGFuZGxpbmcga2V5Ym9hcmQgaW50ZXJhY3Rpb24gd2l0aCB0aGUgbWFwLCBlbmFibGVkIGJ5IGRlZmF1bHQuXG4gKi9cblxuLy8gQG5hbWVzcGFjZSBNYXBcbi8vIEBzZWN0aW9uIEtleWJvYXJkIE5hdmlnYXRpb24gT3B0aW9uc1xuTC5NYXAubWVyZ2VPcHRpb25zKHtcblx0Ly8gQG9wdGlvbiBrZXlib2FyZDogQm9vbGVhbiA9IHRydWVcblx0Ly8gTWFrZXMgdGhlIG1hcCBmb2N1c2FibGUgYW5kIGFsbG93cyB1c2VycyB0byBuYXZpZ2F0ZSB0aGUgbWFwIHdpdGgga2V5Ym9hcmRcblx0Ly8gYXJyb3dzIGFuZCBgK2AvYC1gIGtleXMuXG5cdGtleWJvYXJkOiB0cnVlLFxuXG5cdC8vIEBvcHRpb24ga2V5Ym9hcmRQYW5EZWx0YTogTnVtYmVyID0gODBcblx0Ly8gQW1vdW50IG9mIHBpeGVscyB0byBwYW4gd2hlbiBwcmVzc2luZyBhbiBhcnJvdyBrZXkuXG5cdGtleWJvYXJkUGFuRGVsdGE6IDgwXG59KTtcblxuTC5NYXAuS2V5Ym9hcmQgPSBMLkhhbmRsZXIuZXh0ZW5kKHtcblxuXHRrZXlDb2Rlczoge1xuXHRcdGxlZnQ6ICAgIFszN10sXG5cdFx0cmlnaHQ6ICAgWzM5XSxcblx0XHRkb3duOiAgICBbNDBdLFxuXHRcdHVwOiAgICAgIFszOF0sXG5cdFx0em9vbUluOiAgWzE4NywgMTA3LCA2MSwgMTcxXSxcblx0XHR6b29tT3V0OiBbMTg5LCAxMDksIDU0LCAxNzNdXG5cdH0sXG5cblx0aW5pdGlhbGl6ZTogZnVuY3Rpb24gKG1hcCkge1xuXHRcdHRoaXMuX21hcCA9IG1hcDtcblxuXHRcdHRoaXMuX3NldFBhbkRlbHRhKG1hcC5vcHRpb25zLmtleWJvYXJkUGFuRGVsdGEpO1xuXHRcdHRoaXMuX3NldFpvb21EZWx0YShtYXAub3B0aW9ucy56b29tRGVsdGEpO1xuXHR9LFxuXG5cdGFkZEhvb2tzOiBmdW5jdGlvbiAoKSB7XG5cdFx0dmFyIGNvbnRhaW5lciA9IHRoaXMuX21hcC5fY29udGFpbmVyO1xuXG5cdFx0Ly8gbWFrZSB0aGUgY29udGFpbmVyIGZvY3VzYWJsZSBieSB0YWJiaW5nXG5cdFx0aWYgKGNvbnRhaW5lci50YWJJbmRleCA8PSAwKSB7XG5cdFx0XHRjb250YWluZXIudGFiSW5kZXggPSAnMCc7XG5cdFx0fVxuXG5cdFx0TC5Eb21FdmVudC5vbihjb250YWluZXIsIHtcblx0XHRcdGZvY3VzOiB0aGlzLl9vbkZvY3VzLFxuXHRcdFx0Ymx1cjogdGhpcy5fb25CbHVyLFxuXHRcdFx0bW91c2Vkb3duOiB0aGlzLl9vbk1vdXNlRG93blxuXHRcdH0sIHRoaXMpO1xuXG5cdFx0dGhpcy5fbWFwLm9uKHtcblx0XHRcdGZvY3VzOiB0aGlzLl9hZGRIb29rcyxcblx0XHRcdGJsdXI6IHRoaXMuX3JlbW92ZUhvb2tzXG5cdFx0fSwgdGhpcyk7XG5cdH0sXG5cblx0cmVtb3ZlSG9va3M6IGZ1bmN0aW9uICgpIHtcblx0XHR0aGlzLl9yZW1vdmVIb29rcygpO1xuXG5cdFx0TC5Eb21FdmVudC5vZmYodGhpcy5fbWFwLl9jb250YWluZXIsIHtcblx0XHRcdGZvY3VzOiB0aGlzLl9vbkZvY3VzLFxuXHRcdFx0Ymx1cjogdGhpcy5fb25CbHVyLFxuXHRcdFx0bW91c2Vkb3duOiB0aGlzLl9vbk1vdXNlRG93blxuXHRcdH0sIHRoaXMpO1xuXG5cdFx0dGhpcy5fbWFwLm9mZih7XG5cdFx0XHRmb2N1czogdGhpcy5fYWRkSG9va3MsXG5cdFx0XHRibHVyOiB0aGlzLl9yZW1vdmVIb29rc1xuXHRcdH0sIHRoaXMpO1xuXHR9LFxuXG5cdF9vbk1vdXNlRG93bjogZnVuY3Rpb24gKCkge1xuXHRcdGlmICh0aGlzLl9mb2N1c2VkKSB7IHJldHVybjsgfVxuXG5cdFx0dmFyIGJvZHkgPSBkb2N1bWVudC5ib2R5LFxuXHRcdCAgICBkb2NFbCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCxcblx0XHQgICAgdG9wID0gYm9keS5zY3JvbGxUb3AgfHwgZG9jRWwuc2Nyb2xsVG9wLFxuXHRcdCAgICBsZWZ0ID0gYm9keS5zY3JvbGxMZWZ0IHx8IGRvY0VsLnNjcm9sbExlZnQ7XG5cblx0XHR0aGlzLl9tYXAuX2NvbnRhaW5lci5mb2N1cygpO1xuXG5cdFx0d2luZG93LnNjcm9sbFRvKGxlZnQsIHRvcCk7XG5cdH0sXG5cblx0X29uRm9jdXM6IGZ1bmN0aW9uICgpIHtcblx0XHR0aGlzLl9mb2N1c2VkID0gdHJ1ZTtcblx0XHR0aGlzLl9tYXAuZmlyZSgnZm9jdXMnKTtcblx0fSxcblxuXHRfb25CbHVyOiBmdW5jdGlvbiAoKSB7XG5cdFx0dGhpcy5fZm9jdXNlZCA9IGZhbHNlO1xuXHRcdHRoaXMuX21hcC5maXJlKCdibHVyJyk7XG5cdH0sXG5cblx0X3NldFBhbkRlbHRhOiBmdW5jdGlvbiAocGFuRGVsdGEpIHtcblx0XHR2YXIga2V5cyA9IHRoaXMuX3BhbktleXMgPSB7fSxcblx0XHQgICAgY29kZXMgPSB0aGlzLmtleUNvZGVzLFxuXHRcdCAgICBpLCBsZW47XG5cblx0XHRmb3IgKGkgPSAwLCBsZW4gPSBjb2Rlcy5sZWZ0Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG5cdFx0XHRrZXlzW2NvZGVzLmxlZnRbaV1dID0gWy0xICogcGFuRGVsdGEsIDBdO1xuXHRcdH1cblx0XHRmb3IgKGkgPSAwLCBsZW4gPSBjb2Rlcy5yaWdodC5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuXHRcdFx0a2V5c1tjb2Rlcy5yaWdodFtpXV0gPSBbcGFuRGVsdGEsIDBdO1xuXHRcdH1cblx0XHRmb3IgKGkgPSAwLCBsZW4gPSBjb2Rlcy5kb3duLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG5cdFx0XHRrZXlzW2NvZGVzLmRvd25baV1dID0gWzAsIHBhbkRlbHRhXTtcblx0XHR9XG5cdFx0Zm9yIChpID0gMCwgbGVuID0gY29kZXMudXAubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcblx0XHRcdGtleXNbY29kZXMudXBbaV1dID0gWzAsIC0xICogcGFuRGVsdGFdO1xuXHRcdH1cblx0fSxcblxuXHRfc2V0Wm9vbURlbHRhOiBmdW5jdGlvbiAoem9vbURlbHRhKSB7XG5cdFx0dmFyIGtleXMgPSB0aGlzLl96b29tS2V5cyA9IHt9LFxuXHRcdCAgICBjb2RlcyA9IHRoaXMua2V5Q29kZXMsXG5cdFx0ICAgIGksIGxlbjtcblxuXHRcdGZvciAoaSA9IDAsIGxlbiA9IGNvZGVzLnpvb21Jbi5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuXHRcdFx0a2V5c1tjb2Rlcy56b29tSW5baV1dID0gem9vbURlbHRhO1xuXHRcdH1cblx0XHRmb3IgKGkgPSAwLCBsZW4gPSBjb2Rlcy56b29tT3V0Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG5cdFx0XHRrZXlzW2NvZGVzLnpvb21PdXRbaV1dID0gLXpvb21EZWx0YTtcblx0XHR9XG5cdH0sXG5cblx0X2FkZEhvb2tzOiBmdW5jdGlvbiAoKSB7XG5cdFx0TC5Eb21FdmVudC5vbihkb2N1bWVudCwgJ2tleWRvd24nLCB0aGlzLl9vbktleURvd24sIHRoaXMpO1xuXHR9LFxuXG5cdF9yZW1vdmVIb29rczogZnVuY3Rpb24gKCkge1xuXHRcdEwuRG9tRXZlbnQub2ZmKGRvY3VtZW50LCAna2V5ZG93bicsIHRoaXMuX29uS2V5RG93biwgdGhpcyk7XG5cdH0sXG5cblx0X29uS2V5RG93bjogZnVuY3Rpb24gKGUpIHtcblx0XHRpZiAoZS5hbHRLZXkgfHwgZS5jdHJsS2V5IHx8IGUubWV0YUtleSkgeyByZXR1cm47IH1cblxuXHRcdHZhciBrZXkgPSBlLmtleUNvZGUsXG5cdFx0ICAgIG1hcCA9IHRoaXMuX21hcCxcblx0XHQgICAgb2Zmc2V0O1xuXG5cdFx0aWYgKGtleSBpbiB0aGlzLl9wYW5LZXlzKSB7XG5cblx0XHRcdGlmIChtYXAuX3BhbkFuaW0gJiYgbWFwLl9wYW5BbmltLl9pblByb2dyZXNzKSB7IHJldHVybjsgfVxuXG5cdFx0XHRvZmZzZXQgPSB0aGlzLl9wYW5LZXlzW2tleV07XG5cdFx0XHRpZiAoZS5zaGlmdEtleSkge1xuXHRcdFx0XHRvZmZzZXQgPSBMLnBvaW50KG9mZnNldCkubXVsdGlwbHlCeSgzKTtcblx0XHRcdH1cblxuXHRcdFx0bWFwLnBhbkJ5KG9mZnNldCk7XG5cblx0XHRcdGlmIChtYXAub3B0aW9ucy5tYXhCb3VuZHMpIHtcblx0XHRcdFx0bWFwLnBhbkluc2lkZUJvdW5kcyhtYXAub3B0aW9ucy5tYXhCb3VuZHMpO1xuXHRcdFx0fVxuXG5cdFx0fSBlbHNlIGlmIChrZXkgaW4gdGhpcy5fem9vbUtleXMpIHtcblx0XHRcdG1hcC5zZXRab29tKG1hcC5nZXRab29tKCkgKyAoZS5zaGlmdEtleSA/IDMgOiAxKSAqIHRoaXMuX3pvb21LZXlzW2tleV0pO1xuXG5cdFx0fSBlbHNlIGlmIChrZXkgPT09IDI3KSB7XG5cdFx0XHRtYXAuY2xvc2VQb3B1cCgpO1xuXG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRMLkRvbUV2ZW50LnN0b3AoZSk7XG5cdH1cbn0pO1xuXG4vLyBAc2VjdGlvbiBIYW5kbGVyc1xuLy8gQHNlY3Rpb24gSGFuZGxlcnNcbi8vIEBwcm9wZXJ0eSBrZXlib2FyZDogSGFuZGxlclxuLy8gS2V5Ym9hcmQgbmF2aWdhdGlvbiBoYW5kbGVyLlxuTC5NYXAuYWRkSW5pdEhvb2soJ2FkZEhhbmRsZXInLCAna2V5Ym9hcmQnLCBMLk1hcC5LZXlib2FyZCk7XG5cbi8qXG4gKiBMLkhhbmRsZXIuTWFya2VyRHJhZyBpcyB1c2VkIGludGVybmFsbHkgYnkgTC5NYXJrZXIgdG8gbWFrZSB0aGUgbWFya2VycyBkcmFnZ2FibGUuXG4gKi9cblxuXG4vKiBAbmFtZXNwYWNlIE1hcmtlclxuICogQHNlY3Rpb24gSW50ZXJhY3Rpb24gaGFuZGxlcnNcbiAqXG4gKiBJbnRlcmFjdGlvbiBoYW5kbGVycyBhcmUgcHJvcGVydGllcyBvZiBhIG1hcmtlciBpbnN0YW5jZSB0aGF0IGFsbG93IHlvdSB0byBjb250cm9sIGludGVyYWN0aW9uIGJlaGF2aW9yIGluIHJ1bnRpbWUsIGVuYWJsaW5nIG9yIGRpc2FibGluZyBjZXJ0YWluIGZlYXR1cmVzIHN1Y2ggYXMgZHJhZ2dpbmcgKHNlZSBgSGFuZGxlcmAgbWV0aG9kcykuIEV4YW1wbGU6XG4gKlxuICogYGBganNcbiAqIG1hcmtlci5kcmFnZ2luZy5kaXNhYmxlKCk7XG4gKiBgYGBcbiAqXG4gKiBAcHJvcGVydHkgZHJhZ2dpbmc6IEhhbmRsZXJcbiAqIE1hcmtlciBkcmFnZ2luZyBoYW5kbGVyIChieSBib3RoIG1vdXNlIGFuZCB0b3VjaCkuXG4gKi9cblxuTC5IYW5kbGVyLk1hcmtlckRyYWcgPSBMLkhhbmRsZXIuZXh0ZW5kKHtcblx0aW5pdGlhbGl6ZTogZnVuY3Rpb24gKG1hcmtlcikge1xuXHRcdHRoaXMuX21hcmtlciA9IG1hcmtlcjtcblx0fSxcblxuXHRhZGRIb29rczogZnVuY3Rpb24gKCkge1xuXHRcdHZhciBpY29uID0gdGhpcy5fbWFya2VyLl9pY29uO1xuXG5cdFx0aWYgKCF0aGlzLl9kcmFnZ2FibGUpIHtcblx0XHRcdHRoaXMuX2RyYWdnYWJsZSA9IG5ldyBMLkRyYWdnYWJsZShpY29uLCBpY29uLCB0cnVlKTtcblx0XHR9XG5cblx0XHR0aGlzLl9kcmFnZ2FibGUub24oe1xuXHRcdFx0ZHJhZ3N0YXJ0OiB0aGlzLl9vbkRyYWdTdGFydCxcblx0XHRcdGRyYWc6IHRoaXMuX29uRHJhZyxcblx0XHRcdGRyYWdlbmQ6IHRoaXMuX29uRHJhZ0VuZFxuXHRcdH0sIHRoaXMpLmVuYWJsZSgpO1xuXG5cdFx0TC5Eb21VdGlsLmFkZENsYXNzKGljb24sICdsZWFmbGV0LW1hcmtlci1kcmFnZ2FibGUnKTtcblx0fSxcblxuXHRyZW1vdmVIb29rczogZnVuY3Rpb24gKCkge1xuXHRcdHRoaXMuX2RyYWdnYWJsZS5vZmYoe1xuXHRcdFx0ZHJhZ3N0YXJ0OiB0aGlzLl9vbkRyYWdTdGFydCxcblx0XHRcdGRyYWc6IHRoaXMuX29uRHJhZyxcblx0XHRcdGRyYWdlbmQ6IHRoaXMuX29uRHJhZ0VuZFxuXHRcdH0sIHRoaXMpLmRpc2FibGUoKTtcblxuXHRcdGlmICh0aGlzLl9tYXJrZXIuX2ljb24pIHtcblx0XHRcdEwuRG9tVXRpbC5yZW1vdmVDbGFzcyh0aGlzLl9tYXJrZXIuX2ljb24sICdsZWFmbGV0LW1hcmtlci1kcmFnZ2FibGUnKTtcblx0XHR9XG5cdH0sXG5cblx0bW92ZWQ6IGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gdGhpcy5fZHJhZ2dhYmxlICYmIHRoaXMuX2RyYWdnYWJsZS5fbW92ZWQ7XG5cdH0sXG5cblx0X29uRHJhZ1N0YXJ0OiBmdW5jdGlvbiAoKSB7XG5cdFx0Ly8gQHNlY3Rpb24gRHJhZ2dpbmcgZXZlbnRzXG5cdFx0Ly8gQGV2ZW50IGRyYWdzdGFydDogRXZlbnRcblx0XHQvLyBGaXJlZCB3aGVuIHRoZSB1c2VyIHN0YXJ0cyBkcmFnZ2luZyB0aGUgbWFya2VyLlxuXG5cdFx0Ly8gQGV2ZW50IG1vdmVzdGFydDogRXZlbnRcblx0XHQvLyBGaXJlZCB3aGVuIHRoZSBtYXJrZXIgc3RhcnRzIG1vdmluZyAoYmVjYXVzZSBvZiBkcmFnZ2luZykuXG5cblx0XHR0aGlzLl9vbGRMYXRMbmcgPSB0aGlzLl9tYXJrZXIuZ2V0TGF0TG5nKCk7XG5cdFx0dGhpcy5fbWFya2VyXG5cdFx0ICAgIC5jbG9zZVBvcHVwKClcblx0XHQgICAgLmZpcmUoJ21vdmVzdGFydCcpXG5cdFx0ICAgIC5maXJlKCdkcmFnc3RhcnQnKTtcblx0fSxcblxuXHRfb25EcmFnOiBmdW5jdGlvbiAoZSkge1xuXHRcdHZhciBtYXJrZXIgPSB0aGlzLl9tYXJrZXIsXG5cdFx0ICAgIHNoYWRvdyA9IG1hcmtlci5fc2hhZG93LFxuXHRcdCAgICBpY29uUG9zID0gTC5Eb21VdGlsLmdldFBvc2l0aW9uKG1hcmtlci5faWNvbiksXG5cdFx0ICAgIGxhdGxuZyA9IG1hcmtlci5fbWFwLmxheWVyUG9pbnRUb0xhdExuZyhpY29uUG9zKTtcblxuXHRcdC8vIHVwZGF0ZSBzaGFkb3cgcG9zaXRpb25cblx0XHRpZiAoc2hhZG93KSB7XG5cdFx0XHRMLkRvbVV0aWwuc2V0UG9zaXRpb24oc2hhZG93LCBpY29uUG9zKTtcblx0XHR9XG5cblx0XHRtYXJrZXIuX2xhdGxuZyA9IGxhdGxuZztcblx0XHRlLmxhdGxuZyA9IGxhdGxuZztcblx0XHRlLm9sZExhdExuZyA9IHRoaXMuX29sZExhdExuZztcblxuXHRcdC8vIEBldmVudCBkcmFnOiBFdmVudFxuXHRcdC8vIEZpcmVkIHJlcGVhdGVkbHkgd2hpbGUgdGhlIHVzZXIgZHJhZ3MgdGhlIG1hcmtlci5cblx0XHRtYXJrZXJcblx0XHQgICAgLmZpcmUoJ21vdmUnLCBlKVxuXHRcdCAgICAuZmlyZSgnZHJhZycsIGUpO1xuXHR9LFxuXG5cdF9vbkRyYWdFbmQ6IGZ1bmN0aW9uIChlKSB7XG5cdFx0Ly8gQGV2ZW50IGRyYWdlbmQ6IERyYWdFbmRFdmVudFxuXHRcdC8vIEZpcmVkIHdoZW4gdGhlIHVzZXIgc3RvcHMgZHJhZ2dpbmcgdGhlIG1hcmtlci5cblxuXHRcdC8vIEBldmVudCBtb3ZlZW5kOiBFdmVudFxuXHRcdC8vIEZpcmVkIHdoZW4gdGhlIG1hcmtlciBzdG9wcyBtb3ZpbmcgKGJlY2F1c2Ugb2YgZHJhZ2dpbmcpLlxuXHRcdGRlbGV0ZSB0aGlzLl9vbGRMYXRMbmc7XG5cdFx0dGhpcy5fbWFya2VyXG5cdFx0ICAgIC5maXJlKCdtb3ZlZW5kJylcblx0XHQgICAgLmZpcmUoJ2RyYWdlbmQnLCBlKTtcblx0fVxufSk7XG5cbi8qXHJcbiAqIEBjbGFzcyBDb250cm9sXHJcbiAqIEBha2EgTC5Db250cm9sXHJcbiAqXHJcbiAqIEwuQ29udHJvbCBpcyBhIGJhc2UgY2xhc3MgZm9yIGltcGxlbWVudGluZyBtYXAgY29udHJvbHMuIEhhbmRsZXMgcG9zaXRpb25pbmcuXHJcbiAqIEFsbCBvdGhlciBjb250cm9scyBleHRlbmQgZnJvbSB0aGlzIGNsYXNzLlxyXG4gKi9cclxuXHJcbkwuQ29udHJvbCA9IEwuQ2xhc3MuZXh0ZW5kKHtcclxuXHQvLyBAc2VjdGlvblxyXG5cdC8vIEBha2EgQ29udHJvbCBvcHRpb25zXHJcblx0b3B0aW9uczoge1xyXG5cdFx0Ly8gQG9wdGlvbiBwb3NpdGlvbjogU3RyaW5nID0gJ3RvcHJpZ2h0J1xyXG5cdFx0Ly8gVGhlIHBvc2l0aW9uIG9mIHRoZSBjb250cm9sIChvbmUgb2YgdGhlIG1hcCBjb3JuZXJzKS4gUG9zc2libGUgdmFsdWVzIGFyZSBgJ3RvcGxlZnQnYCxcclxuXHRcdC8vIGAndG9wcmlnaHQnYCwgYCdib3R0b21sZWZ0J2Agb3IgYCdib3R0b21yaWdodCdgXHJcblx0XHRwb3NpdGlvbjogJ3RvcHJpZ2h0J1xyXG5cdH0sXHJcblxyXG5cdGluaXRpYWxpemU6IGZ1bmN0aW9uIChvcHRpb25zKSB7XHJcblx0XHRMLnNldE9wdGlvbnModGhpcywgb3B0aW9ucyk7XHJcblx0fSxcclxuXHJcblx0LyogQHNlY3Rpb25cclxuXHQgKiBDbGFzc2VzIGV4dGVuZGluZyBMLkNvbnRyb2wgd2lsbCBpbmhlcml0IHRoZSBmb2xsb3dpbmcgbWV0aG9kczpcclxuXHQgKlxyXG5cdCAqIEBtZXRob2QgZ2V0UG9zaXRpb246IHN0cmluZ1xyXG5cdCAqIFJldHVybnMgdGhlIHBvc2l0aW9uIG9mIHRoZSBjb250cm9sLlxyXG5cdCAqL1xyXG5cdGdldFBvc2l0aW9uOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5vcHRpb25zLnBvc2l0aW9uO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2Qgc2V0UG9zaXRpb24ocG9zaXRpb246IHN0cmluZyk6IHRoaXNcclxuXHQvLyBTZXRzIHRoZSBwb3NpdGlvbiBvZiB0aGUgY29udHJvbC5cclxuXHRzZXRQb3NpdGlvbjogZnVuY3Rpb24gKHBvc2l0aW9uKSB7XHJcblx0XHR2YXIgbWFwID0gdGhpcy5fbWFwO1xyXG5cclxuXHRcdGlmIChtYXApIHtcclxuXHRcdFx0bWFwLnJlbW92ZUNvbnRyb2wodGhpcyk7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5vcHRpb25zLnBvc2l0aW9uID0gcG9zaXRpb247XHJcblxyXG5cdFx0aWYgKG1hcCkge1xyXG5cdFx0XHRtYXAuYWRkQ29udHJvbCh0aGlzKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGdldENvbnRhaW5lcjogSFRNTEVsZW1lbnRcclxuXHQvLyBSZXR1cm5zIHRoZSBIVE1MRWxlbWVudCB0aGF0IGNvbnRhaW5zIHRoZSBjb250cm9sLlxyXG5cdGdldENvbnRhaW5lcjogZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuX2NvbnRhaW5lcjtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGFkZFRvKG1hcDogTWFwKTogdGhpc1xyXG5cdC8vIEFkZHMgdGhlIGNvbnRyb2wgdG8gdGhlIGdpdmVuIG1hcC5cclxuXHRhZGRUbzogZnVuY3Rpb24gKG1hcCkge1xyXG5cdFx0dGhpcy5yZW1vdmUoKTtcclxuXHRcdHRoaXMuX21hcCA9IG1hcDtcclxuXHJcblx0XHR2YXIgY29udGFpbmVyID0gdGhpcy5fY29udGFpbmVyID0gdGhpcy5vbkFkZChtYXApLFxyXG5cdFx0ICAgIHBvcyA9IHRoaXMuZ2V0UG9zaXRpb24oKSxcclxuXHRcdCAgICBjb3JuZXIgPSBtYXAuX2NvbnRyb2xDb3JuZXJzW3Bvc107XHJcblxyXG5cdFx0TC5Eb21VdGlsLmFkZENsYXNzKGNvbnRhaW5lciwgJ2xlYWZsZXQtY29udHJvbCcpO1xyXG5cclxuXHRcdGlmIChwb3MuaW5kZXhPZignYm90dG9tJykgIT09IC0xKSB7XHJcblx0XHRcdGNvcm5lci5pbnNlcnRCZWZvcmUoY29udGFpbmVyLCBjb3JuZXIuZmlyc3RDaGlsZCk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRjb3JuZXIuYXBwZW5kQ2hpbGQoY29udGFpbmVyKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHJlbW92ZTogdGhpc1xyXG5cdC8vIFJlbW92ZXMgdGhlIGNvbnRyb2wgZnJvbSB0aGUgbWFwIGl0IGlzIGN1cnJlbnRseSBhY3RpdmUgb24uXHJcblx0cmVtb3ZlOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRpZiAoIXRoaXMuX21hcCkge1xyXG5cdFx0XHRyZXR1cm4gdGhpcztcclxuXHRcdH1cclxuXHJcblx0XHRMLkRvbVV0aWwucmVtb3ZlKHRoaXMuX2NvbnRhaW5lcik7XHJcblxyXG5cdFx0aWYgKHRoaXMub25SZW1vdmUpIHtcclxuXHRcdFx0dGhpcy5vblJlbW92ZSh0aGlzLl9tYXApO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuX21hcCA9IG51bGw7XHJcblxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0X3JlZm9jdXNPbk1hcDogZnVuY3Rpb24gKGUpIHtcclxuXHRcdC8vIGlmIG1hcCBleGlzdHMgYW5kIGV2ZW50IGlzIG5vdCBhIGtleWJvYXJkIGV2ZW50XHJcblx0XHRpZiAodGhpcy5fbWFwICYmIGUgJiYgZS5zY3JlZW5YID4gMCAmJiBlLnNjcmVlblkgPiAwKSB7XHJcblx0XHRcdHRoaXMuX21hcC5nZXRDb250YWluZXIoKS5mb2N1cygpO1xyXG5cdFx0fVxyXG5cdH1cclxufSk7XHJcblxyXG5MLmNvbnRyb2wgPSBmdW5jdGlvbiAob3B0aW9ucykge1xyXG5cdHJldHVybiBuZXcgTC5Db250cm9sKG9wdGlvbnMpO1xyXG59O1xyXG5cclxuLyogQHNlY3Rpb24gRXh0ZW5zaW9uIG1ldGhvZHNcclxuICogQHVuaW5oZXJpdGFibGVcclxuICpcclxuICogRXZlcnkgY29udHJvbCBzaG91bGQgZXh0ZW5kIGZyb20gYEwuQ29udHJvbGAgYW5kIChyZS0paW1wbGVtZW50IHRoZSBmb2xsb3dpbmcgbWV0aG9kcy5cclxuICpcclxuICogQG1ldGhvZCBvbkFkZChtYXA6IE1hcCk6IEhUTUxFbGVtZW50XHJcbiAqIFNob3VsZCByZXR1cm4gdGhlIGNvbnRhaW5lciBET00gZWxlbWVudCBmb3IgdGhlIGNvbnRyb2wgYW5kIGFkZCBsaXN0ZW5lcnMgb24gcmVsZXZhbnQgbWFwIGV2ZW50cy4gQ2FsbGVkIG9uIFtgY29udHJvbC5hZGRUbyhtYXApYF0oI2NvbnRyb2wtYWRkVG8pLlxyXG4gKlxyXG4gKiBAbWV0aG9kIG9uUmVtb3ZlKG1hcDogTWFwKVxyXG4gKiBPcHRpb25hbCBtZXRob2QuIFNob3VsZCBjb250YWluIGFsbCBjbGVhbiB1cCBjb2RlIHRoYXQgcmVtb3ZlcyB0aGUgbGlzdGVuZXJzIHByZXZpb3VzbHkgYWRkZWQgaW4gW2BvbkFkZGBdKCNjb250cm9sLW9uYWRkKS4gQ2FsbGVkIG9uIFtgY29udHJvbC5yZW1vdmUoKWBdKCNjb250cm9sLXJlbW92ZSkuXHJcbiAqL1xyXG5cclxuLyogQG5hbWVzcGFjZSBNYXBcclxuICogQHNlY3Rpb24gTWV0aG9kcyBmb3IgTGF5ZXJzIGFuZCBDb250cm9sc1xyXG4gKi9cclxuTC5NYXAuaW5jbHVkZSh7XHJcblx0Ly8gQG1ldGhvZCBhZGRDb250cm9sKGNvbnRyb2w6IENvbnRyb2wpOiB0aGlzXHJcblx0Ly8gQWRkcyB0aGUgZ2l2ZW4gY29udHJvbCB0byB0aGUgbWFwXHJcblx0YWRkQ29udHJvbDogZnVuY3Rpb24gKGNvbnRyb2wpIHtcclxuXHRcdGNvbnRyb2wuYWRkVG8odGhpcyk7XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHJlbW92ZUNvbnRyb2woY29udHJvbDogQ29udHJvbCk6IHRoaXNcclxuXHQvLyBSZW1vdmVzIHRoZSBnaXZlbiBjb250cm9sIGZyb20gdGhlIG1hcFxyXG5cdHJlbW92ZUNvbnRyb2w6IGZ1bmN0aW9uIChjb250cm9sKSB7XHJcblx0XHRjb250cm9sLnJlbW92ZSgpO1xyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0X2luaXRDb250cm9sUG9zOiBmdW5jdGlvbiAoKSB7XHJcblx0XHR2YXIgY29ybmVycyA9IHRoaXMuX2NvbnRyb2xDb3JuZXJzID0ge30sXHJcblx0XHQgICAgbCA9ICdsZWFmbGV0LScsXHJcblx0XHQgICAgY29udGFpbmVyID0gdGhpcy5fY29udHJvbENvbnRhaW5lciA9XHJcblx0XHQgICAgICAgICAgICBMLkRvbVV0aWwuY3JlYXRlKCdkaXYnLCBsICsgJ2NvbnRyb2wtY29udGFpbmVyJywgdGhpcy5fY29udGFpbmVyKTtcclxuXHJcblx0XHRmdW5jdGlvbiBjcmVhdGVDb3JuZXIodlNpZGUsIGhTaWRlKSB7XHJcblx0XHRcdHZhciBjbGFzc05hbWUgPSBsICsgdlNpZGUgKyAnICcgKyBsICsgaFNpZGU7XHJcblxyXG5cdFx0XHRjb3JuZXJzW3ZTaWRlICsgaFNpZGVdID0gTC5Eb21VdGlsLmNyZWF0ZSgnZGl2JywgY2xhc3NOYW1lLCBjb250YWluZXIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNyZWF0ZUNvcm5lcigndG9wJywgJ2xlZnQnKTtcclxuXHRcdGNyZWF0ZUNvcm5lcigndG9wJywgJ3JpZ2h0Jyk7XHJcblx0XHRjcmVhdGVDb3JuZXIoJ2JvdHRvbScsICdsZWZ0Jyk7XHJcblx0XHRjcmVhdGVDb3JuZXIoJ2JvdHRvbScsICdyaWdodCcpO1xyXG5cdH0sXHJcblxyXG5cdF9jbGVhckNvbnRyb2xQb3M6IGZ1bmN0aW9uICgpIHtcclxuXHRcdEwuRG9tVXRpbC5yZW1vdmUodGhpcy5fY29udHJvbENvbnRhaW5lcik7XHJcblx0fVxyXG59KTtcclxuXG4vKlxyXG4gKiBAY2xhc3MgQ29udHJvbC5ab29tXHJcbiAqIEBha2EgTC5Db250cm9sLlpvb21cclxuICogQGluaGVyaXRzIENvbnRyb2xcclxuICpcclxuICogQSBiYXNpYyB6b29tIGNvbnRyb2wgd2l0aCB0d28gYnV0dG9ucyAoem9vbSBpbiBhbmQgem9vbSBvdXQpLiBJdCBpcyBwdXQgb24gdGhlIG1hcCBieSBkZWZhdWx0IHVubGVzcyB5b3Ugc2V0IGl0cyBbYHpvb21Db250cm9sYCBvcHRpb25dKCNtYXAtem9vbWNvbnRyb2wpIHRvIGBmYWxzZWAuIEV4dGVuZHMgYENvbnRyb2xgLlxyXG4gKi9cclxuXHJcbkwuQ29udHJvbC5ab29tID0gTC5Db250cm9sLmV4dGVuZCh7XHJcblx0Ly8gQHNlY3Rpb25cclxuXHQvLyBAYWthIENvbnRyb2wuWm9vbSBvcHRpb25zXHJcblx0b3B0aW9uczoge1xyXG5cdFx0cG9zaXRpb246ICd0b3BsZWZ0JyxcclxuXHJcblx0XHQvLyBAb3B0aW9uIHpvb21JblRleHQ6IFN0cmluZyA9ICcrJ1xyXG5cdFx0Ly8gVGhlIHRleHQgc2V0IG9uIHRoZSAnem9vbSBpbicgYnV0dG9uLlxyXG5cdFx0em9vbUluVGV4dDogJysnLFxyXG5cclxuXHRcdC8vIEBvcHRpb24gem9vbUluVGl0bGU6IFN0cmluZyA9ICdab29tIGluJ1xyXG5cdFx0Ly8gVGhlIHRpdGxlIHNldCBvbiB0aGUgJ3pvb20gaW4nIGJ1dHRvbi5cclxuXHRcdHpvb21JblRpdGxlOiAnWm9vbSBpbicsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiB6b29tT3V0VGV4dDogU3RyaW5nID0gJy0nXHJcblx0XHQvLyBUaGUgdGV4dCBzZXQgb24gdGhlICd6b29tIG91dCcgYnV0dG9uLlxyXG5cdFx0em9vbU91dFRleHQ6ICctJyxcclxuXHJcblx0XHQvLyBAb3B0aW9uIHpvb21PdXRUaXRsZTogU3RyaW5nID0gJ1pvb20gb3V0J1xyXG5cdFx0Ly8gVGhlIHRpdGxlIHNldCBvbiB0aGUgJ3pvb20gb3V0JyBidXR0b24uXHJcblx0XHR6b29tT3V0VGl0bGU6ICdab29tIG91dCdcclxuXHR9LFxyXG5cclxuXHRvbkFkZDogZnVuY3Rpb24gKG1hcCkge1xyXG5cdFx0dmFyIHpvb21OYW1lID0gJ2xlYWZsZXQtY29udHJvbC16b29tJyxcclxuXHRcdCAgICBjb250YWluZXIgPSBMLkRvbVV0aWwuY3JlYXRlKCdkaXYnLCB6b29tTmFtZSArICcgbGVhZmxldC1iYXInKSxcclxuXHRcdCAgICBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xyXG5cclxuXHRcdHRoaXMuX3pvb21JbkJ1dHRvbiAgPSB0aGlzLl9jcmVhdGVCdXR0b24ob3B0aW9ucy56b29tSW5UZXh0LCBvcHRpb25zLnpvb21JblRpdGxlLFxyXG5cdFx0ICAgICAgICB6b29tTmFtZSArICctaW4nLCAgY29udGFpbmVyLCB0aGlzLl96b29tSW4pO1xyXG5cdFx0dGhpcy5fem9vbU91dEJ1dHRvbiA9IHRoaXMuX2NyZWF0ZUJ1dHRvbihvcHRpb25zLnpvb21PdXRUZXh0LCBvcHRpb25zLnpvb21PdXRUaXRsZSxcclxuXHRcdCAgICAgICAgem9vbU5hbWUgKyAnLW91dCcsIGNvbnRhaW5lciwgdGhpcy5fem9vbU91dCk7XHJcblxyXG5cdFx0dGhpcy5fdXBkYXRlRGlzYWJsZWQoKTtcclxuXHRcdG1hcC5vbignem9vbWVuZCB6b29tbGV2ZWxzY2hhbmdlJywgdGhpcy5fdXBkYXRlRGlzYWJsZWQsIHRoaXMpO1xyXG5cclxuXHRcdHJldHVybiBjb250YWluZXI7XHJcblx0fSxcclxuXHJcblx0b25SZW1vdmU6IGZ1bmN0aW9uIChtYXApIHtcclxuXHRcdG1hcC5vZmYoJ3pvb21lbmQgem9vbWxldmVsc2NoYW5nZScsIHRoaXMuX3VwZGF0ZURpc2FibGVkLCB0aGlzKTtcclxuXHR9LFxyXG5cclxuXHRkaXNhYmxlOiBmdW5jdGlvbiAoKSB7XHJcblx0XHR0aGlzLl9kaXNhYmxlZCA9IHRydWU7XHJcblx0XHR0aGlzLl91cGRhdGVEaXNhYmxlZCgpO1xyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0ZW5hYmxlOiBmdW5jdGlvbiAoKSB7XHJcblx0XHR0aGlzLl9kaXNhYmxlZCA9IGZhbHNlO1xyXG5cdFx0dGhpcy5fdXBkYXRlRGlzYWJsZWQoKTtcclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH0sXHJcblxyXG5cdF96b29tSW46IGZ1bmN0aW9uIChlKSB7XHJcblx0XHRpZiAoIXRoaXMuX2Rpc2FibGVkICYmIHRoaXMuX21hcC5fem9vbSA8IHRoaXMuX21hcC5nZXRNYXhab29tKCkpIHtcclxuXHRcdFx0dGhpcy5fbWFwLnpvb21Jbih0aGlzLl9tYXAub3B0aW9ucy56b29tRGVsdGEgKiAoZS5zaGlmdEtleSA/IDMgOiAxKSk7XHJcblx0XHR9XHJcblx0fSxcclxuXHJcblx0X3pvb21PdXQ6IGZ1bmN0aW9uIChlKSB7XHJcblx0XHRpZiAoIXRoaXMuX2Rpc2FibGVkICYmIHRoaXMuX21hcC5fem9vbSA+IHRoaXMuX21hcC5nZXRNaW5ab29tKCkpIHtcclxuXHRcdFx0dGhpcy5fbWFwLnpvb21PdXQodGhpcy5fbWFwLm9wdGlvbnMuem9vbURlbHRhICogKGUuc2hpZnRLZXkgPyAzIDogMSkpO1xyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdF9jcmVhdGVCdXR0b246IGZ1bmN0aW9uIChodG1sLCB0aXRsZSwgY2xhc3NOYW1lLCBjb250YWluZXIsIGZuKSB7XHJcblx0XHR2YXIgbGluayA9IEwuRG9tVXRpbC5jcmVhdGUoJ2EnLCBjbGFzc05hbWUsIGNvbnRhaW5lcik7XHJcblx0XHRsaW5rLmlubmVySFRNTCA9IGh0bWw7XHJcblx0XHRsaW5rLmhyZWYgPSAnIyc7XHJcblx0XHRsaW5rLnRpdGxlID0gdGl0bGU7XHJcblxyXG5cdFx0TC5Eb21FdmVudFxyXG5cdFx0ICAgIC5vbihsaW5rLCAnbW91c2Vkb3duIGRibGNsaWNrJywgTC5Eb21FdmVudC5zdG9wUHJvcGFnYXRpb24pXHJcblx0XHQgICAgLm9uKGxpbmssICdjbGljaycsIEwuRG9tRXZlbnQuc3RvcClcclxuXHRcdCAgICAub24obGluaywgJ2NsaWNrJywgZm4sIHRoaXMpXHJcblx0XHQgICAgLm9uKGxpbmssICdjbGljaycsIHRoaXMuX3JlZm9jdXNPbk1hcCwgdGhpcyk7XHJcblxyXG5cdFx0cmV0dXJuIGxpbms7XHJcblx0fSxcclxuXHJcblx0X3VwZGF0ZURpc2FibGVkOiBmdW5jdGlvbiAoKSB7XHJcblx0XHR2YXIgbWFwID0gdGhpcy5fbWFwLFxyXG5cdFx0ICAgIGNsYXNzTmFtZSA9ICdsZWFmbGV0LWRpc2FibGVkJztcclxuXHJcblx0XHRMLkRvbVV0aWwucmVtb3ZlQ2xhc3ModGhpcy5fem9vbUluQnV0dG9uLCBjbGFzc05hbWUpO1xyXG5cdFx0TC5Eb21VdGlsLnJlbW92ZUNsYXNzKHRoaXMuX3pvb21PdXRCdXR0b24sIGNsYXNzTmFtZSk7XHJcblxyXG5cdFx0aWYgKHRoaXMuX2Rpc2FibGVkIHx8IG1hcC5fem9vbSA9PT0gbWFwLmdldE1pblpvb20oKSkge1xyXG5cdFx0XHRMLkRvbVV0aWwuYWRkQ2xhc3ModGhpcy5fem9vbU91dEJ1dHRvbiwgY2xhc3NOYW1lKTtcclxuXHRcdH1cclxuXHRcdGlmICh0aGlzLl9kaXNhYmxlZCB8fCBtYXAuX3pvb20gPT09IG1hcC5nZXRNYXhab29tKCkpIHtcclxuXHRcdFx0TC5Eb21VdGlsLmFkZENsYXNzKHRoaXMuX3pvb21JbkJ1dHRvbiwgY2xhc3NOYW1lKTtcclxuXHRcdH1cclxuXHR9XHJcbn0pO1xyXG5cclxuLy8gQG5hbWVzcGFjZSBNYXBcclxuLy8gQHNlY3Rpb24gQ29udHJvbCBvcHRpb25zXHJcbi8vIEBvcHRpb24gem9vbUNvbnRyb2w6IEJvb2xlYW4gPSB0cnVlXHJcbi8vIFdoZXRoZXIgYSBbem9vbSBjb250cm9sXSgjY29udHJvbC16b29tKSBpcyBhZGRlZCB0byB0aGUgbWFwIGJ5IGRlZmF1bHQuXHJcbkwuTWFwLm1lcmdlT3B0aW9ucyh7XHJcblx0em9vbUNvbnRyb2w6IHRydWVcclxufSk7XHJcblxyXG5MLk1hcC5hZGRJbml0SG9vayhmdW5jdGlvbiAoKSB7XHJcblx0aWYgKHRoaXMub3B0aW9ucy56b29tQ29udHJvbCkge1xyXG5cdFx0dGhpcy56b29tQ29udHJvbCA9IG5ldyBMLkNvbnRyb2wuWm9vbSgpO1xyXG5cdFx0dGhpcy5hZGRDb250cm9sKHRoaXMuem9vbUNvbnRyb2wpO1xyXG5cdH1cclxufSk7XHJcblxyXG4vLyBAbmFtZXNwYWNlIENvbnRyb2wuWm9vbVxyXG4vLyBAZmFjdG9yeSBMLmNvbnRyb2wuem9vbShvcHRpb25zOiBDb250cm9sLlpvb20gb3B0aW9ucylcclxuLy8gQ3JlYXRlcyBhIHpvb20gY29udHJvbFxyXG5MLmNvbnRyb2wuem9vbSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XHJcblx0cmV0dXJuIG5ldyBMLkNvbnRyb2wuWm9vbShvcHRpb25zKTtcclxufTtcclxuXG4vKlxyXG4gKiBAY2xhc3MgQ29udHJvbC5BdHRyaWJ1dGlvblxyXG4gKiBAYWthIEwuQ29udHJvbC5BdHRyaWJ1dGlvblxyXG4gKiBAaW5oZXJpdHMgQ29udHJvbFxyXG4gKlxyXG4gKiBUaGUgYXR0cmlidXRpb24gY29udHJvbCBhbGxvd3MgeW91IHRvIGRpc3BsYXkgYXR0cmlidXRpb24gZGF0YSBpbiBhIHNtYWxsIHRleHQgYm94IG9uIGEgbWFwLiBJdCBpcyBwdXQgb24gdGhlIG1hcCBieSBkZWZhdWx0IHVubGVzcyB5b3Ugc2V0IGl0cyBbYGF0dHJpYnV0aW9uQ29udHJvbGAgb3B0aW9uXSgjbWFwLWF0dHJpYnV0aW9uY29udHJvbCkgdG8gYGZhbHNlYCwgYW5kIGl0IGZldGNoZXMgYXR0cmlidXRpb24gdGV4dHMgZnJvbSBsYXllcnMgd2l0aCB0aGUgW2BnZXRBdHRyaWJ1dGlvbmAgbWV0aG9kXSgjbGF5ZXItZ2V0YXR0cmlidXRpb24pIGF1dG9tYXRpY2FsbHkuIEV4dGVuZHMgQ29udHJvbC5cclxuICovXHJcblxyXG5MLkNvbnRyb2wuQXR0cmlidXRpb24gPSBMLkNvbnRyb2wuZXh0ZW5kKHtcclxuXHQvLyBAc2VjdGlvblxyXG5cdC8vIEBha2EgQ29udHJvbC5BdHRyaWJ1dGlvbiBvcHRpb25zXHJcblx0b3B0aW9uczoge1xyXG5cdFx0cG9zaXRpb246ICdib3R0b21yaWdodCcsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiBwcmVmaXg6IFN0cmluZyA9ICdMZWFmbGV0J1xyXG5cdFx0Ly8gVGhlIEhUTUwgdGV4dCBzaG93biBiZWZvcmUgdGhlIGF0dHJpYnV0aW9ucy4gUGFzcyBgZmFsc2VgIHRvIGRpc2FibGUuXHJcblx0XHRwcmVmaXg6ICc8YSBocmVmPVwiaHR0cDovL2xlYWZsZXRqcy5jb21cIiB0aXRsZT1cIkEgSlMgbGlicmFyeSBmb3IgaW50ZXJhY3RpdmUgbWFwc1wiPkxlYWZsZXQ8L2E+J1xyXG5cdH0sXHJcblxyXG5cdGluaXRpYWxpemU6IGZ1bmN0aW9uIChvcHRpb25zKSB7XHJcblx0XHRMLnNldE9wdGlvbnModGhpcywgb3B0aW9ucyk7XHJcblxyXG5cdFx0dGhpcy5fYXR0cmlidXRpb25zID0ge307XHJcblx0fSxcclxuXHJcblx0b25BZGQ6IGZ1bmN0aW9uIChtYXApIHtcclxuXHRcdG1hcC5hdHRyaWJ1dGlvbkNvbnRyb2wgPSB0aGlzO1xyXG5cdFx0dGhpcy5fY29udGFpbmVyID0gTC5Eb21VdGlsLmNyZWF0ZSgnZGl2JywgJ2xlYWZsZXQtY29udHJvbC1hdHRyaWJ1dGlvbicpO1xyXG5cdFx0aWYgKEwuRG9tRXZlbnQpIHtcclxuXHRcdFx0TC5Eb21FdmVudC5kaXNhYmxlQ2xpY2tQcm9wYWdhdGlvbih0aGlzLl9jb250YWluZXIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIFRPRE8gdWdseSwgcmVmYWN0b3JcclxuXHRcdGZvciAodmFyIGkgaW4gbWFwLl9sYXllcnMpIHtcclxuXHRcdFx0aWYgKG1hcC5fbGF5ZXJzW2ldLmdldEF0dHJpYnV0aW9uKSB7XHJcblx0XHRcdFx0dGhpcy5hZGRBdHRyaWJ1dGlvbihtYXAuX2xheWVyc1tpXS5nZXRBdHRyaWJ1dGlvbigpKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuX3VwZGF0ZSgpO1xyXG5cclxuXHRcdHJldHVybiB0aGlzLl9jb250YWluZXI7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBzZXRQcmVmaXgocHJlZml4OiBTdHJpbmcpOiB0aGlzXHJcblx0Ly8gU2V0cyB0aGUgdGV4dCBiZWZvcmUgdGhlIGF0dHJpYnV0aW9ucy5cclxuXHRzZXRQcmVmaXg6IGZ1bmN0aW9uIChwcmVmaXgpIHtcclxuXHRcdHRoaXMub3B0aW9ucy5wcmVmaXggPSBwcmVmaXg7XHJcblx0XHR0aGlzLl91cGRhdGUoKTtcclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgYWRkQXR0cmlidXRpb24odGV4dDogU3RyaW5nKTogdGhpc1xyXG5cdC8vIEFkZHMgYW4gYXR0cmlidXRpb24gdGV4dCAoZS5nLiBgJ1ZlY3RvciBkYXRhICZjb3B5OyBNYXBib3gnYCkuXHJcblx0YWRkQXR0cmlidXRpb246IGZ1bmN0aW9uICh0ZXh0KSB7XHJcblx0XHRpZiAoIXRleHQpIHsgcmV0dXJuIHRoaXM7IH1cclxuXHJcblx0XHRpZiAoIXRoaXMuX2F0dHJpYnV0aW9uc1t0ZXh0XSkge1xyXG5cdFx0XHR0aGlzLl9hdHRyaWJ1dGlvbnNbdGV4dF0gPSAwO1xyXG5cdFx0fVxyXG5cdFx0dGhpcy5fYXR0cmlidXRpb25zW3RleHRdKys7XHJcblxyXG5cdFx0dGhpcy5fdXBkYXRlKCk7XHJcblxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCByZW1vdmVBdHRyaWJ1dGlvbih0ZXh0OiBTdHJpbmcpOiB0aGlzXHJcblx0Ly8gUmVtb3ZlcyBhbiBhdHRyaWJ1dGlvbiB0ZXh0LlxyXG5cdHJlbW92ZUF0dHJpYnV0aW9uOiBmdW5jdGlvbiAodGV4dCkge1xyXG5cdFx0aWYgKCF0ZXh0KSB7IHJldHVybiB0aGlzOyB9XHJcblxyXG5cdFx0aWYgKHRoaXMuX2F0dHJpYnV0aW9uc1t0ZXh0XSkge1xyXG5cdFx0XHR0aGlzLl9hdHRyaWJ1dGlvbnNbdGV4dF0tLTtcclxuXHRcdFx0dGhpcy5fdXBkYXRlKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0X3VwZGF0ZTogZnVuY3Rpb24gKCkge1xyXG5cdFx0aWYgKCF0aGlzLl9tYXApIHsgcmV0dXJuOyB9XHJcblxyXG5cdFx0dmFyIGF0dHJpYnMgPSBbXTtcclxuXHJcblx0XHRmb3IgKHZhciBpIGluIHRoaXMuX2F0dHJpYnV0aW9ucykge1xyXG5cdFx0XHRpZiAodGhpcy5fYXR0cmlidXRpb25zW2ldKSB7XHJcblx0XHRcdFx0YXR0cmlicy5wdXNoKGkpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0dmFyIHByZWZpeEFuZEF0dHJpYnMgPSBbXTtcclxuXHJcblx0XHRpZiAodGhpcy5vcHRpb25zLnByZWZpeCkge1xyXG5cdFx0XHRwcmVmaXhBbmRBdHRyaWJzLnB1c2godGhpcy5vcHRpb25zLnByZWZpeCk7XHJcblx0XHR9XHJcblx0XHRpZiAoYXR0cmlicy5sZW5ndGgpIHtcclxuXHRcdFx0cHJlZml4QW5kQXR0cmlicy5wdXNoKGF0dHJpYnMuam9pbignLCAnKSk7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5fY29udGFpbmVyLmlubmVySFRNTCA9IHByZWZpeEFuZEF0dHJpYnMuam9pbignIHwgJyk7XHJcblx0fVxyXG59KTtcclxuXHJcbi8vIEBuYW1lc3BhY2UgTWFwXHJcbi8vIEBzZWN0aW9uIENvbnRyb2wgb3B0aW9uc1xyXG4vLyBAb3B0aW9uIGF0dHJpYnV0aW9uQ29udHJvbDogQm9vbGVhbiA9IHRydWVcclxuLy8gV2hldGhlciBhIFthdHRyaWJ1dGlvbiBjb250cm9sXSgjY29udHJvbC1hdHRyaWJ1dGlvbikgaXMgYWRkZWQgdG8gdGhlIG1hcCBieSBkZWZhdWx0LlxyXG5MLk1hcC5tZXJnZU9wdGlvbnMoe1xyXG5cdGF0dHJpYnV0aW9uQ29udHJvbDogdHJ1ZVxyXG59KTtcclxuXHJcbkwuTWFwLmFkZEluaXRIb29rKGZ1bmN0aW9uICgpIHtcclxuXHRpZiAodGhpcy5vcHRpb25zLmF0dHJpYnV0aW9uQ29udHJvbCkge1xyXG5cdFx0bmV3IEwuQ29udHJvbC5BdHRyaWJ1dGlvbigpLmFkZFRvKHRoaXMpO1xyXG5cdH1cclxufSk7XHJcblxyXG4vLyBAbmFtZXNwYWNlIENvbnRyb2wuQXR0cmlidXRpb25cclxuLy8gQGZhY3RvcnkgTC5jb250cm9sLmF0dHJpYnV0aW9uKG9wdGlvbnM6IENvbnRyb2wuQXR0cmlidXRpb24gb3B0aW9ucylcclxuLy8gQ3JlYXRlcyBhbiBhdHRyaWJ1dGlvbiBjb250cm9sLlxyXG5MLmNvbnRyb2wuYXR0cmlidXRpb24gPSBmdW5jdGlvbiAob3B0aW9ucykge1xyXG5cdHJldHVybiBuZXcgTC5Db250cm9sLkF0dHJpYnV0aW9uKG9wdGlvbnMpO1xyXG59O1xyXG5cbi8qXG4gKiBAY2xhc3MgQ29udHJvbC5TY2FsZVxuICogQGFrYSBMLkNvbnRyb2wuU2NhbGVcbiAqIEBpbmhlcml0cyBDb250cm9sXG4gKlxuICogQSBzaW1wbGUgc2NhbGUgY29udHJvbCB0aGF0IHNob3dzIHRoZSBzY2FsZSBvZiB0aGUgY3VycmVudCBjZW50ZXIgb2Ygc2NyZWVuIGluIG1ldHJpYyAobS9rbSkgYW5kIGltcGVyaWFsIChtaS9mdCkgc3lzdGVtcy4gRXh0ZW5kcyBgQ29udHJvbGAuXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiBgYGBqc1xuICogTC5jb250cm9sLnNjYWxlKCkuYWRkVG8obWFwKTtcbiAqIGBgYFxuICovXG5cbkwuQ29udHJvbC5TY2FsZSA9IEwuQ29udHJvbC5leHRlbmQoe1xuXHQvLyBAc2VjdGlvblxuXHQvLyBAYWthIENvbnRyb2wuU2NhbGUgb3B0aW9uc1xuXHRvcHRpb25zOiB7XG5cdFx0cG9zaXRpb246ICdib3R0b21sZWZ0JyxcblxuXHRcdC8vIEBvcHRpb24gbWF4V2lkdGg6IE51bWJlciA9IDEwMFxuXHRcdC8vIE1heGltdW0gd2lkdGggb2YgdGhlIGNvbnRyb2wgaW4gcGl4ZWxzLiBUaGUgd2lkdGggaXMgc2V0IGR5bmFtaWNhbGx5IHRvIHNob3cgcm91bmQgdmFsdWVzIChlLmcuIDEwMCwgMjAwLCA1MDApLlxuXHRcdG1heFdpZHRoOiAxMDAsXG5cblx0XHQvLyBAb3B0aW9uIG1ldHJpYzogQm9vbGVhbiA9IFRydWVcblx0XHQvLyBXaGV0aGVyIHRvIHNob3cgdGhlIG1ldHJpYyBzY2FsZSBsaW5lIChtL2ttKS5cblx0XHRtZXRyaWM6IHRydWUsXG5cblx0XHQvLyBAb3B0aW9uIGltcGVyaWFsOiBCb29sZWFuID0gVHJ1ZVxuXHRcdC8vIFdoZXRoZXIgdG8gc2hvdyB0aGUgaW1wZXJpYWwgc2NhbGUgbGluZSAobWkvZnQpLlxuXHRcdGltcGVyaWFsOiB0cnVlXG5cblx0XHQvLyBAb3B0aW9uIHVwZGF0ZVdoZW5JZGxlOiBCb29sZWFuID0gZmFsc2Vcblx0XHQvLyBJZiBgdHJ1ZWAsIHRoZSBjb250cm9sIGlzIHVwZGF0ZWQgb24gW2Btb3ZlZW5kYF0oI21hcC1tb3ZlZW5kKSwgb3RoZXJ3aXNlIGl0J3MgYWx3YXlzIHVwLXRvLWRhdGUgKHVwZGF0ZWQgb24gW2Btb3ZlYF0oI21hcC1tb3ZlKSkuXG5cdH0sXG5cblx0b25BZGQ6IGZ1bmN0aW9uIChtYXApIHtcblx0XHR2YXIgY2xhc3NOYW1lID0gJ2xlYWZsZXQtY29udHJvbC1zY2FsZScsXG5cdFx0ICAgIGNvbnRhaW5lciA9IEwuRG9tVXRpbC5jcmVhdGUoJ2RpdicsIGNsYXNzTmFtZSksXG5cdFx0ICAgIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cblx0XHR0aGlzLl9hZGRTY2FsZXMob3B0aW9ucywgY2xhc3NOYW1lICsgJy1saW5lJywgY29udGFpbmVyKTtcblxuXHRcdG1hcC5vbihvcHRpb25zLnVwZGF0ZVdoZW5JZGxlID8gJ21vdmVlbmQnIDogJ21vdmUnLCB0aGlzLl91cGRhdGUsIHRoaXMpO1xuXHRcdG1hcC53aGVuUmVhZHkodGhpcy5fdXBkYXRlLCB0aGlzKTtcblxuXHRcdHJldHVybiBjb250YWluZXI7XG5cdH0sXG5cblx0b25SZW1vdmU6IGZ1bmN0aW9uIChtYXApIHtcblx0XHRtYXAub2ZmKHRoaXMub3B0aW9ucy51cGRhdGVXaGVuSWRsZSA/ICdtb3ZlZW5kJyA6ICdtb3ZlJywgdGhpcy5fdXBkYXRlLCB0aGlzKTtcblx0fSxcblxuXHRfYWRkU2NhbGVzOiBmdW5jdGlvbiAob3B0aW9ucywgY2xhc3NOYW1lLCBjb250YWluZXIpIHtcblx0XHRpZiAob3B0aW9ucy5tZXRyaWMpIHtcblx0XHRcdHRoaXMuX21TY2FsZSA9IEwuRG9tVXRpbC5jcmVhdGUoJ2RpdicsIGNsYXNzTmFtZSwgY29udGFpbmVyKTtcblx0XHR9XG5cdFx0aWYgKG9wdGlvbnMuaW1wZXJpYWwpIHtcblx0XHRcdHRoaXMuX2lTY2FsZSA9IEwuRG9tVXRpbC5jcmVhdGUoJ2RpdicsIGNsYXNzTmFtZSwgY29udGFpbmVyKTtcblx0XHR9XG5cdH0sXG5cblx0X3VwZGF0ZTogZnVuY3Rpb24gKCkge1xuXHRcdHZhciBtYXAgPSB0aGlzLl9tYXAsXG5cdFx0ICAgIHkgPSBtYXAuZ2V0U2l6ZSgpLnkgLyAyO1xuXG5cdFx0dmFyIG1heE1ldGVycyA9IG1hcC5kaXN0YW5jZShcblx0XHRcdFx0bWFwLmNvbnRhaW5lclBvaW50VG9MYXRMbmcoWzAsIHldKSxcblx0XHRcdFx0bWFwLmNvbnRhaW5lclBvaW50VG9MYXRMbmcoW3RoaXMub3B0aW9ucy5tYXhXaWR0aCwgeV0pKTtcblxuXHRcdHRoaXMuX3VwZGF0ZVNjYWxlcyhtYXhNZXRlcnMpO1xuXHR9LFxuXG5cdF91cGRhdGVTY2FsZXM6IGZ1bmN0aW9uIChtYXhNZXRlcnMpIHtcblx0XHRpZiAodGhpcy5vcHRpb25zLm1ldHJpYyAmJiBtYXhNZXRlcnMpIHtcblx0XHRcdHRoaXMuX3VwZGF0ZU1ldHJpYyhtYXhNZXRlcnMpO1xuXHRcdH1cblx0XHRpZiAodGhpcy5vcHRpb25zLmltcGVyaWFsICYmIG1heE1ldGVycykge1xuXHRcdFx0dGhpcy5fdXBkYXRlSW1wZXJpYWwobWF4TWV0ZXJzKTtcblx0XHR9XG5cdH0sXG5cblx0X3VwZGF0ZU1ldHJpYzogZnVuY3Rpb24gKG1heE1ldGVycykge1xuXHRcdHZhciBtZXRlcnMgPSB0aGlzLl9nZXRSb3VuZE51bShtYXhNZXRlcnMpLFxuXHRcdCAgICBsYWJlbCA9IG1ldGVycyA8IDEwMDAgPyBtZXRlcnMgKyAnIG0nIDogKG1ldGVycyAvIDEwMDApICsgJyBrbSc7XG5cblx0XHR0aGlzLl91cGRhdGVTY2FsZSh0aGlzLl9tU2NhbGUsIGxhYmVsLCBtZXRlcnMgLyBtYXhNZXRlcnMpO1xuXHR9LFxuXG5cdF91cGRhdGVJbXBlcmlhbDogZnVuY3Rpb24gKG1heE1ldGVycykge1xuXHRcdHZhciBtYXhGZWV0ID0gbWF4TWV0ZXJzICogMy4yODA4Mzk5LFxuXHRcdCAgICBtYXhNaWxlcywgbWlsZXMsIGZlZXQ7XG5cblx0XHRpZiAobWF4RmVldCA+IDUyODApIHtcblx0XHRcdG1heE1pbGVzID0gbWF4RmVldCAvIDUyODA7XG5cdFx0XHRtaWxlcyA9IHRoaXMuX2dldFJvdW5kTnVtKG1heE1pbGVzKTtcblx0XHRcdHRoaXMuX3VwZGF0ZVNjYWxlKHRoaXMuX2lTY2FsZSwgbWlsZXMgKyAnIG1pJywgbWlsZXMgLyBtYXhNaWxlcyk7XG5cblx0XHR9IGVsc2Uge1xuXHRcdFx0ZmVldCA9IHRoaXMuX2dldFJvdW5kTnVtKG1heEZlZXQpO1xuXHRcdFx0dGhpcy5fdXBkYXRlU2NhbGUodGhpcy5faVNjYWxlLCBmZWV0ICsgJyBmdCcsIGZlZXQgLyBtYXhGZWV0KTtcblx0XHR9XG5cdH0sXG5cblx0X3VwZGF0ZVNjYWxlOiBmdW5jdGlvbiAoc2NhbGUsIHRleHQsIHJhdGlvKSB7XG5cdFx0c2NhbGUuc3R5bGUud2lkdGggPSBNYXRoLnJvdW5kKHRoaXMub3B0aW9ucy5tYXhXaWR0aCAqIHJhdGlvKSArICdweCc7XG5cdFx0c2NhbGUuaW5uZXJIVE1MID0gdGV4dDtcblx0fSxcblxuXHRfZ2V0Um91bmROdW06IGZ1bmN0aW9uIChudW0pIHtcblx0XHR2YXIgcG93MTAgPSBNYXRoLnBvdygxMCwgKE1hdGguZmxvb3IobnVtKSArICcnKS5sZW5ndGggLSAxKSxcblx0XHQgICAgZCA9IG51bSAvIHBvdzEwO1xuXG5cdFx0ZCA9IGQgPj0gMTAgPyAxMCA6XG5cdFx0ICAgIGQgPj0gNSA/IDUgOlxuXHRcdCAgICBkID49IDMgPyAzIDpcblx0XHQgICAgZCA+PSAyID8gMiA6IDE7XG5cblx0XHRyZXR1cm4gcG93MTAgKiBkO1xuXHR9XG59KTtcblxuXG4vLyBAZmFjdG9yeSBMLmNvbnRyb2wuc2NhbGUob3B0aW9ucz86IENvbnRyb2wuU2NhbGUgb3B0aW9ucylcbi8vIENyZWF0ZXMgYW4gc2NhbGUgY29udHJvbCB3aXRoIHRoZSBnaXZlbiBvcHRpb25zLlxuTC5jb250cm9sLnNjYWxlID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcblx0cmV0dXJuIG5ldyBMLkNvbnRyb2wuU2NhbGUob3B0aW9ucyk7XG59O1xuXG4vKlxyXG4gKiBAY2xhc3MgQ29udHJvbC5MYXllcnNcclxuICogQGFrYSBMLkNvbnRyb2wuTGF5ZXJzXHJcbiAqIEBpbmhlcml0cyBDb250cm9sXHJcbiAqXHJcbiAqIFRoZSBsYXllcnMgY29udHJvbCBnaXZlcyB1c2VycyB0aGUgYWJpbGl0eSB0byBzd2l0Y2ggYmV0d2VlbiBkaWZmZXJlbnQgYmFzZSBsYXllcnMgYW5kIHN3aXRjaCBvdmVybGF5cyBvbi9vZmYgKGNoZWNrIG91dCB0aGUgW2RldGFpbGVkIGV4YW1wbGVdKGh0dHA6Ly9sZWFmbGV0anMuY29tL2V4YW1wbGVzL2xheWVycy1jb250cm9sLmh0bWwpKS4gRXh0ZW5kcyBgQ29udHJvbGAuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqXHJcbiAqIGBgYGpzXHJcbiAqIHZhciBiYXNlTGF5ZXJzID0ge1xyXG4gKiBcdFwiTWFwYm94XCI6IG1hcGJveCxcclxuICogXHRcIk9wZW5TdHJlZXRNYXBcIjogb3NtXHJcbiAqIH07XHJcbiAqXHJcbiAqIHZhciBvdmVybGF5cyA9IHtcclxuICogXHRcIk1hcmtlclwiOiBtYXJrZXIsXHJcbiAqIFx0XCJSb2Fkc1wiOiByb2Fkc0xheWVyXHJcbiAqIH07XHJcbiAqXHJcbiAqIEwuY29udHJvbC5sYXllcnMoYmFzZUxheWVycywgb3ZlcmxheXMpLmFkZFRvKG1hcCk7XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBUaGUgYGJhc2VMYXllcnNgIGFuZCBgb3ZlcmxheXNgIHBhcmFtZXRlcnMgYXJlIG9iamVjdCBsaXRlcmFscyB3aXRoIGxheWVyIG5hbWVzIGFzIGtleXMgYW5kIGBMYXllcmAgb2JqZWN0cyBhcyB2YWx1ZXM6XHJcbiAqXHJcbiAqIGBgYGpzXHJcbiAqIHtcclxuICogICAgIFwiPHNvbWVOYW1lMT5cIjogbGF5ZXIxLFxyXG4gKiAgICAgXCI8c29tZU5hbWUyPlwiOiBsYXllcjJcclxuICogfVxyXG4gKiBgYGBcclxuICpcclxuICogVGhlIGxheWVyIG5hbWVzIGNhbiBjb250YWluIEhUTUwsIHdoaWNoIGFsbG93cyB5b3UgdG8gYWRkIGFkZGl0aW9uYWwgc3R5bGluZyB0byB0aGUgaXRlbXM6XHJcbiAqXHJcbiAqIGBgYGpzXHJcbiAqIHtcIjxpbWcgc3JjPSdteS1sYXllci1pY29uJyAvPiA8c3BhbiBjbGFzcz0nbXktbGF5ZXItaXRlbSc+TXkgTGF5ZXI8L3NwYW4+XCI6IG15TGF5ZXJ9XHJcbiAqIGBgYFxyXG4gKi9cclxuXHJcblxyXG5MLkNvbnRyb2wuTGF5ZXJzID0gTC5Db250cm9sLmV4dGVuZCh7XHJcblx0Ly8gQHNlY3Rpb25cclxuXHQvLyBAYWthIENvbnRyb2wuTGF5ZXJzIG9wdGlvbnNcclxuXHRvcHRpb25zOiB7XHJcblx0XHQvLyBAb3B0aW9uIGNvbGxhcHNlZDogQm9vbGVhbiA9IHRydWVcclxuXHRcdC8vIElmIGB0cnVlYCwgdGhlIGNvbnRyb2wgd2lsbCBiZSBjb2xsYXBzZWQgaW50byBhbiBpY29uIGFuZCBleHBhbmRlZCBvbiBtb3VzZSBob3ZlciBvciB0b3VjaC5cclxuXHRcdGNvbGxhcHNlZDogdHJ1ZSxcclxuXHRcdHBvc2l0aW9uOiAndG9wcmlnaHQnLFxyXG5cclxuXHRcdC8vIEBvcHRpb24gYXV0b1pJbmRleDogQm9vbGVhbiA9IHRydWVcclxuXHRcdC8vIElmIGB0cnVlYCwgdGhlIGNvbnRyb2wgd2lsbCBhc3NpZ24gekluZGV4ZXMgaW4gaW5jcmVhc2luZyBvcmRlciB0byBhbGwgb2YgaXRzIGxheWVycyBzbyB0aGF0IHRoZSBvcmRlciBpcyBwcmVzZXJ2ZWQgd2hlbiBzd2l0Y2hpbmcgdGhlbSBvbi9vZmYuXHJcblx0XHRhdXRvWkluZGV4OiB0cnVlLFxyXG5cclxuXHRcdC8vIEBvcHRpb24gaGlkZVNpbmdsZUJhc2U6IEJvb2xlYW4gPSBmYWxzZVxyXG5cdFx0Ly8gSWYgYHRydWVgLCB0aGUgYmFzZSBsYXllcnMgaW4gdGhlIGNvbnRyb2wgd2lsbCBiZSBoaWRkZW4gd2hlbiB0aGVyZSBpcyBvbmx5IG9uZS5cclxuXHRcdGhpZGVTaW5nbGVCYXNlOiBmYWxzZVxyXG5cdH0sXHJcblxyXG5cdGluaXRpYWxpemU6IGZ1bmN0aW9uIChiYXNlTGF5ZXJzLCBvdmVybGF5cywgb3B0aW9ucykge1xyXG5cdFx0TC5zZXRPcHRpb25zKHRoaXMsIG9wdGlvbnMpO1xyXG5cclxuXHRcdHRoaXMuX2xheWVycyA9IFtdO1xyXG5cdFx0dGhpcy5fbGFzdFpJbmRleCA9IDA7XHJcblx0XHR0aGlzLl9oYW5kbGluZ0NsaWNrID0gZmFsc2U7XHJcblxyXG5cdFx0Zm9yICh2YXIgaSBpbiBiYXNlTGF5ZXJzKSB7XHJcblx0XHRcdHRoaXMuX2FkZExheWVyKGJhc2VMYXllcnNbaV0sIGkpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZvciAoaSBpbiBvdmVybGF5cykge1xyXG5cdFx0XHR0aGlzLl9hZGRMYXllcihvdmVybGF5c1tpXSwgaSwgdHJ1ZSk7XHJcblx0XHR9XHJcblx0fSxcclxuXHJcblx0b25BZGQ6IGZ1bmN0aW9uIChtYXApIHtcclxuXHRcdHRoaXMuX2luaXRMYXlvdXQoKTtcclxuXHRcdHRoaXMuX3VwZGF0ZSgpO1xyXG5cclxuXHRcdHRoaXMuX21hcCA9IG1hcDtcclxuXHRcdG1hcC5vbignem9vbWVuZCcsIHRoaXMuX2NoZWNrRGlzYWJsZWRMYXllcnMsIHRoaXMpO1xyXG5cclxuXHRcdHJldHVybiB0aGlzLl9jb250YWluZXI7XHJcblx0fSxcclxuXHJcblx0b25SZW1vdmU6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHRoaXMuX21hcC5vZmYoJ3pvb21lbmQnLCB0aGlzLl9jaGVja0Rpc2FibGVkTGF5ZXJzLCB0aGlzKTtcclxuXHJcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX2xheWVycy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHR0aGlzLl9sYXllcnNbaV0ubGF5ZXIub2ZmKCdhZGQgcmVtb3ZlJywgdGhpcy5fb25MYXllckNoYW5nZSwgdGhpcyk7XHJcblx0XHR9XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBhZGRCYXNlTGF5ZXIobGF5ZXI6IExheWVyLCBuYW1lOiBTdHJpbmcpOiB0aGlzXHJcblx0Ly8gQWRkcyBhIGJhc2UgbGF5ZXIgKHJhZGlvIGJ1dHRvbiBlbnRyeSkgd2l0aCB0aGUgZ2l2ZW4gbmFtZSB0byB0aGUgY29udHJvbC5cclxuXHRhZGRCYXNlTGF5ZXI6IGZ1bmN0aW9uIChsYXllciwgbmFtZSkge1xyXG5cdFx0dGhpcy5fYWRkTGF5ZXIobGF5ZXIsIG5hbWUpO1xyXG5cdFx0cmV0dXJuICh0aGlzLl9tYXApID8gdGhpcy5fdXBkYXRlKCkgOiB0aGlzO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgYWRkT3ZlcmxheShsYXllcjogTGF5ZXIsIG5hbWU6IFN0cmluZyk6IHRoaXNcclxuXHQvLyBBZGRzIGFuIG92ZXJsYXkgKGNoZWNrYm94IGVudHJ5KSB3aXRoIHRoZSBnaXZlbiBuYW1lIHRvIHRoZSBjb250cm9sLlxyXG5cdGFkZE92ZXJsYXk6IGZ1bmN0aW9uIChsYXllciwgbmFtZSkge1xyXG5cdFx0dGhpcy5fYWRkTGF5ZXIobGF5ZXIsIG5hbWUsIHRydWUpO1xyXG5cdFx0cmV0dXJuICh0aGlzLl9tYXApID8gdGhpcy5fdXBkYXRlKCkgOiB0aGlzO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgcmVtb3ZlTGF5ZXIobGF5ZXI6IExheWVyKTogdGhpc1xyXG5cdC8vIFJlbW92ZSB0aGUgZ2l2ZW4gbGF5ZXIgZnJvbSB0aGUgY29udHJvbC5cclxuXHRyZW1vdmVMYXllcjogZnVuY3Rpb24gKGxheWVyKSB7XHJcblx0XHRsYXllci5vZmYoJ2FkZCByZW1vdmUnLCB0aGlzLl9vbkxheWVyQ2hhbmdlLCB0aGlzKTtcclxuXHJcblx0XHR2YXIgb2JqID0gdGhpcy5fZ2V0TGF5ZXIoTC5zdGFtcChsYXllcikpO1xyXG5cdFx0aWYgKG9iaikge1xyXG5cdFx0XHR0aGlzLl9sYXllcnMuc3BsaWNlKHRoaXMuX2xheWVycy5pbmRleE9mKG9iaiksIDEpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuICh0aGlzLl9tYXApID8gdGhpcy5fdXBkYXRlKCkgOiB0aGlzO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgZXhwYW5kKCk6IHRoaXNcclxuXHQvLyBFeHBhbmQgdGhlIGNvbnRyb2wgY29udGFpbmVyIGlmIGNvbGxhcHNlZC5cclxuXHRleHBhbmQ6IGZ1bmN0aW9uICgpIHtcclxuXHRcdEwuRG9tVXRpbC5hZGRDbGFzcyh0aGlzLl9jb250YWluZXIsICdsZWFmbGV0LWNvbnRyb2wtbGF5ZXJzLWV4cGFuZGVkJyk7XHJcblx0XHR0aGlzLl9mb3JtLnN0eWxlLmhlaWdodCA9IG51bGw7XHJcblx0XHR2YXIgYWNjZXB0YWJsZUhlaWdodCA9IHRoaXMuX21hcC5nZXRTaXplKCkueSAtICh0aGlzLl9jb250YWluZXIub2Zmc2V0VG9wICsgNTApO1xyXG5cdFx0aWYgKGFjY2VwdGFibGVIZWlnaHQgPCB0aGlzLl9mb3JtLmNsaWVudEhlaWdodCkge1xyXG5cdFx0XHRMLkRvbVV0aWwuYWRkQ2xhc3ModGhpcy5fZm9ybSwgJ2xlYWZsZXQtY29udHJvbC1sYXllcnMtc2Nyb2xsYmFyJyk7XHJcblx0XHRcdHRoaXMuX2Zvcm0uc3R5bGUuaGVpZ2h0ID0gYWNjZXB0YWJsZUhlaWdodCArICdweCc7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRMLkRvbVV0aWwucmVtb3ZlQ2xhc3ModGhpcy5fZm9ybSwgJ2xlYWZsZXQtY29udHJvbC1sYXllcnMtc2Nyb2xsYmFyJyk7XHJcblx0XHR9XHJcblx0XHR0aGlzLl9jaGVja0Rpc2FibGVkTGF5ZXJzKCk7XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGNvbGxhcHNlKCk6IHRoaXNcclxuXHQvLyBDb2xsYXBzZSB0aGUgY29udHJvbCBjb250YWluZXIgaWYgZXhwYW5kZWQuXHJcblx0Y29sbGFwc2U6IGZ1bmN0aW9uICgpIHtcclxuXHRcdEwuRG9tVXRpbC5yZW1vdmVDbGFzcyh0aGlzLl9jb250YWluZXIsICdsZWFmbGV0LWNvbnRyb2wtbGF5ZXJzLWV4cGFuZGVkJyk7XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHRfaW5pdExheW91dDogZnVuY3Rpb24gKCkge1xyXG5cdFx0dmFyIGNsYXNzTmFtZSA9ICdsZWFmbGV0LWNvbnRyb2wtbGF5ZXJzJyxcclxuXHRcdCAgICBjb250YWluZXIgPSB0aGlzLl9jb250YWluZXIgPSBMLkRvbVV0aWwuY3JlYXRlKCdkaXYnLCBjbGFzc05hbWUpO1xyXG5cclxuXHRcdC8vIG1ha2VzIHRoaXMgd29yayBvbiBJRSB0b3VjaCBkZXZpY2VzIGJ5IHN0b3BwaW5nIGl0IGZyb20gZmlyaW5nIGEgbW91c2VvdXQgZXZlbnQgd2hlbiB0aGUgdG91Y2ggaXMgcmVsZWFzZWRcclxuXHRcdGNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGFzcG9wdXAnLCB0cnVlKTtcclxuXHJcblx0XHRMLkRvbUV2ZW50LmRpc2FibGVDbGlja1Byb3BhZ2F0aW9uKGNvbnRhaW5lcik7XHJcblx0XHRpZiAoIUwuQnJvd3Nlci50b3VjaCkge1xyXG5cdFx0XHRMLkRvbUV2ZW50LmRpc2FibGVTY3JvbGxQcm9wYWdhdGlvbihjb250YWluZXIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHZhciBmb3JtID0gdGhpcy5fZm9ybSA9IEwuRG9tVXRpbC5jcmVhdGUoJ2Zvcm0nLCBjbGFzc05hbWUgKyAnLWxpc3QnKTtcclxuXHJcblx0XHRpZiAodGhpcy5vcHRpb25zLmNvbGxhcHNlZCkge1xyXG5cdFx0XHRpZiAoIUwuQnJvd3Nlci5hbmRyb2lkKSB7XHJcblx0XHRcdFx0TC5Eb21FdmVudC5vbihjb250YWluZXIsIHtcclxuXHRcdFx0XHRcdG1vdXNlZW50ZXI6IHRoaXMuZXhwYW5kLFxyXG5cdFx0XHRcdFx0bW91c2VsZWF2ZTogdGhpcy5jb2xsYXBzZVxyXG5cdFx0XHRcdH0sIHRoaXMpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHR2YXIgbGluayA9IHRoaXMuX2xheWVyc0xpbmsgPSBMLkRvbVV0aWwuY3JlYXRlKCdhJywgY2xhc3NOYW1lICsgJy10b2dnbGUnLCBjb250YWluZXIpO1xyXG5cdFx0XHRsaW5rLmhyZWYgPSAnIyc7XHJcblx0XHRcdGxpbmsudGl0bGUgPSAnTGF5ZXJzJztcclxuXHJcblx0XHRcdGlmIChMLkJyb3dzZXIudG91Y2gpIHtcclxuXHRcdFx0XHRMLkRvbUV2ZW50XHJcblx0XHRcdFx0ICAgIC5vbihsaW5rLCAnY2xpY2snLCBMLkRvbUV2ZW50LnN0b3ApXHJcblx0XHRcdFx0ICAgIC5vbihsaW5rLCAnY2xpY2snLCB0aGlzLmV4cGFuZCwgdGhpcyk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0TC5Eb21FdmVudC5vbihsaW5rLCAnZm9jdXMnLCB0aGlzLmV4cGFuZCwgdGhpcyk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIHdvcmsgYXJvdW5kIGZvciBGaXJlZm94IEFuZHJvaWQgaXNzdWUgaHR0cHM6Ly9naXRodWIuY29tL0xlYWZsZXQvTGVhZmxldC9pc3N1ZXMvMjAzM1xyXG5cdFx0XHRMLkRvbUV2ZW50Lm9uKGZvcm0sICdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRzZXRUaW1lb3V0KEwuYmluZCh0aGlzLl9vbklucHV0Q2xpY2ssIHRoaXMpLCAwKTtcclxuXHRcdFx0fSwgdGhpcyk7XHJcblxyXG5cdFx0XHR0aGlzLl9tYXAub24oJ2NsaWNrJywgdGhpcy5jb2xsYXBzZSwgdGhpcyk7XHJcblx0XHRcdC8vIFRPRE8ga2V5Ym9hcmQgYWNjZXNzaWJpbGl0eVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dGhpcy5leHBhbmQoKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLl9iYXNlTGF5ZXJzTGlzdCA9IEwuRG9tVXRpbC5jcmVhdGUoJ2RpdicsIGNsYXNzTmFtZSArICctYmFzZScsIGZvcm0pO1xyXG5cdFx0dGhpcy5fc2VwYXJhdG9yID0gTC5Eb21VdGlsLmNyZWF0ZSgnZGl2JywgY2xhc3NOYW1lICsgJy1zZXBhcmF0b3InLCBmb3JtKTtcclxuXHRcdHRoaXMuX292ZXJsYXlzTGlzdCA9IEwuRG9tVXRpbC5jcmVhdGUoJ2RpdicsIGNsYXNzTmFtZSArICctb3ZlcmxheXMnLCBmb3JtKTtcclxuXHJcblx0XHRjb250YWluZXIuYXBwZW5kQ2hpbGQoZm9ybSk7XHJcblx0fSxcclxuXHJcblx0X2dldExheWVyOiBmdW5jdGlvbiAoaWQpIHtcclxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fbGF5ZXJzLmxlbmd0aDsgaSsrKSB7XHJcblxyXG5cdFx0XHRpZiAodGhpcy5fbGF5ZXJzW2ldICYmIEwuc3RhbXAodGhpcy5fbGF5ZXJzW2ldLmxheWVyKSA9PT0gaWQpIHtcclxuXHRcdFx0XHRyZXR1cm4gdGhpcy5fbGF5ZXJzW2ldO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fSxcclxuXHJcblx0X2FkZExheWVyOiBmdW5jdGlvbiAobGF5ZXIsIG5hbWUsIG92ZXJsYXkpIHtcclxuXHRcdGxheWVyLm9uKCdhZGQgcmVtb3ZlJywgdGhpcy5fb25MYXllckNoYW5nZSwgdGhpcyk7XHJcblxyXG5cdFx0dGhpcy5fbGF5ZXJzLnB1c2goe1xyXG5cdFx0XHRsYXllcjogbGF5ZXIsXHJcblx0XHRcdG5hbWU6IG5hbWUsXHJcblx0XHRcdG92ZXJsYXk6IG92ZXJsYXlcclxuXHRcdH0pO1xyXG5cclxuXHRcdGlmICh0aGlzLm9wdGlvbnMuYXV0b1pJbmRleCAmJiBsYXllci5zZXRaSW5kZXgpIHtcclxuXHRcdFx0dGhpcy5fbGFzdFpJbmRleCsrO1xyXG5cdFx0XHRsYXllci5zZXRaSW5kZXgodGhpcy5fbGFzdFpJbmRleCk7XHJcblx0XHR9XHJcblx0fSxcclxuXHJcblx0X3VwZGF0ZTogZnVuY3Rpb24gKCkge1xyXG5cdFx0aWYgKCF0aGlzLl9jb250YWluZXIpIHsgcmV0dXJuIHRoaXM7IH1cclxuXHJcblx0XHRMLkRvbVV0aWwuZW1wdHkodGhpcy5fYmFzZUxheWVyc0xpc3QpO1xyXG5cdFx0TC5Eb21VdGlsLmVtcHR5KHRoaXMuX292ZXJsYXlzTGlzdCk7XHJcblxyXG5cdFx0dmFyIGJhc2VMYXllcnNQcmVzZW50LCBvdmVybGF5c1ByZXNlbnQsIGksIG9iaiwgYmFzZUxheWVyc0NvdW50ID0gMDtcclxuXHJcblx0XHRmb3IgKGkgPSAwOyBpIDwgdGhpcy5fbGF5ZXJzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdG9iaiA9IHRoaXMuX2xheWVyc1tpXTtcclxuXHRcdFx0dGhpcy5fYWRkSXRlbShvYmopO1xyXG5cdFx0XHRvdmVybGF5c1ByZXNlbnQgPSBvdmVybGF5c1ByZXNlbnQgfHwgb2JqLm92ZXJsYXk7XHJcblx0XHRcdGJhc2VMYXllcnNQcmVzZW50ID0gYmFzZUxheWVyc1ByZXNlbnQgfHwgIW9iai5vdmVybGF5O1xyXG5cdFx0XHRiYXNlTGF5ZXJzQ291bnQgKz0gIW9iai5vdmVybGF5ID8gMSA6IDA7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gSGlkZSBiYXNlIGxheWVycyBzZWN0aW9uIGlmIHRoZXJlJ3Mgb25seSBvbmUgbGF5ZXIuXHJcblx0XHRpZiAodGhpcy5vcHRpb25zLmhpZGVTaW5nbGVCYXNlKSB7XHJcblx0XHRcdGJhc2VMYXllcnNQcmVzZW50ID0gYmFzZUxheWVyc1ByZXNlbnQgJiYgYmFzZUxheWVyc0NvdW50ID4gMTtcclxuXHRcdFx0dGhpcy5fYmFzZUxheWVyc0xpc3Quc3R5bGUuZGlzcGxheSA9IGJhc2VMYXllcnNQcmVzZW50ID8gJycgOiAnbm9uZSc7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5fc2VwYXJhdG9yLnN0eWxlLmRpc3BsYXkgPSBvdmVybGF5c1ByZXNlbnQgJiYgYmFzZUxheWVyc1ByZXNlbnQgPyAnJyA6ICdub25lJztcclxuXHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHRfb25MYXllckNoYW5nZTogZnVuY3Rpb24gKGUpIHtcclxuXHRcdGlmICghdGhpcy5faGFuZGxpbmdDbGljaykge1xyXG5cdFx0XHR0aGlzLl91cGRhdGUoKTtcclxuXHRcdH1cclxuXHJcblx0XHR2YXIgb2JqID0gdGhpcy5fZ2V0TGF5ZXIoTC5zdGFtcChlLnRhcmdldCkpO1xyXG5cclxuXHRcdC8vIEBuYW1lc3BhY2UgTWFwXHJcblx0XHQvLyBAc2VjdGlvbiBMYXllciBldmVudHNcclxuXHRcdC8vIEBldmVudCBiYXNlbGF5ZXJjaGFuZ2U6IExheWVyc0NvbnRyb2xFdmVudFxyXG5cdFx0Ly8gRmlyZWQgd2hlbiB0aGUgYmFzZSBsYXllciBpcyBjaGFuZ2VkIHRocm91Z2ggdGhlIFtsYXllciBjb250cm9sXSgjY29udHJvbC1sYXllcnMpLlxyXG5cdFx0Ly8gQGV2ZW50IG92ZXJsYXlhZGQ6IExheWVyc0NvbnRyb2xFdmVudFxyXG5cdFx0Ly8gRmlyZWQgd2hlbiBhbiBvdmVybGF5IGlzIHNlbGVjdGVkIHRocm91Z2ggdGhlIFtsYXllciBjb250cm9sXSgjY29udHJvbC1sYXllcnMpLlxyXG5cdFx0Ly8gQGV2ZW50IG92ZXJsYXlyZW1vdmU6IExheWVyc0NvbnRyb2xFdmVudFxyXG5cdFx0Ly8gRmlyZWQgd2hlbiBhbiBvdmVybGF5IGlzIGRlc2VsZWN0ZWQgdGhyb3VnaCB0aGUgW2xheWVyIGNvbnRyb2xdKCNjb250cm9sLWxheWVycykuXHJcblx0XHQvLyBAbmFtZXNwYWNlIENvbnRyb2wuTGF5ZXJzXHJcblx0XHR2YXIgdHlwZSA9IG9iai5vdmVybGF5ID9cclxuXHRcdFx0KGUudHlwZSA9PT0gJ2FkZCcgPyAnb3ZlcmxheWFkZCcgOiAnb3ZlcmxheXJlbW92ZScpIDpcclxuXHRcdFx0KGUudHlwZSA9PT0gJ2FkZCcgPyAnYmFzZWxheWVyY2hhbmdlJyA6IG51bGwpO1xyXG5cclxuXHRcdGlmICh0eXBlKSB7XHJcblx0XHRcdHRoaXMuX21hcC5maXJlKHR5cGUsIG9iaik7XHJcblx0XHR9XHJcblx0fSxcclxuXHJcblx0Ly8gSUU3IGJ1Z3Mgb3V0IGlmIHlvdSBjcmVhdGUgYSByYWRpbyBkeW5hbWljYWxseSwgc28geW91IGhhdmUgdG8gZG8gaXQgdGhpcyBoYWNreSB3YXkgKHNlZSBodHRwOi8vYml0Lmx5L1BxWUxCZSlcclxuXHRfY3JlYXRlUmFkaW9FbGVtZW50OiBmdW5jdGlvbiAobmFtZSwgY2hlY2tlZCkge1xyXG5cclxuXHRcdHZhciByYWRpb0h0bWwgPSAnPGlucHV0IHR5cGU9XCJyYWRpb1wiIGNsYXNzPVwibGVhZmxldC1jb250cm9sLWxheWVycy1zZWxlY3RvclwiIG5hbWU9XCInICtcclxuXHRcdFx0XHRuYW1lICsgJ1wiJyArIChjaGVja2VkID8gJyBjaGVja2VkPVwiY2hlY2tlZFwiJyA6ICcnKSArICcvPic7XHJcblxyXG5cdFx0dmFyIHJhZGlvRnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHRcdHJhZGlvRnJhZ21lbnQuaW5uZXJIVE1MID0gcmFkaW9IdG1sO1xyXG5cclxuXHRcdHJldHVybiByYWRpb0ZyYWdtZW50LmZpcnN0Q2hpbGQ7XHJcblx0fSxcclxuXHJcblx0X2FkZEl0ZW06IGZ1bmN0aW9uIChvYmopIHtcclxuXHRcdHZhciBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyksXHJcblx0XHQgICAgY2hlY2tlZCA9IHRoaXMuX21hcC5oYXNMYXllcihvYmoubGF5ZXIpLFxyXG5cdFx0ICAgIGlucHV0O1xyXG5cclxuXHRcdGlmIChvYmoub3ZlcmxheSkge1xyXG5cdFx0XHRpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XHJcblx0XHRcdGlucHV0LnR5cGUgPSAnY2hlY2tib3gnO1xyXG5cdFx0XHRpbnB1dC5jbGFzc05hbWUgPSAnbGVhZmxldC1jb250cm9sLWxheWVycy1zZWxlY3Rvcic7XHJcblx0XHRcdGlucHV0LmRlZmF1bHRDaGVja2VkID0gY2hlY2tlZDtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGlucHV0ID0gdGhpcy5fY3JlYXRlUmFkaW9FbGVtZW50KCdsZWFmbGV0LWJhc2UtbGF5ZXJzJywgY2hlY2tlZCk7XHJcblx0XHR9XHJcblxyXG5cdFx0aW5wdXQubGF5ZXJJZCA9IEwuc3RhbXAob2JqLmxheWVyKTtcclxuXHJcblx0XHRMLkRvbUV2ZW50Lm9uKGlucHV0LCAnY2xpY2snLCB0aGlzLl9vbklucHV0Q2xpY2ssIHRoaXMpO1xyXG5cclxuXHRcdHZhciBuYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG5cdFx0bmFtZS5pbm5lckhUTUwgPSAnICcgKyBvYmoubmFtZTtcclxuXHJcblx0XHQvLyBIZWxwcyBmcm9tIHByZXZlbnRpbmcgbGF5ZXIgY29udHJvbCBmbGlja2VyIHdoZW4gY2hlY2tib3hlcyBhcmUgZGlzYWJsZWRcclxuXHRcdC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9MZWFmbGV0L0xlYWZsZXQvaXNzdWVzLzI3NzFcclxuXHRcdHZhciBob2xkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHJcblx0XHRsYWJlbC5hcHBlbmRDaGlsZChob2xkZXIpO1xyXG5cdFx0aG9sZGVyLmFwcGVuZENoaWxkKGlucHV0KTtcclxuXHRcdGhvbGRlci5hcHBlbmRDaGlsZChuYW1lKTtcclxuXHJcblx0XHR2YXIgY29udGFpbmVyID0gb2JqLm92ZXJsYXkgPyB0aGlzLl9vdmVybGF5c0xpc3QgOiB0aGlzLl9iYXNlTGF5ZXJzTGlzdDtcclxuXHRcdGNvbnRhaW5lci5hcHBlbmRDaGlsZChsYWJlbCk7XHJcblxyXG5cdFx0dGhpcy5fY2hlY2tEaXNhYmxlZExheWVycygpO1xyXG5cdFx0cmV0dXJuIGxhYmVsO1xyXG5cdH0sXHJcblxyXG5cdF9vbklucHV0Q2xpY2s6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHZhciBpbnB1dHMgPSB0aGlzLl9mb3JtLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdpbnB1dCcpLFxyXG5cdFx0ICAgIGlucHV0LCBsYXllciwgaGFzTGF5ZXI7XHJcblx0XHR2YXIgYWRkZWRMYXllcnMgPSBbXSxcclxuXHRcdCAgICByZW1vdmVkTGF5ZXJzID0gW107XHJcblxyXG5cdFx0dGhpcy5faGFuZGxpbmdDbGljayA9IHRydWU7XHJcblxyXG5cdFx0Zm9yICh2YXIgaSA9IGlucHV0cy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG5cdFx0XHRpbnB1dCA9IGlucHV0c1tpXTtcclxuXHRcdFx0bGF5ZXIgPSB0aGlzLl9nZXRMYXllcihpbnB1dC5sYXllcklkKS5sYXllcjtcclxuXHRcdFx0aGFzTGF5ZXIgPSB0aGlzLl9tYXAuaGFzTGF5ZXIobGF5ZXIpO1xyXG5cclxuXHRcdFx0aWYgKGlucHV0LmNoZWNrZWQgJiYgIWhhc0xheWVyKSB7XHJcblx0XHRcdFx0YWRkZWRMYXllcnMucHVzaChsYXllcik7XHJcblxyXG5cdFx0XHR9IGVsc2UgaWYgKCFpbnB1dC5jaGVja2VkICYmIGhhc0xheWVyKSB7XHJcblx0XHRcdFx0cmVtb3ZlZExheWVycy5wdXNoKGxheWVyKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdC8vIEJ1Z2ZpeCBpc3N1ZSAyMzE4OiBTaG91bGQgcmVtb3ZlIGFsbCBvbGQgbGF5ZXJzIGJlZm9yZSByZWFkZGluZyBuZXcgb25lc1xyXG5cdFx0Zm9yIChpID0gMDsgaSA8IHJlbW92ZWRMYXllcnMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0dGhpcy5fbWFwLnJlbW92ZUxheWVyKHJlbW92ZWRMYXllcnNbaV0pO1xyXG5cdFx0fVxyXG5cdFx0Zm9yIChpID0gMDsgaSA8IGFkZGVkTGF5ZXJzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdHRoaXMuX21hcC5hZGRMYXllcihhZGRlZExheWVyc1tpXSk7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5faGFuZGxpbmdDbGljayA9IGZhbHNlO1xyXG5cclxuXHRcdHRoaXMuX3JlZm9jdXNPbk1hcCgpO1xyXG5cdH0sXHJcblxyXG5cdF9jaGVja0Rpc2FibGVkTGF5ZXJzOiBmdW5jdGlvbiAoKSB7XHJcblx0XHR2YXIgaW5wdXRzID0gdGhpcy5fZm9ybS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaW5wdXQnKSxcclxuXHRcdCAgICBpbnB1dCxcclxuXHRcdCAgICBsYXllcixcclxuXHRcdCAgICB6b29tID0gdGhpcy5fbWFwLmdldFpvb20oKTtcclxuXHJcblx0XHRmb3IgKHZhciBpID0gaW5wdXRzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcblx0XHRcdGlucHV0ID0gaW5wdXRzW2ldO1xyXG5cdFx0XHRsYXllciA9IHRoaXMuX2dldExheWVyKGlucHV0LmxheWVySWQpLmxheWVyO1xyXG5cdFx0XHRpbnB1dC5kaXNhYmxlZCA9IChsYXllci5vcHRpb25zLm1pblpvb20gIT09IHVuZGVmaW5lZCAmJiB6b29tIDwgbGF5ZXIub3B0aW9ucy5taW5ab29tKSB8fFxyXG5cdFx0XHQgICAgICAgICAgICAgICAgIChsYXllci5vcHRpb25zLm1heFpvb20gIT09IHVuZGVmaW5lZCAmJiB6b29tID4gbGF5ZXIub3B0aW9ucy5tYXhab29tKTtcclxuXHJcblx0XHR9XHJcblx0fSxcclxuXHJcblx0X2V4cGFuZDogZnVuY3Rpb24gKCkge1xyXG5cdFx0Ly8gQmFja3dhcmQgY29tcGF0aWJpbGl0eSwgcmVtb3ZlIG1lIGluIDEuMS5cclxuXHRcdHJldHVybiB0aGlzLmV4cGFuZCgpO1xyXG5cdH0sXHJcblxyXG5cdF9jb2xsYXBzZTogZnVuY3Rpb24gKCkge1xyXG5cdFx0Ly8gQmFja3dhcmQgY29tcGF0aWJpbGl0eSwgcmVtb3ZlIG1lIGluIDEuMS5cclxuXHRcdHJldHVybiB0aGlzLmNvbGxhcHNlKCk7XHJcblx0fVxyXG5cclxufSk7XHJcblxyXG5cclxuLy8gQGZhY3RvcnkgTC5jb250cm9sLmxheWVycyhiYXNlbGF5ZXJzPzogT2JqZWN0LCBvdmVybGF5cz86IE9iamVjdCwgb3B0aW9ucz86IENvbnRyb2wuTGF5ZXJzIG9wdGlvbnMpXHJcbi8vIENyZWF0ZXMgYW4gYXR0cmlidXRpb24gY29udHJvbCB3aXRoIHRoZSBnaXZlbiBsYXllcnMuIEJhc2UgbGF5ZXJzIHdpbGwgYmUgc3dpdGNoZWQgd2l0aCByYWRpbyBidXR0b25zLCB3aGlsZSBvdmVybGF5cyB3aWxsIGJlIHN3aXRjaGVkIHdpdGggY2hlY2tib3hlcy4gTm90ZSB0aGF0IGFsbCBiYXNlIGxheWVycyBzaG91bGQgYmUgcGFzc2VkIGluIHRoZSBiYXNlIGxheWVycyBvYmplY3QsIGJ1dCBvbmx5IG9uZSBzaG91bGQgYmUgYWRkZWQgdG8gdGhlIG1hcCBkdXJpbmcgbWFwIGluc3RhbnRpYXRpb24uXHJcbkwuY29udHJvbC5sYXllcnMgPSBmdW5jdGlvbiAoYmFzZUxheWVycywgb3ZlcmxheXMsIG9wdGlvbnMpIHtcclxuXHRyZXR1cm4gbmV3IEwuQ29udHJvbC5MYXllcnMoYmFzZUxheWVycywgb3ZlcmxheXMsIG9wdGlvbnMpO1xyXG59O1xyXG5cbi8qXHJcbiAqIFByb3ZpZGVzIEwuTWFwIHdpdGggY29udmVuaWVudCBzaG9ydGN1dHMgZm9yIHVzaW5nIGJyb3dzZXIgZ2VvbG9jYXRpb24gZmVhdHVyZXMuXHJcbiAqL1xyXG5cclxuLy8gQG5hbWVzcGFjZSBNYXBcclxuXHJcbkwuTWFwLmluY2x1ZGUoe1xyXG5cdC8vIEBzZWN0aW9uIEdlb2xvY2F0aW9uIG1ldGhvZHNcclxuXHRfZGVmYXVsdExvY2F0ZU9wdGlvbnM6IHtcclxuXHRcdHRpbWVvdXQ6IDEwMDAwLFxyXG5cdFx0d2F0Y2g6IGZhbHNlXHJcblx0XHQvLyBzZXRWaWV3OiBmYWxzZVxyXG5cdFx0Ly8gbWF4Wm9vbTogPE51bWJlcj5cclxuXHRcdC8vIG1heGltdW1BZ2U6IDBcclxuXHRcdC8vIGVuYWJsZUhpZ2hBY2N1cmFjeTogZmFsc2VcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGxvY2F0ZShvcHRpb25zPzogTG9jYXRlIG9wdGlvbnMpOiB0aGlzXHJcblx0Ly8gVHJpZXMgdG8gbG9jYXRlIHRoZSB1c2VyIHVzaW5nIHRoZSBHZW9sb2NhdGlvbiBBUEksIGZpcmluZyBhIFtgbG9jYXRpb25mb3VuZGBdKCNtYXAtbG9jYXRpb25mb3VuZClcclxuXHQvLyBldmVudCB3aXRoIGxvY2F0aW9uIGRhdGEgb24gc3VjY2VzcyBvciBhIFtgbG9jYXRpb25lcnJvcmBdKCNtYXAtbG9jYXRpb25lcnJvcikgZXZlbnQgb24gZmFpbHVyZSxcclxuXHQvLyBhbmQgb3B0aW9uYWxseSBzZXRzIHRoZSBtYXAgdmlldyB0byB0aGUgdXNlcidzIGxvY2F0aW9uIHdpdGggcmVzcGVjdCB0b1xyXG5cdC8vIGRldGVjdGlvbiBhY2N1cmFjeSAob3IgdG8gdGhlIHdvcmxkIHZpZXcgaWYgZ2VvbG9jYXRpb24gZmFpbGVkKS5cclxuXHQvLyBOb3RlIHRoYXQsIGlmIHlvdXIgcGFnZSBkb2Vzbid0IHVzZSBIVFRQUywgdGhpcyBtZXRob2Qgd2lsbCBmYWlsIGluXHJcblx0Ly8gbW9kZXJuIGJyb3dzZXJzIChbQ2hyb21lIDUwIGFuZCBuZXdlcl0oaHR0cHM6Ly9zaXRlcy5nb29nbGUuY29tL2EvY2hyb21pdW0ub3JnL2Rldi9Ib21lL2Nocm9taXVtLXNlY3VyaXR5L2RlcHJlY2F0aW5nLXBvd2VyZnVsLWZlYXR1cmVzLW9uLWluc2VjdXJlLW9yaWdpbnMpKVxyXG5cdC8vIFNlZSBgTG9jYXRlIG9wdGlvbnNgIGZvciBtb3JlIGRldGFpbHMuXHJcblx0bG9jYXRlOiBmdW5jdGlvbiAob3B0aW9ucykge1xyXG5cclxuXHRcdG9wdGlvbnMgPSB0aGlzLl9sb2NhdGVPcHRpb25zID0gTC5leHRlbmQoe30sIHRoaXMuX2RlZmF1bHRMb2NhdGVPcHRpb25zLCBvcHRpb25zKTtcclxuXHJcblx0XHRpZiAoISgnZ2VvbG9jYXRpb24nIGluIG5hdmlnYXRvcikpIHtcclxuXHRcdFx0dGhpcy5faGFuZGxlR2VvbG9jYXRpb25FcnJvcih7XHJcblx0XHRcdFx0Y29kZTogMCxcclxuXHRcdFx0XHRtZXNzYWdlOiAnR2VvbG9jYXRpb24gbm90IHN1cHBvcnRlZC4nXHJcblx0XHRcdH0pO1xyXG5cdFx0XHRyZXR1cm4gdGhpcztcclxuXHRcdH1cclxuXHJcblx0XHR2YXIgb25SZXNwb25zZSA9IEwuYmluZCh0aGlzLl9oYW5kbGVHZW9sb2NhdGlvblJlc3BvbnNlLCB0aGlzKSxcclxuXHRcdCAgICBvbkVycm9yID0gTC5iaW5kKHRoaXMuX2hhbmRsZUdlb2xvY2F0aW9uRXJyb3IsIHRoaXMpO1xyXG5cclxuXHRcdGlmIChvcHRpb25zLndhdGNoKSB7XHJcblx0XHRcdHRoaXMuX2xvY2F0aW9uV2F0Y2hJZCA9XHJcblx0XHRcdCAgICAgICAgbmF2aWdhdG9yLmdlb2xvY2F0aW9uLndhdGNoUG9zaXRpb24ob25SZXNwb25zZSwgb25FcnJvciwgb3B0aW9ucyk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKG9uUmVzcG9uc2UsIG9uRXJyb3IsIG9wdGlvbnMpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBzdG9wTG9jYXRlKCk6IHRoaXNcclxuXHQvLyBTdG9wcyB3YXRjaGluZyBsb2NhdGlvbiBwcmV2aW91c2x5IGluaXRpYXRlZCBieSBgbWFwLmxvY2F0ZSh7d2F0Y2g6IHRydWV9KWBcclxuXHQvLyBhbmQgYWJvcnRzIHJlc2V0dGluZyB0aGUgbWFwIHZpZXcgaWYgbWFwLmxvY2F0ZSB3YXMgY2FsbGVkIHdpdGhcclxuXHQvLyBge3NldFZpZXc6IHRydWV9YC5cclxuXHRzdG9wTG9jYXRlOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRpZiAobmF2aWdhdG9yLmdlb2xvY2F0aW9uICYmIG5hdmlnYXRvci5nZW9sb2NhdGlvbi5jbGVhcldhdGNoKSB7XHJcblx0XHRcdG5hdmlnYXRvci5nZW9sb2NhdGlvbi5jbGVhcldhdGNoKHRoaXMuX2xvY2F0aW9uV2F0Y2hJZCk7XHJcblx0XHR9XHJcblx0XHRpZiAodGhpcy5fbG9jYXRlT3B0aW9ucykge1xyXG5cdFx0XHR0aGlzLl9sb2NhdGVPcHRpb25zLnNldFZpZXcgPSBmYWxzZTtcclxuXHRcdH1cclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH0sXHJcblxyXG5cdF9oYW5kbGVHZW9sb2NhdGlvbkVycm9yOiBmdW5jdGlvbiAoZXJyb3IpIHtcclxuXHRcdHZhciBjID0gZXJyb3IuY29kZSxcclxuXHRcdCAgICBtZXNzYWdlID0gZXJyb3IubWVzc2FnZSB8fFxyXG5cdFx0ICAgICAgICAgICAgKGMgPT09IDEgPyAncGVybWlzc2lvbiBkZW5pZWQnIDpcclxuXHRcdCAgICAgICAgICAgIChjID09PSAyID8gJ3Bvc2l0aW9uIHVuYXZhaWxhYmxlJyA6ICd0aW1lb3V0JykpO1xyXG5cclxuXHRcdGlmICh0aGlzLl9sb2NhdGVPcHRpb25zLnNldFZpZXcgJiYgIXRoaXMuX2xvYWRlZCkge1xyXG5cdFx0XHR0aGlzLmZpdFdvcmxkKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gQHNlY3Rpb24gTG9jYXRpb24gZXZlbnRzXHJcblx0XHQvLyBAZXZlbnQgbG9jYXRpb25lcnJvcjogRXJyb3JFdmVudFxyXG5cdFx0Ly8gRmlyZWQgd2hlbiBnZW9sb2NhdGlvbiAodXNpbmcgdGhlIFtgbG9jYXRlYF0oI21hcC1sb2NhdGUpIG1ldGhvZCkgZmFpbGVkLlxyXG5cdFx0dGhpcy5maXJlKCdsb2NhdGlvbmVycm9yJywge1xyXG5cdFx0XHRjb2RlOiBjLFxyXG5cdFx0XHRtZXNzYWdlOiAnR2VvbG9jYXRpb24gZXJyb3I6ICcgKyBtZXNzYWdlICsgJy4nXHJcblx0XHR9KTtcclxuXHR9LFxyXG5cclxuXHRfaGFuZGxlR2VvbG9jYXRpb25SZXNwb25zZTogZnVuY3Rpb24gKHBvcykge1xyXG5cdFx0dmFyIGxhdCA9IHBvcy5jb29yZHMubGF0aXR1ZGUsXHJcblx0XHQgICAgbG5nID0gcG9zLmNvb3Jkcy5sb25naXR1ZGUsXHJcblx0XHQgICAgbGF0bG5nID0gbmV3IEwuTGF0TG5nKGxhdCwgbG5nKSxcclxuXHRcdCAgICBib3VuZHMgPSBsYXRsbmcudG9Cb3VuZHMocG9zLmNvb3Jkcy5hY2N1cmFjeSksXHJcblx0XHQgICAgb3B0aW9ucyA9IHRoaXMuX2xvY2F0ZU9wdGlvbnM7XHJcblxyXG5cdFx0aWYgKG9wdGlvbnMuc2V0Vmlldykge1xyXG5cdFx0XHR2YXIgem9vbSA9IHRoaXMuZ2V0Qm91bmRzWm9vbShib3VuZHMpO1xyXG5cdFx0XHR0aGlzLnNldFZpZXcobGF0bG5nLCBvcHRpb25zLm1heFpvb20gPyBNYXRoLm1pbih6b29tLCBvcHRpb25zLm1heFpvb20pIDogem9vbSk7XHJcblx0XHR9XHJcblxyXG5cdFx0dmFyIGRhdGEgPSB7XHJcblx0XHRcdGxhdGxuZzogbGF0bG5nLFxyXG5cdFx0XHRib3VuZHM6IGJvdW5kcyxcclxuXHRcdFx0dGltZXN0YW1wOiBwb3MudGltZXN0YW1wXHJcblx0XHR9O1xyXG5cclxuXHRcdGZvciAodmFyIGkgaW4gcG9zLmNvb3Jkcykge1xyXG5cdFx0XHRpZiAodHlwZW9mIHBvcy5jb29yZHNbaV0gPT09ICdudW1iZXInKSB7XHJcblx0XHRcdFx0ZGF0YVtpXSA9IHBvcy5jb29yZHNbaV07XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQvLyBAZXZlbnQgbG9jYXRpb25mb3VuZDogTG9jYXRpb25FdmVudFxyXG5cdFx0Ly8gRmlyZWQgd2hlbiBnZW9sb2NhdGlvbiAodXNpbmcgdGhlIFtgbG9jYXRlYF0oI21hcC1sb2NhdGUpIG1ldGhvZClcclxuXHRcdC8vIHdlbnQgc3VjY2Vzc2Z1bGx5LlxyXG5cdFx0dGhpcy5maXJlKCdsb2NhdGlvbmZvdW5kJywgZGF0YSk7XHJcblx0fVxyXG59KTtcclxuIiwiLy8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG52YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG5cbi8vIGNhY2hlZCBmcm9tIHdoYXRldmVyIGdsb2JhbCBpcyBwcmVzZW50IHNvIHRoYXQgdGVzdCBydW5uZXJzIHRoYXQgc3R1YiBpdFxuLy8gZG9uJ3QgYnJlYWsgdGhpbmdzLiAgQnV0IHdlIG5lZWQgdG8gd3JhcCBpdCBpbiBhIHRyeSBjYXRjaCBpbiBjYXNlIGl0IGlzXG4vLyB3cmFwcGVkIGluIHN0cmljdCBtb2RlIGNvZGUgd2hpY2ggZG9lc24ndCBkZWZpbmUgYW55IGdsb2JhbHMuICBJdCdzIGluc2lkZSBhXG4vLyBmdW5jdGlvbiBiZWNhdXNlIHRyeS9jYXRjaGVzIGRlb3B0aW1pemUgaW4gY2VydGFpbiBlbmdpbmVzLlxuXG52YXIgY2FjaGVkU2V0VGltZW91dDtcbnZhciBjYWNoZWRDbGVhclRpbWVvdXQ7XG5cbmZ1bmN0aW9uIGRlZmF1bHRTZXRUaW1vdXQoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG5mdW5jdGlvbiBkZWZhdWx0Q2xlYXJUaW1lb3V0ICgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuKGZ1bmN0aW9uICgpIHtcbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIHNldFRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIGNsZWFyVGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICB9XG59ICgpKVxuZnVuY3Rpb24gcnVuVGltZW91dChmdW4pIHtcbiAgICBpZiAoY2FjaGVkU2V0VGltZW91dCA9PT0gc2V0VGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgLy8gaWYgc2V0VGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZFNldFRpbWVvdXQgPT09IGRlZmF1bHRTZXRUaW1vdXQgfHwgIWNhY2hlZFNldFRpbWVvdXQpICYmIHNldFRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9IGNhdGNoKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0IHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKG51bGwsIGZ1biwgMCk7XG4gICAgICAgIH0gY2F0Y2goZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvclxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbCh0aGlzLCBmdW4sIDApO1xuICAgICAgICB9XG4gICAgfVxuXG5cbn1cbmZ1bmN0aW9uIHJ1bkNsZWFyVGltZW91dChtYXJrZXIpIHtcbiAgICBpZiAoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgLy8gaWYgY2xlYXJUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBkZWZhdWx0Q2xlYXJUaW1lb3V0IHx8ICFjYWNoZWRDbGVhclRpbWVvdXQpICYmIGNsZWFyVGltZW91dCkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfSBjYXRjaCAoZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgIHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwobnVsbCwgbWFya2VyKTtcbiAgICAgICAgfSBjYXRjaCAoZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvci5cbiAgICAgICAgICAgIC8vIFNvbWUgdmVyc2lvbnMgb2YgSS5FLiBoYXZlIGRpZmZlcmVudCBydWxlcyBmb3IgY2xlYXJUaW1lb3V0IHZzIHNldFRpbWVvdXRcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbCh0aGlzLCBtYXJrZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG5cblxufVxudmFyIHF1ZXVlID0gW107XG52YXIgZHJhaW5pbmcgPSBmYWxzZTtcbnZhciBjdXJyZW50UXVldWU7XG52YXIgcXVldWVJbmRleCA9IC0xO1xuXG5mdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7XG4gICAgaWYgKCFkcmFpbmluZyB8fCAhY3VycmVudFF1ZXVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICB9XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBkcmFpblF1ZXVlKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcmFpblF1ZXVlKCkge1xuICAgIGlmIChkcmFpbmluZykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciB0aW1lb3V0ID0gcnVuVGltZW91dChjbGVhblVwTmV4dFRpY2spO1xuICAgIGRyYWluaW5nID0gdHJ1ZTtcblxuICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgd2hpbGUobGVuKSB7XG4gICAgICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuICAgICAgICBxdWV1ZSA9IFtdO1xuICAgICAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudFF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICAgICAgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIH1cbiAgICBjdXJyZW50UXVldWUgPSBudWxsO1xuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgcnVuQ2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xufVxuXG5wcm9jZXNzLm5leHRUaWNrID0gZnVuY3Rpb24gKGZ1bikge1xuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcbiAgICAgICAgcnVuVGltZW91dChkcmFpblF1ZXVlKTtcbiAgICB9XG59O1xuXG4vLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5mdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHtcbiAgICB0aGlzLmZ1biA9IGZ1bjtcbiAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG59XG5JdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG59O1xucHJvY2Vzcy50aXRsZSA9ICdicm93c2VyJztcbnByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5wcm9jZXNzLmVudiA9IHt9O1xucHJvY2Vzcy5hcmd2ID0gW107XG5wcm9jZXNzLnZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXNcbnByb2Nlc3MudmVyc2lvbnMgPSB7fTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnByb2Nlc3Mub24gPSBub29wO1xucHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLm9uY2UgPSBub29wO1xucHJvY2Vzcy5vZmYgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XG5wcm9jZXNzLmVtaXQgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kT25jZUxpc3RlbmVyID0gbm9vcDtcblxucHJvY2Vzcy5saXN0ZW5lcnMgPSBmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gW10gfVxuXG5wcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5cbnByb2Nlc3MuY3dkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJy8nIH07XG5wcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xucHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcbiIsIihmdW5jdGlvbih3aW5kb3csIHVuZGVmaW5lZCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGlmICghd2luZG93KSByZXR1cm47IC8vIFNlcnZlciBzaWRlXG5cbnZhclxuICAgIF9iYXJvbiA9IHdpbmRvdy5iYXJvbiwgLy8gU3RvcmVkIGJhcm9uIHZhbHVlIGZvciBub0NvbmZsaWN0IHVzYWdlXG4gICAgJCA9IHdpbmRvdy5qUXVlcnksIC8vIFRyeWluZyB0byB1c2UgalF1ZXJ5XG4gICAgb3JpZ2luID0ge1xuICAgICAgICB2OiB7IC8vIFZlcnRpY2FsXG4gICAgICAgICAgICB4OiAnWScsIHBvczogJ3RvcCcsIGNyb3NzUG9zOiAnbGVmdCcsIHNpemU6ICdoZWlnaHQnLCBjcm9zc1NpemU6ICd3aWR0aCcsXG4gICAgICAgICAgICBjbGllbnQ6ICdjbGllbnRIZWlnaHQnLCBjcm9zc0NsaWVudDogJ2NsaWVudFdpZHRoJywgb2Zmc2V0OiAnb2Zmc2V0SGVpZ2h0JywgY3Jvc3NPZmZzZXQ6ICdvZmZzZXRXaWR0aCcsIG9mZnNldFBvczogJ29mZnNldFRvcCcsXG4gICAgICAgICAgICBzY3JvbGw6ICdzY3JvbGxUb3AnLCBzY3JvbGxTaXplOiAnc2Nyb2xsSGVpZ2h0J1xuICAgICAgICB9LFxuICAgICAgICBoOiB7IC8vIEhvcml6b250YWxcbiAgICAgICAgICAgIHg6ICdYJywgcG9zOiAnbGVmdCcsIGNyb3NzUG9zOiAndG9wJywgc2l6ZTogJ3dpZHRoJywgY3Jvc3NTaXplOiAnaGVpZ2h0JyxcbiAgICAgICAgICAgIGNsaWVudDogJ2NsaWVudFdpZHRoJywgY3Jvc3NDbGllbnQ6ICdjbGllbnRIZWlnaHQnLCBvZmZzZXQ6ICdvZmZzZXRXaWR0aCcsIGNyb3NzT2Zmc2V0OiAnb2Zmc2V0SGVpZ2h0Jywgb2Zmc2V0UG9zOiAnb2Zmc2V0TGVmdCcsXG4gICAgICAgICAgICBzY3JvbGw6ICdzY3JvbGxMZWZ0Jywgc2Nyb2xsU2l6ZTogJ3Njcm9sbFdpZHRoJ1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIGVhY2ggPSBmdW5jdGlvbihvYmosIGl0ZXJhdG9yKSB7XG4gICAgICAgIHZhciBpID0gMDtcblxuICAgICAgICBpZiAob2JqLmxlbmd0aCA9PT0gdW5kZWZpbmVkIHx8IG9iaiA9PT0gd2luZG93KSBvYmogPSBbb2JqXTtcblxuICAgICAgICB3aGlsZSAob2JqW2ldKSB7XG4gICAgICAgICAgICBpdGVyYXRvci5jYWxsKHRoaXMsIG9ialtpXSwgaSk7XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgYmFyb24gPSBmdW5jdGlvbihwYXJhbXMpIHsgLy8gdGhpcyAtIHdpbmRvdyBvciBqUXVlcnkgaW5zdGFuY2VcbiAgICAgICAgdmFyIGpRdWVyeU1vZGUgPSBmYWxzZSwvLyh0aGlzICYmIHRoaXNbMF0gJiYgdGhpc1swXS5ub2RlVHlwZSksXG4gICAgICAgICAgICByb290cyxcbiAgICAgICAgICAgICQ7XG5cbiAgICAgICAgcGFyYW1zID0gcGFyYW1zIHx8IHt9O1xuICAgICAgICAkID0gcGFyYW1zLiQgfHwgd2luZG93LmpRdWVyeTtcblxuICAgICAgICBpZiAoalF1ZXJ5TW9kZSkge1xuICAgICAgICAgICAgcGFyYW1zLnJvb3QgPSByb290cyA9IHRoaXM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByb290cyA9ICQocGFyYW1zLnJvb3QgfHwgcGFyYW1zLnNjcm9sbGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgYmFyb24uZm4uY29uc3RydWN0b3Iocm9vdHMsIHBhcmFtcywgJCk7XG4gICAgfTtcblxuICAgIGJhcm9uLmZuID0ge1xuICAgICAgICBjb25zdHJ1Y3RvcjogZnVuY3Rpb24ocm9vdHMsIGlucHV0LCAkKSB7XG4gICAgICAgICAgICB2YXIgcGFyYW1zID0gdmFsaWRhdGUoaW5wdXQpO1xuXG4gICAgICAgICAgICBwYXJhbXMuJCA9ICQ7XG4gICAgICAgICAgICBlYWNoLmNhbGwodGhpcywgcm9vdHMsIGZ1bmN0aW9uKHJvb3QsIGkpIHtcbiAgICAgICAgICAgICAgICB2YXIgbG9jYWxQYXJhbXMgPSBjbG9uZShwYXJhbXMpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHBhcmFtcy5yb290ICYmIHBhcmFtcy5zY3JvbGxlcikge1xuICAgICAgICAgICAgICAgICAgICBsb2NhbFBhcmFtcy5zY3JvbGxlciA9IHBhcmFtcy4kKHBhcmFtcy5zY3JvbGxlciwgcm9vdCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghbG9jYWxQYXJhbXMuc2Nyb2xsZXIubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFBhcmFtcy5zY3JvbGxlciA9IHJvb3Q7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsb2NhbFBhcmFtcy5zY3JvbGxlciA9IHJvb3Q7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbG9jYWxQYXJhbXMucm9vdCA9IHJvb3Q7XG4gICAgICAgICAgICAgICAgdGhpc1tpXSA9IGluaXQobG9jYWxQYXJhbXMpO1xuICAgICAgICAgICAgICAgIHRoaXMubGVuZ3RoID0gaSArIDE7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy5wYXJhbXMgPSBwYXJhbXM7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZGlzcG9zZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgcGFyYW1zID0gdGhpcy5wYXJhbXM7XG5cbiAgICAgICAgICAgIGVhY2godGhpcywgZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgICAgICAgIGl0ZW0uZGlzcG9zZShwYXJhbXMpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLnBhcmFtcyA9IG51bGw7XG4gICAgICAgIH0sXG5cbiAgICAgICAgdXBkYXRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBpID0gMDtcblxuICAgICAgICAgICAgd2hpbGUgKHRoaXNbaV0pIHtcbiAgICAgICAgICAgICAgICB0aGlzW2ldLnVwZGF0ZS5hcHBseSh0aGlzW2ldLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBiYXJvbjogZnVuY3Rpb24ocGFyYW1zKSB7XG4gICAgICAgICAgICBwYXJhbXMucm9vdCA9IFtdO1xuICAgICAgICAgICAgcGFyYW1zLnNjcm9sbGVyID0gdGhpcy5wYXJhbXMuc2Nyb2xsZXI7XG5cbiAgICAgICAgICAgIGVhY2guY2FsbCh0aGlzLCB0aGlzLCBmdW5jdGlvbihlbGVtKSB7XG4gICAgICAgICAgICAgICAgcGFyYW1zLnJvb3QucHVzaChlbGVtLnJvb3QpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBwYXJhbXMuZGlyZWN0aW9uID0gKHRoaXMucGFyYW1zLmRpcmVjdGlvbiA9PSAndicpID8gJ2gnIDogJ3YnO1xuICAgICAgICAgICAgcGFyYW1zLl9jaGFpbiA9IHRydWU7XG5cbiAgICAgICAgICAgIHJldHVybiBiYXJvbihwYXJhbXMpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIG1hbmFnZUV2ZW50cyhpdGVtLCBldmVudE1hbmFnZXIsIG1vZGUpIHtcbiAgICAgICAgaXRlbS5fZXZlbnRIYW5kbGVycyA9IGl0ZW0uX2V2ZW50SGFuZGxlcnMgfHwgWyAvLyBDcmVhdGluZyBuZXcgZnVuY3Rpb25zIGZvciBvbmUgYmFyb24gaXRlbSBvbmx5IG9uZSB0aW1lXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gb25TY3JvbGw6XG4gICAgICAgICAgICAgICAgZWxlbWVudDogaXRlbS5zY3JvbGxlcixcblxuICAgICAgICAgICAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5zY3JvbGwoZSk7XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIHR5cGU6ICdzY3JvbGwnXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgLy8gb25Nb3VzZURvd246XG4gICAgICAgICAgICAgICAgZWxlbWVudDogaXRlbS5iYXIsXG5cbiAgICAgICAgICAgICAgICBoYW5kbGVyOiBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQgPyBlLnByZXZlbnREZWZhdWx0KCkgOiBlLnJldHVyblZhbHVlID0gZmFsc2U7IC8vIFRleHQgc2VsZWN0aW9uIGRpc2FibGluZyBpbiBPcGVyYS4uLiBhbmQgYWxsIG90aGVyIGJyb3dzZXJzP1xuICAgICAgICAgICAgICAgICAgICBpdGVtLnNlbGVjdGlvbigpOyAvLyBEaXNhYmxlIHRleHQgc2VsZWN0aW9uIGluIGllOFxuICAgICAgICAgICAgICAgICAgICBpdGVtLmRyYWcubm93ID0gMTsgLy8gU2F2ZSBwcml2YXRlIGJ5dGVcbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgdHlwZTogJ3RvdWNoc3RhcnQgbW91c2Vkb3duJ1xuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIC8vIG9uTW91c2VVcDpcbiAgICAgICAgICAgICAgICBlbGVtZW50OiBkb2N1bWVudCxcblxuICAgICAgICAgICAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBpdGVtLnNlbGVjdGlvbigxKTsgLy8gRW5hYmxlIHRleHQgc2VsZWN0aW9uXG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uZHJhZy5ub3cgPSAwO1xuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICB0eXBlOiAnbW91c2V1cCBibHVyIHRvdWNoZW5kJ1xuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIC8vIG9uQ29vcmRpbmF0ZVJlc2V0OlxuICAgICAgICAgICAgICAgIGVsZW1lbnQ6IGl0ZW0uYmFyLFxuXG4gICAgICAgICAgICAgICAgaGFuZGxlcjogZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZS5idXR0b24gIT0gMikgeyAvLyBOb3QgUk1cbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uX3BvczAoZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgdHlwZTogJ3RvdWNoc3RhcnQgbW91c2Vkb3duJ1xuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIC8vIG9uTW91c2VNb3ZlOlxuICAgICAgICAgICAgICAgIGVsZW1lbnQ6IGRvY3VtZW50LFxuXG4gICAgICAgICAgICAgICAgaGFuZGxlcjogZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5kcmFnLm5vdykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5kcmFnKGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIHR5cGU6ICdtb3VzZW1vdmUgdG91Y2htb3ZlJ1xuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIC8vIG9uUmVzaXplOlxuICAgICAgICAgICAgICAgIGVsZW1lbnQ6IHdpbmRvdyxcblxuICAgICAgICAgICAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBpdGVtLnVwZGF0ZSgpO1xuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICB0eXBlOiAncmVzaXplJ1xuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIC8vIHNpemVDaGFuZ2U6XG4gICAgICAgICAgICAgICAgZWxlbWVudDogaXRlbS5yb290LFxuXG4gICAgICAgICAgICAgICAgaGFuZGxlcjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW0udXBkYXRlKCk7XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIHR5cGU6ICdzaXplQ2hhbmdlJ1xuICAgICAgICAgICAgfVxuICAgICAgICBdO1xuXG4gICAgICAgIGVhY2goaXRlbS5fZXZlbnRIYW5kbGVycywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIGlmIChldmVudC5lbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgZXZlbnRNYW5hZ2VyKGV2ZW50LmVsZW1lbnQsIGV2ZW50LnR5cGUsIGV2ZW50LmhhbmRsZXIsIG1vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBpZiAoaXRlbS5zY3JvbGxlcikge1xuICAgICAgICAvLyAgICAgZXZlbnQoaXRlbS5zY3JvbGxlciwgJ3Njcm9sbCcsIGl0ZW0uX2V2ZW50SGFuZGxlcnMub25TY3JvbGwsIG1vZGUpO1xuICAgICAgICAvLyB9XG4gICAgICAgIC8vIGlmIChpdGVtLmJhcikge1xuICAgICAgICAvLyAgICAgZXZlbnQoaXRlbS5iYXIsICd0b3VjaHN0YXJ0IG1vdXNlZG93bicsIGl0ZW0uX2V2ZW50SGFuZGxlcnMub25Nb3VzZURvd24sIG1vZGUpO1xuICAgICAgICAvLyB9XG4gICAgICAgIC8vIGV2ZW50KGRvY3VtZW50LCAnbW91c2V1cCBibHVyIHRvdWNoZW5kJywgaXRlbS5fZXZlbnRIYW5kbGVycy5vbk1vdXNlVXAsIG1vZGUpO1xuICAgICAgICAvLyBldmVudChkb2N1bWVudCwgJ3RvdWNoc3RhcnQgbW91c2Vkb3duJywgaXRlbS5fZXZlbnRIYW5kbGVycy5vbkNvb3JkaW5hdGVSZXNldCwgbW9kZSk7XG4gICAgICAgIC8vIGV2ZW50KGRvY3VtZW50LCAnbW91c2Vtb3ZlIHRvdWNobW92ZScsIGl0ZW0uX2V2ZW50SGFuZGxlcnMub25Nb3VzZU1vdmUsIG1vZGUpO1xuICAgICAgICAvLyBldmVudCh3aW5kb3csICdyZXNpemUnLCBpdGVtLl9ldmVudEhhbmRsZXJzLm9uUmVzaXplLCBtb2RlKTtcbiAgICAgICAgLy8gaWYgKGl0ZW0ucm9vdCkge1xuICAgICAgICAvLyAgICAgZXZlbnQoaXRlbS5yb290LCAnc2l6ZUNoYW5nZScsIGl0ZW0uX2V2ZW50SGFuZGxlcnMub25SZXNpemUsIG1vZGUpOyAvLyBDdXN0b24gZXZlbnQgZm9yIGFsdGVybmF0ZSBiYXJvbiB1cGRhdGUgbWVjaGFuaXNtXG4gICAgICAgIC8vIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtYW5hZ2VBdHRyKG5vZGUsIGRpcmVjdGlvbiwgbW9kZSkge1xuICAgICAgICB2YXIgYXR0ck5hbWUgPSAnZGF0YS1iYXJvbi0nICsgZGlyZWN0aW9uO1xuXG4gICAgICAgIGlmIChtb2RlID09ICdvbicpIHtcbiAgICAgICAgICAgIG5vZGUuc2V0QXR0cmlidXRlKGF0dHJOYW1lLCAnaW5pdGVkJyk7XG4gICAgICAgIH0gZWxzZSBpZiAobW9kZSA9PSAnb2ZmJykge1xuICAgICAgICAgICAgbm9kZS5yZW1vdmVBdHRyaWJ1dGUoYXR0ck5hbWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG5vZGUuZ2V0QXR0cmlidXRlKGF0dHJOYW1lKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluaXQocGFyYW1zKSB7XG4gICAgICAgIGlmIChtYW5hZ2VBdHRyKHBhcmFtcy5yb290LCBwYXJhbXMuZGlyZWN0aW9uKSkgcmV0dXJuO1xuXG4gICAgICAgIHZhciBvdXQgPSBuZXcgaXRlbS5wcm90b3R5cGUuY29uc3RydWN0b3IocGFyYW1zKTsgLy8gX19wcm90b19fIG9mIHJldHVybmluZyBvYmplY3QgaXMgYmFyb24ucHJvdG90eXBlXG5cbiAgICAgICAgbWFuYWdlRXZlbnRzKG91dCwgcGFyYW1zLmV2ZW50LCAnb24nKTtcblxuICAgICAgICBtYW5hZ2VBdHRyKG91dC5yb290LCBwYXJhbXMuZGlyZWN0aW9uLCAnb24nKTtcblxuICAgICAgICBvdXQudXBkYXRlKCk7XG5cbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjbG9uZShpbnB1dCkge1xuICAgICAgICB2YXIgb3V0cHV0ID0ge307XG5cbiAgICAgICAgaW5wdXQgPSBpbnB1dCB8fCB7fTtcblxuICAgICAgICBmb3IgKHZhciBrZXkgaW4gaW5wdXQpIHtcbiAgICAgICAgICAgIGlmIChpbnB1dC5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICAgICAgb3V0cHV0W2tleV0gPSBpbnB1dFtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB2YWxpZGF0ZShpbnB1dCkge1xuICAgICAgICB2YXIgb3V0cHV0ID0gY2xvbmUoaW5wdXQpO1xuXG4gICAgICAgIG91dHB1dC5kaXJlY3Rpb24gPSBvdXRwdXQuZGlyZWN0aW9uIHx8ICd2JztcblxuICAgICAgICB2YXIgZXZlbnQgPSBpbnB1dC5ldmVudCB8fCBmdW5jdGlvbihlbGVtLCBldmVudCwgZnVuYywgbW9kZSkge1xuICAgICAgICAgICAgb3V0cHV0LiQoZWxlbSlbbW9kZSB8fCAnb24nXShldmVudCwgZnVuYyk7XG4gICAgICAgIH07XG5cbiAgICAgICAgb3V0cHV0LmV2ZW50ID0gZnVuY3Rpb24oZWxlbXMsIGUsIGZ1bmMsIG1vZGUpIHtcbiAgICAgICAgICAgIGVhY2goZWxlbXMsIGZ1bmN0aW9uKGVsZW0pIHtcbiAgICAgICAgICAgICAgICBldmVudChlbGVtLCBlLCBmdW5jLCBtb2RlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZmlyZShldmVudE5hbWUpIHtcbiAgICAgICAgLyoganNoaW50IHZhbGlkdGhpczp0cnVlICovXG4gICAgICAgIGlmICh0aGlzLmV2ZW50cyAmJiB0aGlzLmV2ZW50c1tldmVudE5hbWVdKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCA7IGkgPCB0aGlzLmV2ZW50c1tldmVudE5hbWVdLmxlbmd0aCA7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoIGFyZ3VtZW50cywgMSApO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudHNbZXZlbnROYW1lXVtpXS5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhciBpdGVtID0ge307XG5cbiAgICBpdGVtLnByb3RvdHlwZSA9IHtcbiAgICAgICAgY29uc3RydWN0b3I6IGZ1bmN0aW9uKHBhcmFtcykge1xuICAgICAgICAgICAgdmFyICQsXG4gICAgICAgICAgICAgICAgYmFyUG9zLFxuICAgICAgICAgICAgICAgIHNjcm9sbGVyUG9zMCxcbiAgICAgICAgICAgICAgICB0cmFjayxcbiAgICAgICAgICAgICAgICByZXNpemVQYXVzZVRpbWVyLFxuICAgICAgICAgICAgICAgIHNjcm9sbFBhdXNlVGltZXIsXG4gICAgICAgICAgICAgICAgcGF1c2UsXG4gICAgICAgICAgICAgICAgc2Nyb2xsTGFzdEZpcmUsXG4gICAgICAgICAgICAgICAgcmVzaXplTGFzdEZpcmU7XG5cbiAgICAgICAgICAgIHJlc2l6ZUxhc3RGaXJlID0gc2Nyb2xsTGFzdEZpcmUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcblxuICAgICAgICAgICAgJCA9IHRoaXMuJCA9IHBhcmFtcy4kO1xuICAgICAgICAgICAgdGhpcy5ldmVudCA9IHBhcmFtcy5ldmVudDtcbiAgICAgICAgICAgIHRoaXMuZXZlbnRzID0ge307XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGdldE5vZGUoc2VsLCBjb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICQoc2VsLCBjb250ZXh0KVswXTsgLy8gQ2FuIGJlIHVuZGVmaW5lZFxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBET00gZWxlbWVudHNcbiAgICAgICAgICAgIHRoaXMucm9vdCA9IHBhcmFtcy5yb290OyAvLyBBbHdheXMgaHRtbCBub2RlLCBub3QganVzdCBzZWxlY3RvclxuICAgICAgICAgICAgdGhpcy5zY3JvbGxlciA9IGdldE5vZGUocGFyYW1zLnNjcm9sbGVyKTsgLy8gKHBhcmFtcy5zY3JvbGxlcikgPyBnZXROb2RlKHBhcmFtcy5zY3JvbGxlciwgdGhpcy5yb290KSA6IHRoaXMucm9vdDtcbiAgICAgICAgICAgIHRoaXMuYmFyID0gZ2V0Tm9kZShwYXJhbXMuYmFyLCB0aGlzLnJvb3QpO1xuICAgICAgICAgICAgdHJhY2sgPSB0aGlzLnRyYWNrID0gZ2V0Tm9kZShwYXJhbXMudHJhY2ssIHRoaXMucm9vdCk7XG4gICAgICAgICAgICBpZiAoIXRoaXMudHJhY2sgJiYgdGhpcy5iYXIpIHtcbiAgICAgICAgICAgICAgICB0cmFjayA9IHRoaXMuYmFyLnBhcmVudE5vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmNsaXBwZXIgPSB0aGlzLnNjcm9sbGVyLnBhcmVudE5vZGU7XG5cbiAgICAgICAgICAgIC8vIFBhcmFtZXRlcnNcbiAgICAgICAgICAgIHRoaXMuZGlyZWN0aW9uID0gcGFyYW1zLmRpcmVjdGlvbjtcbiAgICAgICAgICAgIHRoaXMub3JpZ2luID0gb3JpZ2luW3RoaXMuZGlyZWN0aW9uXTtcbiAgICAgICAgICAgIHRoaXMuYmFyT25DbHMgPSBwYXJhbXMuYmFyT25DbHM7XG4gICAgICAgICAgICB0aGlzLmJhclRvcExpbWl0ID0gMDtcbiAgICAgICAgICAgIHBhdXNlID0gcGFyYW1zLnBhdXNlICogMTAwMCB8fCAwO1xuXG4gICAgICAgICAgICAvLyBVcGRhdGluZyBoZWlnaHQgb3Igd2lkdGggb2YgYmFyXG4gICAgICAgICAgICBmdW5jdGlvbiBzZXRCYXJTaXplKHNpemUpIHtcbiAgICAgICAgICAgICAgICAvKiBqc2hpbnQgdmFsaWR0aGlzOnRydWUgKi9cbiAgICAgICAgICAgICAgICB2YXIgYmFyTWluU2l6ZSA9IHRoaXMuYmFyTWluU2l6ZSB8fCAyMDtcblxuICAgICAgICAgICAgICAgIGlmIChzaXplID4gMCAmJiBzaXplIDwgYmFyTWluU2l6ZSkge1xuICAgICAgICAgICAgICAgICAgICBzaXplID0gYmFyTWluU2l6ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5iYXIpIHtcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzLmJhcikuY3NzKHRoaXMub3JpZ2luLnNpemUsIHBhcnNlSW50KHNpemUsIDEwKSArICdweCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gVXBkYXRpbmcgdG9wIG9yIGxlZnQgYmFyIHBvc2l0aW9uXG4gICAgICAgICAgICBmdW5jdGlvbiBwb3NCYXIocG9zKSB7XG4gICAgICAgICAgICAgICAgLyoganNoaW50IHZhbGlkdGhpczp0cnVlICovXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYmFyKSB7XG4gICAgICAgICAgICAgICAgICAgICQodGhpcy5iYXIpLmNzcyh0aGlzLm9yaWdpbi5wb3MsICtwb3MgKyAncHgnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEZyZWUgcGF0aCBmb3IgYmFyXG4gICAgICAgICAgICBmdW5jdGlvbiBrKCkge1xuICAgICAgICAgICAgICAgIC8qIGpzaGludCB2YWxpZHRoaXM6dHJ1ZSAqL1xuICAgICAgICAgICAgICAgIHJldHVybiB0cmFja1t0aGlzLm9yaWdpbi5jbGllbnRdIC0gdGhpcy5iYXJUb3BMaW1pdCAtIHRoaXMuYmFyW3RoaXMub3JpZ2luLm9mZnNldF07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFJlbGF0aXZlIGNvbnRlbnQgdG9wIHBvc2l0aW9uIHRvIGJhciB0b3AgcG9zaXRpb25cbiAgICAgICAgICAgIGZ1bmN0aW9uIHJlbFRvUG9zKHIpIHtcbiAgICAgICAgICAgICAgICAvKiBqc2hpbnQgdmFsaWR0aGlzOnRydWUgKi9cbiAgICAgICAgICAgICAgICByZXR1cm4gciAqIGsuY2FsbCh0aGlzKSArIHRoaXMuYmFyVG9wTGltaXQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEJhciBwb3NpdGlvbiB0byByZWxhdGl2ZSBjb250ZW50IHBvc2l0aW9uXG4gICAgICAgICAgICBmdW5jdGlvbiBwb3NUb1JlbCh0KSB7XG4gICAgICAgICAgICAgICAgLyoganNoaW50IHZhbGlkdGhpczp0cnVlICovXG4gICAgICAgICAgICAgICAgcmV0dXJuICh0IC0gdGhpcy5iYXJUb3BMaW1pdCkgLyBrLmNhbGwodGhpcyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEN1cnNvciBwb3NpdGlvbiBpbiBtYWluIGRpcmVjdGlvbiBpbiBweCAvLyBOb3cgd2l0aCBpT3Mgc3VwcG9ydFxuICAgICAgICAgICAgdGhpcy5jdXJzb3IgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVbJ2NsaWVudCcgKyB0aGlzLm9yaWdpbi54XSB8fCAoKChlLm9yaWdpbmFsRXZlbnQgfHwgZSkudG91Y2hlcyB8fCB7fSlbMF0gfHwge30pWydwYWdlJyArIHRoaXMub3JpZ2luLnhdO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLy8gVGV4dCBzZWxlY3Rpb24gcG9zIHByZXZlbnRpbmdcbiAgICAgICAgICAgIGZ1bmN0aW9uIGRvbnRQb3NTZWxlY3QoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnBvcyA9IGZ1bmN0aW9uKHgpIHsgLy8gQWJzb2x1dGUgc2Nyb2xsZXIgcG9zaXRpb24gaW4gcHhcbiAgICAgICAgICAgICAgICB2YXIgaWUgPSAncGFnZScgKyB0aGlzLm9yaWdpbi54ICsgJ09mZnNldCcsXG4gICAgICAgICAgICAgICAgICAgIGtleSA9ICh0aGlzLnNjcm9sbGVyW2llXSkgPyBpZSA6IHRoaXMub3JpZ2luLnNjcm9sbDtcblxuICAgICAgICAgICAgICAgIGlmICh4ICE9PSB1bmRlZmluZWQpIHRoaXMuc2Nyb2xsZXJba2V5XSA9IHg7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zY3JvbGxlcltrZXldO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdGhpcy5ycG9zID0gZnVuY3Rpb24ocikgeyAvLyBSZWxhdGl2ZSBzY3JvbGxlciBwb3NpdGlvbiAoMC4uMSlcbiAgICAgICAgICAgICAgICB2YXIgZnJlZSA9IHRoaXMuc2Nyb2xsZXJbdGhpcy5vcmlnaW4uc2Nyb2xsU2l6ZV0gLSB0aGlzLnNjcm9sbGVyW3RoaXMub3JpZ2luLmNsaWVudF0sXG4gICAgICAgICAgICAgICAgICAgIHg7XG5cbiAgICAgICAgICAgICAgICBpZiAocikgeCA9IHRoaXMucG9zKHIgKiBmcmVlKTtcbiAgICAgICAgICAgICAgICBlbHNlIHggPSB0aGlzLnBvcygpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHggLyAoZnJlZSB8fCAxKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIFN3aXRjaCBvbiB0aGUgYmFyIGJ5IGFkZGluZyB1c2VyLWRlZmluZWQgQ1NTIGNsYXNzbmFtZSB0byBzY3JvbGxlclxuICAgICAgICAgICAgdGhpcy5iYXJPbiA9IGZ1bmN0aW9uKGRpc3Bvc2UpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5iYXJPbkNscykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGlzcG9zZSB8fCB0aGlzLnNjcm9sbGVyW3RoaXMub3JpZ2luLmNsaWVudF0gPj0gdGhpcy5zY3JvbGxlclt0aGlzLm9yaWdpbi5zY3JvbGxTaXplXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzLnJvb3QpLnJlbW92ZUNsYXNzKHRoaXMuYmFyT25DbHMpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzLnJvb3QpLmFkZENsYXNzKHRoaXMuYmFyT25DbHMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdGhpcy5fcG9zMCA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICBzY3JvbGxlclBvczAgPSB0aGlzLmN1cnNvcihlKSAtIGJhclBvcztcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHRoaXMuZHJhZyA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNjcm9sbGVyW3RoaXMub3JpZ2luLnNjcm9sbF0gPSBwb3NUb1JlbC5jYWxsKHRoaXMsIHRoaXMuY3Vyc29yKGUpIC0gc2Nyb2xsZXJQb3MwKSAqICh0aGlzLnNjcm9sbGVyW3RoaXMub3JpZ2luLnNjcm9sbFNpemVdIC0gdGhpcy5zY3JvbGxlclt0aGlzLm9yaWdpbi5jbGllbnRdKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIFRleHQgc2VsZWN0aW9uIHByZXZlbnRpbmcgb24gZHJhZ1xuICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb24gPSBmdW5jdGlvbihlbmFibGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50KGRvY3VtZW50LCAnc2VsZWN0cG9zIHNlbGVjdHN0YXJ0JywgZG9udFBvc1NlbGVjdCwgZW5hYmxlID8gJ29mZicgOiAnb24nKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIG9uUmVzaXplICYgRE9NIG1vZGlmaWVkIGhhbmRsZXJcbiAgICAgICAgICAgIHRoaXMucmVzaXplID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICAgICAgICAgICAgICBkZWxheSA9IDA7XG5cbiAgICAgICAgICAgICAgICBpZiAobmV3IERhdGUoKS5nZXRUaW1lKCkgLSByZXNpemVMYXN0RmlyZSA8IHBhdXNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChyZXNpemVQYXVzZVRpbWVyKTtcbiAgICAgICAgICAgICAgICAgICAgZGVsYXkgPSBwYXVzZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiB1cGQoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkZWx0YSA9IHNlbGYuc2Nyb2xsZXJbc2VsZi5vcmlnaW4uY3Jvc3NPZmZzZXRdIC0gc2VsZi5zY3JvbGxlcltzZWxmLm9yaWdpbi5jcm9zc0NsaWVudF07XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmFtcy5mcmVlemUgJiYgIXNlbGYuY2xpcHBlci5zdHlsZVtzZWxmLm9yaWdpbi5jcm9zc1NpemVdKSB7IC8vIFNvdWxkIGZpcmUgb25seSBvbmNlXG4gICAgICAgICAgICAgICAgICAgICAgICAkKHNlbGYuY2xpcHBlcikuY3NzKHNlbGYub3JpZ2luLmNyb3NzU2l6ZSwgc2VsZi5jbGlwcGVyW3NlbGYub3JpZ2luLmNyb3NzQ2xpZW50XSAtIGRlbHRhICsgJ3B4Jyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgJChzZWxmLnNjcm9sbGVyKS5jc3Moc2VsZi5vcmlnaW4uY3Jvc3NTaXplLCBzZWxmLmNsaXBwZXJbc2VsZi5vcmlnaW4uY3Jvc3NDbGllbnRdICsgZGVsdGEgKyAncHgnKTtcblxuICAgICAgICAgICAgICAgICAgICBBcnJheS5wcm90b3R5cGUudW5zaGlmdC5jYWxsKGFyZ3VtZW50cywgJ3Jlc2l6ZScpO1xuICAgICAgICAgICAgICAgICAgICBmaXJlLmFwcGx5KHNlbGYsIGFyZ3VtZW50cyk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmVzaXplTGFzdEZpcmUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoZGVsYXkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzaXplUGF1c2VUaW1lciA9IHNldFRpbWVvdXQodXBkLCBkZWxheSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdXBkKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLy8gb25TY3JvbGwgaGFuZGxlclxuICAgICAgICAgICAgdGhpcy5zY3JvbGwgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB2YXIgb2xkQmFyU2l6ZSwgbmV3QmFyU2l6ZSxcbiAgICAgICAgICAgICAgICAgICAgZGVsYXkgPSAwLFxuICAgICAgICAgICAgICAgICAgICBzZWxmID0gdGhpcztcblxuICAgICAgICAgICAgICAgIGlmIChuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIHNjcm9sbExhc3RGaXJlIDwgcGF1c2UpIHtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHNjcm9sbFBhdXNlVGltZXIpO1xuICAgICAgICAgICAgICAgICAgICBkZWxheSA9IHBhdXNlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHVwZCgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGYuYmFyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdCYXJTaXplID0gKHRyYWNrW3NlbGYub3JpZ2luLmNsaWVudF0gLSBzZWxmLmJhclRvcExpbWl0KSAqIHNlbGYuc2Nyb2xsZXJbc2VsZi5vcmlnaW4uY2xpZW50XSAvIHNlbGYuc2Nyb2xsZXJbc2VsZi5vcmlnaW4uc2Nyb2xsU2l6ZV07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFBvc2l0aW9uaW5nIGJhclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9sZEJhclNpemUgIT0gbmV3QmFyU2l6ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEJhclNpemUuY2FsbChzZWxmLCBuZXdCYXJTaXplKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbGRCYXJTaXplID0gbmV3QmFyU2l6ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgYmFyUG9zID0gcmVsVG9Qb3MuY2FsbChzZWxmLCBzZWxmLnJwb3MoKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc0Jhci5jYWxsKHNlbGYsIGJhclBvcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBBcnJheS5wcm90b3R5cGUudW5zaGlmdC5jYWxsKCBhcmd1bWVudHMsICdzY3JvbGwnICk7XG4gICAgICAgICAgICAgICAgICAgIGZpcmUuYXBwbHkoc2VsZiwgYXJndW1lbnRzKTtcblxuICAgICAgICAgICAgICAgICAgICBzY3JvbGxMYXN0RmlyZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChkZWxheSkge1xuICAgICAgICAgICAgICAgICAgICBzY3JvbGxQYXVzZVRpbWVyID0gc2V0VGltZW91dCh1cGQsIGRlbGF5KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB1cGQoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuXG4gICAgICAgIHVwZGF0ZTogZnVuY3Rpb24ocGFyYW1zKSB7XG4gICAgICAgICAgICBmaXJlLmNhbGwodGhpcywgJ3VwZCcsIHBhcmFtcyk7IC8vINCe0LHQvdC+0LLQu9GP0LXQvCDQv9Cw0YDQsNC80LXRgtGA0Ysg0LLRgdC10YUg0L/Qu9Cw0LPQuNC90L7QslxuXG4gICAgICAgICAgICB0aGlzLnJlc2l6ZSgxKTtcbiAgICAgICAgICAgIHRoaXMuYmFyT24oKTtcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsKCk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuXG4gICAgICAgIGRpc3Bvc2U6IGZ1bmN0aW9uKHBhcmFtcykge1xuICAgICAgICAgICAgbWFuYWdlRXZlbnRzKHRoaXMsIHRoaXMuZXZlbnQsICdvZmYnKTtcbiAgICAgICAgICAgIG1hbmFnZUF0dHIodGhpcy5yb290LCBwYXJhbXMuZGlyZWN0aW9uLCAnb2ZmJyk7XG4gICAgICAgICAgICAkKHRoaXMuc2Nyb2xsZXIpLmNzcyh0aGlzLm9yaWdpbi5jcm9zc1NpemUsICcnKTtcbiAgICAgICAgICAgIHRoaXMuYmFyT24odHJ1ZSk7XG4gICAgICAgICAgICBmaXJlLmNhbGwodGhpcywgJ2Rpc3Bvc2UnKTtcbiAgICAgICAgfSxcblxuICAgICAgICBvbjogZnVuY3Rpb24oZXZlbnROYW1lLCBmdW5jLCBhcmcpIHtcbiAgICAgICAgICAgIHZhciBuYW1lcyA9IGV2ZW50TmFtZS5zcGxpdCgnICcpO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCA7IGkgPCBuYW1lcy5sZW5ndGggOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAobmFtZXNbaV0gPT0gJ2luaXQnKSB7XG4gICAgICAgICAgICAgICAgICAgIGZ1bmMuY2FsbCh0aGlzLCBhcmcpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzW25hbWVzW2ldXSA9IHRoaXMuZXZlbnRzW25hbWVzW2ldXSB8fCBbXTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLmV2ZW50c1tuYW1lc1tpXV0ucHVzaChmdW5jdGlvbih1c2VyQXJnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jLmNhbGwodGhpcywgdXNlckFyZyB8fCBhcmcpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgYmFyb24uZm4uY29uc3RydWN0b3IucHJvdG90eXBlID0gYmFyb24uZm47XG4gICAgaXRlbS5wcm90b3R5cGUuY29uc3RydWN0b3IucHJvdG90eXBlID0gaXRlbS5wcm90b3R5cGU7XG5cbiAgICAvLyBVc2Ugd2hlbiB5b3UgbmVlZCBcImJhcm9uXCIgZ2xvYmFsIHZhciBmb3IgYW5vdGhlciBwdXJwb3Nlc1xuICAgIGJhcm9uLm5vQ29uZmxpY3QgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgd2luZG93LmJhcm9uID0gX2Jhcm9uOyAvLyBSZXN0b3Jpbmcgb3JpZ2luYWwgdmFsdWUgb2YgXCJiYXJvblwiIGdsb2JhbCB2YXJcbiAgICAgICAgcmV0dXJuIGJhcm9uO1xuICAgIH07XG5cbiAgICBiYXJvbi52ZXJzaW9uID0gJzAuNi42JztcblxuICAgIGlmICgkICYmICQuZm4pIHsgLy8gQWRkaW5nIGJhcm9uIHRvIGpRdWVyeSBhcyBwbHVnaW5cbiAgICAgICAgJC5mbi5iYXJvbiA9IGJhcm9uO1xuICAgIH1cbiAgICB3aW5kb3cuYmFyb24gPSBiYXJvbjsgLy8gVXNlIG5vQ29uZmxpY3QgbWV0aG9kIGlmIHlvdSBuZWVkIHdpbmRvdy5iYXJvbiB2YXIgZm9yIGFub3RoZXIgcHVycG9zZXNcblxuICAgIHZhciBmaXggPSBmdW5jdGlvbih1c2VyUGFyYW1zKSB7XG4gICAgICAgIHZhciBlbGVtZW50cywgdmlld1BvcnRTaXplLFxuICAgICAgICAgICAgcGFyYW1zID0geyAvLyBEZWZhdWx0IHBhcmFtc1xuICAgICAgICAgICAgICAgIG91dHNpZGU6ICcnLFxuICAgICAgICAgICAgICAgIGJlZm9yZTogJycsXG4gICAgICAgICAgICAgICAgYWZ0ZXI6ICcnLFxuICAgICAgICAgICAgICAgIHBhc3Q6ICcnLFxuICAgICAgICAgICAgICAgIGZ1dHVyZTogJycsXG4gICAgICAgICAgICAgICAgcmFkaXVzOiAwLFxuICAgICAgICAgICAgICAgIG1pblZpZXc6IDBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0b3BGaXhIZWlnaHRzID0gW10sIC8vIGlubGluZSBzdHlsZSBmb3IgZWxlbWVudFxuICAgICAgICAgICAgdG9wUmVhbEhlaWdodHMgPSBbXSwgLy8gcmVhbCBvZmZzZXQgcG9zaXRpb24gd2hlbiBub3QgZml4ZWRcbiAgICAgICAgICAgIGhlYWRlclRvcHMgPSBbXSxcbiAgICAgICAgICAgIHNjcm9sbGVyID0gdGhpcy5zY3JvbGxlcixcbiAgICAgICAgICAgIGV2ZW50TWFuYWdlciA9IHRoaXMuZXZlbnQsXG4gICAgICAgICAgICAkID0gdGhpcy4kLFxuICAgICAgICAgICAgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgZnVuY3Rpb24gZml4RWxlbWVudChpLCBwb3MpIHtcbiAgICAgICAgICAgIGlmICh2aWV3UG9ydFNpemUgPCAocGFyYW1zLm1pblZpZXcgfHwgMCkpIHsgLy8gTm8gaGVhZGVycyBmaXhpbmcgd2hlbiBubyBlbm91Z2h0IHNwYWNlIGZvciB2aWV3cG9ydFxuICAgICAgICAgICAgICAgIHBvcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHBvcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcG9zICs9ICdweCc7XG4gICAgICAgICAgICAgICAgdGhpcy4kKGVsZW1lbnRzW2ldKS5jc3ModGhpcy5vcmlnaW4ucG9zLCBwb3MpLmFkZENsYXNzKHBhcmFtcy5vdXRzaWRlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy4kKGVsZW1lbnRzW2ldKS5jc3ModGhpcy5vcmlnaW4ucG9zLCAnJykucmVtb3ZlQ2xhc3MocGFyYW1zLm91dHNpZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gYnViYmxlV2hlZWwoZSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ1doZWVsRXZlbnQnKTsgLy8gaSAtIGZvciBleHRyYSBieXRlXG4gICAgICAgICAgICAgICAgLy8gZXZ0LmluaXRXZWJLaXRXaGVlbEV2ZW50KGRlbHRhWCwgZGVsdGFZLCB3aW5kb3csIHNjcmVlblgsIHNjcmVlblksIGNsaWVudFgsIGNsaWVudFksIGN0cmxLZXksIGFsdEtleSwgc2hpZnRLZXksIG1ldGFLZXkpO1xuICAgICAgICAgICAgICAgIGkuaW5pdFdlYktpdFdoZWVsRXZlbnQoZS5vcmlnaW5hbEV2ZW50LndoZWVsRGVsdGFYLCBlLm9yaWdpbmFsRXZlbnQud2hlZWxEZWx0YVkpO1xuICAgICAgICAgICAgICAgIHNjcm9sbGVyLmRpc3BhdGNoRXZlbnQoaSk7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGluaXQoX3BhcmFtcykge1xuICAgICAgICAgICAgdmFyIHBvcztcblxuICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIF9wYXJhbXMpIHtcbiAgICAgICAgICAgICAgICBwYXJhbXNba2V5XSA9IF9wYXJhbXNba2V5XTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZWxlbWVudHMgPSB0aGlzLiQocGFyYW1zLmVsZW1lbnRzLCB0aGlzLnNjcm9sbGVyKTtcblxuICAgICAgICAgICAgaWYgKGVsZW1lbnRzKSB7XG4gICAgICAgICAgICAgICAgdmlld1BvcnRTaXplID0gdGhpcy5zY3JvbGxlclt0aGlzLm9yaWdpbi5jbGllbnRdO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwIDsgaSA8IGVsZW1lbnRzLmxlbmd0aCA7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAvLyBWYXJpYWJsZSBoZWFkZXIgaGVpZ2h0c1xuICAgICAgICAgICAgICAgICAgICBwb3MgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgcG9zW3RoaXMub3JpZ2luLnNpemVdID0gZWxlbWVudHNbaV1bdGhpcy5vcmlnaW4ub2Zmc2V0XTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW1lbnRzW2ldLnBhcmVudE5vZGUgIT09IHRoaXMuc2Nyb2xsZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJChlbGVtZW50c1tpXS5wYXJlbnROb2RlKS5jc3MocG9zKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBwb3MgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgcG9zW3RoaXMub3JpZ2luLmNyb3NzU2l6ZV0gPSBlbGVtZW50c1tpXS5wYXJlbnROb2RlW3RoaXMub3JpZ2luLmNyb3NzQ2xpZW50XTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kKGVsZW1lbnRzW2ldKS5jc3MocG9zKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBCZXR3ZWVuIGZpeGVkIGhlYWRlcnNcbiAgICAgICAgICAgICAgICAgICAgdmlld1BvcnRTaXplIC09IGVsZW1lbnRzW2ldW3RoaXMub3JpZ2luLm9mZnNldF07XG5cbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyVG9wc1tpXSA9IGVsZW1lbnRzW2ldLnBhcmVudE5vZGVbdGhpcy5vcmlnaW4ub2Zmc2V0UG9zXTsgLy8gTm8gcGFkZGluZ3MgZm9yIHBhcmVudE5vZGVcblxuICAgICAgICAgICAgICAgICAgICAvLyBTdW1tYXJ5IGVsZW1lbnRzIGhlaWdodCBhYm92ZSBjdXJyZW50XG4gICAgICAgICAgICAgICAgICAgIHRvcEZpeEhlaWdodHNbaV0gPSAodG9wRml4SGVpZ2h0c1tpIC0gMV0gfHwgMCk7IC8vIE5vdCB6ZXJvIGJlY2F1c2Ugb2YgbmVnYXRpdmUgbWFyZ2luc1xuICAgICAgICAgICAgICAgICAgICB0b3BSZWFsSGVpZ2h0c1tpXSA9ICh0b3BSZWFsSGVpZ2h0c1tpIC0gMV0gfHwgTWF0aC5taW4oaGVhZGVyVG9wc1tpXSwgMCkpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChlbGVtZW50c1tpIC0gMV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvcEZpeEhlaWdodHNbaV0gKz0gZWxlbWVudHNbaSAtIDFdW3RoaXMub3JpZ2luLm9mZnNldF07XG4gICAgICAgICAgICAgICAgICAgICAgICB0b3BSZWFsSGVpZ2h0c1tpXSArPSBlbGVtZW50c1tpIC0gMV1bdGhpcy5vcmlnaW4ub2Zmc2V0XTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmICggIShpID09IDAgJiYgaGVhZGVyVG9wc1tpXSA9PSAwKS8qICYmIGZvcmNlICovKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmV2ZW50KGVsZW1lbnRzW2ldLCAnbW91c2V3aGVlbCcsIGJ1YmJsZVdoZWVsLCAnb2ZmJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmV2ZW50KGVsZW1lbnRzW2ldLCAnbW91c2V3aGVlbCcsIGJ1YmJsZVdoZWVsKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChwYXJhbXMubGltaXRlciAmJiBlbGVtZW50c1swXSkgeyAvLyBCb3R0b20gZWRnZSBvZiBmaXJzdCBoZWFkZXIgYXMgdG9wIGxpbWl0IGZvciB0cmFja1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy50cmFjayAmJiB0aGlzLnRyYWNrICE9IHRoaXMuc2Nyb2xsZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvcyA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgcG9zW3RoaXMub3JpZ2luLnBvc10gPSBlbGVtZW50c1swXS5wYXJlbnROb2RlW3RoaXMub3JpZ2luLm9mZnNldF07XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiQodGhpcy50cmFjaykuY3NzKHBvcyk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJhclRvcExpbWl0ID0gZWxlbWVudHNbMF0ucGFyZW50Tm9kZVt0aGlzLm9yaWdpbi5vZmZzZXRdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuYmFyVG9wTGltaXQgPSBlbGVtZW50c1swXS5wYXJlbnROb2RlW3RoaXMub3JpZ2luLm9mZnNldF07XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2Nyb2xsKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHBhcmFtcy5saW1pdGVyID09PSBmYWxzZSkgeyAvLyB1bmRlZmluZWQgKGluIHNlY29uZCBmaXggaW5zdGFuY2UpIHNob3VsZCBoYXZlIG5vIGluZmx1ZW5jZSBvbiBiYXIgbGltaXRcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5iYXJUb3BMaW1pdCA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgZXZlbnQgPSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudDogZWxlbWVudHMsXG5cbiAgICAgICAgICAgICAgICBoYW5kbGVyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmVudCA9ICQodGhpcylbMF0ucGFyZW50Tm9kZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvcCA9IHBhcmVudC5vZmZzZXRUb3AsXG4gICAgICAgICAgICAgICAgICAgICAgICBudW07XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gZmluZGluZyBudW0gLT4gZWxlbWVudHNbbnVtXSA9PT0gdGhpc1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCA7IGkgPCBlbGVtZW50cy5sZW5ndGggOyBpKysgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbWVudHNbaV0gPT09IHRoaXMpIG51bSA9IGk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB2YXIgcG9zID0gdG9wIC0gdG9wRml4SGVpZ2h0c1tudW1dO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJhbXMuc2Nyb2xsKSB7IC8vIFVzZXIgZGVmaW5lZCBjYWxsYmFja1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1zLnNjcm9sbCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeDE6IHNlbGYuc2Nyb2xsZXIuc2Nyb2xsVG9wLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHgyOiBwb3NcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5zY3JvbGxlci5zY3JvbGxUb3AgPSBwb3M7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgdHlwZTogJ2NsaWNrJ1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgaWYgKHBhcmFtcy5jbGlja2FibGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9ldmVudEhhbmRsZXJzLnB1c2goZXZlbnQpOyAvLyBGb3IgYXV0by1kaXNwb3NlXG4gICAgICAgICAgICAgICAgZXZlbnRNYW5hZ2VyKGV2ZW50LmVsZW1lbnQsIGV2ZW50LnR5cGUsIGV2ZW50LmhhbmRsZXIsICdvZmYnKTtcbiAgICAgICAgICAgICAgICBldmVudE1hbmFnZXIoZXZlbnQuZWxlbWVudCwgZXZlbnQudHlwZSwgZXZlbnQuaGFuZGxlciwgJ29uJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLm9uKCdpbml0JywgaW5pdCwgdXNlclBhcmFtcyk7XG5cbiAgICAgICAgdGhpcy5vbignaW5pdCBzY3JvbGwnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBmaXhTdGF0ZSwgaFRvcCxcbiAgICAgICAgICAgICAgICBmaXhGbGFnID0gW107IC8vIDEgLSBwYXN0LCAyIC0gZnV0dXJlLCAzIC0gY3VycmVudCAobm90IGZpeGVkKVxuXG4gICAgICAgICAgICBpZiAoZWxlbWVudHMpIHtcbiAgICAgICAgICAgICAgICB2YXIgY2hhbmdlO1xuXG4gICAgICAgICAgICAgICAgLy8gZml4RmxhZyB1cGRhdGVcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCA7IGkgPCBlbGVtZW50cy5sZW5ndGggOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgZml4U3RhdGUgPSAwO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaGVhZGVyVG9wc1tpXSAtIHRoaXMucG9zKCkgPCB0b3BSZWFsSGVpZ2h0c1tpXSArIHBhcmFtcy5yYWRpdXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEhlYWRlciB0cnlpbmcgdG8gZ28gdXBcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpeFN0YXRlID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhUb3AgPSB0b3BGaXhIZWlnaHRzW2ldO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGhlYWRlclRvcHNbaV0gLSB0aGlzLnBvcygpID4gdG9wUmVhbEhlaWdodHNbaV0gKyB2aWV3UG9ydFNpemUgLSBwYXJhbXMucmFkaXVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBIZWFkZXIgdHJ5aW5nIHRvIGdvIGRvd25cbiAgICAgICAgICAgICAgICAgICAgICAgIGZpeFN0YXRlID0gMjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhUb3AgPSB0b3BGaXhIZWlnaHRzW2ldICsgdmlld1BvcnRTaXplO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSGVhZGVyIGluIHZpZXdwb3J0XG4gICAgICAgICAgICAgICAgICAgICAgICBmaXhTdGF0ZSA9IDM7XG4gICAgICAgICAgICAgICAgICAgICAgICBoVG9wID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChmaXhTdGF0ZSAhPSBmaXhGbGFnW2ldKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaXhFbGVtZW50LmNhbGwodGhpcywgaSwgaFRvcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaXhGbGFnW2ldID0gZml4U3RhdGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gQWRkaW5nIHBvc2l0aW9uaW5nIGNsYXNzZXMgKG9uIGxhc3QgdG9wIGFuZCBmaXJzdCBib3R0b20gaGVhZGVyKVxuICAgICAgICAgICAgICAgIGlmIChjaGFuZ2UpIHsgLy8gQXQgbGVhdHMgb25lIGNoYW5nZSBpbiBlbGVtZW50cyBmbGFnIHN0cnVjdHVyZSBvY2N1cmVkXG4gICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDAgOyBpIDwgZWxlbWVudHMubGVuZ3RoIDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZml4RmxhZ1tpXSA9PSAxICYmIHBhcmFtcy5wYXN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kKGVsZW1lbnRzW2ldKS5hZGRDbGFzcyhwYXJhbXMucGFzdCkucmVtb3ZlQ2xhc3MocGFyYW1zLmZ1dHVyZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaXhGbGFnW2ldID09IDIgJiYgcGFyYW1zLmZ1dHVyZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJChlbGVtZW50c1tpXSkuYWRkQ2xhc3MocGFyYW1zLmZ1dHVyZSkucmVtb3ZlQ2xhc3MocGFyYW1zLnBhc3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZml4RmxhZ1tpXSA9PSAzICYmIChwYXJhbXMuZnV0dXJlIHx8IHBhcmFtcy5wYXN0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJChlbGVtZW50c1tpXSkucmVtb3ZlQ2xhc3MocGFyYW1zLnBhc3QpLnJlbW92ZUNsYXNzKHBhcmFtcy5mdXR1cmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZml4RmxhZ1tpXSAhPSBmaXhGbGFnW2kgKyAxXSAmJiBmaXhGbGFnW2ldID09IDEgJiYgcGFyYW1zLmJlZm9yZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJChlbGVtZW50c1tpXSkuYWRkQ2xhc3MocGFyYW1zLmJlZm9yZSkucmVtb3ZlQ2xhc3MocGFyYW1zLmFmdGVyKTsgLy8gTGFzdCB0b3AgZml4ZWQgaGVhZGVyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGZpeEZsYWdbaV0gIT0gZml4RmxhZ1tpIC0gMV0gJiYgZml4RmxhZ1tpXSA9PSAyICYmIHBhcmFtcy5hZnRlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJChlbGVtZW50c1tpXSkuYWRkQ2xhc3MocGFyYW1zLmFmdGVyKS5yZW1vdmVDbGFzcyhwYXJhbXMuYmVmb3JlKTsgLy8gRmlyc3QgYm90dG9tIGZpeGVkIGhlYWRlclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiQoZWxlbWVudHNbaV0pLnJlbW92ZUNsYXNzKHBhcmFtcy5iZWZvcmUpLnJlbW92ZUNsYXNzKHBhcmFtcy5hZnRlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMub24oJ3Jlc2l6ZSB1cGQnLCBmdW5jdGlvbih1cGRQYXJhbXMpIHtcbiAgICAgICAgICAgIGluaXQuY2FsbCh0aGlzLCB1cGRQYXJhbXMgJiYgdXBkUGFyYW1zLmZpeCk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBiYXJvbi5mbi5maXggPSBmdW5jdGlvbihwYXJhbXMpIHtcbiAgICAgICAgdmFyIGkgPSAwO1xuXG4gICAgICAgIHdoaWxlICh0aGlzW2ldKSB7XG4gICAgICAgICAgICBmaXguY2FsbCh0aGlzW2ldLCBwYXJhbXMpO1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIHZhciBjb250cm9scyA9IGZ1bmN0aW9uKHBhcmFtcykge1xuICAgICAgICB2YXIgZm9yd2FyZCwgYmFja3dhcmQsIHRyYWNrLCBzY3JlZW4sXG4gICAgICAgICAgICBzZWxmID0gdGhpczsgLy8gQUFBQUFBISEhISExMVxuXG4gICAgICAgIHNjcmVlbiA9IHBhcmFtcy5zY3JlZW4gfHwgMC45O1xuXG4gICAgICAgIGlmIChwYXJhbXMuZm9yd2FyZCkge1xuICAgICAgICAgICAgZm9yd2FyZCA9IHRoaXMuJChwYXJhbXMuZm9yd2FyZCwgdGhpcy5jbGlwcGVyKTtcblxuICAgICAgICAgICAgdGhpcy5ldmVudChmb3J3YXJkLCAnY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB2YXIgeSA9IHNlbGYucG9zKCkgLSBwYXJhbXMuZGVsdGEgfHwgMzA7XG5cbiAgICAgICAgICAgICAgICBzZWxmLnBvcyh5KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhcmFtcy5iYWNrd2FyZCkge1xuICAgICAgICAgICAgYmFja3dhcmQgPSB0aGlzLiQocGFyYW1zLmJhY2t3YXJkLCB0aGlzLmNsaXBwZXIpO1xuXG4gICAgICAgICAgICB0aGlzLmV2ZW50KGJhY2t3YXJkLCAnY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB2YXIgeSA9IHNlbGYucG9zKCkgKyBwYXJhbXMuZGVsdGEgfHwgMzA7XG5cbiAgICAgICAgICAgICAgICBzZWxmLnBvcyh5KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhcmFtcy50cmFjaykge1xuICAgICAgICAgICAgaWYgKHBhcmFtcy50cmFjayA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHRyYWNrID0gdGhpcy50cmFjaztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdHJhY2sgPSB0aGlzLiQocGFyYW1zLnRyYWNrLCB0aGlzLmNsaXBwZXIpWzBdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodHJhY2spIHtcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50KHRyYWNrLCAnbW91c2Vkb3duJywgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgeCA9IGVbJ29mZnNldCcgKyBzZWxmLm9yaWdpbi54XSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHhCYXIgPSBzZWxmLmJhcltzZWxmLm9yaWdpbi5vZmZzZXRQb3NdLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2lnbiA9IDA7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHggPCB4QmFyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaWduID0gLTE7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoeCA+IHhCYXIgKyBzZWxmLmJhcltzZWxmLm9yaWdpbi5vZmZzZXRdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaWduID0gMTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHZhciB5ID0gc2VsZi5wb3MoKSArIHNpZ24gKiBzY3JlZW4gKiBzZWxmLnNjcm9sbGVyW3NlbGYub3JpZ2luLmNsaWVudF07XG4gICAgICAgICAgICAgICAgICAgIHNlbGYucG9zKHkpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICB9O1xuXG4gICAgYmFyb24uZm4uY29udHJvbHMgPSBmdW5jdGlvbihwYXJhbXMpIHtcbiAgICAgICAgdmFyIGkgPSAwO1xuXG4gICAgICAgIHdoaWxlICh0aGlzW2ldKSB7XG4gICAgICAgICAgICBjb250cm9scy5jYWxsKHRoaXNbaV0sIHBhcmFtcyk7XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgdmFyIHB1bGwgPSBmdW5jdGlvbihwYXJhbXMpIHtcbiAgICAgICAgdmFyIGJsb2NrID0gdGhpcy4kKHBhcmFtcy5ibG9jayksXG4gICAgICAgICAgICBzaXplID0gcGFyYW1zLnNpemUgfHwgdGhpcy5vcmlnaW4uc2l6ZSxcbiAgICAgICAgICAgIGxpbWl0ID0gcGFyYW1zLmxpbWl0IHx8IDgwLFxuICAgICAgICAgICAgb25FeHBhbmQgPSBwYXJhbXMub25FeHBhbmQsXG4gICAgICAgICAgICBlbGVtZW50cyA9IHBhcmFtcy5lbGVtZW50cyB8fCBbXSxcbiAgICAgICAgICAgIGluUHJvZ3Jlc3MgPSBwYXJhbXMuaW5Qcm9ncmVzcyB8fCAnJyxcbiAgICAgICAgICAgIHNlbGYgPSB0aGlzLFxuICAgICAgICAgICAgX2luc2lzdGVuY2UgPSAwLFxuICAgICAgICAgICAgX3plcm9YQ291bnQgPSAwLFxuICAgICAgICAgICAgX2ludGVydmFsLFxuICAgICAgICAgICAgX3RpbWVyLFxuICAgICAgICAgICAgX3ggPSAwLFxuICAgICAgICAgICAgX29uRXhwYW5kQ2FsbGVkLFxuICAgICAgICAgICAgX3dhaXRpbmcgPSBwYXJhbXMud2FpdGluZyB8fCA1MDAsXG4gICAgICAgICAgICBfb247XG5cbiAgICAgICAgZnVuY3Rpb24gZ2V0U2l6ZSgpIHtcbiAgICAgICAgICAgIHJldHVybiBzZWxmLnNjcm9sbGVyW3NlbGYub3JpZ2luLnNjcm9sbF0gKyBzZWxmLnNjcm9sbGVyW3NlbGYub3JpZ2luLm9mZnNldF07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTY3JvbGxlciBjb250ZW50IGhlaWdodFxuICAgICAgICBmdW5jdGlvbiBnZXRDb250ZW50U2l6ZSgpIHtcbiAgICAgICAgICAgIHJldHVybiBzZWxmLnNjcm9sbGVyW3NlbGYub3JpZ2luLnNjcm9sbFNpemVdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2Nyb2xsZXIgaGVpZ2h0XG4gICAgICAgIGZ1bmN0aW9uIGdldFNjcm9sbGVyU2l6ZSgpIHtcbiAgICAgICAgICAgIHJldHVybiBzZWxmLnNjcm9sbGVyW3NlbGYub3JpZ2luLmNsaWVudF07XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBzdGVwKHgsIGZvcmNlKSB7XG4gICAgICAgICAgICB2YXIgayA9IHggKiAwLjAwMDU7XG5cbiAgICAgICAgICAgIHJldHVybiBNYXRoLmZsb29yKGZvcmNlIC0gayAqICh4ICsgNTUwKSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiB0b2dnbGUob24pIHtcbiAgICAgICAgICAgIF9vbiA9IG9uO1xuXG4gICAgICAgICAgICBpZiAob24pIHtcbiAgICAgICAgICAgICAgICB1cGRhdGUoKTsgLy8gRmlyc3QgdGltZSB3aXRoIG5vIGRlbGF5XG4gICAgICAgICAgICAgICAgX2ludGVydmFsID0gc2V0SW50ZXJ2YWwodXBkYXRlLCAyMDApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKF9pbnRlcnZhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiB1cGRhdGUoKSB7XG4gICAgICAgICAgICB2YXIgcG9zID0ge30sXG4gICAgICAgICAgICAgICAgaGVpZ2h0ID0gZ2V0U2l6ZSgpLFxuICAgICAgICAgICAgICAgIHNjcm9sbEhlaWdodCA9IGdldENvbnRlbnRTaXplKCksXG4gICAgICAgICAgICAgICAgZHgsXG4gICAgICAgICAgICAgICAgb3A0LFxuICAgICAgICAgICAgICAgIHNjcm9sbEluUHJvZ3Jlc3MgPSBfaW5zaXN0ZW5jZSA9PSAxO1xuXG4gICAgICAgICAgICBvcDQgPSAwOyAvLyDQktC+0LfQstGA0LDRidCw0Y7RidCw0Y8g0YHQuNC70LBcbiAgICAgICAgICAgIGlmIChfaW5zaXN0ZW5jZSA+IDApIHtcbiAgICAgICAgICAgICAgICBvcDQgPSA0MDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vaWYgKF9pbnNpc3RlbmNlID4gLTEpIHtcbiAgICAgICAgICAgICAgICBkeCA9IHN0ZXAoX3gsIG9wNCk7XG4gICAgICAgICAgICAgICAgaWYgKGhlaWdodCA+PSBzY3JvbGxIZWlnaHQgLSBfeCAmJiBfaW5zaXN0ZW5jZSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzY3JvbGxJblByb2dyZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfeCArPSBkeDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIF94ID0gMDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoX3ggPCAwKSBfeCA9IDA7XG5cbiAgICAgICAgICAgICAgICBwb3Nbc2l6ZV0gPSBfeCArICdweCc7XG4gICAgICAgICAgICAgICAgaWYgKGdldFNjcm9sbGVyU2l6ZSgpIDw9IGdldENvbnRlbnRTaXplKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi4kKGJsb2NrKS5jc3MocG9zKTtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAgOyBpIDwgZWxlbWVudHMubGVuZ3RoIDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLiQoZWxlbWVudHNbaV0uc2VsZikuY3NzKGVsZW1lbnRzW2ldLnByb3BlcnR5LCBNYXRoLm1pbihfeCAvIGxpbWl0ICogMTAwLCAxMDApICsgJyUnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChpblByb2dyZXNzICYmIF94KSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuJChzZWxmLnJvb3QpLmFkZENsYXNzKGluUHJvZ3Jlc3MpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChfeCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJhbXMub25Db2xsYXBzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1zLm9uQ29sbGFwc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIF9pbnNpc3RlbmNlID0gMDtcbiAgICAgICAgICAgICAgICBfdGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBfaW5zaXN0ZW5jZSA9IC0xO1xuICAgICAgICAgICAgICAgIH0sIF93YWl0aW5nKTtcbiAgICAgICAgICAgIC8vfVxuXG4gICAgICAgICAgICBpZiAob25FeHBhbmQgJiYgX3ggPiBsaW1pdCAmJiAhX29uRXhwYW5kQ2FsbGVkKSB7XG4gICAgICAgICAgICAgICAgb25FeHBhbmQoKTtcbiAgICAgICAgICAgICAgICBfb25FeHBhbmRDYWxsZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoX3ggPT0gMCkge1xuICAgICAgICAgICAgICAgIF96ZXJvWENvdW50Kys7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIF96ZXJvWENvdW50ID0gMDtcblxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKF96ZXJvWENvdW50ID4gMSkge1xuICAgICAgICAgICAgICAgIHRvZ2dsZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgX29uRXhwYW5kQ2FsbGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaWYgKGluUHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi4kKHNlbGYucm9vdCkucmVtb3ZlQ2xhc3MoaW5Qcm9ncmVzcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5vbignaW5pdCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdG9nZ2xlKHRydWUpO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLm9uKCdkaXNwb3NlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0b2dnbGUoZmFsc2UpO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmV2ZW50KHRoaXMuc2Nyb2xsZXIsICdtb3VzZXdoZWVsIERPTU1vdXNlU2Nyb2xsJywgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgdmFyIGRvd24gPSBlLndoZWVsRGVsdGEgPCAwIHx8IChlLm9yaWdpbmFsRXZlbnQgJiYgZS5vcmlnaW5hbEV2ZW50LndoZWVsRGVsdGEgPCAwKSB8fCBlLmRldGFpbCA+IDA7XG5cbiAgICAgICAgICAgIGlmIChkb3duKSB7XG4gICAgICAgICAgICAgICAgX2luc2lzdGVuY2UgPSAxO1xuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChfdGltZXIpO1xuICAgICAgICAgICAgICAgIGlmICghX29uICYmIGdldFNpemUoKSA+PSBnZXRDb250ZW50U2l6ZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRvZ2dsZSh0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAgZWxzZSB7XG4gICAgICAgICAgICAvLyAgICAgdG9nZ2xlKGZhbHNlKTtcbiAgICAgICAgICAgIC8vIH1cbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIGJhcm9uLmZuLnB1bGwgPSBmdW5jdGlvbihwYXJhbXMpIHtcbiAgICAgICAgdmFyIGkgPSAwO1xuXG4gICAgICAgIHdoaWxlICh0aGlzW2ldKSB7XG4gICAgICAgICAgICBwdWxsLmNhbGwodGhpc1tpXSwgcGFyYW1zKTtcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG59KSh3aW5kb3cpO1xuIl19\n","const DG = require('2gis-maps')\r\n\r\nconst controlPanelLoadingText = document.querySelector('.control-panel-box__loading-text')\r\nconst controlPanelSwitcherButton = document.querySelector('.control-panel-box__switcher-button')\r\nconst controlPanelSelect = document.querySelector('.control-panel-box__form-select')\r\nconst controlPanelLogo = document.querySelector('.control-panel-box__logo')\r\nconst mapBoxYandex = document.getElementById('map-1')\r\nconst mapBox2gis = document.getElementById('map-2')\r\n\r\nlet dataM24\r\nlet displaySwitcher = false\r\n\r\ncontrolPanelSwitcherButton.addEventListener('click', () => {\r\n    if (!displaySwitcher) {\r\n        mapBox2gis.style.visibility = 'visible'\r\n        controlPanelSelect.setAttribute('disabled', true)\r\n        controlPanelSelect.style.cursor = 'not-allowed'\r\n        mapBoxYandex.style.display = 'none'\r\n        mapBox2gis.style.display = 'block'\r\n        controlPanelLogo.src = 'https://upload.wikimedia.org/wikipedia/commons/c/c1/2GIS_logo.svg'\r\n        displaySwitcher = true\r\n        return;\r\n    } else if (displaySwitcher) {\r\n        mapBox2gis.style.visibility = 'hidden'\r\n        controlPanelSelect.removeAttribute('disabled')\r\n        controlPanelSelect.style.cursor = ''\r\n        mapBoxYandex.style.display = 'block'\r\n        mapBox2gis.style.display = 'none'\r\n        controlPanelLogo.src = 'https://upload.wikimedia.org/wikipedia/commons/9/91/Yandex_logo_en.svg'\r\n        displaySwitcher = false\r\n    }\r\n})\r\n\r\nymaps.ready(init)\r\n\r\nfunction init() {\r\n\r\n    let myMap = new ymaps.Map(\"map-1\", {\r\n        center: [55.76, 37.64],\r\n        zoom: 12\r\n    })\r\n\r\n\r\n    fetch('https://raw.githubusercontent.com/ProUnebit/Reminder_ToMe_Reminder/master/src/data.json')\r\n        .then(res => {\r\n            controlPanelLoadingText.textContent = 'Обработка данных... ⏳'\r\n            return res.json()\r\n        })\r\n        .then(data => {\r\n            dataM24 = data;\r\n            showMapPointsYandex(data, 'orange')\r\n            return data\r\n        })\r\n        .then(data => {\r\n            controlPanelLoadingText.textContent = 'Yandex карта загружена ✔️'\r\n            showMapPoints2gis(data)\r\n        })\r\n        .catch(err => console.error(err));\r\n\r\n\r\n    const showMapPointsYandex = (dataM24, color) => {\r\n\r\n        let myGeoObjects = new ymaps.GeoObjectCollection({}, {\r\n            preset: `islands#${color}CircleIcon`,\r\n            strokeWidth: 4,\r\n            geodesic: true\r\n        });\r\n\r\n        dataM24.map(district => district.points.map(point => {\r\n            myGeoObjects.add(new ymaps.Placemark([point.address.lon, point.address.lat], {\r\n                hintContent: `<div class=\"hintContent\">\r\n                <span>${district.header}</span>\r\n                </div>`,\r\n                balloonContent: `<div class=\"balloonContent\">\r\n                <p>${district.header}</p>\r\n                <p>${point.address.address}</p>\r\n                </div>`\r\n            }))\r\n        }))\r\n\r\n        myMap.geoObjects.add(myGeoObjects)\r\n    }\r\n\r\n    const showMapPoints2gis = dataM24 => {\r\n\r\n        DG.then(function() {\r\n\r\n            let map,\r\n                markers = DG.featureGroup(),\r\n                coordinates = [],\r\n                myIcon = DG.icon({\r\n                    iconUrl: 'https://mbtskoudsalg.com/images/map-marker-icons-png-3.png',\r\n                    iconSize: [26, 30]\r\n                })\r\n\r\n            map = DG.map('map-2', {\r\n                center: [55.76, 37.64],\r\n                zoom: 12,\r\n                skin: 'light'\r\n            })\r\n\r\n\r\n            dataM24.map(district => {\r\n                for (let i = 0; i < district.points.length; i++) {\r\n                    coordinates[0] = district.points[i].address.lon\r\n                    coordinates[1] = district.points[i].address.lat\r\n                    DG.marker(coordinates, {\r\n                            icon: myIcon,\r\n                            label: `\r\n                     <div class=\"hintContent\">\r\n                        <span style=\"font-size: 17px\">${district.header}</span>\r\n                     </div>`\r\n                        })\r\n                        .addTo(markers)\r\n                        .bindPopup(`\r\n                        <di class=\"balloonContent\">\r\n                        <p style=\"margin-bottom: 5px;\">${district.header}</p>\r\n                        <p style=\"color: rgba(248, 194, 85, 1)\">${district.points[i].address.address}</p>\r\n                        </di>`)\r\n                }\r\n            })\r\n\r\n            markers.addTo(map)\r\n\r\n            setTimeout(() => controlPanelLoadingText.textContent = '2GIS карта загружена ✔️', 1200)\r\n            setTimeout(() => controlPanelLoadingText.textContent = 'Карты готовы 👌', 1800)\r\n        });\r\n    }\r\n\r\n    controlPanelSelect.addEventListener('change', e => {\r\n        if (e.target.value === 'Все') {\r\n            myMap.geoObjects.removeAll()\r\n            showMapPointsYandex(dataM24, 'orange')\r\n        } else {\r\n            let separatedTargetDistrict = dataM24.filter(district => district.header === e.target.value)\r\n            myMap.geoObjects.removeAll()\r\n            showMapPointsYandex(separatedTargetDistrict, 'violet')\r\n        }\r\n    })\r\n}"]}